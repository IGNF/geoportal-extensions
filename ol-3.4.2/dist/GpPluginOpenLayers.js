/*!
 * @brief French Geoportal Extension for OpenLayers
 *
 * This software is released under the licence CeCILL-B (Free BSD compatible)
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-fr.txt
 * @see http://www.cecill.info/
 *
 * @copyright copyright (c) IGN 
 * @license CeCILL-B
 * @author IGN
 * @version 3.4.2
 * @date 17/04/2024
 *
 */
/*!
 * @overview  ol-mapbox-style - Use Mapbox Style objects with OpenLayers
 * @copyright Copyright (c) 2016 openlayers
 * @license   BSD 2-Clause "Simplified" License
 *            See https://raw.githubusercontent.com/openlayers/ol-mapbox-style/master/LICENSE
 * @version   6.7.0
 */
/*!
 * Sortable -- JavaScript library for reorderable drag-and-drop lists on modern
 * browsers and touch devices. No jQuery required. Supports Meteor, AngularJS,
 * React, Polymer, Vue, Knockout and any CSS library, e.g. Bootstrap.
 *
 * Released under MIT LICENSE
 *
 * Copyright Lebedev Konstantin <ibnRubaXa@gmail.com>
 * https://github.com/SortableJS/Sortable
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * @version 1.14.0
 */
/*!
 * @overview  Fetch - window.fetch polyfill
 * @copyright Copyright (c) 2014-2016 GitHub, Inc.
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/github/fetch/master/LICENSE
 * @version   3.0.0
 */
/*!
 * @overview  EventBus - Simple JavaScript class for managing events in JavaScript
 * @copyright Copyright (c) 2014 Krasimir Tsonev
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/krasimir/EventBus/master/LICENSE
 * @version   0.2.0
 */
/*!
 * @overview  es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4
 */
/*!
 * @overview   Proj4js - Javascript reprojection library.
 *
 * @authors
 * - Mike Adair madairATdmsolutions.ca
 * - Richard Greenwood richATgreenwoodmap.com
 * - Didier Richard didier.richardATign.fr
 * - Stephen Irons stephen.ironsATclear.net.nz
 * - Olivier Terral oterralATgmail.com
 * - Calvin Metcalf cmetcalfATappgeo.com
 *
 * @copyright Copyright (c) 2014, Mike Adair, Richard Greenwood, Didier Richard, Stephen Irons, Olivier Terral and Calvin Metcalf
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/proj4js/proj4js/master/LICENSE.md
 * @version   2.7.5
 */
var Gp=function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=80)}([function(e,t){e.exports=ol.style},function(e,t){e.exports=ol.proj},function(e,t){e.exports=ol.Observable},function(e,t){e.exports=ol.interaction},function(e,t){e.exports=ol.control.Control},function(e,t){e.exports=ol.layer.Vector},function(e,t,o){(function(t){e.exports=t.eventbus=o(111)}).call(this,o(28))},function(e,t,o){"use strict";(function(e){var o={configuration:{},isConfigLoaded:function(){if(this.configuration&&0!==Object.keys(this.configuration).length)return!0;var t="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:{};return!!(t.Gp&&t.Gp.Config&&t.Gp.Config.layers&&0!==Object.keys(t.Gp.Config.layers).length)&&(this.configuration=t.Gp.Config,!0)}};t.a=o}).call(this,o(28))},function(e,t){e.exports=ol.geom},function(e,t){e.exports=ol.source.Vector},function(e,t){e.exports=ol.Overlay},function(e,t){e.exports=ol.sphere},function(e,t){e.exports=ol.Feature},function(e,t){e.exports=ol.style.Style},function(e,t){e.exports=ol.source.VectorTile},function(e,t){e.exports=ol.style.Fill},function(e,t){e.exports=ol.style.Stroke},function(e,t,o){"use strict";(function(e,n){function i(e){return function(e){if(Array.isArray(e))return I(e)}(e)||r(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){return l(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,i,r,a,s=[],l=!0,c=!1;try{if(r=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;l=!1}else for(;!(l=(n=r.call(o)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||C(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if(Array.isArray(e))return e}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function u(e,t,o){return t&&c(e.prototype,t),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,o){return t=A(t),function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,o||[],A(e).constructor):t.apply(e,o))}function g(e){var t="function"==typeof Map?new Map:void 0;return(g=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return m(e,arguments,A(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),y(o,e)})(e)}function m(e,t,o){if(f())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return o&&y(i,o.prototype),i}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=C(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(s)throw r}}}}function C(e,t){if(e){if("string"==typeof e)return I(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.d(t,"a",(function(){return ye})),o.d(t,"b",(function(){return jo})),o.d(t,"c",(function(){return yn})),o.d(t,"d",(function(){return Po})),o.d(t,"e",(function(){return An})),o.d(t,"f",(function(){return w}));var w={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the fog. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the fog to the color of the sky. A value of zero leaves a sharp transition from fog to sky. Increasing the value blends the color of fog into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0"}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0° is directly above, at zenith, and 90° at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0° is directly above, at zenith, and 90° at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}};var E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function _(e){var t={exports:{}};return e(t,t.exports),t.exports}function S(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}
/*! https://mths.be/punycode v1.3.2 by @mathias */var M=_((function(e,t){!function(o){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,r="object"==b(E)&&E;r.global!==r&&r.window!==r&&r.self!==r||(o=r);var a,s,l=2147483647,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,g=String.fromCharCode;function m(e){throw RangeError(p[e])}function f(e,t){for(var o=e.length,n=[];o--;)n[o]=t(e[o]);return n}function y(e,t){var o=e.split("@"),n="";return o.length>1&&(n=o[0]+"@",e=o[1]),n+f((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,o,n=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(o=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&o)+65536):(n.push(t),i--):n.push(t);return n}function v(e){return f(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,o){var n=0;for(e=o?h(e/700):e>>1,e+=h(e/t);e>455;n+=36)e=h(e/35);return h(n+36*e/(e+38))}function w(e){var t,o,n,i,r,a,s,c,u,d,p,g=[],f=e.length,y=0,A=128,C=72;for((o=e.lastIndexOf("-"))<0&&(o=0),n=0;n<o;++n)e.charCodeAt(n)>=128&&m("not-basic"),g.push(e.charCodeAt(n));for(i=o>0?o+1:0;i<f;){for(r=y,a=1,s=36;i>=f&&m("invalid-input"),((c=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||c>h((l-y)/a))&&m("overflow"),y+=c*a,!(c<(u=s<=C?1:s>=C+26?26:s-C));s+=36)a>h(l/(d=36-u))&&m("overflow"),a*=d;C=I(y-r,t=g.length+1,0==r),h(y/t)>l-A&&m("overflow"),A+=h(y/t),y%=t,g.splice(y++,0,A)}return v(g)}function _(e){var t,o,n,i,r,a,s,c,u,d,p,f,y,v,b,w=[];for(f=(e=A(e)).length,t=128,o=0,r=72,a=0;a<f;++a)(p=e[a])<128&&w.push(g(p));for(n=i=w.length,i&&w.push("-");n<f;){for(s=l,a=0;a<f;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>h((l-o)/(y=n+1))&&m("overflow"),o+=(s-t)*y,t=s,a=0;a<f;++a)if((p=e[a])<t&&++o>l&&m("overflow"),p==t){for(c=o,u=36;!(c<(d=u<=r?1:u>=r+26?26:u-r));u+=36)b=c-d,v=36-d,w.push(g(C(d+b%v,0))),c=h(b/v);w.push(g(C(c,0))),r=I(o,y,n==i),o=0,++n}++o,++t}return w.join("")}if(a={version:"1.3.2",ucs2:{decode:A,encode:v},decode:w,encode:_,toASCII:function(e){return y(e,(function(e){return u.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},n&&i)if(e.exports==n)i.exports=a;else for(s in a)a.hasOwnProperty(s)&&(n[s]=a[s]);else o.punycode=a}(E)})),x=function(e){return"string"==typeof e},P=function(e){return"object"===b(e)&&null!==e},k=function(e){return null===e},G=function(e){return null==e};function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var T=function(e,t,o,n){t=t||"&",o=o||"=";var i={};if("string"!=typeof e||0===e.length)return i;var r=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var c,u,d,p,h=e[l].replace(r,"%20"),g=h.indexOf(o);g>=0?(c=h.substr(0,g),u=h.substr(g+1)):(c=h,u=""),d=decodeURIComponent(c),p=decodeURIComponent(u),R(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i},O=function(e){switch(b(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},L=function(e,t,o,n){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"===b(e)?Object.keys(e).map((function(n){var i=encodeURIComponent(O(n))+o;return Array.isArray(e[n])?e[n].map((function(e){return i+encodeURIComponent(O(e))})).join(t):i+encodeURIComponent(O(e[n]))})).join(t):n?encodeURIComponent(O(n))+o+encodeURIComponent(O(e)):""},D=_((function(e,t){t.decode=t.parse=T,t.encode=t.stringify=L}));function N(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var j=/^([a-z0-9.+-]+:)/i,U=/:[0-9]*$/,B=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,F=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),z=["'"].concat(F),V=["%","/","?",";","#"].concat(z),q=["/","?","#"],W=/^[+a-z0-9A-Z_-]{0,63}$/,H=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Y={javascript:!0,"javascript:":!0},J={javascript:!0,"javascript:":!0},Z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function K(e,t,o){if(e&&P(e)&&e instanceof N)return e;var n=new N;return n.parse(e,t,o),n}N.prototype.parse=function(e,t,o){if(!x(e))throw new TypeError("Parameter 'url' must be a string, not "+b(e));var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",r=e.split(i);r[0]=r[0].replace(/\\/g,"/");var a=e=r.join(i);if(a=a.trim(),!o&&1===e.split("#").length){var s=B.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?D.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=j.exec(a);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,a=a.substr(l.length)}if(o||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===a.substr(0,2);!u||l&&J[l]||(a=a.substr(2),this.slashes=!0)}if(!J[l]&&(u||l&&!Z[l])){for(var d,p,h=-1,g=0;g<q.length;g++){-1!==(m=a.indexOf(q[g]))&&(-1===h||m<h)&&(h=m)}-1!==(p=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(d=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(d)),h=-1;for(g=0;g<V.length;g++){var m;-1!==(m=a.indexOf(V[g]))&&(-1===h||m<h)&&(h=m)}-1===h&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!f)for(var y=this.hostname.split(/\./),A=(g=0,y.length);g<A;g++){var v=y[g];if(v&&!v.match(W)){for(var C="",I=0,w=v.length;I<w;I++)v.charCodeAt(I)>127?C+="x":C+=v[I];if(!C.match(W)){var E=y.slice(0,g),_=y.slice(g+1),S=v.match(H);S&&(E.push(S[1]),_.unshift(S[2])),_.length&&(a="/"+_.join(".")+a),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),f||(this.hostname=M.toASCII(this.hostname));var P=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+P,this.href+=this.host,f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Y[c])for(g=0,A=z.length;g<A;g++){var G=z[g];if(-1!==a.indexOf(G)){var R=encodeURIComponent(G);R===G&&(R=escape(G)),a=a.split(G).join(R)}}var T=a.indexOf("#");-1!==T&&(this.hash=a.substr(T),a=a.slice(0,T));var O=a.indexOf("?");if(-1!==O?(this.search=a.substr(O),this.query=a.substr(O+1),t&&(this.query=D.parse(this.query)),a=a.slice(0,O)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Z[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var L=this.search||"";this.path=P+L}return this.href=this.format(),this},N.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",o=this.pathname||"",n=this.hash||"",i=!1,r="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&P(this.query)&&Object.keys(this.query).length&&(r=D.stringify(this.query));var a=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Z[t])&&!1!==i?(i="//"+(i||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(o=o.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},N.prototype.resolve=function(e){return this.resolveObject(K(e,!1,!0)).format()},N.prototype.resolveObject=function(e){if(x(e)){var t=new N;t.parse(e,!1,!0),e=t}for(var o=new N,n=Object.keys(this),i=0;i<n.length;i++){var r=n[i];o[r]=this[r]}if(o.hash=e.hash,""===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(o[l]=e[l])}return Z[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!Z[e.protocol]){for(var c=Object.keys(e),u=0;u<c.length;u++){var d=c[u];o[d]=e[d]}return o.href=o.format(),o}if(o.protocol=e.protocol,e.host||J[e.protocol])o.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),o.pathname=p.join("/")}if(o.search=e.search,o.query=e.query,o.host=e.host||"",o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var h=o.pathname||"",g=o.search||"";o.path=h+g}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var m=o.pathname&&"/"===o.pathname.charAt(0),f=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=f||m||o.host&&e.pathname,A=y,v=o.pathname&&o.pathname.split("/")||[],C=(p=e.pathname&&e.pathname.split("/")||[],o.protocol&&!Z[o.protocol]);if(C&&(o.hostname="",o.port=null,o.host&&(""===v[0]?v[0]=o.host:v.unshift(o.host)),o.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),y=y&&(""===p[0]||""===v[0])),f)o.host=e.host||""===e.host?e.host:o.host,o.hostname=e.hostname||""===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,v=p;else if(p.length)v||(v=[]),v.pop(),v=v.concat(p),o.search=e.search,o.query=e.query;else if(!G(e.search)){if(C)o.hostname=o.host=v.shift(),(_=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=_.shift(),o.host=o.hostname=_.shift());return o.search=e.search,o.query=e.query,k(o.pathname)&&k(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!v.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var I=v.slice(-1)[0],b=(o.host||e.host||v.length>1)&&("."===I||".."===I)||""===I,w=0,E=v.length;E>=0;E--)"."===(I=v[E])?v.splice(E,1):".."===I?(v.splice(E,1),w++):w&&(v.splice(E,1),w--);if(!y&&!A)for(;w--;w)v.unshift("..");!y||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),b&&"/"!==v.join("/").substr(-1)&&v.push("");var _,S=""===v[0]||v[0]&&"/"===v[0].charAt(0);C&&(o.hostname=o.host=S?"":v.length?v.shift():"",(_=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=_.shift(),o.host=o.hostname=_.shift()));return(y=y||o.host&&v.length)&&!S&&v.unshift(""),v.length?o.pathname=v.join("/"):(o.pathname=null,o.path=null),k(o.pathname)&&k(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},N.prototype.parseHost=function(){var e=this.host,t=U.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function X(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];for(var i=0,r=o;i<r.length;i++){var a=r[i];for(var s in a)e[s]=a[s]}return e}var Q=function(e){function t(e,o){var n;return p(this,t),(n=h(this,t,[o])).message=o,n.key=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),u(t)}(g(Error)),$=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];p(this,e),this.parent=t,this.bindings={};var n,i=v(o);try{for(i.s();!(n=i.n()).done;){var r=a(n.value,2),s=r[0],l=r[1];this.bindings[s]=l}}catch(e){i.e(e)}finally{i.f()}}return u(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}])}(),ee={kind:"null"},te={kind:"number"},oe={kind:"string"},ne={kind:"boolean"},ie={kind:"color"},re={kind:"object"},ae={kind:"value"},se={kind:"collator"},le={kind:"formatted"},ce={kind:"resolvedImage"};function ue(e,t){return{kind:"array",itemType:e,N:t}}function de(e){if("array"===e.kind){var t=de(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var pe=[ee,te,oe,ne,ie,le,re,ue(ae),ce];function he(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!he(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var o=0,n=pe;o<n.length;o++){if(!he(n[o],t))return null}}return"Expected ".concat(de(e)," but found ").concat(de(t)," instead.")}function ge(e,t){return t.some((function(t){return t.kind===e.kind}))}function me(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"===b(e):t===b(e)}))}var fe=_((function(e,t){var o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function r(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function a(e){return"%"===e[e.length-1]?i(parseFloat(e)/100):i(parseFloat(e))}function s(e,t,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?e+(t-e)*o*6:2*o<1?t:3*o<2?e+(t-e)*(2/3-o)*6:e}try{t.parseCSSColor=function(e){var t,i=e.replace(/ /g,"").toLowerCase();if(i in o)return o[i].slice();if("#"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=i.indexOf("("),c=i.indexOf(")");if(-1!==l&&c+1===i.length){var u=i.substr(0,l),d=i.substr(l+1,c-(l+1)).split(","),p=1;switch(u){case"rgba":if(4!==d.length)return null;p=a(d.pop());case"rgb":return 3!==d.length?null:[r(d[0]),r(d[1]),r(d[2]),p];case"hsla":if(4!==d.length)return null;p=a(d.pop());case"hsl":if(3!==d.length)return null;var h=(parseFloat(d[0])%360+360)%360/360,g=a(d[1]),m=a(d[2]),f=m<=.5?m*(g+1):m+g-m*g,y=2*m-f;return[n(255*s(y,f,h+1/3)),n(255*s(y,f,h)),n(255*s(y,f,h-1/3)),p];default:return null}}return null}}catch(e){}})),ye=function(){function e(t,o,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;p(this,e),this.r=t,this.g=o,this.b=n,this.a=i}return u(e,[{key:"toString",value:function(){var e=a(this.toArray(),4),t=e[0],o=e[1],n=e[2],i=e[3];return"rgba(".concat(Math.round(t),",").concat(Math.round(o),",").concat(Math.round(n),",").concat(i,")")}},{key:"toArray",value:function(){var e=this.r,t=this.g,o=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*o/n,n]}}],[{key:"parse",value:function(t){if(t){if(t instanceof e)return t;if("string"==typeof t){var o=fe.parseCSSColor(t);if(o)return new e(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3])}}}}])}();ye.black=new ye(0,0,0,1),ye.white=new ye(1,1,1,1),ye.transparent=new ye(0,0,0,0),ye.red=new ye(1,0,0,1),ye.blue=new ye(0,0,1,1);var Ae=function(){return u((function e(t,o,n){p(this,e),this.sensitivity=t?o?"variant":"case":o?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}),[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}])}(),ve=u((function e(t,o,n,i,r){p(this,e),this.text=t,this.image=o,this.scale=n,this.fontStack=i,this.textColor=r})),Ce=function(){function e(t){p(this,e),this.sections=t}return u(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")}},{key:"serialize",value:function(){var e,t=["format"],o=v(this.sections);try{for(o.s();!(e=o.n()).done;){var n=e.value;if(n.image)t.push(["image",n.image.name]);else{t.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(i)}}}catch(e){o.e(e)}finally{o.f()}return t}}],[{key:"fromString",value:function(t){return new e([new ve(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}])}(),Ie=function(){function e(t){p(this,e),this.name=t.name,this.available=t.available}return u(e,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}])}();function be(e,t,o,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof o&&o>=0&&o<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value [".concat([e,t,o,n].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof n?[e,t,o,n]:[e,t,o]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function we(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ye)return!0;if(e instanceof Ae)return!0;if(e instanceof Ce)return!0;if(e instanceof Ie)return!0;if(Array.isArray(e)){var t,o=v(e);try{for(o.s();!(t=o.n()).done;){if(!we(t.value))return!1}}catch(e){o.e(e)}finally{o.f()}return!0}if("object"===b(e)){for(var n in e)if(!we(e[n]))return!1;return!0}return!1}function Ee(e){if(null===e)return ee;if("string"==typeof e)return oe;if("boolean"==typeof e)return ne;if("number"==typeof e)return te;if(e instanceof ye)return ie;if(e instanceof Ae)return se;if(e instanceof Ce)return le;if(e instanceof Ie)return ce;if(Array.isArray(e)){var t,o,n=e.length,i=v(e);try{for(i.s();!(o=i.n()).done;){var r=Ee(o.value);if(t){if(t===r)continue;t=ae;break}t=r}}catch(e){i.e(e)}finally{i.f()}return ue(t||ae,n)}return re}function _e(e){var t=b(e);return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof ye||e instanceof Ce||e instanceof Ie?e.toString():JSON.stringify(e)}var Se=function(){function e(t,o){p(this,e),this.type=t,this.value=o}return u(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ye?["rgba"].concat(this.value.toArray()):this.value instanceof Ce?this.value.serialize():this.value}}],[{key:"parse",value:function(t,o){if(2!==t.length)return o.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!we(t[1]))return o.error("invalid value");var n=t[1],i=Ee(n),r=o.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new e(i,n)}}])}(),Me=function(){return u((function e(t){p(this,e),this.name="ExpressionEvaluationError",this.message=t}),[{key:"toJSON",value:function(){return this.message}}])}(),xe={string:oe,number:te,boolean:ne,object:re},Pe=function(){function e(t,o){p(this,e),this.type=t,this.args=o}return u(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var o=this.args[t].evaluate(e);if(!he(this.type,Ee(o)))return o;if(t===this.args.length-1)throw new Me("Expected value to be of type ".concat(de(this.type),", but found ").concat(de(Ee(o))," instead."))}return null}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=this.type,t=[e.kind];if("array"===e.kind){var o=e.itemType;if("string"===o.kind||"number"===o.kind||"boolean"===o.kind){t.push(o.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,o){if(t.length<2)return o.error("Expected at least one argument.");var n,i=1,r=t[0];if("array"===r){var a,s;if(t.length>2){var l=t[1];if("string"!=typeof l||!(l in xe)||"object"===l)return o.error('The item type argument of "array" must be one of string, number, boolean',1);a=xe[l],i++}else a=ae;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return o.error('The length argument to "array" must be a positive integer literal',2);s=t[2],i++}n=ue(a,s)}else n=xe[r];for(var c=[];i<t.length;i++){var u=o.parse(t[i],i,ae);if(!u)return null;c.push(u)}return new e(n,c)}}])}(),ke=function(){function e(t){p(this,e),this.type=le,this.sections=t}return u(e,[{key:"evaluate",value:function(e){return new Ce(this.sections.map((function(t){var o=t.content.evaluate(e);return Ee(o)===ce?new ve("",o,null,null,null):new ve(_e(o),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}},{key:"eachChild",value:function(e){var t,o=v(this.sections);try{for(o.s();!(t=o.n()).done;){var n=t.value;e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}}catch(e){o.e(e)}finally{o.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e,t=["format"],o=v(this.sections);try{for(o.s();!(e=o.n()).done;){var n=e.value;t.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),t.push(i)}}catch(e){o.e(e)}finally{o.f()}return t}}],[{key:"parse",value:function(t,o){if(t.length<2)return o.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"===b(n))return o.error("First argument must be an image or text section.");for(var i=[],r=!1,a=1;a<=t.length-1;++a){var s=t[a];if(r&&"object"===b(s)&&!Array.isArray(s)){r=!1;var l=null;if(s["font-scale"]&&!(l=o.parse(s["font-scale"],1,te)))return null;var c=null;if(s["text-font"]&&!(c=o.parse(s["text-font"],1,ue(oe))))return null;var u=null;if(s["text-color"]&&!(u=o.parse(s["text-color"],1,ie)))return null;var d=i[i.length-1];d.scale=l,d.font=c,d.textColor=u}else{var p=o.parse(t[a],1,ae);if(!p)return null;var h=p.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:p,scale:null,font:null,textColor:null})}}return new e(i)}}])}(),Ge=function(){function e(t){p(this,e),this.type=ce,this.input=t}return u(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),o=Ie.fromString(t);return o&&e.availableImages&&(o.available=e.availableImages.indexOf(t)>-1),o}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(t,o){if(2!==t.length)return o.error("Expected two arguments.");var n=o.parse(t[1],1,oe);return n?new e(n):o.error("No image name provided.")}}])}(),Re={"to-boolean":ne,"to-color":ie,"to-number":te,"to-string":oe},Te=function(){function e(t,o){p(this,e),this.type=t,this.args=o}return u(e,[{key:"evaluate",value:function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){var t,o,n,i=v(this.args);try{for(i.s();!(n=i.n()).done;){if(t=n.value.evaluate(e),o=null,t instanceof ye)return t;if("string"==typeof t){var r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&!(o=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):be(t[0],t[1],t[2],t[3])))return new ye(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(e){i.e(e)}finally{i.f()}throw new Me(o||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){var a,s=null,l=v(this.args);try{for(l.s();!(a=l.n()).done;){if(null===(s=a.value.evaluate(e)))return 0;var c=Number(s);if(!isNaN(c))return c}}catch(e){l.e(e)}finally{l.f()}throw new Me("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?Ce.fromString(_e(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Ie.fromString(_e(this.args[0].evaluate(e))):_e(this.args[0].evaluate(e))}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new ke([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ge(this.args[0]).serialize();var e=["to-".concat(this.type.kind)];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,o){if(t.length<2)return o.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return o.error("Expected one argument.");for(var i=Re[n],r=[],a=1;a<t.length;a++){var s=o.parse(t[a],a,ae);if(!s)return null;r.push(s)}return new e(i,r)}}])}(),Oe=["Unknown","Point","LineString","Polygon"],Le=function(){return u((function e(){p(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}),[{key:"id",value:function(){return this.feature&&"id"in this.feature?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?Oe[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=ye.parse(e)),t}}])}(),De=function(){function e(t,o,n,i){p(this,e),this.name=t,this.type=o,this._evaluate=n,this.args=i}return u(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,o){var n=t[0],r=e.definitions[n];if(!r)return o.error('Unknown expression "'.concat(n,'". If you wanted a literal array, use ["literal", [...]].'),0);var s,l=Array.isArray(r)?r[0]:r.type,c=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,u=c.filter((function(e){var o=a(e,1)[0];return!Array.isArray(o)||o.length===t.length-1})),d=null,p=v(u);try{for(p.s();!(s=p.n()).done;){var h=a(s.value,2),g=h[0],m=h[1];d=new it(o.registry,o.path,null,o.scope);for(var f=[],y=!1,A=1;A<t.length;A++){var C=t[A],I=Array.isArray(g)?g[A-1]:g.type,b=d.parse(C,1+f.length,I);if(!b){y=!0;break}f.push(b)}if(!y)if(Array.isArray(g)&&g.length!==f.length)d.error("Expected ".concat(g.length," arguments, but found ").concat(f.length," instead."));else{for(var w=0;w<f.length;w++){var E=Array.isArray(g)?g[w]:g.type,_=f[w];d.concat(w+1).checkSubtype(E,_.type)}if(0===d.errors.length)return new e(n,l,m,f)}}}catch(e){p.e(e)}finally{p.f()}if(1===u.length){var S;(S=o.errors).push.apply(S,i(d.errors))}else{for(var M=(u.length?u:c).map((function(e){var t,o=a(e,1)[0];return t=o,Array.isArray(t)?"(".concat(t.map(de).join(", "),")"):"(".concat(de(t.type),"...)")})).join(" | "),x=[],P=1;P<t.length;P++){var k=o.parse(t[P],1+x.length);if(!k)return null;x.push(de(k.type))}o.error("Expected arguments of type ".concat(M,", but found (").concat(x.join(", "),") instead."))}return null}},{key:"register",value:function(t,o){for(var n in e.definitions=o,o)t[n]=e}}])}();var Ne=function(){function e(t,o,n){p(this,e),this.type=se,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=o}return u(e,[{key:"evaluate",value:function(e){return new Ae(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}],[{key:"parse",value:function(t,o){if(2!==t.length)return o.error("Expected one argument.");var n=t[1];if("object"!==b(n)||Array.isArray(n))return o.error("Collator options argument must be an object.");var i=o.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,ne);if(!i)return null;var r=o.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,ne);if(!r)return null;var a=null;return n.locale&&!(a=o.parse(n.locale,1,oe))?null:new e(i,r,a)}}])}();function je(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Ue(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function Be(e,t){var o,n=(180+e[0])/360,i=(o=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360),r=Math.pow(2,t.z);return[Math.round(n*r*8192),Math.round(i*r*8192)]}function Fe(e,t,o){return t[1]>e[1]!=o[1]>e[1]&&e[0]<(o[0]-t[0])*(e[1]-t[1])/(o[1]-t[1])+t[0]}function ze(e,t){for(var o,n,i,r,a,s,l,c=!1,u=0,d=t.length;u<d;u++)for(var p=t[u],h=0,g=p.length;h<g-1;h++){if(o=e,n=p[h],i=p[h+1],r=void 0,a=void 0,s=void 0,l=void 0,r=o[0]-n[0],a=o[1]-n[1],s=o[0]-i[0],l=o[1]-i[1],r*l-s*a==0&&r*s<=0&&a*l<=0)return!1;Fe(e,p[h],p[h+1])&&(c=!c)}return c}function Ve(e,t){for(var o=0;o<t.length;o++)if(ze(e,t[o]))return!0;return!1}function qe(e,t,o,n){var i=e[0]-o[0],r=e[1]-o[1],a=t[0]-o[0],s=t[1]-o[1],l=n[0]-o[0],c=n[1]-o[1],u=i*c-l*r,d=a*c-l*s;return u>0&&d<0||u<0&&d>0}function We(e,t,o){var n,i,r,a,s,l,c,u,d,p=v(o);try{for(p.s();!(n=p.n()).done;)for(var h=n.value,g=0;g<h.length-1;++g)if(i=e,r=t,a=h[g],s=h[g+1],l=void 0,c=void 0,u=void 0,d=void 0,u=[r[0]-i[0],r[1]-i[1]],d=[s[0]-a[0],s[1]-a[1]],0!=(l=d)[0]*(c=u)[1]-l[1]*c[0]&&qe(i,r,a,s)&&qe(a,s,i,r))return!0}catch(e){p.e(e)}finally{p.f()}return!1}function He(e,t){for(var o=0;o<e.length;++o)if(!ze(e[o],t))return!1;for(var n=0;n<e.length-1;++n)if(We(e[n],e[n+1],t))return!1;return!0}function Ye(e,t){for(var o=0;o<t.length;o++)if(He(e,t[o]))return!0;return!1}function Je(e,t,o){for(var n=[],i=0;i<e.length;i++){for(var r=[],a=0;a<e[i].length;a++){var s=Be(e[i][a],o);je(t,s),r.push(s)}n.push(r)}return n}function Ze(e,t,o){for(var n=[],i=0;i<e.length;i++){var r=Je(e[i],t,o);n.push(r)}return n}function Ke(e,t,o,n){if(e[0]<o[0]||e[0]>o[2]){var i=.5*n,r=e[0]-o[0]>i?-n:o[0]-e[0]>i?n:0;0===r&&(r=e[0]-o[2]>i?-n:o[2]-e[0]>i?n:0),e[0]+=r}je(t,e)}function Xe(e,t,o,n){var i,r=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],s=[],l=v(e);try{for(l.s();!(i=l.n()).done;){var c,u=v(i.value);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=[d.x+a[0],d.y+a[1]];Ke(p,t,o,r),s.push(p)}}catch(e){u.e(e)}finally{u.f()}}}catch(e){l.e(e)}finally{l.f()}return s}function Qe(e,t,o,n){var i,r,a=8192*Math.pow(2,n.z),s=[8192*n.x,8192*n.y],l=[],c=v(e);try{for(c.s();!(i=c.n()).done;){var u,d=i.value,p=[],h=v(d);try{for(h.s();!(u=h.n()).done;){var g=u.value,m=[g.x+s[0],g.y+s[1]];je(t,m),p.push(m)}}catch(e){h.e(e)}finally{h.f()}l.push(p)}}catch(e){c.e(e)}finally{c.f()}if(t[2]-t[0]<=a/2){(r=t)[0]=r[1]=1/0,r[2]=r[3]=-1/0;var f,y=v(l);try{for(y.s();!(f=y.n()).done;){var A,C=v(f.value);try{for(C.s();!(A=C.n()).done;){Ke(A.value,t,o,a)}}catch(e){C.e(e)}finally{C.f()}}}catch(e){y.e(e)}finally{y.f()}}return l}var $e=function(){function e(t,o){p(this,e),this.type=ne,this.geojson=t,this.geometries=o}return u(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var o=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var r=Je(t.coordinates,n,i),a=Xe(e.geometry(),o,n,i);if(!Ue(o,n))return!1;var s,l=v(a);try{for(l.s();!(s=l.n()).done;){if(!ze(s.value,r))return!1}}catch(e){l.e(e)}finally{l.f()}}if("MultiPolygon"===t.type){var c=Ze(t.coordinates,n,i),u=Xe(e.geometry(),o,n,i);if(!Ue(o,n))return!1;var d,p=v(u);try{for(p.s();!(d=p.n()).done;){if(!Ve(d.value,c))return!1}}catch(e){p.e(e)}finally{p.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var o=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var r=Je(t.coordinates,n,i),a=Qe(e.geometry(),o,n,i);if(!Ue(o,n))return!1;var s,l=v(a);try{for(l.s();!(s=l.n()).done;){if(!He(s.value,r))return!1}}catch(e){l.e(e)}finally{l.f()}}if("MultiPolygon"===t.type){var c=Ze(t.coordinates,n,i),u=Qe(e.geometry(),o,n,i);if(!Ue(o,n))return!1;var d,p=v(u);try{for(p.s();!(d=p.n()).done;){if(!Ye(d.value,c))return!1}}catch(e){p.e(e)}finally{p.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(t,o){if(2!==t.length)return o.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(we(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var i=0;i<n.features.length;++i){var r=n.features[i].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new e(n,n.features[i].geometry)}else if("Feature"===n.type){var a=n.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new e(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new e(n,n)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}])}();function et(e){if(e instanceof De){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof $e)return!1;var t=!0;return e.eachChild((function(e){t&&!et(e)&&(t=!1)})),t}function tt(e){if(e instanceof De&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!tt(e)&&(t=!1)})),t}function ot(e,t){if(e instanceof De&&t.indexOf(e.name)>=0)return!1;var o=!0;return e.eachChild((function(e){o&&!ot(e,t)&&(o=!1)})),o}var nt=function(){function e(t,o){p(this,e),this.type=o.type,this.name=t,this.boundExpression=o}return u(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(t,o){if(2!==t.length||"string"!=typeof t[1])return o.error("'var' expression requires exactly one string literal argument.");var n=t[1];return o.scope.has(n)?new e(n,o.scope.get(n)):o.error('Unknown variable "'.concat(n,'". Make sure "').concat(n,'" has been bound in an enclosing "let" expression before using it.'),1)}}])}(),it=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new $,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];p(this,e),this.registry=t,this.path=o,this.key=o.map((function(e){return"[".concat(e,"]")})).join(""),this.scope=i,this.errors=r,this.expectedType=n}return u(e,[{key:"parse",value:function(e,t,o,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,o,n)._parse(e,i):this._parse(e,i)}},{key:"_parse",value:function(e,t){function o(e,t,o){return"assert"===o?new Pe(t,[e]):"coerce"===o?new Te(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found ".concat(b(n),' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var i=this.registry[n];if(i){var r=i.parse(e,this);if(!r)return null;if(this.expectedType){var a=this.expectedType,s=r.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else r=o(r,a,t.typeAnnotation||"coerce");else r=o(r,a,t.typeAnnotation||"assert")}if(!(r instanceof Se)&&"resolvedImage"!==r.type.kind&&function e(t){if(t instanceof nt)return e(t.boundExpression);if(t instanceof De&&"error"===t.name)return!1;if(t instanceof Ne)return!1;if(t instanceof $e)return!1;var o=t instanceof Te||t instanceof Pe,n=!0;if(t.eachChild((function(t){n=o?n&&e(t):n&&t instanceof Se})),!n)return!1;return et(t)&&ot(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(r)){var l=new Le;try{r=new Se(r.type,r.evaluate(l))}catch(e){return this.error(e.message),null}}return r}return this.error('Unknown expression "'.concat(n,'". If you wanted a literal array, use ["literal", [...]].'),0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"===b(e)?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found ".concat(b(e)," instead."))}},{key:"concat",value:function(t,o,n){var i="number"==typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new e(this.registry,i,o||null,r,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var i="".concat(this.key).concat(o.map((function(e){return"[".concat(e,"]")})).join(""));this.errors.push(new Q(i,e))}},{key:"checkSubtype",value:function(e,t){var o=he(e,t);return o&&this.error(o),o}}])}();function rt(e,t){for(var o,n,i=e.length-1,r=0,a=i,s=0;r<=a;)if(o=e[s=Math.floor((r+a)/2)],n=e[s+1],o<=t){if(s===i||t<n)return s;r=s+1}else{if(!(o>t))throw new Me("Input is not a number.");a=s-1}return 0}var at=function(){function e(t,o,n){p(this,e),this.type=t,this.input=o,this.labels=[],this.outputs=[];var i,r=v(n);try{for(r.s();!(i=r.n()).done;){var s=a(i.value,2),l=s[0],c=s[1];this.labels.push(l),this.outputs.push(c)}}catch(e){r.e(e)}finally{r.f()}}return u(e,[{key:"evaluate",value:function(e){var t=this.labels,o=this.outputs;if(1===t.length)return o[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return o[0].evaluate(e);var i=t.length;return n>=t[i-1]?o[i-1].evaluate(e):o[rt(t,n)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,o=v(this.outputs);try{for(o.s();!(t=o.n()).done;){e(t.value)}}catch(e){o.e(e)}finally{o.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}],[{key:"parse",value:function(t,o){if(t.length-1<4)return o.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return o.error("Expected an even number of arguments.");var n=o.parse(t[1],1,te);if(!n)return null;var i=[],r=null;o.expectedType&&"value"!==o.expectedType.kind&&(r=o.expectedType);for(var a=1;a<t.length;a+=2){var s=1===a?-1/0:t[a],l=t[a+1],c=a,u=a+1;if("number"!=typeof s)return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=s)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var d=o.parse(l,u,r);if(!d)return null;r=r||d.type,i.push([s,d])}return new e(r,n,i)}}])}(),st=lt;function lt(e,t,o,n){this.cx=3*e,this.bx=3*(o-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=o,this.p2y=n}function ct(e,t,o){return e*(1-o)+t*o}lt.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},lt.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},lt.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},lt.prototype.solveCurveX=function(e,t){var o,n,i,r,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(r=this.sampleCurveX(i)-e,Math.abs(r)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=r/s}if((i=e)<(o=0))return o;if(i>(n=1))return n;for(;o<n;){if(r=this.sampleCurveX(i),Math.abs(r-e)<t)return i;e>r?o=i:n=i,i=.5*(n-o)+o}return i},lt.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var ut=Object.freeze({__proto__:null,number:ct,color:function(e,t,o){return new ye(ct(e.r,t.r,o),ct(e.g,t.g,o),ct(e.b,t.b,o),ct(e.a,t.a,o))},array:function(e,t,o){return e.map((function(e,n){return ct(e,t[n],o)}))}}),dt=6/29,pt=3*dt*dt,ht=Math.PI/180,gt=180/Math.PI;function mt(e){return e>.008856451679035631?Math.pow(e,1/3):e/pt+4/29}function ft(e){return e>dt?e*e*e:pt*(e-4/29)}function yt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function At(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vt(e){var t=At(e.r),o=At(e.g),n=At(e.b),i=mt((.4124564*t+.3575761*o+.1804375*n)/.95047),r=mt((.2126729*t+.7151522*o+.072175*n)/1);return{l:116*r-16,a:500*(i-r),b:200*(r-mt((.0193339*t+.119192*o+.9503041*n)/1.08883)),alpha:e.a}}function Ct(e){var t=(e.l+16)/116,o=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*ft(t),o=.95047*ft(o),n=1.08883*ft(n),new ye(yt(3.2404542*o-1.5371385*t-.4985314*n),yt(-.969266*o+1.8760108*t+.041556*n),yt(.0556434*o-.2040259*t+1.0572252*n),e.alpha)}function It(e,t,o){var n=t-e;return e+o*(n>180||n<-180?n-360*Math.round(n/360):n)}var bt={forward:vt,reverse:Ct,interpolate:function(e,t,o){return{l:ct(e.l,t.l,o),a:ct(e.a,t.a,o),b:ct(e.b,t.b,o),alpha:ct(e.alpha,t.alpha,o)}}},wt={forward:function(e){var t=vt(e),o=t.l,n=t.a,i=t.b,r=Math.atan2(i,n)*gt;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:o,alpha:e.a}},reverse:function(e){var t=e.h*ht,o=e.c;return Ct({l:e.l,a:Math.cos(t)*o,b:Math.sin(t)*o,alpha:e.alpha})},interpolate:function(e,t,o){return{h:It(e.h,t.h,o),c:ct(e.c,t.c,o),l:ct(e.l,t.l,o),alpha:ct(e.alpha,t.alpha,o)}}},Et=Object.freeze({__proto__:null,lab:bt,hcl:wt}),_t=function(){function e(t,o,n,i,r){p(this,e),this.type=t,this.operator=o,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];var s,l=v(r);try{for(l.s();!(s=l.n()).done;){var c=a(s.value,2),u=c[0],d=c[1];this.labels.push(u),this.outputs.push(d)}}catch(e){l.e(e)}finally{l.f()}}return u(e,[{key:"evaluate",value:function(t){var o=this.labels,n=this.outputs;if(1===o.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=o[0])return n[0].evaluate(t);var r=o.length;if(i>=o[r-1])return n[r-1].evaluate(t);var a=rt(o,i),s=o[a],l=o[a+1],c=e.interpolationFactor(this.interpolation,i,s,l),u=n[a].evaluate(t),d=n[a+1].evaluate(t);return"interpolate"===this.operator?ut[this.type.kind.toLowerCase()](u,d,c):"interpolate-hcl"===this.operator?wt.reverse(wt.interpolate(wt.forward(u),wt.forward(d),c)):bt.reverse(bt.interpolate(bt.forward(u),bt.forward(d),c))}},{key:"eachChild",value:function(e){e(this.input);var t,o=v(this.outputs);try{for(o.s();!(t=o.n()).done;){e(t.value)}}catch(e){o.e(e)}finally{o.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],o=0;o<this.labels.length;o++)t.push(this.labels[o],this.outputs[o].serialize());return t}}],[{key:"interpolationFactor",value:function(e,t,o,n){var i=0;if("exponential"===e.name)i=St(t,e.base,o,n);else if("linear"===e.name)i=St(t,1,o,n);else if("cubic-bezier"===e.name){var r=e.controlPoints;i=new st(r[0],r[1],r[2],r[3]).solve(St(t,1,o,n))}return i}},{key:"parse",value:function(t,o){var n,i=l(n=t)||r(n)||C(n)||s(),a=i[0],c=i[1],u=i[2],d=i.slice(3);if(!Array.isArray(c)||0===c.length)return o.error("Expected an interpolation type expression.",1);if("linear"===c[0])c={name:"linear"};else if("exponential"===c[0]){var p=c[1];if("number"!=typeof p)return o.error("Exponential interpolation requires a numeric base.",1,1);c={name:"exponential",base:p}}else{if("cubic-bezier"!==c[0])return o.error("Unknown interpolation type ".concat(String(c[0])),1,0);var h=c.slice(1);if(4!==h.length||h.some((function(e){return"number"!=typeof e||e<0||e>1})))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);c={name:"cubic-bezier",controlPoints:h}}if(t.length-1<4)return o.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(!(u=o.parse(u,2,te)))return null;var g=[],m=null;"interpolate-hcl"===a||"interpolate-lab"===a?m=ie:o.expectedType&&"value"!==o.expectedType.kind&&(m=o.expectedType);for(var f=0;f<d.length;f+=2){var y=d[f],A=d[f+1],v=f+3,I=f+4;if("number"!=typeof y)return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',v);if(g.length&&g[g.length-1][0]>=y)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',v);var b=o.parse(A,I,m);if(!b)return null;m=m||b.type,g.push([y,b])}return"number"===m.kind||"color"===m.kind||"array"===m.kind&&"number"===m.itemType.kind&&"number"==typeof m.N?new e(m,a,c,u,g):o.error("Type ".concat(de(m)," is not interpolatable."))}}])}();function St(e,t,o,n){var i=n-o,r=e-o;return 0===i?0:1===t?r/i:(Math.pow(t,r)-1)/(Math.pow(t,i)-1)}var Mt=function(){function e(t,o){p(this,e),this.type=t,this.args=o}return u(e,[{key:"evaluate",value:function(e){var t,o,n=null,i=0,r=v(this.args);try{for(r.s();!(o=r.n()).done;){var a=o.value;if(i++,(n=a.evaluate(e))&&n instanceof Ie&&!n.available&&(t||(t=n.name),n=null,i===this.args.length&&(n=t)),null!==n)break}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,o){if(t.length<2)return o.error("Expectected at least one argument.");var n=null,i=o.expectedType;i&&"value"!==i.kind&&(n=i);var r,a=[],s=v(t.slice(1));try{for(s.s();!(r=s.n()).done;){var l=r.value,c=o.parse(l,1+a.length,n,void 0,{typeAnnotation:"omit"});if(!c)return null;n=n||c.type,a.push(c)}}catch(e){s.e(e)}finally{s.f()}return new e(i&&a.some((function(e){return he(i,e.type)}))?ae:n,a)}}])}(),xt=function(){function e(t,o){p(this,e),this.type=o.type,this.bindings=[].concat(t),this.result=o}return u(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,o=v(this.bindings);try{for(o.s();!(t=o.n()).done;){e(t.value[1])}}catch(e){o.e(e)}finally{o.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var e,t=["let"],o=v(this.bindings);try{for(o.s();!(e=o.n()).done;){var n=a(e.value,2),i=n[0],r=n[1];t.push(i,r.serialize())}}catch(e){o.e(e)}finally{o.f()}return t.push(this.result.serialize()),t}}],[{key:"parse",value:function(t,o){if(t.length<4)return o.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var n=[],i=1;i<t.length-1;i+=2){var r=t[i];if("string"!=typeof r)return o.error("Expected string, but found ".concat(b(r)," instead."),i);if(/[^a-zA-Z0-9_]/.test(r))return o.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=o.parse(t[i+1],i+1);if(!a)return null;n.push([r,a])}var s=o.parse(t[t.length-1],t.length-1,o.expectedType,n);return s?new e(n,s):null}}])}(),Pt=function(){function e(t,o,n){p(this,e),this.type=t,this.index=o,this.input=n}return u(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),o=this.input.evaluate(e);if(t<0)throw new Me("Array index out of bounds: ".concat(t," < 0."));if(t>=o.length)throw new Me("Array index out of bounds: ".concat(t," > ").concat(o.length-1,"."));if(t!==Math.floor(t))throw new Me("Array index must be an integer, but found ".concat(t," instead."));return o[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(t,o){if(3!==t.length)return o.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var n=o.parse(t[1],1,te),i=o.parse(t[2],2,ue(o.expectedType||ae));return n&&i?new e(i.type.itemType,n,i):null}}])}(),kt=function(){function e(t,o){p(this,e),this.type=ne,this.needle=t,this.haystack=o}return u(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!o)return!1;if(!me(t,["boolean","string","number","null"]))throw new Me("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(Ee(t))," instead."));if(!me(o,["string","array"]))throw new Me("Expected second argument to be of type array or string, but found ".concat(de(Ee(o))," instead."));return o.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,o){if(3!==t.length)return o.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var n=o.parse(t[1],1,ae),i=o.parse(t[2],2,ae);return n&&i?ge(n.type,[ne,oe,te,ee,ae])?new e(n,i):o.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(n.type)," instead")):null}}])}(),Gt=function(){function e(t,o,n){p(this,e),this.type=te,this.needle=t,this.haystack=o,this.fromIndex=n}return u(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!me(t,["boolean","string","number","null"]))throw new Me("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(Ee(t))," instead."));if(!me(o,["string","array"]))throw new Me("Expected second argument to be of type array or string, but found ".concat(de(Ee(o))," instead."));if(this.fromIndex){var n=this.fromIndex.evaluate(e);return o.indexOf(t,n)}return o.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,o){if(t.length<=2||t.length>=5)return o.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var n=o.parse(t[1],1,ae),i=o.parse(t[2],2,ae);if(!n||!i)return null;if(!ge(n.type,[ne,oe,te,ee,ae]))return o.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(n.type)," instead"));if(4===t.length){var r=o.parse(t[3],3,te);return r?new e(n,i,r):null}return new e(n,i)}}])}(),Rt=function(){function e(t,o,n,i,r,a){p(this,e),this.inputType=t,this.type=o,this.input=n,this.cases=i,this.outputs=r,this.otherwise=a}return u(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(Ee(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e,t=this,o=["match",this.input.serialize()],n=[],i={},r=v(Object.keys(this.cases).sort());try{for(r.s();!(e=r.n()).done;){var s=e.value,l=i[this.cases[s]];void 0===l?(i[this.cases[s]]=n.length,n.push([this.cases[s],[s]])):n[l][1].push(s)}}catch(e){r.e(e)}finally{r.f()}for(var c=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,d=n;u<d.length;u++){var p=a(d[u],2),h=p[0],g=p[1];1===g.length?o.push(c(g[0])):o.push(g.map(c)),o.push(this.outputs[h].serialize())}return o.push(this.otherwise.serialize()),o}}],[{key:"parse",value:function(t,o){if(t.length<5)return o.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return o.error("Expected an even number of arguments.");var n,i;o.expectedType&&"value"!==o.expectedType.kind&&(i=o.expectedType);for(var r={},a=[],s=2;s<t.length-1;s+=2){var l=t[s],c=t[s+1];Array.isArray(l)||(l=[l]);var u=o.concat(s);if(0===l.length)return u.error("Expected at least one branch label.");var d,p=v(l);try{for(p.s();!(d=p.n()).done;){var h=d.value;if("number"!=typeof h&&"string"!=typeof h)return u.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,Ee(h)))return null}else n=Ee(h);if(void 0!==r[String(h)])return u.error("Branch labels must be unique.");r[String(h)]=a.length}}catch(e){p.e(e)}finally{p.f()}var g=o.parse(c,s,i);if(!g)return null;i=i||g.type,a.push(g)}var m=o.parse(t[1],1,ae);if(!m)return null;var f=o.parse(t[t.length-1],t.length-1,i);return f?"value"!==m.type.kind&&o.concat(1).checkSubtype(n,m.type)?null:new e(n,i,m,r,a,f):null}}])}(),Tt=function(){function e(t,o,n){p(this,e),this.type=t,this.branches=o,this.otherwise=n}return u(e,[{key:"evaluate",value:function(e){var t,o=v(this.branches);try{for(o.s();!(t=o.n()).done;){var n=a(t.value,2),i=n[0],r=n[1];if(i.evaluate(e))return r.evaluate(e)}}catch(e){o.e(e)}finally{o.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,o=v(this.branches);try{for(o.s();!(t=o.n()).done;){var n=a(t.value,2),i=n[0],r=n[1];e(i),e(r)}}catch(e){o.e(e)}finally{o.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(e){var t=a(e,2);t[0];return t[1].outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,o){if(t.length<4)return o.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return o.error("Expected an odd number of arguments.");var n;o.expectedType&&"value"!==o.expectedType.kind&&(n=o.expectedType);for(var i=[],r=1;r<t.length-1;r+=2){var a=o.parse(t[r],r,ne);if(!a)return null;var s=o.parse(t[r+1],r+1,n);if(!s)return null;i.push([a,s]),n=n||s.type}var l=o.parse(t[t.length-1],t.length-1,n);return l?new e(n,i,l):null}}])}(),Ot=function(){function e(t,o,n,i){p(this,e),this.type=t,this.input=o,this.beginIndex=n,this.endIndex=i}return u(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),o=this.beginIndex.evaluate(e);if(!me(t,["string","array"]))throw new Me("Expected first argument to be of type array or string, but found ".concat(de(Ee(t))," instead."));if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(o,n)}return t.slice(o)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(t,o){if(t.length<=2||t.length>=5)return o.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var n=o.parse(t[1],1,ae),i=o.parse(t[2],2,te);if(!n||!i)return null;if(!ge(n.type,[ue(ae),oe,ae]))return o.error("Expected first argument to be of type array or string, but found ".concat(de(n.type)," instead"));if(4===t.length){var r=o.parse(t[3],3,te);return r?new e(n.type,n,i,r):null}return new e(n.type,n,i)}}])}();function Lt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Dt(e,t,o,n){return 0===n.compare(t,o)}function Nt(e,t,o){var n="=="!==e&&"!="!==e;return function(){function i(e,t,o){p(this,i),this.type=ne,this.lhs=e,this.rhs=t,this.collator=o,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return u(i,[{key:"evaluate",value:function(i){var r=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=Ee(r),l=Ee(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Me('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(l.kind,") instead."))}if(this.collator&&!n&&this.hasUntypedArgument){var c=Ee(r),u=Ee(a);if("string"!==c.kind||"string"!==u.kind)return t(i,r,a)}return this.collator?o(i,r,a,this.collator.evaluate(i)):t(i,r,a)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var o=e[0],r=t.parse(e[1],1,ae);if(!r)return null;if(!Lt(o,r.type))return t.concat(1).error('"'.concat(o,"\" comparisons are not supported for type '").concat(de(r.type),"'."));var a=t.parse(e[2],2,ae);if(!a)return null;if(!Lt(o,a.type))return t.concat(2).error('"'.concat(o,"\" comparisons are not supported for type '").concat(de(a.type),"'."));if(r.type.kind!==a.type.kind&&"value"!==r.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '".concat(de(r.type),"' and '").concat(de(a.type),"'."));n&&("value"===r.type.kind&&"value"!==a.type.kind?r=new Pe(a.type,[r]):"value"!==r.type.kind&&"value"===a.type.kind&&(a=new Pe(r.type,[a])));var s=null;if(4===e.length){if("string"!==r.type.kind&&"string"!==a.type.kind&&"value"!==r.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,se)))return null}return new i(r,a,s)}}])}()}var jt=Nt("==",(function(e,t,o){return t===o}),Dt),Ut=Nt("!=",(function(e,t,o){return t!==o}),(function(e,t,o,n){return!Dt(0,t,o,n)})),Bt=Nt("<",(function(e,t,o){return t<o}),(function(e,t,o,n){return n.compare(t,o)<0})),Ft=Nt(">",(function(e,t,o){return t>o}),(function(e,t,o,n){return n.compare(t,o)>0})),zt=Nt("<=",(function(e,t,o){return t<=o}),(function(e,t,o,n){return n.compare(t,o)<=0})),Vt=Nt(">=",(function(e,t,o){return t>=o}),(function(e,t,o,n){return n.compare(t,o)>=0})),qt=function(){function e(t,o,n,i,r){p(this,e),this.type=oe,this.number=t,this.locale=o,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r}return u(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}],[{key:"parse",value:function(t,o){if(3!==t.length)return o.error("Expected two arguments.");var n=o.parse(t[1],1,te);if(!n)return null;var i=t[2];if("object"!==b(i)||Array.isArray(i))return o.error("NumberFormat options argument must be an object.");var r=null;if(i.locale&&!(r=o.parse(i.locale,1,oe)))return null;var a=null;if(i.currency&&!(a=o.parse(i.currency,1,oe)))return null;var s=null;if(i["min-fraction-digits"]&&!(s=o.parse(i["min-fraction-digits"],1,te)))return null;var l=null;return i["max-fraction-digits"]&&!(l=o.parse(i["max-fraction-digits"],1,te))?null:new e(n,r,a,s,l)}}])}(),Wt={"==":jt,"!=":Ut,">":Ft,"<":Bt,">=":Vt,"<=":zt,array:Pe,at:Pt,boolean:Pe,case:Tt,coalesce:Mt,collator:Ne,format:ke,image:Ge,in:kt,"index-of":Gt,interpolate:_t,"interpolate-hcl":_t,"interpolate-lab":_t,length:function(){function e(t){p(this,e),this.type=te,this.input=t}return u(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Me("Expected value to be of type string or array, but found ".concat(de(Ee(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,o){if(2!==t.length)return o.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var n=o.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?o.error("Expected argument of type string or array, but found ".concat(de(n.type)," instead.")):new e(n):null}}])}(),let:xt,literal:Se,match:Rt,number:Pe,"number-format":qt,object:Pe,slice:Ot,step:at,string:Pe,"to-boolean":Te,"to-color":Te,"to-number":Te,"to-string":Te,var:nt,within:$e};function Ht(e,t){var o=a(t,4),n=o[0],i=o[1],r=o[2],s=o[3];n=n.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);var l=s?s.evaluate(e):1,c=be(n,i,r,l);if(c)throw new Me(c);return new ye(n/255*l,i/255*l,r/255*l,l)}function Yt(e,t){return e in t}function Jt(e,t){var o=t[e];return void 0===o?null:o}function Zt(e){return{type:e}}function Kt(e){return{result:"success",value:e}}function Xt(e){return{result:"error",value:e}}function Qt(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function $t(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function eo(e){return!!e.expression&&e.expression.interpolated}function to(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":b(e)}function oo(e){return"object"===b(e)&&null!==e&&!Array.isArray(e)}function no(e){return e}function io(e,t){var o,n,i,r="color"===t.type,a=e.stops&&"object"===b(e.stops[0][0]),s=a||void 0!==e.property,l=a||!s,c=e.type||(eo(t)?"exponential":"interval");if(r&&((e=X({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],ye.parse(e[1])]}))),e.default?e.default=ye.parse(e.default):e.default=ye.parse(t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Et[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===c)o=lo;else if("interval"===c)o=so;else if("categorical"===c){o=ao,n=Object.create(null);var u,d=v(e.stops);try{for(d.s();!(u=d.n()).done;){var p=u.value;n[p[0]]=p[1]}}catch(e){d.e(e)}finally{d.f()}i=b(e.stops[0][0])}else{if("identity"!==c)throw new Error('Unknown function type "'.concat(c,'"'));o=co}if(a){for(var h={},g=[],m=0;m<e.stops.length;m++){var f=e.stops[m],y=f[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},g.push(y)),h[y].stops.push([f[0].value,f[1]])}for(var A=[],C=0,I=g;C<I.length;C++){var w=I[C];A.push([h[w].zoom,io(h[w],t)])}var E={name:"linear"};return{kind:"composite",interpolationType:E,interpolationFactor:_t.interpolationFactor.bind(void 0,E),zoomStops:A.map((function(e){return e[0]})),evaluate:function(o,n){var i=o.zoom;return lo({stops:A,base:e.base},t,i).evaluate(i,n)}}}if(l){var _="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:_,interpolationFactor:_t.interpolationFactor.bind(void 0,_),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(r){var a=r.zoom;return o(e,t,a,n,i)}}}return{kind:"source",evaluate:function(r,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?ro(e.default,t.default):o(e,t,s,n,i)}}}function ro(e,t,o){return void 0!==e?e:void 0!==t?t:void 0!==o?o:void 0}function ao(e,t,o,n,i){return ro(b(o)===i?n[o]:void 0,e.default,t.default)}function so(e,t,o){if("number"!==to(o))return ro(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[n-1][0])return e.stops[n-1][1];var i=rt(e.stops.map((function(e){return e[0]})),o);return e.stops[i][1]}function lo(e,t,o){var n=void 0!==e.base?e.base:1;if("number"!==to(o))return ro(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[i-1][0])return e.stops[i-1][1];var r=rt(e.stops.map((function(e){return e[0]})),o),a=function(e,t,o,n){var i=n-o,r=e-o;return 0===i?0:1===t?r/i:(Math.pow(t,r)-1)/(Math.pow(t,i)-1)}(o,n,e.stops[r][0],e.stops[r+1][0]),s=e.stops[r][1],l=e.stops[r+1][1],c=ut[t.type]||no;if(e.colorSpace&&"rgb"!==e.colorSpace){var u=Et[e.colorSpace];c=function(e,t){return u.reverse(u.interpolate(u.forward(e),u.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=s.evaluate.apply(void 0,t),i=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==i)return c(n,i,a)}}:c(s,l,a)}function co(e,t,o){return"color"===t.type?o=ye.parse(o):"formatted"===t.type?o=Ce.fromString(o.toString()):"resolvedImage"===t.type?o=Ie.fromString(o.toString()):to(o)===t.type||"enum"===t.type&&t.values[o]||(o=void 0),ro(o,e.default,t.default)}De.register(Wt,{error:[{kind:"error"},[oe],function(e,t){var o=a(t,1)[0];throw new Me(o.evaluate(e))}],typeof:[oe,[ae],function(e,t){return de(Ee(a(t,1)[0].evaluate(e)))}],"to-rgba":[ue(te,4),[ie],function(e,t){return a(t,1)[0].evaluate(e).toArray()}],rgb:[ie,[te,te,te],Ht],rgba:[ie,[te,te,te,te],Ht],has:{type:ne,overloads:[[[oe],function(e,t){return Yt(a(t,1)[0].evaluate(e),e.properties())}],[[oe,re],function(e,t){var o=a(t,2),n=o[0],i=o[1];return Yt(n.evaluate(e),i.evaluate(e))}]]},get:{type:ae,overloads:[[[oe],function(e,t){return Jt(a(t,1)[0].evaluate(e),e.properties())}],[[oe,re],function(e,t){var o=a(t,2),n=o[0],i=o[1];return Jt(n.evaluate(e),i.evaluate(e))}]]},"feature-state":[ae,[oe],function(e,t){return Jt(a(t,1)[0].evaluate(e),e.featureState||{})}],properties:[re,[],function(e){return e.properties()}],"geometry-type":[oe,[],function(e){return e.geometryType()}],id:[ae,[],function(e){return e.id()}],zoom:[te,[],function(e){return e.globals.zoom}],"heatmap-density":[te,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[te,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[te,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[ae,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[te,Zt(te),function(e,t){var o,n=0,i=v(t);try{for(i.s();!(o=i.n()).done;){n+=o.value.evaluate(e)}}catch(e){i.e(e)}finally{i.f()}return n}],"*":[te,Zt(te),function(e,t){var o,n=1,i=v(t);try{for(i.s();!(o=i.n()).done;){n*=o.value.evaluate(e)}}catch(e){i.e(e)}finally{i.f()}return n}],"-":{type:te,overloads:[[[te,te],function(e,t){var o=a(t,2),n=o[0],i=o[1];return n.evaluate(e)-i.evaluate(e)}],[[te],function(e,t){return-a(t,1)[0].evaluate(e)}]]},"/":[te,[te,te],function(e,t){var o=a(t,2),n=o[0],i=o[1];return n.evaluate(e)/i.evaluate(e)}],"%":[te,[te,te],function(e,t){var o=a(t,2),n=o[0],i=o[1];return n.evaluate(e)%i.evaluate(e)}],ln2:[te,[],function(){return Math.LN2}],pi:[te,[],function(){return Math.PI}],e:[te,[],function(){return Math.E}],"^":[te,[te,te],function(e,t){var o=a(t,2),n=o[0],i=o[1];return Math.pow(n.evaluate(e),i.evaluate(e))}],sqrt:[te,[te],function(e,t){var o=a(t,1)[0];return Math.sqrt(o.evaluate(e))}],log10:[te,[te],function(e,t){var o=a(t,1)[0];return Math.log(o.evaluate(e))/Math.LN10}],ln:[te,[te],function(e,t){var o=a(t,1)[0];return Math.log(o.evaluate(e))}],log2:[te,[te],function(e,t){var o=a(t,1)[0];return Math.log(o.evaluate(e))/Math.LN2}],sin:[te,[te],function(e,t){var o=a(t,1)[0];return Math.sin(o.evaluate(e))}],cos:[te,[te],function(e,t){var o=a(t,1)[0];return Math.cos(o.evaluate(e))}],tan:[te,[te],function(e,t){var o=a(t,1)[0];return Math.tan(o.evaluate(e))}],asin:[te,[te],function(e,t){var o=a(t,1)[0];return Math.asin(o.evaluate(e))}],acos:[te,[te],function(e,t){var o=a(t,1)[0];return Math.acos(o.evaluate(e))}],atan:[te,[te],function(e,t){var o=a(t,1)[0];return Math.atan(o.evaluate(e))}],min:[te,Zt(te),function(e,t){return Math.min.apply(Math,i(t.map((function(t){return t.evaluate(e)}))))}],max:[te,Zt(te),function(e,t){return Math.max.apply(Math,i(t.map((function(t){return t.evaluate(e)}))))}],abs:[te,[te],function(e,t){var o=a(t,1)[0];return Math.abs(o.evaluate(e))}],round:[te,[te],function(e,t){var o=a(t,1)[0].evaluate(e);return o<0?-Math.round(-o):Math.round(o)}],floor:[te,[te],function(e,t){var o=a(t,1)[0];return Math.floor(o.evaluate(e))}],ceil:[te,[te],function(e,t){var o=a(t,1)[0];return Math.ceil(o.evaluate(e))}],"filter-==":[ne,[oe,ae],function(e,t){var o=a(t,2),n=o[0],i=o[1];return e.properties()[n.value]===i.value}],"filter-id-==":[ne,[ae],function(e,t){var o=a(t,1)[0];return e.id()===o.value}],"filter-type-==":[ne,[oe],function(e,t){var o=a(t,1)[0];return e.geometryType()===o.value}],"filter-<":[ne,[oe,ae],function(e,t){var o=a(t,2),n=o[0],i=o[1],r=e.properties()[n.value],s=i.value;return b(r)===b(s)&&r<s}],"filter-id-<":[ne,[ae],function(e,t){var o=a(t,1)[0],n=e.id(),i=o.value;return b(n)===b(i)&&n<i}],"filter->":[ne,[oe,ae],function(e,t){var o=a(t,2),n=o[0],i=o[1],r=e.properties()[n.value],s=i.value;return b(r)===b(s)&&r>s}],"filter-id->":[ne,[ae],function(e,t){var o=a(t,1)[0],n=e.id(),i=o.value;return b(n)===b(i)&&n>i}],"filter-<=":[ne,[oe,ae],function(e,t){var o=a(t,2),n=o[0],i=o[1],r=e.properties()[n.value],s=i.value;return b(r)===b(s)&&r<=s}],"filter-id-<=":[ne,[ae],function(e,t){var o=a(t,1)[0],n=e.id(),i=o.value;return b(n)===b(i)&&n<=i}],"filter->=":[ne,[oe,ae],function(e,t){var o=a(t,2),n=o[0],i=o[1],r=e.properties()[n.value],s=i.value;return b(r)===b(s)&&r>=s}],"filter-id->=":[ne,[ae],function(e,t){var o=a(t,1)[0],n=e.id(),i=o.value;return b(n)===b(i)&&n>=i}],"filter-has":[ne,[ae],function(e,t){return a(t,1)[0].value in e.properties()}],"filter-has-id":[ne,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[ne,[ue(oe)],function(e,t){return a(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[ne,[ue(ae)],function(e,t){return a(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[ne,[oe,ue(ae)],function(e,t){var o=a(t,2),n=o[0];return o[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[ne,[oe,ue(ae)],function(e,t){var o=a(t,2),n=o[0],i=o[1];return function(e,t,o,n){for(;o<=n;){var i=o+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:o=i+1}return!1}(e.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:ne,overloads:[[[ne,ne],function(e,t){var o=a(t,2),n=o[0],i=o[1];return n.evaluate(e)&&i.evaluate(e)}],[Zt(ne),function(e,t){var o,n=v(t);try{for(n.s();!(o=n.n()).done;){if(!o.value.evaluate(e))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}]]},any:{type:ne,overloads:[[[ne,ne],function(e,t){var o=a(t,2),n=o[0],i=o[1];return n.evaluate(e)||i.evaluate(e)}],[Zt(ne),function(e,t){var o,n=v(t);try{for(n.s();!(o=n.n()).done;){if(o.value.evaluate(e))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}]]},"!":[ne,[ne],function(e,t){return!a(t,1)[0].evaluate(e)}],"is-supported-script":[ne,[oe],function(e,t){var o=a(t,1)[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(o.evaluate(e))}],upcase:[oe,[oe],function(e,t){return a(t,1)[0].evaluate(e).toUpperCase()}],downcase:[oe,[oe],function(e,t){return a(t,1)[0].evaluate(e).toLowerCase()}],concat:[oe,Zt(ae),function(e,t){return t.map((function(t){return _e(t.evaluate(e))})).join("")}],"resolved-locale":[oe,[se],function(e,t){return a(t,1)[0].evaluate(e).resolvedLocale()}]});var uo=function(){return u((function e(t,o){var n;p(this,e),this.expression=t,this._warningHistory={},this._evaluator=new Le,this._defaultValue=o?"color"===(n=o).type&&oo(n.default)?new ye(0,0,0,0):"color"===n.type?ye.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=o&&"enum"===o.type?o.values:null}),[{key:"evaluateWithoutErrorHandling",value:function(e,t,o,n,i,r){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=o,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=r,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,o,n,i,r){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=o||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=r||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new Me("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", "),", but found ").concat(JSON.stringify(a)," instead."));return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}])}();function po(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Wt}function ho(e,t){var o=new it(Wt,[],t?function(e){var t={color:ie,string:oe,number:te,enum:oe,boolean:ne,formatted:le,resolvedImage:ce};if("array"===e.type)return ue(t[e.value]||ae,e.length);return t[e.type]}(t):void 0),n=o.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Kt(new uo(n,t)):Xt(o.errors)}var go=function(){return u((function e(t,o){p(this,e),this.kind=t,this._styleExpression=o,this.isStateDependent="constant"!==t&&!tt(o.expression)}),[{key:"evaluateWithoutErrorHandling",value:function(e,t,o,n,i,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,n,i,r)}},{key:"evaluate",value:function(e,t,o,n,i,r){return this._styleExpression.evaluate(e,t,o,n,i,r)}}])}(),mo=function(){return u((function e(t,o,n,i){p(this,e),this.kind=t,this.zoomStops=n,this._styleExpression=o,this.isStateDependent="camera"!==t&&!tt(o.expression),this.interpolationType=i}),[{key:"evaluateWithoutErrorHandling",value:function(e,t,o,n,i,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,n,i,r)}},{key:"evaluate",value:function(e,t,o,n,i,r){return this._styleExpression.evaluate(e,t,o,n,i,r)}},{key:"interpolationFactor",value:function(e,t,o){return this.interpolationType?_t.interpolationFactor(this.interpolationType,e,t,o):0}}])}();function fo(e,t){if("error"===(e=ho(e,t)).result)return e;var o=e.value.expression,n=et(o);if(!n&&!Qt(t))return Xt([new Q("","data expressions not supported")]);var i=ot(o,["zoom"]);if(!i&&!$t(t))return Xt([new Q("","zoom expressions not supported")]);var r=function e(t){var o=null;if(t instanceof xt)o=e(t.result);else if(t instanceof Mt){var n,i=v(t.args);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(o=e(r))break}}catch(e){i.e(e)}finally{i.f()}}else(t instanceof at||t instanceof _t)&&t.input instanceof De&&"zoom"===t.input.name&&(o=t);if(o instanceof Q)return o;return t.eachChild((function(t){var n=e(t);n instanceof Q?o=n:!o&&n?o=new Q("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&n&&o!==n&&(o=new Q("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),o}(o);if(!r&&!i)return Xt([new Q("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(r instanceof Q)return Xt([r]);if(r instanceof _t&&!eo(t))return Xt([new Q("",'"interpolate" expressions cannot be used with this property')]);if(!r)return Kt(new go(n?"constant":"source",e.value));var a=r instanceof _t?r.interpolation:void 0;return Kt(new mo(n?"camera":"composite",e.value,r.labels,a))}var yo=function(){function e(t,o){p(this,e),this._parameters=t,this._specification=o,X(this,io(this._parameters,this._specification))}return u(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}])}();function Ao(e){return"object"===b(e)?["literal",e]:e}function vo(e,t){var o=e.stops;if(!o)return function(e,t){var o=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",o]:o;if("enum"===t.type)return["match",o,Object.keys(t.values),o,e.default];var n=["color"===t.type?"to-color":t.type,o,Ao(e.default)];return"array"===t.type&&n.splice(1,0,t.value,t.length||null),n}(e,t);var n=o&&"object"===b(o[0][0]),i=n||void 0!==e.property,r=n||!i;return o=o.map((function(e){return!i&&t.tokens&&"string"==typeof e[1]?[e[0],So(e[1])]:[e[0],Ao(e[1])]})),n?function(e,t,o){for(var n={},i={},r=[],a=0;a<o.length;a++){var s=o[a],l=s[0].zoom;void 0===n[l]&&(n[l]={zoom:l,type:e.type,property:e.property,default:e.default},i[l]=[],r.push(l)),i[l].push([s[0].value,s[1]])}if("exponential"===_o({},t)){var c,u=[Co(e),["linear"],["zoom"]],d=v(r);try{for(d.s();!(c=d.n()).done;){var p=c.value,h=bo(n[p],t,i[p]);Eo(u,p,h,!1)}}catch(e){d.e(e)}finally{d.f()}return u}var g,m=["step",["zoom"]],f=v(r);try{for(f.s();!(g=f.n()).done;){var y=g.value,A=bo(n[y],t,i[y]);Eo(m,y,A,!0)}}catch(e){f.e(e)}finally{f.f()}return wo(m),m}(e,t,o):r?function(e,t,o){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["zoom"],r=_o(e,t),a=!1;if("interval"===r)n=["step",i],a=!0;else{if("exponential"!==r)throw new Error('Unknown zoom function type "'.concat(r,'"'));var s=void 0!==e.base?e.base:1;n=[Co(e),1===s?["linear"]:["exponential",s],i]}var l,c=v(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;Eo(n,u[0],u[1],a)}}catch(e){c.e(e)}finally{c.f()}return wo(n),n}(e,t,o):bo(e,t,o)}function Co(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Io(e,t){var o,n,i=Ao((o=e.default,n=t.default,void 0!==o?o:void 0!==n?n:void 0));return void 0===i&&"resolvedImage"===t.type?"":i}function bo(e,t,o){var n=_o(e,t),i=["get",e.property];if("categorical"===n&&"boolean"==typeof o[0][0]){var r,a=["case"],s=v(o);try{for(s.s();!(r=s.n()).done;){var l=r.value;a.push(["==",i,l[0]],l[1])}}catch(e){s.e(e)}finally{s.f()}return a.push(Io(e,t)),a}if("categorical"===n){var c,u=["match",i],d=v(o);try{for(d.s();!(c=d.n()).done;){var p=c.value;Eo(u,p[0],p[1],!1)}}catch(e){d.e(e)}finally{d.f()}return u.push(Io(e,t)),u}if("interval"===n){var h,g=["step",["number",i]],m=v(o);try{for(m.s();!(h=m.n()).done;){var f=h.value;Eo(g,f[0],f[1],!0)}}catch(e){m.e(e)}finally{m.f()}return wo(g),void 0===e.default?g:["case",["==",["typeof",i],"number"],g,Ao(e.default)]}if("exponential"===n){var y,A=void 0!==e.base?e.base:1,C=[Co(e),1===A?["linear"]:["exponential",A],["number",i]],I=v(o);try{for(I.s();!(y=I.n()).done;){var b=y.value;Eo(C,b[0],b[1],!1)}}catch(e){I.e(e)}finally{I.f()}return void 0===e.default?C:["case",["==",["typeof",i],"number"],C,Ao(e.default)]}throw new Error("Unknown property function type ".concat(n))}function wo(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function Eo(e,t,o,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(o))}function _o(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function So(e){for(var t=["concat"],o=/{([^{}]+)}/g,n=0,i=o.exec(e);null!==i;i=o.exec(e)){var r=e.slice(n,o.lastIndex-i[0].length);n=o.lastIndex,r.length>0&&t.push(r),t.push(["get",i[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}function Mo(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,o=v(e.slice(1));try{for(o.s();!(t=o.n()).done;){var n=t.value;if(!Mo(n)&&"boolean"!=typeof n)return!1}}catch(e){o.e(e)}finally{o.f()}return!0;default:return!0}}var xo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Po(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};Mo(e)||(e=Go(e));var t=ho(e,xo);if("error"===t.result)throw new Error(t.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return{filter:function(e,o,n){return t.value.evaluate(e,o,{},n)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var o=1;o<t.length;o++)if(e(t[o]))return!0;return!1}(e)}}function ko(e,t){return e<t?-1:e>t?1:0}function Go(e){if(!e)return!0;var t,o=e[0];return e.length<=1?"any"!==o:"=="===o?Ro(e[1],e[2],"=="):"!="===o?Lo(Ro(e[1],e[2],"==")):"<"===o||">"===o||"<="===o||">="===o?Ro(e[1],e[2],o):"any"===o?(t=e.slice(1),["any"].concat(t.map(Go))):"all"===o?["all"].concat(e.slice(1).map(Go)):"none"===o?["all"].concat(e.slice(1).map(Go).map(Lo)):"in"===o?To(e[1],e.slice(2)):"!in"===o?Lo(To(e[1],e.slice(2))):"has"===o?Oo(e[1]):"!has"===o?Lo(Oo(e[1])):"within"!==o||e}function Ro(e,t,o){switch(e){case"$type":return["filter-type-".concat(o),t];case"$id":return["filter-id-".concat(o),t];default:return["filter-".concat(o),e,t]}}function To(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return b(e)!==b(t[0])}))?["filter-in-large",e,["literal",t.sort(ko)]]:["filter-in-small",e,["literal",t]]}}function Oo(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Lo(e){return["!",e]}var Do=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function No(e,t){var o={};for(var n in e)"ref"!==n&&(o[n]=e[n]);return Do.forEach((function(e){e in t&&(o[e]=t[e])})),o}function jo(e){e=e.slice();for(var t=Object.create(null),o=0;o<e.length;o++)t[e[o].id]=e[o];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=No(e[n],t[e[n].ref]));return e}var Uo=u((function e(t,o,n,i){p(this,e),this.message=(t?"".concat(t,": "):"")+n,i&&(this.identifier=i),null!=o&&o.__line__&&(this.line=o.__line__)})),Bo=u((function e(t){p(this,e),this.error=t,this.message=t.message;var o=t.message.match(/line (\d+)/);this.line=o?parseInt(o[1],10):0}));function Fo(e){var t=e.key,o=e.value;return o?[new Uo(t,o,"constants have been deprecated as of v8")]:[]}function zo(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Vo(e){if(Array.isArray(e))return e.map(Vo);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var o in e)t[o]=Vo(e[o]);return t}return zo(e)}function qo(e){var t=e.key,o=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},r=e.style,a=e.styleSpec,s=[],l=to(o);if("object"!==l)return[new Uo(t,o,"object expected, ".concat(l," found"))];for(var c in o){var u=c.split(".")[0],d=n[u]||n["*"],p=void 0;if(i[u])p=i[u];else if(n[u])p=cn;else if(i["*"])p=i["*"];else{if(!n["*"]){s.push(new Uo(t,o[c],'unknown property "'.concat(c,'"')));continue}p=cn}s=s.concat(p({key:(t?"".concat(t,"."):t)+c,value:o[c],valueSpec:d,style:r,styleSpec:a,object:o,objectKey:c},o))}for(var h in n)i[h]||n[h].required&&void 0===n[h].default&&void 0===o[h]&&s.push(new Uo(t,o,'missing required property "'.concat(h,'"')));return s}function Wo(e){var t=e.value,o=e.valueSpec,n=e.style,i=e.styleSpec,r=e.key,a=e.arrayElementValidator||cn;if("array"!==to(t))return[new Uo(r,t,"array expected, ".concat(to(t)," found"))];if(o.length&&t.length!==o.length)return[new Uo(r,t,"array length ".concat(o.length," expected, length ").concat(t.length," found"))];if(o["min-length"]&&t.length<o["min-length"])return[new Uo(r,t,"array length at least ".concat(o["min-length"]," expected, length ").concat(t.length," found"))];var s={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum};i.$version<7&&(s.function=o.function),"object"===to(o.value)&&(s=o.value);for(var l=[],c=0;c<t.length;c++)l=l.concat(a({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:n,styleSpec:i,key:"".concat(r,"[").concat(c,"]")}));return l}function Ho(e){var t=e.key,o=e.value,n=e.valueSpec,i=to(o);if("number"===i&&o!=o&&(i="NaN"),"number"!==i)return[new Uo(t,o,"number expected, ".concat(i," found"))];if("minimum"in n){var r=n.minimum;if("array"===to(n.minimum)){var a=e.arrayIndex;r=n.minimum[a]}if(o<r)return[new Uo(t,o,"".concat(o," is less than the minimum value ").concat(r))]}if("maximum"in n){var s=n.maximum;if("array"===to(n.maximum)){var l=e.arrayIndex;s=n.maximum[l]}if(o>s)return[new Uo(t,o,"".concat(o," is greater than the maximum value ").concat(s))]}return[]}function Yo(e){var t,o,n,i=e.valueSpec,r=zo(e.value.type),a={},s="categorical"!==r&&void 0===e.value.property,l=!s,c="array"===to(e.value.stops)&&"array"===to(e.value.stops[0])&&"object"===to(e.value.stops[0][0]),u=qo({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===r)return[new Uo(e.key,e.value,'identity function may not have a "stops" property')];var t=[],o=e.value;t=t.concat(Wo({key:e.key,value:o,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===to(o)&&0===o.length&&t.push(new Uo(e.key,o,"array must have at least one stop"));return t},default:function(e){return cn({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===r&&s&&u.push(new Uo(e.key,e.value,'missing required property "property"')),"identity"===r||e.value.stops||u.push(new Uo(e.key,e.value,'missing required property "stops"')),"exponential"===r&&e.valueSpec.expression&&!eo(e.valueSpec)&&u.push(new Uo(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Qt(e.valueSpec)?u.push(new Uo(e.key,e.value,"property functions not supported")):s&&!$t(e.valueSpec)&&u.push(new Uo(e.key,e.value,"zoom functions not supported"))),"categorical"!==r&&!c||void 0!==e.value.property||u.push(new Uo(e.key,e.value,'"property" property is required')),u;function d(e){var t=[],r=e.value,s=e.key;if("array"!==to(r))return[new Uo(s,r,"array expected, ".concat(to(r)," found"))];if(2!==r.length)return[new Uo(s,r,"array length 2 expected, length ".concat(r.length," found"))];if(c){if("object"!==to(r[0]))return[new Uo(s,r,"object expected, ".concat(to(r[0])," found"))];if(void 0===r[0].zoom)return[new Uo(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new Uo(s,r,"object stop key must have value")];if(n&&n>zo(r[0].zoom))return[new Uo(s,r[0].zoom,"stop zoom values must appear in ascending order")];zo(r[0].zoom)!==n&&(n=zo(r[0].zoom),o=void 0,a={}),t=t.concat(qo({key:"".concat(s,"[0]"),value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Ho,value:p}}))}else t=t.concat(p({key:"".concat(s,"[0]"),value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return po(Vo(r[1]))?t.concat([new Uo("".concat(s,"[1]"),r[1],"expressions are not allowed in function stops.")]):t.concat(cn({key:"".concat(s,"[1]"),value:r[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function p(e,n){var s=to(e.value),l=zo(e.value),c=null!==e.value?e.value:n;if(t){if(s!==t)return[new Uo(e.key,c,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Uo(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==r){var u="number expected, ".concat(s," found");return Qt(i)&&void 0===r&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Uo(e.key,c,u)]}return"categorical"!==r||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===s&&void 0!==o&&l<o?[new Uo(e.key,c,"stop domain values must appear in ascending order")]:(o=l,"categorical"===r&&l in a?[new Uo(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new Uo(e.key,c,"integer expected, found ".concat(l))]}}function Jo(e){var t=("property"===e.expressionContext?fo:ho)(Vo(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Uo("".concat(e.key).concat(t.key),e.value,t.message)}));var o=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!o.outputDefined())return[new Uo(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!tt(o))return[new Uo(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!tt(o))return[new Uo(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!ot(o,["zoom","feature-state"]))return[new Uo(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!et(o))return[new Uo(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Zo(e){var t=e.key,o=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(zo(o))&&i.push(new Uo(t,o,"expected one of [".concat(n.values.join(", "),"], ").concat(JSON.stringify(o)," found"))):-1===Object.keys(n.values).indexOf(zo(o))&&i.push(new Uo(t,o,"expected one of [".concat(Object.keys(n.values).join(", "),"], ").concat(JSON.stringify(o)," found"))),i}function Ko(e){return Mo(Vo(e.value))?Jo(X({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var o=t.value,n=t.key;if("array"!==to(o))return[new Uo(n,o,"array expected, ".concat(to(o)," found"))];var i,r=t.styleSpec,a=[];if(o.length<1)return[new Uo(n,o,"filter array must have at least 1 element")];switch(a=a.concat(Zo({key:"".concat(n,"[0]"),value:o[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),zo(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&"$type"===zo(o[1])&&a.push(new Uo(n,o,'"$type" cannot be use with operator "'.concat(o[0],'"')));case"==":case"!=":3!==o.length&&a.push(new Uo(n,o,'filter array for operator "'.concat(o[0],'" must have 3 elements')));case"in":case"!in":o.length>=2&&"string"!==(i=to(o[1]))&&a.push(new Uo("".concat(n,"[1]"),o[1],"string expected, ".concat(i," found")));for(var s=2;s<o.length;s++)i=to(o[s]),"$type"===zo(o[1])?a=a.concat(Zo({key:"".concat(n,"[").concat(s,"]"),value:o[s],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Uo("".concat(n,"[").concat(s,"]"),o[s],"string, number, or boolean expected, ".concat(i," found")));break;case"any":case"all":case"none":for(var l=1;l<o.length;l++)a=a.concat(e({key:"".concat(n,"[").concat(l,"]"),value:o[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=to(o[1]),2!==o.length?a.push(new Uo(n,o,'filter array for "'.concat(o[0],'" operator must have 2 elements'))):"string"!==i&&a.push(new Uo("".concat(n,"[1]"),o[1],"string expected, ".concat(i," found")));break;case"within":i=to(o[1]),2!==o.length?a.push(new Uo(n,o,'filter array for "'.concat(o[0],'" operator must have 2 elements'))):"object"!==i&&a.push(new Uo("".concat(n,"[1]"),o[1],"object expected, ".concat(i," found")))}return a}(e)}function Xo(e,t){var o=e.key,n=e.style,i=e.styleSpec,r=e.value,a=e.objectKey,s=i["".concat(t,"_").concat(e.layerType)];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return cn({key:o,value:r,valueSpec:i.transition,style:n,styleSpec:i});var c,u=e.valueSpec||s[a];if(!u)return[new Uo(o,r,'unknown property "'.concat(a,'"'))];if("string"===to(r)&&Qt(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(r)))return[new Uo(o,r,'"'.concat(a,'" does not support interpolation syntax\n')+'Use an identity property function instead: `{ "type": "identity", "property": '.concat(JSON.stringify(c[1])," }`."))];var d=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&d.push(new Uo(o,r,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&oo(Vo(r))&&"identity"===zo(r.type)&&d.push(new Uo(o,r,'"text-font" does not support identity functions'))),d.concat(cn({key:e.key,value:r,valueSpec:u,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function Qo(e){return Xo(e,"paint")}function $o(e){return Xo(e,"layout")}function en(e){var t=[],o=e.value,n=e.key,i=e.style,r=e.styleSpec;o.type||o.ref||t.push(new Uo(n,o,'either "type" or "ref" is required'));var a,s=zo(o.type),l=zo(o.ref);if(o.id)for(var c=zo(o.id),u=0;u<e.arrayIndex;u++){var d=i.layers[u];zo(d.id)===c&&t.push(new Uo(n,o.id,'duplicate layer id "'.concat(o.id,'", previously used at line ').concat(d.id.__line__)))}if("ref"in o)["type","source","source-layer","filter","layout"].forEach((function(e){e in o&&t.push(new Uo(n,o[e],'"'.concat(e,'" is prohibited for ref layers')))})),i.layers.forEach((function(e){zo(e.id)===l&&(a=e)})),a?a.ref?t.push(new Uo(n,o.ref,"ref cannot reference another ref layer")):s=zo(a.type):t.push(new Uo(n,o.ref,'ref layer "'.concat(l,'" not found')));else if("background"!==s&&"sky"!==s)if(o.source){var p=i.sources&&i.sources[o.source],h=p&&zo(p.type);p?"vector"===h&&"raster"===s?t.push(new Uo(n,o.source,'layer "'.concat(o.id,'" requires a raster source'))):"raster"===h&&"raster"!==s?t.push(new Uo(n,o.source,'layer "'.concat(o.id,'" requires a vector source'))):"vector"!==h||o["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new Uo(n,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!o.paint||!o.paint["line-gradient"]||"geojson"===h&&p.lineMetrics||t.push(new Uo(n,o,'layer "'.concat(o.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new Uo(n,o,'layer "'.concat(o.id,'" must specify a "source-layer"'))):t.push(new Uo(n,o.source,'source "'.concat(o.source,'" not found')))}else t.push(new Uo(n,o,'missing required property "source"'));return t=t.concat(qo({key:n,value:o,valueSpec:r.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return cn({key:"".concat(n,".type"),value:o.type,valueSpec:r.layer.type,style:e.style,styleSpec:e.styleSpec,object:o,objectKey:"type"})},filter:Ko,layout:function(e){return qo({layer:o,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return $o(X({layerType:s},e))}}})},paint:function(e){return qo({layer:o,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Qo(X({layerType:s},e))}}})}}}))}function tn(e){var t=e.value,o=e.key,n=to(t);return"string"!==n?[new Uo(o,t,"string expected, ".concat(n," found"))]:[]}var on={promoteId:function(e){var t=e.key,o=e.value;if("string"===to(o))return tn({key:t,value:o});var n=[];for(var r in o)n.push.apply(n,i(tn({key:"".concat(t,".").concat(r),value:o[r]})));return n}};function nn(e){var t=e.value,o=e.key,n=e.styleSpec,r=e.style;if(!t.type)return[new Uo(o,t,'"type" is required')];var s,l=zo(t.type);switch(l){case"vector":case"raster":case"raster-dem":return s=qo({key:o,value:t,valueSpec:n["source_".concat(l.replace("-","_"))],style:e.style,styleSpec:n,objectElementValidators:on});case"geojson":if(s=qo({key:o,value:t,valueSpec:n.source_geojson,style:r,styleSpec:n,objectElementValidators:on}),t.cluster)for(var c in t.clusterProperties){var u,d,p=a(t.clusterProperties[c],2),h=p[0],g=p[1],m="string"==typeof h?[h,["accumulated"],["get",c]]:h;(u=s).push.apply(u,i(Jo({key:"".concat(o,".").concat(c,".map"),value:g,expressionContext:"cluster-map"}))),(d=s).push.apply(d,i(Jo({key:"".concat(o,".").concat(c,".reduce"),value:m,expressionContext:"cluster-reduce"})))}return s;case"video":return qo({key:o,value:t,valueSpec:n.source_video,style:r,styleSpec:n});case"image":return qo({key:o,value:t,valueSpec:n.source_image,style:r,styleSpec:n});case"canvas":return[new Uo(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Zo({key:"".concat(o,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:n})}}function rn(e){var t=e.value,o=e.styleSpec,n=o.light,i=e.style,r=[],a=to(t);if(void 0===t)return r;if("object"!==a)return r=r.concat([new Uo("light",t,"object expected, ".concat(a," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);r=l&&n[l[1]]&&n[l[1]].transition?r.concat(cn({key:s,value:t[s],valueSpec:o.transition,style:i,styleSpec:o})):n[s]?r.concat(cn({key:s,value:t[s],valueSpec:n[s],style:i,styleSpec:o})):r.concat([new Uo(s,t[s],'unknown property "'.concat(s,'"'))])}return r}function an(e){var t=e.value,o=e.key,n=e.style,i=e.styleSpec,r=i.terrain,a=[],s=to(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Uo("terrain",t,"object expected, ".concat(s," found"))]);for(var l in t){var c=l.match(/^(.*)-transition$/);a=c&&r[c[1]]&&r[c[1]].transition?a.concat(cn({key:l,value:t[l],valueSpec:i.transition,style:n,styleSpec:i})):r[l]?a.concat(cn({key:l,value:t[l],valueSpec:r[l],style:n,styleSpec:i})):a.concat([new Uo(l,t[l],'unknown property "'.concat(l,'"'))])}if(t.source){var u=n.sources&&n.sources[t.source],d=u&&zo(u.type);u?"raster-dem"!==d&&a.push(new Uo(o,t.source,"terrain cannot be used with a source of type ".concat(d,', it only be used with a "raster-dem" source type'))):a.push(new Uo(o,t.source,'source "'.concat(t.source,'" not found')))}else a.push(new Uo(o,t,'terrain is missing required property "source"'));return a}function sn(e){var t=e.value,o=e.style,n=e.styleSpec,i=n.fog,r=[],a=to(t);if(void 0===t)return r;if("object"!==a)return r=r.concat([new Uo("fog",t,"object expected, ".concat(a," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);r=l&&i[l[1]]&&i[l[1]].transition?r.concat(cn({key:s,value:t[s],valueSpec:n.transition,style:o,styleSpec:n})):i[s]?r.concat(cn({key:s,value:t[s],valueSpec:i[s],style:o,styleSpec:n})):r.concat([new Uo(s,t[s],'unknown property "'.concat(s,'"'))])}return r}var ln={"*":function(){return[]},array:Wo,boolean:function(e){var t=e.value,o=e.key,n=to(t);return"boolean"!==n?[new Uo(o,t,"boolean expected, ".concat(n," found"))]:[]},number:Ho,color:function(e){var t=e.key,o=e.value,n=to(o);return"string"!==n?[new Uo(t,o,"color expected, ".concat(n," found"))]:null===fe.parseCSSColor(o)?[new Uo(t,o,'color expected, "'.concat(o,'" found'))]:[]},constants:Fo,enum:Zo,filter:Ko,function:Yo,layer:en,object:qo,source:nn,light:rn,terrain:an,fog:sn,string:tn,formatted:function(e){return 0===tn(e).length?[]:Jo(e)},resolvedImage:function(e){return 0===tn(e).length?[]:Jo(e)}};function cn(e){var t=e.value,o=e.valueSpec,n=e.styleSpec;return o.expression&&oo(zo(t))?Yo(e):o.expression&&po(Vo(t))?Jo(e):o.type&&ln[o.type]?ln[o.type](e):qo(X({},e,{valueSpec:o.type?n[o.type]:o}))}function un(e){var t=e.value,o=e.key,n=tn(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Uo(o,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Uo(o,t,'"glyphs" url must include a "{range}" token'))),n}function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,o=[];return o=o.concat(cn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:un,"*":function(){return[]}}})),e.constants&&(o=o.concat(Fo({key:"constants",value:e.constants,style:e,styleSpec:t}))),pn(o)}function pn(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function hn(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return pn(e.apply(this,o))}}dn.source=hn(nn),dn.light=hn(rn),dn.terrain=hn(an),dn.fog=hn(sn),dn.layer=hn(en),dn.filter=hn(Ko),dn.paintProperty=hn(Qo),dn.layoutProperty=hn($o);var gn=_((function(e,t){var o=function(){var e=function(e,t,o,n){for(o=o||{},n=e.length;n--;o[e[n]]=t);return o},t=[1,12],o=[1,13],n=[1,9],i=[1,10],r=[1,11],a=[1,14],s=[1,15],l=[14,18,22,24],c=[18,22],u=[22,24],d={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,o,n,i,r,a){var s=r.length-1;switch(i){case 1:this.$=new String(e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(e),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=r[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=r[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[r[s-2],r[s]];break;case 16:this.$={},this.$[r[s][0]]=r[s][1];break;case 17:this.$=r[s-2],r[s-2][r[s][0]]=r[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[r[s]];break;case 21:this.$=r[s-2],r[s-2].push(r[s])}},table:[{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:i,11:r,12:1,13:2,15:7,16:8,17:a,23:s},{1:[3]},{14:[1,16]},e(l,[2,7]),e(l,[2,8]),e(l,[2,9]),e(l,[2,10]),e(l,[2,11]),e(l,[2,12]),e(l,[2,3]),e(l,[2,4]),e(l,[2,5]),e([14,18,21,22,24],[2,1]),e(l,[2,2]),{3:20,4:t,18:[1,17],19:18,20:19},{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:i,11:r,13:23,15:7,16:8,17:a,23:s,24:[1,21],25:22},{1:[2,6]},e(l,[2,13]),{18:[1,24],22:[1,25]},e(c,[2,16]),{21:[1,26]},e(l,[2,18]),{22:[1,28],24:[1,27]},e(u,[2,20]),e(l,[2,14]),{3:20,4:t,20:29},{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:i,11:r,13:30,15:7,16:8,17:a,23:s},e(l,[2,19]),{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:i,11:r,13:31,15:7,16:8,17:a,23:s},e(c,[2,17]),e(c,[2,15]),e(u,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,o=[0],n=[null],i=[],r=this.table,a="",s=0,l=0,c=2,u=1,d=i.slice.call(arguments,1),p=Object.create(this.lexer),h={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(h.yy[g]=this.yy[g]);p.setInput(e,h.yy),h.yy.lexer=p,h.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var m=p.yylloc;i.push(m);var f=p.options&&p.options.ranges;function y(){var e;return"number"!=typeof(e=p.lex()||u)&&(e=t.symbols_[e]||e),e}"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var A,v,C,I,b,w,E,_,S={};;){if(v=o[o.length-1],this.defaultActions[v]?C=this.defaultActions[v]:(null==A&&(A=y()),C=r[v]&&r[v][A]),void 0===C||!C.length||!C[0]){var M="";for(b in _=[],r[v])this.terminals_[b]&&b>c&&_.push("'"+this.terminals_[b]+"'");M=p.showPosition?"Parse error on line "+(s+1)+":\n"+p.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[A]||A)+"'":"Parse error on line "+(s+1)+": Unexpected "+(A==u?"end of input":"'"+(this.terminals_[A]||A)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[A]||A,line:p.yylineno,loc:m,expected:_})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+A);switch(C[0]){case 1:o.push(A),n.push(p.yytext),i.push(p.yylloc),o.push(C[1]),A=null,l=p.yyleng,a=p.yytext,s=p.yylineno,m=p.yylloc;break;case 2:if(w=this.productions_[C[1]][1],S.$=n[n.length-w],S._$={first_line:i[i.length-(w||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(w||1)].first_column,last_column:i[i.length-1].last_column},f&&(S._$.range=[i[i.length-(w||1)].range[0],i[i.length-1].range[1]]),void 0!==(I=this.performAction.apply(S,[a,l,s,h.yy,C[1],n,i].concat(d))))return I;w&&(o=o.slice(0,-1*w*2),n=n.slice(0,-1*w),i=i.slice(0,-1*w)),o.push(this.productions_[C[1]][0]),n.push(S.$),i.push(S._$),E=r[o[o.length-2]][o[o.length-1]],o.push(E);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,o=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===n.length?this.yylloc.first_column:0)+n[n.length-o.length].length-o[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var o,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(var r in i)this[r]=i[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,o,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),r=0;r<i.length;r++)if((o=this._input.match(this.rules[i[r]]))&&(!t||o[0].length>t[0].length)){if(t=o,n=r,this.options.backtrack_lexer){if(!1!==(e=this.test_match(o,i[r])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,o,n){switch(o){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function h(){this.yy={}}return d.lexer=p,h.prototype=d,d.Parser=h,new h}();void 0!==S&&(t.parser=o,t.Parser=o.Parser,t.parse=function(){return o.parse.apply(o,arguments)})}));function mn(e){if(e instanceof String||"string"==typeof e||e instanceof n)try{return gn.parse(e.toString())}catch(e){throw new Bo(e)}return e}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,o=e;try{o=mn(o)}catch(e){return[e]}return dn(o,t)}new Set(["vector","raster","raster-dem"]);var yn={StyleExpression:uo,isExpression:po,isExpressionFilter:Mo,createExpression:ho,createPropertyExpression:fo,normalizePropertyExpression:function(e,t){if(oo(e))return new yo(e,t);if(po(e)){var o=fo(e,t);if("error"===o.result)throw new Error(o.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return o.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=ye.parse(e)),{kind:"constant",evaluate:function(){return n}}},ZoomConstantExpression:go,ZoomDependentExpression:mo,StylePropertyFunction:yo},An={convertFunction:vo,createFunction:io,isFunction:oo};fn.parsed=fn,fn.latest=fn}).call(this,o(28),o(105).Buffer)},function(e){e.exports=JSON.parse('{"name":"geoportal-extensions","description":"French Geoportal Extensions for OpenLayers, Leaflet and iTowns libraries","version":"3.0.2","date":"17/04/2024","leafletExtName":"French Geoportal Extension for Leaflet","leafletExtVersion":"2.4.0","olExtName":"French Geoportal Extension for OpenLayers","olExtVersion":"3.4.2","itownsExtName":"French Geoportal Extension for Itowns","itownsExtVersion":"2.5.0","main":"dist/leaflet/GpPluginLeaflet.js, dist/openlayers/GpPluginOpenLayers.js, dist/itowns/GpPluginItowns.js","types":"dist/leaflet/index.d.ts, dist/openlayers/index.d.ts, dist/itowns/index.d.ts","module":"src/Leaflet/index.js, src/OpenLayers/index.js, src/Itowns/index.js","directories":{},"scripts":{"setup":"npm install","clean":"echo \\"Warning: target not yet implemented!\\" && exit 0","eslint":"eslint src/","test":"npm run test:serve","test:serve":"cd test && webpack-dev-server --hot --config webpack.test.serve.js","sample":"npm run sample:serve","sample:serve":"npm run sample:ol:serve","sample:itowns:serve":"webpack-dev-server --config build/webpack/webpack.config.itowns --mode=development --https --open-page samples/index-itowns-map.html --content-base . --output-public-path \'/dist/itowns/\' --port 9001 --open","sample:leaflet:serve":"webpack-dev-server --config build/webpack/webpack.config.leaflet --mode=development --https --open-page samples/index-leaflet-map.html --content-base . --output-public-path \'/dist/leaflet/\' --port 9001 --open","sample:ol:serve":"webpack-dev-server --config build/webpack/webpack.config.openlayers --mode=development --https --open-page samples/index-openlayers-map.html --content-base . --output-public-path \'/dist/openlayers/\' --port 9001 --open","generate-types:ol":"npx tsc -p build/types/tsconfig-openlayers.json","generate-types:leaflet":"npx tsc -p build/types/tsconfig-leaflet.json","generate-types:itowns":"npx tsc -p build/types/tsconfig-itowns.json","generate-jsdoc:ol":"jsdoc -c build/jsdoc/jsdoc-openlayers.json","generate-jsdoc:leaflet":"jsdoc -c build/jsdoc/jsdoc-leaflet.json","generate-jsdoc:itowns":"jsdoc -c build/jsdoc/jsdoc-itowns.json","doc":"npm run doc:serve","doc:serve":"npm run doc:ol:serve","doc:itowns:serve":"webpack-dev-server --hot  --config build/webpack/webpack.config.itowns --content-base jsdoc/itowns --port 9001 --open","doc:leaflet:serve":"webpack-dev-server --hot  --config build/webpack/webpack.config.leaflet --content-base jsdoc/leaflet --port 9001 --open","doc:ol:serve":"webpack-dev-server --hot  --config build/webpack/webpack.config.openlayers --content-base jsdoc/openlayers --port 9001 --open","build:dev":"npm-run-all --print-label --print-name build:*:dev","build:prod":"npm-run-all --print-label --print-name build:*:prod","build:src":"npm-run-all --print-label --print-name build:*:src","build":"npm-run-all --print-label --print-name build:*:*","build:itowns":"npm-run-all --print-label --print-name build:itowns:*","build:itowns:dev":"webpack --config build/webpack/webpack.config.itowns --mode=development","build:itowns:prod":"webpack --config build/webpack/webpack.config.itowns --mode=production","build:itowns:src":"webpack --config build/webpack/webpack.config.itowns --mode=none","build:ol":"npm-run-all --print-label --print-name build:ol:*","build:ol:dev":"webpack --config build/webpack/webpack.config.openlayers --mode=development","build:ol:prod":"webpack --config build/webpack/webpack.config.openlayers --mode=production","build:ol:src":"webpack --config build/webpack/webpack.config.openlayers --mode=none","build:leaflet":"npm-run-all --print-label --print-name build:leaflet:*","build:leaflet:dev":"webpack --config build/webpack/webpack.config.leaflet --mode=development","build:leaflet:prod":"webpack --config build/webpack/webpack.config.leaflet --mode=production","build:leaflet:src":"webpack --config build/webpack/webpack.config.leaflet --mode=none"},"repository":{"type":"git","url":"https://github.com/IGNF/geoportal-extensions.git"},"author":"IGNF","keywords":["geoportail","geoplateforme","javascript","OpenLayers","Leaflet","Itowns","3D"],"license":"CECILL-B","bugs":{"url":"https://github.com/IGNF/geoportal-extensions/issues"},"homepage":"https://github.com/IGNF/geoportal-extensions#readme","dependencies":{"@mapbox/mapbox-gl-style-spec":"13.20.1","eventbusjs":"0.2.0","geoportal-access-lib":"3.4.1","itowns":"2.38.2","leaflet":"1.7.1","leaflet-draw":"1.0.4","loglevel":"^1.6.7","markdown-toc":"^1.2.0","ol":"6.9.0","ol-mapbox-style":"6.7.0","proj4":"2.7.5","proj4leaflet":"1.0.2","sortablejs":"1.14.0","three":"0.137.5","typescript":"^4.5.5","whatwg-fetch":"3.0.0"},"devDependencies":{"@babel/core":"^7.4.4","@babel/plugin-transform-template-literals":"^7.7.4","@babel/preset-env":"^7.4.4","babel-loader":"^8.0.5","chai":"^4.2.0","chalk":"^4.0.0","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^5.0.3","core-js":"^3.6.4","css-loader":"^3.4.2","eslint":"^6.8.0","eslint-config-standard":"^14.1.1","eslint-loader":"^4.0.0","eslint-plugin-import":"^2.17.2","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.1.1","eslint-plugin-standard":"^4.0.0","exports-loader":"^0.7.0","expose-loader":"^0.7.5","fs-extra":"^9.0.0","handlebars":"^4.7.5","handlebars-layouts":"^3.1.4","html-webpack-plugin":"^4.0.4","jsdoc-webpack-plugin":"^0.3.0","mini-css-extract-plugin":"^0.9.0","mocha":"^7.1.1","mocha-loader":"^5.0.0","npm-run-all":"^4.1.5","optimize-css-assets-webpack-plugin":"^5.0.1","path":"^0.12.7","replace-bundle-webpack-plugin":"^1.0.0","requirejs":"^2.3.6","responsive-loader":"^1.2.0","speed-measure-webpack-plugin":"^1.3.0","string-template":"^1.0.0","style-loader":"^1.1.3","terser-webpack-plugin":"^2.0.0","url-loader":"^4.0.0","webpack":"^4.30.0","webpack-cli":"^3.3.1","webpack-dev-server":"^3.3.1","webpack-node-externals":"^1.7.2"}}')},function(e,t,o){var n,i;!function(r,a){"use strict";void 0===(i="function"==typeof(n=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],n={},i=null;function r(e,t){var o=e[t];if("function"==typeof o.bind)return o.bind(e);try{return Function.prototype.bind.call(o,e)}catch(t){return function(){return Function.prototype.apply.apply(o,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(o){return"debug"===o&&(o="log"),"undefined"!=typeof console&&("trace"===o&&t?a:void 0!==console[o]?r(console,o):void 0!==console.log?r(console,"log"):e)}function l(){for(var t=this.getLevel(),n=0;n<o.length;n++){var i=o[n];this[i]=n<t?e:this.methodFactory(i,t,this.name)}if(this.log=this.debug,"undefined"==typeof console&&t<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){"undefined"!=typeof console&&(l.call(this),this[e].apply(this,arguments))}}function u(e,t,o){return s(e)||c.apply(this,arguments)}function d(e,t){var r,a,s,c=this,d="loglevel";function p(){var e;if("undefined"!=typeof window&&d){try{e=window.localStorage[d]}catch(e){}if(void 0===e)try{var t=window.document.cookie,o=encodeURIComponent(d),n=t.indexOf(o+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n+o.length+1))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}function h(e){var t=e;if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=c.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=t||u,c.getLevel=function(){return null!=s?s:null!=a?a:r},c.setLevel=function(e,t){return s=h(e),!1!==t&&function(e){var t=(o[e]||"silent").toUpperCase();if("undefined"!=typeof window&&d){try{return void(window.localStorage[d]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+t+";"}catch(e){}}}(s),l.call(c)},c.setDefaultLevel=function(e){a=h(e),p()||c.setLevel(e,!1)},c.resetLevel=function(){s=null,function(){if("undefined"!=typeof window&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),l.call(c)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)},c.rebuild=function(){if(i!==c&&(r=h(i.getLevel())),l.call(c),i===c)for(var e in n)n[e].rebuild()},r=h(i?i.getLevel():"WARN");var g=p();null!=g&&(s=h(g)),l.call(c)}(i=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=n[e];return t||(t=n[e]=new d(e,i.methodFactory)),t};var p="undefined"!=typeof window?window.log:void 0;return i.noConflict=function(){return"undefined"!=typeof window&&window.log===i&&(window.log=p),i},i.getLoggers=function(){return n},i.default=i,i})?n.call(t,o,t,e):n)||(e.exports=i)}()},function(e,t,o){(function(t){e.exports=t.proj4=o(109)}).call(this,o(28))},function(e,t){e.exports=ol.layer.Tile},function(e,t){e.exports=ol.extent},function(e,t){e.exports=ol.layer.VectorTile},function(e,t){e.exports=ol.Collection},function(e,t){e.exports=ol.source.TileJSON},function(e,t){e.exports=ol.format.MVT},function(e,t){e.exports=ol.events.condition},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t){e.exports=ol.source.TileWMS},function(e,t){e.exports=ol.source.WMTS},function(e){e.exports=JSON.parse('{"_from":"geoportal-access-lib@3.4.1","_id":"geoportal-access-lib@3.4.1","_inBundle":false,"_integrity":"sha512-ClyKb/NIJtCTz41ro+03+mlZ2HfyPVjRCc+6UdyZ8w0+2fLMi9yUrhK9UfiL0gZxwZGq0swBvl+1y9RJbNUfYA==","_location":"/geoportal-access-lib","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"geoportal-access-lib@3.4.1","name":"geoportal-access-lib","escapedName":"geoportal-access-lib","rawSpec":"3.4.1","saveSpec":null,"fetchSpec":"3.4.1"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/geoportal-access-lib/-/geoportal-access-lib-3.4.1.tgz","_shasum":"12e90a59e457d9475e923bd9aa10a67a8e5b1d9e","_spec":"geoportal-access-lib@3.4.1","_where":"/home/runner/work/geoportal-extensions/geoportal-extensions","author":{"name":"IGNF"},"bugs":{"url":"https://github.com/IGNF/geoportal-access-lib/issues"},"bundleDependencies":false,"date":"16/04/2024","dependencies":{"@xmldom/xmldom":"^0.8.10","es6-promise":"^4.2.4","node-fetch":"^2.6.1"},"deprecated":false,"description":"French Geoportal resources access library","devDependencies":{"@babel/core":"^7.12.10","@babel/plugin-transform-template-literals":"^7.12.1","@babel/preset-env":"^7.12.11","babel-loader":"^8.2.2","chai":"^4.1.2","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^5.1.2","eslint":"^7.18.0","eslint-config-standard":"^16.0.2","eslint-loader":"^4.0.2","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^5.0.0","glob":"^7.1.2","handlebars-layouts":"^3.1.4","handlebars-webpack-plugin":"^1.4.1","html-webpack-plugin":"^4.5.1","istanbul-instrumenter-loader":"^3.0.1","jsdoc-webpack-plugin":"^0.3.0","loglevel":"^1.6.1","mocha":"^7.2.0","mocha-loader":"^5.1.5","mocha-webpack":"^2.0.0-beta.0","mochawesome":"^6.2.1","nyc":"^15.1.0","path":"^0.12.7","replace-bundle-webpack-plugin":"^1.0.0","sinon":"^9.2.4","sinon-es6":"0.0.3","speed-measure-webpack-plugin":"^1.4.2","string-template":"^1.0.0","terser-webpack-plugin":"^2.3.8","webpack":"^4.46.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.2","webpack-node-externals":"^2.5.2","webpack-shell-plugin":"^0.5.0"},"homepage":"https://github.com/IGNF/geoportal-access-lib#readme","keywords":["geoplateforme","geoportail","webservice","javascript","es6"],"license":"CECILL-B","main":"dist/GpServices-src.js","module":"src/Gp.js","name":"geoportal-access-lib","nyc":{"include":["src/**/*.js"],"instrument":false,"sourceMap":false},"optionalDependencies":{},"peerDependencies":{},"repository":{"type":"git","url":"git+https://github.com/IGNF/geoportal-access-lib.git"},"scripts":{"build":"webpack --mode=none","build:dev":"webpack --mode=development","build:prod":"webpack --mode=production","clean":"echo \\"Warning: no yet implemented!\\" && exit 0","cover":"nyc --reporter=lcov --reporter=text npm run test","doc":"npm run doc:serve","doc:serve":"webpack-dev-server --content-base jsdoc --port 9001 --open","eslint":"eslint src/","sample":"npm run sample:serve","sample:serve":"webpack-dev-server --mode=none --open-page samples/index-src.html --https --content-base . --output-public-path \'/dist/\' --port 9001 --open","sample:serve:dev":"webpack-dev-server --mode=development --open-page samples/index-map.html --content-base . --output-public-path \'/dist/\' --port 9001 --open","sample:serve:prod":"webpack-dev-server --mode=production --open-page samples/index-prod.html --content-base . --output-public-path \'/dist/\' --port 9001 --open","setup":"npm install","test":"mocha-webpack --reporter mochawesome --reporter-options reportDir=test-report,reportFilename=index --webpack-config ./test/webpack/webpack.test.js --glob \\"test_*.js\\" test/spec/","test:end-to-end:serve":"webpack-dev-server --hot --config ./test/webpack/webpack.end-to-end.serve.js","test:end-to-end:serve:docker":"webpack-dev-server --hot --config ./test/webpack/webpack.end-to-end.serve.docker.js","test:serve":"webpack-dev-server --hot --config ./test/webpack/webpack.test.serve.js","test:serve:docker":"webpack-dev-server --hot --config ./test/webpack/webpack.test.serve.docker.js"},"version":"3.4.1"}')},function(e,t){e.exports=ol.style.Circle},function(e,t){e.exports=ol.style.Icon},function(e,t){e.exports=ol.style.Text},function(e,t,o){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var i=n({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.find=function(e,t,o){if(void 0===o&&(o=Array.prototype),e&&"function"==typeof o.find)return o.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}},t.freeze=n,t.MIME_TYPE=i,t.NAMESPACE=r},function(e,t){e.exports=ol.format.GeoJSON},function(e,t){e.exports=ol.tilegrid.WMTS},function(e,t){var o={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},n=/(italic|oblique)$/i,i={};e.exports=function(e,t,r){var a=i[e];if(!a){Array.isArray(e)||(e=[e]);for(var s,l,c=400,u="normal",d=[],p=0,h=e.length;p<h;++p){var g=e[p].split(" "),m=g[g.length-1].toLowerCase();for(var f in"normal"==m||"italic"==m||"oblique"==m?(u=l?u:m,l=!0,g.pop(),m=g[g.length-1].toLowerCase()):n.test(m)&&(m=m.replace(n,""),u=l?u:g[g.length-1].replace(m,""),l=!0),o){var y=g.length>1?g[g.length-2].toLowerCase():"";if(m==f||m==f.replace("-","")||y+"-"+m==f){c=s?c:o[f],g.pop(),y&&f.startsWith(y)&&g.pop();break}}s||"number"!=typeof m||(c=m,s=!0);var A=g.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==A.indexOf(" ")&&(A='"'+A+'"'),d.push(A)}a=i[e]=[u,c,d]}return a[0]+" "+a[1]+" "+t+"px"+(r?"/"+r:"")+" "+a[2]}},function(e,t){e.exports=ol.Map},function(e,t){e.exports=ol.tilegrid.TileGrid},function(e,t){e.exports=ol.render.canvas},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t){e.exports=void 0},function(e,t,o){var n=o(61);t.DOMImplementation=n.DOMImplementation,t.XMLSerializer=n.XMLSerializer,t.DOMParser=o(102).DOMParser},function(e,t,o){var n=o(35),i=n.find,r=n.NAMESPACE;function a(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}function u(e,t){var o=e.prototype;if(!(o instanceof t)){function n(){}n.prototype=t.prototype,c(o,n=new n),e.prototype=o=n}o.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),o.constructor=e)}var d={},p=d.ELEMENT_NODE=1,h=d.ATTRIBUTE_NODE=2,g=d.TEXT_NODE=3,m=d.CDATA_SECTION_NODE=4,f=d.ENTITY_REFERENCE_NODE=5,y=d.ENTITY_NODE=6,A=d.PROCESSING_INSTRUCTION_NODE=7,v=d.COMMENT_NODE=8,C=d.DOCUMENT_NODE=9,I=d.DOCUMENT_TYPE_NODE=10,b=d.DOCUMENT_FRAGMENT_NODE=11,w=d.NOTATION_NODE=12,E={},_={},S=(E.INDEX_SIZE_ERR=(_[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),M=(E.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),E.NOT_FOUND_ERR=(_[8]="Not found",8)),x=(E.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));E.INVALID_STATE_ERR=(_[11]="Invalid state",11),E.SYNTAX_ERR=(_[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),E.NAMESPACE_ERR=(_[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function P(e,t){if(t instanceof Error)var o=t;else o=this,Error.call(this,_[e]),this.message=_[e],Error.captureStackTrace&&Error.captureStackTrace(this,P);return o.code=e,t&&(this.message=this.message+": "+t),o}function k(){}function G(e,t){this._node=e,this._refresh=t,R(this)}function R(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var o=e._refresh(e._node);if(ye(e,"length",o.length),!e.$$length||o.length<e.$$length)for(var n=o.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];c(o,e),e._inc=t}}function T(){}function O(e,t){for(var o=e.length;o--;)if(e[o]===t)return o}function L(e,t,o,n){if(n?t[O(t,n)]=o:t[t.length++]=o,e){o.ownerElement=e;var i=e.ownerDocument;i&&(n&&z(i,e,n),function(e,t,o){e&&e._inc++,o.namespaceURI===r.XMLNS&&(t._nsMap[o.prefix?o.localName:""]=o.value)}(i,e,o))}}function D(e,t,o){var n=O(t,o);if(!(n>=0))throw new P(M,new Error(e.tagName+"@"+o));for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var r=e.ownerDocument;r&&(z(r,e,o),o.ownerElement=null)}}function N(){}function j(){}function U(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function B(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(B(e,t))return!0}while(e=e.nextSibling)}function F(){this.ownerDocument=this}function z(e,t,o,n){e&&e._inc++,o.namespaceURI===r.XMLNS&&delete t._nsMap[o.prefix?o.localName:""]}function V(e,t,o){if(e&&e._inc){e._inc++;var n=t.childNodes;if(o)n[n.length++]=o;else{for(var i=t.firstChild,r=0;i;)n[r++]=i,i=i.nextSibling;n.length=r,delete n[n.length]}}}function q(e,t){var o=t.previousSibling,n=t.nextSibling;return o?o.nextSibling=n:e.firstChild=n,n?n.previousSibling=o:e.lastChild=o,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,V(e.ownerDocument,e),t}function W(e){return e&&e.nodeType===j.DOCUMENT_TYPE_NODE}function H(e){return e&&e.nodeType===j.ELEMENT_NODE}function Y(e){return e&&e.nodeType===j.TEXT_NODE}function J(e,t){var o=e.childNodes||[];if(i(o,H)||W(t))return!1;var n=i(o,W);return!(t&&n&&o.indexOf(n)>o.indexOf(t))}function Z(e,t){var o=e.childNodes||[];if(i(o,(function(e){return H(e)&&e!==t})))return!1;var n=i(o,W);return!(t&&n&&o.indexOf(n)>o.indexOf(t))}function K(e,t,o){if(!function(e){return e&&(e.nodeType===j.DOCUMENT_NODE||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.ELEMENT_NODE)}(e))throw new P(S,"Unexpected parent node type "+e.nodeType);if(o&&o.parentNode!==e)throw new P(M,"child not in parent");if(!function(e){return e&&(H(e)||Y(e)||W(e)||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.COMMENT_NODE||e.nodeType===j.PROCESSING_INSTRUCTION_NODE)}(t)||W(t)&&e.nodeType!==j.DOCUMENT_NODE)throw new P(S,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function X(e,t,o){var n=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=r.filter(H);if(a.length>1||i(r,Y))throw new P(S,"More than one element or text in fragment");if(1===a.length&&!J(e,o))throw new P(S,"Element in fragment can not be inserted before doctype")}if(H(t)&&!J(e,o))throw new P(S,"Only one element can be added and only after doctype");if(W(t)){if(i(n,W))throw new P(S,"Only one doctype is allowed");var s=i(n,H);if(o&&n.indexOf(s)<n.indexOf(o))throw new P(S,"Doctype can only be inserted before an element");if(!o&&s)throw new P(S,"Doctype can not be appended since element is present")}}function Q(e,t,o){var n=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=r.filter(H);if(a.length>1||i(r,Y))throw new P(S,"More than one element or text in fragment");if(1===a.length&&!Z(e,o))throw new P(S,"Element in fragment can not be inserted before doctype")}if(H(t)&&!Z(e,o))throw new P(S,"Only one element can be added and only after doctype");if(W(t)){if(i(n,(function(e){return W(e)&&e!==o})))throw new P(S,"Only one doctype is allowed");var s=i(n,H);if(o&&n.indexOf(s)<n.indexOf(o))throw new P(S,"Doctype can only be inserted before an element")}}function $(e,t,o,n){K(e,t,o),e.nodeType===j.DOCUMENT_NODE&&(n||X)(e,t,o);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===b){var r=t.firstChild;if(null==r)return t;var a=t.lastChild}else r=a=t;var s=o?o.previousSibling:e.lastChild;r.previousSibling=s,a.nextSibling=o,s?s.nextSibling=r:e.firstChild=r,null==o?e.lastChild=a:o.previousSibling=a;do{r.parentNode=e}while(r!==a&&(r=r.nextSibling));return V(e.ownerDocument||e,e),t.nodeType==b&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function oe(){}function ne(){}function ie(){}function re(){}function ae(){}function se(){}function le(){}function ce(){}function ue(){}function de(){}function pe(){}function he(e,t){var o=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,r=n.namespaceURI;if(r&&null==i&&null==(i=n.lookupPrefix(r)))var a=[{namespace:r,prefix:null}];return fe(this,o,e,t,a),o.join("")}function ge(e,t,o){var n=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===n&&i===r.XML||i===r.XMLNS)return!1;for(var a=o.length;a--;){var s=o[a];if(s.prefix===n)return s.namespace!==i}return!0}function me(e,t,o){e.push(" ",t,'="',o.replace(/[<>&"\t\n\r]/g,U),'"')}function fe(e,t,o,n,i){if(i||(i=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case p:var a=e.attributes,s=a.length,l=e.firstChild,c=e.tagName,u=c;if(!(o=r.isHTML(e.namespaceURI)||o)&&!e.prefix&&e.namespaceURI){for(var d,y=0;y<a.length;y++)if("xmlns"===a.item(y).name){d=a.item(y).value;break}if(!d)for(var w=i.length-1;w>=0;w--){if(""===(E=i[w]).prefix&&E.namespace===e.namespaceURI){d=E.namespace;break}}if(d!==e.namespaceURI)for(w=i.length-1;w>=0;w--){var E;if((E=i[w]).namespace===e.namespaceURI){E.prefix&&(u=E.prefix+":"+c);break}}}t.push("<",u);for(var _=0;_<s;_++){"xmlns"==(S=a.item(_)).prefix?i.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&i.push({prefix:"",namespace:S.value})}for(_=0;_<s;_++){var S,M,x;if(ge(S=a.item(_),0,i))me(t,(M=S.prefix||"")?"xmlns:"+M:"xmlns",x=S.namespaceURI),i.push({prefix:M,namespace:x});fe(S,t,o,n,i)}if(c===u&&ge(e,0,i))me(t,(M=e.prefix||"")?"xmlns:"+M:"xmlns",x=e.namespaceURI),i.push({prefix:M,namespace:x});if(l||o&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),o&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):fe(l,t,o,n,i.slice()),l=l.nextSibling;else for(;l;)fe(l,t,o,n,i.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case C:case b:for(l=e.firstChild;l;)fe(l,t,o,n,i.slice()),l=l.nextSibling;return;case h:return me(t,e.name,e.value);case g:return t.push(e.data.replace(/[<&>]/g,U));case m:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case I:var P=e.publicId,k=e.systemId;if(t.push("<!DOCTYPE ",e.name),P)t.push(" PUBLIC ",P),k&&"."!=k&&t.push(" ",k),t.push(">");else if(k&&"."!=k)t.push(" SYSTEM ",k,">");else{var G=e.internalSubset;G&&t.push(" [",G,"]"),t.push(">")}return;case A:return t.push("<?",e.target," ",e.data,"?>");case f:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ye(e,t,o){e[t]=o}P.prototype=Error.prototype,c(E,P),k.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var o=[],n=0;n<this.length;n++)fe(this[n],o,e,t);return o.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},G.prototype.item=function(e){return R(this),this[e]||null},u(G,k),T.prototype={length:0,item:k.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var o=this[t];if(o.nodeName==e)return o}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new P(x);var o=this.getNamedItem(e.nodeName);return L(this._ownerElement,this,e,o),o},setNamedItemNS:function(e){var t,o=e.ownerElement;if(o&&o!=this._ownerElement)throw new P(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),L(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return D(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var o=this.getNamedItemNS(e,t);return D(this._ownerElement,this,o),o},getNamedItemNS:function(e,t){for(var o=this.length;o--;){var n=this[o];if(n.localName==t&&n.namespaceURI==e)return n}return null}},N.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,o){var n=new F;if(n.implementation=this,n.childNodes=new k,n.doctype=o||null,o&&n.appendChild(o),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,o){var n=new ae;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=o||"",n}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return $(this,e,t)},replaceChild:function(e,t){$(this,e,t,Q),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,o,n){var i=new o.constructor;for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)){var a=o[r];"object"!=typeof a&&a!=i[r]&&(i[r]=a)}o.childNodes&&(i.childNodes=new k);switch(i.ownerDocument=t,i.nodeType){case p:var s=o.attributes,l=i.attributes=new T,c=s.length;l._ownerElement=i;for(var u=0;u<c;u++)i.setAttributeNode(e(t,s.item(u),!0));break;case h:n=!0}if(n)for(var d=o.firstChild;d;)i.appendChild(e(t,d,n)),d=d.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==g&&e.nodeType==g?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var o=t._nsMap;if(o)for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)&&o[n]===e)return n;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var o=t._nsMap;if(o&&Object.prototype.hasOwnProperty.call(o,e))return o[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(d,j),c(d,j.prototype),F.prototype={nodeName:"#document",nodeType:C,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==b){for(var o=e.firstChild;o;){var n=o.nextSibling;this.insertBefore(o,t),o=n}return e}return $(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===p&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},replaceChild:function(e,t){$(this,e,t,Q),e.ownerDocument=this,t&&this.removeChild(t),H(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,o,n){var i;switch(o.nodeType){case p:(i=o.cloneNode(!1)).ownerDocument=t;case b:break;case h:n=!0}i||(i=o.cloneNode(!1));if(i.ownerDocument=t,i.parentNode=null,n)for(var r=o.firstChild;r;)i.appendChild(e(t,r,n)),r=r.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return B(this.documentElement,(function(o){if(o.nodeType==p&&o.getAttribute("id")==e)return t=o,!0})),t},getElementsByClassName:function(e){var t=l(e);return new G(this,(function(o){var n=[];return t.length>0&&B(o.documentElement,(function(i){if(i!==o&&i.nodeType===p){var r=i.getAttribute("class");if(r){var a=e===r;if(!a){var s=l(r);a=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}a&&n.push(i)}}var c})),n}))},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new k,(t.attributes=new T)._ownerElement=t,t},createDocumentFragment:function(){var e=new ue;return e.ownerDocument=this,e.childNodes=new k,e},createTextNode:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var o=new de;return o.ownerDocument=this,o.tagName=o.nodeName=o.target=e,o.nodeValue=o.data=t,o},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var o=new ee,n=t.split(":"),i=o.attributes=new T;return o.childNodes=new k,o.ownerDocument=this,o.nodeName=t,o.tagName=t,o.namespaceURI=e,2==n.length?(o.prefix=n[0],o.localName=n[1]):o.localName=t,i._ownerElement=o,o},createAttributeNS:function(e,t){var o=new te,n=t.split(":");return o.ownerDocument=this,o.nodeName=t,o.name=t,o.namespaceURI=e,o.specified=!0,2==n.length?(o.prefix=n[0],o.localName=n[1]):o.localName=t,o}},u(F,j),ee.prototype={nodeType:p,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var o=this.ownerDocument.createAttribute(e);o.value=o.nodeValue=""+t,this.setAttributeNode(o)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===b?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,V(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var o=this.getAttributeNodeNS(e,t);o&&this.removeAttributeNode(o)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var o=this.getAttributeNodeNS(e,t);return o&&o.value||""},setAttributeNS:function(e,t,o){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+o,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new G(this,(function(t){var o=[];return B(t,(function(n){n===t||n.nodeType!=p||"*"!==e&&n.tagName!=e||o.push(n)})),o}))},getElementsByTagNameNS:function(e,t){return new G(this,(function(o){var n=[];return B(o,(function(i){i===o||i.nodeType!==p||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)})),n}))}},F.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,u(ee,j),te.prototype.nodeType=h,u(te,j),oe.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(_[S])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,o){o=this.data.substring(0,e)+o+this.data.substring(e+t),this.nodeValue=this.data=o,this.length=o.length}},u(oe,j),ne.prototype={nodeName:"#text",nodeType:g,splitText:function(e){var t=this.data,o=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(ne,oe),ie.prototype={nodeName:"#comment",nodeType:v},u(ie,oe),re.prototype={nodeName:"#cdata-section",nodeType:m},u(re,oe),ae.prototype.nodeType=I,u(ae,j),se.prototype.nodeType=w,u(se,j),le.prototype.nodeType=y,u(le,j),ce.prototype.nodeType=f,u(ce,j),ue.prototype.nodeName="#document-fragment",ue.prototype.nodeType=b,u(ue,j),de.prototype.nodeType=A,u(de,j),pe.prototype.serializeToString=function(e,t,o){return he.call(e,t,o)},j.prototype.toString=he;try{if(Object.defineProperty){Object.defineProperty(G.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case p:case b:var o=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&o.push(e(t)),t=t.nextSibling;return o.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case p:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ye=function(e,t,o){e["$$"+t]=o}}}catch(e){}t.DocumentType=ae,t.DOMException=P,t.DOMImplementation=N,t.Element=ee,t.Node=j,t.NodeList=k,t.XMLSerializer=pe},function(e,t){e.exports=void 0},function(e,t){e.exports=ol.source.ImageWMS},function(e,t,o){(function(t,o){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,r=void 0,a=void 0,s=function(e,t){g[i]=e,g[i+1]=t,2===(i+=2)&&(a?a(m):C())},l="undefined"!=typeof window?window:void 0,c=l||{},u=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var g=new Array(1e3);function m(){for(var e=0;e<i;e+=2)(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0;i=0}var f,y,A,v,C=void 0;function I(e,t){var o=this,n=new this.constructor(E);void 0===n[w]&&O(n);var i=o._state;if(i){var r=arguments[i-1];s((function(){return R(i,n,r,o._result)}))}else k(o,n,e,t);return n}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return S(t,e),t}d?C=function(){return t.nextTick(m)}:u?(y=0,A=new u(m),v=document.createTextNode(""),A.observe(v,{characterData:!0}),C=function(){v.data=y=++y%2}):p?((f=new MessageChannel).port1.onmessage=m,C=function(){return f.port2.postMessage(0)}):C=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(m)}:h()}catch(e){return h()}}():h();var w=Math.random().toString(36).substring(2);function E(){}function _(t,o,n){o.constructor===t.constructor&&n===I&&o.constructor.resolve===b?function(e,t){1===t._state?x(e,t._result):2===t._state?P(e,t._result):k(t,void 0,(function(t){return S(e,t)}),(function(t){return P(e,t)}))}(t,o):void 0===n?x(t,o):e(n)?function(e,t,o){s((function(e){var n=!1,i=function(e,t,o,n){try{e.call(t,o,n)}catch(e){return e}}(o,t,(function(o){n||(n=!0,t!==o?S(e,o):x(e,o))}),(function(t){n||(n=!0,P(e,t))}),e._label);!n&&i&&(n=!0,P(e,i))}),e)}(t,o,n):x(t,o)}function S(e,t){if(e===t)P(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(n=t),null===n||"object"!==i&&"function"!==i)x(e,t);else{var o=void 0;try{o=t.then}catch(t){return void P(e,t)}_(e,t,o)}var n,i}function M(e){e._onerror&&e._onerror(e._result),G(e)}function x(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(G,e))}function P(e,t){void 0===e._state&&(e._state=2,e._result=t,s(M,e))}function k(e,t,o,n){var i=e._subscribers,r=i.length;e._onerror=null,i[r]=t,i[r+1]=o,i[r+2]=n,0===r&&e._state&&s(G,e)}function G(e){var t=e._subscribers,o=e._state;if(0!==t.length){for(var n=void 0,i=void 0,r=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+o],n?R(o,n,i,r):i(r);e._subscribers.length=0}}function R(t,o,n,i){var r=e(n),a=void 0,s=void 0,l=!0;if(r){try{a=n(i)}catch(e){l=!1,s=e}if(o===a)return void P(o,new TypeError("A promises callback cannot return that same promise."))}else a=i;void 0!==o._state||(r&&l?S(o,a):!1===l?P(o,s):1===t?x(o,a):2===t&&P(o,a))}var T=0;function O(e){e[w]=T++,e._state=void 0,e._result=void 0,e._subscribers=[]}var L=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[w]||O(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var o=this._instanceConstructor,n=o.resolve;if(n===b){var i=void 0,r=void 0,a=!1;try{i=e.then}catch(e){a=!0,r=e}if(i===I&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(o===D){var s=new o(E);a?P(s,r):_(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new o((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,o){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?P(n,o):this._result[t]=o),0===this._remaining&&x(n,this._result)},e.prototype._willSettleAt=function(e,t){var o=this;k(e,void 0,(function(e){return o._settledAt(1,t,e)}),(function(e){return o._settledAt(2,t,e)}))},e}(),D=function(){function t(e){this[w]=T++,this._result=this._state=void 0,this._subscribers=[],E!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){S(e,t)}),(function(t){P(e,t)}))}catch(t){P(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var o=this.constructor;return e(t)?this.then((function(e){return o.resolve(t()).then((function(){return e}))}),(function(e){return o.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return D.prototype.then=I,D.all=function(e){return new L(this,e).promise},D.race=function(e){var t=this;return n(e)?new t((function(o,n){for(var i=e.length,r=0;r<i;r++)t.resolve(e[r]).then(o,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},D.resolve=b,D.reject=function(e){var t=new this(E);return P(t,e),t},D._setScheduler=function(e){a=e},D._setAsap=function(e){s=e},D._asap=s,D.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=D},D.Promise=D,D},e.exports=n()}).call(this,o(101),o(28))},function(e,t){e.exports=ol.format.KML},function(e,t){e.exports=ol.geom.Polygon},function(e,t){e.exports=ol.geom.MultiPolygon},function(e,t){e.exports=ol.format.GPX},function(e,t){e.exports=ol.geom.MultiLineString},function(e,t){e.exports=ol.geom.LineString},function(e,t){e.exports=ol.View},function(e,t){(function(){var t;e.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return t},getLink:function(e){return"https://fonts.google.com/specimen/"+e.replace(/( )/g,"+")},normalizeName:function(e){return e}},t=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},function(e,t){e.exports=ol.tilegrid},function(e,t){e.exports=ol.proj.transforms},function(e,t){e.exports=ol.proj.Projection},function(e,t){e.exports=ol.geom.LinearRing},function(e,t){e.exports=ol.format.WMSCapabilities},function(e,t){e.exports=ol.format.WMTSCapabilities},function(e,t){e.exports=ol.control.Attribution},function(e,t,o){o(81),e.exports=o(112)},function(e,t,o){"use strict";o.r(t),o.d(t,"Headers",(function(){return h})),o.d(t,"Request",(function(){return C})),o.d(t,"Response",(function(){return b})),o.d(t,"DOMException",(function(){return E})),o.d(t,"fetch",(function(){return _}));var n="URLSearchParams"in self,i="Symbol"in self&&"iterator"in Symbol,r="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;if(s)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}}))}function f(e){var t=new FileReader,o=m(t);return t.readAsArrayBuffer(e),o}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&r&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,o,n=g(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,o=m(t),t.readAsText(e),o;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),o=new Array(t.length),n=0;n<t.length;n++)o[n]=String.fromCharCode(t[n]);return o.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=d(t);var o=this.map[e];this.map[e]=o?o+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=d(t)},h.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,o){e.push(o)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,o){e.push([o,t])})),p(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(e,t){var o,n,i=(t=t||{}).body;if(e instanceof C){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(o=t.method||this.method||"GET",n=o.toUpperCase(),v.indexOf(n)>-1?n:o),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function I(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var o=e.split("="),n=o.shift().replace(/\+/g," "),i=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})},A.call(C.prototype),A.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];b.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var E=self.DOMException;try{new E}catch(e){(E=function(e,t){this.message=e,this.name=t;var o=Error(e);this.stack=o.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function _(e,t){return new Promise((function(o,n){var i=new C(e,t);if(i.signal&&i.signal.aborted)return n(new E("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var o=e.split(":"),n=o.shift().trim();if(n){var i=o.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;o(new b(i,n))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.onabort=function(){n(new E("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",s)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=h,self.Request=C,self.Response=b)},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t){var o,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new g(e,t)),1!==c.length||u||s(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,o){var n=o(35),i=o(61),r=o(103),a=o(104),s=i.DOMImplementation,l=n.NAMESPACE,c=a.ParseError,u=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function h(){this.cdata=!1}function g(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function f(e,t,o){return"string"==typeof e?e.substr(t,o):e.length>=t+o||t?new java.lang.String(e,t,o)+"":e}function y(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var o=this.options,n=new u,i=o.domBuilder||new h,a=o.errorHandler,s=o.locator,c=o.xmlns||{},p=/\/x?html?$/.test(t),g=p?r.HTML_ENTITIES:r.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=function(e,t,o){if(!e){if(t instanceof h)return t;e=t}var n={},i=e instanceof Function;function r(t){var r=e[t];!r&&i&&(r=2==e.length?function(o){e(t,o)}:e),n[t]=r&&function(e){r("[xmldom "+t+"]\t"+e+m(o))}||function(){}}return o=o||{},r("warning"),r("error"),r("fatalError"),n}(a,i,s),n.domBuilder=o.domBuilder||i,p&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var f=o.normalizeLineEndings||d;return e&&"string"==typeof e?n.parse(f(e),c,g):n.errorHandler.error("invalid doc source"),i.doc},h.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,o,n){var i=this.doc,r=i.createElementNS(e,o||t),a=n.length;y(this,r),this.currentElement=r,this.locator&&g(this.locator,r);for(var s=0;s<a;s++){e=n.getURI(s);var l=n.getValue(s),c=(o=n.getQName(s),i.createAttributeNS(e,o));this.locator&&g(n.getLocator(s),c),c.value=c.nodeValue=l,r.setAttributeNode(c)}},endElement:function(e,t,o){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var o=this.doc.createProcessingInstruction(e,t);this.locator&&g(this.locator,o),y(this,o)},ignorableWhitespace:function(e,t,o){},characters:function(e,t,o){if(e=f.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&g(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,o){e=f.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&g(this.locator,n),y(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,o){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,o);this.locator&&g(this.locator,i),y(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){h.prototype[e]=function(){return null}})),t.__DOMHandler=h,t.normalizeLineEndings=d,t.DOMParser=p},function(e,t,o){"use strict";var n=o(35).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES},function(e,t,o){var n=o(35).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+i.source+r.source+"*(?::"+i.source+r.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,o,i,r,a){function s(e,t,n){o.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),o.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),n)}for(var l,c=++t,u=0;;){var d=e.charAt(c);switch(d){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(l,p=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(l,p=e.slice(t,c),t),a.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:o.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,o.closed=!0;case 4:case 1:break;case 2:o.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&o.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:o.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=e.slice(t,c)).slice(-1)&&(o.closed=!0,p=p.slice(0,-1));case 2:2===u&&(p=l),4==u?(a.warning('attribute "'+p+'" missed quot(")!'),s(l,p,t)):(n.isHTML(i[""])&&p.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),s(p,p,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case 0:o.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var p=e.slice(t,c);a.warning('attribute "'+p+'" missed quot(")!!'),s(l,p,t);case 5:u=6}else switch(u){case 2:o.tagName;n.isHTML(i[""])&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=c,u=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function d(e,t,o){for(var i=e.tagName,r=null,a=e.length;a--;){var s=e[a],l=s.qName,c=s.value;if((h=l.indexOf(":"))>0)var u=s.prefix=l.slice(0,h),d=l.slice(h+1),p="xmlns"===u&&d;else d=l,u=null,p="xmlns"===l&&"";s.localName=d,!1!==p&&(null==r&&(r={},g(o,o={})),o[p]=r[p]=c,s.uri=n.XMLNS,t.startPrefixMapping(p,c))}for(a=e.length;a--;){(u=(s=e[a]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=o[u||""]))}var h;(h=i.indexOf(":"))>0?(u=e.prefix=i.slice(0,h),d=e.localName=i.slice(h+1)):(u=null,d=e.localName=i);var m=e.uri=o[u||""];if(t.startElement(m,d,i,e),!e.closed)return e.currentNSMap=o,e.localNSMap=r,!0;if(t.endElement(m,d,i),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&t.endPrefixMapping(u)}function p(e,t,o,n,i){if(/^(?:script|textarea)$/i.test(o)){var r=e.indexOf("</"+o+">",t),a=e.substring(t+1,r);if(/[&<]/.test(a))return/^script$/i.test(o)?(i.characters(a,0,a.length),r):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),r)}return t+1}function h(e,t,o,n){var i=n[o];return null==i&&((i=e.lastIndexOf("</"+o+">"))<t&&(i=e.lastIndexOf("</"+o)),n[o]=i),i<t}function g(e,t){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}function m(e,t,o,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(o.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return o.startCDATA(),o.characters(e,t+9,i-t-9),o.endCDATA(),i+3}var r=function(e,t){var o,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;o=i.exec(e);)if(n.push(o),o[1])return n}(e,t),a=r.length;if(a>1&&/!doctype/i.test(r[0][0])){var s=r[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(r[2][0])?(l=r[3][0],c=a>4&&r[4][0]):/^system$/i.test(r[2][0])&&(c=r[3][0]));var u=r[a-1];return o.startDTD(s,l,c),o.endDTD(),u.index+u[0].length}}return-1}function f(e,t,o){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return o.processingInstruction(i[1],i[2]),n+2}return-1}return-1}function y(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,o){var i=this.domBuilder;i.startDocument(),g(t,t={}),function(e,t,o,i,r){function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(o,t)?o[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),o=56320+(1023&e);return String.fromCharCode(t,o)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function l(t){if(t>E){var o=e.substring(E,t).replace(/&#?\w+;/g,a);I&&g(E),i.characters(o,0,t-E),E=t}}function g(t,o){for(;t>=v&&(o=C.exec(e));)A=o.index,v=A+o[0].length,I.lineNumber++;I.columnNumber=t-A+1}var A=0,v=0,C=/.*(?:\r\n?|\n)|.*$/g,I=i.locator,b=[{currentNSMap:t}],w={},E=0;for(;;){try{var _=e.indexOf("<",E);if(_<0){if(!e.substr(E).match(/^\s*$/)){var S=i.doc,M=S.createTextNode(e.substr(E));S.appendChild(M),i.currentElement=M}return}switch(_>E&&l(_),e.charAt(_+1)){case"/":var x=e.indexOf(">",_+3),P=e.substring(_+2,x).replace(/[ \t\n\r]+$/g,""),k=b.pop();x<0?(P=e.substring(_+2).replace(/[\s<].*/,""),r.error("end tag name: "+P+" is not complete:"+k.tagName),x=_+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),r.error("end tag name: "+P+" maybe not complete"),x=_+1+P.length);var G=k.localNSMap,R=k.tagName==P;if(R||k.tagName&&k.tagName.toLowerCase()==P.toLowerCase()){if(i.endElement(k.uri,k.localName,P),G)for(var T in G)Object.prototype.hasOwnProperty.call(G,T)&&i.endPrefixMapping(T);R||r.fatalError("end tag name: "+P+" is not match the current start tagName:"+k.tagName)}else b.push(k);x++;break;case"?":I&&g(_),x=f(e,_,i);break;case"!":I&&g(_),x=m(e,_,i,r);break;default:I&&g(_);var O=new y,L=b[b.length-1].currentNSMap,D=(x=u(e,_,O,L,a,r),O.length);if(!O.closed&&h(e,x,O.tagName,w)&&(O.closed=!0,o.nbsp||r.warning("unclosed xml attribute")),I&&D){for(var N=c(I,{}),j=0;j<D;j++){var U=O[j];g(U.offset),U.locator=c(I,{})}i.locator=N,d(O,i,L)&&b.push(O),i.locator=I}else d(O,i,L)&&b.push(O);n.isHTML(O.uri)&&!O.closed?x=p(e,x,O.tagName,a,i):x++}}catch(e){if(e instanceof s)throw e;r.error("element parse error: "+e),x=-1}x>E?E=x:l(Math.max(_,E)+1)}}(e,t,o,i,this.errorHandler),i.endDocument()}},y.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,o){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:o}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},function(e,t,o){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=o(106),i=o(107),r=o(108);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,o){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,o)}function c(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,o,n){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===o&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,o,n):"string"==typeof t?function(e,t,o){"string"==typeof o&&""!==o||(o="utf8");if(!l.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(t,o),i=(e=s(e,n)).write(t,o);i!==n&&(e=e.slice(0,i));return e}(e,t,o):function(e,t){if(l.isBuffer(t)){var o=0|h(t.length);return 0===(e=s(e,o)).length||t.copy(e,0,0,o),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&r(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function p(e,t){var o=t.length<0?0:0|h(t.length);e=s(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return F(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,o);case"utf8":case"utf-8":return S(this,t,o);case"ascii":return M(this,t,o);case"latin1":case"binary":return x(this,t,o);case"base64":return _(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function f(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function y(e,t,o,n,i){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=i?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(i)return-1;o=e.length-1}else if(o<0){if(!i)return-1;o=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:A(e,t,o,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):A(e,[t],o,n,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,o,n,i){var r,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,o/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(r=o;r<s;r++)if(c(e,r)===c(t,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(o+l>s&&(o=s-l),r=o;r>=0;r--){for(var d=!0,p=0;p<l;p++)if(c(e,r+p)!==c(t,p)){d=!1;break}if(d)return r}return-1}function v(e,t,o,n){o=Number(o)||0;var i=e.length-o;n?(n=Number(n))>i&&(n=i):n=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function C(e,t,o,n){return z(B(t,e.length-o),e,o,n)}function I(e,t,o,n){return z(function(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}(t),e,o,n)}function b(e,t,o,n){return I(e,t,o,n)}function w(e,t,o,n){return z(F(t),e,o,n)}function E(e,t,o,n){return z(function(e,t){for(var o,n,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)o=e.charCodeAt(a),n=o>>8,i=o%256,r.push(i),r.push(n);return r}(t,e.length-o),e,o,n)}function _(e,t,o){return 0===t&&o===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,o))}function S(e,t,o){o=Math.min(e.length,o);for(var n=[],i=t;i<o;){var r,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=o)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(r=e[i+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=e[i+1],a=e[i+2],128==(192&r)&&128==(192&a)&&(l=(15&c)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=e[i+1],a=e[i+2],s=e[i+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var o="",n=0;for(;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return o}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,o){return c(null,e,t,o)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,o){return function(e,t,o,n){return u(t),t<=0?s(e,t):void 0!==o?"string"==typeof n?s(e,t).fill(o,n):s(e,t).fill(o):s(e,t)}(null,e,t,o)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,i=0,r=Math.min(o,n);i<r;++i)if(e[i]!==t[i]){o=e[i],n=t[i];break}return o<n?-1:n<o?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=l.allocUnsafe(t),i=0;for(o=0;o<e.length;++o){var a=e[o];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,o,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||o>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=o)return 0;if(n>=i)return-1;if(t>=o)return 1;if(this===e)return 0;for(var r=(i>>>=0)-(n>>>=0),a=(o>>>=0)-(t>>>=0),s=Math.min(r,a),c=this.slice(n,i),u=e.slice(t,o),d=0;d<s;++d)if(c[d]!==u[d]){r=c[d],a=u[d];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},l.prototype.indexOf=function(e,t,o){return y(this,e,t,o,!0)},l.prototype.lastIndexOf=function(e,t,o){return y(this,e,t,o,!1)},l.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var i=this.length-t;if((void 0===o||o>i)&&(o=i),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return v(this,e,t,o);case"utf8":case"utf-8":return C(this,e,t,o);case"ascii":return I(this,e,t,o);case"latin1":case"binary":return b(this,e,t,o);case"base64":return w(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,o);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(e,t,o){var n="";o=Math.min(e.length,o);for(var i=t;i<o;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,o){var n="";o=Math.min(e.length,o);for(var i=t;i<o;++i)n+=String.fromCharCode(e[i]);return n}function P(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var i="",r=t;r<o;++r)i+=U(e[r]);return i}function k(e,t,o){for(var n=e.slice(t,o),i="",r=0;r<n.length;r+=2)i+=String.fromCharCode(n[r]+256*n[r+1]);return i}function G(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,o,n,i,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function T(e,t,o,n){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-o,2);i<r;++i)e[o+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(e,t,o,n){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-o,4);i<r;++i)e[o+i]=t>>>8*(n?i:3-i)&255}function L(e,t,o,n,i,r){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function D(e,t,o,n,r){return r||L(e,0,o,4),i.write(e,t,o,n,23,4),o+4}function N(e,t,o,n,r){return r||L(e,0,o,8),i.write(e,t,o,n,52,8),o+8}l.prototype.slice=function(e,t){var o,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;o=new l(i,void 0);for(var r=0;r<i;++r)o[r]=this[r+e]}return o},l.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||G(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n},l.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||G(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||G(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||G(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||G(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||G(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||G(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||G(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||G(e,t,this.length);for(var n=t,i=1,r=this[e+--n];n>0&&(i*=256);)r+=this[e+--n]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return t||G(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||G(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt16BE=function(e,t){t||G(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt32LE=function(e,t){return t||G(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||G(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||G(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||G(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||G(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||G(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||R(this,e,t,o,Math.pow(2,8*o)-1,0);var i=1,r=0;for(this[t]=255&e;++r<o&&(i*=256);)this[t+r]=e/i&255;return t+o},l.prototype.writeUIntBE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||R(this,e,t,o,Math.pow(2,8*o)-1,0);var i=o-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+o},l.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*o-1);R(this,e,t,o,i-1,-i)}var r=0,a=1,s=0;for(this[t]=255&e;++r<o&&(a*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+o},l.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*o-1);R(this,e,t,o,i-1,-i)}var r=o-1,a=1,s=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+o},l.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,o){return D(this,e,t,!0,o)},l.prototype.writeFloatBE=function(e,t,o){return D(this,e,t,!1,o)},l.prototype.writeDoubleLE=function(e,t,o){return N(this,e,t,!0,o)},l.prototype.writeDoubleBE=function(e,t,o){return N(this,e,t,!1,o)},l.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var i,r=n-o;if(this===e&&o<t&&t<n)for(i=r-1;i>=0;--i)e[i+t]=this[i+o];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+r),t);return r},l.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var r;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(r=t;r<o;++r)this[r]=e;else{var a=l.isBuffer(e)?e:B(new l(e,n).toString()),s=a.length;for(r=0;r<o-t;++r)this[r+t]=a[r%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var o;t=t||1/0;for(var n=e.length,i=null,r=[],a=0;a<n;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!i){if(o>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&r.push(239,191,189);continue}i=o;continue}if(o<56320){(t-=3)>-1&&r.push(239,191,189),i=o;continue}o=65536+(i-55296<<10|o-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,o<128){if((t-=1)<0)break;r.push(o)}else if(o<2048){if((t-=2)<0)break;r.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;r.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return r}function F(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,o,n){for(var i=0;i<n&&!(i+o>=t.length||i>=e.length);++i)t[i+o]=e[i];return i}}).call(this,o(28))},function(e,t,o){"use strict";t.byteLength=function(e){var t=c(e),o=t[0],n=t[1];return 3*(o+n)/4-n},t.toByteArray=function(e){var t,o,n=c(e),a=n[0],s=n[1],l=new r(function(e,t,o){return 3*(t+o)/4-o}(0,a,s)),u=0,d=s>0?a-4:a;for(o=0;o<d;o+=4)t=i[e.charCodeAt(o)]<<18|i[e.charCodeAt(o+1)]<<12|i[e.charCodeAt(o+2)]<<6|i[e.charCodeAt(o+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(o)]<<2|i[e.charCodeAt(o+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(o)]<<10|i[e.charCodeAt(o+1)]<<4|i[e.charCodeAt(o+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,o=e.length,i=o%3,r=[],a=0,s=o-i;a<s;a+=16383)r.push(u(e,a,a+16383>s?s:a+16383));1===i?(t=e[o-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[o-2]<<8)+e[o-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return r.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function u(e,t,o){for(var i,r,a=[],s=t;s<o;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(r=i)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,o,n,i){var r,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=o?i-1:0,p=o?-1:1,h=e[t+d];for(d+=p,r=h&(1<<-u)-1,h>>=-u,u+=s;u>0;r=256*r+e[t+d],d+=p,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),r-=c}return(h?-1:1)*a*Math.pow(2,r-n)},t.write=function(e,t,o,n,i,r){var a,s,l,c=8*r-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:r-1,g=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[o+h]=255&s,h+=g,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[o+h]=255&a,h+=g,a/=256,c-=8);e[o+h-g]|=128*m}},function(e,t){var o={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},function(e,t,o){e.exports=function(){"use strict";var e=484813681109536e-20,t=Math.PI/2,o=.017453292519943295,n=57.29577951308232,i=Math.PI/4,r=2*Math.PI,a=3.14159265359,s={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},l={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},c=/[\s_\-\/\(\)]/g;function u(e,t){if(e[t])return e[t];for(var o,n=Object.keys(e),i=t.toLowerCase().replace(c,""),r=-1;++r<n.length;)if((o=n[r]).toLowerCase().replace(c,"")===i)return e[o]}var d=function(e){var t,n,i,r={},a=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var o=t.split("=");return o.push(!0),e[o[0].toLowerCase()]=o[1],e}),{}),c={proj:"projName",datum:"datumCode",rf:function(e){r.rf=parseFloat(e)},lat_0:function(e){r.lat0=e*o},lat_1:function(e){r.lat1=e*o},lat_2:function(e){r.lat2=e*o},lat_ts:function(e){r.lat_ts=e*o},lon_0:function(e){r.long0=e*o},lon_1:function(e){r.long1=e*o},lon_2:function(e){r.long2=e*o},alpha:function(e){r.alpha=parseFloat(e)*o},gamma:function(e){r.rectified_grid_angle=parseFloat(e)},lonc:function(e){r.longc=e*o},x_0:function(e){r.x0=parseFloat(e)},y_0:function(e){r.y0=parseFloat(e)},k_0:function(e){r.k0=parseFloat(e)},k:function(e){r.k0=parseFloat(e)},a:function(e){r.a=parseFloat(e)},b:function(e){r.b=parseFloat(e)},r_a:function(){r.R_A=!0},zone:function(e){r.zone=parseInt(e,10)},south:function(){r.utmSouth=!0},towgs84:function(e){r.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){r.to_meter=parseFloat(e)},units:function(e){r.units=e;var t=u(l,e);t&&(r.to_meter=t.to_meter)},from_greenwich:function(e){r.from_greenwich=e*o},pm:function(e){var t=u(s,e);r.from_greenwich=(t||parseFloat(e))*o},nadgrids:function(e){"@null"===e?r.datumCode="none":r.nadgrids=e},axis:function(e){3===e.length&&-1!=="ewnsud".indexOf(e.substr(0,1))&&-1!=="ewnsud".indexOf(e.substr(1,1))&&-1!=="ewnsud".indexOf(e.substr(2,1))&&(r.axis=e)},approx:function(){r.approx=!0}};for(t in a)n=a[t],t in c?"function"==typeof(i=c[t])?i(n):r[i]=n:r[t]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},p=/\s/,h=/[A-Za-z]/,g=/[A-Za-z84]/,m=/[,\]]/,f=/[\d\.E\-\+]/;function y(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function A(e,t,o){Array.isArray(t)&&(o.unshift(t),t=null);var n=t?{}:e,i=o.reduce((function(e,t){return v(t,e),e}),n);t&&(e[t]=i)}function v(e,t){if(Array.isArray(e)){var o=e.shift();if("PARAMETER"===o&&(o=e.shift()),1===e.length)return Array.isArray(e[0])?(t[o]={},void v(e[0],t[o])):void(t[o]=e[0]);if(e.length)if("TOWGS84"!==o){if("AXIS"===o)return o in t||(t[o]=[]),void t[o].push(e);var n;switch(Array.isArray(o)||(t[o]={}),o){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[o]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&v(e[2],t[o]));case"SPHEROID":case"ELLIPSOID":return t[o]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&v(e[3],t[o]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void A(t,o,e);default:for(n=-1;++n<e.length;)if(!Array.isArray(e[n]))return v(e,t[o]);return A(t,o,e)}}else t[o]=e;else t[o]=!0}else t[e]=!0}function C(e){return.017453292519943295*e}y.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;p.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case 1:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},y.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(m.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},y.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},y.prototype.number=function(e){if(!f.test(e)){if(m.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},y.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},y.prototype.keyword=function(e){if(g.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=1)}if(!m.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},y.prototype.neutral=function(e){if(h.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(f.test(e))return this.word=e,void(this.state=3);if(!m.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},y.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var I=function(e){var t=new y(e).output(),o=t.shift(),n=t.shift();t.unshift(["name",n]),t.unshift(["type",o]);var i={};return v(t,i),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",o=0,n=e.AXIS.length;o<n;++o){var i=[e.AXIS[o][0].toLowerCase(),e.AXIS[o][1].toLowerCase()];-1!==i[0].indexOf("north")||("y"===i[0]||"lat"===i[0])&&"north"===i[1]?t+="n":-1!==i[0].indexOf("south")||("y"===i[0]||"lat"===i[0])&&"south"===i[1]?t+="s":-1!==i[0].indexOf("east")||("x"===i[0]||"lon"===i[0])&&"east"===i[1]?t+="e":-1===i[0].indexOf("west")&&("x"!==i[0]&&"lon"!==i[0]||"west"!==i[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var r=e.GEOGCS;function a(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(r=e),r&&(r.DATUM?e.datumCode=r.DATUM.name.toLowerCase():e.datumCode=r.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(e.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=r.DATUM.SPHEROID.a,e.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(e.datum_params=r.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",C],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",C],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",C],["lat0","latitude_of_origin",C],["lat0","standard_parallel_1",C],["lat1","standard_parallel_1",C],["lat2","standard_parallel_2",C],["azimuth","Azimuth"],["alpha","azimuth",C],["srsCode","name"]].forEach((function(t){return function(e,t){var o=t[0],n=t[1];!(o in e)&&n in e&&(e[o]=e[n],3===t.length&&(e[o]=t[2](e[o])))}(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=C(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(i),i};function b(e){var t=this;if(2===arguments.length){var o=arguments[1];"string"==typeof o?"+"===o.charAt(0)?b[e]=d(arguments[1]):b[e]=I(arguments[1]):b[e]=o}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?b.apply(t,e):b(e)}));if("string"==typeof e){if(e in b)return b[e]}else"EPSG"in e?b["EPSG:"+e.EPSG]=e:"ESRI"in e?b["ESRI:"+e.ESRI]=e:"IAU2000"in e?b["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(b);var w=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],E=["3857","900913","3785","102113"];function _(e){if(!function(e){return"string"==typeof e}(e))return e;if(function(e){return e in b}(e))return b[e];if(function(e){return w.some((function(t){return e.indexOf(t)>-1}))}(e)){var t=I(e);if(function(e){var t=u(e,"authority");if(t){var o=u(t,"epsg");return o&&E.indexOf(o)>-1}}(t))return b["EPSG:3857"];var o=function(e){var t=u(e,"extension");if(t)return u(t,"proj4")}(t);return o?d(o):t}return function(e){return"+"===e[0]}(e)?d(e):void 0}var S=function(e,t){var o,n;if(e=e||{},!t)return e;for(n in t)void 0!==(o=t[n])&&(e[n]=o);return e},M=function(e,t,o){var n=e*t;return o/Math.sqrt(1-n*n)},x=function(e){return e<0?-1:1},P=function(e){return Math.abs(e)<=a?e:e-x(e)*r},k=function(e,o,n){var i=e*n,r=.5*e;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(t-o))/i},G=function(e,o){for(var n,i,r=.5*e,a=t-2*Math.atan(o),s=0;s<=15;s++)if(n=e*Math.sin(a),a+=i=t-2*Math.atan(o*Math.pow((1-n)/(1+n),r))-a,Math.abs(i)<=1e-10)return a;return-9999};function R(e){return e}var T=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=M(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var o,r,a=e.x,s=e.y;if(s*n>90&&s*n<-90&&a*n>180&&a*n<-180)return null;if(Math.abs(Math.abs(s)-t)<=1e-10)return null;if(this.sphere)o=this.x0+this.a*this.k0*P(a-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(i+.5*s));else{var l=Math.sin(s),c=k(this.e,s,l);o=this.x0+this.a*this.k0*P(a-this.long0),r=this.y0-this.a*this.k0*Math.log(c)}return e.x=o,e.y=r,e},inverse:function(e){var o,n,i=e.x-this.x0,r=e.y-this.y0;if(this.sphere)n=t-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(-9999===(n=G(this.e,a)))return null}return o=P(this.long0+i/(this.a*this.k0)),e.x=o,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:R,inverse:R,names:["longlat","identity"]}],O={},L=[];function D(e,t){var o=L.length;return e.names?(L[o]=e,e.names.forEach((function(e){O[e.toLowerCase()]=o})),this):(console.log(t),!0)}var N={start:function(){T.forEach(D)},add:D,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==O[t]&&L[O[t]]?L[O[t]]:void 0}},j={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},U=j.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};j.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var B={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},F={};function z(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:F[e]||null,isNull:!1}}function V(e){return e/3600*Math.PI/180}function q(e,t,o){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,o)))}function W(e){return e.map((function(e){return[V(e.longitudeShift),V(e.latitudeShift)]}))}function H(e,t,o){return{name:q(e,t+8,t+16).trim(),parent:q(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,o),upperLatitude:e.getFloat64(t+88,o),lowerLongitude:e.getFloat64(t+104,o),upperLongitude:e.getFloat64(t+120,o),latitudeInterval:e.getFloat64(t+136,o),longitudeInterval:e.getFloat64(t+152,o),gridNodeCount:e.getInt32(t+168,o)}}function Y(e,t,o,n){for(var i=t+176,r=[],a=0;a<o.gridNodeCount;a++){var s={latitudeShift:e.getFloat32(i+16*a,n),longitudeShift:e.getFloat32(i+16*a+4,n),latitudeAccuracy:e.getFloat32(i+16*a+8,n),longitudeAccuracy:e.getFloat32(i+16*a+12,n)};r.push(s)}return r}function J(t,o){if(!(this instanceof J))return new J(t);o=o||function(e){if(e)throw e};var n=_(t);if("object"==typeof n){var i=J.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=u(B,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var a,s,l,c,d,p,h,g=function(e,t,o,n,i){if(!e){var r=u(j,n);r||(r=U),e=r.a,t=r.b,o=r.rf}return o&&!t&&(t=(1-1/o)*e),(0===o||Math.abs(e-t)<1e-10)&&(i=!0,t=e),{a:e,b:t,rf:o,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),m=(a=g.a,s=g.b,g.rf,l=n.R_A,p=((c=a*a)-(d=s*s))/c,h=0,l?(c=(a*=1-p*(.16666666666666666+p*(.04722222222222222+.022156084656084655*p)))*a,p=0):h=Math.sqrt(p),{es:p,e:h,ep2:(c-d)/d}),f=function(e){return void 0===e?null:e.split(",").map(z)}(n.nadgrids),y=n.datum||function(t,o,n,i,r,a,s){var l={};return l.datum_type=void 0===t||"none"===t?5:4,o&&(l.datum_params=o.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=1),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=2,l.datum_params[3]*=e,l.datum_params[4]*=e,l.datum_params[5]*=e,l.datum_params[6]=l.datum_params[6]/1e6+1))),s&&(l.datum_type=3,l.grids=s),l.a=n,l.b=i,l.es=r,l.ep2=a,l}(n.datumCode,n.datum_params,g.a,g.b,m.es,m.ep2,f);S(this,n),S(this,i),this.a=g.a,this.b=g.b,this.rf=g.rf,this.sphere=g.sphere,this.es=m.es,this.e=m.e,this.ep2=m.ep2,this.datum=y,this.init(),o(null,this)}else o(t)}else o(t)}function Z(e,o,n){var i,r,a,s,l=e.x,c=e.y,u=e.z?e.z:0;if(c<-t&&c>-1.001*t)c=-t;else if(c>t&&c<1.001*t)c=t;else{if(c<-t)return{x:-1/0,y:-1/0,z:e.z};if(c>t)return{x:1/0,y:1/0,z:e.z}}return l>Math.PI&&(l-=2*Math.PI),r=Math.sin(c),s=Math.cos(c),a=r*r,{x:((i=n/Math.sqrt(1-o*a))+u)*s*Math.cos(l),y:(i+u)*s*Math.sin(l),z:(i*(1-o)+u)*r}}function K(e,t,o,n){var i,r,a,s,l,c,u,d,p,h,g,m,f,y,A,v=e.x,C=e.y,I=e.z?e.z:0;if(i=Math.sqrt(v*v+C*C),r=Math.sqrt(v*v+C*C+I*I),i/o<1e-12){if(y=0,r/o<1e-12)return A=-n,{x:e.x,y:e.y,z:e.z}}else y=Math.atan2(C,v);a=I/r,d=(s=i/r)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*s*s)),p=a*l,f=0;do{f++,c=t*(u=o/Math.sqrt(1-t*p*p))/(u+(A=i*d+I*p-u*(1-t*p*p))),m=(g=a*(l=1/Math.sqrt(1-c*(2-c)*s*s)))*d-(h=s*(1-c)*l)*p,d=h,p=g}while(m*m>1e-24&&f<30);return{x:y,y:Math.atan(g/Math.abs(h)),z:A}}function X(e){return 1===e||2===e}J.projections=N,J.projections.start();var Q=function(e,t,o){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(1===e.datum_type?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:2!==e.datum_type||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return o;if(5===e.datum_type||5===t.datum_type)return o;var n=e.a,i=e.es;if(3===e.datum_type){if(0!==$(e,!1,o))return;n=6378137,i=.0066943799901413165}var r=t.a,a=t.b,s=t.es;return 3===t.datum_type&&(r=6378137,a=6356752.314,s=.0066943799901413165),i!==s||n!==r||X(e.datum_type)||X(t.datum_type)?(o=Z(o,i,n),X(e.datum_type)&&(o=function(e,t,o){if(1===t)return{x:e.x+o[0],y:e.y+o[1],z:e.z+o[2]};if(2===t){var n=o[0],i=o[1],r=o[2],a=o[3],s=o[4],l=o[5],c=o[6];return{x:c*(e.x-l*e.y+s*e.z)+n,y:c*(l*e.x+e.y-a*e.z)+i,z:c*(-s*e.x+a*e.y+e.z)+r}}}(o,e.datum_type,e.datum_params)),X(t.datum_type)&&(o=function(e,t,o){if(1===t)return{x:e.x-o[0],y:e.y-o[1],z:e.z-o[2]};if(2===t){var n=o[0],i=o[1],r=o[2],a=o[3],s=o[4],l=o[5],c=o[6],u=(e.x-n)/c,d=(e.y-i)/c,p=(e.z-r)/c;return{x:u+l*d-s*p,y:-l*u+d+a*p,z:s*u-a*d+p}}}(o,t.datum_type,t.datum_params)),o=K(o,s,r,a),3!==t.datum_type||0===$(t,!0,o)?o:void 0):o};function $(e,t,o){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-o.x,y:o.y},r={x:Number.NaN,y:Number.NaN},a=[],s=0;s<e.grids.length;s++){var l=e.grids[s];if(a.push(l.name),l.isNull){r=i;break}if(null!==l.grid){var c=l.grid.subgrids[0],u=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-u,p=c.ll[1]-u,h=c.ll[0]+(c.lim[0]-1)*c.del[0]+u,g=c.ll[1]+(c.lim[1]-1)*c.del[1]+u;if(!(p>i.y||d>i.x||g<i.y||h<i.x||(r=ee(i,t,c),isNaN(r.x))))break}else if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*n+" "+i.y*n+" tried: '"+a+"'"),-1):(o.x=-r.x,o.y=r.y,0)}function ee(e,t,o){var n={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return n;var i={x:e.x,y:e.y};i.x-=o.ll[0],i.y-=o.ll[1],i.x=P(i.x-Math.PI)+Math.PI;var r=te(i,o);if(t){if(isNaN(r.x))return n;r.x=i.x-r.x,r.y=i.y-r.y;var a,s,l=9;do{if(s=te(r,o),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:i.x-(s.x+r.x),y:i.y-(s.y+r.y)},r.x+=a.x,r.y+=a.y}while(l--&&Math.abs(a.x)>1e-12&&Math.abs(a.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=P(r.x+o.ll[0]),n.y=r.y+o.ll[1]}else isNaN(r.x)||(n.x=e.x+r.x,n.y=e.y+r.y);return n}function te(e,t){var o,n={x:e.x/t.del[0],y:e.y/t.del[1]},i=Math.floor(n.x),r=Math.floor(n.y),a=n.x-1*i,s=n.y-1*r,l={x:Number.NaN,y:Number.NaN};if(i<0||i>=t.lim[0])return l;if(r<0||r>=t.lim[1])return l;o=r*t.lim[0]+i;var c=t.cvs[o][0],u=t.cvs[o][1];o++;var d=t.cvs[o][0],p=t.cvs[o][1];o+=t.lim[0];var h=t.cvs[o][0],g=t.cvs[o][1];o--;var m=t.cvs[o][0],f=t.cvs[o][1],y=a*s,A=a*(1-s),v=(1-a)*(1-s),C=(1-a)*s;return l.x=v*c+A*d+C*m+y*h,l.y=v*u+A*p+C*f+y*g,l}var oe=function(e,t,o){var n,i,r,a=o.x,s=o.y,l=o.z||0,c={};for(r=0;r<3;r++)if(!t||2!==r||void 0!==o.z)switch(0===r?(n=a,i=-1!=="ew".indexOf(e.axis[r])?"x":"y"):1===r?(n=s,i=-1!=="ns".indexOf(e.axis[r])?"y":"x"):(n=l,i="z"),e.axis[r]){case"e":c[i]=n;break;case"w":c[i]=-n;break;case"n":c[i]=n;break;case"s":c[i]=-n;break;case"u":void 0!==o[i]&&(c.z=n);break;case"d":void 0!==o[i]&&(c.z=-n);break;default:return null}return c},ne=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t};function ie(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function re(e,t,i,r){var a;if(Array.isArray(i)&&(i=ne(i)),function(e){ie(e.x),ie(e.y)}(i),e.datum&&t.datum&&function(e,t){return(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode||(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode}(e,t)&&(i=re(e,a=new J("WGS84"),i,r),e=a),r&&"enu"!==e.axis&&(i=oe(e,!1,i)),"longlat"===e.projName)i={x:i.x*o,y:i.y*o,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),!(i=e.inverse(i)))return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=Q(e.datum,t.datum,i))return t.from_greenwich&&(i={x:i.x-t.from_greenwich,y:i.y,z:i.z||0}),"longlat"===t.projName?i={x:i.x*n,y:i.y*n,z:i.z||0}:(i=t.forward(i),t.to_meter&&(i={x:i.x/t.to_meter,y:i.y/t.to_meter,z:i.z||0})),r&&"enu"!==t.axis?oe(t,!0,i):i}var ae=J("WGS84");function se(e,t,o,n){var i,r,a;return Array.isArray(o)?(i=re(e,t,o,n)||{x:NaN,y:NaN},o.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(o.splice(3)):[i.x,i.y,o[2]].concat(o.splice(3)):[i.x,i.y].concat(o.splice(2)):[i.x,i.y]):(r=re(e,t,o,n),2===(a=Object.keys(o)).length||a.forEach((function(n){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;r[n]=o[n]})),r)}function le(e){return e instanceof J?e:e.oProj?e.oProj:J(e)}function ce(e,t,o){e=le(e);var n,i=!1;return void 0===t?(t=e,e=ae,i=!0):(void 0!==t.x||Array.isArray(t))&&(o=t,t=e,e=ae,i=!0),t=le(t),o?se(e,t,o):(n={forward:function(o,n){return se(e,t,o,n)},inverse:function(o,n){return se(t,e,o,n)}},i&&(n.oProj=t),n)}var ue=65,de=73,pe=79,he={forward:ge,inverse:function(e){var t=Ae(Ce(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]},toPoint:me};function ge(e,t){return t=t||5,function(e,t){var o,n,i,r,a,s,l,c,u,d,p,h,g,m,f="00000"+e.easting,y="00000"+e.northing;return e.zoneNumber+e.zoneLetter+(u=e.easting,d=e.northing,p=e.zoneNumber,h=ve(p),g=Math.floor(u/1e5),m=Math.floor(d/1e5)%20,o=g,n=m,r="AJSAJS".charCodeAt(i=h-1),a="AFAFAF".charCodeAt(i),c=!1,(s=r+o-1)>90&&(s=s-90+ue-1,c=!0),(s===de||r<de&&s>de||(s>de||r<de)&&c)&&s++,(s===pe||r<pe&&s>pe||(s>pe||r<pe)&&c)&&++s===de&&s++,s>90&&(s=s-90+ue-1),(l=a+n)>86?(l=l-86+ue-1,c=!0):c=!1,(l===de||a<de&&l>de||(l>de||a<de)&&c)&&l++,(l===pe||a<pe&&l>pe||(l>pe||a<pe)&&c)&&++l===de&&l++,l>86&&(l=l-86+ue-1),String.fromCharCode(s)+String.fromCharCode(l))+f.substr(f.length-5,t)+y.substr(y.length-5,t)}(function(e){var t,o,n,i,r,a,s,l=e.lat,c=e.lon,u=6378137,d=fe(l),p=fe(c);s=Math.floor((c+180)/6)+1,180===c&&(s=60),l>=56&&l<64&&c>=3&&c<12&&(s=32),l>=72&&l<84&&(c>=0&&c<9?s=31:c>=9&&c<21?s=33:c>=21&&c<33?s=35:c>=33&&c<42&&(s=37)),a=fe(6*(s-1)-180+3),t=u/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),o=Math.tan(d)*Math.tan(d),n=.006739496752268451*Math.cos(d)*Math.cos(d),i=Math.cos(d)*(p-a),r=u*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-3.418046101696858e-9*Math.sin(6*d));var h,g,m=.9996*t*(i+(1-o+n)*i*i*i/6+(5-18*o+o*o+72*n-.39089081163157013)*i*i*i*i*i/120)+5e5,f=.9996*(r+t*Math.tan(d)*(i*i/2+(5-o+9*n+4*n*n)*i*i*i*i/24+(61-58*o+o*o+600*n-2.2240339282485886)*i*i*i*i*i*i/720));return l<0&&(f+=1e7),{northing:Math.round(f),easting:Math.round(m),zoneNumber:s,zoneLetter:(h=l,g="Z",84>=h&&h>=72?g="X":72>h&&h>=64?g="W":64>h&&h>=56?g="V":56>h&&h>=48?g="U":48>h&&h>=40?g="T":40>h&&h>=32?g="S":32>h&&h>=24?g="R":24>h&&h>=16?g="Q":16>h&&h>=8?g="P":8>h&&h>=0?g="N":0>h&&h>=-8?g="M":-8>h&&h>=-16?g="L":-16>h&&h>=-24?g="K":-24>h&&h>=-32?g="J":-32>h&&h>=-40?g="H":-40>h&&h>=-48?g="G":-48>h&&h>=-56?g="F":-56>h&&h>=-64?g="E":-64>h&&h>=-72?g="D":-72>h&&h>=-80&&(g="C"),g)}}({lat:e[1],lon:e[0]}),t)}function me(e){var t=Ae(Ce(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function fe(e){return e*(Math.PI/180)}function ye(e){return e/Math.PI*180}function Ae(e){var t=e.northing,o=e.easting,n=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var r,a,s,l,c,u,d,p,h=6378137,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=o-5e5,f=t;n<"N"&&(f-=1e7),u=6*(i-1)-180+3,p=(d=f/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*d)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*d)+151*g*g*g/96*Math.sin(6*d),r=h/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),a=Math.tan(p)*Math.tan(p),s=.006739496752268451*Math.cos(p)*Math.cos(p),l=.99330562*h/Math.pow(1-.00669438*Math.sin(p)*Math.sin(p),1.5),c=m/(.9996*r);var y=p-r*Math.tan(p)/l*(c*c/2-(5+3*a+10*s-4*s*s-.06065547077041606)*c*c*c*c/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*c*c*c*c*c*c/720);y=ye(y);var A,v=(c-(1+2*a+s)*c*c*c/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*c*c*c*c*c/120)/Math.cos(p);if(v=u+ye(v),e.accuracy){var C=Ae({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});A={top:C.lat,right:C.lon,bottom:y,left:v}}else A={lat:y,lon:v};return A}function ve(e){var t=e%6;return 0===t&&(t=6),t}function Ce(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,o=e.length,n=null,i="",r=0;!/[A-Z]/.test(t=e.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,r++}var a=parseInt(i,10);if(0===r||r+3>o)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(r++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;n=e.substring(r,r+=2);for(var l=ve(a),c=function(e,t){for(var o="AJSAJS".charCodeAt(t-1),n=1e5,i=!1;o!==e.charCodeAt(0);){if(++o===de&&o++,o===pe&&o++,o>90){if(i)throw"Bad character: "+e;o=ue,i=!0}n+=1e5}return n}(n.charAt(0),l),u=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var o="AFAFAF".charCodeAt(t-1),n=0,i=!1;o!==e.charCodeAt(0);){if(++o===de&&o++,o===pe&&o++,o>86){if(i)throw"Bad character: "+e;o=ue,i=!0}n+=1e5}return n}(n.charAt(1),l);u<Ie(s);)u+=2e6;var d=o-r;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var p,h,g,m=d/2,f=0,y=0;return m>0&&(p=1e5/Math.pow(10,m),h=e.substring(r,r+m),f=parseFloat(h)*p,g=e.substring(r+m),y=parseFloat(g)*p),{easting:f+c,northing:y+u,zoneLetter:s,zoneNumber:a,accuracy:p}}function Ie(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function be(e,t,o){if(!(this instanceof be))return new be(e,t,o);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var n=e.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=e,this.y=t,this.z=o||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}be.fromMGRS=function(e){return new be(me(e))},be.prototype.toMGRS=function(e){return ge([this.x,this.y],e)};var we=.01068115234375,Ee=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*we))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*we)));var o=e*e;return t[2]=o*(.46875-e*(.013020833333333334+.007120768229166667*e)),o*=e,t[3]=o*(.3645833333333333-.005696614583333333*e),t[4]=o*e*.3076171875,t},_e=function(e,t,o,n){return o*=t,t*=t,n[0]*e-o*(n[1]+t*(n[2]+t*(n[3]+t*n[4])))},Se=function(e,t,o){for(var n=1/(1-t),i=e,r=20;r;--r){var a=Math.sin(i),s=1-t*a*a;if(i-=s=(_e(i,a,Math.cos(i),o)-e)*(s*Math.sqrt(s))*n,Math.abs(s)<1e-10)return i}return i},Me={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ee(this.es),this.ml0=_e(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,o,n,i=e.x,r=e.y,a=P(i-this.long0),s=Math.sin(r),l=Math.cos(r);if(this.es){var c=l*a,u=Math.pow(c,2),d=this.ep2*Math.pow(l,2),p=Math.pow(d,2),h=Math.abs(l)>1e-10?Math.tan(r):0,g=Math.pow(h,2),m=Math.pow(g,2);t=1-this.es*Math.pow(s,2),c/=Math.sqrt(t);var f=_e(r,s,l,this.en);o=this.a*(this.k0*c*(1+u/6*(1-g+d+u/20*(5-18*g+m+14*d-58*g*d+u/42*(61+179*m-m*g-479*g)))))+this.x0,n=this.a*(this.k0*(f-this.ml0+s*a*c/2*(1+u/12*(5-g+9*d+4*p+u/30*(61+m-58*g+270*d-330*g*d+u/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var y=l*Math.sin(a);if(Math.abs(Math.abs(y)-1)<1e-10)return 93;if(o=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,n=l*Math.cos(a)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(n))>=1){if(y-1>1e-10)return 93;n=0}else n=Math.acos(n);r<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return e.x=o,e.y=n,e},inverse:function(e){var o,n,i,r,a=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(o=this.ml0+s/this.k0,n=Se(o,this.es,this.en),Math.abs(n)<t){var l=Math.sin(n),c=Math.cos(n),u=Math.abs(c)>1e-10?Math.tan(n):0,d=this.ep2*Math.pow(c,2),p=Math.pow(d,2),h=Math.pow(u,2),g=Math.pow(h,2);o=1-this.es*Math.pow(l,2);var m=a*Math.sqrt(o)/this.k0,f=Math.pow(m,2);i=n-(o*=u)*f/(1-this.es)*.5*(1-f/12*(5+3*h-9*d*h+d-4*p-f/30*(61+90*h-252*d*h+45*g+46*d-f/56*(1385+3633*h+4095*g+1574*g*h)))),r=P(this.long0+m*(1-f/6*(1+2*h+d-f/20*(5+28*h+24*g+8*d*h+6*d-f/42*(61+662*h+1320*g+720*g*h))))/c)}else i=t*x(s),r=0;else{var y=Math.exp(a/this.k0),A=.5*(y-1/y),v=this.lat0+s/this.k0,C=Math.cos(v);o=Math.sqrt((1-Math.pow(C,2))/(1+Math.pow(A,2))),i=Math.asin(o),s<0&&(i=-i),r=0===A&&0===C?0:P(Math.atan2(A,C)+this.long0)}return e.x=r,e.y=i,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},xe=function(e){var t=Math.exp(e);return t=(t-1/t)/2},Pe=function(e,t){e=Math.abs(e),t=Math.abs(t);var o=Math.max(e,t),n=Math.min(e,t)/(o||1);return o*Math.sqrt(1+Math.pow(n,2))},ke=function(e){var t=Math.abs(e);return t=function(e){var t=1+e,o=t-1;return 0===o?e:e*Math.log(t)/o}(t*(1+t/(Pe(1,t)+1))),e<0?-t:t},Ge=function(e,t){for(var o,n=2*Math.cos(2*t),i=e.length-1,r=e[i],a=0;--i>=0;)o=n*r-a+e[i],a=r,r=o;return t+o*Math.sin(2*t)},Re=function(e,t,o){for(var n,i,r=Math.sin(t),a=Math.cos(t),s=xe(o),l=function(e){var t=Math.exp(e);return t=(t+1/t)/2}(o),c=2*a*l,u=-2*r*s,d=e.length-1,p=e[d],h=0,g=0,m=0;--d>=0;)n=g,i=h,p=c*(g=p)-n-u*(h=m)+e[d],m=u*g-i+c*h;return[(c=r*l)*p-(u=a*s)*m,c*m+u*p]},Te={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Me.init.apply(this),this.forward=Me.forward,this.inverse=Me.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),o=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),o*=t,this.cgb[1]=o*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=o*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),o*=t,this.cgb[2]=o*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=o*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),o*=t,this.cgb[3]=o*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=o*(1237/630+t*(t*(-24832/14175)-2.4)),o*=t,this.cgb[4]=o*(4174/315+t*(-144838/6237)),this.cbg[4]=o*(-734/315+t*(109598/31185)),o*=t,this.cgb[5]=o*(601676/22275),this.cbg[5]=o*(444337/155925),o=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+o*(1/4+o*(1/64+o/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=o*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=o*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),o*=t,this.utg[2]=o*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=o*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),o*=t,this.utg[3]=o*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=o*(49561/161280+t*(-179/168+t*(6601661/7257600))),o*=t,this.utg[4]=o*(-4583/161280+t*(108847/3991680)),this.gtu[4]=o*(34729/80640+t*(-3418889/1995840)),o*=t,this.utg[5]=o*(-20648693/638668800),this.gtu[5]=.6650675310896665*o;var n=Ge(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(e,t){for(var o,n=2*Math.cos(t),i=e.length-1,r=e[i],a=0;--i>=0;)o=n*r-a+e[i],a=r,r=o;return Math.sin(t)*o}(this.gtu,2*n))},forward:function(e){var t=P(e.x-this.long0),o=e.y;o=Ge(this.cbg,o);var n=Math.sin(o),i=Math.cos(o),r=Math.sin(t),a=Math.cos(t);o=Math.atan2(n,a*i),t=Math.atan2(r*i,Pe(n,i*a)),t=ke(Math.tan(t));var s,l,c=Re(this.gtu,2*o,2*t);return o+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*o+this.Zb)+this.y0):(s=1/0,l=1/0),e.x=s,e.y=l,e},inverse:function(e){var t,o,n=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var r=Re(this.utg,2*i,2*n);i+=r[0],n+=r[1],n=Math.atan(xe(n));var a=Math.sin(i),s=Math.cos(i),l=Math.sin(n),c=Math.cos(n);i=Math.atan2(a*c,Pe(l,c*s)),n=Math.atan2(l,c*s),t=P(n+this.long0),o=Ge(this.cgb,i)}else t=1/0,o=1/0;return e.x=t,e.y=o,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},Oe={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*(P(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*o,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Te.init.apply(this),this.forward=Te.forward,this.inverse=Te.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Le=function(e,t){return Math.pow((1-e)/(1+e),t)},De={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+i)/(Math.pow(Math.tan(.5*this.lat0+i),this.C)*Le(this.e*e,this.ratexp))},forward:function(e){var o=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+i),this.C)*Le(this.e*Math.sin(n),this.ratexp))-t,e.x=this.C*o,e},inverse:function(e){for(var o=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+i)/this.K,1/this.C),a=20;a>0&&(n=2*Math.atan(r*Le(this.e*Math.sin(e.y),-.5*this.e))-t,!(Math.abs(n-e.y)<1e-14));--a)e.y=n;return a?(e.x=o,e.y=n,e):null},names:["gauss"]},Ne={init:function(){De.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,o,n,i;return e.x=P(e.x-this.long0),De.forward.apply(this,[e]),t=Math.sin(e.y),o=Math.cos(e.y),n=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*o*n),e.x=i*o*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*o*n),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,o,n,i,r;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,r=Math.sqrt(e.x*e.x+e.y*e.y)){var a=2*Math.atan2(r,this.R2);t=Math.sin(a),o=Math.cos(a),i=Math.asin(o*this.sinc0+e.y*t*this.cosc0/r),n=Math.atan2(e.x*t,r*this.cosc0*o-e.y*this.sinc0*t)}else i=this.phic0,n=0;return e.x=n,e.y=i,De.inverse.apply(this,[e]),e.x=P(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},je={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+x(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*M(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/k(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=M(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-t,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var o,n,i,r,a,s,l=e.x,c=e.y,u=Math.sin(c),d=Math.cos(c),p=P(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=1e-10&&Math.abs(c+this.lat0)<=1e-10?(e.x=NaN,e.y=NaN,e):this.sphere?(o=2*this.k0/(1+this.sinlat0*u+this.coslat0*d*Math.cos(p)),e.x=this.a*o*d*Math.sin(p)+this.x0,e.y=this.a*o*(this.coslat0*u-this.sinlat0*d*Math.cos(p))+this.y0,e):(n=2*Math.atan(this.ssfn_(c,u,this.e))-t,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(a=k(this.e,c*this.con,this.con*u),s=2*this.a*this.k0*a/this.cons,e.x=this.x0+s*Math.sin(l-this.long0),e.y=this.y0-this.con*s*Math.cos(l-this.long0),e):(Math.abs(this.sinlat0)<1e-10?(o=2*this.a*this.k0/(1+r*Math.cos(p)),e.y=o*i):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(p))),e.y=o*(this.cosX0*i-this.sinX0*r*Math.cos(p))+this.y0),e.x=o*r*Math.sin(p)+this.x0,e))},inverse:function(e){var o,n,i,r,a;e.x-=this.x0,e.y-=this.y0;var s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return o=this.long0,n=this.lat0,s<=1e-10?(e.x=o,e.y=n,e):(n=Math.asin(Math.cos(l)*this.sinlat0+e.y*Math.sin(l)*this.coslat0/s),o=Math.abs(this.coslat0)<1e-10?this.lat0>0?P(this.long0+Math.atan2(e.x,-1*e.y)):P(this.long0+Math.atan2(e.x,e.y)):P(this.long0+Math.atan2(e.x*Math.sin(l),s*this.coslat0*Math.cos(l)-e.y*this.sinlat0*Math.sin(l))),e.x=o,e.y=n,e)}if(Math.abs(this.coslat0)<=1e-10){if(s<=1e-10)return n=this.lat0,o=this.long0,e.x=o,e.y=n,e;e.x*=this.con,e.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*G(this.e,i),o=this.con*P(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),o=this.long0,s<=1e-10?a=this.X0:(a=Math.asin(Math.cos(r)*this.sinX0+e.y*Math.sin(r)*this.cosX0/s),o=P(this.long0+Math.atan2(e.x*Math.sin(r),s*this.cosX0*Math.cos(r)-e.y*this.sinX0*Math.sin(r)))),n=-1*G(this.e,Math.tan(.5*(t+a)));return e.x=o,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(e,o,n){return o*=n,Math.tan(.5*(t+e))*Math.pow((1-o)/(1+o),.5*n)}},Ue={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),o=this.a,n=1/this.rf,i=2*n-Math.pow(n,2),r=this.e=Math.sqrt(i);this.R=this.k0*o*Math.sqrt(1-i)/(1-i*Math.pow(t,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+r*t)/(1-r*t));this.K=a-this.alpha*s+this.alpha*r/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),o=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),n=-this.alpha*(t+o)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),r=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(r))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(r));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,o=e.y-this.y0,n=t/this.R,i=2*(Math.atan(Math.exp(o/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,c=r,u=-1e3,d=0;Math.abs(c-u)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=c,e},names:["somerc"]},Be={init:function(){var e,n,a,s,l,c,u,d,p,h,g,m,f,y=0,A=0,v=0,C=0,I=0,b=0,w=0;this.no_off=(f="object"==typeof(m=this).PROJECTION?Object.keys(m.PROJECTION)[0]:m.PROJECTION,"no_uoff"in m||"no_off"in m||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(f)),this.no_rot="no_rot"in this;var E=!1;"alpha"in this&&(E=!0);var _=!1;if("rectified_grid_angle"in this&&(_=!0),E&&(w=this.alpha),_&&(y=this.rectified_grid_angle*o),E||_)A=this.longc;else if(v=this.long1,I=this.lat1,C=this.long2,b=this.lat2,Math.abs(I-b)<=1e-7||(e=Math.abs(I))<=1e-7||Math.abs(e-t)<=1e-7||Math.abs(Math.abs(this.lat0)-t)<=1e-7||Math.abs(Math.abs(b)-t)<=1e-7)throw new Error;var S=1-this.es;n=Math.sqrt(S),Math.abs(this.lat0)>1e-10?(d=Math.sin(this.lat0),a=Math.cos(this.lat0),e=1-this.es*d*d,this.B=a*a,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*n/e,(l=(s=this.B*n/(a*Math.sqrt(e)))*s-1)<=0?l=0:(l=Math.sqrt(l),this.lat0<0&&(l=-l)),this.E=l+=s,this.E*=Math.pow(k(this.e,this.lat0,d),this.B)):(this.B=1/n,this.A=this.k0,this.E=s=l=1),E||_?(E?(g=Math.asin(Math.sin(w)/s),_||(y=w)):(g=y,w=Math.asin(s*Math.sin(g))),this.lam0=A-Math.asin(.5*(l-1/l)*Math.tan(g))/this.B):(c=Math.pow(k(this.e,I,Math.sin(I)),this.B),u=Math.pow(k(this.e,b,Math.sin(b)),this.B),l=this.E/c,p=(u-c)/(u+c),h=((h=this.E*this.E)-u*c)/(h+u*c),(e=v-C)<-Math.pi?C-=r:e>Math.pi&&(C+=r),this.lam0=P(.5*(v+C)-Math.atan(h*Math.tan(.5*this.B*(v-C))/p)/this.B),g=Math.atan(2*Math.sin(this.B*P(v-this.lam0))/(l-1/l)),y=w=Math.asin(s*Math.sin(g))),this.singam=Math.sin(g),this.cosgam=Math.cos(g),this.sinrot=Math.sin(y),this.cosrot=Math.cos(y),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(s*s-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),l=.5*g,this.v_pole_n=this.ArB*Math.log(Math.tan(i-l)),this.v_pole_s=this.ArB*Math.log(Math.tan(i+l))},forward:function(e){var o,n,i,r,a,s,l,c,u={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-t)>1e-10){if(o=.5*((a=this.E/Math.pow(k(this.e,e.y,Math.sin(e.y)),this.B))-(s=1/a)),n=.5*(a+s),r=Math.sin(this.B*e.x),i=(o*this.singam-r*this.cosgam)/n,Math.abs(Math.abs(i)-1)<1e-10)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*e.x),l=Math.abs(s)<1e-7?this.A*e.x:this.ArB*Math.atan2(o*this.cosgam+r*this.singam,s)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(u.x=l,u.y=c):(l-=this.u_0,u.x=c*this.cosrot+l*this.sinrot,u.y=l*this.cosrot-c*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function(e){var o,n,i,r,a,s,l,c={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,o=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,o=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=.5*((i=Math.exp(-this.BrA*n))-1/i),a=.5*(i+1/i),l=((s=Math.sin(this.BrA*o))*this.cosgam+r*this.singam)/a,Math.abs(Math.abs(l)-1)<1e-10)c.x=0,c.y=l<0?-t:t;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=G(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(r*this.cosgam-s*this.singam,Math.cos(this.BrA*o))}return c.x+=this.lam0,c},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},Fe={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),o=Math.cos(this.lat1),n=M(this.e,t,o),i=k(this.e,this.lat1,t),r=Math.sin(this.lat2),a=Math.cos(this.lat2),s=M(this.e,r,a),l=k(this.e,this.lat2,r),c=k(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(n/s)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var o=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=x(n)*(t-2e-10));var i,r,a=Math.abs(Math.abs(n)-t);if(a>1e-10)i=k(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((a=n*this.ns)<=0)return null;r=0}var s=this.ns*P(o-this.long0);return e.x=this.k0*(r*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,e},inverse:function(e){var o,n,i,r,a,s=(e.x-this.x0)/this.k0,l=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(o=Math.sqrt(s*s+l*l),n=1):(o=-Math.sqrt(s*s+l*l),n=-1);var c=0;if(0!==o&&(c=Math.atan2(n*s,n*l)),0!==o||this.ns>0){if(n=1/this.ns,i=Math.pow(o/(this.a*this.f0),n),-9999===(r=G(this.e,i)))return null}else r=-t;return a=P(c/this.ns+this.long0),e.x=a,e.y=r,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},ze={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,o,n,i,r,a,s,l=e.x,c=e.y,u=P(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),o=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),n=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(o)+Math.sin(this.ad)*Math.cos(o)*Math.cos(n)),r=Math.asin(Math.cos(o)*Math.sin(n)/Math.cos(i)),a=this.n*r,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,o,n,i,r,a,s,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),r=Math.sqrt(e.x*e.x+e.y*e.y),i=Math.atan2(e.y,e.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(t)),e.x=this.long0-o/this.alfa,a=t,s=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(s=1),a=e.y,c+=1}while(0===s&&c<15);return c>=15?null:e},names:["Krovak","krovak"]},Ve=function(e,t,o,n,i){return e*i-t*Math.sin(2*i)+o*Math.sin(4*i)-n*Math.sin(6*i)},qe=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},We=function(e){return.375*e*(1+.25*e*(1+.46875*e))},He=function(e){return.05859375*e*e*(1+.75*e)},Ye=function(e){return e*e*e*(35/3072)},Je=function(e,t,o){var n=t*o;return e/Math.sqrt(1-n*n)},Ze=function(e){return Math.abs(e)<t?e:e-x(e)*Math.PI},Ke=function(e,t,o,n,i){var r,a;r=e/t;for(var s=0;s<15;s++)if(r+=a=(e-(t*r-o*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)))/(t-2*o*Math.cos(2*r)+4*n*Math.cos(4*r)-6*i*Math.cos(6*r)),Math.abs(a)<=1e-10)return r;return NaN},Xe={init:function(){this.sphere||(this.e0=qe(this.es),this.e1=We(this.es),this.e2=He(this.es),this.e3=Ye(this.es),this.ml0=this.a*Ve(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,o,n=e.x,i=e.y;if(n=P(n-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(n)),o=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var r=Math.sin(i),a=Math.cos(i),s=Je(this.a,this.e,r),l=Math.tan(i)*Math.tan(i),c=n*Math.cos(i),u=c*c,d=this.es*a*a/(1-this.es);t=s*c*(1-u*l*(1/6-(8-l+8*d)*u/120)),o=this.a*Ve(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*r/a*u*(.5+(5-l+6*d)*u/24)}return e.x=t+this.x0,e.y=o+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var o,n,i=e.x/this.a,r=e.y/this.a;if(this.sphere){var a=r+this.lat0;o=Math.asin(Math.sin(a)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(a))}else{var s=this.ml0/this.a+r,l=Ke(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-t)<=1e-10)return e.x=this.long0,e.y=t,r<0&&(e.y*=-1),e;var c=Je(this.a,this.e,Math.sin(l)),u=c*c*c/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(l),2),p=i*this.a/c,h=p*p;o=l-c*Math.tan(l)/u*p*p*(.5-(1+3*d)*p*p/24),n=p*(1-h*(d/3+(1+3*d)*d*h/15))/Math.cos(l)}return e.x=P(n+this.long0),e.y=Ze(o),e},names:["Cassini","Cassini_Soldner","cass"]},Qe=function(e,t){var o;return e>1e-7?(1-e*e)*(t/(1-(o=e*t)*o)-.5/e*Math.log((1-o)/(1+o))):2*t},$e={init:function(){var e,o=Math.abs(this.lat0);if(Math.abs(o-t)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(o)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Qe(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,o=[];return o[0]=.3333333333333333*e,t=e*e,o[0]+=.17222222222222222*t,o[1]=.06388888888888888*t,t*=e,o[0]+=.10257936507936508*t,o[1]+=.0664021164021164*t,o[2]=.016415012942191543*t,o}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Qe(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var o,n,r,a,s,l,c,u,d,p,h=e.x,g=e.y;if(h=P(h-this.long0),this.sphere){if(s=Math.sin(g),p=Math.cos(g),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+p*r:1+this.sinph0*s+this.cosph0*p*r)<=1e-10)return null;o=(n=Math.sqrt(2/n))*p*Math.sin(h),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*p*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(g+this.lat0)<1e-10)return null;n=i-.5*g,o=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=r}}else{switch(c=0,u=0,d=0,r=Math.cos(h),a=Math.sin(h),s=Math.sin(g),l=Qe(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=l/this.qp,u=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:d=1+this.sinb1*c+this.cosb1*u*r;break;case this.EQUIT:d=1+u*r;break;case this.N_POLE:d=t+g,l=this.qp-l;break;case this.S_POLE:d=g-t,l=this.qp+l}if(Math.abs(d)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),n=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*c-this.sinb1*u*r):(d=Math.sqrt(2/(1+u*r)))*c*this.ymf,o=this.xmf*d*u*a;break;case this.N_POLE:case this.S_POLE:l>=0?(o=(d=Math.sqrt(l))*a,n=r*(this.mode===this.S_POLE?d:-d)):o=n=0}}return e.x=this.a*o+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var o,n,i,r,a,s,l,c,u,d,p=e.x/this.a,h=e.y/this.a;if(this.sphere){var g,m=0,f=0;if((n=.5*(g=Math.sqrt(p*p+h*h)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(n),m=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(g)<=1e-10?0:Math.asin(h*f/g),p*=f,h=m*g;break;case this.OBLIQ:n=Math.abs(g)<=1e-10?this.lat0:Math.asin(m*this.sinph0+h*f*this.cosph0/g),p*=f*this.cosph0,h=(m-Math.sin(n)*this.sinph0)*g;break;case this.N_POLE:h=-h,n=t-n;break;case this.S_POLE:n-=t}o=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(p,h):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(p/=this.dd,h*=this.dd,(s=Math.sqrt(p*p+h*h))<1e-10)return e.x=this.long0,e.y=this.lat0,e;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),p*=r=Math.sin(r),this.mode===this.OBLIQ?(l=i*this.sinb1+h*r*this.cosb1/s,a=this.qp*l,h=s*this.cosb1*i-h*this.sinb1*r):(l=h*r/s,a=this.qp*l,h=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),!(a=p*p+h*h))return e.x=this.long0,e.y=this.lat0,e;l=1-a/this.qp,this.mode===this.S_POLE&&(l=-l)}o=Math.atan2(p,h),c=Math.asin(l),u=this.apa,d=c+c,n=c+u[0]*Math.sin(d)+u[1]*Math.sin(d+d)+u[2]*Math.sin(d+d+d)}return e.x=P(this.long0+o),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},et=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},tt={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=M(this.e3,this.sin_po,this.cos_po),this.qs1=Qe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=M(this.e3,this.sin_po,this.cos_po),this.qs2=Qe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Qe(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,o=e.y;this.sin_phi=Math.sin(o),this.cos_phi=Math.cos(o);var n=Qe(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,r=this.ns0*P(t-this.long0),a=i*Math.sin(r)+this.x0,s=this.rh-i*Math.cos(r)+this.y0;return e.x=a,e.y=s,e},inverse:function(e){var t,o,n,i,r,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),n=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),n=-1),i=0,0!==t&&(i=Math.atan2(n*e.x,n*e.y)),n=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(o=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,o)),r=P(i/this.ns0+this.long0),e.x=r,e.y=a,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var o,n,i,r,a=et(.5*t);if(e<1e-10)return a;for(var s=e*e,l=1;l<=25;l++)if(a+=r=.5*(i=1-(n=e*(o=Math.sin(a)))*n)*i/Math.cos(a)*(t/(1-s)-o/i+.5/e*Math.log((1-n)/(1+n))),Math.abs(r)<=1e-7)return a;return null}},ot={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,o,n,i,r,a,s,l=e.x,c=e.y;return n=P(l-this.long0),t=Math.sin(c),o=Math.cos(c),i=Math.cos(n),(r=this.sin_p14*t+this.cos_p14*o*i)>0||Math.abs(r)<=1e-10?(a=this.x0+1*this.a*o*Math.sin(n)/r,s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*o*i)/r):(a=this.x0+this.infinity_dist*o*Math.sin(n),s=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*o*i)),e.x=a,e.y=s,e},inverse:function(e){var t,o,n,i,r,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),o=Math.sin(i),n=Math.cos(i),a=et(n*this.sin_p14+e.y*o*this.cos_p14/t),r=Math.atan2(e.x*o,t*this.cos_p14*n-e.y*this.sin_p14*o),r=P(this.long0+r)):(a=this.phic0,r=0),e.x=r,e.y=a,e},names:["gnom"]},nt={init:function(){this.sphere||(this.k0=M(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,o,n=e.x,i=e.y,r=P(n-this.long0);if(this.sphere)t=this.x0+this.a*r*Math.cos(this.lat_ts),o=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=Qe(this.e,Math.sin(i));t=this.x0+this.a*this.k0*r,o=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=o,e},inverse:function(e){var o,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(o=P(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(e,o){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(o)-n)<1e-6)return o<0?-1*t:t;for(var i,r,a,s,l=Math.asin(.5*o),c=0;c<30;c++)if(r=Math.sin(l),a=Math.cos(l),s=e*r,l+=i=Math.pow(1-s*s,2)/(2*a)*(o/(1-e*e)-r/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return l;return NaN}(this.e,2*e.y*this.k0/this.a),o=P(this.long0+e.x/(this.a*this.k0))),e.x=o,e.y=n,e},names:["cea"]},it={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,o=e.y,n=P(t-this.long0),i=Ze(o-this.lat0);return e.x=this.x0+this.a*n*this.rc,e.y=this.y0+this.a*i,e},inverse:function(e){var t=e.x,o=e.y;return e.x=P(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Ze(this.lat0+(o-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},rt={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qe(this.es),this.e1=We(this.es),this.e2=He(this.es),this.e3=Ye(this.es),this.ml0=this.a*Ve(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,o,n,i=e.x,r=e.y,a=P(i-this.long0);if(n=a*Math.sin(r),this.sphere)Math.abs(r)<=1e-10?(t=this.a*a,o=-1*this.a*this.lat0):(t=this.a*Math.sin(n)/Math.tan(r),o=this.a*(Ze(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=1e-10)t=this.a*a,o=-1*this.ml0;else{var s=Je(this.a,this.e,Math.sin(r))/Math.tan(r);t=s*Math.sin(n),o=this.a*Ve(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(n))}return e.x=t+this.x0,e.y=o+this.y0,e},inverse:function(e){var t,o,n,i,r,a,s,l,c;if(n=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=1e-10)t=P(n/this.a+this.long0),o=0;else{var u;for(a=this.lat0+i/this.a,s=n*n/this.a/this.a+a*a,l=a,r=20;r;--r)if(l+=c=-1*(a*(l*(u=Math.tan(l))+1)-l-.5*(l*l+s)*u)/((l-a)/u-1),Math.abs(c)<=1e-10){o=l;break}t=P(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(o))}else if(Math.abs(i+this.ml0)<=1e-10)o=0,t=P(this.long0+n/this.a);else{var d,p,h,g,m;for(a=(this.ml0+i)/this.a,s=n*n/this.a/this.a+a*a,l=a,r=20;r;--r)if(m=this.e*Math.sin(l),d=Math.sqrt(1-m*m)*Math.tan(l),p=this.a*Ve(this.e0,this.e1,this.e2,this.e3,l),h=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(a*(d*(g=p/this.a)+1)-g-.5*d*(g*g+s))/(this.es*Math.sin(2*l)*(g*g+s-2*a*g)/(4*d)+(a-g)*(d*h-2/Math.sin(2*l))-h),Math.abs(c)<=1e-10){o=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(o),2))*Math.tan(o),t=P(this.long0+Math.asin(n*d/this.a)/Math.sin(o))}return e.x=t,e.y=o,e},names:["Polyconic","poly"]},at={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var o,n=t.x,i=t.y-this.lat0,r=n-this.long0,a=i/e*1e-5,s=r,l=1,c=0;for(o=1;o<=10;o++)l*=a,c+=this.A[o]*l;var u,d=c,p=s,h=1,g=0,m=0,f=0;for(o=1;o<=6;o++)u=g*d+h*p,h=h*d-g*p,g=u,m=m+this.B_re[o]*h-this.B_im[o]*g,f=f+this.B_im[o]*h+this.B_re[o]*g;return t.x=f*this.a+this.x0,t.y=m*this.a+this.y0,t},inverse:function(t){var o,n,i=t.x,r=t.y,a=i-this.x0,s=(r-this.y0)/this.a,l=a/this.a,c=1,u=0,d=0,p=0;for(o=1;o<=6;o++)n=u*s+c*l,c=c*s-u*l,u=n,d=d+this.C_re[o]*c-this.C_im[o]*u,p=p+this.C_im[o]*c+this.C_re[o]*u;for(var h=0;h<this.iterations;h++){var g,m=d,f=p,y=s,A=l;for(o=2;o<=6;o++)g=f*d+m*p,m=m*d-f*p,f=g,y+=(o-1)*(this.B_re[o]*m-this.B_im[o]*f),A+=(o-1)*(this.B_im[o]*m+this.B_re[o]*f);m=1,f=0;var v=this.B_re[1],C=this.B_im[1];for(o=2;o<=6;o++)g=f*d+m*p,m=m*d-f*p,f=g,v+=o*(this.B_re[o]*m-this.B_im[o]*f),C+=o*(this.B_im[o]*m+this.B_re[o]*f);var I=v*v+C*C;d=(y*v+A*C)/I,p=(A*v-y*C)/I}var b=d,w=p,E=1,_=0;for(o=1;o<=9;o++)E*=b,_+=this.D[o]*E;var S=this.lat0+_*e*1e5,M=this.long0+w;return t.x=M,t.y=S,t},names:["New_Zealand_Map_Grid","nzmg"]},st={init:function(){},forward:function(e){var t=e.x,o=e.y,n=P(t-this.long0),i=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+o/2.5))*1.25;return e.x=i,e.y=r,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=P(this.long0+e.x/this.a),o=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=o,e},names:["Miller_Cylindrical","mill"]},lt={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ee(this.es)},forward:function(e){var t,o,n=e.x,i=e.y;if(n=P(n-this.long0),this.sphere){if(this.m)for(var r=this.n*Math.sin(i),a=20;a;--a){var s=(this.m*i+Math.sin(i)-r)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<1e-10)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*n*(this.m+Math.cos(i)),o=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);o=this.a*_e(i,l,c,this.en),t=this.a*n*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=o,e},inverse:function(e){var o,n,i,r;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,o=e.y/this.a,this.sphere?(o/=this.C_y,i/=this.C_x*(this.m+Math.cos(o)),this.m?o=et((this.m*o+Math.sin(o))/this.n):1!==this.n&&(o=et(Math.sin(o)/this.n)),i=P(i+this.long0),o=Ze(o)):(o=Se(e.y/this.a,this.es,this.en),(r=Math.abs(o))<t?(r=Math.sin(o),n=this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(o)),i=P(n)):r-1e-10<t&&(i=this.long0)),e.x=i,e.y=o,e},names:["Sinusoidal","sinu"]},ct={init:function(){},forward:function(e){for(var t=e.x,o=e.y,n=P(t-this.long0),i=o,r=Math.PI*Math.sin(o);;){var a=-(i+Math.sin(i)-r)/(1+Math.cos(i));if(i+=a,Math.abs(a)<1e-10)break}i/=2,Math.PI/2-Math.abs(o)<1e-10&&(n=0);var s=.900316316158*this.a*n*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=s,e.y=l,e},inverse:function(e){var t,o;e.x-=this.x0,e.y-=this.y0,o=e.y/(1.4142135623731*this.a),Math.abs(o)>.999999999999&&(o=.999999999999),t=Math.asin(o);var n=P(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),o=(2*t+Math.sin(2*t))/Math.PI,Math.abs(o)>1&&(o=1);var i=Math.asin(o);return e.x=n,e.y=i,e},names:["Mollweide","moll"]},ut={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qe(this.es),this.e1=We(this.es),this.e2=He(this.es),this.e3=Ye(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=M(this.e,this.sinphi,this.cosphi),this.ml1=Ve(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=M(this.e,this.sinphi,this.cosphi),this.ml2=Ve(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ve(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,o=e.x,n=e.y;if(this.sphere)t=this.a*(this.g-n);else{var i=Ve(this.e0,this.e1,this.e2,this.e3,n);t=this.a*(this.g-i)}var r=this.ns*P(o-this.long0),a=this.x0+t*Math.sin(r),s=this.y0+this.rh-t*Math.cos(r);return e.x=a,e.y=s,e},inverse:function(e){var t,o,n,i;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(o=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(o=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var r=0;if(0!==o&&(r=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=P(this.long0+r/this.ns),n=Ze(this.g-o/this.a),e.x=i,e.y=n,e;var a=this.g-o/this.a;return n=Ke(a,this.e0,this.e1,this.e2,this.e3),i=P(this.long0+r/this.ns),e.x=i,e.y=n,e},names:["Equidistant_Conic","eqdc"]},dt={init:function(){this.R=this.a},forward:function(e){var o,n,i=e.x,r=e.y,a=P(i-this.long0);Math.abs(r)<=1e-10&&(o=this.x0+this.R*a,n=this.y0);var s=et(2*Math.abs(r/Math.PI));(Math.abs(a)<=1e-10||Math.abs(Math.abs(r)-t)<=1e-10)&&(o=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/a-a/Math.PI),c=l*l,u=Math.sin(s),d=Math.cos(s),p=d/(u+d-1),h=p*p,g=p*(2/u-1),m=g*g,f=Math.PI*this.R*(l*(p-m)+Math.sqrt(c*(p-m)*(p-m)-(m+c)*(h-m)))/(m+c);a<0&&(f=-f),o=this.x0+f;var y=c+p;return f=Math.PI*this.R*(g*y-l*Math.sqrt((m+c)*(c+1)-y*y))/(m+c),n=r>=0?this.y0+f:this.y0-f,e.x=o,e.y=n,e},inverse:function(e){var t,o,n,i,r,a,s,l,c,u,d,p;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,r=(n=e.x/d)*n+(i=e.y/d)*i,d=3*(i*i/(l=-2*(a=-Math.abs(i)*(1+r))+1+2*i*i+r*r)+(2*(s=a-2*i*i+n*n)*s*s/l/l/l-9*a*s/l/l)/27)/(c=(a-s*s/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(d)>1&&(d=d>=0?1:-1),p=Math.acos(d)/3,o=e.y>=0?(-u*Math.cos(p+Math.PI/3)-s/3/l)*Math.PI:-(-u*Math.cos(p+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(n)<1e-10?this.long0:P(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(n*n-i*i)+r*r))/2/n),e.x=t,e.y=o,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},pt={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var o,n,i,r,a,s,l,c,u,d,p,h,g,m,f,y,A,v,C,I,b,w,E=e.x,_=e.y,S=Math.sin(e.y),M=Math.cos(e.y),x=P(E-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(e.x=this.x0+this.a*(t-_)*Math.sin(x),e.y=this.y0-this.a*(t-_)*Math.cos(x),e):Math.abs(this.sin_p12+1)<=1e-10?(e.x=this.x0+this.a*(t+_)*Math.sin(x),e.y=this.y0+this.a*(t+_)*Math.cos(x),e):(v=this.sin_p12*S+this.cos_p12*M*Math.cos(x),A=(y=Math.acos(v))?y/Math.sin(y):1,e.x=this.x0+this.a*A*M*Math.sin(x),e.y=this.y0+this.a*A*(this.cos_p12*S-this.sin_p12*M*Math.cos(x)),e):(o=qe(this.es),n=We(this.es),i=He(this.es),r=Ye(this.es),Math.abs(this.sin_p12-1)<=1e-10?(a=this.a*Ve(o,n,i,r,t),s=this.a*Ve(o,n,i,r,_),e.x=this.x0+(a-s)*Math.sin(x),e.y=this.y0-(a-s)*Math.cos(x),e):Math.abs(this.sin_p12+1)<=1e-10?(a=this.a*Ve(o,n,i,r,t),s=this.a*Ve(o,n,i,r,_),e.x=this.x0+(a+s)*Math.sin(x),e.y=this.y0+(a+s)*Math.cos(x),e):(l=S/M,c=Je(this.a,this.e,this.sin_p12),u=Je(this.a,this.e,S),d=Math.atan((1-this.es)*l+this.es*c*this.sin_p12/(u*M)),C=0===(p=Math.atan2(Math.sin(x),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(x)))?Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(p)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(x)*Math.cos(d)/Math.sin(p)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),y=c*C*(1-(I=C*C)*(f=(g=this.e*this.cos_p12*Math.cos(p)/Math.sqrt(1-this.es))*g)*(1-f)/6+(b=I*C)/8*(m=h*g)*(1-2*f)+(w=b*C)/120*(f*(4-7*f)-3*h*h*(1-7*f))-w*C/48*m),e.x=this.x0+y*Math.sin(p),e.y=this.y0+y*Math.cos(p),e))},inverse:function(e){var o,n,i,r,a,s,l,c,u,d,p,h,g,m,f,y,A,v,C,I,b,w,E;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((o=Math.sqrt(e.x*e.x+e.y*e.y))>2*t*this.a)return;return n=o/this.a,i=Math.sin(n),r=Math.cos(n),a=this.long0,Math.abs(o)<=1e-10?s=this.lat0:(s=et(r*this.sin_p12+e.y*i*this.cos_p12/o),l=Math.abs(this.lat0)-t,a=Math.abs(l)<=1e-10?this.lat0>=0?P(this.long0+Math.atan2(e.x,-e.y)):P(this.long0-Math.atan2(-e.x,e.y)):P(this.long0+Math.atan2(e.x*i,o*this.cos_p12*r-e.y*this.sin_p12*i))),e.x=a,e.y=s,e}return c=qe(this.es),u=We(this.es),d=He(this.es),p=Ye(this.es),Math.abs(this.sin_p12-1)<=1e-10?(h=this.a*Ve(c,u,d,p,t),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Ke((h-o)/this.a,c,u,d,p),a=P(this.long0+Math.atan2(e.x,-1*e.y)),e.x=a,e.y=s,e):Math.abs(this.sin_p12+1)<=1e-10?(h=this.a*Ve(c,u,d,p,t),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Ke((o-h)/this.a,c,u,d,p),a=P(this.long0+Math.atan2(e.x,e.y)),e.x=a,e.y=s,e):(o=Math.sqrt(e.x*e.x+e.y*e.y),f=Math.atan2(e.x,e.y),g=Je(this.a,this.e,this.sin_p12),y=Math.cos(f),v=-(A=this.e*this.cos_p12*y)*A/(1-this.es),C=3*this.es*(1-v)*this.sin_p12*this.cos_p12*y/(1-this.es),w=1-v*(b=(I=o/g)-v*(1+v)*Math.pow(I,3)/6-C*(1+3*v)*Math.pow(I,4)/24)*b/2-I*b*b*b/6,m=Math.asin(this.sin_p12*Math.cos(b)+this.cos_p12*Math.sin(b)*y),a=P(this.long0+Math.asin(Math.sin(f)*Math.sin(b)/Math.cos(m))),E=Math.sin(m),s=Math.atan2((E-this.es*w*this.sin_p12)*Math.tan(m),E*(1-this.es)),e.x=a,e.y=s,e)},names:["Azimuthal_Equidistant","aeqd"]},ht={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,o,n,i,r,a,s,l=e.x,c=e.y;return n=P(l-this.long0),t=Math.sin(c),o=Math.cos(c),i=Math.cos(n),((r=this.sin_p14*t+this.cos_p14*o*i)>0||Math.abs(r)<=1e-10)&&(a=1*this.a*o*Math.sin(n),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*o*i)),e.x=a,e.y=s,e},inverse:function(e){var o,n,i,r,a,s,l;return e.x-=this.x0,e.y-=this.y0,o=Math.sqrt(e.x*e.x+e.y*e.y),n=et(o/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(o)<=1e-10?(l=this.lat0,e.x=s,e.y=l,e):(l=et(r*this.sin_p14+e.y*i*this.cos_p14/o),a=Math.abs(this.lat0)-t,Math.abs(a)<=1e-10?(s=this.lat0>=0?P(this.long0+Math.atan2(e.x,-e.y)):P(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=l,e):(s=P(this.long0+Math.atan2(e.x*i,o*this.cos_p14*r-e.y*this.sin_p14*i)),e.x=s,e.y=l,e))},names:["ortho"]},gt=1,mt=2,ft=3,yt=4,At=5,vt=6,Ct=1,It=2,bt=3,wt=4;function Et(e,o,n,r){var s;return e<1e-10?(r.value=Ct,s=0):(s=Math.atan2(o,n),Math.abs(s)<=i?r.value=Ct:s>i&&s<=t+i?(r.value=It,s-=t):s>t+i||s<=-(t+i)?(r.value=bt,s=s>=0?s-a:s+a):(r.value=wt,s+=t)),s}function _t(e,t){var o=e+t;return o<-a?o+=r:o>+a&&(o-=r),o}var St,Mt={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=t-i/2?this.face=At:this.lat0<=-(t-i/2)?this.face=vt:Math.abs(this.long0)<=i?this.face=gt:Math.abs(this.long0)<=t+i?this.face=this.long0>0?mt:yt:this.face=ft,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var o,n,r,s,l,c,u={x:0,y:0},d={value:0};if(e.x-=this.long0,o=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===At)s=t-o,n>=i&&n<=t+i?(d.value=Ct,r=n-t):n>t+i||n<=-(t+i)?(d.value=It,r=n>0?n-a:n+a):n>-(t+i)&&n<=-i?(d.value=bt,r=n+t):(d.value=wt,r=n);else if(this.face===vt)s=t+o,n>=i&&n<=t+i?(d.value=Ct,r=-n+t):n<i&&n>=-i?(d.value=It,r=-n):n<-i&&n>=-(t+i)?(d.value=bt,r=-n-t):(d.value=wt,r=n>0?-n+a:-n-a);else{var p,h,g,m,f,y;this.face===mt?n=_t(n,+t):this.face===ft?n=_t(n,+a):this.face===yt&&(n=_t(n,-t)),m=Math.sin(o),f=Math.cos(o),y=Math.sin(n),p=f*Math.cos(n),h=f*y,g=m,this.face===gt?r=Et(s=Math.acos(p),g,h,d):this.face===mt?r=Et(s=Math.acos(h),g,-p,d):this.face===ft?r=Et(s=Math.acos(-p),g,-h,d):this.face===yt?r=Et(s=Math.acos(-h),g,p,d):(s=r=0,d.value=Ct)}return c=Math.atan(12/a*(r+Math.acos(Math.sin(r)*Math.cos(i))-t)),l=Math.sqrt((1-Math.cos(s))/(Math.cos(c)*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(r))))),d.value===It?c+=t:d.value===bt?c+=a:d.value===wt&&(c+=1.5*a),u.x=l*Math.cos(c),u.y=l*Math.sin(c),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,e.x=u.x,e.y=u.y,e},inverse:function(e){var o,n,i,r,s,l,c,u,d,p,h,g,m={lam:0,phi:0},f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),o=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=Ct:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=It,o-=t):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=bt,o=o<0?o+a:o-a):(f.value=wt,o+=t),d=a/12*Math.tan(o),s=Math.sin(d)/(Math.cos(d)-1/Math.sqrt(2)),l=Math.atan(s),(c=1-(i=Math.cos(o))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(l)))))<-1?c=-1:c>1&&(c=1),this.face===At)u=Math.acos(c),m.phi=t-u,f.value===Ct?m.lam=l+t:f.value===It?m.lam=l<0?l+a:l-a:f.value===bt?m.lam=l-t:m.lam=l;else if(this.face===vt)u=Math.acos(c),m.phi=u-t,f.value===Ct?m.lam=-l+t:f.value===It?m.lam=-l:f.value===bt?m.lam=-l-t:m.lam=l<0?-l-a:-l+a;else{var y,A,v;d=(y=c)*y,A=(d+=(v=d>=1?0:Math.sqrt(1-d)*Math.sin(l))*v)>=1?0:Math.sqrt(1-d),f.value===It?(d=A,A=-v,v=d):f.value===bt?(A=-A,v=-v):f.value===wt&&(d=A,A=v,v=-d),this.face===mt?(d=y,y=-A,A=d):this.face===ft?(y=-y,A=-A):this.face===yt&&(d=y,y=A,A=-d),m.phi=Math.acos(-v)-t,m.lam=Math.atan2(A,y),this.face===mt?m.lam=_t(m.lam,-t):this.face===ft?m.lam=_t(m.lam,-a):this.face===yt&&(m.lam=_t(m.lam,+t))}return 0!==this.es&&(p=m.phi<0?1:0,h=Math.tan(m.phi),g=this.b/Math.sqrt(h*h+this.one_minus_f_squared),m.phi=Math.atan(Math.sqrt(this.a*this.a-g*g)/(this.one_minus_f*g)),p&&(m.phi=-m.phi)),m.lam+=this.long0,e.x=m.lam,e.y=m.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},xt=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Pt=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],kt=n/5,Gt=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Rt={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=P(e.x-this.long0),o=Math.abs(e.y),i=Math.floor(o*kt);i<0?i=0:i>=18&&(i=17);var r={x:Gt(xt[i],o=n*(o-.08726646259971647*i))*t,y:Gt(Pt[i],o)};return e.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(e){var n={x:(e.x-this.x0)/(.8487*this.a),y:Math.abs(e.y-this.y0)/(1.3523*this.a)};if(n.y>=1)n.x/=xt[18][0],n.y=e.y<0?-t:t;else{var i=Math.floor(18*n.y);for(i<0?i=0:i>=18&&(i=17);;)if(Pt[i][0]>n.y)--i;else{if(!(Pt[i+1][0]<=n.y))break;++i}var r=Pt[i],a=5*(n.y-r[0])/(Pt[i+1][0]-r[0]);a=function(e,t,o,n){for(var i=t;n;--n){var r=e(i);if(i-=r,Math.abs(r)<o)break}return i}((function(e){return(Gt(r,e)-n.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(r,e)}),a,1e-10,100),n.x/=Gt(xt[i],a),n.y=(5*i+a)*o,e.y<0&&(n.y=-n.y)}return n.x=P(n.x+this.long0),n},names:["Robinson","robin"]},Tt={init:function(){this.name="geocent"},forward:function(e){return Z(e,this.es,this.a)},inverse:function(e){return K(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},Ot=0,Lt=1,Dt=2,Nt=3,jt={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},Ut={init:function(){if(Object.keys(jt).forEach(function(e){if(void 0===this[e])this[e]=jt[e].def;else{if(jt[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);jt[e].num&&(this[e]=parseFloat(this[e]))}jt[e].degrees&&(this[e]=this[e]*o)}.bind(this)),Math.abs(Math.abs(this.lat0)-t)<1e-10?this.mode=this.lat0<0?Lt:Ot:Math.abs(this.lat0)<1e-10?this.mode=Dt:(this.mode=Nt,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,n=this.azi;this.cg=Math.cos(n),this.sg=Math.sin(n),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,o,n,i,r=Math.sin(e.y),a=Math.cos(e.y),s=Math.cos(e.x);switch(this.mode){case Nt:o=this.sinph0*r+this.cosph0*a*s;break;case Dt:o=a*s;break;case Lt:o=-r;break;case Ot:o=r}switch(t=(o=this.pn1/(this.p-o))*a*Math.sin(e.x),this.mode){case Nt:o*=this.cosph0*r-this.sinph0*a*s;break;case Dt:o*=r;break;case Ot:o*=-a*s;break;case Lt:o*=a*s}return i=1/((n=o*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-o*this.sg)*this.cw*i,o=n*i,e.x=t*this.a,e.y=o*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,o,n,i={x:e.x,y:e.y};n=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*n,o=this.pn1*e.y*this.cw*n,e.x=t*this.cg+o*this.sg,e.y=o*this.cg-t*this.sg;var r=Pe(e.x,e.y);if(Math.abs(r)<1e-10)i.x=0,i.y=e.y;else{var a,s;switch(s=1-r*r*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/r+r/this.pn1),a=Math.sqrt(1-s*s),this.mode){case Nt:i.y=Math.asin(a*this.sinph0+e.y*s*this.cosph0/r),e.y=(a-this.sinph0*Math.sin(i.y))*r,e.x*=s*this.cosph0;break;case Dt:i.y=Math.asin(e.y*s/r),e.y=a*r,e.x*=s;break;case Ot:i.y=Math.asin(a),e.y=-e.y;break;case Lt:i.y=-Math.asin(a)}i.x=Math.atan2(e.x,e.y)}return e.x=i.x+this.long0,e.y=i.y,e},names:["Tilted_Perspective","tpers"]};return ce.defaultDatum="WGS84",ce.Proj=J,ce.WGS84=new ce.Proj("WGS84"),ce.Point=be,ce.toPoint=ne,ce.defs=b,ce.nadgrid=function(e,t){var o=new DataView(t),n=function(e){var t=e.getInt32(8,!1);return 11!==t&&(11!==(t=e.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(o),i=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:q(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(o,n);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var r=function(e,t,o){for(var n=[],i=0;i<t.nSubgrids;i++){var r=H(e,176,o),a=Y(e,176,r,o),s=Math.round(1+(r.upperLongitude-r.lowerLongitude)/r.longitudeInterval),l=Math.round(1+(r.upperLatitude-r.lowerLatitude)/r.latitudeInterval);n.push({ll:[V(r.lowerLongitude),V(r.lowerLatitude)],del:[V(r.longitudeInterval),V(r.latitudeInterval)],lim:[s,l],count:r.gridNodeCount,cvs:W(a)})}return n}(o,i,n),a={header:i,subgrids:r};return F[e]=a,a},ce.transform=re,ce.mgrs=he,ce.version="2.7.5",(St=ce).Proj.projections.add(Me),St.Proj.projections.add(Te),St.Proj.projections.add(Oe),St.Proj.projections.add(Ne),St.Proj.projections.add(je),St.Proj.projections.add(Ue),St.Proj.projections.add(Be),St.Proj.projections.add(Fe),St.Proj.projections.add(ze),St.Proj.projections.add(Xe),St.Proj.projections.add($e),St.Proj.projections.add(tt),St.Proj.projections.add(ot),St.Proj.projections.add(nt),St.Proj.projections.add(it),St.Proj.projections.add(rt),St.Proj.projections.add(at),St.Proj.projections.add(st),St.Proj.projections.add(lt),St.Proj.projections.add(ct),St.Proj.projections.add(ut),St.Proj.projections.add(dt),St.Proj.projections.add(pt),St.Proj.projections.add(ht),St.Proj.projections.add(Mt),St.Proj.projections.add(Rt),St.Proj.projections.add(Tt),St.Proj.projections.add(Ut),ce}()},function(e,t,o){},function(e,t,o){var n;e.exports=((n=function(){this.listeners={}}).prototype={addEventListener:function(e,t,o){for(var n=[],i=arguments.length,r=0;r<i;r++)n.push(arguments[r]);n=n.length>3?n.splice(3,n.length-1):[],void 0!==this.listeners[e]?this.listeners[e].push({scope:o,callback:t,args:n}):this.listeners[e]=[{scope:o,callback:t,args:n}]},removeEventListener:function(e,t,o){if(void 0!==this.listeners[e]){for(var n=this.listeners[e].length,i=[],r=0;r<n;r++){var a=this.listeners[e][r];a.scope==o&&a.callback==t||i.push(a)}this.listeners[e]=i}},hasEventListener:function(e,t,o){if(void 0!==this.listeners[e]){var n=this.listeners[e].length;if(void 0===t&&void 0===o)return n>0;for(var i=0;i<n;i++){var r=this.listeners[e][i];if((!o||r.scope==o)&&r.callback==t)return!0}}return!1},dispatch:function(e,t){for(var o={type:e,target:t},n=[],i=arguments.length,r=0;r<i;r++)n.push(arguments[r]);if(n=n.length>2?n.splice(2,n.length-1):[],n=[o].concat(n),void 0!==this.listeners[e]){var a=this.listeners[e].slice(),s=a.length;for(r=0;r<s;r++){var l=a[r];if(l&&l.callback){var c=n.concat(l.args);l.callback.apply(l.scope,c)}}}},getEvents:function(){var e="";for(var t in this.listeners)for(var o=this.listeners[t].length,n=0;n<o;n++){var i=this.listeners[t][n];e+=i.scope&&i.scope.className?i.scope.className:"anonymous",e+=" listen for '"+t+"'\n"}return e}},new n)},function(e,t,o){"use strict";o.r(t),o.d(t,"Config",(function(){return Rc})),o.d(t,"Services",(function(){return Sc})),o.d(t,"Error",(function(){return Mc})),o.d(t,"Helper",(function(){return xc})),o.d(t,"Protocols",(function(){return Pc})),o.d(t,"servicesDate",(function(){return kc})),o.d(t,"servicesVersion",(function(){return Gc})),o.d(t,"olExtVersion",(function(){return Tc})),o.d(t,"olExtDate",(function(){return Oc})),o.d(t,"olUtils",(function(){return qt})),o.d(t,"LayerUtils",(function(){return po})),o.d(t,"ProxyUtils",(function(){return ct})),o.d(t,"ColorUtils",(function(){return yt})),o.d(t,"MathUtils",(function(){return $a})),o.d(t,"Logger",(function(){return lt})),o.d(t,"olExtended",(function(){return Dc}));var n,i=o(18),r=(o(82),o(83),o(84),o(85),o(86),o(87),o(88),o(89),o(90),o(91),o(92),o(93),o(94),o(95),o(96),o(97),o(98),o(99),o(100),o(42),o(43),o(44),o(45),o(46),o(47),o(48),o(49),o(50),o(51),o(52),o(53),o(54),o(55),o(56),o(57),o(58),o(10)),a=o.n(r),s=o(14),l=o.n(s),c=o(9),u=o.n(c),d=o(29),p=o.n(d),h=o(30),g=o.n(h),m=o(63),f=o.n(m),y=o(3),A=o(19),v={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?A.enableAll():A.disableAll();var o=e||"default";return A.getLogger(o)}},C={PARAM_MISSING:"Parameter(s) '%var%' missing",PARAM_EMPTY:"Parameter(s) '%var%' empty",PARAM_TYPE:"Wrong type(s) for parameter(s) '%var%'",PARAM_FORMAT:"Parameter(s) '%var%' not correctly formatted",PARAM_NOT_SUPPORT:"Value(s) for parameter(s) '%var%' not supported",PARAM_NOT_SUPPORT_NODEJS:"Value(s) for parameter(s) '%var%' not supported to NodeJS",PARAM_UNKNOWN:"Value(s) for parameter(s) '%var%' unknown",SERVICE_REQUEST_BUILD:"An error occurred during the request building of the service",SERVICE_REQUEST_EMPTY:"The request sent to the service is empty",SERVICE_RESPONSE_EXCEPTION:"The service returned an exception : '%var%'",SERVICE_RESPONSE_EXCEPTION_2:"The service returned an exception",SERVICE_RESPONSE_ANALYSE:"An error occurred while parsing the response '%var%' of the service",SERVICE_RESPONSE_ANALYSE_2:"An unknown error occurred while parsing the response",SERVICE_RESPONSE_EMPTY:"The response of the service is empty",SERVICE_RESPONSE_EMPTY_2:"The response from the service could not be analyzed or is empty",SERVICE_RESPONSE_FORMAT:"The format of the service response is not supported (handled format(s) : '%var%')",SERVICE_RESPONSE_FORMAT_2:"The format of the service response is not supported",SERVICE_RESPONSE_FORMAT_3:"No suggestion matching the search",CLASS_CONSTRUCTOR:"'%var%' constructor cannot be called as a function.",getMessage:function(e,t){if(0===Object.keys(arguments).length)return"Message indefined !";var o=Array.prototype.slice.call(arguments),n=o.shift(),i=o,r=this[n];try{r=Array.isArray(i)&&i.length>0?r.replace("%var%",i.join(" - ")):r.replace("%var%","%var% (not specified)")}catch(e){}return r}},I={normalyzeParameters:function(e){var t=null;if(e){var o=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i||(i=""),o.push(n+"="+i)}t=o.join("&")}return t},normalyzeUrl:function(e,t,o){var n=e;if(e){var i=e.indexOf("?");-1===i&&(n+="?"),-1!==i&&i!==e.length-1&&(n+="&")}return t&&(n+="string"==typeof t?t=t.replace("?",""):this.normalyzeParameters(t)),o&&(n=encodeURIComponent(n)),n},indent:function(e,t){return new Array((e||0)+1).join("\t")+t}},b=o(64),w=o.n(b),E={call:function(e){var t=v.getLogger("XHR");if(t.trace("[XHR::call()]"),w.a.polyfill(),!e.url)throw new Error("missing parameter : url is not defined !");if(!e.method)throw new Error("missing parameter : method is not defined !");e.format||(e.format="text");var o={};switch(o.url=e.url,o.data=e.data?e.data:null,o.method=e.method,o.timeOut=e.timeOut||0,o.scope=e.scope||this,o.proxy=e.proxy||null,o.content=e.content||null,o.headers=e.headers||{referer:"http://localhost"},e.method){case"DELETE":case"GET":break;case"PUT":case"POST":o.content=e.content?e.content:"application/x-www-form-urlencoded",o.headers=e.headers?e.headers:{referer:"http://localhost"};break;case"HEAD":case"OPTIONS":throw new Error("HTTP method not yet supported !");default:throw new Error("HTTP method unknown !")}switch(e.format){case"text":this.__call(o).then((function(o){t.trace(o),e.onResponse.call(this,o)})).catch((function(t){e.onFailure.call(this,t)}));break;case"json":this.__callJSON(o).then((function(o){t.trace(o),e.onResponse.call(this,o)})).catch((function(t){e.onFailure.call(this,t)}));break;case"xml":this.__callXML(o).then((function(o){t.trace(o),e.onResponse.call(this,o)})).catch((function(t){e.onFailure.call(this,t)}));break;default:throw new Error("This output Format is not yet supported !")}},__call:function(e){var t=v.getLogger("XHR");return t.trace("[XHR::__call()]"),new Promise((function(n,i){var r="POST"===e.method||"PUT"===e.method?1:0;e.data&&("object"==typeof e.data&&Object.keys(e.data).length||"string"==typeof e.data&&e.data.length)&&!r&&(e.url=I.normalyzeUrl(e.url,e.data)),t.trace("URL = ",e.url);var a=null;if("undefined"==typeof window){var s=o(59),l={headers:{Referer:"https://localhost"}};return e.data&&"string"==typeof e.data&&r&&(l={method:e.method,body:e.data,headers:{"Content-Type":e.content,Referer:"https://localhost"}}),s(e.url,l).then((function(e){if(e.ok)n(e.text());else{var t="Errors Occured on Http Request (status : '"+e.statusText+"' | url : '"+e.url+"')",o=e.status;i({message:t,status:o})}})).catch((function(e){i({message:e,status:-1})}))}if(window.XMLHttpRequest){t.trace("XMLHttpRequest"),(a=new XMLHttpRequest).open(e.method,e.url,!0),a.overrideMimeType=e.content;var c=null;e.timeOut>0&&(t.trace("XHR - TimeOut actif !"),c=window.setTimeout((function(){i({message:"TimeOut Occured on Http Request with XMLHttpRequest !",status:-1})}),e.timeOut)),r&&(t.trace("data = ",e.data),a.setRequestHeader("Content-type",e.content)),a.onerror=function(e){console.log(e),i(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},a.ontimeout=function(e){console.log(e),i(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},a.onreadystatechange=function(e){if(4===a.readyState)if(200===a.status)window.clearTimeout(c),n(a.response);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"' | response : '"+e.target.response+"')",o=e.target.status;i({message:t,status:o})}};var u=e.data&&r?e.data:null;a.send(u)}else{if(!window.XDomainRequest)throw new Error("CORS not supported");t.trace("XDomainRequest"),(a=new XDomainRequest).open(e.method,e.url),a.overrideMimeType=e.content,e.timeOut>0&&(a.timeout=e.timeout,t.trace("XHR - TimeOut actif !")),r&&a.setRequestHeader("Content-type",e.content),a.onerror=function(){i(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},a.ontimeout=function(){i(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},a.onload=function(e){if(200===a.status)n(a.responseText);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"')",o=e.target.status;i({message:t,status:o})}};var d=e.data&&r?e.data:null;a.send(d)}}))},__callJSON:function(e){return this.__call(e).then(JSON.parse).catch((function(t){console.log("_callJSON failed on : ",e.url,t)}))},__callXML:function(e){return this.__call(e).then((function(e){var t;"undefined"==typeof window?t=(new(0,o(60).DOMParser)).parseFromString(e,"text/xml"):window.DOMParser?t=(new window.DOMParser).parseFromString(e,"text/xml"):((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e));return t})).catch((function(t){console.log("__callXML failed on : ",e.url,t)}))}},_={uuid:(n=Math.floor(Date.now()),function(){return n++}),call:function(e){var t=v.getLogger("JSONP");if(t.trace("[JSONP::call ()]"),!e)throw t.error("missing parameter : options !"),new Error("missing parameter : options !");if(!e.url)throw t.error("missing parameter : options.url !"),new Error("missing parameter : options.url !");if(e.timeOut||(t.info("setting 'options.timeOut' default value"),e.timeOut=0),!e.onResponse)throw t.error("missing parameter : options.onResponse !"),new Error("missing parameter : options.onResponse !");var o="string"==typeof e.callbackSuffix?e.callbackSuffix:this.uuid(),n=!1,i=!1,r=e.url.indexOf("callback=");if(-1!==r){n=!0;var a=e.url.indexOf("&",r);-1===a&&(a=e.url.length);var s=e.url.substring(r+9,a);s&&(i=!0,e.callbackName=s,t.info("setting 'options.callbackName' value ("+e.callbackName+") from 'options.url' parameter"))}if(!n){var l=e.url.indexOf("?");-1===l?e.url=e.url+"?callback=":l===e.url.length?e.url=e.url+"callback=":e.url=e.url+"&callback=",t.info("setting callback default key in 'options.url' : "+e.url)}var c=!!e.callbackName||i;if(i||(e.callbackName||(t.info("setting 'options.callbackName' default value"),e.callbackName="callback",(o||""===o)&&(e.callbackName+=o)),e.url=e.url.replace("callback=","callback="+e.callbackName),t.info("setting callback function name in 'options.url' : "+e.url)),e.onTimeOut||(t.info("setting 'options.onTimeOut' default value"),e.onTimeOut=function(){console.log("TimeOut while invoking url : "+e.url)}),!c){var u=this,d=null;e.timeOut>0&&(d=window.setTimeout((function(){window[e.callbackName]=function(){},e.onTimeOut(),u._deleteScript(o)}),e.timeOut)),window[e.callbackName]=function(t){window.clearTimeout(d),e.onResponse(t),u._deleteScript(o)}}this._createScript(o,e.url)},_createScript:function(e,t){var o,n=document.getElementById("results"+e);(o=document.createElement("script")).setAttribute("type","text/javascript"),o.setAttribute("src",t),o.setAttribute("charset","UTF-8"),o.setAttribute("id","results"+e),o.setAttribute("async","true");var i=document.documentElement||document.getElementsByTagName("head")[0];null===n?i.appendChild(o):i.replaceChild(o,n)},_deleteScript:function(e){var t=document.getElementById("results"+e);if(t){var o=t.parentNode||document.documentElement;if(!o)return;o.removeChild(t)}}},S={send:function(e){var t=e||{method:"GET",protocol:"XHR",timeOut:0,format:null,wrap:!0,nocache:!0,output:"json",callback:null,callbackSuffix:null};if("undefined"!=typeof window||"JSONP"!==e.protocol){if("XHR"===e.protocol||"json"===e.format?t.wrap=!1:"JSONP"===e.protocol&&"xml"===e.format&&(t.wrap=!0),t.callback=null,t.output=t.wrap?"json":null,t.wrap){var o={};o.output=t.output,o.callback=t.callback,delete o.callback,t.url=I.normalyzeUrl(e.url,o)}switch(t.protocol){case"XHR":"GET"===e.method&&e.nocache&&(t.url=I.normalyzeUrl(t.url,{t:(new Date).getTime()})),E.call(t);break;case"JSONP":t.data&&(t.url=I.normalyzeUrl(t.url,t.data)),_.call(t);break;default:throw new Error("protocol not supported (XHR|JSONP) !")}}else console.log("Value (s) for parameter (s) 'protocol=JSONP (instead use XHR)' not supported to NodeJS")}};function M(e){if(!(this instanceof M))throw new TypeError("ErrorService constructor cannot be called as a function.");var t=e;"string"==typeof e||e instanceof String?(this.message=e,this.status=-1,this.type=M.TYPE_UNKERR):(this.message=t.message||"undefined!?",this.type=t.type,this.status=t.status||-1),this.name="ErrorService",this.stack=(new Error).stack}M.TYPE_SRVERR="SERVICE_ERROR",M.TYPE_USEERR="USAGE_ERROR",M.TYPE_UNKERR="UNKNOWN_ERROR",M.prototype=Object.create(Error.prototype,{constructor:{value:M,writable:!0,configurable:!0}});var x=M,P=o(31);function k(e){if(!(this instanceof k))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR"));for(var t in this.logger=v.getLogger("CommonService"),this.logger.trace("[Constructeur CommonService (options)]"),this.options={protocol:"XHR",ssl:!0,proxyURL:"",callbackSuffix:null,httpMethod:"GET",timeOut:0,rawResponse:!1,scope:this,onSuccess:function(e){console.log("onSuccess - la reponse est la suivante : ",e)},onFailure:function(e){200!==e.status&&e.status?console.log("onFailure - Erreur (",e.status,") : ",e.message):console.log("onFailure : ",e.message)}},e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);if(this.options.rawResponse&&!this.options.onSuccess&&(this.options.onSuccess=function(e){console.log("onSuccess - la réponse brute du service est la suivante : ",e)}),!!(null===this.options.onSuccess||"function"!=typeof this.options.onSuccess))throw new Error(C.getMessage("PARAM_MISSING","onSuccess()"));switch(this.options.httpMethod="string"==typeof e.httpMethod?e.httpMethod.toUpperCase():"GET",this.options.httpMethod){case"POST":case"GET":break;case"PUT":case"DELETE":case"HEAD":case"OPTIONS":throw new Error(C.getMessage("PARAM_NOT_SUPPORT","httpMethod"));default:throw new Error(C.getMessage("PARAM_UNKNOWN","httpMethod"))}switch(this.options.protocol="string"==typeof e.protocol?e.protocol.toUpperCase():"XHR",this.options.protocol){case"JSONP":case"XHR":break;default:throw new Error(C.getMessage("PARAM_UNKNOWN","protocol"))}if("undefined"==typeof window&&"JSONP"===this.options.protocol)throw new Error(C.getMessage("PARAM_NOT_SUPPORT_NODEJS","protocol=JSONP (instead use XHR)"));"JSONP"===this.options.protocol&&(this.options.httpMethod="GET"),this.options.nocache=e.nocache||!1,this.options.outputFormat=null,this.request=null,this.response=null}k.prototype={constructor:k,call:function(){this.logger.trace("CommonService::call ()");var e=this;function t(t){this.logger.trace("CommonService::onBuildRequest : ",t),this.callService.call(e,i,o)}function o(t){this.logger.trace("CommonService::onCallService : ",t),this.analyzeResponse.call(e,i,n)}function n(e){if(this.logger.trace("CommonService::onAnalyzeResponse : ",e),!e)return i.call(this,new x("Analyse de la reponse en échec !?"));this.options.onSuccess.call(this,e)}function i(e){this.logger.trace("CommonService::onError()");var t=e;t instanceof x||(t=new x(e.message)),this.options.onFailure.call(this,t)}(function(){this.logger.trace("CommonService::run ()"),this.buildRequest.call(e,i,t)}).call(e)},buildRequest:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")},callService:function(e,t){var o=null,n=this.request,i=!(!this.options.proxyURL||"XHR"!==this.options.protocol),r={"gp-access-lib":P.version};this.options.apiKey&&(r.apiKey=this.options.apiKey),this.options.serverUrl=I.normalyzeUrl(this.options.serverUrl,r,!1),i&&("GET"===this.options.httpMethod&&(o=this.options.proxyURL+I.normalyzeUrl(this.options.serverUrl,this.request,!0),n=null),"POST"===this.options.httpMethod&&(o=this.options.proxyURL+I.normalyzeUrl(this.options.serverUrl,null,!0),n=this.request));var a=this,s={url:o||this.options.serverUrl,method:this.options.httpMethod,protocol:this.options.protocol,timeOut:this.options.timeOut||0,format:this.options.outputFormat,nocache:this.options.nocache||!1,wrap:"XHR"!==this.options.protocol,callbackSuffix:this.options.callbackSuffix,data:n,headers:null,content:this.options.contentType||"application/xml",scope:this.options.scope||this,onResponse:function(o){a.logger.trace("callService::onResponse()");var n=null;if("XHR"===a.options.protocol&&(a.logger.trace("Response XHR",o),n=o),"JSONP"===a.options.protocol){if(a.logger.trace("Response JSON",o),!o)return void e.call(a,new x("Le contenu de la reponse est vide !?"));if(o.http){if(200!==o.http.status)return void e.call(a,new x({status:o.http.status,message:o.http.error,type:x.TYPE_SRVERR}));n=o.xml,a.options.rawResponse&&(n=o)}else n=o}if("function"==typeof a.options.onBeforeParse){var i=a.options.onBeforeParse(n);"string"==typeof i&&(n=i)}a.response=n,t.call(a,n)},onFailure:function(t){a.logger.trace("callService::onFailure()"),t.type=x.TYPE_SRVERR,e.call(a,new x(t))},onTimeOut:function(){a.logger.trace("callService::onTimeOut()"),e.call(a,new x("TimeOut!"))}};S.send(s)},analyzeResponse:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")}};var G=k,R={ssl:!0,newUrl:function(e){return(!1===R.ssl?"http://":"https://")+"data.geopf.fr"+e},Alti:{new_key:{"elevation-json":"/altimetrie/1.0/calcul/alti/rest/elevation.json","elevation-xml":"/altimetrie/1.0/calcul/alti/rest/elevation.xml","profil-json":"/altimetrie/1.0/calcul/alti/rest/elevationLine.json","profil-xml":"/altimetrie/1.0/calcul/alti/rest/elevationLine.xml"},newUrl:function(){return{"elevation-json":R.newUrl(this.new_key["elevation-json"]),"elevation-xml":R.newUrl(this.new_key["elevation-xml"]),"profil-json":R.newUrl(this.new_key["profil-json"]),"profil-xml":R.newUrl(this.new_key["profil-xml"])}}},ProcessIsoCurve:{new_key:"/navigation/isochrone",newUrl:function(){return R.newUrl(this.new_key)}},Config:{_key:"https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/dist/",url:function(e){Array.isArray(e)||(e=e.split(","));for(var t=[],o=0;o<e.length;o++)t[o]=this._key+e[o]+"Config.json";return t}},AutoComplete:{new_key:"/geocodage/completion",newUrl:function(){return R.newUrl(this.new_key)}},ReverseGeocode:{new_key:"/geocodage/reverse",newUrl:function(){return R.newUrl(this.new_key)}},Geocode:{new_key:"/geocodage/search",newUrl:function(){return R.newUrl(this.new_key)}},Route:{new_key:"/navigation/itineraire",newUrl:function(){return R.newUrl(this.new_key)}}},T=R;function O(){if(!(this instanceof O))throw new TypeError("ConfigInterface constructor cannot be called as a function.");this.generalOptions={apiKeys:{},title:null,defaultGMLGFIStyle:null,theme:null,wgs84Resolutions:[]},this.layers={},this.tileMatrixSets={}}O.prototype={constructor:O,isKeyConfLoaded:function(e){if(e)return!!this.generalOptions.apiKeys[e]},getLayersId:function(e){return this.generalOptions.apiKeys[e]},getLayerId:function(e,t){if(e&&t){var o=null;if(this.layers){var n=this.layers;for(var i in n)if(n.hasOwnProperty(i)){var r=i.split("$");if(e===r[0]&&r[1]){var a=r[1].split(":");if(r[1].split(";")[1]===t.toUpperCase()){o=i;break}if(a[2]===t.toUpperCase()){o=i;break}}}}if(o)return o}},getLayersConf:function(e){var t={},o=this.getLayersId(e);if(o)for(var n=0;n<o.length;n++){var i=o[n];t[i]=this.layers[i]}return t},getLayerConf:function(e){if(this.layers)return this.layers[e]},getLayerParams:function(e,t){var o={};if(("WMS"===t||0!==Object.keys(this.tileMatrixSets).length)&&0!==Object.keys(this.layers).length){var n=this.getLayerId(e,t);if(n){var i=this.getLayerConf(n),r=this.getLayerKey(n);if(0===r.length)return;for(var a=0;a<r.length;a++)i.serviceParams.serverUrl[r[a]]&&(o.url=i.serviceParams.serverUrl[r[a]]);if(/\/v\//.test(o.url)?o.styles=" ":o.styles=i.styles[0].name,o.version=i.serviceParams.version,o.format=i.formats[0].name,o.projection=i.defaultProjection,o.minScale=i.globalConstraint.minScaleDenominator,o.maxScale=i.globalConstraint.maxScaleDenominator,o.extent=i.globalConstraint.bbox,o.legends=i.legends,o.title=i.title,o.description=i.description,"WMS"===t&&(o.metadata=i.metadata),i.wmtsOptions){o.tileMatrixSetLimits=i.wmtsOptions.tileMatrixSetLimits;var s=i.wmtsOptions.tileMatrixSetLink;if(s){o.TMSLink=s;var l=this.getTMSConf(s);o.matrixIds=Object.keys(l.tileMatrices),o.tileMatrices=l.tileMatrices,o.nativeResolutions=l.nativeResolutions||this.getTMSConf("PM").nativeResolutions}}}}return o},getLayerKey:function(e){var t=[];if(this.generalOptions&&this.generalOptions.apiKeys&&0!==Object.keys(this.generalOptions.apiKeys).length){var o=this.generalOptions.apiKeys;for(var n in o){o[n].forEach((function(o){o===e&&t.push(n)}))}}return t},getTileMatrixSets:function(){return this.tileMatrixSets},getTMSConf:function(e){if(this.tileMatrixSets)return this.tileMatrixSets[e]},getGlobalConstraints:function(e){var t={};if(e){var o=this.getLayerConf(e);t.projection=o.defaultProjection,t.minScale=o.globalConstraint.minScaleDenominator,t.maxScale=o.globalConstraint.maxScaleDenominator,t.extent=o.globalConstraint.bbox}return t}};var L=O;function D(e){if(!(this instanceof D))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR","Config"));if(this.CLASSNAME="Config",this.logger=v.getLogger("Gp.Config"),this.logger.trace("[Constructeur Config (options)]"),!!(null===e.onSuccess||"function"!=typeof e.onSuccess))throw new Error(C.getMessage("PARAM_MISSING","onSuccess()"));e.apiKey||e.customConfigFile||(e.apiKey="full"),this.options={},this.options.onSuccess=e.onSuccess,this.options.onFailure=e.onFailure,this.options.sync=e.sync||!1,this.options.listConfigUrls=e.customConfigFile?[e.customConfigFile]:Array.isArray(e.apiKey)?T.Config.url(e.apiKey):T.Config.url(e.apiKey.split(","))}D.prototype=Object.create(G.prototype,{}),D.prototype.constructor=D,D.prototype.buildRequest=function(e,t){this.listConfigUrls=this.options.listConfigUrls,this.listConfigUrls?t.call(this,this.listConfigUrls):e.call(this,new Error("url by default not found !"))},D.prototype.callService=function(e,t){this.options.sync?j.call(this,e,t):N.call(this,e,t)};var N=function(e,t){this.listConfigResults=[];let n=null;if("undefined"==typeof window){var i=o(59);n=i}else n=window.fetch;var r=e=>n(e,{credentials:"same-origin"}).then(e=>{if(e.ok)return e.json().then(e=>e).catch(e=>{throw new Error("Exception Json : "+e)});throw new Error("Exception HTTP : "+e.status+" (status code) !")}).catch(e=>new Promise((t,o)=>{o(e)})),a=[];for(let e=0;e<this.listConfigUrls.length;e++){const t=this.listConfigUrls[e];a.push(r(t))}Promise.all(a).then(e=>{if(!e)throw new Error("results config empty !?");e.forEach(e=>{this.listConfigResults.push(e)})}).then(()=>{t.call(this,this.listConfigResults)}).catch(t=>{e.call(this,t)})},j=function(e,t){this.listConfigResults=[];for(var o=0;o<this.listConfigUrls.length;o++){const e=this.listConfigUrls[o],t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(null),200===t.status){var n=JSON.parse(t.responseText);this.listConfigResults.push(n)}}0!==this.listConfigResults.length?t.call(this,this.listConfigResults):e.call(this,new Error("..."))};D.prototype.analyzeResponse=function(e,t){var o=function(e){for(var t={},o={},n={},i=0;i<e.length;i++){if(!e[i].generalOptions||!e[i].layers)return;o={...o,...e[i].generalOptions.apiKeys},t={...t,...e[i].layers},n={...n,...e[i].tileMatrixSets}}return{generalOptions:{apiKeys:o},layers:t,tileMatrixSets:n}}(this.listConfigResults);if(o){var n=new L;Object.assign(n,o);var i="undefined"!=typeof window?window:{};if(i.Gp||(i.Gp={}),i.Gp.Config)for(var r in Object.assign(i.Gp.Config,n),n)i.Gp.Config[r]=n[r];else i.Gp.Config=n;t.call(this,i.Gp.Config)}else e.call(this,new Error("configuration structure not conforme !"))};var U=D;function B(e){if(!(this instanceof B))throw new TypeError("AltiRequest constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur AltiRequest ()]"),this.options=e||{},this.positions=this.options.positions||[],this.delimiter=this.options.delimiter||"|",this.indent=this.options.indent||!1,this.crs=this.options.crs||"CRS:84",this.format=this.options.format||"json",this.resource=this.options.resource,this.measures=this.options.measures||!1}B.CLASSNAME="AltiRequest",B.prototype={constructor:B,setPositions:function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];n.lon&&n.lat&&t.push(n)}this.positions=t},getPositions:function(e){if(!e)return this.positions;var t=this.positions.length-1;return e>t||e<t?(this.logger.warn("index out of range !"),this.positions):this.positions[e]},addPositions:function(e){for(var t=0;t<e.length;t++){var o=e[t];o.lon&&o.lat&&this.positions.push(e[t])}},getLon:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lon);return this.logger.trace(e),e.join(this.delimiter)},getLat:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lat);return this.logger.trace(e),e.join(this.delimiter)}},B.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"delimiter",v:this.delimiter}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"format",v:this.format}),e};var F=B;function z(e){if(!(this instanceof z))throw new TypeError("AltiElevationRequest constructor cannot be called as a function.");this.CLASSNAME="AltiElevationRequest",F.apply(this,arguments),this.logger=v.getLogger(),this.logger.trace("[Constructeur AltiElevationRequest ()]"),this.zonly=this.options.zonly||!1}z.prototype=Object.create(F.prototype,{zonly:{get:function(){return this._zonly},set:function(e){this._zonly=e}}}),z.prototype.constructor=z,z.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"zonly",v:this.zonly}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};var V=z;function q(e){if(!(this instanceof q))throw new TypeError("AltiProfilRequest constructor cannot be called as a function.");this.CLASSNAME="AltiProfilRequest",F.apply(this,arguments),this.logger=v.getLogger(),this.logger.trace("[Constructeur AltiProfilRequest ()]"),this.sampling=this.options.sampling||3}q.prototype=Object.create(F.prototype,{sampling:{get:function(){return this._sampling},set:function(e){this._sampling=e}}}),q.prototype.constructor=q,q.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"sampling",v:this.sampling}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};var W=q;function H(e){if(this.logger=v.getLogger("AltiRequestREST"),this.logger.trace("[Constructeur AltiRequestREST ()]"),!(this instanceof H))throw new TypeError("AltiRequestREST constructor cannot be called as a function.");if(this.options=e||{},!this.options)throw new Error(C.getMessage("PARAM_EMPTY","options"));if(!this.options.type)throw new Error(C.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));switch(this.DataObject=null,this.options.type){case"Elevation":this.DataObject=new V(this.options.param);break;case"Profil":this.DataObject=new W(this.options.param);break;default:throw new Error(C.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}this.method=this.options.method||"GET"}H.prototype={requestString:null,constructor:H,template:{get:{value:"lon=__LON__&lat=__LAT__&indent=__INDENT__&crs='__CRS__'&resource=__RESOURCE__&measures=__MEASURES__",input:{point:"&zonly=__ZONLY__",profil:"&sampling=__SAMPLING__"}},post:{value:"lon=__LON__\nlat=__LAT__\nindent=__INDENT__\ncrs='__CRS__'\nresource='__RESOURCE__'\nmeasures='__MEASURES__'\n",input:{point:"zonly=__ZONLY__\n",profil:"sampling=__SAMPLING__"}}},processRequestString:function(){this.logger.trace("AltiRequestREST::processRequestString ()");var e="";return"POST"===this.method?e=this.template.post.value:"GET"===this.method&&(e=this.template.get.value),e=(e=(e=(e=(e=(e=e.replace(/__LON__/g,this.DataObject.getLon())).replace(/__LAT__/g,this.DataObject.getLat())).replace(/__INDENT__/g,this.DataObject.indent)).replace(/__CRS__/g,this.DataObject.crs)).replace(/__RESOURCE__/g,this.DataObject.resource)).replace(/__MEASURES__/g,this.DataObject.measures),e+=this.__addDataInputs(),this.logger.trace("traduction tmpl",e),this.requestString=e,this.requestString},__addDataInputs:function(){var e;if(this.logger.trace("AltiRequestREST::addDataInput ()"),"POST"===this.method)e=this.template.post;else{if("GET"!==this.method)throw new Error("No other HTTP method supported by the service !");e=this.template.get}if("AltiElevationRequest"===this.DataObject.CLASSNAME)return e.input.point.replace(/__ZONLY__/g,this.DataObject.zonly.toString());if("AltiProfilRequest"===this.DataObject.CLASSNAME)return e.input.profil.replace(/__SAMPLING__/g,this.DataObject.sampling);throw new Error("No other object supported than elevation or profil !?")}};var Y=H;function J(e){if(this.logger=v.getLogger(),this.logger.trace("[Constructeur WPS()]"),!(this instanceof J))throw new TypeError("WPS constructor cannot be called as a function.");if(this.options=e||{},this.DataObject=this.options.data,!this.DataObject)throw new TypeError("This data object is not defined !");this.paramservice=this.options.param.service||"WPS",this.paramversion=this.options.param.version||"1.0.0",this.paramidentifier=this.options.param.identifier||"gs:WPS",this.paramrawdataoutput=this.options.param.rawdataoutput||"result",this.paramrequest=this.options.param.request||"Execute",this.method=this.options.method||"GET"}J.prototype={requestString:null,constructor:J,template:{get:{value:"service=__SERVICE__&version=__VERSION__&rawdataoutput=__RAWDATAOUTPUT__&identifier=__IDENTIFIER__&request=__REQUEST__&datainputs=\x3c!-- __DATAINPUTS__ --\x3e",input:"__KEY__=__DATA__"},post:{value:'<?xml version="1.0" encoding="UTF-8"?><wps:__REQUEST__ version="__VERSION__" service="__SERVICE__" __NAMESPACE__ __SCHEMALOCATION__><ows:Identifier>__IDENTIFIER__</ows:Identifier><wps:DataInputs>\x3c!-- __DATAINPUTS__ --\x3e</wps:DataInputs><wps:ResponseForm><wps:RawDataOutput><ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier></wps:RawDataOutput></wps:ResponseForm></wps:__REQUEST__>',input:"<wps:Input><ows:Identifier>__KEY__</ows:Identifier><wps:Data><wps:LiteralData>__DATA__</wps:LiteralData></wps:Data></wps:Input>"}},namespaceByDefault:function(){return['xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','xmlns="http://www.opengis.net/wps/1.0.0"','xmlns:wfs="http://www.opengis.net/wfs"','xmlns:wps="http://www.opengis.net/wps/1.0.0"','xmlns:ows="http://www.opengis.net/ows/1.1"','xmlns:gml="http://www.opengis.net/gml"','xmlns:ogc="http://www.opengis.net/ogc"','xmlns:wcs="http://www.opengis.net/wcs/1.1.1"','xmlns:xlink="http://www.w3.org/1999/xlink"'].join(" ")},schemaLocationByDefault:function(){return'xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd"'},processRequestString:function(){this.logger.trace("WPS::processRequestString ()");var e="";if("POST"===this.method)e=this.template.post.value;else{if("GET"!==this.method)return this.logger.error("No other method supported by the service !"),!1;e=this.template.get.value}return e=(e=(e=(e=(e=e.replace(/__SERVICE__/g,this.paramservice)).replace(/__VERSION__/g,this.paramversion)).replace(/__RAWDATAOUTPUT__/g,this.paramrawdataoutput)).replace(/__IDENTIFIER__/g,this.paramidentifier)).replace(/__REQUEST__/g,this.paramrequest),"POST"===this.method&&(e=(e=e.replace(/__NAMESPACE__/g,this.namespaceByDefault)).replace(/__SCHEMALOCATION__/g,this.schemaLocationByDefault)),(e=e.replace(/<!-- __DATAINPUTS__ -->/g,this.__addDataInputs()))?(this.requestString=e,this.logger.trace("traduction tmpl",e),!0):(this.logger.warn("traduction tmpl : empty request !?"),!1)},__addDataInputs:function(){this.logger.trace("WPS::__addDataInputs ()");for(var e,t="GET"===this.method?this.template.get.input:this.template.post.input,o="GET"===this.method?";":"",n="",i=this,r=this.DataObject.getData(),a=0;a<r.length;a++)e=a,o&&(o=e===r.length-1?"":";"),n=n.concat(i.__addDataInput(t,r[e].k,r[e].v),o);return n},__addDataInput:function(e,t,o){var n=e;return n=(n=n.replace(/__KEY__/g,t)).replace(/__DATA__/g,o)},setMethod:function(e){"GET"===e||"POST"===e?this.method=e:this.logger.warn("support only GET and POST method !")},getMethod:function(){return this.method}};var Z=J,K={build:function(e){if(v.getLogger("AltiRequestWPS").trace(["AltiRequestWPS::build()"]),!e)throw new Error(C.getMessage("PARAM_EMPTY","options"));if(!e.type)throw new Error(C.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));var t=null;switch(e.type){case"Elevation":e.wps.identifier="gs:WPSElevation",t=new V(e.param);break;case"Profil":e.wps.identifier="gs:WPSLineElevation",t=new W(e.param);break;default:throw new Error(C.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}var o={data:t,method:e.method,param:e.wps},n=new Z(o);if(!n.processRequestString())throw new Error("Enable to process request !");return n.requestString}},X={build:function(e){v.getLogger("AltiRequestFactory").trace(["AltiRequestFactory::build()"]);var t=null,o={type:e.sampling?"Profil":"Elevation",method:e.httpMethod,param:{positions:null,delimiter:null,indent:null,crs:null,format:null,sampling:null,zonly:null,measures:null}};o.param.positions=e.positions,o.param.format=e.outputFormat,o.param.sampling=e.sampling,o.param.zonly=e.zonly,o.param.measures=e.measures,o.param.resource=e.resource;var n=!(null===e.onError||"function"!=typeof e.onError),i=!(null===e.onSuccess||"function"!=typeof e.onSuccess),r=null;switch(e.api){case"REST":var a=new Y(o);if(!a.processRequestString()){if(r="Error in process request (rest) !",n)return void e.onError.call(e.scope,new x(r));throw new Error(r)}t=a.requestString;break;case"WPS":if(o.wps={service:null,version:null,identifier:null,rawdataoutput:null,request:null},!(t=K.build(o))){if(r="Error in process request (wps) !",n)return void e.onError.call(e.scope,new x(r));throw new Error(r)}break;default:if(r="Type of API is not supported by service (REST or WPS) !",n)return void e.onError.call(e.scope,new x(r));throw new Error(r)}return i&&e.onSuccess.call(e.scope,t),t}};function Q(e){if(!(this instanceof Q))throw new TypeError("XML constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur XML ()]"),this.xmlString=null,this.xmlDoc=null,this.reader=null,e&&(e.xmlString&&"string"==typeof e.xmlString&&(this.xmlString=e.xmlString,this.xmlDoc=$(e.xmlString)),e.reader&&this.setReader(e.reader))}function $(e){if("undefined"==typeof window)return(new(0,o(60).DOMParser)).parseFromString(e,"text/xml");var t,n,i="Erreur lors du parsing de la réponse du service : XML non conforme";if(window.ActiveXObject){(n=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e);var r=n.parseError;if(r.errorCode)throw r.line&&r.linepos&&(i+="( ligne "+r.line+", colonne "+r.linepos),r.reason&&(i+=":  "+r.reason+")"),new Error(i);return n}if(window.DOMParser){t=new window.DOMParser;try{n=t.parseFromString(e,"text/xml")}catch(e){throw"SyntaxError"===e.message?new Error(i):new Error("Erreur lors du parsing de la réponse du service : "+e.message)}if(n.getElementsByTagName("parsererror").length>0)for(var a=n.getElementsByTagName("parsererror"),s=0;s<a.length;s++){var l=a[s].innerHTML;if(-1===l.indexOf("Huge input lookup"))throw i+="("+l+")",new Error(i)}else if(!n.documentElement)throw new Error(i);return n}throw new Error("Incompatible DOM Parser pour ce navigateur !")}Q.prototype={constructor:Q,getXMLString:function(){return this.xmlString},setXMLString:function(e){e&&"string"==typeof e&&(this.xmlString=e,this.xmlDoc=$(e))},getReader:function(){return this.reader},setReader:function(e){e&&e.read&&"function"==typeof e.read&&(this.reader=e)},getXMLDoc:function(){return this.xmlDoc},setXMLDoc:function(e){this.xmlDoc=e},parse:function(){if(!this.xmlDoc&&this.xmlString&&(this.xmlDoc=$(this.xmlString)),this.xmlDoc){var e,t=function(e){var t;9===e.nodeType?t=e.documentElement:1===e.nodeType&&(t=e);return t}(this.xmlDoc);return t?(this.reader&&this.reader.read?e=this.reader.read(t):(e={})[t.nodeName]=function e(t){var o={};if(t.attributes.length>0){var n=function(e){if(e.attributes.length>0){for(var t={},o=e.attributes,n=0;n<o.length;n++){var i=o[n];t[i.nodeName]=i.nodeValue}return t}}(t);o.attributes=n}if(t.hasChildNodes())for(var i,r={},a=t.childNodes,s=0;s<a.length;s++)if(3===(i=a[s]).nodeType)o.textContent=i.nodeValue;else if(1===i.nodeType)if(r=e(i),o[i.nodeName]){if(!Array.isArray(o[i.nodeName])){var l=o[i.nodeName];o[i.nodeName]=[],o[i.nodeName].push(l)}o[i.nodeName].push(r)}else o[i.nodeName]=r;return o}(t),e):{}}}};var ee=Q;function te(){if(!(this instanceof te))throw new TypeError("AltiResponse constructor cannot be called as a function.");this.elevations=[]}te.prototype={constructor:te};var oe=te;function ne(){if(!(this instanceof ne))throw new TypeError("Elevation constructor cannot be called as a function.");this.z=null}ne.prototype={constructor:ne};var ie=ne;function re(){if(!(this instanceof re))throw new TypeError("Measure constructor cannot be called as a function.");this.source_name=null,this.source_measure=null,this.z=null,this.acc=null}re.prototype={constructor:re};var ae=re,se={};se.READERS={elevations:function(e){var t=new oe;if(e.hasChildNodes())for(var o,n,i=e.childNodes,r=0;r<i.length;r++)o=i[r],se.READERS[o.nodeName]&&(n=se.READERS[o.nodeName](o),t.elevations.push(n));return t},elevation:function(e){var t=new ie;if(e.hasChildNodes())for(var o,n=e.childNodes,i=0;i<n.length;i++)o=n[i],se.READERS[o.nodeName]&&se.READERS[o.nodeName](o,t);return t},lat:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : latitude attendue mais absente");t.lat=parseFloat(o.nodeValue)},lon:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : longitude attendue mais absente");t.lon=parseFloat(o.nodeValue)},z:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : altitude attendue mais absente");if(!t)return(t=new ie).z=parseFloat(o.nodeValue),t;t.z=parseFloat(o.nodeValue)},acc:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : précision (acc) attendue mais absente");t.acc=parseFloat(o.nodeValue)},source_name:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : source_name attendue mais absente");t.source_name=o.nodeValue},source_measure:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la réponse du service : source_measure attendue mais absente");t.source_measure=o.nodeValue},measures:function(e,t){var o;if(t.measures=[],e.hasChildNodes())for(var n,i=e.childNodes,r=0;r<i.length;r++){o=new ae,n=i[r].childNodes;for(var a=0;a<n.length;a++){if(!se.READERS[n[a].nodeName])throw new Error("Erreur dans la lecture de la réponse du service : measures attendues mais absentes");se.READERS[n[a].nodeName](n[a],o)}t.measures.push(o)}},exceptionreport:function(e){var t={};if(e.hasChildNodes())for(var o,n=e.childNodes,i=0;i<n.length;i++)"Exception"===(o=n[i]).nodeName&&(t.exceptionReport=se.READERS.exception(o));return t},exception:function(e){var t={},o=e.getAttribute("exceptionCode");o&&(t.exceptionCode=o);var n=e.firstChild;return n&&3===n.nodeType&&(t.exception=n.nodeValue),t},error:function(e){var t={error:{}};if(e.hasChildNodes())for(var o,n=e.childNodes,i=0;i<n.length;i++){var r;1===(o=n[i]).nodeType&&"code"===o.nodeName&&(r=o.firstChild)&&3===r.nodeType&&(t.error.code=r.nodeValue),1===o.nodeType&&"description"===o.nodeName&&(r=o.firstChild)&&3===r.nodeType&&(t.error.description=r.nodeValue)}return t}},se.read=function(e){if("elevations"===e.nodeName)return se.READERS.elevations(e);if("ExceptionReport"===e.nodeName)return se.READERS.exceptionreport(e);if("error"===e.nodeName)return se.READERS.error(e);throw new Error("Erreur lors de la lecture de la réponse : elle n'est pas au format attendu.")};var le=se,ce={build:function(e){var t=v.getLogger("AltiResponseFactory");t.trace(["AltiResponseFactory::build()"]);var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{switch(e.outputFormat){case"xml":t.trace("analyze response : xml");try{var n=new ee({reader:le});if("string"==typeof e.response?n.setXMLString(e.response):n.setXMLDoc(e.response),!(o=n.parse()))throw new Error(C.getMessage("SERVICE_RESPONSE_EXCEPTION_2"))}catch(t){var i=t.message;return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",i),status:200,type:x.TYPE_SRVERR}))}break;case"json":t.trace("analyze response : json"),t.trace("analyze response : ",typeof e.response);var r=null;if((r="string"==typeof e.response?JSON.parse(e.response):e.response)&&r.error)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",r.error.description),status:200,type:x.TYPE_SRVERR}));if(r){var a,s=r.elevations,l=new oe;if(Array.isArray(s)&&s.length)for(var c=0;c<s.length;c++)a=new ie,"object"==typeof s[c]?(s[c].lon&&(a.lon=s[c].lon),s[c].lat&&(a.lat=s[c].lat),s[c].z&&(a.z=s[c].z),s[c].acc&&(a.acc=s[c].acc),s[c].measures&&(a.measures=s[c].measures)):"number"==typeof s[c]&&(a.z=s[c]),Array.isArray(l.elevations)&&l.elevations.push(a);o=l}if(!o)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:x.TYPE_UNKERR,status:-1}));break;default:return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_FORMAT_2"),type:x.TYPE_UNKERR,status:-1}))}if(o.exceptionReport)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",o.exceptionReport),type:x.TYPE_SRVERR,status:200}));if(o.error){var u=o.error.description;return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",u),type:x.TYPE_SRVERR,status:200}))}}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))}};function ue(e){if(!(this instanceof ue))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR","Alti"));if(this.CLASSNAME="Alti",G.apply(this,arguments),this.logger=v.getLogger("Gp.Services.Alti"),this.logger.trace("[Constructeur Alti (options)]"),!e.positions)throw new Error(C.getMessage("PARAM_MISSING","positions"));if(0===e.positions.length)throw new Error(C.getMessage("PARAM_EMPTY","positions"));if(this.options.positions=e.positions,this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"xml",this.options.resource=e.resource||"ign_rge_alti_wld",this.options.sampling=e.sampling||null,this.options.api="string"==typeof e.api?e.api.toUpperCase():"REST","REST"===this.options.api&&(this.options.httpMethod="GET"),this.options.zonly=e.zonly||!1,this.options.measures=e.measures||!1,!this.options.serverUrl){var t=T.Alti.newUrl(),o=null;switch(this.options.api){case"WPS":o=t.wps;break;case"REST":var n=(e.sampling?"profil":"elevation")+"-"+this.options.outputFormat;o=t[n];break;default:throw new Error(C.getMessage("PARAM_UNKNOWN","api"))}if(!o)throw new Error("Url by default not found !");this.options.serverUrl=o,this.logger.trace("Server URL by default : "+this.options.serverUrl)}var i=this.options.serverUrl.lastIndexOf(".");if(-1!==i){var r=this.options.serverUrl.substring(i+1);if(r&&r.length<5)switch(this.logger.trace("Server Extension URL : "+r),r.toLowerCase()){case"json":case"xml":this.options.outputFormat=r.toLowerCase();break;default:throw new Error("type of service : unknown or unsupported (json or xml) !")}}}ue.prototype=Object.create(G.prototype,{}),ue.prototype.constructor=ue,ue.prototype.buildRequest=function(e,t){var o={httpMethod:this.options.httpMethod,onSuccess:function(e){this.request=e,t.call(this,this.request)},onError:e,scope:this,resource:this.options.resource,positions:this.options.positions,outputFormat:this.options.outputFormat,sampling:this.options.sampling,api:this.options.api,zonly:this.options.zonly,measures:this.options.measures};X.build(o)},ue.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};ce.build(o)}else e.call(this,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))};var de=ue;function pe(e){if(!(this instanceof pe))throw new TypeError("GeocodeParamREST constructor cannot be called as a function.");if(this.logger=v.getLogger(),this.logger.trace("[Constructeur GeocodeParamREST ()]"),this.options=e||{},!this.options.geocodeMethod||"search"!==this.options.geocodeMethod&&"reverse"!==this.options.geocodeMethod)throw new Error("Error geocodeMethod not valid");this.geocodeMethod=this.options.geocodeMethod,this.query=void 0!==this.options?this.options.query:null,this.searchGeometry=this.options.searchGeometry||null,this.index=this.options.index||null,this.lon=this.options.position&&this.options.position.lon?this.options.position.lon:null,this.lat=this.options.position&&this.options.position.lat?this.options.position.lat:null,this.maxResp=this.options.maxResp||null,this.returnTrueGeometry=this.options.returnTrueGeometry||null,this.filters=this.options.filters||{}}pe.CLASSNAME="GeocodeParamREST",pe.prototype={constructor:pe,getFilters:function(){var e={};for(var t in this.filters)this.filters.hasOwnProperty(t)&&(e[t]=this.filters[t]);return e},getIndex:function(){return void 0===this.index?null:"StreetAddress"===this.index?"address":"CadastralParcel"===this.index?"parcel":"PositionOfInterest"===this.index?"poi":"location"===this.index?"location":this.index},getSearchGeometry:function(){return JSON.stringify(this.searchGeometry)}},pe.prototype.getParams=function(){var e=[];"search"===this.geocodeMethod&&e.push({k:"q",v:this.query}),this.index&&e.push({k:"index",v:this.getIndex()}),"reverse"===this.geocodeMethod&&this.searchGeometry&&e.push({k:"searchgeom",v:this.getSearchGeometry()}),this.lon&&this.lat&&(e.push({k:"lon",v:this.lon}),e.push({k:"lat",v:this.lat})),this.maxResp&&e.push({k:"limit",v:this.maxResp}),this.returnTrueGeometry&&e.push({k:"returntruegeometry",v:this.returnTrueGeometry});const t=this.getFilters();for(var o in t)e.push({k:o,v:t[o]});return e};var he=pe;function ge(e){if(this.logger=v.getLogger("GeocodeRequestREST"),this.logger.trace("[Constructeur GeocodeRequestREST ()]"),!(this instanceof ge))throw new TypeError("GeocodeRequestREST constructor cannot be called as a function.");if(!e)throw new Error(C.getMessage("PARAM_EMPTY","options"));this.settings=e}ge.prototype={requestString:null,constructor:ge,processRequestString:function(){var e="";const t=new he(this.settings).getParams();for(var o=0;o<t.length;o++){var n=t[o];e&&(e+="&"),e+=n.k+"="+n.v}if(!this.settings.geocodeMethod||"search"!==this.settings.geocodeMethod&&"reverse"!==this.settings.geocodeMethod)throw new Error("Error geocodeMethod not valid");return this.requestString="?"+e,this.logger.trace(this.requestString),this.requestString}};var me=ge,fe={build:function(e){var t=v.getLogger("GeocodeRequestFactory");t.trace(["GeocodeRequestFactory::build()"]);var o=new me(e||{});if(!o.processRequestString())throw new Error("Error process request (rest) !");var n=o.requestString;return t.trace(n),n}};function ye(){if(!(this instanceof ye))throw new TypeError("GeocodeResponse constructor cannot be called as a function.");this.locations=[]}ye.prototype={constructor:ye};var Ae=ye;function ve(){if(!(this instanceof ve))throw new TypeError("GeocodedLocation constructor cannot be called as a function.");this.position=null,this.matchType=null,this.placeAttributes={},this.type=null,this.accuracy=null,this.CLASSNAME="GeocodedLocation"}ve.prototype={constructor:ve};var Ce=ve;function Ie(){if(!(this instanceof Ie))throw new TypeError("GeocodeResponseParser constructor cannot be called as a function.")}function be(e,t){var o=new Ce;if(e.geometry&&"Point"===e.geometry.type&&(o.position={lon:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]}),e.properties){for(var n in e.properties)"score"===n?o.accuracy=e.properties[n]:"_type"===n?"address"===e.properties[n]?o.type="StreetAddress":"poi"===e.properties[n]?o.type="PositionOfInterest":"parcel"!==e.properties[n]&&"cadastral"!==e.properties[n]||(o.type="CadastralParcel"):o.placeAttributes[n]=e.properties[n];"address"===e.properties._type&&(o.matchType=void 0!==e.properties.number&&null!==e.properties.number?"street number":"street")}t.locations.push(o)}Ie.prototype={constructor:Ie,parse:function(e){var t=new Ae;const o=JSON.parse(e);if("FeatureCollection"===o.type)for(var n=0;n<o.features.length;++n)be(o.features[n],t);else{if("Feature"!==o.type){if("SERVICE_ERROR"===o.type)return{exceptionReport:o};var i=C.getMessage("SERVICE_RESPONSE_ANALYSE",o.type);throw new x({message:i,type:x.TYPE_UNKERR,status:200})}be(o,t)}return t}};var we=Ie,Ee={build:function(e){var t=null;if(e.response){if(e.rawResponse)t=e.response;else{try{if(!(t=(new we).parse(e.response)))throw new Error("L'analyse de la réponse du service !?")}catch(t){var o=t.message;return"string"==typeof e.response?o+="('"+e.response+"')":o+="('"+e.response.documentElement.innerHTML+"')",void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_ANALYSE",o),type:x.TYPE_UNKERR,status:-1}))}if(t.exceptionReport)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",t.exceptionReport),type:x.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,t)}else e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EMPTY"),type:x.TYPE_SRVERR,status:-1}))}};function _e(e){if(!(this instanceof _e))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR","Geocode"));this.CLASSNAME="Geocode",this.logger=v.getLogger("Gp.Services.Geocode"),this.logger.trace("[Constructeur Geocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=T.Geocode.newUrl()),G.apply(this,[t]),!t.hasOwnProperty("query"))throw new Error(C.getMessage("PARAM_MISSING","query"));if(this.options.query=t.query,t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var o=Object.keys(t.filters),n=0;n<o.length;n++){var i=o[n];(void 0===t.filters[i]||"object"==typeof t.filters[i]&&0===Object.keys(t.filters[i]).length||"string"==typeof t.filters[i]&&0===t.filters[i].length||Array.isArray(t.filters[i])&&0===t.filters[i].length)&&delete this.options.filters[i]}this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}_e.prototype=Object.create(G.prototype,{}),_e.prototype.constructor=_e,_e.prototype.patchOptionConvertor=function(e){const t=e;return t.hasOwnProperty("location")&&(this.logger.warn("The parameter 'location' is deprecated"),t.query||(t.query=t.location),delete t.location),t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filters||(t.filters=t.filterOptions,t.filters.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filters.type)&&t.filters.type.length>0?t.index=t.filters.type[0]:t.index=t.filters.type),delete t.filters.type),t.filters.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),delete t.filters.bbox)),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.returnFreeForm&&(this.logger.warn("The parameter 'returnFreeForm' is deprecated"),delete t.returnFreeForm),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},_e.prototype.buildRequest=function(e,t){var o={httpMethod:this.options.httpMethod,geocodeMethod:"search",query:this.options.query,index:this.options.index,returnTrueGeometry:this.options.returnTrueGeometry,position:this.options.position,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=fe.build(o),this.request?t.call(this,this.request):e.call(this,new x(C.getMessage("SERVICE_REQUEST_BUILD")))},_e.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};Ee.build(o)}else e.call(this,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))};var Se=_e;function Me(e){if(!(this instanceof Me))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR","ReverseGeocode"));this.CLASSNAME="ReverseGeocode",this.logger=v.getLogger("Gp.Services.ReverseGeocode"),this.logger.trace("[Constructeur ReverseGeocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=T.ReverseGeocode.newUrl()),G.apply(this,[t]),t.searchGeometry)this.options.searchGeometry=t.searchGeometry;else if(!t.position)throw new Error(C.getMessage("PARAM_MISSING","searchGeometry"));if(t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var o=Object.keys(t.filters),n=0;n<o.length;n++){var i=o[n];(void 0===t.filters[i]||"object"==typeof t.filters[i]&&0===Object.keys(t.filters[i]).length||"string"==typeof t.filters[i]&&0===t.filters[i].length||Array.isArray(t.filters[i])&&0===t.filters[i].length)&&delete this.options.filters[i]}this.options.position=t.position,this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}Me.prototype=Object.create(G.prototype,{}),Me.prototype.constructor=Me,Me.prototype.patchOptionConvertor=function(e){var t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filterOptions.type)&&t.filterOptions.type.length>0?t.index=t.filterOptions.type[0]:t.index=t.filterOptions.type),delete t.filterOptions.type),t.filterOptions.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),t.searchGeometry||(t.searchGeometry=this.bbox2Json(t.filterOptions.bbox)),delete t.filterOptions.bbox),t.filterOptions.circle&&(this.logger.warn("The parameter 'filterOptions.circle' is deprecated"),t.searchGeometry||(t.searchGeometry=this.circle2Json(t.filterOptions.circle)),delete t.filterOptions.circle),t.filterOptions.polygon&&(this.logger.warn("The parameter 'filterOptions.polygon' is deprecated"),t.searchGeometry||(t.searchGeometry=this.polygon2Json(t.filterOptions.polygon)),delete t.filterOptions.polygon),!t.filters&&Object.keys(t.filterOptions).length>0&&(t.filters=t.filterOptions),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},Me.prototype.buildRequest=function(e,t){var o={httpMethod:this.options.httpMethod,geocodeMethod:"reverse",searchGeometry:this.options.searchGeometry,index:this.options.index,position:this.options.position,returnTrueGeometry:this.options.returnTrueGeometry,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=fe.build(o),this.request?t.call(this,this.request):e.call(this,new x(C.getMessage("SERVICE_REQUEST_BUILD")))},Me.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};Ee.build(o)}else e.call(this,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))},Me.prototype.bbox2Json=function(e){return{type:"Polygon",coordinates:[[[e.left,e.top],[e.right,e.top],[e.right,e.bottom],[e.left,e.bottom],[e.left,e.top]]]}},Me.prototype.circle2Json=function(e){return{type:"Circle",radius:e.radius,coordinates:[e.x,e.y]}},Me.prototype.polygon2Json=function(e){for(var t={type:"Polygon",coordinates:[[]]},o=0;o<e.length;++o)t.coordinates[0].push([e[o].x,e[o].y]);return t},Me.geoEPSG=["EPSG:4326"];var xe=Me;function Pe(){if(!(this instanceof Pe))throw new TypeError("AutoCompleteResponse constructor cannot be called as a function.");this.suggestedLocations=[]}Pe.prototype={constructor:Pe};var ke=Pe;function Ge(){if(!(this instanceof Ge))throw new TypeError("SuggestedLocation constructor cannot be called as a function.");this.type=null,this.position={x:null,y:null},this.commune=null,this.fullText=null,this.postalCode=null,this.classification=null,this.street=null,this.poi=null,this.kind=null}Ge.prototype={constructor:Ge};var Re=Ge,Te={build:function(e){var t=v.getLogger("AutoCompleteResponseFactory");t.trace(["AutoCompleteResponseFactory::build()"]);var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{var n=null;if(n="string"==typeof e.response?JSON.parse(e.response):e.response){if(n.error)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",n.error.description),status:n.error.code,type:x.TYPE_SRVERR}));if(o=new ke,!n.results||!Array.isArray(n.results))return void e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_FORMAT_3")));for(var i=null,r=0;r<n.results.length;r++){var a=n.results[r];i=new Re,a&&("StreetAddress"===a.country?(i.street=a.street,i.type="StreetAddress"):"PositionOfInterest"===a.country&&(i.poi=a.street,i.type="PositionOfInterest",i.poiType=a.poiType),i.position&&(i.position.x=a.x,i.position.y=a.y),i.kind=a.kind,i.commune=a.city,i.fullText=a.fulltext,i.postalCode=a.zipcode,i.classification=a.classification),o.suggestedLocations.push(i)}if(!o.suggestedLocations.length)return void e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_FORMAT_3")))}if(!o)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:x.TYPE_UNKERR,status:-1}));if(o.exceptionReport)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",o.exceptionReport),type:x.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))}};function Oe(e){if(!(this instanceof Oe))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR","AutoComplete"));this.CLASSNAME="AutoComplete",this.logger=v.getLogger("Gp.Services.AutoComplete"),this.logger.trace("[Constructeur AutoComplete (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=T.AutoComplete.newUrl()),G.apply(this,arguments),!t.text)throw new Error(C.getMessage("PARAM_MISSING","text"));this.options.text=t.text,t.type||(t.type=["StreetAddress,PositionOfInterest"]),this.options.type=t.type,this.options.territory=t.terr||"",this.options.maximumResponses=t.maximumResponses||10,"XHR"===this.options.protocol&&"POST"===this.options.httpMethod&&(this.logger.warn("Le service ne gére pas le mode d'interrogation en POST, on bascule sur du GET !"),this.options.httpMethod="GET"),this.options.outputFormat=this.options.rawResponse?"":"json"}Oe.prototype=Object.create(G.prototype,{}),Oe.prototype.constructor=Oe,Oe.prototype.patchOptionConvertor=function(e){const t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.type||(t.type=t.filterOptions.type)),t.filterOptions.territory&&(this.logger.warn("The parameter 'filterOptions.territory' is deprecated"),t.terr||(t.terr=t.filterOptions.territory)),delete t.filterOptions),t},Oe.prototype.buildRequest=function(e,t){var o="";this.options.territory&&(o=this.options.territory);var n="";this.options.type&&(n=this.options.type.join(",")),this.request=I.normalyzeParameters({text:encodeURIComponent(this.options.text),type:n,terr:o,maximumResponses:this.options.maximumResponses}),this.request?t.call(this,this.request):e.call(this,new x(C.getMessage("SERVICE_REQUEST_BUILD")))},Oe.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};Te.build(o)}else e.call(this,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))};var Le=Oe;function De(e){if(!(this instanceof De))throw new TypeError("RouteParamREST constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur RouteParamREST ()]"),this.options=e||{},this.resource=this.options.resource,this.start=this.options.startPoint.x+","+this.options.startPoint.y,this.end=this.options.endPoint.x+","+this.options.endPoint.y,this.intermediates=this.options.viaPoints,this.profile=this.options.graph,this.crs=this.options.srs,this.constraints=this.options.constraints,this.optimization=this.options.routePreference,this.getSteps=this.options.geometryInInstructions?"true":"false",this.distanceUnit=this.options.distanceUnit,this.timeUnit=this.options.timeUnit,this.waysAttributes=this.options.waysAttributes}De.CLASSNAME="RouteParamREST",De.prototype={constructor:De,getIntermediates:function(){var e=[];if(0!==this.intermediates.length)for(var t=0;t<this.intermediates.length;t++){var o=this.intermediates[t];e.push(o.x+","+o.y)}return e.join("|")},getWaysAttributes:function(){return this.waysAttributes.join("|")},getProfile:function(){return this.profile},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getOptimization:function(){return this.optimization?this.optimization:""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")}},De.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"start",v:this.start}),e.push({k:"end",v:this.end}),e.push({k:"geometryFormat",v:"geojson"}),this.optimization&&e.push({k:"optimization",v:this.getOptimization()}),this.intermediates&&e.push({k:"intermediates",v:this.getIntermediates()}),this.profile&&e.push({k:"profile",v:this.getProfile()}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),this.crs&&e.push({k:"crs",v:this.crs}),this.distanceUnit&&e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.timeUnit&&e.push({k:"timeUnit",v:this.timeUnit}),this.waysAttributes&&e.push({k:"waysAttributes",v:this.getWaysAttributes()}),e};var Ne=De;function je(e){if(this.logger=v.getLogger("RouteRequestREST"),this.logger.trace("[Constructeur RouteRequestREST ()]"),!(this instanceof je))throw new TypeError("RouteRequestREST constructor cannot be called as a function.");if(!e)throw new Error(C.getMessage("PARAM_EMPTY","options"));this.settings=e}je.prototype={requestString:null,constructor:je,processRequestString:function(){this.logger.warn(" PROTOTYPE !");for(var e=new Ne(this.settings).getParams(),t="",o=0;o<e.length;o++){var n=e[o];t&&(t+="&"),t+=n.k+"="+n.v}return this.logger.trace(t),this.requestString=t,this.requestString}};var Ue=je,Be={build:function(e){v.getLogger("RouteRequestFactory").trace(["RouteRequestFactory::build()"]);var t=e||{},o=!(null===e.onError||"function"!=typeof e.onError),n=null,i=new Ue(t);if(!i.processRequestString()){if(n="Error process request (rest) !",o)return void e.onError.call(e.scope,new x(n));throw new Error(n)}return i.requestString}};function Fe(){if(!(this instanceof Fe))throw new TypeError("RouteResponse constructor cannot be called as a function.");this.totalTime=null,this.totalDistance=null,this.bbox={left:null,right:null,top:null,bottom:null},this.routeGeometry=null,this.routeInstructions=[]}Fe.prototype={constructor:Fe};var ze=Fe;function Ve(){if(!(this instanceof Ve))throw new TypeError("RouteInstruction constructor cannot be called as a function.");this.duration=null,this.distance=null,this.code=null,this.instruction=null,this.geometry=null}Ve.prototype={constructor:Ve};var qe=Ve,We={build:function(e){var t=v.getLogger("RouteResponseFactory");t.trace("RouteResponseFactory::build()");var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{var n;if(t.trace("analyze response : json"),n="string"==typeof e.response?JSON.parse(e.response):e.response){if(n.message)return void e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_EXCEPTION",n.message)));var i=[],r=[],a=[];if((o=new ze).hasOwnProperty("totalTime")&&(o.totalTime=parseFloat(n.duration)),o.hasOwnProperty("totalDistance")&&(o.totalDistance=parseFloat(n.distance)),o.hasOwnProperty("bbox")&&(o.bbox.left=parseFloat(n.bbox[0]),o.bbox.bottom=parseFloat(n.bbox[1]),o.bbox.right=parseFloat(n.bbox[2]),o.bbox.top=parseFloat(n.bbox[3])),o.hasOwnProperty("routeGeometry")&&!e.geometryInInstructions&&(o.routeGeometry=n.geometry),o.hasOwnProperty("routeInstructions")&&e.geometryInInstructions){var s,l=n.portions;if(Array.isArray(l)&&l.length)for(s=0;s<l.length;s++)i.push(l[s]);if(i.length)for(s=0;s<i.length;s++)r.push(i[s].steps);if(r.length)for(s=0;s<r.length;s++)a=a.concat(r[s]);a.forEach((function(e){switch(o.routeInstructions.push(new qe),o.routeInstructions[o.routeInstructions.length-1].duration=e.duration,o.routeInstructions[o.routeInstructions.length-1].distance=e.distance,o.routeInstructions[o.routeInstructions.length-1].code="",o.routeInstructions[o.routeInstructions.length-1].instruction="",o.routeInstructions[o.routeInstructions.length-1].geometry=e.geometry,"Valeur non renseignée"===e.name&&(e.name=""),e.instruction.type){case"turn":o.routeInstructions[o.routeInstructions.length-1].instruction+="Tourner";break;case"new name":o.routeInstructions[o.routeInstructions.length-1].instruction+="Continuer tout droit";break;case"depart":o.routeInstructions[o.routeInstructions.length-1].instruction+="Départ";break;case"arrive":o.routeInstructions[o.routeInstructions.length-1].instruction+="Arrivée";break;case"merge":o.routeInstructions[o.routeInstructions.length-1].instruction+="Rejoindre";break;case"ramp":case"on ramp":o.routeInstructions[o.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"off ramp":o.routeInstructions[o.routeInstructions.length-1].instruction+="Prendre la sortie";break;case"fork":o.routeInstructions[o.routeInstructions.length-1].instruction+="Sur la bifurcation, prendre";break;case"end of road":o.routeInstructions[o.routeInstructions.length-1].instruction+="À la fin de la route, prendre";break;case"use lane":o.routeInstructions[o.routeInstructions.length-1].instruction+="Utiliser la file";break;case"continue":o.routeInstructions[o.routeInstructions.length-1].instruction+="Continuer";break;case"roundabout":case"rotary":o.routeInstructions[o.routeInstructions.length-1].instruction+="Au rond-point";break;case"roundabout turn":o.routeInstructions[o.routeInstructions.length-1].instruction+="Au rond point, tourner";break;case"notification":o.routeInstructions[o.routeInstructions.length-1].instruction+="";break;default:o.routeInstructions[o.routeInstructions.length-1].instruction+="?"+e.instruction.type+"?"}if(e.instruction.modifier)switch(e.instruction.modifier){case"uturn":o.routeInstructions[o.routeInstructions.length-1].instruction="Faire demi-tour";break;case"sharp right":o.routeInstructions[o.routeInstructions.length-1].instruction+=" complètement à droite";break;case"right":o.routeInstructions[o.routeInstructions.length-1].instruction+=" à droite";break;case"slight right":o.routeInstructions[o.routeInstructions.length-1].instruction+=" légèrement à droite";break;case"straight":o.routeInstructions[o.routeInstructions.length-1].instruction="Continuer tout droit";break;case"slight left":o.routeInstructions[o.routeInstructions.length-1].instruction+=" lègèrement à gauche";break;case"left":o.routeInstructions[o.routeInstructions.length-1].instruction+=" à gauche";break;case"sharp left":o.routeInstructions[o.routeInstructions.length-1].instruction+=" complètement à gauche";break;default:o.routeInstructions[o.routeInstructions.length-1].instruction+=" ?"+e.instruction.modifier+"?"}e.instruction.exit&&(o.routeInstructions[o.routeInstructions.length-1].instruction+=e.instruction.exit+"e sortie"),e.attributes.name&&((e.attributes.name.nom_1_droite||e.attributes.name.toponyme)&&(o.routeInstructions[o.routeInstructions.length-1].instruction+=" sur"),e.attributes.name.nom_1_droite&&(o.routeInstructions[o.routeInstructions.length-1].instruction+=" "+e.attributes.name.nom_1_droite),e.attributes.name.toponyme&&(o.routeInstructions[o.routeInstructions.length-1].instruction+=" "+e.attributes.name.toponyme))}))}}if(!o)return void e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_ANALYSE","json")));if(o.exceptionReport)return void e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_EXCEPTION_2")))}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))}};function He(e){if(!(this instanceof He))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR","Route"));if(this.CLASSNAME="Route",G.apply(this,arguments),this.logger=v.getLogger("Gp.Services.Route"),this.logger.trace("[Constructeur Route (options)]"),!e.startPoint)throw new Error(C.getMessage("PARAM_MISSING","startPoint"));if(null===e.startPoint.x)throw new Error(C.getMessage("PARAM_MISSING","startPoint.x"));if(null===e.startPoint.y)throw new Error(C.getMessage("PARAM_MISSING","startPoint.y"));if(!e.endPoint)throw new Error(C.getMessage("PARAM_MISSING","endPoint"));if(null===e.endPoint.x)throw new Error(C.getMessage("PARAM_MISSING","endPoint.x"));if(null===e.endPoint.y)throw new Error(C.getMessage("PARAM_MISSING","endPoint.y"));if(e.outputFormat&&"json"!==e.outputFormat&&this.logger.warn("options.outputFormat could only be json"),this.options.outputFormat="json",this.options.resource=e.resource||"bdtopo-osrm",this.options.startPoint=e.startPoint,this.options.endPoint=e.endPoint,this.options.viaPoints=e.viaPoints||[],this.options.routePreference=e.routePreference||"fastest",e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(C.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var o={},n={},i={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var r=0;r<e.exclusions.length;r++)"string"==typeof e.exclusions[r]&&(e.exclusions[r]=e.exclusions[r].toLowerCase(),"toll"===e.exclusions[r]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="autoroute",this.options.constraints.push(i)),"tunnel"===e.exclusions[r]&&(o.constraintType="banned",o.key="wayType",o.operator="=",o.value="tunnel",this.options.constraints.push(o)),"bridge"===e.exclusions[r]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="pont",this.options.constraints.push(n)))}if(this.options.geometryInInstructions=e.geometryInInstructions||!1,this.options.provideBbox=e.provideBbox||!0,this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",this.options.expectedStartTime=null,this.options.srs=e.srs||"EPSG:4326",this.options.waysAttributes=e.waysAttributes||[],!this.options.serverUrl){var a=T.Route.newUrl();if(!a)throw new Error("Url by default not found !");this.options.serverUrl=a,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}He.prototype=Object.create(G.prototype,{}),He.prototype.constructor=He,He.prototype.buildRequest=function(e,t){var o={resource:this.options.resource,startPoint:this.options.startPoint,endPoint:this.options.endPoint,viaPoints:this.options.viaPoints,provideBbox:this.options.provideBbox,constraints:this.options.constraints,distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,graph:this.options.graph,geometryInInstructions:this.options.geometryInInstructions,routePreference:this.options.routePreference,srs:this.options.srs,waysAttributes:this.options.waysAttributes};this.request=Be.build(o),this.request?t.call(this,this.request):e.call(this,new x(C.getMessage("SERVICE_REQUEST_BUILD")))},He.prototype.analyzeResponse=function(e,t){if(this.response){var o={distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this,geometryInInstructions:this.options.geometryInInstructions};We.build(o)}else e.call(this,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))};var Ye=He;function Je(e){if(!(this instanceof Je))throw new TypeError("ProcessIsoCurveParam constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur ProcessIsoCurveParam ()]"),this.options=e||{},this.id=this.options.id,this.resource=this.options.resource,this.point=this.options.position,this.crs=this.options.srs,this.profile=this.options.graph,this.constraints=this.options.constraints,this.reverse=this.options.reverse,this.timeUnit=this.options.timeUnit,this.distanceUnit=this.options.distanceUnit,"distance"===this.options.method?(this.costType="distance",this.costValue=this.options.distance):(this.costType="time",this.costValue=this.options.time)}Je.CLASSNAME="ProcessIsoCurveParam",Je.prototype={constructor:Je,getLocation:function(){return this.point.x+","+this.point.y},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")},getDirection:function(){return this.reverse?"arrival":"departure"}},Je.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"point",v:this.getLocation()}),e.push({k:"direction",v:this.getDirection()}),e.push({k:"costType",v:this.costType}),e.push({k:"costValue",v:this.costValue}),e.push({k:"profile",v:this.profile}),e.push({k:"timeUnit",v:this.timeUnit}),e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.crs&&e.push({k:"crs",v:this.crs}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),e};var Ze=Je;function Ke(e){if(this.logger=v.getLogger("ProcessIsoCurveRequest"),this.logger.trace("[Constructeur ProcessIsoCurveRequest ()]"),!(this instanceof Ke))throw new TypeError("ProcessIsoCurveRequest constructor cannot be called as a function.");if(!e)throw new Error(C.getMessage("PARAM_EMPTY","options"));this.settings=e,this.mode=this.settings.httpMethod||"GET"}Ke.prototype={requestString:null,constructor:Ke,processRequestString:function(){var e="",t=0;switch(this.mode){case"GET":this.logger.trace("Process GET Request");var o=new Ze(this.settings).getParams();for(t=0;t<o.length;t++){var n=o[t];e&&(e+="&"),e+=n.k+"="+n.v}break;case"POST":this.logger.trace("Process POST Request");var i={};i.resource=this.settings.resource,i.point=this.settings.position.x+","+this.settings.position.y,"distance"===this.settings.method?(i.costType="distance",i.costValue=this.settings.distance):(i.costType="time",i.costValue=this.settings.time),i.profile=this.settings.graph,this.settings.reverse?i.direction="arrival":i.direction="departure",i.constraints=this.settings.constraints,i.distanceUnit=this.settings.distanceUnit,i.timeUnit=this.settings.timeUnit,i.crs=this.settings.srs,e=JSON.stringify(i);break;default:this.logger.error("No other HTTP method supported by the service !")}return this.logger.trace(e),this.requestString=e,this.requestString}};var Xe=Ke;function Qe(){if(!(this instanceof Qe))throw new TypeError("ProcessIsoCurveResponse constructor cannot be called as a function.");this.message=null,this.id=null,this.location={},this.location.x=null,this.location.y=null,this.srs=null,this.geometry=null,this.time=null,this.distance=null}Qe.prototype={constructor:Qe};var $e=Qe,et={build:function(e){var t=v.getLogger("ProcessIsoCurveResponseFactory");t.trace(["ProcessIsoCurveResponseFactory::build()"]);var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{var n;if(t.trace("analyze response : json"),n="string"==typeof e.response?JSON.parse(e.response):e.response,o=new $e,!n)return void e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_ANALYSE",e.response)));"distance"===n.costType?(o.time="",o.distance=n.costValue):(o.time=n.costValue,o.distance=""),o.message="",o.id="",o.srs=n.crs,o.geometry=n.geometry;var i=n.point.split(",");if(o.location&&(o.location.x=i[0],o.location.y=i[1]),o.exceptionReport)return void e.onError.call(e.scope,new x({message:C.getMessage("SERVICE_RESPONSE_EXCEPTION",o.exceptionReport),type:x.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))}};function tt(e){if(!(this instanceof tt))throw new TypeError(C.getMessage("CLASS_CONSTRUCTOR","ProcessIsoCurve"));if(this.CLASSNAME="ProcessIsoCurve",G.apply(this,arguments),this.logger=v.getLogger("Gp.Services.ProcessIsoCurve"),this.logger.trace("[Constructeur ProcessIsoCurve (options)]"),!e.position)throw new Error(C.getMessage("PARAM_MISSING","position"));if(null===e.position.x)throw new Error(C.getMessage("PARAM_MISSING","position.x"));if(null===e.position.y)throw new Error(C.getMessage("PARAM_MISSING","position.y"));if(!e.time&&!e.distance)throw new Error("Parameter (s) 'distance' missing. Parameter time to calculate an isochrone, parameter distance for an isodistance");if(!e.time&&e.distance&&(this.options.method="distance",this.options.time&&delete this.options.time),e.time&&!e.distance&&(this.options.method="time",this.options.distance&&delete this.options.distance),this.options.method=this.options.method||"time",this.options.resource=e.resource||"bdtopo-valhalla",this.options.exclusions=e.exclusions||[],this.options.reverse=e.reverse||!1,this.options.srs=e.srs||"EPSG:4326",this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",e.smoothing&&this.logger.warn("options.smoothing is DEPRECATED"),this.options.smoothing=!1,e.holes&&this.logger.warn("options.holes is DEPRECATED"),this.options.holes=!1,e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(C.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var o={},n={},i={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var r=0;r<e.exclusions.length;r++)"string"==typeof e.exclusions[r]&&(e.exclusions[r]=e.exclusions[r].toLowerCase(),"toll"===e.exclusions[r]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="autoroute",this.options.constraints.push(i)),"tunnel"===e.exclusions[r]&&(o.constraintType="banned",o.key="wayType",o.operator="=",o.value="tunnel",this.options.constraints.push(o)),"bridge"===e.exclusions[r]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="pont",this.options.constraints.push(n)))}if(this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"json",e.outputFormat&&"json"!==e.outputFormat)throw new Error(C.getMessage("PARAM_NOT_SUPPORT","outputFormat"));if(this.options.outputFormat="json",!this.options.serverUrl){var a=T.ProcessIsoCurve.newUrl();if(!a)throw new Error("Url by default not found !");this.options.serverUrl=a,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}tt.prototype=Object.create(G.prototype,{}),tt.prototype.constructor=tt,tt.prototype.buildRequest=function(e,t){try{var o=new Xe(this.options);if(!o.processRequestString())throw new Error(C.getMessage("SERVICE_REQUEST_BUILD"));this.request=o.requestString}catch(t){return void e.call(this,new x(t.message))}t.call(this,this.request)},tt.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};et.build(o)}else e.call(this,new x(C.getMessage("SERVICE_RESPONSE_EMPTY")))};var ot=tt,nt={getConfig:function(e){new U(e).call()},getAltitude:function(e){new de(e).call()},geocode:function(e){new Se(e).call()},reverseGeocode:function(e){new xe(e).call()},autoComplete:function(e){new Le(e).call()},route:function(e){new Ye(e).call()},isoCurve:function(e){new ot(e).call()}};const it=P.version,rt=P.date;var at={};at.servicesVersion=it,at.servicesDate=rt,at.Protocols={},at.Protocols.XHR=E,at.Services=nt,at.Services.DefaultUrl=T,at.Services.AltiResponse=oe,at.Services.Alti={},at.Services.Alti.Elevation=ie,at.Services.AutoCompleteResponse=ke,at.Services.AutoComplete={},at.Services.AutoComplete.SuggestedLocation=Re,at.Services.Config=U,at.Services.IsoCurveResponse=$e,at.Services.RouteResponse=ze,at.Services.Route={},at.Services.Route.RouteInstruction=qe,at.Error=x,at.Helper=I;var st=at,lt={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?A.enableAll():A.disableAll();var o=e||"default";return A.getLogger(o)},disableAll:function(){var e=A.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].disableAll()}},enableAll:function(){var e=A.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].enableAll()}}},ct={proxifyUrl:function(e,t){var o=lt.getLogger("proxifyUrl");if(!t||!t.hasOwnProperty("proxyUrl")||null===t.proxyUrl||0===t.proxyUrl.trim().length)return e;if(t.noProxyDomains&&Array.isArray(t.noProxyDomains)&&t.noProxyDomains.length>0)for(var n in t.noProxyDomains)if(o.trace("[ProxyUtils] proxifyUrl : analyzing "+t.noProxyDomains[n]),-1!==e.indexOf(t.noProxyDomains[n]))return o.info("[ProxyUtils] proxifyUrl : "+e+" found in noProxyDomains list ("+t.noProxyDomains[n]+")."),e;return t.proxyUrl+encodeURIComponent(e)}};function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dt=lt.getLogger("GfiUtils"),pt={getLayerFormat:function(e){var t="function"==typeof e.getType?e.getType():null,o=e.getSource();if(t){if("VECTOR"===t||"VECTOR_TILE"===t)return"vector";if("TILE"===t)return o.tileGrid?"wmts":"wms";if("IMAGE"===t)return"wms"}else{if(o instanceof p.a||o instanceof f.a)return"wms";if(o instanceof g.a)return"wmts";if(o instanceof u.a||o instanceof l.a)return"vector"}return"unknown"},displayInfo:function(e,t,n,i,r){if(dt.trace("[GfiUtils] : displayInfo..."),i||(i="text/html"),null!==n){var s=null,l=n;l=(l=l.replace(/\n/g,"")).replace(/(>)\s*(<)/g,"$1$2");var c="undefined"!=typeof window?window:null;if("object"===("undefined"==typeof exports?"undefined":ut(exports))&&null===window)s=(new(0,o(62).DOMParser)).parseFromString(l,i);else if(c.DOMParser)s=(new c.DOMParser).parseFromString(l,i);else{if(!c.ActiveXObject)return dt.log("Incompatible environment for DOM Parser !"),!1;(s=new c.ActiveXObject("Microsoft.XMLDOM")).async=!1,s.loadXML(l)}var u=s.getElementsByTagName("body");if(u&&1===u.length&&!u[0].hasChildNodes())return!1;var d=document.createElement("div");d.className="gp-feature-info-div";var p=document.createElement("input");p.type="button",p.className="gp-styling-button closer",p.onclick=function(){return e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),!1};var h=document.createElement("div");return h.className="gp-features-content-div",h.innerHTML=n,d.appendChild(h),d.appendChild(p),e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),e.featuresOverlay=new a.a({element:d,autoPan:r.autoPan,autoPanAnimation:r.autoPanAnimation,autoPanMargin:r.autoPanMargin,positioning:"bottom-center",insertFirst:!1,stopEvent:!0}),e.addOverlay(e.featuresOverlay),e.featuresOverlay.setPosition(t),e.featuresOverlay.render(),!0}},features2html:function(e,t){var o=document.createElement("div");return t.forEach((function(e){var t=e.getProperties();if(t.hasOwnProperty("render"))o.insertAdjacentHTML("beforeend",t.render);else{if(t.hasOwnProperty("name")){var n=document.createElement("div");n.className="gp-att-name-div",n.insertAdjacentHTML("afterbegin",t.name),o.appendChild(n)}if(t.hasOwnProperty("description")){var i=document.createElement("div");i.className="gp-att-description-div",i.insertAdjacentHTML("afterbegin",t.description),o.appendChild(i)}var r=null,a=!1,s=null,l=null,c=null,u=["fill","fill-opacity","stroke","stroke-opacity","stroke-width","marker-symbol","marker-color","marker-size","geometry","value","name","description","styleUrl","extensionsNode_","icon"];for(r in t)if(void 0!==t[r]&&-1===u.indexOf(r)){a||((s=document.createElement("div")).className="gp-att-others-div",l=document.createElement("ul"),a=!0),c=document.createElement("li");var d=document.createElement("span");d.className="gp-attname-others-span",d.appendChild(document.createTextNode(r+" : ")),c.appendChild(d),c.appendChild(document.createTextNode(t[r])),l.appendChild(c)}l&&(s.appendChild(l),o.appendChild(s))}}),e),o.hasChildNodes()||(o=null),o},layerGetFeatureAtCoordinates:function(e,t,o){var n=e.getPixelFromCoordinate(o);return e.hasFeatureAtPixel(n,(function(e){return e===t}))},displayVectorFeatureInfo:function(e,t,o,n){var i=e.getPixelFromCoordinate(t),r=[];if(e.forEachFeatureAtPixel(i,(function(e,t){(!o||o.indexOf(t)>-1)&&r.push(e)})),0===r.length)return!1;var a=this.features2html(e,r);return null!==a&&(this.displayInfo(e,t,a.innerHTML,"text/html",n),!0)},displayFeatureInfo:function(e,t,o,n,i){for(var r={},a=0;a<o.length;a++){var s=o[a],l=s.obj.getZIndex();r[l]||(r[l]=[]),r[l].push(s)}var c=[],u=Object.keys(r);u.sort((function(e,t){return t-e}));for(var d=0;d<u.length;d++)for(var p=u[d],h=0;h<r[p].length;++h){var g=r[p][h].obj,m=r[p][h].infoFormat||"text/html",f=!0;if(g.minResolution&&g.minResolution>e.getResolution()&&(f=!1),f&&g.maxResolution&&g.maxResolution<e.getResolution()&&(f=!1),g.getVisible()&&f){var y=this.getLayerFormat(g);if("vector"===y){this.layerGetFeatureAtCoordinates(e,g,t)&&c.push({format:y,scope:this,coordinate:t});continue}if("wms"!==y&&"wmts"!==y){dt.log("[ERROR] DisplayFeatureInfo - layer format '"+y+"' not allowed");continue}var A=e.getView().getResolution(),v=null;v="wmts"===y?g.getSource().getFeatureInfoUrl.call(g.getSource(),t,A,e.getView().getProjection(),{INFOFORMAT:m}):g.getSource().getFeatureInfoUrl.call(g.getSource(),t,A,e.getView().getProjection(),{INFO_FORMAT:m}),c.push({format:m,url:ct.proxifyUrl(v,n),scope:this,coordinate:t})}}var C=null;var I=this;!function(e,t,o){if(0!==e.length){var n=0;t(e[0],(function i(r){n++,r||n===e.length?o():t(e[n],i)}))}}(c,(function(t,o){if("vector"===t.format){if(!C){C=[];for(var n=0;n<u.length;n++)for(var a=u[n],s=0;s<r[a].length;++s)C.push(r[a][s].obj)}o(t.scope.displayVectorFeatureInfo(e,t.coordinate,C,i))}else st.Protocols.XHR.call({url:t.url,method:"GET",scope:t.scope,onResponse:function(n){var r=!1;0!==n.trim().length&&-1===n.indexOf("ServiceExceptionReport")&&-1===n.indexOf("java.lang.NullPointerException")&&-1===n.indexOf("java.lang.OutOfMemoryError")&&-1===n.indexOf("not queryable")||(r=!0);var a=!r&&I.displayInfo(e,t.coordinate,n,"text/html",i);o(a)},onFailure:function(e){dt.log(e),o(!1)}})}),(function(){dt.trace("Finish sync to GFI !")}))},getPosition:function(e,t){if(e.coordinate)return e.coordinate;var o=[0,0];if(e.offsetX||e.offsetY)o[0]=e.offsetX,o[1]=e.offsetY;else if("touch"===e.pointerType){var n=e.pointers[0];o[0]=n.pageX,o[1]=n.pageY}return t.getCoordinateFromPixel(o)},onDisplayFeatureInfo:function(e,t){if(t.isActive()){dt.trace(e);var o=t.getMap();if("contextmenu"===e.type||"dblclick"===e.type)e.preventDefault();else if("singleclick"===e.type)for(var n=o.getInteractions().getArray(),i=0;i<n.length;i++)if(n[i].getActive()&&(n[i]instanceof y.Select||n[i]instanceof y.Modify||n[i]instanceof y.Draw))return;var r={};t._proxyUrl&&(r.proxyUrl=t._proxyUrl),t._noProxyDomains&&(r.noProxyDomains=t._noProxyDomains);var a={};t._autoPan&&(a.autoPan=t._autoPan),t._autoPanAnimation&&(a.autoPanAnimation=t._autoPanAnimation),t._autoPanMargin&&(a.autoPanMargin=t._autoPanMargin);for(var s=[],l=0;l<t._layers.length;++l){if((t._layers[l].event?t._layers[l].event:t._defaultEvent)===e.type){var c=s.push(t._layers[l])-1;s[c].infoFormat||(s[c].infoFormat=t._defaultInfoFormat)}}var u=this.getPosition(e,o);this.displayFeatureInfo(o,u,s,r,a)}}},ht=pt;window.ol&&(window.ol.gp?window.ol.gp.GfiUtils=pt:window.ol.gp={GfiUtils:pt});var gt=o(65),mt=o.n(gt),ft=o(0),yt={hex:function(e){if(e>255)throw new Error("'"+e+"'' is greater than 255(0xff);");return("0"+Number(e).toString(16)).slice(-2)},num:function(e){return parseInt(e,16)},arrayToRgba:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],o=e[1],n=e[2],i=e[3]||1;return"rgba("+t+", "+o+", "+n+", "+parseFloat(i)+")"},arrayToHex:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],o=e[1],n=e[2],i=e[3],r=[this.hex(t),this.hex(o),this.hex(n)],a={};return a.hex="#"+r.join(""),i&&(a.opacity=parseFloat(i)),a},rgbaToHex:function(e){var t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e);if(!t)throw new Error("Invalid format: "+e);var o=t[1],n=t[2],i=t[3],r=t[4],a=[this.hex(o),this.hex(n),this.hex(i)],s={};return s.hex="#"+a.join(""),r&&(s.opacity=parseFloat(r)),s},hexToRgba:function(e,t){if(!e)throw new Error("Invalid format");e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,o,n){return t+t+o+o+n+n}));var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return(o=o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null)?"rgba("+o.r+", "+o.g+", "+o.b+", "+t+")":null},isHex:function(e){if(!e)return!1;if("#"!==e.charAt(0))return!1;return!!/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)},isRGB:function(e){if(!e)return!1;return!!/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e)}},At={lightOrange:"data:image/png;base64,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IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjkyYWVkNjM2LWY3MDMtNDAzOC1hNzM4LWZiYzYxYzZlMTljNCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NWMzZWI3NC0zYWRmLTRkYzUtOWZjZS1iODQ4NTc3Nzg4ODQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NjI3ZDg3NC1lZDIyLTRiZTUtYTlkNS00NDlmMzVhZDIxYzgiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5Mjc4OTUzMDYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphM2U3ZWQ1MS0xNTI4LTRhYjAtODVjOS0zNzNkNzgxZGM2ZmMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjI3KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PofUkY4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGRuA4VZTAAAFcElEQVRYw82YW2xbVRaGv7XP8bHjXByHQkNhWigdVX1AikRBMBoQ8wASl4fRqPDAAxIPKAVxeRqQRohHBEVCaoGKUBCl4qHcNKCZVKMRRQxtgTaACLRKqlwB14NzM2ni2D2XvXjgBFXQOnFiA1uy/HB89u9/7bX+vf4l1HnpK57hTNCE0AzqAS5gAAuEID5KiWSiLPf4tp7YUjcSu4yLZzdi2IJyNXANcBlwAdAKzAHTwDhwDKEPywC+GZWHbPi7IKOvZIWguAnlr8BtwJ+AxDJeDYCPgF6Ed0hkh+Weov5mZLTHJMDeBjwYk0itYJtKTOpZML3SbYNfnYz2SBr0buARYENcFytdFvga2AGyT7p14Vcjoz3ShOgdKDuAi+pUewpMIDyCypvSreWGk9HdroOEV2F4A1hfTxGJCX2D5U7U/UzuD6NaXq49NRJhBsOjwMVLEtE4gaL4W5cV3IsxPEoizDT0ZLTHcSH6M/BWLLlVwpQKuPzhb+i8sRkv04Y/e5rvPigxtnM9trKU2k0D28A5LN3RsmXbrbFOU8DtQLpqfJqu97nh6TydmzvwWpOI8VDbxqbrkmz62yk+/Ps6yoe8KkeV/hHHfgrMNyrNEkBX1SAktgRs3T7ApV1rSWayiEkDLmLSJDNZLu1ay9btAyS2BEsEuWuZ99WKyRhgHeCcn8wGw/qbOnAS3jmfOwmP9Td1kNhQDduJcUwjyciS0RJXMMkWkPPUo/z4XFxZRhZII8mEwFCsT+f5xXTE7FAOteduItVaZodyhNPVZDeKccJGkxmsChIMOvTt6aRSzIP+7A9rRKWYp29PJ8GgsyqcVauZSADaj+IDTecWvBlD4e01HKjM07XtOOuuy+A2X0BYmib/8SxfvLWRYm8LdqZaCvkI/SDBci6nld0ze7KCLa4F3gSurR4MB5x1FnMhiCeor9hJiPKmWpbGp3EU2IbJFuTe5XfStbczLxgP7K0IPcCFDWhnJoFuMAek2/oNbWdku/WxHATejT1JPZcPvINysFYiK+gAFkXTK6H+MyhXADeseJ9fmrVDM6X080/+p1M2/yFsD1zjEIauEeMAqNpQE16oaKiqwfjYeLk+fuYl10HDq7DsBTavxs8o6FzFKez/dM3rLx9LjUyVxcb7yVkfzmpXFbACJURHIxgyxkyu1ml6qL0Z4YX4xl7Jfrrgm9Ov9bX/e++x1tHCgkQ11lgELGA4sBp3iHRbH5GDwJPAFLXo6KJnDmTh/aG2w2/3t47VSGQxs1zAE9U2s9pEjx3hXuBloCa7G1rxv8o3f/7SkUz/UFFWMqGRWMpHAqsDbl00KGotIXM7MawF7gKSS5oJJRospI7v+rD96Ikp8aV2EgrkVPW4OnIy6SVL9ZubvZgyaOVyYDfwl2oNqVWiXNEb231oTe+/BrzvK9Gy01MFyoiOKzIEmqsEfjGf/39U1yHgosJFUXhlFMl+z9E/nkvhVNHZsjux+9Caf77RnyzMBaJLmW4RrWAlB3Y4Uh13HLOA4wQjo6O2IRPNxVV4JuG5Et2SSelzjtFLzsZQ0NIZ8/2rx7K9+/paxqbKvyh4Bc4AFQxzau23Dow7FS+nHmfEUz05OqINH8+evXJPJVOuE93XkY4eSziaXcQpB2b+vZNt7+/8IPPl2OxPRMJ4dDsLzIho3hpzamJ6aqJ0ei6qtZAasmZ2OS1RyOMd6egBIzSFVoKj4y1Hnvhv+8cD02ZOkEmgIKITVnXKWDs1ksvNrgbTbRSZ46cypY50aWcllIsyKXvr8GTyi9f6WvePFGVQhO8EPW2NzI+OfV2pF2bDTgbg8D/aJeVUspd1BK3/G24u7/skO3+iYP3h3LdhI/B+AGodUpo8WKwoAAAAAElFTkSuQmCC",darkOrange:"data:image/png;base64,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czpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjIxNDZjMzUzLWIxZjItNGVjOC04NzQ3LTIwMGEyYWExM2ViMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NGViNmI2Ni03Y2I2LTRkZGUtYTI3OS01MGY0ZWFiZGFhODAiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ODRhM2VjZC1kNGFmLTQ3NjItYjA1ZS04ODk2MGQ4ZTk0Y2MiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5MDM3ODI2MTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxYzNjOGRkZi1kMjVkLTQ4YzQtYTAwYS0yMmU3ZDYwMzg1YjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjAzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PuhCAHgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGQOTjc4FAAAFdklEQVRYw82YW2gcZRTHf+eb2dlkc9lsrFYr2notfSgWxKKiog8VvIFI9UFQEaWtYPFJfREfRRSEeqlttViLD/WGisYXrShWpfWC1WpSN5eN3cZumkuTzWY3c/mOD9lI0WSTTXbVA8M8zMz3n//5zvl/5xyhxqb3ewYvaERpAvUAFzCABUIQH6GAHyvKa76tJbbUjMRW4+LbC7GsQbgCWA+sAs4AWoA8MAxkgEMo32LoxDO98oIN/xdk9IGUYEYvRrgduAW4Gogt4NMA+BroQHkfm+qW3aP6n5HRTSYG9hZga5lEwyKWKZVJvQCmQ3bZ4F8no5skAXov8BiwspwXizUL9APPgOyVXTr5r5HRzdKI1TsRngHOqlHuKTCI8hhG3padWqw7GX3IddDwcixvAefXUkTKhH7HcBfifi8vh1E1H1cfGkGYxPI4cM68RGw5zf3y3S7IuedgeZwgTNZ1Z3Sz46LRNcA7Zcmd25yGgPWP/M7q65toTLZSHBvn6OcFDm07n6g0n9oNAxsR54DsjBYs2251QWAbgFuBREX/tF3rc9+zA6xa3U5jSxwxHmpbueyqOOvvOM7rj67g1JfedFTNagngVtR+B0zUK8xiwLqKTmhcE3Dblk4uXbecRDKFmATgIiZBIpni0nXLuW1LJ41rgnmcvG6B59WiyRhgBeDM+UZipWHthnbcmDf7b8Y81m5oJ7GyErZTxjH1JCPzesu4ghtvBpkjH2X6uXFlAVEg9SMjhEAamFsyp4Yjcuks1s6uXdZacuksU8OVZDcC0mW8OpFRQqBruvqdwwpdDh+9cjaF0QHQv/2wRhRGB6afdzkVkKZxtDoyVaqZBKCHEXygcXafjhi63l3G9tIEGzYe4ZKrksSbzmCqMEz6mzE+eedC+juaiUYqhZCPchgkqKB4SzxntqQEO7oceBu4srIzHIitsMTOBOMJ1leCkxAMmEpRWt6Vg8BGTConOxZeSVdfzmwxHmpvRtkJnFmHcuYksBkxH8tO69e1nJEd1sdhP/BBuUippfnA+3jsr5ZI9TnzV33mFcB/DuEi4LpFr/PPZu3LkanES08fOltWnxe2Ba5xCEPXiHEAVG2oMS9UNFTVINOXKdamn3nQdSC8HMMeYPVS+hkFzQdObl9m2Zu7+xt6hkKx5fXktGumdNXyZQUKiPZGkDbGnFxqp+kh9kaUHeUTezHr6WRkxt/oa/toT39Lby6QqMoci4BJDB8vpTtEdlkflf3A08AQ1ejoTM8cyeRnudYD72Zb+qokMhNZLuCJaqtZaqDLLi0i7EHYDVTV7oZW/J9PNf3wanfycLoki5nQSFnKewKrnW5NNMhtKRDlt6EsB+4G4vM2/UrUNd5w5Pl028FfiuJL9SQUyKrqEXXkaNyLF2o3N9vUYKB0AbAduKFSQWqVKFv0+rYfXdbx4aB3qqQLDk8VKCKaUSQNmi0F/ujAwB9RTYeAMwoXabg2QvZ5jl4ym8Ip6FjgDm7/bdl7bw3Ec/lItEJyWyAS0RJWsmC7I9WM45hJHCfo6e21dZlozlju3pjnSnRT0tMXHdFzT8dQ0EJoTr2eSXXs7W/uG/pnwiswBZQw5NXaYw5knJKXVY8p8VSP9vZo3cezp1v2nniDK9FD7V70RMxoaganGJmJT0+0frbtt+RPfVN/EQnLo9sxYEREB6wxxweHhwYL4/mo2kSqi43c5zRH8GS7Fz1shMZQJTg41PzVU7+2fdNZNHlBTgI5ER20qkPG2qGebHZsSTpULzJH8slCe6ywrWTlrGTM3tw9Ef/xjUzLvp6idIlwQtBxa2Sit6+/VCvMuu0MwIE726RBSqlViaDli6Gm4t6e1MQveet3Z4+F9cD7Ewo4WRJBbaaSAAAAAElFTkSuQmCC",red:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAATbHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZppchuxEUb/4xQ5AvYGjgOgG1W5QY6f10NKtmW5EieiTVLDIQbo5VswCvavf97wD37qyD3UJqPP3iM/ddaZF29GfP2s5znF+jw/P6W8P0u/Hg/5fTxmDvlJ7xNHf5//cTx9DvB6WbxrPw00zvuD/esHs77HH18Gel+o+Ix8FvoeaL4HKvn1QXoPsF7Lin0O+XkJ216v+rGS8fof/Ol+xEReL19/r0L0tHGdkrOVVCLP72CVXPx/CWXxpvGcS+XEVOR5H3mu5SMmBOS7OH3+TGZ0far125N+ycrnuy/ZekeApX3JVs3vU8qXIPfP12+Ph9S+z8oT+p+uXMf7Xf71+NgpvWb0JfpP8K+O+6yZVazaCXV/L+ozak9Srm4u4Zcegal1stOpocGrPyaPweIPpaDxxM3jpJky6bqpJk0r3WTP60mHKdZsIQtvcj65PAdHkTzzKZ6/6o90s5RZtAxyeZ6015I/55Key854wnO1wZU1cWpODJb4yl8/wt9+4V5vBQI8ntSnV35z9mAzDc+cP3MaGUn3HdT2BPjj8fXH81rIYPMoe4tMht6vIXZLP5CgPIkunNh4ffVgEn0PQIi4dGMyqZABspZKSz1FyVlSIpCDBC2m7j2zyUBqLSuTzLWUTm5G9kvzFUnPqbllDgeOA2ZkopVOnw0ytEhWrY36kTqoodVKq6213qSNNtvqpdfeeu/SHRSXFKlBmnQRGTJljTLqaKMPGWPMsWaeBdBss0+ZY865FtdcjLz49uKEtXbeZdfdwu5b9thzr0P5nHra6UfOOPMszVoU/NCuokOnLktGKVm1Zt3Ehk1bl1K7Jdx62+1X7rjzrs+svdP62+MvspbeWctPpvxE+cwaR0U+hkgOJ81zRsJyqImMi6eAgs6eszhSrdkz5zmLE/grLTPJ5jnT5Bkjg9VSbjd95C7kV0Y9c/9X3oLUX/KW/9fMBU/dX2bu97x9lzV1ED5Pxl5d6EGNhe7jnJUH/+jW31/D+83KPiEmlrd0ZremEblUT7eZm0BzexaimmXYgubnuEPvkbQGa9wthiOWrraVZNfSbR0D3dM5e18pXeZJJmnLWKdvldHSuKUOsxOt3bbTboUw2gyslJWdOaVdy9qByFHOHqbkHGo8yhf7pMzaZaS57phW01Jel0mrG5SmjUNddDez7oydWuXyM2lNdiFWXboPJVg7FGLzCt/lNwpH8zahiOZobe1kVcJOl4zlA+HOkZfx6ZCqda7d110dOqk5j555J51FiWZST5Qtdd1klCVRBYFSJPLQBhVUm0uIVsH9rLkAPGR3mNdLnms6F9jxCstcglo/til6U1v7hJm27l3rQ7HE7SzZVqiFqgKlzQ0BSa17KIOX6mWnnHzLOfToTkNLH9lgkXjuufNIsdmoM5nGyaSbACl51ihnS4t7TBrI9uikqdFIpLPGdaGkO4e2QBHMZEe8Ls6U6DWk+dBZ9VLGu98lM11aIjXjakwmrUP6KF24IvLlTbBSMKXAz7ibZFg6JtIZFqmoicKJlpnItETwSSfBphrjGTYkkzzqgArxS9wA7/o/amHMG4VpUQ4naZO6llRb63b19J1i3g9Lqy/ptx4Jf2yej95JmyqnPp40nD1FZ6eEE5GkmCLLXyizGgweEiqMDJ59WrKiWnajjLNcFMFdh/WCApcKnDU3Ymiqex46z4jy0O5rCny1U8sU44naDrlFlpBoiqK2FSlQEkHj0YlVtbmq2OSJIt9n3XKPnkuWEFrHx1cmu67wCdWWb26RPgIq6cbWQSCh7ae1mavXCLiYj//UCeia5L5SWHfOUy1nmsah0qgDFAnlMSvhAGM7iEUB9aZX4xO7Zb2Agc/b+D4UPt78/jq64wBC6Jaup8vuDiT7JCo/slSKKILbA1xMusPOqh2o3McIKmivFJLa3bxx2ChgFek5k49tFcrJazxJPZAlqmxVaMSQfstACssdyhDQIDJr+rfDSzfXCzFsBrte200pvE5xAkmDNjbIohNm5klmgx9YnSeanMqY5A/FTwObIRibOeDRqguEXKfVlYUsDBao9WTlykDd1C2A/6v6HDLrn8L19fWACeBm7jfSqwkmzehsIIaOBraQNtfrp43aAEzqpEvhK1NPFeC4qG2jkWBXunMnuOISRcCYsAdsF3O7fUNnujpInQp4DZ8KwV2FmvtIOsh0MU0/t5EmSrcCsRpAyod4KFVKDYGfrdIxkSyVp42oJ1W+RLmRdmi0Esc0V7UIzJJ//A+4FBq6GJDSNahvqK0ceqdOtLOlCY7I3aUpxTsUdtOZL6m/rVwjKAPk2qwfngswTfY1DlqXBA1y3zIyIc/qRPHoW5SIy37KpWFJjHxD3I6/c2bOA3y2hQ4pYTZgbjokXWhk5NuoOmZiZwI/XVUnUEJFcawCmm1Ta/tw3ZnakHNtNGbUWEmVz6sXlxuq5lNV4lOqIJuQU5QHEMeyooAIrnXphlkdMea0QBdhgMjIKxu4ijyOJsAkNkSA4nW3zegoRhLwGvsiwsZFjaA+vJ+Pgl41LFqKTBzKJzeY4y4K5XoNc7nis0wgQnLKo12glDFaehPgz6/h64EaExPNTwJAe1DE3wFUMBxd4DV7naTKl3PCl5MMxeG/EgQoy39r+w5UIWwAZ7wmNqNo/ZhYKgiEmkMjJViEcWAN4ggPgzAdfloCgu4iHEgRDTcRcXnedsSBlODF7lLlgOpER4KNup9IZKHakS9TXDhct95PHzZaH3cFI3KsEcHSDhw4pxZUZEFXqYrF0L1DQXjKGS3CVVwx8nDWQ8lEU9eXCBiEat99LPSlgWplOVQDS2NDg3WSNSQYde+YyYCuVZNkYNUgND126YEyidh4loQEG2DBs/cx8KWQNz0yTgqCTkMLmclevB/oQSuswMNCWvYAHh277jmLiswGO2w9Q1IplD35KTr5Hkwr71QA1z9KYTfXDe9ie6JJUVGMgMsSH6YhBvcTN5Z+bw/6BkhdiOf4X0Pk+Qpv4YVvn/BmtOy3CPg+A8gw+v/J82EJl0ikfsma0i508WtNQFu6GJ5nsZ7sTacCgBfB1FmObYVEFLW3GkrRWXPP3mc5A+7fEinK4mqRU5D8gGpdNjZaTx7lfU3nAo5S7q6ZuzncQWjEbqGSyCJeBLuCbu5dB2B0NAvwQyBz0dO4KqIKUmzL6q2DRavRClhgVIC4xaAFJtpuxYBysKndvZhDL1fAUIGdSPVI1pj/IDsdOKzaO8oQp+O6V3E/4NI4XnZr1TBg9+zyic6BWbfzLUlOLB6VgvGd9dJlG2R3DQsnLrRb6tTGFEK3xB7SD1RT3S59Z7c2jisR42rokoQEIGggP4WMs4k1IYD3cOfVdnNjhiKwU8dM8YaSfVVYkKt2aOTuqsgBZY7jUazQPnqrocQgNSYPRF9E+SvLGIzVnyRDRzT5U7xUMb2wAFgAhqoHIja8Y7WQRurG2vHdnqeq6N53vShmnb5r4SmYj8L506vjGsLOMErgHKOchXNdCpdq3QKvrjCj24kXD1E11zUiyyQP1MMjC1GiLD4NtFbhbGXGdkY8i7TXDL5BETfhadPCzeugxtwL4lmKYfiQ+XpIzLxwA9hIky+ggMIqYFfDmiPa8AX7XMRUP+GAPciSQmZh4Q3ckRH3wIhZAsCijAbKl3J+pBtLw3pYK7n4IYHuIwk8Qdyjb+veV3i3lQFXjE95i470ifEZ34URpc53BJVKlIXJwbJgCB41Ag71DFpSqxtLXgf2MW3cvBmvhAaOZEiIFY4AVBNM8UITXn7AS1iF7J6pAoWAjmh4y5Wmx51o7qBVgkfol4MYBDQ6qnu60cLlwDyLZYLAnBUqs8u49IqKPjh1RKKDN4iOh8DC90kXJ3xR8Z3IXSKZY8wTHxaiwMkIazyh4r9Gh4PQgzQ5mi1l/HgDodGAEMOgPtzPUKjxDvqs3BfQ2QO0J2IC73XMhu3pL5h3OK0uF1GF9tgFiBzAEbEjPTfS0cXuhVAaV2toiWcgvopYcMpGI0r0rdl00vNRBbx+vXb6+do4CCDx7s8BhYZKAbGVsYEF33o6xfVwbB6PDhm42oxaeA0Pis6BgJjTlTqIdcdjI5CuK9YAEKmrYea3ZUCxeBgkMLVzXT48dD4WLX4TigKZ1x4yfWTZoIw5Yfj9Abj/j9QD9LCQRHR8r8ZAtosh4YsTZzwE6+t04rsoc2+g1h5gIHF4+O1J7Vg+NGbz7SfwOlPzvqVFhJCQ4mnAXHYqSrG5AGNBbEqAGmFR7CdXyA2PXUBbZDh04fz6OMUM3MHoVfGpA62Ch3LlCzVgC7l8h8oDzdHdYxXflJvm2zGM3fYpvodExdcdIZQVxzzLN/gLhzHDXBEgfgFpqgumRYc6Z2AyvCqVChakJ3UFShQaws6WkvrLRGBZ2vdBDT8fmO5ZrS1WV7AY6aEvuGNBCy6dENU+H7cj+IjURXxTlPiK5oBpiACdbw2ydEwhPeXgVeb0ZnPzCSk4aFIe3c7D+pQqdIRsEnklqk/0kTRiCrR5Cwx7NlvcKcK/+C842Hscz4SUBV8uHsfcFaHWDgNiVHyPq2tg2I0GwSGsCArBXY9aaonlIA/89/xSTMxu0YksrZC3USmjxhTd1OydAjy7HAWjs35LiSTJJGK+1fLY/jYha/Vtoc6KLD7NAwjBqov6ivQQKv+1N5Lit2LeX0kyrAOWwx4Y324Y6Ta1Pfe28KB+o20SyxGKged8rR68DLyOIPFZ8CylJuyKu1OIFtC7cUjNvv1wXNFyGgVX0BpryQgwPEYaTYyRPB4XzBaiaPdjDIqGRRW4knDdjsiAkxdzpWuOpxqgQMMzl0uLjOmW/UD7ziKzeymC3sVo9mXbwe1RmQix8c2+EFYJ2pqhsAx6apOdEn2fGXY9rvHJmE1Ae+fyqD0sH6o6dwh1wtUz6c6+XccvEf4MCg1gEJAu+DwazG+DVNf1RCkDYkgs37VXmFBbf21t9YRme7YS1HcXi284Q9kfNGWse323t0VlvTrImQsPsQe6oMLeHd2EbPNN6ub3aUuCjRDEcgcWHxX+kvCkf/xHvW1E1jcoJZxauvcKydiCv48V37kWZQxtw4qJNODPVsIU+R44zQtroi0Be+hQX63ZyRriAqWJJEBGzKI6HJPsdjpG3Vc3onja7pSJW3QaDu/lW8PjGISJQeEi9QZyj2GseK/BcVrkzo6CmB6a4tMCg2mQY5Ir7qkXBGGv51Yy496L2SD5l4UJHQG9D4NFJC5gLAA8HHMB1ULcWPqjb/FcfCK03wHQM64NAO9+x/lQNAHAAX2YIPJ5gjLOmy259gcgyvU7L8idDkJ2yr1iWAUkKo7aIk9uF+QrKQAFiq4u8yDdIZJNQ+Ts+x2oKKSDb5VtVDdyAHQi/ANtRPG4NK/Z8W1ilCdNK4egJtQD80GKITglgrcAvDm7GAgUvenMrdOOvrlEwcpEut/RfSe/eJeHm6vvwhdX3gi1lwnEsNAm/jZX13mIJM+UrhGdBlhhvig38IwcJ8W9zsAUzqpRN4VOZ6jfC6b+sS/Y0+VtHOmH6PwKZYMjbnwus9HtO0/IURgRkxFYTHJapCqYIzWFN4BpySEpeKAeD6PzeaflxfmdVkq7ynBzOtqlqAW/BkrR0Y7mINvwbWv4iO6GSDPJHdmbG+xH+UW+DEnHia4hqdQ2ohfBna6CR8CN+u0CFILsuJOLZ99dv72NlBM1hBDGM8IP5TFZ/QAQhDXKyVAIySckQWg/67gP6hDcqVNQlTt3Z3Bp5Ksj2JAxfs+OKrZqmi8nKzhDDVK6ie+cEli83+7BM4qzhKseI23xey7482t4xHg1VjMBA+zFo89895p+Rfr4Ni6Ek+j4+ayNAovkBd00m7iCQrQSvXB97wCkxqsPopP00DnR7zRQIHs2uowUsjA8dPG/jrjS/UYoEgyM9Xs/FSUpLaAjORmgMNyebyyd3G82egkJ4rfESLTf/Lfie7SAK4GFZyh/GrsDyRW3gxoNiJjVkPK++Ygp9T1h3BB4xirxqpZXj7YAtoUcBcCwBRv9j0xh9EFhGOyOMwoO4rmNW/1GTWx0/FnUAZN0P19SxougYiS7BzkOfe63MH3Nd29lMhC6UvG0g7Pwn4sCXag3v1t6XXfn5RrBnc4hwNv3CiYVAk75nhTtZy6QhgFusIEE1Gf1sTiISULf0Q1Ukd8PtZuzAzk1bA2fbRAJUoZT0iWiKGNFpKKLerkngI3DN5P83tEsCCValn5tCSSoAFZ8NE5iZCGOFvnI2+fc0hSMyOP6hgheBC/JqM0XtzPY4ff3CcRZGFPQp+eT9FGVEXZAx5l6MPfTxBAh6p9mAdsCes1v4slb46vGhDSdrI7iP3whocfnC9FXoxzU/6gk3T51NDqRmqXEDBZpfvMByw0xUJeUSzQ5viPcMHg1uzxlzOnc9szCN1b5NBH44/uD8eVHwoMzBAdw5t/eZ7uSp4CG3yd2DETwEdbr9O8QEP3Wg28roCeRYRkHdKL6HzKxMGDwGRf0vRjBi75j7X6nFNW/ckp20Z7t7ZL6fRp0CBMDCbLfwU4hteMuyDWR35qZvpvj1ZDwnfkxnjWhUnmmRRqK67v2d+On/kdI/wa+GQTprDiGjAAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfU0tFKh0MUsQhQ3WyICriqFUoQoVQK7TqYD76BU0akhQXR8G14ODHYtXBxVlXB1dBEPwAcXVxUnSREv+XFFrEeHDcj3f3HnfvAK5ZVTSrZxzQdNvMpJJCLr8qhF8RQgxR8BiUFMuYE8U0fMfXPQJsvUuwLP9zf45+tWApQEAgnlUM0ybeIJ7etA3G+8S8UpZU4nPiMZMuSPzIdNnjN8YllzmWyZvZzDwxTyyUuljuYqVsasRTxHFV0ymfy3msMt5irFXrSvue7IWRgr6yzHSaw0hhEUsQIUBGHRVUYSNBq06KhQztJ338Q65fJJdMrgoUciygBg2S6wf7g9/dWsXJCS8pkgRCL47zMQKEd4FWw3G+jx2ndQIEn4ErveOvNYGZT9IbHS1+BES3gYvrjibvAZc7QOzJkEzJlYI0uWIReD+jb8oDA7dA35rXW3sfpw9AlrpK3wAHh8BoibLXfd7d293bv2fa/f0ASM5yljz/NiUAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmI5YjA2YTAwLWZkOTQtNDc5MC1hNzIzLTlkMGUwNGRiNTRlNyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MTQ3ZGU5Yi1kOTA0LTRlNWYtYjIyYy0wZmMzOGRmMWI3ZGEiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YzBjNTI2YS1lYTkyLTQxYWItODM5Yy05OWFhYTM0YjdlYzciCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE2NDAxNTU0MjYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQ4MDc5ZS1kMTYyLTQxZmItOGViYS1lMzY2NTRiNGRjMjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjIwOjQwKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PkaovgIAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPFCiKn0kIAAAFfUlEQVRYw82YTWxc1RXHf+e+N2/GH+Px2IEEV02AgqIsIkwgoYS2ahepVGCBUOiCRRdsAAnECthErBBCICGFj4gqRQqBRSABUrVm1URtCSATJ5ASZCPHH0kGgx1/xJl5nvH7uIcFY4iIM/GzZyhHenqL994993/u+f/fOUeos+nNnkHCJoQWRD0UFzCARYhQCVB8NFWWTwNbT99SNxC3GZfIXg9sADYDWxCuRekEskARYQplFPgEOAr045ph6bXRzwKM3pEX5mduQLkHuAvYCqSW8GkIfAT0IBwknT8lH87o/w2M3mpSqL0LeLQKIrOMZSpVUC8hpkf6bPiTg9FbpBn0L8ATwLoqL5ZrFjgNPAeyV47p3E8GRjdLE6r3oTwHXF0n7ikwgfAEIvvlqJYbDkY3uw4a3YLyNrC2niJSBXQG4c+Ie0yORnGSj5OnRhzlUJ4ErrkikBAoAjPVe7ik4F6D8iRxlGvoyegmx4X4NwgHgM6a8fUyIfc8doZbf99Ca66N0uwF+v7tc3DnWoJK6gqep1C2g3NEjsdLlm03GXSbAe4GmmvGZ91vA3Y8P8aN6ztoyaYxxsPaNrbcnmbbvV/x9ONdnPnA+w71otaMcDfYPqDUmDQTUgjdNYPQsSHkgYf62di9mmwujzHNgIsxzWRzeTZ2r+aBh/rp2BDWDLLQjSzpf7VMMIpB6QKcy77Tuc6wdVsHbspbfJspj63bOuhcV8u3g9KFJtufWQbHakfLdQUv3YrI4qwQ+e65616Jr6mknE4KJgIGgctLZnEq5vRgAWsXLyKttZweLFCcqiW7cdVP1DgwQoQwUNPJxIDDG7vXMDszBvqjDWvM7MwYb+xew8SAUzNowgCSDEwyNVMJQU8AAdC06DvBtOG/76xirlLi3u0nufn2HJmWTir+FJ9+PMu7B66nr6eVYLpWCgUoJ0DCGoq3wv/MbXkhmlkN7Ad+XTMY4kBTl6XlKnA8IQ4U/xyUx8wlB3ZpKvcC23Hz49K79Ep6GeWM8VB7J8pfgasaUM6cAx5EzPvSZ4OGljNy1AYIh4C/L6lASWYBcBCHQ0mBJOfM94rk+WjwAsKvgN8te51LK7kPpm3zK89OrZH1v4zaQ9c4RJFrxDgAqjbSlBcpGqlqODoyWq5TP1OtnoU9wPqV9DMKWlRnfJ+/6q3XKpmhSRVbXU8uuhb6Hq1eVsBHdDiGQWPMuZV1mpuMB/aPCK8CXcsMjs6pufCm3/7PPZXs8LhKnJBjMTCH4f2VdIfIcRsgcgh4FpgkiY4u9Mwqc4fn2468M58dSQhkIbNcwBPVNrPSRJdjWgb2AK8BidrdSCX4PGw5/re53IlBK8uZ0EhVyodCq/1uXTTIzfrExZ0oq4H7gfQSmv54IMqcfNFv7/0ilkCSg1CgoKon1ZEv017ar9/cbEvGEFeuQ9mF8IdaBamFuBB7I7tKq3r+EXjnK0tPTxUoIzqqyCBooRIGM2NjX8d1HQIuKFys0cYY2eeJ3riYwinorHUndvmr3nt7Pj1eVNEa5LZALKIVrBTAnopVRx3HzOE44dDwsG3IRHPBxrtTnkv8p5yjLzvoLy72oaC+mvOvz+V79pZbRyYvJbwC80AFQ1GtPevAqFPxCuoxL57ql8ND2vDx7MVW2JTOuMQPdxDvSInmF/yU1ZT+Nd92eGcp97+RH4BE1XHHLDAtomPWmK8mpiYn/AvFOCmRGmLTm53WOOKpDhM/YqApQsLe+dYPnym1f9xvTVGQc8C4iE5Y1Ulj7eRQoTC7Ih1qFJiTQc7vwN9ZUbk6Z+ydp6L0Z2+Ws/uGrAyI8I2gF6yR0vDI6Uq9fDbsZACO3NQuGa3kr3XC7H+ClvJeP1/6IrbBqbNno0b4+xbMlmARngcRbAAAAABJRU5ErkJggg==",turquoiseBlue:"data:image/png;base64,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/MUi8H5G35QHBm+BvjV3bu1znD4AWZpV+gY4OARGS5S97vHu3u65/XunPb8fN2tyj8UDOK0AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjEwNGNlNWFhLTE1YzctNGI4Yi1iOGU1LTFmYWQyNWFiYzBhZCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNDMyZTY1Zi0xOThhLTQxM2EtYWYyMy1jNzhlNzczNGRlN2QiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNzExODVkMi03MWZiLTRhZDMtYTJmMi1iNjM3OWU3MDc1OTEiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE4NjYyMzgzMjQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NGFiYzNkYS1lZWJiLTRlZjctYjdjNS04ZDRjODY5OGVjODMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI0OjI2KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pj0tlUwAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGBru/VeEAAAABmJLR0QA/wD/AP+gvaeTAAAFO0lEQVRYw9WYe2xTVRzHTx97dYS5B1UHa+/tY12dDoOKWyIGlfgHkCkSNTHGwHxA3NiAP/A5x4CMKEzdYL29YyAyBxKQZbI+NvYIaowaH9Ogi2GRbGjcFrbBNrq2a2/9nq5LCFnbbfSOeZJPTs/t6Tm/7/39zu+cU0IiXc7WSImNX0BsZiVYAhigmah5tHklsZrjSYtJSuZtaeSiiJU3gHUwfC9oARfBIHBP1DzaPH1eRuzmp0E6aTgSNX9EWMwSvOkMGPgG+CpguG8a0H7nA78zkMYqye0V0lYXDSHrYUw7cE5TxM04/b+38+vJ+RPRt0eIjVeAAhhyCQizFDKJEBjndaCY49Di4+CRlzFxfwSE3Ciol9i4DSBujoRUy7HIszFxdwSF3CioBy8qm1g5ufhirHwyJqwHrrDGWTlg8hFL1URN2+EF0XFPkyYuSWwhUVgnT2CygXBG3dFcM7bz1/au1u7OK9/93eWidUlHe1dCc810EsUAsXOPQZCI3rGZ6Wb4EXAEM0SCUFnZduz6T/09l4bHXYOCz+f0+XxeWg+7XYM/4vnKtlqHJHSIOrAHlYMFYmawRNCKycaDGZLVfMRdf/nPDpfXM+abotDnpy93dtzXfNgdZg+im2uimJ6h66UTeIMZsrat1jvkdPRRb/imLt4hl6N3DfqFEIPvOMzDJYspJsWfbUKEyFNttcKoyzkKo4UgYoRRt3OE9guT1br984nsmQ7gCWbIipaj4xeu9v/hFQTPlG7B89+u9v9O+4UQQ8f/BSlaVM8kgBOhji4p9mpvwQ+Wfwddjp6bQw2u8g44HT3535/tTUa/0Eccvg4sFDE1m2PBZkx2LVRqVcLQvG/PDDX1/tVxze38x+UZH6O1He28b764qgwtxOcf327eBGLFE9NikiD3qzDZhVBJgCJH3KubDnkfbD4s5Jw74qM1bcvDnxq8/vHt1SrS9InIJ2m7OQ4UYsKhCB9lJqHj0gPsHJzPvsS9w8rRRPDptI40M8PlH9fOJ5M5K008rsZmIwi5gc4QN9Zja8zn+5epch9PTFepU1iGuVunVqeyS9g0iv8zy96l0WiSjIsXx28iJEJhaONkMGB5YP14bkmI1SzIz1T0pRa9VKnNzCjUMcwWUAS2BtgWYLJN+xTo1OyrOhW7xsAwqnSGkd3i+uGjkT5Xw6DLt3AdEKQNB4YXbdtwQpuVuRtG7pwhxWA7vJgRib0nDuSDvtkIkjYcHE3aVWjRLL9/zyyETPK2Vq3OidAaOhiPDLcbxo3MRIik0eReWPnO15pHHiqbpYhS6hkNw7wAz0To6GM5hAzH3wkDa6b7x4bEwnkUfMnP6idX7Nex7GxElIDNerV6hU6jSdbp9RHck2w0w/FaGGoJm7KtnCfmWNlF1fOrK3Q6bekMRFABO7QM8yxewFLUi+5JSxPpAmcxy0gjt1Rytir4NcHKCfJTH/al5j1j1hr0pWEML55YD+x2GP6cVqNZZjQYEvUsG4vP4v8jKju5L1p6qnytxGKa6qogyOorBpVbXvxMe69xdxABb9I0DAGvIIRWp7NsBsJIoWVZKfaXuf+jMKp2b6z8+Adb4aErNwpCCh5J2pnfoH0ga08g7invBfaQjXjjuQifhyEgLdNolJP5UqR17y+QnSwvk1i565OZK6F8RzubvWwvDH8LvKZnmHXY8HKws+sNLJtI5muJ/7hYElOzJ1V+fN9R7CVDClPJOVXuqo06vS4HQjTwgDKDZRXk/1JiD7wrieFLk6T1lczCXUVK7aPZinS9XrTw+Q+Tql7SUmvGuQAAAABJRU5ErkJggg==",defaultOffset:[-25.5,-32]},vt=o(12),Ct=o.n(vt),It=o(13),bt=o.n(It),wt=o(32),Et=o.n(wt),_t=o(33),St=o.n(_t),Mt=o(15),xt=o.n(Mt),Pt=o(16),kt=o.n(Pt),Gt=o(34),Rt=o.n(Gt),Tt=o(66),Ot=o.n(Tt),Lt=o(67),Dt=o.n(Lt),Nt=lt.getLogger("styling");Ct.a.prototype.setPropertyFill=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getFill();if(t){var o=t.getColor();if(Array.isArray(o)){var n="rgba(";n+=o[0]+",",n+=o[1]+",",n+=o[2]+",",o=n+=o[3]+")"}if(yt.isRGB(o)){var i=yt.rgbaToHex(o);this.set("fill",i.hex),this.set("fill-opacity",i.opacity)}else this.set("fill",o),this.set("fill-opacity",1)}}},Ct.a.prototype.setPropertyStroke=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getStroke();if(t){var o=t.getColor();if(Array.isArray(o)){var n="rgba(";n+=o[0]+",",n+=o[1]+",",n+=o[2]+",",o=n+=o[3]+")"}if(yt.isRGB(o)){var i=yt.rgbaToHex(o);this.set("stroke",i.hex),this.set("stroke-opacity",i.opacity)}else this.set("stroke",o),this.set("stroke-opacity",1);this.set("stroke-width",t.getWidth())}}},Ct.a.prototype.setPropertyLabel=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=void 0!==this.get("name");if(e.getText()&&t){var o=e.getText().getFill();if(o){var n=o.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",n=i+=n[3]+")"}if(yt.isRGB(n)){var r=yt.rgbaToHex(n);this.set("label-fill",r.hex),this.set("label-fill-opacity",r.opacity)}else this.set("label-fill",n),this.set("label-fill-opacity",1)}var a=e.getText().getStroke();if(a){var s=a.getColor();if(Array.isArray(s)){var l="rgba(";l+=s[0]+",",l+=s[1]+",",l+=s[2]+",",s=l+=s[3]+")"}if(yt.isRGB(s)){var c=yt.rgbaToHex(s);this.set("label-stroke",c.hex),this.set("label-stroke-opacity",c.opacity)}else this.set("label-stroke",s),this.set("label-stroke-opacity",1);this.set("label-stroke-width",a.getWidth())}this.set("label-font",e.getText().getFont()||jt.DEFAULT_TEXT.font),this.set("label-textAlign",e.getText().getTextAlign()||jt.DEFAULT_TEXT.textAlign)}}},Ct.a.prototype.setPropertyMarker=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getImage();if(t)if(t instanceof St.a){var o=t.getColor();if(Array.isArray(o)){var n="rgba(";n+=o[0]+",",n+=o[1]+",",n+=o[2]+",",o=n+=o[3]+")"}if(o){var i=yt.rgbaToHex(o);this.set("marker-color",i.hex)}var r=t.getScale();switch(Math.round(2*r)/2){case 0:case.5:this.set("marker-size","small");break;case 1:this.set("marker-size","medium");break;case 1.5:case 2:this.set("marker-size","large")}var a=t.getSrc();a&&this.set("marker-symbol",a),this.unset("circle-fill"),this.unset("circle-fill-opacity"),this.unset("circle-stroke"),this.unset("circle-stroke-width"),this.unset("circle-stroke-opacity"),this.unset("circle-radius")}else{var s=t.getFill();if(s){var l=s.getColor();if(Array.isArray(l)){var c="rgba(";c+=l[0]+",",c+=l[1]+",",c+=l[2]+",",l=c+=l[3]+")"}if(yt.isRGB(l)){var u=yt.rgbaToHex(l);this.set("circle-fill",u.hex),this.set("circle-fill-opacity",u.opacity)}else this.set("circle-fill",l),this.set("circle-fill-opacity",1)}var d=t.getStroke();if(d){var p=d.getColor();if(Array.isArray(p)){var h="rgba(";h+=p[0]+",",h+=p[1]+",",h+=p[2]+",",p=h+=p[3]+")"}if(yt.isRGB(p)){var g=yt.rgbaToHex(p);this.set("circle-stroke",g.hex),this.set("circle-stroke-opacity",g.opacity)}else this.set("circle-stroke",p),this.set("circle-stroke-opacity",1);this.set("circle-stroke-width",d.getWidth())}var m=t.getRadius();this.set("circle-radius",m)}}};var jt={APPLY_CONVERT_GEOM_GPX:!0,DEFAULT_ICON:{src:At.lightOrange,anchor:[.5,1],scale:1},DEFAULT_CIRCLE:{radius:10,fill:{opacity:1,color:[0,0,0,1]},stroke:{width:1,opacity:1,color:[0,0,0,1]}},DEFAULT_STROKE:{width:5,opacity:1,color:[250,250,250,1]},DEFAULT_FILL:{opacity:1,color:[0,0,0,1]},DEFAULT_TEXT:{font:"16px sans",textAlign:"left",stroke:{color:[250,250,250,1],width:5,opactity:1},fill:{opacity:1,color:[0,0,0,1]}},getListTags:function(){return["type","fill","fill-opacity","stroke","stroke-opacity","stroke-width","circle-fill","circle-fill-opacity","circle-stroke","circle-stroke-opacity","circle-stroke-width","circle-radius","marker-symbol","marker-color","marker-size","label-fill","label-fill-opacity","label-stroke","label-stroke-width","label-stroke-opacity","label-font","label-textAlign"]},defineStyleFromProperties:function(e){var t=null,o={},n=null;if(e.get("marker-color")||e.get("marker-size")||e.get("marker-symbol")){(n={}).src=this.DEFAULT_ICON.src,n.anchor=this.DEFAULT_ICON.anchor;var i=e.get("marker-symbol");i&&-1!==i.search("data:image/png;base64")&&(n.src=i);var r=e.get("marker-color");yt.isHex(r)&&(n.color=yt.hexToRgba(r,1));var a=e.get("marker-size");if(a)switch(a){case"small":n.scale=.5;break;case"medium":n.scale=1;break;case"large":n.scale=1.5;break;default:n.scale=this.DEFAULT_ICON.scale}}var s=null;(e.get("stroke")||e.get("stroke-opacity")||e.get("stroke-width"))&&((s={}).color=yt.hexToRgba(e.get("stroke"),+e.get("stroke-opacity")||this.DEFAULT_STROKE.opacity),s.width=+e.get("stroke-width")||this.DEFAULT_STROKE.width);var l=null;(e.get("fill")||e.get("fill-opacity"))&&((l={}).color=yt.hexToRgba(e.get("fill"),+e.get("fill-opacity")||this.DEFAULT_FILL.opacity));var c=null,u=null,d=""!==e.get("name");d&&((e.get("label-fill")||e.get("label-fill-opacity"))&&((u={}).color=yt.hexToRgba(e.get("label-fill"),+e.get("label-fill-opacity")||this.DEFAULT_TEXT.fill.opacity)),(e.get("label-stroke")||e.get("label-stroke-opacity")||e.get("label-stroke-width"))&&((c={}).color=yt.hexToRgba(e.get("label-stroke"),+e.get("label-stroke-opacity")||this.DEFAULT_TEXT.stroke.opacity),c.width=+e.get("label-stroke-width")||this.DEFAULT_TEXT.stroke.width));var p=e.get("circle-radius")||this.DEFAULT_CIRCLE.radius,h=null;(e.get("circle-stroke")||e.get("circle-stroke-opacity")||e.get("circle-stroke-width"))&&((h={}).color=yt.hexToRgba(e.get("circle-stroke"),+e.get("circle-stroke-opacity")||this.DEFAULT_CIRCLE.stroke.opacity),h.width=+e.get("circle-stroke-width")||this.DEFAULT_CIRCLE.stroke.width);var g=null;(e.get("circle-fill")||e.get("circle-fill-opacity"))&&((g={}).color=yt.hexToRgba(e.get("circle-fill"),+e.get("circle-fill-opacity")||this.DEFAULT_CIRCLE.fill.opacity));var m=e.getGeometry().getType();switch(m){case"Circle":case"Point":case"MultiPoint":var f=!1,y={};if(h&&(y.stroke=new kt.a(h)),g&&(y.fill=new xt.a(g)),0!==Object.keys(y).length&&(f=!0,y.radius=+p,o.image=new Et.a(y)),n&&(o.image=new St.a(n)),d){var A={};if(c&&(A.stroke=new kt.a(c)),u&&(A.fill=new xt.a(u)),0!==Object.keys(A).length)A.text=e.get("name"),A.textAlign=e.get("label-textAlign")||this.DEFAULT_TEXT.textAlign,A.font=e.get("label-font")||this.DEFAULT_TEXT.font,o.text=new Rt.a(Object.assign({},this.DEFAULT_TEXT,A));else if(n||f){var v=new Rt.a(Object.assign({},this.DEFAULT_TEXT,{fill:new xt.a(this.DEFAULT_TEXT.fill),stroke:new kt.a(this.DEFAULT_TEXT.stroke)}));if(v){var C=v.clone();C.setText(e.get("name")),o.text=C}}}break;case"Polygon":case"MultiPolygon":s&&(o.stroke=new kt.a(s)),l&&(o.fill=new xt.a(l));break;case"LineString":case"MultiLineString":if(s&&(o.stroke=new kt.a(s)),this.APPLY_CONVERT_GEOM_GPX&&l){var I=e.get("type");if(I&&("Polygon"===I||"MultiPolygon"===I)){o.fill=new xt.a(l);var b=e.clone(),w="LineString"===m?Ot.a:Dt.a;e.setGeometry(new w([b.getGeometry().getCoordinates()]))}}}return 0!==Object.keys(o).length&&(t=new bt.a(o)),t},defineStyleFunctionByDefault:function(e){if(!e)return[];if(0===Object.keys(e).length)return[];return function(t,o){var n=null;switch(t.getGeometry().getType()){case"Point":case"MultiPoint":var i={};if(e.getImage()&&(i.image=e.getImage()),e.getText()&&t.get("name")){var r=e.getText().clone();r.setText(t.get("name")),i.text=r}n=new bt.a(i);break;case"Circle":var a={},s={};if(e.getFill()&&(s.fill=e.getFill()),e.getStroke()&&(s.stroke=e.getStroke()),e.getText()&&t.get("name")){var l=e.getText().clone();l.setText(t.get("name")),a.text=l}0!==Object.keys(s).length&&(s.radius=3,a.image=new Et.a(s)),n=new bt.a(a);break;case"Polygon":case"MultiPolygon":var c={};e.getFill()&&(c.fill=e.getFill()),e.getStroke()&&(c.stroke=e.getStroke()),n=new bt.a(c);break;case"LineString":case"LinearRing":case"MultiLineString":var u={};e.getStroke()&&(u.stroke=e.getStroke()),n=new bt.a(u)}return[n]}},definePropertiesFromStyleByType:function(e){switch(e.getGeometry().getType()){case"Point":case"MultiPoint":e.setPropertyMarker(),e.setPropertyLabel();break;case"LineString":case"MultiLineString":e.setPropertyStroke();break;case"Polygon":case"MultiPolygon":e.setPropertyStroke(),e.setPropertyFill()}},definePropertiesFromStyle:function(e){var t=e.getStyle()||e.getStyleFunction();if(t){if("function"==typeof t){var o=t.call(this,e,0);if(!o||0===o.length)return;t=Array.isArray(o)?o[0]:o,e.setStyle(t)}this.definePropertiesFromStyleByType(e)}},defineTagFromStyle:function(e,t){return Nt.trace("todo..."),null}},Ut=jt;function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ft=lt.getLogger("parser"),zt={parse:function(e){var t=null,n="undefined"!=typeof window?window:null;"object"===("undefined"==typeof exports?"undefined":Bt(exports))&&null===window?t=(new(0,o(62).DOMParser)).parseFromString(e,"text/xml"):n.DOMParser?t=(new n.DOMParser).parseFromString(e,"text/xml"):n.ActiveXObject?((t=new n.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e)):Ft.log("Incompatible environment for DOM Parser !");var i=t.querySelector("parsererror");return i?(console.error(i),null):(Ft.trace(t),t)},toString:function(e){var t=(new XMLSerializer).serializeToString(e);return Ft.trace(t),t},format:function(e){for(var t="",o=(e=e.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),n=0,i="other",r={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},a=0;a<o.length;a++){var s=o[a],l=Boolean(s.match(/<.+\/>/)),c=Boolean(s.match(/<\/.+>/)),u=Boolean(s.match(/<[^!].*>/)),d=l?"single":c?"closing":u?"opening":"other",p=i+"->"+d;i=d;var h="";n+=r[p];for(var g=0;g<n;g++)h+="\t";"opening->closing"===p?t=t.substr(0,t.length-1)+s+"\n":t+=h+s+"\n"}return Ft.trace(t),t}};function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qt={detectSupport:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},assign:function(e,t){for(var o in e=e||{},t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},mergeParams:function(e,t,o){if(e&&t)for(var n in void 0===o&&(o=!0),t)t.hasOwnProperty(n)&&("object"===Vt(t[n])?e.hasOwnProperty(n)?this.mergeParams(e[n],t[n],o):e[n]=t[n]:e.hasOwnProperty(n)?o&&(e[n]=t[n]):e[n]=t[n])}},Wt=lt.getLogger("extended KML format"),Ht=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");o=o||{},this.source=null,this.extensions=o.extensions||null,o.defaultStyle&&!Array.isArray(o.defaultStyle)&&(o.defaultStyle=[o.defaultStyle]),null!==o.defaultStyle&&void 0!==o.defaultStyle||(o.defaultStyle=[]),e.call(this,o)}function o(e,t,o){for(var n="#document"===e.nodeName?e.childNodes[0].childNodes:e.childNodes,i=n,r=0;r<n.length;r++){var a=n[r];if("Document"===a.nodeName){i=a.childNodes;break}if("Placemark"===a.nodeName){i=[a];break}}for(var s={},l=-1,c=0;c<i.length;c++){var u=i[c];switch(u.nodeName){case"Style":var d=u.attributes[0];if(d&&"id"===d.nodeName){var p=u;s[d.nodeValue]=p}break;case"Placemark":l++;for(var h=u.childNodes,g=!1,m=!1,f=!1,y=null,A=null,v=null,C=u,I=0;I<h.length;I++)switch(h[I].nodeName){case"Polygon":f=!0;break;case"LineString":m=!0;break;case"Point":g=!0;break;case"Style":A=h[I],y=h[I].childNodes;break;case"styleUrl":var b=h[I].textContent.slice(1);s[b]&&(y=s[b].childNodes);break;case"ExtendedData":v=h[I].childNodes;break;case"name":C=null}if(v){Wt.log("ExtendedData :",v);var w=o.extendedData;w&&"function"==typeof w&&w(t[l],v)}if(C){Wt.log("Name :",C);var E=o.nameData;E&&"function"==typeof E&&E(t[l],C)}if(g&&y&&0!==y.length){for(var _=null,S=null,M=0;M<y.length;M++)switch(y[M].nodeName){case"LabelStyle":_=y[M];break;case"IconStyle":S=y[M]}var x=t[l].getProperties().name,P=t[l].getProperties().description,k=x||P;if(Wt.trace(k),!S&&_){var G=o.labelStyle;G&&"function"==typeof G&&G(t[l],_)}else if(S&&!_){var R=o.iconStyle;R&&"function"==typeof R&&R(t[l],S)}else if(S&&_){var T=o.iconLabelStyle;T&&"function"==typeof T&&T(t[l],S,_)}}else{var O=t[l],L=O.getStyle();if(L&&"function"==typeof L){var D=L.call(this,O,0);D&&0!==D.length&&(L=D[0])}if(f){var N=o.polygonStyle;N&&"function"==typeof N&&N(t[l],y)}if(m){var j=o.lineStringStyle;j&&"function"==typeof j&&j(t[l],y)}if(g&&L){var U=L.getImage();if(U&&U instanceof ft.Circle){var B=o.circleStyle;B&&"function"==typeof B&&B(t[l],A)}else if(U&&U instanceof ft.Icon){var F=o.pointStyle;F&&"function"==typeof F&&F(t[l],A)}}}break;default:Wt.trace("tag is not processing !")}}}function n(e,t,n){function i(e,t){var o=e.toString(16);"#"===o.charAt(0)&&(o=o.slice(1)),t=t||1;var n=t=(t=parseInt(255*t,10)).toString(16);return n+=o.substr(4,2),n+=o.substr(2,2),(n+=o.substr(0,2)).toLowerCase()}var r=function(t,o){if(Wt.trace("label with style :",o),t&&t.getStyle()instanceof ft.Style){var n=t.getStyle().getText();if(!n)return;var r="Sans",a="16px",s=n.getFont();if(s){var l=s.split(" ",2);a=l[0],r=l[1]}var c=t.getStyle().getText().getStroke();if(!c)return;if(c instanceof ft.Stroke){var u=i("#FFFFFF"),d=c.getColor();if(Array.isArray(d)){var p="rgba(";p+=d[0]+",",p+=d[1]+",",p+=d[2]+",",d=p+=d[3]+")"}if(yt.isRGB(d)){var h=yt.rgbaToHex(d);u=i(h.hex,h.opacity)}else u=i(d);var g=c.getWidth()||"0";if(o&&0===o.getElementsByTagName("LabelStyleSimpleExtensionGroup").length){var m=document.createElementNS(e.namespaceURI,"LabelStyleSimpleExtensionGroup");m.setAttribute("fontSize",a),m.setAttribute("fontFamily",r),m.setAttribute("haloColor",u),m.setAttribute("haloRadius",g),m.setAttribute("haloOpacity","1"),o.appendChild(m)}}var f=t.getStyle().getImage();if(!f)return;if(f instanceof ft.Circle){var y=null,A=null;if(f.getStroke()){if(A=f.getStroke().getWidth(),y=f.getStroke().getColor(),Array.isArray(y)){var v="rgba(";v+=y[0]+",",v+=y[1]+",",v+=y[2]+",",y=v+=y[3]+")"}if(yt.isRGB(y)){var C=yt.rgbaToHex(y);y=i(C.hex,C.opacity)}else y=i(y)}var I=null;if(f.getFill()){if(I=f.getFill().getColor(),Array.isArray(I)){var b="rgba(";b+=I[0]+",",b+=I[1]+",",b+=I[2]+",",I=b+=I[3]+")"}if(yt.isRGB(I)){var w=yt.rgbaToHex(I);I=i(w.hex,w.opacity)}else I=i(I)}if(o&&0===o.getElementsByTagName("ObjectSimpleExtensionGroup").length){var E=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");E.setAttribute("type","circle"),E.setAttribute("radius",f.getRadius()),E.setAttribute("fillColor",I),E.setAttribute("strokeColor",y),E.setAttribute("strokeWidth",A),o.appendChild(E)}}}},a=function(t,o){if(Wt.trace("marker with style (hotspot):",o),t&&t.getStyle()instanceof ft.Style){var n=t.getStyle().getImage();if(!n)return;if(n instanceof ft.Icon){var i=0,r=0,a=n.getSize(),s=n.getAnchor();if(s.length&&(i=s[0],r=(r=s[1])===a[1]?0:a[1]-r),o&&0===o.getElementsByTagName("hotSpot").length){var l=document.createElementNS(e.namespaceURI,"hotSpot");l.setAttribute("x",i),l.setAttribute("y",r),l.setAttribute("xunits","pixels"),l.setAttribute("yunits","pixels"),o.appendChild(l)}}}};o.call(this,e,t,{labelStyle:r,iconStyle:a,iconLabelStyle:function(e,t,o){Wt.trace("write an icon with a label"),a(e,t),r(e,o)},circleStyle:function(t,o){if(t&&t.getStyle()instanceof ft.Style){var n=t.getStyle().getImage();if(!n)return;if(n instanceof ft.Circle){var r=null,a=null;if(n.getStroke()){if(a=n.getStroke().getWidth(),r=n.getStroke().getColor(),Array.isArray(r)){var s="rgba(";s+=r[0]+",",s+=r[1]+",",s+=r[2]+",",r=s+=r[3]+")"}if(yt.isRGB(r)){var l=yt.rgbaToHex(r);r=i(l.hex,l.opacity)}else r=i(r)}var c=null;if(n.getFill()){if(c=n.getFill().getColor(),Array.isArray(c)){var u="rgba(";u+=c[0]+",",u+=c[1]+",",u+=c[2]+",",c=u+=c[3]+")"}if(yt.isRGB(c)){var d=yt.rgbaToHex(c);c=i(d.hex,d.opacity)}else c=i(c)}if(o&&0===o.getElementsByTagName("ObjectSimpleExtensionGroup").length){var p=document.createElementNS(e.namespaceURI,"LabelStyle"),h=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");h.setAttribute("type","circle"),h.setAttribute("radius",n.getRadius()),h.setAttribute("fillColor",c),h.setAttribute("strokeColor",r),h.setAttribute("strokeWidth",a),p.appendChild(h),o.appendChild(p)}}}},pointStyle:function(e,t){},nameData:function(e,t){for(var o=0;o<t.length;o++){if("name"===t[o].nodeName)return}var n=e.getProperties().name;if(n){var i=document.createElement("name");i.innerHTML=n,t.appendChild(i)}},extendedData:function(e,t){if(t&&t.length){for(var o=[],n=0;n<t.length;n++){var i=t[n];if("Data"===i.nodeName){var r=i.getAttribute("name");Ut.getListTags().includes(r)&&o.push(i)}}o&&o.length&&o.forEach((function(e){e.remove()}))}}});var s=zt.toString(e);return s||null}function i(t,n){var i,r=e.prototype.readFeatures.call(this,t,n),a="";if(a=(a=(a="string"==typeof t?t:t.documentElement.outerHTML).replace(/\n/g,"")).replace(/(>)\s*(<)/g,"$1$2"),null===(i=zt.parse(a)))return r;function s(e){var t="";t+=e.substr(6,2),t+=e.substr(4,2),t+=e.substr(2,2);for(var o=parseInt(t,16).toString(16),n="",i=o.length||0,r=0;r<6-i;r++)n+="0";return o="#"+n+o}var l=function(e,t){if(Wt.trace("label with style :",t),e){for(var o=e.getProperties().name,n=s("ff000000"),i="#FFFFFF",r=0,a="Sans",l="16px",c=null,u=5,d="#000000",p="#ffffff",h=1,g=!1,m=!1,f=t.childNodes,y=0;y<f.length;y++)switch(f[y].nodeName){case"scale":case"colorMode":break;case"color":n=s(f[y].textContent);break;case"LabelStyleSimpleExtensionGroup":g=!0;for(var A=f[y].attributes,v=0;v<A.length;v++)switch(A[v].nodeName){case"fontFamily":a=A[v].nodeValue;break;case"fontSize":l=A[v].nodeValue;break;case"haloColor":i=s(A[v].nodeValue);break;case"haloRadius":r=parseInt(A[v].nodeValue,10);break;case"haloOpacity":parseFloat(A[v].nodeValue)}break;case"ObjectSimpleExtensionGroup":m=!0;for(var C=f[y].attributes,I=0;I<C.length;I++)switch(C[I].nodeName){case"type":c=C[I].nodeValue;break;case"radius":u=parseInt(C[I].nodeValue,10);break;case"fillColor":var b=C[I].nodeValue,w=Math.round(yt.num(b.substr(0,2))/255*10)/10,E=s(b);d=yt.hexToRgba(E,w);break;case"strokeColor":var _=C[I].nodeValue,S=Math.round(yt.num(_.substr(0,2))/255*10)/10,M=s(_);p=yt.hexToRgba(M,S);break;case"strokeWidth":h=parseInt(C[I].nodeValue,10)}}var x=null;m&&"circle"===c?x=new ft.Circle({radius:u,fill:new ft.Fill({color:d}),stroke:new ft.Stroke({color:p,width:h})}):g&&(x=new ft.Icon({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",size:[51,38],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"})),e.setStyle(new ft.Style({image:x,text:new ft.Text({font:l+" "+a,textAlign:"left",text:o,fill:new ft.Fill({color:n}),stroke:new ft.Stroke({color:i,width:r})})}))}},c=function(e,t){Wt.trace("hotspot :",t);for(var o=null,n=null,i=s("ffffffff"),r=!1,a=51,l=38,c=!1,u=25.5,d="pixels",p=38,h="pixels",g=t.childNodes,m=!1,f=0;f<g.length;f++)switch(g[f].nodeName){case"Icon":m=!0;for(var y=g[f].childNodes,A=0;A<y.length;A++)switch(y[A].nodeName){case"href":o=y[A].textContent;break;case"gx:w":r=!0,a=parseFloat(y[A].textContent);break;case"gx:h":r=!0,l=parseFloat(y[A].textContent)}break;case"hotSpot":c=!0;for(var v=g[f].attributes,C=0;C<v.length;C++)switch(v[C].nodeName){case"x":u=parseFloat(v[C].nodeValue);break;case"y":p=parseFloat(v[C].nodeValue);break;case"yunits":d=v[C].nodeValue;break;case"xunits":h=v[C].nodeValue}break;case"scale":n=parseFloat(g[f].textContent);break;case"color":i=s(g[f].textContent)}var I=null;if(m){var b={src:o||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",color:i,crossOrigin:"anonymous",scale:n||1};r&&qt.mergeParams(b,{size:[a,l]}),c&&qt.mergeParams(b,{anchor:[u,p],anchorOrigin:"bottom-left",anchorXUnits:d||"pixels",anchorYUnits:h||"pixels"}),I=new ft.Icon(b)}var w=e.getStyleFunction();if(w){var E=w(e,0);if(E&&!Array.isArray(E)&&(E=[E]),E&&0!==E.length){var _=1===E.length?E[0]:E[E.length-1];e.setStyle(new ft.Style({image:I,text:_.getText()}))}}},u=function(e,t){};return o.call(this,i,r,{lineStringStyle:u,polygonStyle:u,pointStyle:u,labelStyle:this.showPointNames_?l:null,iconStyle:c,iconLabelStyle:this.showPointNames_?function(e,t,o){Wt.trace("display icon and label"),l(e,o),c(e,t)}:c,extendedData:function(e,t){if(Wt.trace("extendData :",t),e){for(var o={},n=e.get("name")||"",i=e.get("description")||"",r=null,a=0;a<t.length;a++){var s=t[a],l=s.attributes[0],c=s.childNodes;if("name"===l.nodeName)switch(l.nodeValue){case"label":n=s.textContent,o.name=n;break;case"title":case"attributetitle":for(var u=0;u<c.length;u++)"value"===c[u].nodeName&&(r=c[u].textContent);break;default:o[l.nodeValue]=s.textContent}}r&&(i=i?r+" : "+i:r,o.description=i),Object.keys(o).length&&e.setProperties(o,!0)}}}),r}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.writeFeatures=function(t,o){Wt.log("overload : ol.format.KML.writeFeatures");var i=e.prototype.writeFeaturesNode.call(this,t,o);if(null===i)return null;this.hasOwnProperty("extensions")&&function(e,t){var o=document.createElementNS(e.namespaceURI,"ExtendedData");for(var n in t)if(Object.hasOwnProperty.call(t,n)){var i=t[n],r=document.createElementNS(e.namespaceURI,"Data");r.setAttribute("name",n);var a=document.createTextNode(JSON.stringify(i));r.appendChild(a),o.appendChild(r)}var s=e.firstChild;e.insertBefore(o,s)}(i,this.extensions);var r=n.call(this,i,t,o),a=zt.format(r);return""===a?null:a},t.prototype.readFeatures=function(e,t){Wt.log("overload : ol.format.KML.readFeatures"),"string"==typeof e?this.source=zt.parse(e):null!==e&&(this.source=e);var o=i.call(this,e,t);return Wt.trace("Styles étendus",o),o.forEach((function(e){Ut.definePropertiesFromStyle(e)})),o},t.prototype.readRootExtensions=function(e){for(var t={},o=("#document"===this.source.nodeName?this.source.childNodes[0]:this.source).childNodes,n=0;n<o.length;n++){var i=o[n];if("ExtendedData"===i.nodeName)for(var r=i.childNodes,a=0;a<r.length;a++){var s=r[a];if("Data"===s.nodeName){var l=s.attributes[0];if(l&&"name"===l.nodeName&&l.nodeValue===e){t=JSON.parse(s.textContent);break}}}}return t},t}(mt.a),Yt=Ht;window.ol&&window.ol.format&&(window.ol.format.KMLExtended=Ht);var Jt=o(68),Zt=o.n(Jt),Kt=o(69),Xt=o.n(Kt),Qt=o(70),$t=o.n(Qt),eo=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(this.options=o||{},this.options.readExtensions&&"function"==typeof this.options.readExtensions){var n=this.options.readExtensions;this.options.readExtensions=function(e,t){this.readExtensions(e,t),n.call(this,e,t)}}else this.options.readExtensions=this.readExtensions;null!==this.options.defaultStyle&&void 0!==this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,e.call(this,this.options)}function o(e,t){var o=document.createElementNS(t.parentNode.namespaceURI,"extensions");Ut.getListTags().forEach((function(n){if(e.get(n)){var i=document.createElementNS(t.parentNode.namespaceURI,n);i.innerHTML=e.get(n),o.appendChild(i)}})),t.appendChild(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.readFeatures=function(t,o){var n=e.prototype.readFeatures.call(this,t,o);"string"==typeof t?this.source=zt.parse(t):null!==t&&(this.source=t);var i=this;return n.forEach((function(e,t,o){e.setId(t+1);var n=e.getProperties().desc;if(n&&e.setProperties({description:n}),!e.getStyleFunction()){var r=Ut.defineStyleFunctionByDefault(i.options.defaultStyle);r&&e.setStyle(r)}})),n},t.prototype.writeFeatures=function(t,n){if(t.forEach((function(e,o,n){var i=e.getProperties().description;i&&e.setProperties({desc:i}),Ut.definePropertiesFromStyle(e);var r=e.getGeometry().getType();if("Polygon"===r){var a=e.clone();a.set("type",r),a.setGeometry(new $t.a(e.getGeometry().getCoordinates())),t.push(a),n.splice(o,1)}else if("MultiPolygon"===r){var s=e.clone();s.set("type",r),s.setGeometry(new Xt.a(e.getGeometry().getCoordinates())),t.push(s),n.splice(o,1)}})),void 0!==this.options.orderBy){var i=this.options.orderBy;if(i){t.sort((function(e,t){var o=e.get(i)||0,n=t.get(i)||0;return o.toString().localeCompare(n.toString(),void 0,{numeric:!0})}))}}var r=e.prototype.writeFeaturesNode.call(this,t,n);if(null===r)return null;this.options.hasOwnProperty("extensions")&&function(e,t,o){var n=document.createElement("metadata"),i=document.createElement("extensions");if(o)!function e(t,o){for(var n in o)if(Object.hasOwnProperty.call(o,n)){var i=o[n]||"",r=document.createElement(n);if("string"==typeof i||"number"==typeof i)r.innerHTML=i,t.appendChild(r);else if(i instanceof Array){r.setAttribute("type","array"),r.setAttribute("index",i.length);for(var a=0;a<i.length;a++){var s=i[a]||"",l=document.createElement("value");if("string"==typeof s||"number"==typeof s)l.innerHTML=s,r.appendChild(l);else if(s instanceof Array){l.setAttribute("type","array"),l.setAttribute("index",s.length);for(var c=0;c<s.length;c++){var u=s[c]||"",d=document.createElement("value");"string"!=typeof u&&"number"!=typeof u||(d.innerHTML=u,l.appendChild(d))}r.appendChild(l)}else s instanceof Object&&r.appendChild(e(l,s))}t.appendChild(r)}else i instanceof Object&&t.appendChild(e(r,i))}return t}(i,t);else for(var r in t)if(Object.hasOwnProperty.call(t,r)){var a=t[r],s=document.createElement("data");s.setAttribute("name",r);var l=document.createTextNode(JSON.stringify(a));s.appendChild(l),i.appendChild(s)}n.appendChild(i);var c=e.firstChild;e.insertBefore(n,c)}(r,this.options.extensions),function(e,t,o){for(var n=-1,i=e.childNodes,r=0;r<i.length;r++){var a=i[r];switch(a.nodeName){case"wpt":case"rte":case"trk":n++;var s=t[n];if(s.getStyle()){var l=o.extensions;l&&"function"==typeof l&&l(s,a)}break;case"metadata":break;default:console.warn("nodename unknown :",a.nodeName)}}}(r,t,{extensions:o});var a=zt.toString(r);if(!a)return null;var s=zt.format(a);return""===s?null:s},t.prototype.readExtensions=function(e,t){var o=t;if(!t){var n=e.getProperties();for(var i in n)if(Object.hasOwnProperty.call(n,i)){var r=n[i];if(r instanceof Node){o=r;break}}}if(o){for(var a=0;a<o.childNodes.length;a++){var s=o.childNodes[a];1===s.nodeType&&e.set(s.nodeName,s.textContent)}Ut.APPLY_CONVERT_GEOM_GPX=!0;var l=Ut.defineStyleFromProperties(e);l&&e.setStyle(l)}else console.warn("node not found !")},t.prototype.readRootExtensions=function(e){for(var t={},o=this.source.childNodes[0].childNodes,n=0;n<o.length;n++){var i=o[n];if("metadata"===i.nodeName)for(var r=i.childNodes,a=0;a<r.length;a++){var s=r[a];if("extensions"===s.nodeName)for(var l=s.childNodes,c=0;c<l.length;c++){var u=l[c];if("data"===u.nodeName){var d=u.attributes[0];if(d&&"name"===d.nodeName&&d.nodeValue===e){t=JSON.parse(u.textContent);break}}}}}return t},t}(Zt.a),to=eo;window.ol&&window.ol.format&&(window.ol.format.GPXExtended=eo);var oo=o(36),no=o.n(oo),io=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.options=o||{},null!==this.options.defaultStyle&&void 0!==this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,e.call(this,this.options)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.readFeatures=function(t,o){var n=this,i=e.prototype.readFeatures.call(this,t,o);return"string"==typeof t?this.source=JSON.parse(t):null!==t&&(this.source=t),i.forEach((function(e){var t=e.getStyleFunction();if(t){var o=t.call(n,e,0);o&&0!==o.length&&e.setStyle(o[0])}else{var i=Ut.defineStyleFromProperties(e);if(i)e.setStyle(i);else{var r=Ut.defineStyleFunctionByDefault(n.options.defaultStyle);r&&(e.setStyle(r),Ut.definePropertiesFromStyle(e))}}})),i},t.prototype.writeFeatures=function(t,o){t.forEach((function(e){Ut.definePropertiesFromStyle(e)}));var n=e.prototype.writeFeaturesObject.call(this,t,o);return this.options.hasOwnProperty("extensions")&&Object.assign(n,this.options.extensions),JSON.stringify(n)},t.prototype.readRootExtensions=function(e){return this.source[e]},t}(no.a),ro=io;window.ol&&window.ol.format&&(window.ol.format.GeoJSONExtended=io);var ao=o(22),so=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");e.call(this,o)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.getFeatureInfoUrl=function(e,t,o,n){var i=this.options&&this.options.tilePixelRatio?this.options.tilePixelRatio:1,r=this.tileGrid,a=this.tileGrid.getTileCoordForCoordAndResolution(e,t),s=r.getTileCoordExtent(a),l=function(e,t,o){var n=[0,0,0],i=Object(ao.createEmpty)(),r=e[1],a=e[2],s=t.getTileCoordExtent(e),l=o.getExtent();null!=l&&o.isGlobal()&&(r%=Math.ceil(Object(ao.getWidth)(l)/Object(ao.getWidth)(s)),n[0]=e[0],n[1]=r,n[2]=e[2],s=t.getTileCoordExtent(n,i));return Object(ao.intersects)(s,l)?[e[0],r,a]:null}(a,r,o);if(!(r.getResolutions().length<=a[0])){var c=r.getResolution(a[0]),u=r.getMatrixIds()[a[0]],d={SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetFeatureInfo",LAYER:this.getLayer(),TILECOL:l[1],TILEROW:l[2],TILEMATRIX:u,TILEMATRIXSET:this.getMatrixSet(),FORMAT:this.getFormat()||"image/png",STYLE:this.getStyle()||"normal"};qt.assign(d,n);var p=Math.floor((e[0]-s[0])/(c/i)),h=Math.floor((s[3]-e[1])/(c/i)),g=r.getTileSize(a[0]);p=Math.min(p,(g[0]|g)-1),h=Math.max(h,0),d.I=p,d.J=h;var m=this.urls[0];return st.Helper.normalyzeUrl(m,d)}},t}(g.a),lo=so;window.ol&&window.ol.source&&(window.ol.source.WMTSExtended=so);var co=o(37),uo=o.n(co),po={getZoomLevelFromScaleDenominator:function(e,t){var o={};switch(t){case"EPSG:2154":o={0:104579.224549894,1:52277.5323537905,2:26135.4870785954,3:13066.8913818,4:6533.2286041135,5:3266.5595244627,6:1633.2660045974,7:816.629554986,8:408.3139146768,9:204.1567415109,10:102.0783167832,11:51.0391448966,12:25.5195690743,13:12.7597836936,14:6.379891636,15:3.1899457653,16:1.5949728695,17:.7974864315,18:.3987432149,19:.1993716073,20:.0996858037,21:.0498429018};break;default:o={0:156543.033928041,1:78271.51696402048,2:39135.758482010235,3:19567.87924100512,4:9783.93962050256,5:4891.96981025128,6:2445.98490512564,7:1222.99245256282,8:611.49622628141,9:305.7481131407048,10:152.8740565703525,11:76.43702828517624,12:38.21851414258813,13:19.10925707129406,14:9.554628535647032,15:4.777314267823516,16:2.388657133911758,17:1.194328566955879,18:.5971642834779395,19:.2985821417389697,20:.1492910708694849,21:.0746455354347424}}var n=28e-5*e;for(var i in o)if(o.hasOwnProperty(i)&&o[i]<=n)return i=parseInt(i,10);return 0},getAttributions:function(e){var t=e.zoom,o=[];if(null!=e.originators&&e.visibility)for(var n,i=0,r=e.originators.length;i<r;i++){n=!0;for(var a=e.originators[i],s=e.originators[i].constraints||[],l=0,c=s.length;l<c;l++){var u=s[l];n=!0;var d=this.getZoomLevelFromScaleDenominator(u.maxScaleDenominator,e.crs),p=this.getZoomLevelFromScaleDenominator(u.minScaleDenominator,e.crs)||21;d&&d>t&&(n=!1),n&&p&&p<t&&(n=!1);var h=u.bbox;if(n&&h){n=!1;var g=e.extent;if(g){var m=[h.top,h.left,h.bottom,h.right];if(this.intersects(g,m)){n=!0;break}}}}if(n){var f=a.logo,y=a.url,A=a.name?a.name:"",v=a.attribution,C=document.createElement("div");C.className="gp-control-attribution";var I=null;(I=document.createElement("a")).className="gp-control-attribution-link",I.target="_blank",C.appendChild(I),y&&(I.href=y);var b=null;!!f?(b=document.createElement("img"),I?(b.className="gp-control-attribution-image",I.appendChild(b)):(b.className="",C.appendChild(b)),b.src=f,b.title=v||A,b.style.height="30px",b.style.width="30px"):I.textContent=A||(v||(y||"")),o.push(C.innerHTML+" ")}}return o},intersects:function(e,t){var o=e[1]<=t[3]&&t[1]<=e[3],n=e[2]<=t[0]&&t[2]<=e[0];return o&&n}},ho=o(7),go=lt.getLogger("sourcewmts"),mo=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ho.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n=ho.a.configuration.getLayerId(o.layer,"WMTS");if(!n||!ho.a.configuration.getLayerConf(n))return go.log("[source WMTS] ERROR : "+o.layer+" cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key."),new e({});var r=ho.a.configuration.getLayerParams(o.layer,"WMTS"),a=!1===o.ssl?"http://":"https://";this._originators=r.originators;var s={"gp-ol-ext":i.olExtVersion||i.version};r.url.includes("/private/")&&(s.apikey=o.apiKey||ho.a.configuration.getLayerKey(n)[0]);var l={url:st.Helper.normalyzeUrl(r.url.replace(/(http|https):\/\//,a),s,!1),version:r.version,style:r.styles,format:r.format,projection:r.projection,maxZoom:po.getZoomLevelFromScaleDenominator(r.minScale),layer:o.layer,matrixSet:r.TMSLink,tileGrid:new uo.a({resolutions:r.nativeResolutions,matrixIds:r.matrixIds,origin:[r.tileMatrices[0].topLeftCorner.x,r.tileMatrices[0].topLeftCorner.y]})};qt.mergeParams(l,o.olParams),e.call(this,l),o.olParams&&!r.originators&&(r.originators=o.olParams.attributions),this._originators=r.originators,this._legends=o.legends||r.legends,this._metadata=o.metadata||r.metadata,this._description=o.description||r.description,this._title=o.title||r.title,this._quicklookUrl=o.quicklookUrl||r.quicklookUrl}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(lo),fo=mo;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMTS=mo);var yo=lt.getLogger("sourcewms"),Ao=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ho.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n=ho.a.configuration.getLayerId(o.layer,"WMS");if(!n||!ho.a.configuration.getLayerConf(n))return yo.log("[source WMS] ERROR : "+o.layer+" cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key."),new e({});var r=ho.a.configuration.getLayerParams(o.layer,"WMS"),a=!1===o.ssl?"http://":"https://",s={"gp-ol-ext":i.olExtVersion||i.version};r.url.includes("/private/")&&(s.apikey=o.apiKey||ho.a.configuration.getLayerKey(n)[0]);var l={url:st.Helper.normalyzeUrl(r.url.replace(/(http|https):\/\//,a),s,!1),params:{SERVICE:"WMS",LAYERS:o.layer,VERSION:r.version,STYLES:r.styles,FORMAT:r.format}};qt.mergeParams(l,o.olParams),e.call(this,l),o.olParams&&!r.originators&&(r.originators=o.olParams.attributions),this._originators=r.originators,this._legends=o.legends||r.legends,this._metadata=o.metadata||r.metadata,this._title=o.title||r.title,this._description=o.description||r.description,this._quicklookUrl=o.quicklookUrl||r.quicklookUrl}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(p.a),vo=Ao;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMS=Ao);var Co=o(1),Io=o(21),bo=o.n(Io),wo=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ho.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n;o.olParams&&o.olParams.sourceParams&&(n=o.olParams.sourceParams);var i=new fo({layer:o.layer,ssl:o.ssl,apiKey:o.apiKey,olParams:n}),r={source:i};if(void 0!==i.getLayer()){var a,s=ho.a.configuration.getLayerId(o.layer,"WMTS"),l=ho.a.configuration.getGlobalConstraints(s);if(l&&l.projection)"string"==typeof l.projection&&(a=Object(Co.get)(l.projection)),a&&a.getUnits()&&("m"===a.getUnits()?(r.minResolution=28e-5*(l.minScale-1),r.maxResolution=28e-5*(l.maxScale+1)):"degrees"===a.getUnits()&&(r.minResolution=28e-5*(l.minScale-1)*180/(6378137*Math.PI),r.maxResolution=28e-5*(l.maxScale+1)*180/(6378137*Math.PI)))}qt.mergeParams(r,o.olParams),e.call(this,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(bo.a),Eo=wo;function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMTS=wo);var So=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ho.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n;o.olParams&&o.olParams.sourceParams&&(n=o.olParams.sourceParams);var i=new vo({layer:o.layer,ssl:o.ssl,apiKey:o.apiKey,olParams:n}),r={source:i};if(void 0!==i.getParams().LAYERS){var a=ho.a.configuration.getLayerId(o.layer,"WMS"),s=ho.a.configuration.getGlobalConstraints(a);if(n&&n.projection){var l,c=[s.extent.left,s.extent.bottom,s.extent.right,s.extent.top];r.extent=Object(Co.transformExtent)(c,"EPSG:4326",n.projection),"string"==typeof n.projection?l=Object(Co.get)(n.projection):"object"===_o(n.projection)&&n.projection.getCode()&&(l=Object(Co.get)(n.projection.getCode())),l&&l.getUnits()&&("m"===l.getUnits()?(r.minResolution=28e-5*(s.minScale-1),r.maxResolution=28e-5*(s.maxScale+1)):"degrees"===l.getUnits()&&(r.minResolution=28e-5*(s.minScale-1)*180/(6378137*Math.PI),r.maxResolution=28e-5*(s.maxScale+1)*180/(6378137*Math.PI)))}}qt.mergeParams(r,o.olParams),e.call(this,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(bo.a),Mo=So;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMS=So);var xo=o(23),Po=o.n(xo),ko=o(25),Go=o.n(ko),Ro=o(26),To=o.n(Ro),Oo=o(2),Lo=(o(39),o(40),o(5)),Do=o.n(Lo),No=(o(71),"Point"),jo="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"";jo.indexOf("firefox"),-1!==jo.indexOf("safari")&&jo.indexOf("chrom"),-1!==jo.indexOf("webkit")&&jo.indexOf("edge"),jo.indexOf("macintosh"),"undefined"!=typeof devicePixelRatio&&devicePixelRatio,"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&(self,WorkerGlobalScope),"undefined"!=typeof Image&&Image.prototype.decode,function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}}();var Uo,Bo=(Uo=function(e,t){return(Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}Uo(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});!function(e){function t(t){var o=this,n="Assertion failed. See https://openlayers.org/en/"+("v"+"6.9.0".split("-")[0])+"/doc/errors/#"+t+" for details.";return(o=e.call(this,n)||this).code=t,o.name="AssertionError",o.message=n,o}Bo(t,e)}(Error);new Array(6);function Fo(e,t,o,n,i,r,a,s){var l=Math.sin(r),c=Math.cos(r);return e[0]=n*c,e[1]=i*l,e[2]=-n*l,e[3]=i*c,e[4]=a*n*c-s*n*l+t,e[5]=a*i*l+s*i*c+o,e}function zo(e,t,o,n,i){return i?(i[0]=e,i[1]=t,i[2]=o,i[3]=n,i):[e,t,o,n]}function Vo(e){return zo(1/0,1/0,-1/0,-1/0,e)}function qo(e,t,o,n,i){return function(e,t,o,n,i){for(;o<n;o+=i)Wo(e,t[o],t[o+1]);return e}(Vo(i),e,t,o,n)}function Wo(e,t,o){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],o),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],o)}function Ho(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Yo(e){return e[3]-e[1]}function Jo(e,t){return e>t?1:e<t?-1:0}function Zo(e,t){for(var o=Array.isArray(t)?t:[t],n=o.length,i=0;i<n;i++)e[e.length]=o[i]}function Ko(e,t,o,n,i,r){for(var a=0,s=e[o-n],l=e[o-n+1];t<o;t+=n){var c=e[t],u=e[t+1];l<=r?u>r&&(c-s)*(r-l)-(i-s)*(u-l)>0&&a++:u<=r&&(c-s)*(r-l)-(i-s)*(u-l)<0&&a--,s=c,l=u}return 0!==a}function Xo(e,t,o,n,i,r){if(0===o.length)return!1;if(!Ko(e,t,o[0],n,i,r))return!1;for(var a=1,s=o.length;a<s;++a)if(Ko(e,o[a-1],o[a],n,i,r))return!1;return!0}function Qo(e,t,o,n,i,r,a){for(var s,l,c,u,d,p,h,g=i[r+1],m=[],f=0,y=o.length;f<y;++f){var A=o[f];for(u=e[A-n],p=e[A-n+1],s=t;s<A;s+=n)d=e[s],h=e[s+1],(g<=p&&h<=g||p<=g&&g<=h)&&(c=(g-p)/(h-p)*(d-u)+u,m.push(c)),u=d,p=h}var v=NaN,C=-1/0;for(m.sort(Jo),u=m[0],s=1,l=m.length;s<l;++s){d=m[s];var I=Math.abs(d-u);I>C&&Xo(e,t,o,n,c=(u+d)/2,g)&&(v=c,C=I),u=d}return isNaN(v)&&(v=i[r]),a?(a.push(v,g,C),a):[v,g,C]}var $o={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var en={};en[$o.RADIANS]=6370997/(2*Math.PI),en[$o.DEGREES]=2*Math.PI*6370997/360,en[$o.FEET]=.3048,en[$o.METERS]=1,en[$o.USFEET]=1200/3937;var tn=$o,on=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||en[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();var nn="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2};"log2"in Math&&Math.log2;function rn(e,t,o){return e+o*(t-e)}var an=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sn=6378137*Math.PI,ln=[-sn,-sn,sn,sn],cn=[-180,-85,180,85],un=6378137*Math.log(Math.tan(Math.PI/2)),dn=function(e){function t(t){return e.call(this,{code:t,units:tn.METERS,extent:ln,global:!0,worldExtent:cn,getPointResolution:function(e,t){return e/nn(t[1]/6378137)}})||this}return an(t,e),t}(on),pn=[new dn("EPSG:3857"),new dn("EPSG:102100"),new dn("EPSG:102113"),new dn("EPSG:900913"),new dn("http://www.opengis.net/def/crs/EPSG/0/3857"),new dn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function hn(e,t,o){var n=e.length,i=o>1?o:2,r=t;void 0===r&&(r=i>2?e.slice():new Array(n));for(var a=0;a<n;a+=i){r[a]=sn*e[a]/180;var s=6378137*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>un?s=un:s<-un&&(s=-un),r[a+1]=s}return r}function gn(e,t,o){var n=e.length,i=o>1?o:2,r=t;void 0===r&&(r=i>2?e.slice():new Array(n));for(var a=0;a<n;a+=i)r[a]=180*e[a]/sn,r[a+1]=360*Math.atan(Math.exp(e[a+1]/6378137))/Math.PI-90;return r}var mn=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fn=[-180,-90,180,90],yn=6378137*Math.PI/180,An=function(e){function t(t,o){return e.call(this,{code:t,units:tn.DEGREES,extent:fn,axisOrientation:o,global:!0,metersPerUnit:yn,worldExtent:fn})||this}return mn(t,e),t}(on),vn=[new An("CRS:84"),new An("EPSG:4326","neu"),new An("urn:ogc:def:crs:OGC:1.3:CRS84"),new An("urn:ogc:def:crs:OGC:2:84"),new An("http://www.opengis.net/def/crs/OGC/1.3/CRS84","neu"),new An("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new An("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Cn={};"function"==typeof Object.assign&&Object.assign;"function"==typeof Object.values&&Object.values;var In={};function bn(e,t,o){var n=e.getCode(),i=t.getCode();n in In||(In[n]={}),In[n][i]=o}function wn(e,t,o){var n;if(void 0!==t){for(var i=0,r=e.length;i<r;++i)t[i]=e[i];n=t}else n=e.slice();return n}function En(e){!function(e,t){Cn[e]=t}(e.getCode(),e),bn(e,e,wn)}function _n(e){return"string"==typeof e?Cn[t=e]||Cn[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function Sn(e){!function(e){e.forEach(En)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&bn(t,e,wn)}))}))}var Mn,xn,Pn;function kn(e,t,o,n,i,r,a){var s,l,c=(o-t)/n;if(1===c)s=t;else if(2===c)s=t,l=i;else if(0!==c){for(var u=e[t],d=e[t+1],p=0,h=[0],g=t+n;g<o;g+=n){var m=e[g],f=e[g+1];p+=Math.sqrt((m-u)*(m-u)+(f-d)*(f-d)),h.push(p),u=m,d=f}var y=i*p,A=function(e,t,o){for(var n,i,r=o||Jo,a=0,s=e.length,l=!1;a<s;)(i=+r(e[n=a+(s-a>>1)],t))<0?a=n+1:(s=n,l=!i);return l?a:~a}(h,y);A<0?(l=(y-h[-A-2])/(h[-A-1]-h[-A-2]),s=t+(-A-2)*n):s=t+A*n}var v=a>1?a:2,C=r||new Array(v);for(g=0;g<v;++g)C[g]=void 0===s?NaN:void 0===l?e[s+g]:rn(e[s+g],e[s+n+g],l);return C}Sn(pn),Sn(vn),Mn=pn,xn=hn,Pn=gn,vn.forEach((function(e){Mn.forEach((function(t){bn(e,t,xn),bn(t,e,Pn)}))}));var Gn=[1,0,0,1,0,0],Rn=function(){function e(e,t,o,n,i){this.extent_,this.id_=i,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=o,this.properties_=n}return e.prototype.get=function(e){return this.properties_[e]},e.prototype.getExtent=function(){var e,t,o,n;return this.extent_||(this.extent_=this.type_===No?(e=this.flatCoordinates_,o=e[0],n=e[1],zo(o,n,o,n,t)):qo(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=Ho(this.getExtent());this.flatInteriorPoints_=Qo(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=function(e,t,o,n){for(var i=[],r=[1/0,1/0,-1/0,-1/0],a=0,s=o.length;a<s;++a){var l=o[a];r=qo(e,t,l[0],n),i.push((r[0]+r[2])/2,(r[1]+r[3])/2),t=l[l.length-1]}return i}(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=function(e,t,o,n,i){for(var r=[],a=0,s=o.length;a<s;++a){var l=o[a];r=Qo(e,t,l,n,i,2*a,r),t=l[l.length-1]}return r}(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=kn(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,o=this.ends_,n=0,i=o.length;n<i;++n){var r=o[n],a=kn(e,t,r,2,.5);Zo(this.flatMidpoints_,a),t=r}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(e){return this},e.prototype.simplifyTransformed=function(e,t){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(e){var t=(e=_n(e)).getExtent(),o=e.getWorldExtent();if(t&&o){var n=Yo(o)/Yo(t);Fo(Gn,o[0],o[3],n,-n,0,0,0),function(e,t,o,n,i,r){for(var a=r||[],s=0,l=t;l<o;l+=n){var c=e[l],u=e[l+1];a[s++]=i[0]*c+i[2]*u+i[4],a[s++]=i[1]*c+i[3]*u+i[5]}r&&a.length!=s&&(a.length=s)}(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Gn,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();Rn.prototype.getEndss=Rn.prototype.getEnds,Rn.prototype.getFlatCoordinates=Rn.prototype.getOrientedFlatCoordinates;var Tn=Rn,On=o(38),Ln=o.n(On),Dn=o(17),Nn=o(41);function jn(e,t,o,n,i){if(n&&n!==e&&(o=o.bind(n)),i){var r=o;o=function(){e.removeEventListener(t,o),r.apply(this,arguments)}}var a={target:e,type:t,listener:o};return e.addEventListener(t,o),a}"function"==typeof Object.assign&&Object.assign;function Un(e){return e*Math.PI/180}var Bn=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function Fn(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var o=document.createElement("canvas");return o.width=e,o.height=t,o}var zn,Vn=Array(256).join(" ");function qn(e,t){if(t>=.05){for(var o="",n=e.split("\n"),i=Vn.slice(0,Math.round(t/.1)),r=0,a=n.length;r<a;++r)r>0&&(o+="\n"),o+=n[r].split("").join(i);return o}return e}function Wn(){return zn||(zn=Fn(1,1).getContext("2d")),zn}function Hn(e,t){return Wn().measureText(e).width+(e.length-1)*t}var Yn={};Nn.labelCache&&jn(Nn.labelCache,"clear",(function(){Yn={}}));var Jn,Zn,Kn=Dn.e.isFunction,Xn=Dn.e.convertFunction,Qn=Dn.c.isExpression,$n=Dn.c.createPropertyExpression,ei={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},ti={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},oi={},ni={zoom:0};function ii(e,t,o,n,i,r){var a=e.id;r||(r={},console.warn("No functionCache provided to getValue()")),r[a]||(r[a]={});var s=r[a];if(!s[o]){var l=(e[t]||oi)[o],c=Dn.f["".concat(t,"_").concat(e.type)][o];void 0===l&&(l=c.default);var u=Qn(l);if(!u&&Kn(l)&&(l=Xn(l,c),u=!0),u){var d=function(e,t){var o=$n(e,t);if("error"===o.result)throw new Error(o.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return o.value}(l,c);s[o]=d.evaluate.bind(d)}else"color"==c.type&&(l=Dn.a.parse(l)),s[o]=function(){return l}}return ni.zoom=n,s[o](ni,i)}function ri(e,t){if(e){if(0===e.a||0===t)return;var o=e.a;return t=void 0===t?1:t,"rgba("+Math.round(255*e.r/o)+","+Math.round(255*e.g/o)+","+Math.round(255*e.b/o)+","+o*t+")"}return e}var ai=/^([^]*)\{(.*)\}([^]*)$/;function si(e,t){var o;do{if(o=e.match(ai)){var n=t[o[2]]||"";e=o[1]+n+o[3]}}while(o);return e}var li=!1;var ci=function(e,t,o,n,i,r,a){if(void 0===n&&(n=Bn),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");var s,l;if(r)if("undefined"!=typeof Image){var c=new Image;c.crossOrigin="anonymous",c.onload=function(){s=c,l=[c.width,c.height],e.changed(),c.onload=null},c.src=r}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var u=self;u.postMessage({action:"loadImage",src:r}),u.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===r&&(s=e.data.image,l=[s.width,s.height])}))}for(var d,p=Object(Dn.b)(t.layers),h={},g=[],m={},f={},y={},A={},v=0,C=p.length;v<C;++v){var I=p[v],b=I.id;if("string"==typeof o&&I.source==o||-1!==o.indexOf(b)){var w=I["source-layer"];if(!d){d=I.source;var E=t.sources[d];if(!E)throw new Error('Source "'.concat(d,'" is not defined'));var _=E.type;if("vector"!==_&&"geojson"!==_)throw new Error('Source "'.concat(d,'" is not of type "vector" or "geojson", but "').concat(_,'"'))}var S=h[w];S||(S=[],h[w]=S),S.push({layer:I,index:v}),g.push(b)}}var M=new kt.a,x=new xt.a,P=[],k=function(e,t){var o=e.getProperties(),r=h[o.layer];if(r){var c=n.indexOf(t);-1==c&&(c=function(e,t){for(var o=0,n=t.length;o<n;++o){if(t[o]<e&&o+1<n){var i=t[o]/t[o+1];return o+Math.log(t[o]/e)/Math.log(i)}}return n-1}(t,n));for(var u,d=ei[e.getGeometry().getType()],p={properties:o,type:d},g=-1,v=function(n,h){var v=r[n],C=v.layer,I=C.id,b=C.layout||oi,w=C.paint||oi;if("none"===b.visibility||"minzoom"in C&&c<C.minzoom||"maxzoom"in C&&c>=C.maxzoom)return"continue";var E=C.filter;if(!E||function(e,t,o,n,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=Object(Dn.d)(t).filter),ni.zoom=n,i[e](ni,o)}(I,E,p,c,A)){u=C;var _=void 0,S=void 0,k=void 0,G=void 0,R=void 0,T=void 0,O=v.index;if(3==d&&("fill"==C.type||"fill-extrusion"==C.type))if(S=ii(C,"paint",C.type+"-opacity",c,p,y),C.type+"-pattern"in w){var L=ii(C,"paint",C.type+"-pattern",c,p,y);if(L){var D="string"==typeof L?si(L,o):L.toString();if(s&&i&&i[D]){++g,(T=P[g])&&T.getFill()&&!T.getStroke()&&!T.getText()||(T=new bt.a({fill:new xt.a}),P[g]=T),k=T.getFill(),T.setZIndex(O);var N=f[he=D+"."+S];if(!N){var j=Fn((ge=i[D]).width,ge.height),U=j.getContext("2d");U.globalAlpha=S,U.drawImage(s,ge.x,ge.y,ge.width,ge.height,0,0,ge.width,ge.height),N=U.createPattern(j,"repeat"),f[he]=N}k.setColor(N)}}}else(_=ri(ii(C,"paint",C.type+"-color",c,p,y),S))&&(C.type+"-outline-color"in w&&(R=ri(ii(C,"paint",C.type+"-outline-color",c,p,y),S)),R||(R=_),++g,(T=P[g])&&T.getFill()&&T.getStroke()&&!T.getText()||(T=new bt.a({fill:new xt.a,stroke:new kt.a}),P[g]=T),(k=T.getFill()).setColor(_),(G=T.getStroke()).setColor(R),G.setWidth(1),T.setZIndex(O));if(1!=d&&"line"==C.type){_=!("line-pattern"in w)&&"line-color"in w?ri(ii(C,"paint","line-color",c,p,y),ii(C,"paint","line-opacity",c,p,y)):void 0;var B=ii(C,"paint","line-width",c,p,y);_&&B>0&&(++g,(T=P[g])&&T.getStroke()&&!T.getFill()&&!T.getText()||(T=new bt.a({stroke:new kt.a}),P[g]=T),(G=T.getStroke()).setLineCap(ii(C,"layout","line-cap",c,p,y)),G.setLineJoin(ii(C,"layout","line-join",c,p,y)),G.setMiterLimit(ii(C,"layout","line-miter-limit",c,p,y)),G.setColor(_),G.setWidth(B),G.setLineDash(w["line-dasharray"]?ii(C,"paint","line-dasharray",c,p,y).map((function(e){return e*B})):null),T.setZIndex(O))}var F=!1,z=null,V=0,q=void 0,W=void 0,H=void 0;if((1==d||2==d)&&"icon-image"in b){var Y=ii(C,"layout","icon-image",c,p,y);if(Y){q="string"==typeof Y?si(Y,o):Y.toString();var J=void 0;if(s&&i&&i[q]){var Z=ii(C,"layout","icon-rotation-alignment",c,p,y);if(2==d){var K=e.getGeometry();if(K.getFlatMidpoint||K.getFlatMidpoints){var X=K.getExtent();if(Math.sqrt(Math.max(Math.pow((X[2]-X[0])/t,2),Math.pow((X[3]-X[1])/t,2)))>150){var Q="MultiLineString"===K.getType()?K.getFlatMidpoints():K.getFlatMidpoint();if(Zn||(Zn=new Tn("Point",Jn=[NaN,NaN],[],{},null)),J=Zn,Jn[0]=Q[0],Jn[1]=Q[1],"line"===(ke=ii(C,"layout","symbol-placement",c,p,y))&&"map"===Z)for(var $=K.getStride(),ee=K.getFlatCoordinates(),te=0,oe=ee.length-$;te<oe;te+=$){var ne=ee[te],ie=ee[te+1],re=ee[te+$],ae=ee[te+$+1],se=Math.min(ne,re),le=Math.min(ie,ae),ce=Math.max(ne,re),ue=Math.max(ie,ae);if(Q[0]>=se&&Q[0]<=ce&&Q[1]>=le&&Q[1]<=ue){V=Math.atan2(ie-ae,re-ne);break}}}}}if(2!==d||J){var de=ii(C,"layout","icon-size",c,p,y),pe=void 0!==w["icon-color"]?ii(C,"paint","icon-color",c,p,y):null;if(!pe||0!==pe.a){var he=q+"."+de;if(null!==pe&&(he+="."+pe),!(W=m[he])){var ge=i[q];W=new St.a({color:pe?[255*pe.r,255*pe.g,255*pe.b,pe.a]:void 0,img:s,imgSize:l,size:[ge.width,ge.height],offset:[ge.x,ge.y],rotateWithView:"map"===Z,scale:de/ge.pixelRatio}),m[he]=W}}W&&(++g,(T=P[g])&&T.getImage()&&!T.getFill()&&!T.getStroke()||(T=new bt.a,P[g]=T),T.setGeometry(J),W.setRotation(V+Un(ii(C,"layout","icon-rotate",c,p,y))),W.setOpacity(ii(C,"paint","icon-opacity",c,p,y)),W.setAnchor(ti[ii(C,"layout","icon-anchor",c,p,y)]),T.setImage(W),z=T.getText(),T.setText(void 0),T.setZIndex(O),F=!0,H=!1)}else H=!0}}}if(1==d&&"circle-radius"in w){++g,(T=P[g])&&T.getImage()&&!T.getFill()&&!T.getStroke()||(T=new bt.a,P[g]=T);var me=ii(C,"paint","circle-radius",c,p,y),fe=ri(ii(C,"paint","circle-stroke-color",c,p,y),ii(C,"paint","circle-stroke-opacity",c,p,y)),ye=ri(ii(C,"paint","circle-color",c,p,y),ii(C,"paint","circle-opacity",c,p,y)),Ae=ii(C,"paint","circle-stroke-width",c,p,y),ve=me+"."+fe+"."+ye+"."+Ae;(W=m[ve])||(W=new Et.a({radius:me,stroke:fe&&Ae>0?new kt.a({width:Ae,color:fe}):void 0,fill:ye?new xt.a({color:ye}):void 0}),m[ve]=W),T.setImage(W),z=T.getText(),T.setText(void 0),T.setGeometry(void 0),T.setZIndex(O),F=!0}var Ce=void 0;if("text-field"in b)Ce=si(ii(C,"layout","text-field",c,p,y).toString(),o).trim(),S=ii(C,"paint","text-opacity",c,p,y);if(Ce&&S&&!H){F||(++g,(T=P[g])&&T.getText()&&!T.getFill()&&!T.getStroke()||(T=new bt.a,P[g]=T),T.setImage(void 0),T.setGeometry(void 0)),T.getText()||T.setText(z||new Rt.a({padding:[2,2,2,2]})),z=T.getText();var Ie=Math.round(ii(C,"layout","text-size",c,p,y)),be=ii(C,"layout","text-font",c,p,y),we=ii(C,"layout","text-line-height",c,p,y),Ee=Ln()(a?a(be):be,Ie,we),_e=b["text-transform"];"uppercase"==_e?Ce=Ce.toUpperCase():"lowercase"==_e&&(Ce=Ce.toLowerCase());var Se=ii(C,"layout","text-max-width",c,p,y),Me=ii(C,"layout","text-letter-spacing",c,p,y),xe=2==d?qn(Ce,Me):function e(t,o,n,i){if(-1!==t.indexOf("\n")){for(var r=t.split("\n"),a=[],s=0,l=r.length;s<l;++s)a.push(e(r[s],o,n,i));return a.join("\n")}var c=n+","+o+","+t+","+i,u=Yn[c];if(!u){var d=t.split(" ");if(d.length>1){var p=Wn();p.font=o;var h=p.measureText("M").width*n,g="";for(a=[],s=0,l=d.length;s<l;++s){var m=d[s],f=g+(g?" ":"")+m;Hn(f,i)<=h?g=f:(g&&a.push(g),g=m)}g&&a.push(g);for(s=0,l=a.length;s<l&&l>1;++s){var y=a[s];if(Hn(y,i)<.35*h){var A=s>0?Hn(a[s-1],i):1/0,v=s<l-1?Hn(a[s+1],i):1/0;a.splice(s,1),l-=1,A<v?(a[s-1]+=" "+y,s-=1):a[s]=y+" "+a[s]}}for(s=0,l=a.length-1;s<l;++s){var C=a[s],I=a[s+1];if(Hn(C,i)>.7*h&&Hn(I,i)<.6*h){var b=C.split(" "),w=b.pop();Hn(w,i)<.2*h&&(a[s]=b.join(" "),a[s+1]=w+" "+I),l-=1}}u=a.join("\n")}else u=t;u=qn(u,i),Yn[c]=u}return u}(Ce,Ee,Se,Me);z.setText(xe),z.setFont(Ee),z.setRotation(Un(ii(C,"layout","text-rotate",c,p,y)));var Pe=ii(C,"layout","text-anchor",c,p,y),ke=F||1==d?"point":ii(C,"layout","symbol-placement",c,p,y);z.setPlacement(ke);var Ge=ii(C,"paint","text-halo-width",c,p,y),Re=ii(C,"layout","text-offset",c,p,y),Te=ii(C,"paint","text-translate",c,p,y),Oe=0,Le=0;if("point"==ke){var De="center";-1!==Pe.indexOf("left")?(De="left",Le=Ge):-1!==Pe.indexOf("right")&&(De="right",Le=-Ge),z.setTextAlign(De);var Ne=ii(C,"layout","text-rotation-alignment",c,p,y);z.setRotateWithView("map"==Ne)}else z.setMaxAngle(Un(ii(C,"layout","text-max-angle",c,p,y))*Ce.length/xe.length),z.setTextAlign(),z.setRotateWithView(!1);var je="middle";0==Pe.indexOf("bottom")?(je="bottom",Oe=-Ge-.5*(we-1)*Ie):0==Pe.indexOf("top")&&(je="top",Oe=Ge+.5*(we-1)*Ie),z.setTextBaseline(je),z.setOffsetX(Re[0]*Ie+Le+Te[0]),z.setOffsetY(Re[1]*Ie+Oe+Te[1]),x.setColor(ri(ii(C,"paint","text-color",c,p,y),S)),z.setFill(x);var Ue=ri(ii(C,"paint","text-halo-color",c,p,y),S);if(Ue){M.setColor(Ue),Ge*=2;var Be=.5*Ie;M.setWidth(Ge<=Be?Ge:Be),z.setStroke(M)}else z.setStroke(void 0);var Fe=ii(C,"layout","text-padding",c,p,y),ze=z.getPadding();Fe!==ze[0]&&(ze[0]=Fe,ze[1]=Fe,ze[2]=Fe,ze[3]=Fe),T.setZIndex(O)}}},C=0,I=r.length;C<I;++C)v(C);return g>-1?(P.length=g+1,li&&("function"==typeof e.set?e.set("mapbox-layer",u):e.getProperties()["mapbox-layer"]=u),P):void 0}};return e.setStyle(k),e.set("mapbox-source",d),e.set("mapbox-layers",g),k},ui=o(72),di=o.n(ui);o(73);function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hi,gi=/font-family: ?([^;]*);/,mi=/("|')/g;function fi(e){if(!hi){hi={};for(var t=document.styleSheets,o=0,n=t.length;o<n;++o){var i=t[o];try{var r=i.rules||i.cssRules;if(r)for(var a=0,s=r.length;a<s;++a){var l=r[a];if(5==l.type){var c=l.cssText.match(gi);hi[c[1].replace(mi,"")]=!0}}}catch(e){}}}return e in hi}var yi={},Ai=di.a.getNames();function vi(e){var t=e.toString();if(t in yi)return e;for(var o=e.map((function(e){var t=Ln()(e,1).split(" ");return[t.slice(3).join(" ").replace(/"/g,""),t[1]+t[0]]})),n=0,i=o.length;n<i;++n){var r=o[n],a=r[0];if(!fi(a)&&-1!==Ai.indexOf(a)){var s="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+")+":"+r[1];if(!document.querySelector('link[href="'+s+'"]')){var l=document.createElement("link");l.href=s,l.rel="stylesheet",document.head.appendChild(l)}}}return yi[t]=!0,e}var Ci=/^(.*)(\?.*)$/;function Ii(e,t){return t&&0===e.indexOf(".")&&(e=t+e),e}function bi(e,t,o){var n=(e=Ii(e,t)).match(Ci);return n?n[1]+o+(n.length>2?n[2]:""):e+o}function wi(e,t,o,n,i){return new Promise((function(r,a){if("object"!=pi(t)&&(t=JSON.parse(t)),8!=t.version)return a(new Error("glStyle version 8 required."));if(!(e instanceof Do.a||e instanceof Po.a))return a(new Error("Can only apply to VectorLayer or VectorTileLayer"));var s,l,c;function u(){c||t.sprite&&!s?c?(e.setStyle(c),r()):a(new Error("Something went wrong trying to apply style.")):(c=ci(e,t,o,i,s,l,vi),e.getStyle()?r():a(new Error("Nothing to show for source [".concat(o,"]"))))}if(t.sprite){var d=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",p=bi(t.sprite,n,d+".json");fetch(p,{credentials:"same-origin"}).then((function(e){return e.ok||""===d?e:(p=bi(t.sprite,n,".json"),fetch(p,{credentials:"same-origin"}))})).then((function(e){if(e.ok)return e.json();a(new Error("Problem fetching sprite from ".concat(p,": ").concat(e.statusText)))})).then((function(e){if(void 0===e)return a(new Error("No sprites found."));s=e,l=bi(t.sprite,n,d+".png"),u()})).catch((function(e){a(new Error("Sprites cannot be loaded: ".concat(p,": ").concat(e.message)))}))}else u()}))}new no.a;var Ei=function(e){function t(o,n){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(this.layerName=o.layer,this.styleName=o.style,this.sourceId=o.source,void 0===o.ssl&&(o.ssl=!0),this.protocol=!1===o.ssl?"http://":"https://",!ho.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var i=this.layerName+"$GEOPORTAIL:GPP:TMS",r=ho.a.configuration.getLayerConf(i);if(!r)throw new Error("ERROR : Layer ID not found into the catalogue !?");this.styleUrl=null,this.styleTitle="";for(var a=0;a<r.styles.length;a++){var s=r.styles[a];if(this.styleName&&s.name===this.styleName){this.styleUrl=s.url,this.styleTitle=s.title;break}if(!this.styleName&&s.current){this.styleName=s.name,this.styleUrl=s.url,this.styleTitle=s.title;break}}if(!this.styleUrl)throw new Error("ERROR : Style URL not found !?");this.styleUrl.replace(/(http|https):\/\//,this.protocol);var c=new l.a({state:"loading",format:new To.a});c._originators=r.originators,c._legends=r.legends,c._metadata=r.metadata,c._description=r.description,c._title=r.title+" ("+this.styleTitle+")",c._quicklookUrl=r.quicklookUrl;var u={source:c};qt.mergeParams(u,n),e.call(this,u),o.olParams&&!r.originators&&(c._originators=o.olParams.attributions),this._originators=c.originators,this.setStyleMapBox()}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.setStyleMapBox=function(){var e=this;fetch(this.styleUrl,{credentials:"same-origin"}).then((function(t){t.ok&&t.json().then((function(t){e.onStyleMapBoxLoad(t)}))})).catch((function(t){e.onStyleMapBoxError(t)}))},t.prototype.onStyleMapBoxLoad=function(e){var t=this;this.sourceId||(this.sourceId=Object.keys(e.sources)[0]);var o=e.sources[this.sourceId];if(o)if("vector"===o.type){var n=this.getSource();if(o.url){o.url.replace(/(http|https):\/\//,this.protocol);var i=new Go.a({url:o.url}),r=this,a=i.on("change",(function(){if("ready"===i.getState()){var e=i.getTileJSON();if(!e)return;r.set("mapbox-extensions",e);for(var t=Array.isArray(e.tiles)?e.tiles:[e.tiles],s=0;s<o.tiles.length;s++)t[s].replace(/(http|https):\/\//,this.protocol);n.setUrls(t),Object(Oo.unByKey)(a)}}))}if(o.tiles){for(var s=0;s<o.tiles.length;s++)o.tiles[s].replace(/(http|https):\/\//,this.protocol);n.setUrls(o.tiles)}wi(this,e,this.sourceId).then((function(){n.setState("ready"),t.set("mapbox-styles",e)})).catch((function(e){t.onStyleMapBoxError(e)}))}else this.onStyleMapBoxError({message:"ERROR : Source TYPE not permitted !"});else this.onStyleMapBoxError({message:"ERROR : Source ID not found !? !"})},t.prototype.onStyleMapBoxError=function(e){this.getSource().setState("error"),console.error(e.message)},t}(Po.a),_i=Ei;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalMapBox=Ei);var Si,Mi=o(4),xi=o.n(Mi),Pi={generate:(Si=Math.floor(Date.now()),function(){return Si++}),name:function(e){var t=null,o=e.lastIndexOf("-");return t=-1===o?e:e.substring(0,o),t},index:function(e){var t=null,o=this.name(e),n=o.lastIndexOf("_");return-1!==n&&(t=o.substring(n+1)),t},uuid:function(e){var t=null,o=e.lastIndexOf("-");return-1!==o&&(t=parseInt(e.substring(o+1),10)),t}};
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function ki(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Gi(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(o),!0).forEach((function(t){Ti(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ki(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Oi(){return(Oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Li(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}function Di(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Ni=Di(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ji=Di(/Edge/i),Ui=Di(/firefox/i),Bi=Di(/safari/i)&&!Di(/chrome/i)&&!Di(/android/i),Fi=Di(/iP(ad|od|hone)/i),zi=Di(/chrome/i)&&Di(/android/i),Vi={capture:!1,passive:!1};function qi(e,t,o){e.addEventListener(t,o,!Ni&&Vi)}function Wi(e,t,o){e.removeEventListener(t,o,!Ni&&Vi)}function Hi(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Yi(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ji(e,t,o,n){if(e){o=o||document;do{if(null!=t&&(">"===t[0]?e.parentNode===o&&Hi(e,t):Hi(e,t))||n&&e===o)return e;if(e===o)break}while(e=Yi(e))}return null}var Zi,Ki=/\s+/g;function Xi(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Ki," ").replace(" "+t+" "," ");e.className=(n+(o?" "+t:"")).replace(Ki," ")}}function Qi(e,t,o){var n=e&&e.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),void 0===t?o:o[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=o+("string"==typeof o?"":"px")}}function $i(e,t){var o="";if("string"==typeof e)o=e;else do{var n=Qi(e,"transform");n&&"none"!==n&&(o=n+" "+o)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(o)}function er(e,t,o){if(e){var n=e.getElementsByTagName(t),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function tr(){var e=document.scrollingElement;return e||document.documentElement}function or(e,t,o,n,i){if(e.getBoundingClientRect||e===window){var r,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==tr()?(a=(r=e.getBoundingClientRect()).top,s=r.left,l=r.bottom,c=r.right,u=r.height,d=r.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||o)&&e!==window&&(i=i||e.parentNode,!Ni))do{if(i&&i.getBoundingClientRect&&("none"!==Qi(i,"transform")||o&&"static"!==Qi(i,"position"))){var p=i.getBoundingClientRect();a-=p.top+parseInt(Qi(i,"border-top-width")),s-=p.left+parseInt(Qi(i,"border-left-width")),l=a+r.height,c=s+r.width;break}}while(i=i.parentNode);if(n&&e!==window){var h=$i(i||e),g=h&&h.a,m=h&&h.d;h&&(l=(a/=m)+(u/=m),c=(s/=g)+(d/=g))}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function nr(e,t,o){for(var n=lr(e,!0),i=or(e)[t];n;){var r=or(n)[o];if(!("top"===o||"left"===o?i>=r:i<=r))return n;if(n===tr())break;n=lr(n,!1)}return!1}function ir(e,t,o,n){for(var i=0,r=0,a=e.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==pa.ghost&&(n||a[r]!==pa.dragged)&&Ji(a[r],o.draggable,e,!1)){if(i===t)return a[r];i++}r++}return null}function rr(e,t){for(var o=e.lastElementChild;o&&(o===pa.ghost||"none"===Qi(o,"display")||t&&!Hi(o,t));)o=o.previousElementSibling;return o||null}function ar(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===pa.clone||t&&!Hi(e,t)||o++;return o}function sr(e){var t=0,o=0,n=tr();if(e)do{var i=$i(e),r=i.a,a=i.d;t+=e.scrollLeft*r,o+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,o]}function lr(e,t){if(!e||!e.getBoundingClientRect)return tr();var o=e,n=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=Qi(o);if(o.clientWidth<o.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!o.getBoundingClientRect||o===document.body)return tr();if(n||t)return o;n=!0}}}while(o=o.parentNode);return tr()}function cr(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function ur(e,t){return function(){if(!Zi){var o=arguments,n=this;1===o.length?e.call(n,o[0]):e.apply(n,o),Zi=setTimeout((function(){Zi=void 0}),t)}}}function dr(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function pr(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}var hr="Sortable"+(new Date).getTime();function gr(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Qi(e,"display")&&e!==pa.ghost){t.push({target:e,rect:or(e)});var o=Gi({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=$i(e,!0);n&&(o.top-=n.f,o.left-=n.e)}e.fromRect=o}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var o in e)if(e.hasOwnProperty(o))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[o][n])return Number(o);return-1}(t,{target:e}),1)},animateAll:function(o){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof o&&o());var i=!1,r=0;t.forEach((function(e){var t=0,o=e.target,a=o.fromRect,s=or(o),l=o.prevFromRect,c=o.prevToRect,u=e.rect,d=$i(o,!0);d&&(s.top-=d.f,s.left-=d.e),o.toRect=s,o.thisAnimationDuration&&cr(l,s)&&!cr(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,o,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*n.animation}(u,l,c,n.options)),cr(s,a)||(o.prevFromRect=a,o.prevToRect=s,t||(t=n.options.animation),n.animate(o,u,s,t)),t&&(i=!0,r=Math.max(r,t),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),t),o.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof o&&o()}),r):"function"==typeof o&&o(),t=[]},animate:function(e,t,o,n){if(n){Qi(e,"transition",""),Qi(e,"transform","");var i=$i(this.el),r=i&&i.a,a=i&&i.d,s=(t.left-o.left)/(r||1),l=(t.top-o.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,Qi(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Qi(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),Qi(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Qi(e,"transition",""),Qi(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var mr=[],fr={initializeByDefault:!0},yr={mount:function(e){for(var t in fr)fr.hasOwnProperty(t)&&!(t in e)&&(e[t]=fr[t]);mr.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),mr.push(e)},pluginEvent:function(e,t,o){var n=this;this.eventCanceled=!1,o.cancel=function(){n.eventCanceled=!0};var i=e+"Global";mr.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][i]&&t[n.pluginName][i](Gi({sortable:t},o)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](Gi({sortable:t},o)))}))},initializePlugins:function(e,t,o,n){for(var i in mr.forEach((function(n){var i=n.pluginName;if(e.options[i]||n.initializeByDefault){var r=new n(e,t,e.options);r.sortable=e,r.options=e.options,e[i]=r,Oi(o,r.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);void 0!==r&&(e.options[i]=r)}},getEventProperties:function(e,t){var o={};return mr.forEach((function(n){"function"==typeof n.eventProperties&&Oi(o,n.eventProperties.call(t[n.pluginName],e))})),o},modifyOption:function(e,t,o){var n;return mr.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(n=i.optionListeners[t].call(e[i.pluginName],o))})),n}};function Ar(e){var t=e.sortable,o=e.rootEl,n=e.name,i=e.targetEl,r=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,g=e.extraEventProperties;if(t=t||o&&o[hr]){var m,f=t.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||Ni||ji?(m=document.createEvent("Event")).initEvent(n,!0,!0):m=new CustomEvent(n,{bubbles:!0,cancelable:!0}),m.to=a||o,m.from=s||o,m.item=i||o,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=p,m.pullMode=h?h.lastPutMode:void 0;var A=Gi(Gi({},g),yr.getEventProperties(n,t));for(var v in A)m[v]=A[v];o&&o.dispatchEvent(m),f[y]&&f[y].call(t,m)}}var vr=["evt"],Cr=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.evt,i=Li(o,vr);yr.pluginEvent.bind(pa)(e,t,Gi({dragEl:br,parentEl:wr,ghostEl:Er,rootEl:_r,nextEl:Sr,lastDownEl:Mr,cloneEl:xr,cloneHidden:Pr,dragStarted:zr,putSortable:Lr,activeSortable:pa.active,originalEvent:n,oldIndex:kr,oldDraggableIndex:Rr,newIndex:Gr,newDraggableIndex:Tr,hideGhostForTarget:la,unhideGhostForTarget:ca,cloneNowHidden:function(){Pr=!0},cloneNowShown:function(){Pr=!1},dispatchSortableEvent:function(e){Ir({sortable:t,name:e,originalEvent:n})}},i))};function Ir(e){Ar(Gi({putSortable:Lr,cloneEl:xr,targetEl:br,rootEl:_r,oldIndex:kr,oldDraggableIndex:Rr,newIndex:Gr,newDraggableIndex:Tr},e))}var br,wr,Er,_r,Sr,Mr,xr,Pr,kr,Gr,Rr,Tr,Or,Lr,Dr,Nr,jr,Ur,Br,Fr,zr,Vr,qr,Wr,Hr,Yr=!1,Jr=!1,Zr=[],Kr=!1,Xr=!1,Qr=[],$r=!1,ea=[],ta="undefined"!=typeof document,oa=Fi,na=ji||Ni?"cssFloat":"float",ia=ta&&!zi&&!Fi&&"draggable"in document.createElement("div"),ra=function(){if(ta){if(Ni)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),aa=function(e,t){var o=Qi(e),n=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=ir(e,0,t),r=ir(e,1,t),a=i&&Qi(i),s=r&&Qi(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+or(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+or(r).width;if("flex"===o.display)return"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal";if("grid"===o.display)return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=n&&"none"===o[na]||r&&"none"===o[na]&&l+c>n)?"vertical":"horizontal"},sa=function(e){function t(e,o){return function(n,i,r,a){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==e&&(o||s))return!0;if(null==e||!1===e)return!1;if(o&&"clone"===e)return e;if("function"==typeof e)return t(e(n,i,r,a),o)(n,i,r,a);var l=(o?n:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var o={},n=e.group;n&&"object"==Ri(n)||(n={name:n}),o.name=n.name,o.checkPull=t(n.pull,!0),o.checkPut=t(n.put),o.revertClone=n.revertClone,e.group=o},la=function(){!ra&&Er&&Qi(Er,"display","none")},ca=function(){!ra&&Er&&Qi(Er,"display","")};ta&&document.addEventListener("click",(function(e){if(Jr)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Jr=!1,!1}),!0);var ua=function(e){if(br){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,r=e.clientY,Zr.some((function(e){var t=e[hr].options.emptyInsertThreshold;if(t&&!rr(e)){var o=or(e),n=i>=o.left-t&&i<=o.right+t,s=r>=o.top-t&&r<=o.bottom+t;return n&&s?a=e:void 0}})),a);if(t){var o={};for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[hr]._onDragOver(o)}}var i,r,a},da=function(e){br&&br.parentNode[hr]._isOutsideThisEl(e.target)};function pa(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Oi({},t),e[hr]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return aa(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==pa.supportPointer&&"PointerEvent"in window&&!Bi,emptyInsertThreshold:5};for(var n in yr.initializePlugins(this,e,o),o)!(n in t)&&(t[n]=o[n]);for(var i in sa(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&ia,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?qi(e,"pointerdown",this._onTapStart):(qi(e,"mousedown",this._onTapStart),qi(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(qi(e,"dragover",this),qi(e,"dragenter",this)),Zr.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Oi(this,gr())}function ha(e,t,o,n,i,r,a,s){var l,c,u=e[hr],d=u.options.onMove;return!window.CustomEvent||Ni||ji?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=o,l.draggedRect=n,l.related=i||t,l.relatedRect=r||or(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function ga(e){e.draggable=!1}function ma(){$r=!1}function fa(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,n=0;o--;)n+=t.charCodeAt(o);return n.toString(36)}function ya(e){return setTimeout(e,0)}function Aa(e){return clearTimeout(e)}pa.prototype={constructor:pa,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Vr=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,br):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,n=this.options,i=n.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(function(e){ea.length=0;var t=e.getElementsByTagName("input"),o=t.length;for(;o--;){var n=t[o];n.checked&&ea.push(n)}}(o),!br&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Bi||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=Ji(s,n.draggable,o,!1))&&s.animated||Mr===s)){if(kr=ar(s),Rr=ar(s,n.draggable),"function"==typeof c){if(c.call(this,e,s,this))return Ir({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:o,fromEl:o}),Cr("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=Ji(l,n.trim(),o,!1))return Ir({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:o,toEl:o}),Cr("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());n.handle&&!Ji(l,n.handle,o,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,o){var n,i=this,r=i.el,a=i.options,s=r.ownerDocument;if(o&&!br&&o.parentNode===r){var l=or(o);if(_r=r,wr=(br=o).parentNode,Sr=br.nextSibling,Mr=o,Or=a.group,pa.dragged=br,Dr={target:br,clientX:(t||e).clientX,clientY:(t||e).clientY},Br=Dr.clientX-l.left,Fr=Dr.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,br.style["will-change"]="all",n=function(){Cr("delayEnded",i,{evt:e}),pa.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Ui&&i.nativeDraggable&&(br.draggable=!0),i._triggerDragStart(e,t),Ir({sortable:i,name:"choose",originalEvent:e}),Xi(br,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){er(br,e.trim(),ga)})),qi(s,"dragover",ua),qi(s,"mousemove",ua),qi(s,"touchmove",ua),qi(s,"mouseup",i._onDrop),qi(s,"touchend",i._onDrop),qi(s,"touchcancel",i._onDrop),Ui&&this.nativeDraggable&&(this.options.touchStartThreshold=4,br.draggable=!0),Cr("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(ji||Ni))n();else{if(pa.eventCanceled)return void this._onDrop();qi(s,"mouseup",i._disableDelayedDrag),qi(s,"touchend",i._disableDelayedDrag),qi(s,"touchcancel",i._disableDelayedDrag),qi(s,"mousemove",i._delayedDragTouchMoveHandler),qi(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&qi(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){br&&ga(br),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Wi(e,"mouseup",this._disableDelayedDrag),Wi(e,"touchend",this._disableDelayedDrag),Wi(e,"touchcancel",this._disableDelayedDrag),Wi(e,"mousemove",this._delayedDragTouchMoveHandler),Wi(e,"touchmove",this._delayedDragTouchMoveHandler),Wi(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?qi(document,"pointermove",this._onTouchMove):qi(document,t?"touchmove":"mousemove",this._onTouchMove):(qi(br,"dragend",this),qi(_r,"dragstart",this._onDragStart));try{document.selection?ya((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Yr=!1,_r&&br){Cr("dragStarted",this,{evt:t}),this.nativeDraggable&&qi(document,"dragover",da);var o=this.options;!e&&Xi(br,o.dragClass,!1),Xi(br,o.ghostClass,!0),pa.active=this,e&&this._appendGhost(),Ir({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Nr){this._lastX=Nr.clientX,this._lastY=Nr.clientY,la();for(var e=document.elementFromPoint(Nr.clientX,Nr.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Nr.clientX,Nr.clientY))!==t;)t=e;if(br.parentNode[hr]._isOutsideThisEl(e),t)do{if(t[hr]){if(t[hr]._onDragOver({clientX:Nr.clientX,clientY:Nr.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);ca()}},_onTouchMove:function(e){if(Dr){var t=this.options,o=t.fallbackTolerance,n=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=Er&&$i(Er,!0),a=Er&&r&&r.a,s=Er&&r&&r.d,l=oa&&Hr&&sr(Hr),c=(i.clientX-Dr.clientX+n.x)/(a||1)+(l?l[0]-Qr[0]:0)/(a||1),u=(i.clientY-Dr.clientY+n.y)/(s||1)+(l?l[1]-Qr[1]:0)/(s||1);if(!pa.active&&!Yr){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(Er){r?(r.e+=c-(jr||0),r.f+=u-(Ur||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");Qi(Er,"webkitTransform",d),Qi(Er,"mozTransform",d),Qi(Er,"msTransform",d),Qi(Er,"transform",d),jr=c,Ur=u,Nr=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Er){var e=this.options.fallbackOnBody?document.body:_r,t=or(br,!0,oa,!0,e),o=this.options;if(oa){for(Hr=e;"static"===Qi(Hr,"position")&&"none"===Qi(Hr,"transform")&&Hr!==document;)Hr=Hr.parentNode;Hr!==document.body&&Hr!==document.documentElement?(Hr===document&&(Hr=tr()),t.top+=Hr.scrollTop,t.left+=Hr.scrollLeft):Hr=tr(),Qr=sr(Hr)}Xi(Er=br.cloneNode(!0),o.ghostClass,!1),Xi(Er,o.fallbackClass,!0),Xi(Er,o.dragClass,!0),Qi(Er,"transition",""),Qi(Er,"transform",""),Qi(Er,"box-sizing","border-box"),Qi(Er,"margin",0),Qi(Er,"top",t.top),Qi(Er,"left",t.left),Qi(Er,"width",t.width),Qi(Er,"height",t.height),Qi(Er,"opacity","0.8"),Qi(Er,"position",oa?"absolute":"fixed"),Qi(Er,"zIndex","100000"),Qi(Er,"pointerEvents","none"),pa.ghost=Er,e.appendChild(Er),Qi(Er,"transform-origin",Br/parseInt(Er.style.width)*100+"% "+Fr/parseInt(Er.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,n=e.dataTransfer,i=o.options;Cr("dragStart",this,{evt:e}),pa.eventCanceled?this._onDrop():(Cr("setupClone",this),pa.eventCanceled||((xr=pr(br)).draggable=!1,xr.style["will-change"]="",this._hideClone(),Xi(xr,this.options.chosenClass,!1),pa.clone=xr),o.cloneId=ya((function(){Cr("clone",o),pa.eventCanceled||(o.options.removeCloneOnHide||_r.insertBefore(xr,br),o._hideClone(),Ir({sortable:o,name:"clone"}))})),!t&&Xi(br,i.dragClass,!0),t?(Jr=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Wi(document,"mouseup",o._onDrop),Wi(document,"touchend",o._onDrop),Wi(document,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(o,n,br)),qi(document,"drop",o),Qi(br,"transform","translateZ(0)")),Yr=!0,o._dragStartId=ya(o._dragStarted.bind(o,t,e)),qi(document,"selectstart",o),zr=!0,Bi&&Qi(document.body,"user-select","none"))},_onDragOver:function(e){var t,o,n,i,r=this.el,a=e.target,s=this.options,l=s.group,c=pa.active,u=Or===l,d=s.sort,p=Lr||c,h=this,g=!1;if(!$r){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Ji(a,s.draggable,r,!0),P("dragOver"),pa.eventCanceled)return g;if(br.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return G(!1);if(Jr=!1,c&&!s.disabled&&(u?d||(n=wr!==_r):Lr===this||(this.lastPutMode=Or.checkPull(this,c,br,e))&&l.checkPut(this,c,br,e))){if(i="vertical"===this._getDirection(e,a),t=or(br),P("dragOverValid"),pa.eventCanceled)return g;if(n)return wr=_r,k(),this._hideClone(),P("revert"),pa.eventCanceled||(Sr?_r.insertBefore(br,Sr):_r.appendChild(br)),G(!0);var m=rr(r,s.draggable);if(!m||function(e,t,o){var n=or(rr(o.el,o.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,i,this)&&!m.animated){if(m===br)return G(!1);if(m&&r===e.target&&(a=m),a&&(o=or(a)),!1!==ha(_r,r,br,t,a,o,e,!!a))return k(),r.appendChild(br),wr=r,R(),G(!0)}else if(m&&function(e,t,o){var n=or(ir(o.el,0,o.options,!0));return t?e.clientX<n.left-10||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-10||e.clientY<n.bottom&&e.clientX<n.left}(e,i,this)){var f=ir(r,0,s,!0);if(f===br)return G(!1);if(o=or(a=f),!1!==ha(_r,r,br,t,a,o,e,!1))return k(),r.insertBefore(br,f),wr=r,R(),G(!0)}else if(a.parentNode===r){o=or(a);var y,A,v,C=br.parentNode!==r,I=!function(e,t,o){var n=o?e.left:e.top,i=o?e.right:e.bottom,r=o?e.width:e.height,a=o?t.left:t.top,s=o?t.right:t.bottom,l=o?t.width:t.height;return n===a||i===s||n+r/2===a+l/2}(br.animated&&br.toRect||t,a.animated&&a.toRect||o,i),b=i?"top":"left",w=nr(a,"top","top")||nr(br,"top","top"),E=w?w.scrollTop:void 0;if(Vr!==a&&(A=o[b],Kr=!1,Xr=!I&&s.invertSwap||C),0!==(y=function(e,t,o,n,i,r,a,s){var l=n?e.clientY:e.clientX,c=n?o.height:o.width,u=n?o.top:o.left,d=n?o.bottom:o.right,p=!1;if(!a)if(s&&Wr<c*i){if(!Kr&&(1===qr?l>u+c*r/2:l<d-c*r/2)&&(Kr=!0),Kr)p=!0;else if(1===qr?l<u+Wr:l>d-Wr)return-qr}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return ar(br)<ar(e)?1:-1}(t);if((p=p||a)&&(l<u+c*r/2||l>d-c*r/2))return l>u+c/2?1:-1;return 0}(e,a,o,i,I?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Xr,Vr===a))){var _=ar(br);do{_-=y,v=wr.children[_]}while(v&&("none"===Qi(v,"display")||v===Er))}if(0===y||v===a)return G(!1);Vr=a,qr=y;var S=a.nextElementSibling,M=!1,x=ha(_r,r,br,t,a,o,e,M=1===y);if(!1!==x)return 1!==x&&-1!==x||(M=1===x),$r=!0,setTimeout(ma,30),k(),M&&!S?r.appendChild(br):a.parentNode.insertBefore(br,M?S:a),w&&dr(w,0,E-w.scrollTop),wr=br.parentNode,void 0===A||Xr||(Wr=Math.abs(A-or(a)[b])),R(),G(!0)}if(r.contains(br))return G(!1)}return!1}function P(s,l){Cr(s,h,Gi({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:n,dragRect:t,targetRect:o,canSort:d,fromSortable:p,target:a,completed:G,onMove:function(o,n){return ha(_r,r,br,t,o,or(o),e,n)},changed:R},l))}function k(){P("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function G(t){return P("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(h),h!==p&&(Xi(br,Lr?Lr.options.ghostClass:c.options.ghostClass,!1),Xi(br,s.ghostClass,!0)),Lr!==h&&h!==pa.active?Lr=h:h===pa.active&&Lr&&(Lr=null),p===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){P("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===br&&!br.animated||a===r&&!a.animated)&&(Vr=null),s.dragoverBubble||e.rootEl||a===document||(br.parentNode[hr]._isOutsideThisEl(e.target),!t&&ua(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function R(){Gr=ar(br),Tr=ar(br,s.draggable),Ir({sortable:h,name:"change",toEl:r,newIndex:Gr,newDraggableIndex:Tr,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Wi(document,"mousemove",this._onTouchMove),Wi(document,"touchmove",this._onTouchMove),Wi(document,"pointermove",this._onTouchMove),Wi(document,"dragover",ua),Wi(document,"mousemove",ua),Wi(document,"touchmove",ua)},_offUpEvents:function(){var e=this.el.ownerDocument;Wi(e,"mouseup",this._onDrop),Wi(e,"touchend",this._onDrop),Wi(e,"pointerup",this._onDrop),Wi(e,"touchcancel",this._onDrop),Wi(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;Gr=ar(br),Tr=ar(br,o.draggable),Cr("drop",this,{evt:e}),wr=br&&br.parentNode,Gr=ar(br),Tr=ar(br,o.draggable),pa.eventCanceled||(Yr=!1,Xr=!1,Kr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Aa(this.cloneId),Aa(this._dragStartId),this.nativeDraggable&&(Wi(document,"drop",this),Wi(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Bi&&Qi(document.body,"user-select",""),Qi(br,"transform",""),e&&(zr&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),Er&&Er.parentNode&&Er.parentNode.removeChild(Er),(_r===wr||Lr&&"clone"!==Lr.lastPutMode)&&xr&&xr.parentNode&&xr.parentNode.removeChild(xr),br&&(this.nativeDraggable&&Wi(br,"dragend",this),ga(br),br.style["will-change"]="",zr&&!Yr&&Xi(br,Lr?Lr.options.ghostClass:this.options.ghostClass,!1),Xi(br,this.options.chosenClass,!1),Ir({sortable:this,name:"unchoose",toEl:wr,newIndex:null,newDraggableIndex:null,originalEvent:e}),_r!==wr?(Gr>=0&&(Ir({rootEl:wr,name:"add",toEl:wr,fromEl:_r,originalEvent:e}),Ir({sortable:this,name:"remove",toEl:wr,originalEvent:e}),Ir({rootEl:wr,name:"sort",toEl:wr,fromEl:_r,originalEvent:e}),Ir({sortable:this,name:"sort",toEl:wr,originalEvent:e})),Lr&&Lr.save()):Gr!==kr&&Gr>=0&&(Ir({sortable:this,name:"update",toEl:wr,originalEvent:e}),Ir({sortable:this,name:"sort",toEl:wr,originalEvent:e})),pa.active&&(null!=Gr&&-1!==Gr||(Gr=kr,Tr=Rr),Ir({sortable:this,name:"end",toEl:wr,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Cr("nulling",this),_r=br=wr=Er=Sr=xr=Mr=Pr=Dr=Nr=zr=Gr=Tr=kr=Rr=Vr=qr=Lr=Or=pa.dragged=pa.ghost=pa.clone=pa.active=null,ea.forEach((function(e){e.checked=!0})),ea.length=jr=Ur=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":br&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,n=0,i=o.length,r=this.options;n<i;n++)Ji(e=o[n],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||fa(e));return t},sort:function(e,t){var o={},n=this.el;this.toArray().forEach((function(e,t){var i=n.children[t];Ji(i,this.options.draggable,n,!1)&&(o[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){o[e]&&(n.removeChild(o[e]),n.appendChild(o[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ji(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(void 0===t)return o[e];var n=yr.modifyOption(this,e,t);o[e]=void 0!==n?n:t,"group"===e&&sa(o)},destroy:function(){Cr("destroy",this);var e=this.el;e[hr]=null,Wi(e,"mousedown",this._onTapStart),Wi(e,"touchstart",this._onTapStart),Wi(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Wi(e,"dragover",this),Wi(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Zr.splice(Zr.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Pr){if(Cr("hideClone",this),pa.eventCanceled)return;Qi(xr,"display","none"),this.options.removeCloneOnHide&&xr.parentNode&&xr.parentNode.removeChild(xr),Pr=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Pr){if(Cr("showClone",this),pa.eventCanceled)return;br.parentNode!=_r||this.options.group.revertClone?Sr?_r.insertBefore(xr,Sr):_r.appendChild(xr):_r.insertBefore(xr,br),this.options.group.revertClone&&this.animate(br,xr),Qi(xr,"display",""),Pr=!1}}else this._hideClone()}},ta&&qi(document,"touchmove",(function(e){(pa.active||Yr)&&e.cancelable&&e.preventDefault()})),pa.utils={on:qi,off:Wi,css:Qi,find:er,is:function(e,t){return!!Ji(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},throttle:ur,closest:Ji,toggleClass:Xi,clone:pr,index:ar,nextTick:ya,cancelNextTick:Aa,detectDirection:aa,getChild:ir},pa.get=function(e){return e[hr]},pa.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(pa.utils=Gi(Gi({},pa.utils),e.utils)),yr.mount(e)}))},pa.create=function(e,t){return new pa(e,t)},pa.version="1.14.0";var va,Ca,Ia,ba,wa,Ea,_a=[],Sa=!1;function Ma(){_a.forEach((function(e){clearInterval(e.pid)})),_a=[]}function xa(){clearInterval(Ea)}var Pa=ur((function(e,t,o,n){if(t.scroll){var i,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=tr(),u=!1;Ca!==o&&(Ca=o,Ma(),va=t.scroll,i=t.scrollFn,!0===va&&(va=lr(o,!0)));var d=0,p=va;do{var h=p,g=or(h),m=g.top,f=g.bottom,y=g.left,A=g.right,v=g.width,C=g.height,I=void 0,b=void 0,w=h.scrollWidth,E=h.scrollHeight,_=Qi(h),S=h.scrollLeft,M=h.scrollTop;h===c?(I=v<w&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),b=C<E&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(I=v<w&&("auto"===_.overflowX||"scroll"===_.overflowX),b=C<E&&("auto"===_.overflowY||"scroll"===_.overflowY));var x=I&&(Math.abs(A-r)<=s&&S+v<w)-(Math.abs(y-r)<=s&&!!S),P=b&&(Math.abs(f-a)<=s&&M+C<E)-(Math.abs(m-a)<=s&&!!M);if(!_a[d])for(var k=0;k<=d;k++)_a[k]||(_a[k]={});_a[d].vx==x&&_a[d].vy==P&&_a[d].el===h||(_a[d].el=h,_a[d].vx=x,_a[d].vy=P,clearInterval(_a[d].pid),0==x&&0==P||(u=!0,_a[d].pid=setInterval(function(){n&&0===this.layer&&pa.active._onTouchMove(wa);var t=_a[this.layer].vy?_a[this.layer].vy*l:0,o=_a[this.layer].vx?_a[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(pa.dragged.parentNode[hr],o,t,e,wa,_a[this.layer].el)||dr(_a[this.layer].el,o,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=lr(p,!1)));Sa=u}}),30),ka=function(e){var t=e.originalEvent,o=e.putSortable,n=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=o||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:n,putSortable:o}))}};function Ga(){}function Ra(){}Ga.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var n=ir(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:ka},Oi(Ga,{pluginName:"revertOnSpill"}),Ra.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:ka},Oi(Ra,{pluginName:"removeOnSpill"});pa.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?qi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?qi(document,"pointermove",this._handleFallbackAutoScroll):t.touches?qi(document,"touchmove",this._handleFallbackAutoScroll):qi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Wi(document,"dragover",this._handleAutoScroll):(Wi(document,"pointermove",this._handleFallbackAutoScroll),Wi(document,"touchmove",this._handleFallbackAutoScroll),Wi(document,"mousemove",this._handleFallbackAutoScroll)),xa(),Ma(),clearTimeout(Zi),Zi=void 0},nulling:function(){wa=Ca=va=Sa=Ea=Ia=ba=null,_a.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var o=this,n=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(n,i);if(wa=e,t||this.options.forceAutoScrollFallback||ji||Ni||Bi){Pa(e,this.options,r,t);var a=lr(r,!0);!Sa||Ea&&n===Ia&&i===ba||(Ea&&xa(),Ea=setInterval((function(){var r=lr(document.elementFromPoint(n,i),!0);r!==a&&(a=r,Ma()),Pa(e,o.options,r,t)}),10),Ia=n,ba=i)}else{if(!this.options.bubbleScroll||lr(r,!0)===tr())return void Ma();Pa(e,this.options,lr(r,!1),!1)}}},Oi(e,{pluginName:"scroll",initializeByDefault:!0})}),pa.mount(Ra,Ga);var Ta=pa,Oa={_createDraggableElement:function(e,t){navigator.userAgent.match(/chrome|chromium|crios/i)?Ta.create(e,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,forceFallback:!0,onEnd:function(e){t._onDragAndDropLayerClick(e)}}):Ta.create(e,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,onEnd:function(e){t._onDragAndDropLayerClick(e)}})},_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerSwitcher"),e.className="GPwidget",e},_createMainLayersShowElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowLayersList"),e.type="checkbox",e},_createMainLayersElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayersList"),e.className="GPpanel",e},_createMainPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowLayersListPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowLayersList"),t.title="Afficher/masquer le gestionnaire de couches";var o=document.createElement("span");o.id=this._addUID("GPshowLayersListOpen"),o.className="GPshowAdvancedToolOpen",o.addEventListener("click",(function(){if(document.getElementById(e._addUID("GPshowLayersList")).checked){for(var t=document.getElementsByClassName("GPlayerInfoOpened"),o=0;o<t.length;o++)t[o].className="GPlayerInfo";document.getElementById(e._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})),t.appendChild(o);var n=document.createElement("span");return n.addEventListener("click",(function(){if(document.getElementById(e._addUID("GPshowLayersList")).checked){for(var t=document.getElementsByClassName("GPlayerInfoOpened"),o=0;o<t.length;o++)t[o].className="GPlayerInfo";document.getElementById(e._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})),n.id=e._addUID("GPshowLayersListClose"),t.appendChild(n),t},_createMainInfoElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerInfoPanel"),e.className="GPpanel GPlayerInfoPanelClosed",e},_createContainerLayerElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPlayerSwitcher_ID_"+e.id),t.className="GPlayerSwitcher_layer draggable-layer",t.appendChild(this._createBasicToolElement(e));for(var o=this._createAdvancedToolShowElement(e),n=0;n<o.length;n++)t.appendChild(o[n]);return t.appendChild(this._createAdvancedToolElement(e)),t},_createBasicToolElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPbasicTools_ID_"+e.id),t.className="GPlayerBasicTools",t.appendChild(this._createBasicToolNameElement(e));for(var o=this._createBasicToolVisibilityElement(e),n=0;n<o.length;n++)t.appendChild(o[n]);return t},_createBasicToolNameElement:function(e){var t=document.createElement("span");return t.id=this._addUID("GPname_ID_"+e.id),t.className="GPlayerName",t.title=e.description||e.title,t.innerHTML=e.title,t},_createBasicToolVisibilityElement:function(e){var t=[],o=void 0===e.visibility||e.visibility,n=this._addUID("GPvisibility_ID_"+e.id),i=document.createElement("input");i.id=n,i.type="checkbox",i.checked=o;var r=document.createElement("label");r.htmlFor=n,r.id=this._addUID("GPvisibilityPicto_ID_"+e.id),r.className="GPlayerVisibility",r.title="Afficher/masquer la couche";var a=this;return i.addEventListener?i.addEventListener("click",(function(e){a._onVisibilityLayerClick(e)})):i.attachEvent&&i.attachEvent("onclick",(function(e){a._onVisibilityLayerClick(e)})),t.push(i),t.push(r),t},_createAdvancedToolShowElement:function(e){var t=[],o=document.createElement("label");o.id=this._addUID("GPshowAdvancedToolsPicto_ID_"+e.id),o.htmlFor=this._addUID("GPshowAdvancedTools_ID_"+e.id),o.title="Plus d'outils",o.className="GPshowMoreOptions GPshowLayerAdvancedTools";var n=document.createElement("input");return n.type="checkbox",n.id=this._addUID("GPshowAdvancedTools_ID_"+e.id),t.push(n),t.push(o),t},_createAdvancedToolElement:function(e){var t=document.createElement("div");if(t.id=this._addUID("GPadvancedTools_ID_"+e.id),t.className="GPlayerAdvancedTools",t.appendChild(this._createAdvancedToolDeleteElement(e)),e.title&&e.description&&t.appendChild(this._createAdvancedToolInformationElement(e)),"feature"!==e.type)for(var o=this._createAdvancedToolOpacityElement(e),n=0;n<o.length;n++)t.appendChild(o[n]);return t},_createAdvancedToolDeleteElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPremove_ID_"+e.id),t.className="GPlayerRemove",t.title="Supprimer la couche",t.layerId=e.id;var o=this;return t.addEventListener?t.addEventListener("click",(function(e){o._onDropLayerClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){o._onDropLayerClick(e)})),t},_createAdvancedToolInformationElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPinfo_ID_"+e.id),t.className="GPlayerInfo",t.title="Informations/légende",t.layerId=e.id;var o=this;return t.addEventListener?t.addEventListener("click",(function(e){o._onOpenLayerInfoClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){o._onOpenLayerInfoClick(e)})),t},_createAdvancedToolOpacityElement:function(e){var t=[],o=document.createElement("div");o.id=this._addUID("GPopacity_ID_"+e.id),o.className="GPlayerOpacity",o.title="Opacité";var n=void 0!==e.opacity?e.opacity:1;n=Math.round(100*n);var i=document.createElement("input");i.id=this._addUID("GPopacityValueDiv_ID_"+e.id),i.type="range",i.value=n;var r=this;i.addEventListener?i.addEventListener("change",(function(e){r._onChangeLayerOpacity(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){r._onChangeLayerOpacity(e)})),i.addEventListener?i.addEventListener("input",(function(e){r._onChangeLayerOpacity(e)})):i.attachEvent&&i.attachEvent("oninput",(function(e){r._onChangeLayerOpacity(e)})),o.appendChild(i);var a=document.createElement("div");a.id=this._addUID("GPopacityValueDiv_ID_"+e.id),a.className="GPlayerOpacityValue";var s=document.createElement("span");return s.id=this._addUID("GPopacityValue_ID_"+e.id),s.innerHTML=n+"%",a.appendChild(s),t.push(o),t.push(a),t},_createContainerLayerInfoElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPlayerInfoContent");var o=document.createElement("div");if(o.id=this._addUID("GPlayerInfoTitle"),o.innerHTML=e.title,t.appendChild(o),e.quicklookUrl){var n=document.createElement("div");n.id=this._addUID("GPlayerInfoQuicklook"),n.title="Afficher un aperçu de la couche";var i=document.createElement("a");i.href=e.quicklookUrl,i.appendChild(n),t.appendChild(i)}var r=document.createElement("div");r.id=this._addUID("GPlayerInfoClose"),r.title="Fermer la fenêtre";var a=this,s=function(){document.getElementById(a._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed";for(var e=document.getElementsByClassName("GPlayerInfoOpened"),t=0;t<e.length;t++)e[t].className="GPlayerInfo"};r.addEventListener?r.addEventListener("click",s):r.attachEvent&&r.attachEvent("onclick",s),t.appendChild(r);var l=document.createElement("div");if(l.id=this._addUID("GPlayerInfoDescription"),l.innerHTML=e.description,t.appendChild(l),e.metadata){var c=document.createElement("div");c.id=this._addUID("GPlayerInfoMetadata");var u=document.createElement("div");u.className="GPlayerInfoSubtitle",u.innerHTML="Métadonnées",c.appendChild(u);for(var d=0;d<e.metadata.length;d++){var p=e.metadata[d].url,h=document.createElement("div");h.className="GPlayerInfoLink";var g=document.createElement("a");g.href=p,g.innerHTML=p,h.appendChild(g),c.appendChild(h)}0!==e.metadata.length&&t.appendChild(c)}if(e.legends){var m=document.createElement("div");m.id=this._addUID("GPlayerInfoLegend");var f=document.createElement("div");f.className="GPlayerInfoSubtitle",f.innerHTML="Légende",m.appendChild(f);for(var y={},A=e.maxScaleDenominator||56e7,v=0;v<e.legends.length;v++){var C=e.legends[v].minScaleDenominator;if(C){var I=C.toString();C=Math.round(parseInt(I.substring(0,3),10)/10)*Math.pow(10,I.length-2)}else C=270;y[C]=e.legends[v]}for(var b in y)if(y.hasOwnProperty(b)){var w=y[b].url;if("string"==typeof w&&-1===w.toLowerCase().indexOf("nolegend.jpg")){var E=document.createElement("div");E.className="GPlayerInfoLink",A=y[b].maxScaleDenominator||A;var _=document.createElement("a");_.href=w,_.innerHTML="Du 1/"+b+" au 1/"+A,E.appendChild(_),m.appendChild(E)}else delete y[b]}0!==Object.keys(y).length&&t.appendChild(m)}return t}};function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Da=lt.getLogger("layerswitcher"),Na=function(e){function t(o){var n=(o=o||{}).options||{},i=o.layers||[];if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(i))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==La(n))throw new Error("ERROR WRONG_TYPE : options should be an object");this._initialize(n,i);var r=this._container=this._initContainer(n);e.call(this,{element:r,target:n.target,render:n.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Oa),t.prototype.constructor=t,t.prototype.setMap=function(t){var o=this;if(t)this._addMapLayers(t),this._listeners.onMoveListener=t.on("moveend",(function(){return o._onMapMoveEnd(t)})),this._listeners.onAddListener=t.getLayers().on("add",(function(e){var t,n=e.element;n.hasOwnProperty("gpLayerId")?t=n.gpLayerId:(t=o._layerId,n.gpLayerId=t,o._layerId++),o._layers[t]||o.addLayer(n)})),this._listeners.onRemoveListener=t.getLayers().on("remove",(function(e){var t=e.element,n=t.gpLayerId;o._layers[n]&&o.removeLayer(t)}));else{Object(Oo.unByKey)(this._listeners.onMoveListener),Object(Oo.unByKey)(this._listeners.onAddListener),Object(Oo.unByKey)(this._listeners.onRemoveListener);for(var n=this._layersOrder.length-1;n>=0;n--)this._layersOrder[n].layer.setZIndex(0)}e.prototype.setMap.call(this,t)},t.prototype.addLayer=function(e,t){var o=this,n=this.getMap();if(t=t||{},e){var i=e.gpLayerId;if(void 0!==i){var r=!1;if(n.getLayers().forEach((function(e){e.gpLayerId===i&&(r=!0)})),r)if(this._layers[i]){for(var a in t)t.hasOwnProperty(a)&&(this._layers[i][a]=t[a]);if(t.title){var s=document.getElementById(this._addUID("GPname_ID_"+i));s&&(s.innerHTML=t.title,s.title=t.description||t.title)}var l=document.getElementById(this._addUID("GPinfo_ID_"+i));if(!document.getElementById(this._addUID("GPinfo_ID_"+i))&&t.description){var c=document.getElementById(this._addUID("GPadvancedTools_ID_"+i));c&&c.appendChild(this._createAdvancedToolInformationElement({id:i}))}l&&"GPlayerInfoOpened"===l.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",l.className="GPlayerInfo")}else{var u=this.getLayerInfo(e)||{},d=e.getOpacity(),p=e.getVisible(),h=this.isInRange(e,n),g={layer:e,id:i,opacity:null!=d?d:1,visibility:null==p||p,inRange:null==h||h,title:null!=t.title?t.title:u._title||i,description:t.description||u._description||null,legends:t.legends||u._legends||[],metadata:t.metadata||u._metadata||[],quicklookUrl:t.quicklookUrl||u._quicklookUrl||null};this._layers[i]=g;var m=this._createLayerDiv(g);this._layers[i].div=m,e.getZIndex&&0!==e.getZIndex()&&void 0!==e.getZIndex()||e._forceNullzIndex?this._updateLayersOrder():(this._layersOrder.unshift(g),this._lastZIndex++,e.setZIndex(this._lastZIndex),this._layerListContainer.insertBefore(m,this._layerListContainer.firstChild)),this._listeners.updateLayerOpacity=e.on("change:opacity",(function(e){return o._updateLayerOpacity(e)})),this._listeners.updateLayerVisibility=e.on("change:visible",(function(e){return o._updateLayerVisibility(e)})),null==this._layers[i].onZIndexChangeEvent&&(this._layers[i].onZIndexChangeEvent=e.on("change:zIndex",(function(){return o._updateLayersOrder()})))}else Da.log("[ERROR] LayerSwitcher:addLayer - configuration cannot be set for ",e," layer (layer is not in map.getLayers() )")}else Da.trace("[WARN] LayerSwitcher:addLayer - configuration cannot be set for this layer (layer id not found)",e)}else Da.log("[ERROR] LayerSwitcher:addLayer - missing layer parameter")},t.prototype.removeLayer=function(e){if(e){Object(Oo.unByKey)(this._listeners.updateLayerOpacity),Object(Oo.unByKey)(this._listeners.updateLayerVisibility),Da.trace(e);var t=e.gpLayerId,o=document.getElementById(this._addUID("GPlayersList")),n=document.getElementById(this._addUID("GPinfo_ID_"+t));n&&"GPlayerInfoOpened"===n.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",n.className="GPlayerInfo");var i=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+t));i&&o.removeChild(i);var r=Math.abs(e.getZIndex()-this._lastZIndex);this._layersOrder.splice(r,1),this._lastZIndex--;for(var a=this._layersOrder,s=0;s<a.length;s++)a[s].layer.setZIndex(this._lastZIndex-s);delete this._layers[t]}},t.prototype.setCollapsed=function(e){if(void 0!==e){var t=!document.getElementById(this._addUID("GPshowLayersList")).checked;if(!(e&&t||!e&&!t)){if(!t){for(var o=document.getElementsByClassName("GPlayerInfoOpened"),n=0;n<o.length;n++)o[n].className="GPlayerInfo";document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}document.getElementById(this._addUID("GPshowLayersList")).checked=!e}}else Da.log("[ERROR] LayerSwitcher:setCollapsed - missing collapsed parameter")},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setRemovable=function(e,t){if(e){var o=e.gpLayerId;if(null!=o){var n=document.getElementById(this._addUID("GPremove_ID_"+o));n&&(!1===t?n.style.display="none":!0===t&&(n.style.display="block"))}else Da.log("[LayerSwitcher:setRemovable] layer should be added to map before calling setRemovable method")}},t.prototype._initialize=function(e,t){this._uid=Pi.generate(),this._layers={},this._layersOrder=[],this._layersIndex={},this._lastZIndex=0,this._layerId=0,this.collapsed=void 0===e.collapsed||e.collapsed,this._layerListContainer=null,this._listeners={};for(var o=0;o<t.length;o++){var n=t[o].layer;if(n){var i;n.hasOwnProperty("gpLayerId")?i=n.gpLayerId:(i=this._layerId,n.gpLayerId=i,this._layerId++);var r=t[o].config||{},a=n.getOpacity(),s=n.getVisible(),l={layer:n,id:i,opacity:null!=a?a:1,visibility:null==s||s,title:null!=r.title?r.title:r.id?r.id:i,description:r.description||null,legends:r.legends||[],metadata:r.metadata||[],quicklookUrl:r.quicklookUrl||null};this._layers[i]=l}}},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._createMainLayersShowElement();e.appendChild(t),this.collapsed?this.collapsed=!0:(t.checked="checked",this.collapsed=!1);var o=this,n=function(e){this.collapsed=!e.target.checked,this.dispatchEvent("change:collapsed")};t.addEventListener("click",(function(e){n.call(o,e)}));var i=this._layerListContainer=this._createMainLayersElement();e.appendChild(i),this._createDraggableElement(i,this);var r=this._createMainPictoElement();e.appendChild(r);var a=this._createMainInfoElement();return e.appendChild(a),e},t.prototype._addMapLayers=function(e){var t=this;for(var o in this._layersIndex={},e.getLayers().forEach((function(o){var n;o.hasOwnProperty("gpLayerId")?n=o.gpLayerId:(n=t._layerId,o.gpLayerId=n,t._layerId++);var i=t.getLayerInfo(o)||{};if(t._layers[n])t._layers[n].opacity=o.getOpacity(),t._layers[n].visibility=o.getVisible(),t._layers[n].inRange=t.isInRange(o,e);else{var r=o.getOpacity(),a=o.getVisible(),s=t.isInRange(o,e),l={layer:o,id:n,opacity:null!=r?r:1,visibility:null==a||a,inRange:null==s||s,title:i._title||n,description:i._description||null,legends:i._legends||[],metadata:i._metadata||[],quicklookUrl:i._quicklookUrl||null};t._layers[n]=l}if(t._listeners.updateLayerOpacity=o.on("change:opacity",(function(e){return t._updateLayerOpacity(e)})),t._listeners._updateLayerVisibility=o.on("change:visible",(function(e){return t._updateLayerVisibility(e)})),void 0!==o.getZIndex){var c=o.getZIndex()||0;t._layersIndex[c]&&Array.isArray(t._layersIndex[c])||(t._layersIndex[c]=[]),t._layersIndex[c].push(t._layers[n])}})),this._layersIndex)if(this._layersIndex.hasOwnProperty(o))for(var n=this._layersIndex[o],i=0;i<n.length;i++)this._layersOrder.unshift(n[i]),this._lastZIndex++,n[i].layer.setZIndex(this._lastZIndex),null==this._layers[n[i].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[n[i].layer.gpLayerId].onZIndexChangeEvent=n[i].layer.on("change:zIndex",(function(){return t._updateLayersOrder()})));for(var r=0;r<this._layersOrder.length;r++){var a=this._layersOrder[r],s=this._createLayerDiv(a);this._layerListContainer.appendChild(s),this._layers[a.id].div=s}},t.prototype._createLayerDiv=function(e){var t=e.legends&&0!==e.legends.length,o=e.metadata&&0!==e.metadata.length,n=e.quicklookUrl;(t||o||n)&&(e.displayInformationElement=!0);var i=this._createContainerLayerElement(e);return e.inRange||i.classList.add("outOfRange"),i},t.prototype._onChangeLayerOpacity=function(e){var t=e.target.id,o=Pi.index(t),n=this._layers[o].layer,i=e.target.value;document.getElementById(this._addUID("GPopacityValue_ID_"+o)).innerHTML=i+"%",n.setOpacity(i/100)},t.prototype._updateLayerOpacity=function(e){var t=e.target.getOpacity();t>1&&(t=1),t<0&&(t=0);var o=e.target.gpLayerId,n=document.getElementById(this._addUID("GPopacityValueDiv_ID_"+o));n&&(n.value=Math.round(100*t));var i=document.getElementById(this._addUID("GPopacityValue_ID_"+o));i&&(i.innerHTML=Math.round(100*t)+"%")},t.prototype._onVisibilityLayerClick=function(e){var t=e.target.id,o=Pi.index(t);this._layers[o].layer.setVisible(e.target.checked)},t.prototype._updateLayerVisibility=function(e){var t=e.target.getVisible(),o=e.target.gpLayerId,n=document.getElementById(this._addUID("GPvisibility_ID_"+o));n&&(n.checked=t)},t.prototype._updateLayersOrder=function(){var e=this,t=this.getMap();if(t){var o,n;for(var i in this._layersIndex={},t.getLayers().forEach((function(t){n=t.gpLayerId,Object(Oo.unByKey)(e._layers[n].onZIndexChangeEvent),e._layers[n].onZIndexChangeEvent=null,o=null,void 0!==t.getZIndex&&(o=t.getZIndex(),e._layersIndex[o]&&Array.isArray(e._layersIndex[o])||(e._layersIndex[o]=[]),e._layersIndex[o].push(e._layers[n]))})),this._lastZIndex=0,this._layersOrder=[],this._layersIndex)if(this._layersIndex.hasOwnProperty(i))for(var r=this._layersIndex[i],a=0;a<r.length;a++)this._layersOrder.unshift(r[a]),this._lastZIndex++,null==this._layers[r[a].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[r[a].layer.gpLayerId].onZIndexChangeEvent=r[a].layer.on("change:zIndex",(function(){return e._updateLayersOrder()})));if(this._layerListContainer){for(;this._layerListContainer.firstChild;)this._layerListContainer.removeChild(this._layerListContainer.firstChild);for(var s=0;s<this._layersOrder.length;s++){var l=this._layersOrder[s];this._layerListContainer.appendChild(l.div)}}else Da.log("[ol.control.LayerSwitcher] _updateLayersOrder : layer list container not found to update layers order ?!")}},t.prototype._onOpenLayerInfoClick=function(e){var t,o,n=e.target.id,i=Pi.index(n),r=this._layers[i];if("GPlayerInfoOpened"===(n=document.getElementById(e.target.id)).className)return void 0!==n.classList&&(n.classList.remove("GPlayerInfoOpened"),n.classList.add("GPlayerInfo")),void 0!==(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList&&(t.classList.remove("GPpanel"),t.classList.remove("GPlayerInfoPanelOpened"),t.classList.add("GPlayerInfoPanelClosed")),o=document.getElementById(this._addUID("GPlayerInfoContent")),void t.removeChild(o);for(var a=document.getElementsByClassName("GPlayerInfoOpened"),s=0;s<a.length;s++)a[s].className="GPlayerInfo";void 0!==n.classList&&(n.classList.remove("GPlayerInfo"),n.classList.add("GPlayerInfoOpened")),void 0!==(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList&&(t.classList.add("GPpanel"),t.classList.remove("GPlayerInfoPanelClosed"),t.classList.add("GPlayerInfoPanelOpened")),(o=document.getElementById(this._addUID("GPlayerInfoContent")))&&t.removeChild(o);var l={title:r.title,description:r.description,quicklookUrl:r.quicklookUrl,metadata:r.metadata,legends:r.legends},c=r.layer.getMaxResolution();l._maxScaleDenominator=c===1/0?56e7:Math.round(c/28e-5);var u=this._createContainerLayerInfoElement(l);t.appendChild(u)},t.prototype._onDropLayerClick=function(e){var t=e.target.id,o=Pi.index(t),n=this._layers[o].layer;this.getMap().getLayers().remove(n)},t.prototype._onDragAndDropLayerClick=function(){var e=this,t=this.getMap(),o=document.querySelectorAll("div.GPlayerSwitcher_layer"),n=o.length;this._layersOrder=[];for(var i=0;i<o.length;i++){var r=o[i].id,a=Pi.index(r),s=this._layers[a].layer;Object(Oo.unByKey)(this._layers[a].onZIndexChangeEvent),this._layers[a].onZIndexChangeEvent=null,s.setZIndex&&(s.setZIndex(n),this._layersOrder.push(this._layers[a]),n--),null==this._layers[a].onZIndexChangeEvent&&(this._layers[a].onZIndexChangeEvent=s.on("change:zIndex",(function(){return e._updateLayersOrder()})))}t.updateSize()},t.prototype._onMapMoveEnd=function(e){var t=this;e.getLayers().forEach((function(o){var n=o.gpLayerId;if(t._layers[n]){var i=t._layers[n];t.isInRange(o,e)&&!i.inRange?(i.inRange=!0,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+n)).classList.remove("outOfRange")):!t.isInRange(o,e)&&i.inRange&&(i.inRange=!1,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+n)).classList.add("outOfRange"))}}))},t.prototype.getLayerDOMId=function(e){var t=null;return this.getMap().getLayers().forEach((function(o){o===e&&(t=o.hasOwnProperty("gpLayerId")?o.gpLayerId:null)})),null!==t?this._addUID("GPlayerSwitcher_ID_"+t):null},t.prototype.isInRange=function(e,t){if(t){var o=t.getView().getResolution();if(o>e.getMaxResolution()||o<e.getMinResolution())return!1;var n=t.getView().calculateExtent(t.getSize()),i=e.getExtent();return!(i&&!Object(ao.intersects)(n,i))}},t.prototype.getLayerInfo=function(e){var t={};if(void 0!==e.getProperties&&void 0!==e.getSource){var o=e.getProperties(),n=o.source;n&&(t._title=n._title||o.id||"",t._description=n._description||"",t._quicklookUrl=n._quicklookUrl||"",t._metadata=n._metadata||[],t._legends=n._legends||[])}return t},t}(xi.a),ja=Na;window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=Na);var Ua={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPgetFeatureInfo"),e.className="GPwidget",e},_createActivateGetFeatureInfoElement:function(e){var t=this,o=document.createElement("input");return o.id=this._addUID("GPactivateGetFeatureInfo"),o.type="checkbox",o.checked=e,o.addEventListener("change",(function(e){t.onActivateGetFeatureInfoElementChange(e)})),o},_createMainPictoElement:function(){var e=document.createElement("label");e.id=this._addUID("GPgetFeatureInfoPicto"),e.className="GPshowAdvancedToolPicto",e.htmlFor=this._addUID("GPactivateGetFeatureInfo"),e.title="activer/desactiver l'interrogation des couches";var t=document.createElement("span");t.id=this._addUID("GPgetFeatureInfoActivate"),t.className="GPshowAdvancedToolOpen",e.appendChild(t);var o=document.createElement("span");return o.id=this._addUID("GPgetFeatureInfoDeactivate"),e.appendChild(o),e}};function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fa=lt.getLogger("getfeatureinfo"),za=function(e){function t(o){var n=(o=o||{}).options||{},i=o.layers||[];if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(i))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==Ba(n))throw new Error("ERROR WRONG_TYPE : options should be an object");this._initialize(n,i);var r=this._container=this._initContainer(n);e.call(this,{element:r,target:n.target,render:n.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Ua),t.prototype.constructor=t,t.prototype._initialize=function(e,t){if(this._uid=Pi.generate(),this._events={dblclick:!1,singleclick:!1,contextmenu:!1},this._eventsHandler={},void 0===e.auto||"boolean"==typeof e.auto)if(this._auto=e.auto||!1,void 0===e.active||"boolean"==typeof e.active)if(this._active=void 0===e.active||e.active,e.defaultEvent&&"string"!=typeof e.defaultEvent)Fa.log("[ERROR] GetFeatureInfo:_initialize - defaultEvent parameter should be a string");else if(this._defaultEvent=e.defaultEvent||"singleclick",this._isValidEvent(this._defaultEvent))if(e.defaultInfoFormat&&"string"!=typeof e.defaultInfoFormat)Fa.log("[ERROR] GetFeatureInfo:_initialize - defaultInfoFormat parameter should be a string");else if(this._defaultInfoFormat=e.defaultInfoFormat||"text/html",e.cursorStyle&&"string"!=typeof e.cursorStyle)Fa.log("[ERROR] GetFeatureInfo:_initialize - cursorStyle parameter should be a string");else{if(this._cursorStyle=e.cursorStyle||"pointer",e.proxyUrl){if("string"!=typeof e.proxyUrl)return void Fa.log("[ERROR] GetFeatureInfo:_initialize - proxyUrl parameter should be a string");this._proxyUrl=e.proxyUrl}if(e.noProxyDomains){if(!Array.isArray(e.noProxyDomains))return void Fa.log("[ERROR] GetFeatureInfo:_initialize - noProxyDomains parameter should be a array");this._noProxyDomains=e.noProxyDomains}if(void 0===e.autoPan||"boolean"==typeof e.autoPan){if(this._autoPan=void 0===e.autoPan||e.autoPan,e.autoPanAnimation){if(e.autoPanAnimation.duration&&"number"!=typeof e.autoPanAnimation.duration)return void Fa.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : duration should be a number.");if(e.autoPanAnimation.easing&&"function"!=typeof e.autoPanAnimation.easing)return void Fa.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : easing should be a ol.easing function or a custom function.");this._autoPanAnimation=e.autoPanAnimation}if(e.autoPanMargin){if("number"!=typeof e.autoPanMargin)return void Fa.log("[ERROR] GetFeatureInfo:_initialize - autoPanMargin parameter should be a number");this._autoPanMargin=e.autoPanMargin}Array.isArray(t)?(this._setLayers(t),this._activateGetFeatureInfoContainer=null):Fa.log("[ERROR] GetFeatureInfo:_initialize - layers parameter should be an array")}else Fa.log("[ERROR] GetFeatureInfo:_initialize - autoPan parameter should be a boolean")}else Fa.log("[ERROR] GetFeatureInfo:_initialize - _defaultEvent '"+this._defaultEvent+"' is not a valid event");else Fa.log("[ERROR] GetFeatureInfo:_initialize - active parameter should be a boolean");else Fa.log("[ERROR] GetFeatureInfo:_initialize - auto parameter should be a boolean")},t.prototype.setMap=function(t){var o=this;if(t){if(this._updateEvents(t),this._cursorStyle&&this._active&&this._activateCursor(!0,t),t.getLayers().on("remove",(function(e){for(var n=0;n<o._layers.length;++n)if(o._layers[n].obj===e.element){o._layers.splice(n,1);break}o._updateEvents(t)})),this._auto){var n=!1;t.getLayers().forEach((function(e){var t=ht.getLayerFormat(e);o._hasLayer(e)||"vector"!==t||(o._layers.push({obj:e}),n=!0)})),n&&this._updateEvents(t),t.getLayers().on("add",(function(e){"vector"===ht.getLayerFormat(e.element)&&o._layers.push({obj:e.element}),o._updateEvents(t)}))}}else this._clearEvents(),this._activateCursor(!1);e.prototype.setMap.call(this,t)},t.prototype.getLayers=function(){return this._layers},t.prototype.setDefaultEvent=function(e){"string"==typeof e?e&&this._isValidEvent(e)?(this._defaultEvent=e,this._updateEvents()):Fa.log("[ERROR] GetFeatureInfo:setDefaultEvent - event '"+e+"' is not allowed."):Fa.log("[ERROR] GetFeatureInfo:setDefaultEvent - eventName parameter should be a string")},t.prototype.setCursorStyle=function(e){"string"==typeof e?(this._active&&(!this._cursorStyle&&e?this._activateCursor(!0):this._cursorStyle&&!e&&this._activateCursor(!1)),this._cursorStyle=e):Fa.log("[ERROR] GetFeatureInfo:setCursorStyle - cursorStyle parameter should be a string")},t.prototype.setActive=function(e){this._setActive(e);var t=document.getElementById(this._addUID("GPactivateGetFeatureInfo"));t&&(t.checked=e)},t.prototype._setActive=function(e){"boolean"==typeof e?this._active!==e&&(this._active=e,this._cursorStyle&&this._activateCursor(e)):Fa.log("[ERROR] GetFeatureInfo:_setActive - active parameter should be a boolean")},t.prototype.isActive=function(){return this._active},t.prototype.setHidden=function(e){this.element.style.visibility=e?"hidden":""},t.prototype.isHidden=function(){return"hidden"===this.element.style.visibility},t.prototype.setLayers=function(e){this._setLayers(e),this._updateEvents()},t.prototype._isValidEvent=function(e){return Object.keys(this._events).indexOf(e)>-1},t.prototype._activateEvent=function(e,t){var o=this,n=function(e){ht.onDisplayFeatureInfo(e,o)};"contextmenu"===e?t.getViewport().addEventListener(e,n):t.on(e,n),this._eventsHandler[e]=n,this._events[e]=!0},t.prototype._deactivateEvent=function(e,t){"contextmenu"===e?t.getViewport().removeEventListener(e,this._eventsHandler[e]):t.un(e,this._eventsHandler[e]),delete this._eventsHandler[e],this._events[e]=!1},t.prototype._updateEvents=function(e){e||(e=this.getMap());for(var t=[],o=0;o<this._layers.length;++o){var n=this._layers[o].event?this._layers[o].event:this._defaultEvent;t.indexOf(n)<0&&t.push(n)}for(var i in this._events)!this._events[i]&&t.indexOf(i)>=0?this._activateEvent(i,e):this._events[i]&&t.indexOf(i)<0&&this._deactivateEvent(i,e)},t.prototype._clearEvents=function(){var e=this.getMap();for(var t in this._events)this._events[t]&&this._deactivateEvent(t,e)},t.prototype._hasLayer=function(e){for(var t=0;t<this._layers.length;++t)if(this._layers[t].obj===e)return!0;return!1},t.prototype._activateCursor=function(e,t){if(t||(t=this.getMap()),e){if(this._eventsHandler.hasOwnProperty("pointermove"))return void Fa.log("[ERROR] _activateCursor - inconsistent state: pointermove event handler already registered");var o=this,n=function(e){var n=t.forEachFeatureAtPixel(e.pixel,(function(e,t){for(var n=o.getLayers(),i=0;i<n.length;++i)if(n[i].obj===t)return!0}));t.getTargetElement().style.cursor=n?o._cursorStyle:""};this._eventsHandler.pointermove=n,t.on("pointermove",n)}else this._eventsHandler.hasOwnProperty("pointermove")&&(t.un("pointermove",this._eventsHandler.pointermove),delete this._eventsHandler.pointermove),t.getTargetElement().style.cursor=""},t.prototype._setLayers=function(e){if(e&&Array.isArray(e)){this._layers=[];for(var t=0;t<e.length;++t){var o=this._layers.push({})-1;e[t].event&&(this._isValidEvent(e[t].event)?this._layers[o].event=e[t].event:Fa.log("[ERROR] GetFeatureInfo:setLayers - layer event '"+this._layers[t].event+"' is not allowed.")),e[t].infoFormat&&(this._layers[o].infoFormat=e[t].infoFormat),this._layers[o].obj=e[t].obj}}else Fa.log("[ERROR] GetFeatureInfo:setLayers - gfiLayers parameter should be a array")},t.prototype.onActivateGetFeatureInfoElementChange=function(e){this._setActive(e.target.checked)},t.prototype._initContainer=function(e){var t=this._createMainContainerElement(),o=this._activateGetFeatureInfoContainer=this._createActivateGetFeatureInfoElement(this.isActive());t.appendChild(o);var n=this._createMainPictoElement();if(t.appendChild(n),void 0!==e.hidden){if("boolean"!=typeof e.hidden)return void Fa.log("[ERROR] GetFeatureInfo:_initContainer - hidden parameter should be a boolean");e.hidden&&(t.style.visibility="hidden")}return t},t}(xi.a),Va=za;window.ol&&window.ol.control&&(window.ol.control.GetFeatureInfo=za);var qa=lt.getLogger("interactions"),Wa={_extensions:["Measures","ElevationPath","Drawing"],_options:{current:null,clean:null},unset:function(e,t){qa.trace("unset()");var o={};qt.mergeParams(o,this._options),qt.mergeParams(o,t);for(var n=e.getInteractions().getArray(),i=0;i<n.length;i++)if(n[i].getActive()&&(n[i]instanceof y.Draw||n[i]instanceof y.Select||n[i]instanceof y.Modify)){var r=n[i].getProperties(),a=r.name;if(void 0!==a&&this._extensions.indexOf(a)>-1){if(o.current&&o.current===a)continue;n[i].setActive(!1);var s=r.source;if(void 0!==s&&s instanceof xi.a)for(var l in o)if(o.hasOwnProperty(l)){if("current"===l)continue;if("function"==typeof s[l]){var c=Array.isArray(o[l])?o[l]:[o[l]];s[l].apply(s,c)}}}else n[i].setActive(!1)}}},Ha={advancedSearchFiltersByDefault:{PositionOfInterest:[{name:"category",title:"Type",value:["cimetière","aérodrome","réservoir","administratif","construction linéaire","construction ponctuelle","construction surfacique","cours d'eau","détail hydrographique","détail orographique","équipement de transport","plan d'eau","poste de transformation","terrain de sport","transport par câble","zone d'activité ou d'intérêt","zone d'habitation","lieu-dit non habité"]},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],StreetAddress:[{name:"city",title:"Ville"},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],CadastralParcel:[{name:"departmentcode",title:"Code département (INSEE)",description:"Code INSEE du département (ex: 01, 94)"},{name:"municipalitycode",title:"Code commune (INSEE)",description:"Code INSEE de la commune : 3 chiffres (ex: 067)"},{name:"city",title:"Nom commune",description:"Nom de la commune"},{name:"oldmunicipalitycode",title:"Commune absorbée",description:"Commune absorbée : 3 chiffres (ex: 000, 001)"},{name:"districtcode",title:"Arrondissement",description:"Arrondissement : 3 chiffres (ex: 004, 012)"},{name:"section",title:"Section",description:"Section Cadastrale : 2 caractères (chiffre et/ou lettre)"},{name:"number",title:"Numéro",description:"Numéro de la parcelle : 4 chiffres (ex: 0041, 0250)"},{name:"sheet",title:"Feuille",description:"Numéro de la feuille cadastrale"}]},zoomToResultsByDefault:function(e){var t=15,o=e.service,n=e.fields,i=e.type,r={1:11,2:12,3:13,4:14,5:15,6:16,7:17,8:17};return"SuggestedLocation"===o&&"PositionOfInterest"===i&&(t=r[n.classification]),"GeocodedLocation"===o&&"PositionOfInterest"===i&&(t=r[n.importance]||14),"StreetAddress"===i&&(t=17),"CadastralParcel"===i&&(t=17),t}},Ya={getGeocodedLocationFreeform:function(e){var t=e.placeAttributes;if(t.label)return t.label;if("PositionOfInterest"===e.type){var o=t.toponym;return t.category&&Array.isArray(t.category)&&t.category.length>=2&&"administratif"===t.category[0]?o=o+", "+t.category[1]:t.postcode&&(o=o+", "+t.postcode[0],t.city&&(o=o+" "+t.city[0])),o}return"StreetAddress"===e.type?(t.housenumber?t.housenumber+" ":"")+t.street+" "+(t.postcode?t.postcode+", ":"")+t.city:"CadastralParcel"===e.type?t.id:"..."},getSuggestedLocationFreeform:function(e){if(e.fullText)return e.fullText;var t=[];return t.push(e.street||""),t.push(e.postalCode||""),t.push(e.commune||""),"PositionOfInterest"===e.type&&(t.push(e.poi||""),t.push(e.kind||"")),t.join(" - ")}},Ja={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPsearchEngine"),e.className="GPwidget",e},_createShowSearchEngineElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowSearchEngine"),e.type="checkbox",e},_createShowSearchEnginePictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowSearchEnginePicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowSearchEngine"),t.title="Afficher/masquer la recherche par lieux",t.addEventListener("click",(function(){document.getElementById(e._addUID("GPautoCompleteList")).style.display="none",document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none";var t=document.getElementById(e._addUID("GPshowAdvancedSearch"));t&&(t.style.display=null,document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none");var o="#GPsearchInput-"+e._uid;document.querySelector(o+" input").disabled=!1,e.onShowSearchEngineClick()}));var o=document.createElement("span");return o.id=this._addUID("GPshowSearchEngineOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createSearchInputElement:function(e){var t=this,o=document.createElement("form");o.id=this._addUID("GPsearchInput"),o.addEventListener("submit",(function(e){return e.preventDefault(),document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="block",document.getElementById(t._addUID("GPautoCompleteList")).style.display="none",t.onGeocodingSearchSubmit(e),!1}));var n=document.createElement("input");n.id=this._addUID("GPsearchInputText"),n.type="text",n.placeholder=e,n.autocomplete="off",n.addEventListener("keyup",(function(e){var o=e.which||e.keyCode;13!==o&&10!==o&&38!==o&&40!==o&&(document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="none",n.value.length>2?document.getElementById(t._addUID("GPautoCompleteList")).style.display="block":document.getElementById(t._addUID("GPautoCompleteList")).style.display="none",t.onAutoCompleteSearchText(e))})),n.addEventListener("keydown",(function(e){var o=e.which||e.keyCode,n=document.getElementById(t._addUID("GPautocompleteResults"));if(n){var i=n.getElementsByClassName("GPautoCompleteProposal current"),r=n.getElementsByClassName("GPautoCompleteProposal"),a=r.length;if(a){var s=null;if(!i.length)return(s=r[0]).className="GPautoCompleteProposal current",s.style.color="#000000",void(s.style["background-color"]="#CEDBEF");s=i[0];var l=parseInt(Pi.index(s.id),10),c=l===a-1?r[0]:r[l+1],u=0===l?r[a-1]:r[l-1];switch(s.style["background-color"]="",s.style.color="",u.style["background-color"]="",u.style.color="",c.style["background-color"]="",c.style.color="",o){case 38:s.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 40:s.className="GPautoCompleteProposal",c.className="GPautoCompleteProposal current",c.style.color="#000000",c.style["background-color"]="#CEDBEF";break;case 13:e.preventDefault(),s.click(e)}s.focus()}}})),o.appendChild(n);var i=document.createElement("div");return i.id=this._addUID("GPsearchInputReset"),i.addEventListener("click",(function(){document.getElementById(t._addUID("GPsearchInputText")).value="",document.getElementById(t._addUID("GPautoCompleteList")).style.display="none",document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="none",t.onSearchResetClick()})),o.appendChild(i),o},_createShowAdvancedSearchElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GPshowAdvancedSearch"),t.className="GPshowAdvancedToolPicto",t.title="Ouvrir la recherche avancée",t.addEventListener("click",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!0,document.getElementById(e._addUID("GPautoCompleteList")).style.display="none",document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none",document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="none",document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="inline-block"}));var o=document.createElement("span");return o.id=this._addUID("GPshowAdvancedSearchOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createAdvancedSearchPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPadvancedSearchPanel"),e.className="GPpanel",e.style.display="none",e},_createGeocodeResultsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPgeocodeResultsList"),e.className="GPpanel",e.style.display="none",e.appendChild(this._createGeocodeResultsHeaderElement()),e},_createAutoCompleteElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPautoCompleteList"),e.className="GPautoCompleteList",e.style.display="none",e},_createAutoCompleteListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPautocompleteResults"),t.addEventListener?t.addEventListener("click",(function(t){e.onAutoCompletedResultsItemClick(t),document.getElementById(e._addUID("GPautoCompleteList")).style.display="none"}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onAutoCompletedResultsItemClick(t),document.getElementById(e._addUID("GPautoCompleteList")).style.display="none"})),t},_createAutoCompletedLocationElement:function(e,t){var o=document.getElementById(this._addUID("GPautocompleteResults")),n=document.createElement("div");n.id=this._addUID("AutoCompletedLocation_"+t),n.className="GPautoCompleteProposal",n.innerHTML=Ya.getSuggestedLocationFreeform(e),n.addEventListener?n.addEventListener("click",(function(e){o.click(e)}),!1):n.attachEvent&&n.attachEvent("onclick",(function(e){o.click(e)})),o.appendChild(n)},_createAdvancedSearchPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Recherche avancée",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GPadvancedSearchClose"),n.className="GPpanelClose",n.title="Fermer la recherche avancée",n.addEventListener?n.addEventListener("click",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none",document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none",document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none"})),t.appendChild(n),t},_createAdvancedSearchPanelFormElement:function(e){var t=this,o=document.createElement("form");o.id=this._addUID("GPadvancedSearchForm"),o.addEventListener("submit",(function(e){e.preventDefault();for(var o=[],n="#GPadvancedSearchFilters-"+t._uid,i=document.querySelectorAll(n+" > div > div > input"),r=0;r<i.length;r++){var a=i[r];o.push({key:a.name,value:a.value})}return t.onGeocodingAdvancedSearchSubmit(e,o),document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="block",!1}));var n=document.createElement("div");n.className="GPflexInput";var i=document.createElement("label");i.className="GPadvancedSearchCodeLabel",i.innerHTML="Recherche par",n.appendChild(i);var r=this._createAdvancedSearchFormCodeElement(e);return n.appendChild(r),o.appendChild(n),o},_createAdvancedSearchFormCodeElement:function(e){var t=this,o=document.createElement("select");o.id=this._addUID("GPadvancedSearchCode"),o.className="GPadvancedSearchCode",o.addEventListener("change",(function(e){t.onGeocodingAdvancedSearchCodeChange(e)}),!1),e||(e=[{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"StreetAddress",title:"Adresses"},{id:"CadastralParcel",title:"Parcelles cadastrales"}]);for(var n=0;n<e.length;n++){var i=document.createElement("option");i.value=e[n].id,i.text=e[n].title,o.appendChild(i)}return o},_createAdvancedSearchFormInputElement:function(){var e=document.createElement("input");return e.type="submit",e.id=this._addUID("GPadvancedSearchSubmit"),e.className="GPinputSubmit",e.value="Chercher",e},_createAdvancedSearchFormFiltersElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPadvancedSearchFilters"),e},_createAdvancedSearchFiltersTableElement:function(e,t){var o=document.createElement("div");return o.id=this._addUID(e),t||(o.style.display="none"),o},_createAdvancedSearchFiltersAttributElement:function(e){var t=null,o=e.name,n=e.title,i=e.description,r=e.code,a=e.value,s=document.createElement("div");s.className="GPflexInput";var l=document.createElement("label");l.className="GPadvancedSearchFilterLabel",l.htmlFor=o,l.title=i||n,l.innerHTML=n,s.appendChild(l);var c=document.createElement("input");if(c.id=o,c.className="GPadvancedSearchFilterInput",c.type="text",c.name=o,a)if(Array.isArray(a)){var u=o+"_list";c.setAttribute("list",u);var d=document.createElement("datalist");d.id=u;for(var p=0;p<a.length;++p){var h=document.createElement("option");h.value=a[p],d.appendChild(h)}s.appendChild(d)}else c.value=a;return s.appendChild(c),(t=document.getElementById(this._addUID(r)))?t.appendChild(s):t=s,t},_createGeocodeResultsHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Résultats de la recherche",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GPgeocodeResultsClose"),n.className="GPpanelClose",n.title="Fermer la fenêtre de résultats",n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"})),t.appendChild(n),t},_createGeocodeResultsListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPgeocodeResults"),t.addEventListener?t.addEventListener("click",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"),e.onGeocodedResultsItemClick(t)}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"),e.onGeocodedResultsItemClick(t)})),t},_createGeocodedLocationElement:function(e,t){var o=document.getElementById(this._addUID("GPgeocodeResults")),n=document.createElement("div");n.id=this._addUID("GeocodedLocation_"+t),n.className="GPautoCompleteProposal",n.innerHTML="string"==typeof e?e:Ya.getGeocodedLocationFreeform(e),o.appendChild(n)}};function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ka=lt.getLogger("searchengine"),Xa=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._initContainer(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Ja),t.prototype.constructor=t,t.prototype.setMap=function(t){t||this._clearResults(),e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this._showSearchEngineInput.click(),this.collapsed=e):Ka.log("[ERROR] SearchEngine:setCollapsed - missing collapsed parameter")},t.prototype.getData=function(){return this._geocodedLocations},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,zoomTo:"",resources:{geocode:"",autocomplete:[]},displayAdvancedSearch:!0,advancedSearch:{},geocodeOptions:{serviceOptions:{}},autocompleteOptions:{serviceOptions:{},triggerGeocode:!1,triggerDelay:1e3},displayMarker:!0,markerStyle:"lightOrange",placeholder:"Rechercher un lieu, une adresse"},qt.mergeParams(this.options,e),""===this.options.resources.geocode&&(this.options.resources.geocode="address,poi"),0===this.options.resources.autocomplete.length&&(this.options.resources.autocomplete=["PositionOfInterest","StreetAddress"]),this.collapsed=this.options.collapsed,this._uid=Pi.generate(),this._showSearchEngineInput=null,this._inputSearchContainer=null,this._autocompleteContainer=null,this._suggestedContainer=null,this._suggestedLocations=[],this._geocodedContainer=null,this._geocodedLocations=[],this._filterContainer=null,this._currentGeocodingCode=null,this._currentGeocodingLocation=null,this._advancedSearchFilters={},this._initAdvancedSearchFilters(),this._advancedSearchCodes=[],this._initAdvancedSearchCodes(),this._marker=null;var t=this.options.markerStyle;this._markerUrl=-1===Object.keys(At).indexOf(t)?At.lightOrange:At[t],this._displayMarker=this.options.displayMarker,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._triggerHandler=null},t.prototype._checkInputOptions=function(e){var t;if(e.resources)if("object"===Za(e.resources)){var o=e.resources.geocode;if(o)if(Array.isArray(o)){var n=["StreetAddress","PositionOfInterest","CadastralParcel","Administratif"];for(t=0;t<o.length;t++)-1===n.indexOf(o[t])&&Ka.log("[SearchEngine] options.resources.geocode : "+o[t]+" is not a resource for geocode")}else Ka.log("[SearchEngine] 'options.resources.geocode' parameter should be an array"),o=null;var i=e.resources.autocomplete;if(i)if(Array.isArray(i)){var r=["StreetAddress","PositionOfInterest"];for(t=0;t<i.length;t++)-1===r.indexOf(i[t])&&Ka.log("[SearchEngine] options.resources.autocomplete : "+i[t]+" is not a resource for autocomplete")}else Ka.log("[SearchEngine] 'options.resources.autocomplete' parameter should be an array"),i=null}else Ka.log("[SearchEngine] 'resources' parameter should be an object"),e.resources=null},t.prototype._initAdvancedSearchCodes=function(){var e=this.options.resources.geocode;"location"===e&&(e=["PositionOfInterest","StreetAddress","CadastralParcel"]),Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)switch(e[t]){case"PositionOfInterest":this._advancedSearchCodes.push({id:"PositionOfInterest",title:"Lieux/toponymes"});break;case"StreetAddress":this._advancedSearchCodes.push({id:"StreetAddress",title:"Adresses"});break;case"CadastralParcel":this._advancedSearchCodes.push({id:"CadastralParcel",title:"Parcelles cadastrales"})}0===this._advancedSearchCodes.length&&(this._advancedSearchCodes=[{id:"StreetAddress",title:"Adresses"},{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"CadastralParcel",title:"Cadastre"}]),Ka.log("advancedSearchCodes",this._advancedSearchCodes)},t.prototype._initAdvancedSearchFilters=function(){this._advancedSearchFilters=Ha.advancedSearchFiltersByDefault;var e=this.options.advancedSearch;qt.assign(this._advancedSearchFilters,e),Ka.log("advancedSearchFilters",this._advancedSearchFilters)},t.prototype._initPopupDiv=function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var o=document.createElement("input");return o.type="button",o.className="gp-styling-button closer",o.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",this._popupContent.style["min-width"]="200px",t.appendChild(this._popupContent),t.appendChild(o),t},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showSearchEngineInput=this._createShowSearchEngineElement();e.appendChild(t),this.options.collapsed||(t.checked=!0);var o=this._createShowSearchEnginePictoElement();e.appendChild(o);var n=this._inputSearchContainer=this._createSearchInputElement(this.options.placeholder),i=this;if(n.addEventListener?n.addEventListener("click",(function(){i.onAutoCompleteInputClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){i.onAutoCompleteInputClick()})),e.appendChild(n),this.options.displayAdvancedSearch){var r=this._createShowAdvancedSearchElement();e.appendChild(r);var a=this._createAdvancedSearchPanelElement(),s=this._createAdvancedSearchPanelHeaderElement(),l=this._createAdvancedSearchPanelFormElement(this._advancedSearchCodes),c=this._filterContainer=this._createAdvancedSearchFormFiltersElement();this._setFilter(this._advancedSearchCodes[0].id);var u=this._createAdvancedSearchFormInputElement();l.appendChild(c),l.appendChild(u),a.appendChild(s),a.appendChild(l),e.appendChild(a)}var d=this._autocompleteContainer=this._createAutoCompleteElement(),p=this._suggestedContainer=this._createAutoCompleteListElement();d.appendChild(p),e.appendChild(d);var h=this._createGeocodeResultsElement(),g=this._geocodedContainer=this._createGeocodeResultsListElement();return h.appendChild(g),e.appendChild(h),e},t.prototype._setFilter=function(e){for(var t=this._filterContainer,o=!1,n=0;n<this._advancedSearchCodes.length;n++)if(this._advancedSearchCodes[n].id===e){o=!0;break}if(o){for(this._currentGeocodingCode=e;t.firstChild;)t.removeChild(t.firstChild);var i=this._advancedSearchFilters[e];if(i&&0!==i.length){for(var r=this._createAdvancedSearchFiltersTableElement(e,!0),a=0;a<i.length;a++){var s=this._createAdvancedSearchFiltersAttributElement(i[a]);r.appendChild(s)}return t.appendChild(r),t}}else for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype._requestAutoComplete=function(e){if(e&&("object"!==Za(e)||0!==Object.keys(e).length)&&e.text){Ka.log(e);var t={};qt.assign(t,this.options.autocompleteOptions.serviceOptions),qt.assign(t,e);var o=this.options.resources.autocomplete;o&&Array.isArray(o)&&(t.type||(t.type=o)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Ka.log(t),st.Services.autoComplete(t)}},t.prototype._fillAutoCompletedLocationListContainer=function(e){if(e&&0!==e.length){var t=this._suggestedContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);this._displaySuggestedLocation();for(var o=0;o<e.length;o++)this._createAutoCompletedLocationElement(e[o],o)}},t.prototype._requestGeocoding=function(e){if(e&&("object"!==Za(e)||0!==Object.keys(e).length)&&null!==e.query){Ka.log(e);var t={};qt.assign(t,this.options.geocodeOptions.serviceOptions),qt.assign(t,e);var o=this,n=!(null===this.options.geocodeOptions.serviceOptions.onFailure||"function"!=typeof this.options.geocodeOptions.serviceOptions.onFailure);if(!(null===this.options.geocodeOptions.serviceOptions.onSuccess||"function"!=typeof this.options.geocodeOptions.serviceOptions.onSuccess)){t.onSuccess=function(t){e.onSuccess.call(o,t),o.options.geocodeOptions.serviceOptions.onSuccess.call(o,t)}}if(n){t.onFailure=function(t){e.onFailure.call(o,t),o.options.geocodeOptions.serviceOptions.onFailure.call(o,t)}}var i=this.options.resources.geocode;i&&(t.index||(t.index=i)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Ka.log(t),st.Services.geocode(t)}},t.prototype._fillGeocodedLocationListContainer=function(e){if(e&&0!==e.length){var t=this._geocodedContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var o=0;o<e.length;o++)Ka.log(e[o]),this._createGeocodedLocationElement(e[o],o);this._geocodedLocations=e}else this._clearGeocodedLocation()},t.prototype._setLabel=function(e){document.getElementById("GPsearchInputText-"+this._uid).value=e},t.prototype._setPosition=function(e,t){var o=this.getMap().getView();o.setCenter(e),o.setZoom(t)},t.prototype._setMarker=function(e,t){var o=this.getMap(),n=this;if(null!=this._marker&&(o.removeOverlay(this._marker),this._marker=null),e){var i=document.createElement("img");i.src=this._markerUrl,i.addEventListener?i.addEventListener("click",(function(){n._onResultMarkerSelect(t)})):i.attachEvent&&i.attachEvent("onclick",(function(){n._onResultMarkerSelect(t)})),this._marker=new a.a({position:e,offset:[-25.5,-38],element:i,stopEvent:!1}),o.addOverlay(this._marker)}},t.prototype._getZoom=function(e){var t=this.getMap(),o=this.options.zoomTo,n=null;if("function"==typeof o&&(Ka.trace("zoom function"),n=o.call(this,e)),"number"==typeof o&&(Ka.trace("zoom level"),n=o),"string"==typeof o)if("auto"===o)Ka.trace("zoom auto"),n=Ha.zoomToResultsByDefault(e);else{Ka.trace("zoom level parsing");var i=parseInt(o,10);isNaN(i)||(Ka.trace("zoom parsing"),n=i)}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n&&""!==n&&Number.isInteger(n)||(Ka.trace("zoom not found, current zoom..."),n=t.getView().getZoom());var r=t.minZoom,a=t.maxZoom;return n<r&&(Ka.trace("zoom level min..."),n=r),n>a&&(Ka.trace("zoom level max..."),n=a),Ka.trace("zoom",n),n},t.prototype._onResultMarkerSelect=function(e){var t=this.getMap(),o="";if("string"!=typeof e)if("GeocodedLocation"===e.service){o="<ul>";var n=e.location.placeAttributes;for(var i in n)n.hasOwnProperty(i)&&"trueGeometry"!==i&&"extraFields"!==i&&"houseNumberInfos"!==i&&"_count"!==i&&(o+="<li>",o+='<span class="gp-attname-others-span">'+i.toUpperCase()+" : </span>",o+=n[i],o+=" </li>");o+=" </ul>"}else o="SuggestedLocation"===e.service?Ya.getSuggestedLocationFreeform(e.location):"sans informations.";else o=e;this._popupContent.innerHTML=o,this._popupOverlay?this._popupOverlay.setPosition(this._marker.getPosition()):(this._popupOverlay=new a.a({element:this._popupDiv,positioning:"bottom-center",position:this._marker.getPosition(),offset:[0,-42]}),t.addOverlay(this._popupOverlay))},t.prototype.onShowSearchEngineClick=function(){var e=this.getMap();Wa.unset(e),this.collapsed=this._showSearchEngineInput.checked,this.dispatchEvent("change:collapsed")},t.prototype.onSearchResetClick=function(){this._clearResults()},t.prototype.onAutoCompleteInputClick=function(){var e=document.getElementById("GPsearchInputText-"+this._uid);e&&!e.disabled&&e.value.length>2&&this._displaySuggestedLocation()},t.prototype.onAutoCompleteSearchText=function(e){var t=e.target.value;if(t)if(this._currentGeocodingLocation=t,t.length<3)this._clearSuggestedLocation();else{var o=this.options.autocompleteOptions.triggerGeocode,n=this.options.autocompleteOptions.triggerDelay,i=this;this._requestAutoComplete({text:t,onSuccess:function(e){if(Ka.log("request from AutoComplete",e),e){i._suggestedLocations=e.suggestedLocations,i._locationsToBeDisplayed=[];for(var t=0;t<i._suggestedLocations.length;t++){var o=i._suggestedLocations[t];o.position&&0===o.position.x&&0===o.position.y&&o.fullText?i._getGeocodeCoordinatesFromFullText(o,t):i._locationsToBeDisplayed.push(o)}i._fillAutoCompletedLocationListContainer(i._locationsToBeDisplayed),i._triggerHandler&&(clearTimeout(i._triggerHandler),i._triggerHandler=null,Ka.warn("Cancel a geocode request !"))}},onFailure:function(e){i._clearSuggestedLocation(),Ka.log(e.message),"No suggestion matching the search"===e.message&&o&&(i._triggerHandler&&(clearTimeout(i._triggerHandler),Ka.warn("Cancel the last geocode request !")),i._triggerHandler=setTimeout((function(){Ka.warn("Launch a geocode request (code postal) !"),i._requestGeocoding({location:t,onSuccess:function(e){if(Ka.log("request from Geocoding",e),e){i._locationsToBeDisplayed=[];for(var t=e.locations,o=0;o<t.length;o++){var n=t[o];n.fullText=Ya.getGeocodedLocationFreeform(n),n.position={x:n.position.lon,y:n.position.lat},i._locationsToBeDisplayed.push(n)}i._fillAutoCompletedLocationListContainer(t)}},onFailure:function(e){Ka.log(e.message)}})}),n))}});var r=this.getMap();r.on("click",this._hideSuggestedLocation,this),r.on("pointerdrag",this._hideSuggestedLocation,this)}},t.prototype._getGeocodeCoordinatesFromFullText=function(e,t){var o=this;st.Services.geocode({apiKey:this.options.apiKey,ssl:this.options.ssl,q:Ya.getSuggestedLocationFreeform(e),index:e.type,onSuccess:function(e){Ka.log("request from Geocoding (coordinates null)",e),e.locations&&0!==e.locations.length&&e.locations[0].position&&o._suggestedLocations&&o._suggestedLocations[t]&&(o._suggestedLocations[t].position={lon:e.locations[0].position.y,lat:e.locations[0].position.x},o._locationsToBeDisplayed.unshift(o._suggestedLocations[t]),o._fillAutoCompletedLocationListContainer(o._locationsToBeDisplayed))},onFailure:function(){o._suggestedLocations&&o._suggestedLocations[t]&&o._createAutoCompletedLocationElement(o._suggestedLocations[t],t)}})},t.prototype.onAutoCompletedResultsItemClick=function(e){var t=Pi.index(e.target.id);if(Ka.log(t),Ka.log(this._locationsToBeDisplayed[t]),t){var o=[this._locationsToBeDisplayed[t].position.x,this._locationsToBeDisplayed[t].position.y],n={service:"SuggestedLocation",location:this._locationsToBeDisplayed[t]},i=Ya.getSuggestedLocationFreeform(this._locationsToBeDisplayed[t]);this._setLabel(i),this._currentGeocodingLocation=i;var r=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==r&&(o=Object(Co.transform)(o,"EPSG:4326",r));var a=this._getZoom(n);this._setPosition(o,a),this._displayMarker&&this._setMarker(o,n),this.dispatchEvent({type:"searchengine:autocomplete:click",location:this._locationsToBeDisplayed[t]})}},t.prototype.onGeocodingSearchSubmit=function(e){var t=e.target[0].value;if(t){this._currentGeocodingLocation=t;var o=this;this._requestGeocoding({query:t,onSuccess:function(e){if(Ka.log("request from Geocoding",e),e){var t=e.locations;o._fillGeocodedLocationListContainer(t)}},onFailure:function(e){o._clearGeocodedLocation(),Ka.log(e.message)}})}},t.prototype.onGeocodedResultsItemClick=function(e){var t=Pi.index(e.target.id);if(t){var o=[this._geocodedLocations[t].position.lon,this._geocodedLocations[t].position.lat],n={service:"GeocodedLocation",location:this._geocodedLocations[t]},i=Ya.getGeocodedLocationFreeform(this._geocodedLocations[t]);this._setLabel(i);var r=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==r&&(o=Object(Co.transform)(o,"EPSG:4326",r));var a=this._getZoom(n);this._setPosition(o,a),this._displayMarker&&this._setMarker(o,n),this.dispatchEvent({type:"searchengine:geocode:click",location:this._geocodedLocations[t]})}},t.prototype.onGeocodingAdvancedSearchCodeChange=function(e){Ka.log(e);var t=e.target.selectedIndex,o=e.target.options[t].value;o&&this._setFilter(o)},t.prototype.onGeocodingAdvancedSearchSubmit=function(e,t){if(Ka.log(t),t&&0!==t.length){for(var o,n={},i=0;i<t.length;i++){var r=t[i];r.value&&(n[r.key]=r.value)}o=document.getElementById("GPsearchInputText-"+this._uid).value,"CadastralParcel"===this._currentGeocodingCode&&(o="");var a=this;this._requestGeocoding({query:o,index:this._currentGeocodingCode,filters:n,onSuccess:function(e){if(Ka.log(e),e){var t=e.locations;a._fillGeocodedLocationListContainer(t)}},onFailure:function(e){a._clearGeocodedLocation(),Ka.log(e.message)}})}},t.prototype._getCadastralParcelRequestParams=function(e){var t,o="",n=e.department;o=n?2===(t=n.length)?n:1===t?"0"+n:n.substring(0,2):"__";var i=e.commune;o+=i?3===(t=i.length)?i:2===t?"_"+i:1===t?"__"+i:i.substring(0,3):"___";var r=e.insee;r&&5===r.length&&(o=r);var a=e.absorbedCity;a?3===(t=a.length)?o+=a:t<3?2===t?o+="_"+a:1===t&&(o+="__"+a):o+=a.substring(0,3):o+="___";var s=e.section;o+=s?2===(t=s.length)?s:1===t?"_"+s:s.substring(0,2):"__";var l=e.number;return o+=l?4===(t=l.length)?l:3===t?"_"+l:2===t?"__"+l:1===t?"___"+l:l.substring(0,4):"___",Ka.log("location : "+o),o},t.prototype._clearResults=function(){var e=this.getMap();this._currentGeocodingLocation=null,this._clearSuggestedLocation(),this._clearGeocodedLocation(),this._setMarker(),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null)},t.prototype._clearSuggestedLocation=function(){if(this._suggestedLocations=[],this._suggestedContainer)for(;this._suggestedContainer.firstChild;)this._suggestedContainer.removeChild(this._suggestedContainer.firstChild)},t.prototype._hideSuggestedLocation=function(){this._autocompleteContainer&&(this._autocompleteContainer.style.display="none")},t.prototype._displaySuggestedLocation=function(){this._autocompleteContainer&&(this._autocompleteContainer.style.display="block")},t.prototype._clearGeocodedLocation=function(){if(this._geocodedLocations=[],this._geocodedContainer)for(;this._geocodedContainer.firstChild;)this._geocodedContainer.removeChild(this._geocodedContainer.firstChild)},t}(xi.a),Qa=Xa;window.ol&&window.ol.control&&(window.ol.control.SearchEngine=Xa);var $a={modulo:function(e,t){var o=e%t;return o*t<0?o+t:o},decimalToDMS:function(e,t,o){var n=this.modulo(e+180,360)-180,i=Math.abs(3600*n),r=o||0,a=Math.pow(10,r),s=Math.floor(i/3600),l=Math.floor((i-3600*s)/60),c=i-3600*s-60*l;return(c=Math.ceil(c*a)/a)>=60&&(c=0,l+=1),l>=60&&(l=0,s+=1),{d:s,m:l,s:c,direction:t.charAt(n<0?1:0)}},toInteger:function(e,t){var o=parseInt(e,t||10);return!isNaN(o)&&isFinite(o)?o:null},isInteger:function(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t},toFloat:function(e){var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:null}},es=lt.getLogger("draggable"),ts={dragElement:function(e,t,o){var n,i,r=!1,a={x:0,y:0};function s(t){(t=t||window.event).preventDefault(),r=!0,t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),a.x=t._pageX-e.offsetLeft,a.y=t._pageY-e.offsetTop,document.addEventListener("mouseup",l,!0),document.addEventListener("mousemove",c,!0)}function l(){r=!1,document.removeEventListener("mouseup",l,!0),document.removeEventListener("mousemove",c,!0)}function c(t){if(t=t||window.event,r){t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);var o=e.parentElement.offsetLeft,s=e.parentElement.offsetTop;es.trace("parent offset",o,s),n=t._pageX-a.x<0-o?0-o:t._pageX-a.x+e.clientWidth>document.body.clientWidth?document.body.clientWidth-e.clientWidth:t._pageX-a.x,es.trace("left/right constraint",n),i=t._pageY-a.y<0-s?0-s:t._pageY-a.y+e.clientHeight>document.body.clientHeight?document.body.clientHeight-e.clientHeight:t._pageY-a.y,es.trace("top/bottom constraint",i),e.style.top=i+"px",e.style.left=n+"px"}}t?t.addEventListener("mousedown",s,!0):e.addEventListener("mousedown",s,!0)}},os=o(20),ns=o.n(os),is=o(74),rs=o(75),as=o.n(rs),ss=lt.getLogger("CRS");function ls(e){var t=Object.keys(e.defs);ss.trace("proj. codes :",t);var o,n,i=t.length;for(o=0;o<i;++o){var r=t[o];if(!Object(Co.get)(r)){var a=e.defs(r);Object(Co.addProjection)(new as.a({code:r,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:a.units}))}}for(o=0;o<i;++o){var s=t[o],l=Object(Co.get)(s);for(n=0;n<i;++n){var c=t[n],u=Object(Co.get)(c);if(!Object(is.get)(s,c))if(e.defs[s]===e.defs[c])Object(Co.addEquivalentProjections)([l,u]);else{var d=e(s,c);Object(Co.addCoordinateTransforms)(l,u,d.forward,d.inverse)}}}}var cs={isLoaded:!1,get:function(e){if(""!==e&&null!=e){var t=e.split(":");if(2===t.length){var o=t[0],n=t[1];if(this.hasOwnProperty(o)&&this[o].hasOwnProperty(n))return this[o][n]}}},exist:function(e){if(""===e||null==e)return!1;var t=e.split(":");if(2!==t.length)return!1;var o=t[0],n=t[1];return!!this.hasOwnProperty(o)&&!!this[o].hasOwnProperty(n)},load:function(e){if(!this.isLoaded){for(var t=["IGNF","EPSG","CRS"],o=0;o<t.length;o++){var n=t[o],i=this[n];for(var r in i)if(i.hasOwnProperty(r)){var a=n+":"+r;e.defs(a,this.get(a))}}this.isLoaded=!0}},loadByDefault:function(e){var t={EPSG:{2154:cs.EPSG[2154],27571:cs.EPSG[27571],27572:cs.EPSG[27572],27573:cs.EPSG[27573],27574:cs.EPSG[27574]},CRS:{84:cs.CRS[84]},IGNF:{LAMB93:cs.IGNF.LAMB93,LAMBE:cs.IGNF.LAMBE,LAMB1:cs.IGNF.LAMB1,LAMB2:cs.IGNF.LAMB2,LAMB3:cs.IGNF.LAMB3,LAMB4:cs.IGNF.LAMB4,RGF93G:cs.IGNF.RGF93G,WGS84G:cs.IGNF.WGS84G}};for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];for(var i in n)if(n.hasOwnProperty(i)){var r=o+":"+i;e.defs(r,n[i])}}},loadByName:function(e,t){if(!this.exist(t))return!1;try{e.defs(t,this.get(t))}catch(e){return!1}return!0},EPSG:{4978:"+proj=geocent +datum=WGS84 +units=m +no_defs ",3857:"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",3785:"+title=WGS 84 / Pseudo-Mercator (deprecated) +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",4149:"+title=CH1903 +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4150:"+title=CH1903plus +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4151:"+title=CHTRF95 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4171:"+title=RGF93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4230:"+title=ED50 +proj=longlat +ellps=intl +no_defs ",4235:"+title=Guyane Francaise +proj=longlat +ellps=intl +no_defs ",4258:"+title=ETRS89 +proj=longlat +ellps=GRS80 +no_defs ",4275:"+title=NTF +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +no_defs ",4322:"+title=WGS 72 +proj=longlat +ellps=WGS72 +no_defs ",4326:"+title=WGS 84 +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ",4467:"+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4470:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4471:"+proj=utm +zone=38 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4474:"+proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",4558:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4559:"+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4621:"+title=Fort Marigot +proj=longlat +ellps=intl +towgs84=137,248,-430,0,0,0,0 +no_defs ",4622:"+title=Guadeloupe 1948 +proj=longlat +ellps=intl +no_defs ",4623:"+title=CSG67 +proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ",4624:"+title=RGFG95 +proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ",4625:"+title=Martinique 1938 +proj=longlat +ellps=intl +no_defs ",4626:"+title=Reunion 1947 +proj=longlat +ellps=intl +no_defs ",4627:"+title=RGR92 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4628:"+title=Tahiti 52 +proj=longlat +ellps=intl +towgs84=162,117,154,0,0,0,0 +no_defs ",4629:"+title=Tahaa 54 +proj=longlat +ellps=intl +no_defs ",4630:"+title=IGN72 Nuku Hiva +proj=longlat +ellps=intl +no_defs ",4632:"+title=Combani 1950 +proj=longlat +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +no_defs ",4633:"+title=IGN56 Lifou +proj=longlat +ellps=intl +no_defs ",4634:"+title=IGN72 Grand Terre +proj=longlat +ellps=intl +no_defs ",4637:"+title=Perroud 1950 +proj=longlat +ellps=intl +towgs84=325,154,172,0,0,0,0 +no_defs ",4638:"+title=Saint Pierre et Miquelon 1950 +proj=longlat +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +no_defs ",4640:"+title=RRAF 1991 +proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ",4641:"+title=IGN53 Mare +proj=longlat +ellps=intl +no_defs ",4645:"+title=RGNC 1991 +proj=longlat +ellps=intl +towgs84=0,0,0,0,0,0,0 +no_defs ",4687:"+proj=longlat +ellps=GRS80 +no_defs ",4662:"+title=IGN72 Grande Terre +proj=longlat +ellps=intl +no_defs ",4689:"+title=IGN63 Hiva Oa +proj=longlat +ellps=intl +no_defs ",4690:"+title=Tahiti 79 +proj=longlat +ellps=intl +no_defs ",4691:"+title=Moorea 87 +proj=longlat +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +no_defs ",4692:"+title=Maupiti 83 +proj=longlat +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +no_defs ",4698:"+title=IGN 1962 Kerguelen +proj=longlat +ellps=intl +towgs84=145,-187,103,0,0,0,0 +no_defs ",4749:"+title=RGNC91-93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4750:"+title=ST87 Ouvea +proj=longlat +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +no_defs ",4807:"+title=NTF (Paris) +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +no_defs ",2056:"+title=CH1903+ / LV95 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",2154:"+title=RGF93 / Lambert-93 +proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2213:"+title=ETRS89 / TM 30 NE +proj=tmerc +lat_0=0 +lon_0=30 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ",2969:"+title=Fort Marigot / UTM zone 20N +proj=utm +zone=20 +ellps=intl +towgs84=137,248,-430,0,0,0,0 +units=m +no_defs ",2970:"+title=Guadeloupe 1948 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2971:"+title=CSG67 / UTM zone 22N +proj=utm +zone=22 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",2972:"+title=RGFG95 / UTM zone 22N +proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",2973:"+title=Martinique 1938 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2975:"+title=RGR92 / UTM zone 40S +proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2976:"+title=Tahiti 52 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=162,117,154,0,0,0,0 +units=m +no_defs ",2977:"+title=Tahaa 54 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +units=m +no_defs ",2978:"+title=IGN72 Nuku Hiva / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",2980:"+title=Combani 1950 / UTM zone 38S +proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",2981:"+title=IGN56 Lifou / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2982:"+title=IGN72 Grand Terre / UTM zone 58S (deprecated) +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2984:"+title=RGNC 1991 / Lambert New Caledonia (deprecated) +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=intl +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2986:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67.000000000 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",2987:"+title=Saint Pierre et Miquelon 1950 / UTM zone 21N +proj=utm +zone=21 +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +units=m +no_defs ",2989:"+title=RRAF 1991 / UTM zone 20N +proj=utm +zone=20 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2990:"+title=Reunion 1947 / TM Reunion (deprecated) +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=50000 +y_0=160000 +ellps=intl +units=m +no_defs ",2995:"+title=IGN53 Mare / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3038:"+proj=utm +zone=26 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3039:"+proj=utm +zone=27 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3040:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3041:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3045:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3046:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3047:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3048:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3049:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3050:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3051:"+proj=utm +zone=39 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3034:"+title=ETRS89 / ETRS-LCC +proj=lcc +lat_1=35 +lat_2=65 +lat_0=52 +lon_0=10 +x_0=4000000 +y_0=2800000 +ellps=GRS80 +units=m +no_defs ",3035:"+title=ETRS89 / ETRS-LAEA +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ",3042:"+title=ETRS89 / ETRS-TM30 +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",3043:"+title=ETRS89 / ETRS-TM31 +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",3044:"+title=ETRS89 / ETRS-TM32 +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",25828:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25829:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25833:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25834:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25835:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25836:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25837:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25838:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3060:"+title=IGN72 Grande Terre / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3163:"+title=RGNC91-93 / Lambert New Caledonia +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3164:"+title=ST87 Ouvea / UTM zone 58S +proj=utm +zone=58 +south +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +units=m +no_defs ",3165:"+title=NEA74 Noumea / Noumea Lambert +proj=lcc +lat_1=-22.24469175 +lat_2=-22.29469175 +lat_0=-22.26969175 +lon_0=166.44242575 +x_0=0.66 +y_0=1.02 +ellps=intl +units=m +no_defs ",3166:"+title=NEA74 Noumea / Noumea Lambert 2 +proj=lcc +lat_1=-22.24472222222222 +lat_2=-22.29472222222222 +lat_0=-22.26972222222222 +lon_0=166.4425 +x_0=8.313000000000001 +y_0=-2.354 +ellps=intl +units=m +no_defs ",3169:"+title=RGNC91-93 / UTM zone 57S +proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3170:"+title=RGNC91-93 / UTM zone 58S +proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3171:"+title=RGNC91-93 / UTM zone 59S +proj=utm +zone=59 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3172:"+title=IGN53 Mare / UTM zone 59S +proj=utm +zone=59 +south +ellps=intl +units=m +no_defs ",3296:"+title=RGPF / UTM zone 5S +proj=utm +zone=5 +south +ellps=GRS80 +units=m +no_defs ",3297:"+title=RGPF / UTM zone 6S +proj=utm +zone=6 +south +ellps=GRS80 +units=m +no_defs ",3298:"+title=RGPF / UTM zone 7S +proj=utm +zone=7 +south +ellps=GRS80 +units=m +no_defs ",3299:"+title=RGPF / UTM zone 8S +proj=utm +zone=8 +south +ellps=GRS80 +units=m +no_defs ",3302:"+title=IGN63 Hiva Oa / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",3303:"+title=Fatu Iva 72 / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074 +units=m +no_defs ",3304:"+title=Tahiti 79 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +units=m +no_defs ",3305:"+title=Moorea 87 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +units=m +no_defs ",3306:"+title=Maupiti 83 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +units=m +no_defs ",3312:"+title=CSG67 / UTM zone 21N +proj=utm +zone=21 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",3313:"+title=RGFG95 / UTM zone 21N +proj=utm +zone=21 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",3336:"+title=IGN 1962 Kerguelen / UTM zone 42S +proj=utm +zone=42 +south +ellps=intl +towgs84=145,-187,103,0,0,0,0 +units=m +no_defs ",3395:"+title=WGS 84 / World Mercator +proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",3727:"+title=Reunion 1947 / TM Reunion +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=160000 +y_0=50000 +ellps=intl +units=m +no_defs ",21781:"+title=CH1903 / LV03 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",25830:"+title=ETRS89 / UTM zone 30N +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",25831:"+title=ETRS89 / UTM zone 31N +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",25832:"+title=ETRS89 / UTM zone 32N +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",27561:"+title=NTF (Paris) / Lambert Nord France +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27562:"+title=NTF (Paris) / Lambert Centre France +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27563:"+title=NTF (Paris) / Lambert Sud France +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27564:"+title=NTF (Paris) / Lambert Corse +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27571:"+title=NTF (Paris) / Lambert zone I +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27572:"+title=NTF (Paris) / Lambert zone II +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27573:"+title=NTF (Paris) / Lambert zone III +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27574:"+title=NTF (Paris) / Lambert zone IV +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27581:"+title=NTF (Paris) / France I (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27582:"+title=NTF (Paris) / France II (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27583:"+title=NTF (Paris) / France III (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27584:"+title=NTF (Paris) / France IV (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27591:"+title=NTF (Paris) / Nord France (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27592:"+title=NTF (Paris) / Centre France (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27593:"+title=NTF (Paris) / Sud France (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27594:"+title=NTF (Paris) / Corse (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",32601:"+proj=utm +zone=1 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32602:"+proj=utm +zone=2 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32603:"+proj=utm +zone=3 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32604:"+proj=utm +zone=4 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32605:"+proj=utm +zone=5 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32606:"+proj=utm +zone=6 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32607:"+proj=utm +zone=7 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32608:"+proj=utm +zone=8 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32609:"+proj=utm +zone=9 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32610:"+proj=utm +zone=10 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32611:"+proj=utm +zone=11 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32612:"+proj=utm +zone=12 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32613:"+proj=utm +zone=13 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32614:"+proj=utm +zone=14 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32615:"+proj=utm +zone=15 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32616:"+proj=utm +zone=16 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32617:"+proj=utm +zone=17 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32618:"+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32619:"+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32620:"+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32621:"+proj=utm +zone=21 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32622:"+proj=utm +zone=22 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32623:"+proj=utm +zone=23 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32624:"+proj=utm +zone=24 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32625:"+proj=utm +zone=25 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32626:"+proj=utm +zone=26 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32627:"+proj=utm +zone=27 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32628:"+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32629:"+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32630:"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32631:"+proj=utm +zone=31 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32632:"+proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32633:"+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32634:"+proj=utm +zone=34 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32635:"+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32636:"+proj=utm +zone=36 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32637:"+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32638:"+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32639:"+proj=utm +zone=39 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32640:"+proj=utm +zone=40 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32641:"+proj=utm +zone=41 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32642:"+proj=utm +zone=42 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32643:"+proj=utm +zone=43 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32644:"+proj=utm +zone=44 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32645:"+proj=utm +zone=45 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32646:"+proj=utm +zone=46 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32647:"+proj=utm +zone=47 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32648:"+proj=utm +zone=48 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32649:"+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32650:"+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32651:"+proj=utm +zone=51 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32652:"+proj=utm +zone=52 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32653:"+proj=utm +zone=53 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32654:"+proj=utm +zone=54 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32655:"+proj=utm +zone=55 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32656:"+proj=utm +zone=56 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32657:"+proj=utm +zone=57 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32658:"+proj=utm +zone=58 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32659:"+proj=utm +zone=59 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32660:"+proj=utm +zone=60 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32661:"+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32662:"+title=WGS 84 / Plate Carree +proj=eqc +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32701:"+proj=utm +zone=1 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32702:"+proj=utm +zone=2 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32703:"+proj=utm +zone=3 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32704:"+proj=utm +zone=4 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32705:"+proj=utm +zone=5 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32706:"+proj=utm +zone=6 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32707:"+proj=utm +zone=7 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32708:"+proj=utm +zone=8 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32709:"+proj=utm +zone=9 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32710:"+proj=utm +zone=10 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32711:"+proj=utm +zone=11 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32712:"+proj=utm +zone=12 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32713:"+proj=utm +zone=13 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32714:"+proj=utm +zone=14 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32715:"+proj=utm +zone=15 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32716:"+proj=utm +zone=16 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32717:"+proj=utm +zone=17 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32718:"+proj=utm +zone=18 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32719:"+proj=utm +zone=19 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32720:"+proj=utm +zone=20 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32721:"+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32722:"+proj=utm +zone=22 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32723:"+proj=utm +zone=23 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32724:"+proj=utm +zone=24 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32725:"+proj=utm +zone=25 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32726:"+proj=utm +zone=26 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32727:"+proj=utm +zone=27 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32728:"+proj=utm +zone=28 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32729:"+proj=utm +zone=29 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32730:"+proj=utm +zone=30 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32731:"+proj=utm +zone=31 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32732:"+proj=utm +zone=32 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32733:"+proj=utm +zone=33 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32734:"+proj=utm +zone=34 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32735:"+proj=utm +zone=35 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32736:"+proj=utm +zone=36 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32737:"+proj=utm +zone=37 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32738:"+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32739:"+proj=utm +zone=39 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32740:"+proj=utm +zone=40 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32741:"+proj=utm +zone=41 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32742:"+proj=utm +zone=42 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32743:"+proj=utm +zone=43 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32744:"+proj=utm +zone=44 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32745:"+proj=utm +zone=45 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32746:"+proj=utm +zone=46 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32747:"+proj=utm +zone=47 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32748:"+proj=utm +zone=48 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32749:"+proj=utm +zone=49 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32750:"+proj=utm +zone=50 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32751:"+proj=utm +zone=51 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32752:"+proj=utm +zone=52 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32753:"+proj=utm +zone=53 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32754:"+proj=utm +zone=54 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32755:"+proj=utm +zone=55 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32756:"+proj=utm +zone=56 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32757:"+proj=utm +zone=57 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32758:"+proj=utm +zone=58 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32759:"+proj=utm +zone=59 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32760:"+proj=utm +zone=60 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32761:"+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",310024802:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310915814:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310486805:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310700806:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310702807:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310706808:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310547809:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642810:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310032811:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642812:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642801:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642813:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642901:"+title=Geoportail - Monde +proj=mill +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",5489:"+title=RGAF09 geographiques (dms) +proj=longlat +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +units=m +no_defs",5490:"+title=RGAF09 UTM Nord Fuseau 20 +proj=tmerc +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"},CRS:{84:"+title=WGS 84 longitude-latitude +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "},IGNF:{AMST63:"+title=Amsterdam 1963 +proj=geocent +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63:"+title=Crozet 1963 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67:"+title=Guyane CSG67 +proj=geocent +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50:"+title=ED50 +proj=geocent +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ETRS89:"+title=Systeme de reference terrestre Europeen (1989) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",GUAD48:"+title=Guadeloupe Ste Anne +proj=geocent +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49:"+title=Guadeloupe Fort Marigot +proj=geocent +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=geocent +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=geocent +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62CAR:"+title=Kerguelen - K0 +proj=geocent +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38:"+title=Martinique Fort-Desaix +proj=geocent +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50:"+title=Mayotte Combani +proj=geocent +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87:"+title=Moorea 1987 +proj=geocent +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTF:"+title=Nouvelle Triangulation Francaise +proj=geocent +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NUKU72:"+title=IGN 1972 Nuku Hiva +proj=geocent +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47:"+title=Reunion 1947 +proj=geocent +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93:"+title=Reseau geodesique francais 1993 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95:"+title=Reseau geodesique francais de Guyane 1995 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNC:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPF:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92:"+title=Reseau geodesique Reunion 1992 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06:"+title=Reseau Geodesique Saint-Pierre-et-Miquelon (2006) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07:"+title=Reseau Geodesique des TAAF (2007) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RRAF91:"+title=RRAF 1991 (Reseau de Reference des Antilles Francaises) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69:"+title=Saint-Paul 1969 +proj=geocent +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50:"+title=St Pierre et Miquelon 1950 +proj=geocent +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAA:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=geocent +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79:"+title=IGN79 (Tahiti) Iles de la Societe +proj=geocent +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50:"+title=Pointe Geologie - Perroud 1950 +proj=geocent +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78:"+title=Wallis-Uvea 1978 (MOP78) +proj=geocent +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72:"+title=World Geodetic System 1972 +proj=geocent +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84:"+title=World Geodetic System 1984 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63GEO:"+title=Amsterdam 1963 +proj=longlat +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63GEO:"+title=Crozet 1963 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67GEO:"+title=Guyane CSG67 +proj=longlat +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50G:"+title=ED50 +proj=longlat +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUAD48GEO:"+title=Guadeloupe Ste Anne +proj=longlat +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49GEO:"+title=Guadeloupe Fort Marigot +proj=longlat +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63GEO:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=longlat +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72GEO:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=longlat +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62GEO:"+title=Kerguelen - K0 +proj=longlat +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38GEO:"+title=Martinique Fort-Desaix +proj=longlat +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50GEO:"+title=Mayotte Combani +proj=longlat +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87GEO:"+title=Moorea 1987 +proj=longlat +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTFG:"+title=Nouvelle Triangulation Francaise Greenwich degres sexagesimaux +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NTFP:"+title=Nouvelle Triangulation Francaise Paris grades +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +units=m +no_defs",NUKU72GEO:"+title=IGN 1972 Nuku Hiva +proj=longlat +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47GEO:"+title=Reunion 1947 +proj=longlat +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93G:"+title=Reseau geodesique francais 1993 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95GEO:"+title=Reseau geodesique francais de Guyane 1995 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04GEO:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNCGEO:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPFGEO:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92GEO:"+title=Reseau geodesique de la Reunion 1992 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06GEO:"+title=Saint-Pierre-et-Miquelon (2006) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07G:"+title=Reseau Geodesique des TAAF (2007) (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69GEO:"+title=Saint-Paul 1969 +proj=longlat +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50GEO:"+title=St Pierre et Miquelon 1950  +proj=longlat +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAAGEO:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=longlat +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79GEO:"+title=IGN79 (Tahiti) Iles de la Societe +proj=longlat +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50G:"+title=Pointe Geologie - Perroud 1950 +proj=longlat +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78GEO:"+title=Wallis - Uvea 1978 (MOP78) +proj=longlat +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72G:"+title=WGS72 +proj=longlat +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84G:"+title=World Geodetic System 1984 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",WGS84RRAFGEO:"+title=Reseau de reference des Antilles francaises (1988-1991) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",XGEO:"+title=Systeme CIO-BIH +proj=longlat +towgs84=0.0000,0.0000,0.5000,0.0000,0.0000,0.0140,-0.100000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63UTM43S:"+title=Amsterdam 1963 UTM fuseau 43 Sud +proj=tmerc +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CROZ63UTM39S:"+title=Crozet 1963 +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CSG67UTM21:"+title=Guyane CSG67 UTM fuseau 21 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",CSG67UTM22:"+title=Guyane CSG67 UTM fuseau 22 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GEOPORTALANF:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALASP:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALCRZ:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALFXX:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALGUF:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALKER:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALMYT:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALNCL:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALPYF:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALREU:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALSPM:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALWLF:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GUAD48UTM20:"+title=Guadeloupe Ste Anne +proj=tmerc +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GUADFM49U20:"+title=Guadeloupe Fort Marigot  +proj=tmerc +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",IGN63UTM7S:"+title=IGN 1963 - Hiva Oa, Tahuata, Mohotani - UTM fuseau 7 Sud +proj=tmerc +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",IGN72UTM58S:"+title=IGN 1972 - UTM fuseau 58 Sud +proj=tmerc +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",KERG62UTM42S:"+title=Kerguelen 1962 +proj=tmerc +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",LAMB1:"+title=Lambert I +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB1C:"+title=Lambert I Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=1200000.000 +units=m +no_defs",LAMB2:"+title=Lambert II +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB2C:"+title=Lambert II Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",LAMB3:"+title=Lambert III +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB3C:"+title=Lambert III Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=3200000.000 +units=m +no_defs",LAMB4:"+title=Lambert IV +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=185861.369 +units=m +no_defs",LAMB4C:"+title=Lambert IV Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=4185861.369 +units=m +no_defs",LAMB93:"+title=Lambert 93 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.500000000 +lon_0=3.000000000 +lat_1=44.000000000 +lat_2=49.000000000 +x_0=700000.000 +y_0=6600000.000 +units=m +no_defs",RGF93CC42:"+title=Lambert conique conforme Zone 1 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=42.000000000 +lon_0=3.000000000 +lat_1=41.200000000 +lat_2=42.800000000 +x_0=1700000.000 +y_0=1200000.000 +units=m +no_defs",RGF93CC43:"+title=Lambert conique conforme Zone 2 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=43.000000000 +lon_0=3.000000000 +lat_1=42.200000000 +lat_2=43.800000000 +x_0=1700000.000 +y_0=2200000.000 +units=m +no_defs",RGF93CC44:"+title=Lambert conique conforme Zone 3 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=44.000000000 +lon_0=3.000000000 +lat_1=43.200000000 +lat_2=44.800000000 +x_0=1700000.000 +y_0=3200000.000 +units=m +no_defs",RGF93CC45:"+title=Lambert conique conforme Zone 4 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=45.000000000 +lon_0=3.000000000 +lat_1=44.200000000 +lat_2=45.800000000 +x_0=1700000.000 +y_0=4200000.000 +units=m +no_defs",RGF93CC46:"+title=Lambert conique conforme Zone 5 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.000000000 +lon_0=3.000000000 +lat_1=45.200000000 +lat_2=46.800000000 +x_0=1700000.000 +y_0=5200000.000 +units=m +no_defs",RGF93CC47:"+title=Lambert conique conforme Zone 6 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=47.000000000 +lon_0=3.000000000 +lat_1=46.200000000 +lat_2=47.800000000 +x_0=1700000.000 +y_0=6200000.000 +units=m +no_defs",RGF93CC48:"+title=Lambert conique conforme Zone 7 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=48.000000000 +lon_0=3.000000000 +lat_1=47.200000000 +lat_2=48.800000000 +x_0=1700000.000 +y_0=7200000.000 +units=m +no_defs",RGF93CC49:"+title=Lambert conique conforme Zone 8 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=49.000000000 +lon_0=3.000000000 +lat_1=48.200000000 +lat_2=49.800000000 +x_0=1700000.000 +y_0=8200000.000 +units=m +no_defs",RGF93CC50:"+title=Lambert conique conforme Zone 9 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=50.000000000 +lon_0=3.000000000 +lat_1=49.200000000 +lat_2=50.800000000 +x_0=1700000.000 +y_0=9200000.000 +units=m +no_defs",LAMBE:"+title=Lambert II etendu +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",MART38UTM20:"+title=Martinique Fort-Desaix +proj=tmerc +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",MAYO50UTM38S:"+title=Mayotte Combani +proj=tmerc +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",MILLER:"+title=Geoportail - Monde +proj=mill +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",MOOREA87U6S:"+title=Moorea 1987 - UTM fuseau 6 Sud +proj=tmerc +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",NUKU72U7S:"+title=IGN 1972 Nuku Hiva - UTM fuseau 7 Sud +proj=tmerc +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGM04UTM38S:"+title=UTM fuseau 38 Sud (Reseau Geodesique de Mayotte 2004) +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM57S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 57 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=159.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM58S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 58 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM59S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 59 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=171.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM5S:"+title=RGPF - UTM fuseau 5 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM6S:"+title=RGPF - UTM fuseau 6 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM7S:"+title=RGPF - UTM fuseau 7 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGR92UTM40S:"+title=RGR92 UTM fuseau 40 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGSPM06U21:"+title=Saint-Pierre-et-Miquelon (2006) UTM Fuseau 21 Nord +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",STPL69UTM43S:"+title=Saint-Paul 1969 UTM fuseau 43 Sud +proj=tmerc +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",STPM50UTM21:"+title=St Pierre et Miquelon 1950 +proj=tmerc +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",TAHAAUTM05S:"+title=Tahaa 1951 +proj=tmerc +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI51UTM06S:"+title=Tahiti-Terme Nord UTM fuseau 6 Sud +proj=tmerc +towgs84=162.0000,117.0000,154.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI79UTM6S:"+title=Tahiti 1979 +proj=tmerc +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TERA50STEREO:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",UTM01SW84:"+title=World Geodetic System 1984 UTM fuseau 01 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM20W84GUAD:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Guadeloupe +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM20W84MART:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Martinique +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM22RGFG95:"+title=RGFG95 UTM fuseau 22 Nord-Guyane +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM39SW84:"+title=World Geodetic System 1984 UTM fuseau 39 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM42SW84:"+title=World Geodetic System 1984 UTM fuseau 42 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM43SW84:"+title=World Geodetic System 1984 UTM fuseau 43 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",WALL78UTM1S:"+title=Wallis-Uvea 1978 (MOP78) UTM 1 SUD +proj=tmerc +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",ETRS89GEO:"+title=ETRS89 geographiques (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",ETRS89LAEA:"+title=ETRS89 Lambert Azimutal Equal Area +proj=laea +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=10.000000000 +x_0=4321000.000 +y_0=3210000.000 +units=m +no_defs",ETRS89LCC:"+title=ETRS89 Lambert Conformal Conic +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=9.999999995 +lat_1=35.000000000 +lat_2=65.000000000 +x_0=4000000.000 +y_0=2800000.000 +units=m +no_defs",UTM26ETRS89:"+title=Europe - de 30d a 24d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM27ETRS89:"+title=Europe - de 24d a 18d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM28ETRS89:"+title=Europe - de 18d a 12d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM29ETRS89:"+title=Europe - de 12d a 6d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM30ETRS89:"+title=Europe - de -6d a 0d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM31ETRS89:"+title=Europe - de 0d a 6d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM32ETRS89:"+title=Europe - de 6d a 12d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM33ETRS89:"+title=Europe - de 12d a 18d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM34ETRS89:"+title=Europe - de 18d a 24d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM35ETRS89:"+title=Europe - de 24d a 30d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM36ETRS89:"+title=Europe - de 30d a 36d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=33.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM37ETRS89:"+title=Europe - de 36d a 42d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=39.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM38ETRS89:"+title=Europe - de 42d a 48d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"}},us=cs,ds=lt.getLogger("CRS"),ps={projectionsExtent:{"EPSG:2154":{left:-9.62,bottom:41.18,right:10.3,top:51.54},"EPSG:27572":{left:-4.87,bottom:42.33,right:8.23,top:51.14}},load:function(){if(ds.trace("Loading custom definitions projections"),!us.isLoaded){us.load(ns.a);try{ls(ns.a),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ls,window.ol.proj.proj4.register(ns.a))}catch(e){ds.error(e)}}},loadByDefault:function(){if(ds.trace("Loading custom definitions projections by default"),!us.isLoaded){us.loadByDefault(ns.a);try{ls(ns.a),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ls,window.ol.proj.proj4.register(ns.a))}catch(e){ds.error(e)}}},loadByName:function(e){if(ds.trace("Loading a custom definition projection : ",e),!us.isLoaded){us.loadByName(ns.a,e);try{ls(ns.a),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ls,window.ol.proj.proj4.register(ns.a))}catch(e){ds.error(e)}}},overload:function(){for(var e in ds.trace("Loading projections aera (extent)"),this.projectionsExtent)if(this.projectionsExtent.hasOwnProperty(e)){var t=this.projectionsExtent[e],o=Object(Co.get)(e),n=Object(Co.getTransform)("EPSG:4326",o),i=Object(ao.applyTransform)([t.bottom,t.right,t.top,t.left],n);o.setExtent(i),Object(Co.addProjection)(o),window.ol&&window.ol.proj&&window.ol.proj.addProjection&&window.ol.proj.addProjection(o)}}};function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ls);var gs={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmousePosition"),e.className="GPwidget",e},_createShowMousePositionElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMousePosition"),e.type="checkbox",e},_createShowMousePositionPictoElement:function(e){var t=this,o=document.createElement("label");o.id=this._addUID("GPshowMousePositionPicto"),o.className="GPshowAdvancedToolPicto",o.htmlFor=this._addUID("GPshowMousePosition"),o.title="Afficher les coordonnées du curseur",o.addEventListener("click",(function(o){var n="";document.getElementById(t._addUID("GPshowMousePosition")).checked||e||(n="GPmapCenterVisible"),document.getElementById("GPmapCenter").className=n,t.onShowMousePositionClick(o)}));var n=document.createElement("span");return n.id=this._addUID("GPshowMousePositionOpen"),n.className="GPshowAdvancedToolOpen",o.appendChild(n),o},_createMousePositionPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmousePositionPanel"),e.className="GPpanel",e},_createMapCenter:function(){var e=document.createElement("div");return e.id="GPmapCenter",e.className="",e},_createMousePositionPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader";var t=document.createElement("div");t.className="GPpanelTitle",t.innerHTML="Coordonnées",e.appendChild(t);var o=document.createElement("div");o.id="GPmousePositionPanelClose",o.className="GPpanelClose",o.title="Fermer le panneau";var n=this;return o.addEventListener?o.addEventListener("click",(function(){document.getElementById(n._addUID("GPshowMousePositionPicto")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(n._addUID("GPshowMousePositionPicto")).click()})),e.appendChild(o),e},_createMousePositionPanelBasicElement:function(e,t,o,n){e=void 0===e||e,t=void 0===t||t,o=void 0!==o&&o;var i=document.createElement("div");return i.id=this._addUID("GPmousePositionBasicPanel"),i.appendChild(this._createMousePositionPanelBasicCoordinateElement(t,o,n)),i.appendChild(this._createMousePositionPanelEditToolsElement(o)),i.appendChild(this._createMousePositionPanelBasicAltitudeElement(e)),i},_createCoordinateElement:function(e,t){var o=this;if(-1===["Lon","Lat"].indexOf(e))return[];var n=[],i=document.createElement("input");i.id=this._addUID("GPmousePosition"+e),i.title=!0===t?"Cliquer pour saisir des coordonnées":"",i.readOnly=!0,t&&(i.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),i.addEventListener("change",(function(t){this.classList.remove("error"),o.validateExtentCoordinate(e,this.value,t)?this.classList.remove("error"):this.classList.add("error")}))),n.push(i);var r=document.createElement("span");return r.className="GPmousePositionUnits",n.push(r),n},_createDMSCoordinateElement:function(e,t){if(-1===["Lon","Lat"].indexOf(e))return[];var o=this,n=[],i=document.createElement("input");i.id=this._addUID("GPmousePosition"+e+"Degrees"),i.className="GPSexagesimal",i.setAttribute("name","degrees"),i.title=!0===t?"Cliquer pour saisir des coordonnées":"",i.readOnly=!0,i.dataset.min=0,i.dataset.max="Lon"===e?180:90,t&&(i.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),i.addEventListener("change",(function(){this.classList.remove("error"),o._checkDMSDegrees(e,this)?this.classList.remove("error"):this.classList.add("error")}))),n.push(i);var r=document.createElement("span");r.className="GPmousePositionSexagesimalLabel",r.innerHTML="°",n.push(r);var a=document.createElement("input");a.id=this._addUID("GPmousePosition"+e+"Minutes"),a.className="GPSexagesimal",a.setAttribute("name","minutes"),a.title=!0===t?"Cliquer pour saisir des coordonnées":"",a.readOnly=!0,a.dataset.min=0,a.dataset.max=59,t&&(a.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),a.addEventListener("change",(function(){this.classList.remove("error"),o._checkDMSElement(this)?this.classList.remove("error"):this.classList.add("error")}))),n.push(a);var s=document.createElement("span");s.className="GPmousePositionSexagesimalLabel",s.innerHTML="'",n.push(s);var l=document.createElement("input");l.id=this._addUID("GPmousePosition"+e+"Seconds"),l.className="GPSexagesimalsec",l.setAttribute("name","seconds"),l.title=!0===t?"Cliquer pour saisir des coordonnées":"",l.readOnly=!0,l.dataset.min=0,l.dataset.max=59,t&&(l.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),l.addEventListener("change",(function(){this.classList.remove("error"),o._checkDMSElement(this,!0)?this.classList.remove("error"):this.classList.add("error")}))),n.push(l);var c=document.createElement("span");c.className="GPmousePositionSexagesimalLabel",c.innerHTML="''",n.push(c);var u=document.createElement("select");u.id=this._addUID("GPmousePosition"+e+"Direction"),u.className="GPmousePositionDirection",u.setAttribute("name","direction"),u.disabled=!0;var d=document.createElement("option");d.value="Lon"===e?"E":"N",d.innerHTML="Lon"===e?"E":"N",u.appendChild(d);var p=document.createElement("option");return p.value="Lon"===e?"O":"S",p.innerHTML="Lon"===e?"O":"S",u.appendChild(p),n.push(u),n},_createMousePositionPanelBasicCoordinateElement:function(e,t,o){var n=document.createElement("div");n.id=this._addUID("GPmousePositionCoordinate"),n.style.display=e?"block":"none";var i=document.createElement("div"),r=document.createElement("span");r.className="GPmousePositionLabel",r.id=this._addUID("GPmousePositionLatLabel"),r.innerHTML="Latitude : ",i.appendChild(r);var a,s=document.createElement("span");s.id=this._addUID("GPmousePositionLatCoordinate"),a="DMS"===o?this._createDMSCoordinateElement("Lat",t):this._createCoordinateElement("Lat",t);for(var l=0;l<a.length;l++)s.appendChild(a[l]);i.appendChild(s),n.appendChild(i);var c=document.createElement("div"),u=document.createElement("span");u.className="GPmousePositionLabel",u.id=this._addUID("GPmousePositionLonLabel"),u.innerHTML="Longitude : ",c.appendChild(u);var d,p=document.createElement("span");p.id=this._addUID("GPmousePositionLonCoordinate"),d="DMS"===o?this._createDMSCoordinateElement("Lon",t):this._createCoordinateElement("Lon",t);for(var h=0;h<d.length;h++)p.appendChild(d[h]);return c.appendChild(p),n.appendChild(c),n},_createMousePositionPanelBasicAltitudeElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionAltitude"),t.style.display=e?"block":"none";var o=document.createElement("span");o.className="GPmousePositionLabel",o.innerHTML="Altitude : ",t.appendChild(o);var n=document.createElement("span");n.className="GPmousePositionCoords",n.id=this._addUID("GPmousePositionAlt"),n.innerHTML="...",t.appendChild(n);var i=document.createElement("span");return i.className="GPmousePositionAltitudeUnits",i.innerHTML="m",t.appendChild(i),t},_createMousePositionPanelEditToolsElement:function(e){var t=this,o=document.createElement("div");o.className="GPmousePositionPanelEditTools",o.id=this._addUID("GPmousePositionPanelEditTools"),e||(o.style.display="none");var n=document.createElement("span");n.className="GPmousePositionEditTool",n.id=this._addUID("GPmousePositionLocate"),n.title=!0===e?"Cliquer pour saisir des coordonnées":"",e&&n.addEventListener("click",(function(){t.onMousePositionEditModeLocateClick()})),o.appendChild(n);var i=document.createElement("span");return i.className="GPmousePositionEditTool",i.id=this._addUID("GPmousePositionCloseEdit"),i.title="Quitter la saisie des coordonnées",i.style.display="none",e&&i.addEventListener("click",(function(){t.onMousePositionEditModeClick(!1)})),o.appendChild(i),o},_createShowMousePositionSettingsElement:function(e){var t=[],o=this,n=document.createElement("input");n.type="checkbox",n.id=this._addUID("GPshowMousePositionSettings");var i=document.createElement("label");return i.id=this._addUID("GPshowMousePositionSettingsPicto"),i.htmlFor=this._addUID("GPshowMousePositionSettings"),i.title="Réglages",i.className="GPshowMoreOptionsImage GPshowMoreOptions GPshowMousePositionSettingsPicto",i.style.display=e?"block":"none",i.addEventListener?i.addEventListener("click",(function(e){"function"==typeof o.onShowMousePositionSettingsClick&&o.onShowMousePositionSettingsClick(e)}),!1):i.attachEvent&&i.attachEvent("onclick",(function(e){"function"==typeof o.onShowMousePositionSettingsClick&&o.onShowMousePositionSettingsClick(e)})),t.push(n),t.push(i),t},_createMousePositionSettingsElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionSettings"),t.style.display=void 0===e||e?"block":"none";var o=document.createElement("span");return o.className="GPmousePositionSettingsLabel",o.innerHTML="Système de référence",t.appendChild(o),t},_createMousePositionSettingsSystemsElement:function(e){var t=this,o=document.createElement("select");o.id=this._addUID("GPmousePositionProjectionSystem"),o.className="GPinputSelect GPmousePositionSettingsSelect",o.addEventListener("change",(function(e){t.onMousePositionProjectionSystemChange(e)})),o.addEventListener("mouseover",(function(e){"OPTION"!==e.target.nodeName&&t.onMousePositionProjectionSystemMouseOver(e)}));for(var n=0;n<e.length;n++){var i=e[n],r=document.createElement("option");r.value=i.code,r.text=i.label||n,o.appendChild(r)}return o},_createMousePositionSettingsUnitsElement:function(e){var t=this,o=document.createElement("select");o.id=this._addUID("GPmousePositionProjectionUnits"),o.className="GPinputSelect GPmousePositionSettingsSelect",o.addEventListener("change",(function(e){t.onMousePositionProjectionUnitsChange(e)}));for(var n=0;n<e.length;n++){var i=e[n],r=document.createElement("option");r.value=i.code?i.code:n,r.text=i.label||n,o.appendChild(r)}return o},_resetLabelElements:function(e){document.getElementById(this._addUID("GPmousePositionLatLabel")).innerHTML="Geographical"===e?"Latitude :":"X :",document.getElementById(this._addUID("GPmousePositionLonLabel")).innerHTML="Geographical"===e?"Longitude :":"Y :"},_resetUnitElements:function(e){var t="";"M"!==e&&"KM"!==e||(t=e.toLowerCase());for(var o=document.getElementsByClassName("GPmousePositionUnits"),n=0;n<o.length;n++)o[n].innerHTML=t},_resetCoordinateElements:function(e,t,o){for(var n,i=document.getElementById(this._addUID("GPmousePositionLatCoordinate"));i.firstChild;)i.removeChild(i.firstChild);n="DMS"===o?this._createDMSCoordinateElement("Lat",e):this._createCoordinateElement("Lat",e);for(var r=0;r<n.length;r++)i.appendChild(n[r]);for(var a,s=document.getElementById(this._addUID("GPmousePositionLonCoordinate"));s.firstChild;)s.removeChild(s.firstChild);a="DMS"===o?this._createDMSCoordinateElement("Lon",e):this._createCoordinateElement("Lon",e);for(var l=0;l<a.length;l++)s.appendChild(a[l])},_setEditMode:function(e){document.getElementById(this._addUID("GPmousePositionLocate")).title=e?"Aller à la position ...":"Cliquer pour saisir des coordonnées",document.getElementById(this._addUID("GPmousePositionCloseEdit")).style.display=e?"inline-block":"none";for(var t="div[id^="+this._addUID("GPmousePositionCoordinate")+"]",o=document.querySelectorAll(t+" input"),n=0;n<o.length;n++)o[n].readOnly=!e,e&&(o[n].value="",o[n].classList.remove("error"));for(var i=document.querySelectorAll(t+" select"),r=0;r<i.length;r++)i[r].disabled=!e},_checkDMSElement:function(e,t){var o=void 0!==t,n=e.value;if(o&&(n=n.replace(",",".")),isNaN(n))return!1;var i=parseFloat(n);if(!o&&(0|i)!==i)return!1;var r=Number(e.dataset.min),a=Number(e.dataset.max);return i>=r&&i<=a},_checkDMSDegrees:function(e,t){if(isNaN(t.value))return!1;var o=parseFloat(t.value);if((0|o)!==o)return!1;var n=Number(t.dataset.min),i=Number(t.dataset.max);if(o<n||o>i)return!1;var r=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds"));return o>=i?(r.dataset.max=0,a.dataset.max=0):(r.dataset.max=59,a.dataset.max=59.9999),!0},GPdisplayCoords:function(e){if(e){var t=document.getElementById(this._addUID("GPmousePositionLonLabel")),o=document.getElementById(this._addUID("GPmousePositionLatLabel"));if(e.x||e.y?(o.innerHTML="X : ",t.innerHTML="Y : "):e.e||e.n?(o.innerHTML="E : ",t.innerHTML="N : "):(o.innerHTML="Latitude : ",t.innerHTML="Longitude : "),"object"===hs(e.lat)&&"object"===hs(e.lng)){var n={lng:"Lon",lat:"Lat"},i=["Degrees","Minutes","Seconds"];for(var r in n)for(var a=0;a<i.length;++a){var s="GPmousePosition"+n[r]+i[a],l=document.getElementById(this._addUID(s)),c=i[a].charAt(0).toLowerCase();l.value=e[r][c]}document.getElementById(this._addUID("GPmousePositionLonDirection")).value=e.lng.direction,document.getElementById(this._addUID("GPmousePositionLatDirection")).value=e.lat.direction}else{var u=document.getElementById(this._addUID("GPmousePositionLat")),d=document.getElementById(this._addUID("GPmousePositionLon"));u.value=e.x||e.lat||e.e||"0",d.value=e.y||e.lng||e.lon||e.n||"0";for(var p=void 0===e.unit?"":e.unit,h=document.getElementsByClassName("GPmousePositionUnits"),g=0;g<h.length;++g)h[g].innerHTML=p}}},GPdisplayElevation:function(e,t,o,n){var i,r=this;t||(t=500),clearTimeout(i),document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="...",null==o&&(o=-99999),null==n&&(n=99980);var a=o+n,s=o-n;e&&document.getElementById(this._addUID("GPmousePositionAltitude"))&&(i=setTimeout((function(){r.onRequestAltitude(e,(function(e){s<e&&e<a?r.GPresetElevation():document.getElementById(r._addUID("GPmousePositionAlt")).innerHTML=e}))}),t))},GPresetElevation:function(){document.getElementById(this._addUID("GPmousePositionAltitude"))&&(document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="---")}};function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fs=lt.getLogger("GeoportalMousePosition"),ys=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(o);var n=this._container=this._initContainer(o);e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,gs),t.prototype.constructor=t,t.prototype.setMap=function(t){var o=this,n=this;if(t){var i=this._createMapCenter();if(t.getViewport().appendChild(i),this.collapsed||this._isDesktop||(i.className="GPmapCenterVisible"),this.draggable&&ts.dragElement(this._panelMousePositionContainer,this._panelHeaderMousePositionContainer,t.getTargetElement()),this.collapsed||(this._isDesktop?this.listenerKey=t.on("pointermove",(function(e){o.onMouseMove(e)})):this.listenerKey=t.on("moveend",(function(e){return o.onMapMove(e)}))),this.options.editCoordinates){var r=document.createElement("img");r.id=this._addUID("GPmousePositionMarker"),r.src=this._markerUrl,r.title="Cliquer pour supprimer",r.addEventListener("click",(function(){n._markerOverlay.setPosition(void 0)})),this._markerOverlay=new a.a({offset:this._markerOffset,element:r,stopEvent:!1}),t.addOverlay(this._markerOverlay)}}else Object(Oo.unByKey)(this.listenerKey);(e.prototype.setMap.call(this,t),null!==t)&&(this.collapsed||(document.getElementById("GPshowMousePosition-"+this._uid).checked="checked",this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)))},t.prototype.addSystem=function(e){if("object"===ms(e))if(e.crs)if(e.label||(fs.warn("crs label not defined, use crs code by default."),e.label=e.crs),e.type||(fs.warn("type srs not defined, use 'Metric' by default."),e.type="Metric"),ps.loadByName(e.crs),Object(Co.get)(e.crs)){for(var t=0;t<this._projectionSystems.length;t++){var o=this._projectionSystems[t];e.crs===o.crs&&fs.info("crs '{}' already configured",o.crs)}e.code=this._projectionSystems.length,this._projectionSystems.push(e);var n=document.getElementById("GPmousePositionProjectionSystem-"+this._uid);if(n){var i=document.createElement("option");i.value=e.code,i.text=e.label,n.appendChild(i)}}else fs.error("crs '{}' not available into proj4 definitions !",e.crs);else fs.error("crs not defined !");else fs.log("[ERROR] MousePosition:addSystem - system parameter should be an object")},t.prototype.addSystems=function(e){if(e)if(Array.isArray(e))for(var t=0;t<e.length;t++)this.addSystem(e[t]);else fs.log("[ERROR] MousePosition:addSystems - systems parameter should be an array")},t.prototype.removeSystem=function(e){if(e&&"string"==typeof e){for(var t=document.getElementById("GPmousePositionProjectionSystem-"+this._uid),o=null,n=0;n<this._projectionSystems.length;n++){var i=this._projectionSystems[n];if(e===i.crs){o=i.code,this._projectionSystems.splice(n,1);break}}if(null!=o){for(var r=[],a=0;a<this._projectionSystems.length;a++)r[Number(this._projectionSystems[a].code)]=a,this._projectionSystems[a].code=a;for(var s=null,l=0;l<t.childNodes.length;l++)o!==t.childNodes[a].value?t.childNodes[a].value=r[Number(t.childNodes[a].value)]:s=l;null!=s&&t.removeChild(t.childNodes[s]),this._currentProjectionSystems.code===Number(o)&&(t.childNodes[0].setAttribute("selected","selected"),this._setCurrentSystem(t.childNodes[0].value))}else fs.log("[WARN] MousePosition:removeSystem - system not found")}else fs.log("[ERROR] MousePosition:removeSystem - systemCode parameter should be a string")},t.prototype.setUnits=function(e){e&&Array.isArray(e)&&(this.options.units=e,this._projectionUnits=[],this._initProjectionUnits(),this._currentProjectionType&&this._setTypeUnitsPanel(this._currentProjectionType))},t.prototype.setAltitudeOptions=function(e){if(e&&"object"===ms(e)&&(this.options.altitude.triggerDelay=e.triggerDelay,this.options.altitude.responseDelay=e.responseDelay,e.serviceOptions))for(var t in e.serviceOptions)e.serviceOptions.hasOwnProperty(t)&&(this.options.altitude.serviceOptions[t]=e.serviceOptions[t])},t.prototype.displayAltitude=function(e){void 0!==e&&(this.options.displayAltitude=e,this._setElevationPanel(e))},t.prototype.displayCoordinates=function(e){void 0!==e&&(this.options.displayCoordinates=e,this._setCoordinatesPanel(e),this._setSettingsPanel(e))},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this._isDesktop||(document.getElementById("GPmapCenter").className=e?"":"GPmapCenterVisible"),this.onShowMousePositionClick(),this._showMousePositionContainer.checked=!e):fs.log("[ERROR] MousePosition:setCollapsed - missing collapsed parameter")},t.prototype._initialize=function(e){if(e=e||{},this.options=e,this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this._markerOverlay=null,this._markerUrl=null,this._markerOffset=[0,0],this._hideMarker=!1,this._initMarker(e.positionMarker),this.options.units=e.units||[],this.options.displayAltitude=void 0===e.displayAltitude||e.displayAltitude,this.options.displayCoordinates=void 0===e.displayCoordinates||e.displayCoordinates,this.options.displayCoordinates?this.options.editCoordinates=void 0!==e.editCoordinates&&e.editCoordinates:this.options.editCoordinates=!1,this.editing=!1,this.options.systems=e.systems||[],e.altitude){var t=e.altitude;this.options.altitude={triggerDelay:void 0!==t.triggerDelay?t.triggerDelay:200,responseDelay:void 0!==t.responseDelay?t.responseDelay:500,serviceOptions:t.serviceOptions||{},noDataValue:void 0!==t.noDataValue?t.noDataValue:-99999,noDataValueTolerance:void 0!==t.noDataValueTolerance?t.noDataValueTolerance:9e4}}else this.options.altitude={triggerDelay:200,responseDelay:500,serviceOptions:{}};this._uid=Pi.generate(),this._projectionSystems=[],this._initProjectionSystems(),this._projectionUnits={},this._initProjectionUnits(),this._isDesktop=qt.detectSupport(),this.options.altitude.triggerDelay<100&&(this.options.altitude.triggerDelay=100),this._timer=this.options.altitude.triggerDelay,this._currentProjectionSystems=this._projectionSystems[0],this._currentProjectionType=this._projectionSystems[0].type,this._currentProjectionUnits=this._projectionUnits[this._currentProjectionType][0].code,this._projectionUnitsContainer=null,this._showMousePositionContainer=null,this._panelMousePositionContainer=null,this._panelHeaderMousePositionContainer=null,this.options.displayAltitude||this.options.displayCoordinates||(this.options.displayCoordinates=!0),this.listenerKey=null},t.prototype._initMarker=function(e){if(this.options.editCoordinates){if(!e)return this._markerUrl=At.lightOrange,void(this._markerOffset=At.defaultOffset);this._hideMarker=void 0!==e.hide&&e.hide,e.offset?Array.isArray(e.offset)&&2===e.offset.length?this._markerOffset=e.offset:(fs.log("positionMarker.offset should be an array. e.g. : [0,0]"),this._markerOffset=At.defaultOffset):this._markerOffset=At.defaultOffset;var t=e.url;t?t.match(/^[a-zA-Z]+$/)?this._markerUrl=void 0!==At[t]?At[t]:At.lightOrange:this._markerUrl=t:this._markerUrl=At.lightOrange}},t.prototype._initProjectionSystems=function(){for(var e=[{label:"Géographique",crs:Object(Co.get)("EPSG:4326").getCode(),type:"Geographical"},{label:"Web Mercator",crs:Object(Co.get)("EPSG:3857").getCode(),type:"Metric"},{label:"Lambert 93",crs:Object(Co.get)("EPSG:2154").getCode(),type:"Metric",geoBBox:{left:-9.86,bottom:41.15,right:10.38,top:51.56}},{label:"Lambert II étendu",crs:Object(Co.get)("EPSG:27572").getCode(),type:"Metric",geoBBox:{left:-4.87,bottom:42.33,right:8.23,top:51.14}}],t=this.options.systems,o=0;o<t.length;o++){var n=t[o];this.addSystem(n)}if(0===this._projectionSystems.length)for(var i=0;i<e.length;i++)this.addSystem(e[i])},t.prototype._initProjectionUnits=function(){var e={Geographical:[{code:"DEC",label:"degrés décimaux",format:this._displayDEC},{code:"DMS",label:"degrés sexagésimaux",format:this._displayDMS},{code:"RAD",label:"radians",format:this._displayRAD},{code:"GON",label:"grades",format:this._displayGON}],Metric:[{code:"M",label:"mètres",format:this._displayMeter},{code:"KM",label:"kilomètres",format:this._displayKMeter}]},t=this.options.units;for(var o in e)if(e.hasOwnProperty(o)){for(var n=!1,i=0;i<e[o].length;i++)for(var r=e[o][i],a=0;a<t.length;a++){var s=t[a];r.code===s&&(n=!0,this._projectionUnits[o]||(this._projectionUnits[o]=[]),this._projectionUnits[o].push(r))}n||(this._projectionUnits[o]=e[o])}"object"===ms(this._projectionUnits)&&0===Object.keys(this._projectionUnits).length&&(this._projectionUnits=e)},t.prototype._getCurrentProjectionInformation=function(){for(var e=[this._currentProjectionSystems.label,"en"],t=this._projectionUnits[this._currentProjectionType],o=0;o<t.length;++o)if(t[o].code===this._currentProjectionUnits){e.push(t[o].label);break}return e.join(" ")},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showMousePositionContainer=this._createShowMousePositionElement();e.appendChild(t);var o=this._createShowMousePositionPictoElement(this._isDesktop);e.appendChild(o);var n=this._panelMousePositionContainer=this._createMousePositionPanelElement(),i=this._panelHeaderMousePositionContainer=this._createMousePositionPanelHeaderElement();n.appendChild(i);var r=this._createMousePositionPanelBasicElement(this.options.displayAltitude,this.options.displayCoordinates,this.options.editCoordinates,this._currentProjectionUnits);n.appendChild(r);for(var a=this._createShowMousePositionSettingsElement(this.options.displayCoordinates),s=0;s<a.length;s++)n.appendChild(a[s]);var l=this._createMousePositionSettingsElement(),c=this._projectionSystemsContainer=this._createMousePositionSettingsSystemsElement(this._projectionSystems),u=this._projectionUnitsContainer=this._createMousePositionSettingsUnitsElement(this._projectionUnits[this._currentProjectionType]);return l.appendChild(c),l.appendChild(u),n.appendChild(l),e.appendChild(n),e},t.prototype._setElevationPanel=function(e){document.getElementById("GPmousePositionAltitude-"+this._uid).style.display=e?"":"none"},t.prototype._setCoordinatesPanel=function(e){var t=document.getElementById("GPmousePositionCoordinate-"+this._uid);t.style.display=e?"":"none"},t.prototype._setSettingsPanel=function(e){var t=document.getElementById("GPshowMousePositionSettingsPicto-"+this._uid),o=document.getElementById("GPmousePositionSettings-"+this._uid);e?(t.style.display="",o.style.display=""):(t.style.display="none",o.style.display="none")},t.prototype._setTypeUnitsPanel=function(e){for(var t=this._projectionUnitsContainer;t.firstChild;)t.removeChild(t.firstChild);for(var o=this._projectionUnits[e],n=0;n<o.length;n++){var i=o[n],r=document.createElement("option");r.value=i.code?i.code:n,r.text=i.label||n,t.appendChild(r)}var a=this._projectionUnits[e][0].code;"DMS"!==this._currentProjectionUnits&&"DMS"!==a||(this._resetCoordinateElements(this.options.editCoordinates,e,a),this._setEditMode(this.editing)),this._currentProjectionType=e,this._resetLabelElements(e),this._resetUnitElements(a),this._currentProjectionUnits=a},t.prototype._displayDEC=function(e){var t={};return t.lat=e[1].toFixed(6),t.lng=e[0].toFixed(6),t.unit="°",t},t.prototype._displayDMS=function(e){return{lng:$a.decimalToDMS(e[0],"EO",2),lat:$a.decimalToDMS(e[1],"NS",2),unit:"DMS"}},t.prototype._displayRAD=function(e){var t={},o=.017453292519943295;return t.lng=e[0]*o,t.lng=t.lng.toFixed(8),t.lat=e[1]*o,t.lat=t.lat.toFixed(8),t.unit="rad",t},t.prototype._displayGON=function(e){var t={},o=1.1111111111111112;return t.lng=e[0]*o,t.lng=t.lng.toFixed(8),t.lat=e[1]*o,t.lat=t.lat.toFixed(8),t.unit="gon",t},t.prototype._displayMeter=function(e){var t={};return t.x=e[0].toFixed(2),t.y=e[1].toFixed(2),t.unit="m",t},t.prototype._displayKMeter=function(e){var t={};return t.x=(e[0]/1e3).toFixed(2),t.y=(e[1]/1e3).toFixed(2),t.unit="km",t},t.prototype._setCoordinate=function(e,t){var o={},n=this._currentProjectionSystems.crs;if(n){e=Object(Co.transform)(e,t,n);for(var i=this._currentProjectionSystems.type,r=null,a=this._projectionUnits[i],s=0;s<a.length;s++)if(a[s].code===this._currentProjectionUnits){r=a[s].format;break}r&&"function"==typeof r?(o=r(e))&&0!==Object.keys(o).length&&this.GPdisplayCoords(o):fs.log("WARNING : coordinates format function not found")}else fs.log("ERROR : system crs not found")},t.prototype._setElevation=function(e){var t=this.options.altitude.responseDelay,o=this.options.altitude.noDataValue,n=this.options.altitude.noDataValueTolerance;this.GPdisplayElevation(e,t,o,n)},t.prototype.onMoveStopped=function(e,t){var o=Object(Co.transform)(e,t,"EPSG:4326");this._setElevation(o)},t.prototype.onMouseMove=function(e){var t=this,o=e.coordinate;if(e.map&&e.map.getView()){var n=e.map.getView().getProjection();this._setCoordinate(o,n),clearTimeout(this._timer),this._timer=setTimeout((function(){t.onMoveStopped(o,n)}),this.options.altitude.triggerDelay)}},t.prototype.onMapMove=function(){var e=this,t=this.getMap();if(t&&t.getView()){var o=t.getView(),n=o.getCenter(),i=o.getProjection();this._setCoordinate(n,i),clearTimeout(this._timer),this._timer=setTimeout((function(){e.onMoveStopped(n,i)}),this.options.altitude.triggerDelay)}},t.prototype.onRequestAltitude=function(e,t){if(e&&0!==Object.keys(e).length&&this.options.displayAltitude){var o=this.options.altitude.serviceOptions||{},n=o.protocol||"XHR",i=o.timeOut||0;"JSONP"===n&&0===i&&(i=15e3);var r,a=o.outputFormat||"json";r=!1!==o.zonly||o.zonly;var s,l=o.measures||!1,c=[{lon:e[0],lat:e[1]}],u=o.resource,d=o.rawResponse||!1,p=o.onSuccess||null,h=null;h=d?function(e){p&&p.call(this,e),fs.log("alti service raw response : ",e)}:function(e){e&&Object.keys(e).length&&(p&&p.call(this,e),t.call(this,e.elevations[0].z))},s=function(e){fs.log("[getAltitude] ERROR : "+e.message)};var g=o.apiKey||this.options.apiKey;"boolean"!=typeof o.ssl&&("boolean"==typeof this.options.ssl?o.ssl=this.options.ssl:o.ssl=!0);var m=o.ssl;st.Services.getAltitude({apiKey:g,protocol:n,ssl:m,timeOut:i,scope:this,outputFormat:a,rawResponse:d,onSuccess:h,onFailure:s,zonly:r,measures:l,resource:u,positions:c})}},t.prototype.onShowMousePositionClick=function(){var e=this,t=this.getMap();Wa.unset(t),this.collapsed=this._showMousePositionContainer.checked,this.dispatchEvent("change:collapsed"),this._showMousePositionContainer.checked?Object(Oo.unByKey)(this.listenerKey):this.editing||(this._isDesktop?this.listenerKey=t.on("pointermove",(function(t){e.onMouseMove(t)})):(this.listenerKey=t.on("moveend",(function(t){return e.onMapMove(t)})),this.onMapMove())),this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)},t.prototype.onShowMousePositionSettingsClick=function(e){if(!this.draggable){this._panelMousePositionContainer.style.transition="top 0.5s ease-out 0s",this._panelMousePositionContainer.style.transitionProperty="top",this._panelMousePositionContainer.style.transitionDuration="0.5s",this._panelMousePositionContainer.style.transitionTimingFunction="ease-out",this._panelMousePositionContainer.style.transitionDelay="0s";var t=this._panelMousePositionContainer.offsetTop;document.getElementById(e.target.htmlFor).checked?this._panelMousePositionContainer.style.top=t- -95+"px":this._panelMousePositionContainer.style.top=t+-95+"px"}},t.prototype.onMousePositionEditModeClick=function(e){var t=this;if(this.options.editCoordinates&&this.editing!==e){this.editing=e,this._setEditMode(this.editing);var o=this.getMap();this._isDesktop?this.editing?Object(Oo.unByKey)(this.listenerKey):(this.listenerKey=o.on("pointermove",(function(e){t.onMouseMove(e)})),this.onMapMove()):this.editing?Object(Oo.unByKey)(this.listenerKey):(this.listenerKey=o.on("moveend",(function(e){return t.onMapMove(e)})),this.onMapMove()),!this.editing&&this._markerOverlay&&this._markerOverlay.setPosition(void 0)}},t.prototype.getCoordinate=function(e){var t=document.getElementById(this._addUID("GPmousePosition"+e+"Degrees")),o=t.value;if(!o)return null;if(o=o.replace(",","."),!$a.isInteger(o))return null;var n=$a.toInteger(o);if(n<Number(t.dataset.min)||n>Number(t.dataset.max))return null;var i=document.getElementById(this._addUID("GPmousePosition"+e+"Direction")).value,r=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=r.value;if(a&&(a=a.replace(",","."),$a.isInteger(a))){var s=$a.toInteger(a);s>=Number(r.dataset.min)&&s<=Number(r.dataset.max)&&(n+=s/60)}var l=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds")),c=l.value;if(c){c=c.replace(",",".");var u=$a.toFloat(c);u&&u>=Number(l.dataset.min)&&u<=Number(l.dataset.max)&&(n+=u/3600)}return"O"!==i&&"S"!==i||(n=-n),n},t.prototype.locateDMSCoordinates=function(){var e=[this.getCoordinate("Lon"),this.getCoordinate("Lat")];if(null!==e[0]&&null!==e[1]){var t=this._currentProjectionSystems.crs;if(t){var o=this.getMap().getView(),n=Object(Co.transform)(e,t,o.getProjection());o.setCenter(n),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(n)}else fs.log("ERROR : system crs not found")}},t.prototype.locateCoordinates=function(){var e=document.getElementById(this._addUID("GPmousePositionLon")).value;if(e=e.replace(",","."),null!==(e=$a.toFloat(e))){var t=document.getElementById(this._addUID("GPmousePositionLat")).value;if(t=t.replace(",","."),null!==(t=$a.toFloat(t))){var o=this._currentProjectionSystems.crs;if(o){var n;n="Geographical"===this._currentProjectionSystems.type?[this.convert(e),this.convert(t)]:[this.convert(t),this.convert(e)];var i=Object(Co.transform)(n,this._currentProjectionSystems.crs,"EPSG:4326"),r=this._currentProjectionSystems.geoBBox;if(r){var a=[r.left,r.bottom,r.right,r.top];if(i[0]<a[0]||i[0]>a[2])return;if(i[1]<a[1]||i[1]>a[3])return}var s=this.getMap().getView(),l=Object(Co.transform)(n,o,s.getProjection());s.setCenter(l),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(l)}else fs.log("ERROR : system crs not found")}}},t.prototype.onMousePositionEditModeLocateClick=function(){if(this.options.editCoordinates)if(this.editing){"DMS"===this._currentProjectionUnits?this.locateDMSCoordinates():this.locateCoordinates();var e=this.options.mapCenterCallback;if("function"==typeof e){var t=this.getMap().getView().getCenter();e.call(this,t)}}else this.onMousePositionEditModeClick(!0)},t.prototype.onMousePositionProjectionSystemChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;this._setCurrentSystem(o)},t.prototype._setCurrentSystem=function(e){for(var t=null,o=0;o<this._projectionSystems.length;++o)if(this._projectionSystems[o].code===Number(e)){t=this._projectionSystems[o].type;break}t?(this._currentProjectionSystems=this._projectionSystems[Number(e)],t!==this._currentProjectionType&&this._setTypeUnitsPanel(t),this._isDesktop||this.onMapMove()):fs.log("system not found in projection systems container")},t.prototype.onMousePositionProjectionSystemMouseOver=function(e){fs.trace(e);var t=this.getMap();if(t&&t.getView()){var o=t.getView(),n=o.getProjection(),i=o.calculateExtent(t.getSize());i=Object(Co.transformExtent)(i,n,"EPSG:4326");var r=document.getElementById(this._addUID("GPmousePositionProjectionSystem"));r.innerHTML="";for(var a=0;a<this._projectionSystems.length;a++){var s=this._projectionSystems[a],l=null;if(s.geoBBox&&(i[0]>s.geoBBox.right||i[1]>s.geoBBox.top||i[2]<s.geoBBox.left||i[3]<s.geoBBox.bottom))s===this._currentProjectionSystems&&((l=document.createElement("option")).value=s.code,l.text=s.label||a,l.setAttribute("selected","selected"),l.setAttribute("disabled","disabled"),r.appendChild(l));else{var c=document.createElement("option");c.value=s.code,c.text=s.label||a,s===this._currentProjectionSystems&&c.setAttribute("selected","selected"),r.appendChild(c)}}}},t.prototype.onMousePositionProjectionUnitsChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value,n=this._currentProjectionUnits;this._currentProjectionUnits=o,this._resetLabelElements(this._currentProjectionType),this._resetUnitElements(this._currentProjectionUnits),"DMS"!==n&&"DMS"!==this._currentProjectionUnits||(this._resetCoordinateElements(this.options.editCoordinates,this._currentProjectionType,this._currentProjectionUnits),this._setEditMode(this.editing)),this._isDesktop||this.onMapMove()},t.prototype.convert=function(e){var t;if("M"===this._currentProjectionUnits||"DEC"===this._currentProjectionUnits)t=e;else if("KM"===this._currentProjectionUnits)t=1e3*e;else if("RAD"===this._currentProjectionUnits){t=(e*(180/Math.PI).toFixed(20)).toFixed(20)}else if("GON"===this._currentProjectionUnits){t=(e*.9.toFixed(20)).toFixed(20)}return t},t.prototype.validateExtentCoordinate=function(e,t){if(-1===["Lon","Lat"].indexOf(e))return!1;var o=t.replace(",",".");if(null===(o=$a.toFloat(o)))return!1;o=this.convert(o);var n=this._currentProjectionSystems.geoBBox;if(void 0===n)return!0;var i=[n.left,n.bottom,n.right,n.top];return i=Object(Co.transformExtent)(i,"EPSG:4326",this._currentProjectionSystems.crs),("Lat"!==e||!(o<i[0]||o>i[2]))&&("Lon"!==e||!(o<i[1]||o>i[3]))},t}(xi.a),As=ys;window.ol&&window.ol.control&&(window.ol.control.GeoportalMousePosition=ys);var vs=o(24),Cs=o.n(vs),Is=o(8),bs=o(76),ws=o.n(bs),Es=o(27),_s=o(11),Ss={drawing_portail:[{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD//////////////////////////////////////////////////////////fv/+fL//////////////////////////////////////////////////////////////////////////////////////v7//////fr/////+vL//////////////////Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////9+v/9ej/9+z/7tT/3q3/y3//v2D/uU//+O7/5L3/xW//piH/mQH/mAD//v7/79f/yXj/oxr/lwD/mQD//fv/58T/tkr/mQL//v3/58P/sTz/79b/tUf/x3X/mQP/5Lv/oRX/ng3/s0H/w2n/u1b/4rf/8Nr/9eb/7tX/pBv/x3P/8d7/3av/79j///7/zH//mgX/2qP//vz/9+3/wGH/qyz/6Mb/vFj/sj//7NH/wGL/rTP/6sr/+fH/yXf/oBP/37H/2aH/6sz/nw//oBT/0pD/+vT/9OX/uE7/pB3/y33/7ND//Pj/26b/mwj/nAn/sT7/w2r/zYL/8+P/ulT/mwb/5Lz/qCj/+/b/1JT/nQz/nQ3/9uj/w2j/mAH/9un/6sv/skH/lwH/3Kf/pB7/pR7/3Kj/nAj/y37/+/f/8t//mQT/rDD/rDH/1JX/7tb/4LT/pR//z4j/z4n/vFn/7dP/4rn//fq31ydlAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKnVAysoAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDM6MjIrMDA6MDB1WI3HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACplBMVEUAAAD//////////////////////////////////////////////////////////fz/9/P//////////////////////////////////////////////////////////////////////////////////////v7//////Pr/////////////////////+/n//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////8+3/8er/9O7/5dj/zrX/s4z/oHH/lmL/9fD/2MT/qX7/ejj/Zxz/Zhn/Zhr//v7/59z/rof/djL/ZBf/Zxv//fz/3Mr/k13/aBz/ZRn//f3/i1D/5tr/kVr/ZRj/rIP//v3/1sL/cy3/byf/jVX/pnn/aB3/mmf/077/6d7/8On/5tn/dzT/q4H/6+H/zbP/lmH/s43/ah//yK3/9O//oXL/gUP/3cz/m2n/jVT/5Nb/onP/hkn/4ND/9vL/rob/cSv/0Ln/x6r/Zxr/Yxb/pXn/8+7/4NH/cCj/ciz/vZz/+PX/7+f/lWH/eDT/sov/49X/+/n/ya//ayH/bCP/jFL/pnr/tJD/7ub/mWb/ZBb/aiD/18P/fj3/+vf/vp//bSX/bib/v5//pXj/8uv/yrD/eDX/eTb/y7H/bCL/soz/7OL/18T/g0b/hEb/v6D/cy7/wKH/9vP/5tv/jlX/59v/0rz/ejf/uJX/nGr/aR//nGv/g0X/1cD//PvyoJNrAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0JJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVaivrygrLUUBhWV1lrYK8HNAALp6k+oZGNHmgisaG+iQeLkYGQXHF1KZ8mO2NZWUwtYX5TamK4oIMXErNLa0FEKGatvbMzPa2GoiSgtaWZiUuBmWV5I5GiHxnV3dPb29Pd1cnREVjR7KKMoOqWl9/IcTICROLkoCgaOIEiJWF/X1qqgzqGpPA3MKyycVgeaCK4slgTxXmT9JQZ9AUmAJRPnVaRRIUVEybChGbIqDJoDV9BpjTOHNWEhzMmgl2VuGM6VoMScmzwQrK5sxFKJg7pwysYHZyEoP29HkQE+YvQChYMB9iwrzp2gw6CxeBFRQsXlIEky9ashgcMoWLFuow6OotBXOWLV+xEqZg5Yrly8CalurpMugbrFoNMWLN2nUQ+XVr10AMWL3KQJ/B0Gj9BkhINm7ctBkkv3nTRqjAhvVGhgzGJlu2boMG7fYdO3ft2rljOzTot23dYmLMYGqmvXvPXmgE7i3bt69sLzQ69+7ZrW1mysBpblGx/0AjLLGBAITdeGB/hYU5JwOjpaHVwUOHMRPMkaMHrQwtgWmO0dpGO+VYAXqSK+g4bmtnDU61nPYOjgvaURNdYWP7Kkcne05Ispdzdqk4cbIGSUVhzanTFa7OcrCMIejmfnDTmQKEgoIzZw+6eyCyFqenl/e5PeVwIwrL95zz9vLkRMqcPr5J5y/AHFpYcPG8qK8Pavb2k026dBkaGo2XryTJ+qPIMzAE2KlcXbEN7IyCbR1XVQIDUOUZGIOC+a61VwMtKay+foMvJAjNAKCK0LCkm7dAIX3rZlJYOIY8UIVkRMXtI4WFR25XREhikQcGeWRU8p27d+8lR0VaY1MAdEa0bdr9+2m20UFY5YEqYmJrHzyojY3BIQ+M+bj4hw/j4yxxKQA6IyExMQHVAQBpWLIaKI0lIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MDYrMDA6MDAh7rXQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+/v/8vL//////////////////////////////////////////////////////////////////////////////////////v7/////+vr/////////////////////+Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////6+v/6Oj/7Oz/1NT/ra3/f3//YGD/T0//7u7/vb3/b2//ISH/AQH/AAD//v7/19f/eHj/Ghr/+/v/xMT/Skr/AgL//f3/w8P/PDz/1tb/R0f/dXX/AwP/u7v/FRX/DQ3/QUH/aWn/Vlb/t7f/2tr/5ub/1dX/Gxv/c3P/3t7/q6v/2Nj/BQX/o6P//Pz/7e3/YWH/LCz/xsb/WFj/Pz//0dH/YmL/MzP/ysr/8fH/d3f/ExP/sbH/oaH/zMz/Dw//FBT/kJD/9PT/5eX/Tk7/HR3/fX3/0ND/+Pj/pqb/CAj/CQn/Pj7/amr/goL/4+P/VFT/Bgb/vLz/KCj/9vb/lJT/DAz/aGj/6en/y8v/p6f/Hh7/qKj/fn7/9/f/39//BAT/MDD/MTH/lZX/tLT/Hx//iIj/iYn/WVn/09P/ubn/+vpgzcAPAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo0NDoxOSswMDowMBsMxacAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACf1BMVEUAAAD//////////////////////////////////////////////////////////P3/9Pn//////////////////////////////////////////////////////////////////////////////////////v7/////+/3/////9fr/////////////////+vz//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////7/f/7PX/8Pf/3O7/vd7/mcv/gL//c7n/8fj/yuT/jMX/Tab/NJn/MZj/Mpj//v7/3+//k8n/R6P/L5f/M5n//P3/0Of/brb//f7/z+f/Y7H/MJf/bLX/kcf/yeT/Q6H/PZ7/ZrP/h8P/d7v/xeL/4fD/6/X/3e7/SaT/j8f/5PH/u93/crn//v//mMz/N5r/tdr/gcD/Vqv/0ej/ebz/ZrL/2uz/gsD/XK3/1er/8/n/ksn/QaD/wN//tNn/1ur/P5//QqD/ptL/9vr/6vT/cbj/l8v/+vz/t9v/OJv/Opz/ZLH/iMP/m83/6fP/d7r/N5v/Uqj/Mpn/+Pv/qdT/PJ3/7fb/Z7L/uNz/SqT/S6X/udz/OZz/mMv/5fL/drr/Waz/Wqz/qtT/RKH/q9T/9Pn/3u7/Z7P/w+D/TKX/oM//PZ3/erz/Npr/3O3/x+L/+/0F2pMDAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM4SURBVDjLdZNnWxNBFIVnEZGEGpBeROkSuoIUwS4KFkTFQp+wFEWzk+AmEFhEDBZQlA5ioxcRsCDYELADSvlBbnY2kACeTztz3r1znztnAOBEEAYbDDcabTKG0HiT0UbDDQYEAXRECIQmpmbmFpaS7GyJpYW5mamJUKBDECIr6802ZE5uXv6lS/l5uTmkzWZrK9EyQdja2cPLBVeuSinEipJevVJwGdrb2RJa38FRJi+8RiOk4IQQfa1QLnN0wATh5OyiLCqWUgodUdLiIqWLs5OGcN3ipiopZZBCT4gpLVG5bXFlCwhNobxsta8hyuTQVEgAkd1W8rpUezrDSvstvU5utRMB4TZV+Q18PqIqbubn36ygMELdKFdtEwJ3D4ma4X+pvHX7zp3btyr5goxa4uEOPL3uViHsV9+TQVaye9WYQFV3vTyBt899bomYGvkDyOmBvIZrBEnv+3gD3+0PMV5bp4K8VHW1eO/hdl/gR9ZzC6ahES6rsYFrC9WTfgBKmjiAbm5ZAVqaaQ5okkAgJltxhUdtK0DbI1yhlRQD/8dPOIB6+kym9WXPnnKTQU8e+4OAwOe4IVpNagFSTeO954EBICi4vQOvOru6sd/d1Yl3OtqDg0BIaE8vnjRT1dfCniJr6avCo6V6e0JDwI6d/QMv+NEOvhwaHh56OciP/sVA/84dICxcPPKK5i+Qpl+/pmn+OulXI+LwMCDYFaEsf8PH6a0mk2/5UL0pV0bsEgAiMiRq9N3Y2sCMvRuNColkM0dE7xaPq6nVkaPU4zGx0VxqBXv27mtr1g8dYt637du/R4Bj73rgoPLDR90aiPr0WXnogKv2YYgOx432Tejknhr8Mhp3ZOVpCY7GJ0xOKZZLIMXUZEL8UYHO4zx2HBZMaw9B1NcCm+PH9J/3CRf47Tt/CPX9B3Q5qecDkBjr8VON26Amhn56nErU9wGRdNr8129NfJH0t9z8TNKqAixxNhnOzGpGPTsDk8+t8VnC4bxybgyhP3PK8w7r+OzIL1yU/J2f/yu5eCF6PYBtIyVmYXp6ISYlaV2fJVLTVIuLqrTU//jszadnLC1lpEf+D2DbyMzKytRv4B+n7ayGbXJj1gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MjkrMDA6MDCVg8JEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACslBMVEUAAAD////////////////////////////////////////////////////////+/fz79/T////////////////////////////////////////////////////////////////////////////////////+/v7////9/Pv////79/X////////////////9+/r////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////58+/48ez69PDz5dzpzr3cspnUoIDQlXP69PHt18rYqIzDeU27ZjS6ZTG6ZTL+/v7059/brpPCdUe6Yy+7ZjP+/fzv29DOkm67ZzS6ZDH+/f3v28/LiWO6YzD05t/OkGy6ZDDarJH+/v3t1snAckO+bj3MjWbUn4DXpYfRmXfr08X16eH48Ovz5t3CdknZqo/26+TozLvQlXL//v7dspi8aTfmyLXUoIHGgFbv3NHSm3m5Yy/LjGby49rVoYLIhVzx39X79vPbrZK/cEHq0MDmxrS6ZjK5Yi/58/Dx4Na+bz/AcULhvab8+Pb47+rPlHHCd0ncsZf9+/rnybe9aji9azrLi2TXpojdtJv37unt18nFfVK7ZTL8+vjivqm+bTziv6n58e3WpIfWpYfx4NXMjWfnyrjCd0rDeEvoyrm9azncsZj27OXRmHbHg1nIg1rt2Mriv6rAckTjwKv79vS8ajm9ajnXpYj05t7r0sPDeUzfuKC+bT3Sm3q8aTbIglns1cf9/Pua7OXrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANISURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlRUUVYFBUVF5WWlIsJQlRwSgtI1tZVV1TW4EEamuqqyplZaRBKuTkFerqGxqLKlBAUWNDfZ2CvBzQAC6e5KbmFjR5oIqW5qZkHi5GBkFxxbTWApjtLY2NMLVFBa1piuKCDFxKbe0dhRCh2s6u7u6uzlqIksKO9jYlLgZllZSeFoh8TW9f/4QJ/X29NRAVLT0pKsoMqmoTJxVBjJw8pTgZCIqnTIZYWTRpopoqg7rGVDC3qHFayfRkMJheMg3sqaKCqRrqDJpaMyDKZ86qS4aCulkzIWIztDQZtNNmgzktc+Ymw8HcOWBnFc1O02ZITpkHVjB/wUKEgoUL5oMVzEtJZtBJWwQxYfEShIIliyEmLErTYdBdugysoHD5imKYfPGK5eCQKVq2VJdBT38lWMGq1T1rYArW9KxeBVawUl+PwcBw7TqIk9dv2AiR37hhPURk3VpDAwYj402bITHdsmXrQqAtxQu3boEEbe3mTcZGDCam27bvgAbtzl279+zZvWsnNOh3bN9masJgZq6zt3c+NALnz585c/58aHTO792rY27GwGlhWblvPzQ5HQClyQPQRLV/X6WlBScDo5WR9cFDhzETzOEjB62NrIBpjtHGVufosUL0JFd4/KidvQ041XI6ODqd6EJNdEUtJ084OTtwQpK9nItr5anTtUgqimrPnK10c5GDZQxBd4+DW88VIhQU7jx/0MMTkbU4vbx9LlysgBtRVHHxgo+3FydS5vT1S869BHNoUeHlK6J+vqjZ2182+eo1aGjUXrueLBuAIs/AEGivcqPnJtgZhbdu31AJCkSVZ2AMDuG7cxKU3otqTpbwhQajGQBUERaefPceKKjv3U0Oj8CQB6qQjKy8f7io6MH9ykhJLPLAII+KTnn46NHDlOgoG2wKgM6IsUt//DjdLiYYqzxQRWxc3ZMndXGxOOSBMR+f8PRpQrwVLgVAZyQmJSWiOgAArqa4BP2YBKMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjQ2KzAwOjAwpaS7KgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAChVBMVEUAAAD//////////////////////////////////////////////////////////vv//fL//////////////////////////////////////////////////////////////////////////////////////v7//////vr//////////////////////vj//////v///////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7//////////////Ov/++j//Oz/+dT/863/7X//6mD/50///O7/9r3/62//4SH/3QH/3AD//v7/+df/7Xj/4Br/3QD//vv/98T/5kr/3QL//v3/98P/5Tz/+db/5kf/7HX/3QP/9rv/4BX/3g3/5UH/6WD/62n/6Fb/9bf/+tr/++b/+dX/4Bv/7HP/+t7///7/86v/+dj/3QX/8qP//vz//O3/6mH/4iz/98b/6Fj/5T//+dH/6mL/4zP/+Mr//fH/7Hf/3xP/9LH/8qH/6mn/+Mz/3g//3xT/8JD//fT/++X/507/4B3/7X3/+ND//vj/86b/3Qj/3gn/5T7/62r/7oL/++P/6FT/3Qb/9rz/4ij//fb/8ZT/3gz//Oj/62j/3AH//On/+Mv/86f/4R7/86j/7n7//vf/+t//3QT/4zD/4zH/8JX/3xX/3gj/9bT/4R//74j/74n/6Fn/+dP/9bn//vrsMn7uAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAxZJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSVAqVIwADJKiosKpSQhKhilZWTLyisqobJQNZUV5WWyMtIgFXLyClXVNQUo8iBTaqqrFOTlgAZw8STV1qHLg1TU1SbxcDEyCIorptY3IGxHuKShPlVRXJCBS6mqsakAKt3c0tra0gxVUtDUWKXExaCsktwGFahs7+js6ursaIc6uKAtWUWZQVWtuwfML8jv7etPAoL+vt58iEhPt5oqg7rGBDC3oCBrYmESGBROzALbUpA/QUOdQVMgA6J80uQpSVAwZfIkiFiGgCaD1tRpEM70GUlwMGM6RGzaVC2GpOSZEM6s2QgFs2dBxGYmJzFoT50D4cydh1Awby5EbM5UbQad+QsgnIWLCmHyhYsWQsQWzNdh0NVbDPX1klSYgtQlUKHFeroM+gZLl0GUL1+xEiK/csVyiMiypQb6DIZGq1ZD1a9Zuw5oS+G6tWugAqtXGRkyGJus37ARKrBp85atW7ds3gTlbtyw3sSYwdRMe9t2RGTu2IGIzu3btM1MGTjNLcp27oIlB0Rslxbs2llmYc7JwGhpaLV7z17MBNO8Z7eVoSUwzTFa22jv238APckd2HLQ1s4anGo57R0cD7Wgqig40HLI0cmeE5Ls5Zxdyg4fQVZQUHDkaJmrsxwsYwi6ue9euxFJRcGmY8fdPRBZi9PTy/vE9pNwFQUnt5/w9vLkRMqcPr5JOacQOet0jqivD2r29pNNOnMWpuDsmSRZfxR5BoYAO5X5becgcbSpbb5KYACqPANjUDBfbQsoAxU0tBTxhQShGQBUERqWdP4CKKgvnE8KC8eQB6qQjCi7uLegYO+lsghJLPLAII+MSr48adLl5KhIa2wKgM6Itr1y6tQV2+ggrPJAFTGxU65enRIbg0MeGPNx8deuxcdZ4lIAdEZCYmICqgMA6f6os3UKuXAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjU4KzAwOjAwOTHA6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////7/v3y+/n////////////////////////////////////////////////////////////////////////////////////+/v7////6/f3////y+/r////////////////4/fz//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r+ffo+PXs+ffU8+2t591/28tg0r5Pzbju+vi97ORv1sQhwKUBt5gAtpf+/v7X9O942ckavqIAtZYAt5j7/v3E7udKy7UCt5j9/v7D7uY8x7DW8+5Hy7QAtpZ118cDt5i77OQVvKANup1BybJg0b5p1cJWz7q36uLa9PDm9/XV8u4bvqNz18be9fGr59zY8+9/2ssFuJmj5dr8/v7t+fdh0r8sw6rG7+hYz7s/ybHR8uxi0r8zxazK8Onx+/l32MgTvJ+x6N+h5Nlp1MLM8OoPu54UvJ+Q39L0/Prl9/ROzbcdv6N92srQ8ez4/fym5tsIuJoJuZs+yLBq1cOC28zj9/NUz7oGuJq87OMowaf2/PuU4NQMupwNupyU4dTo+PZo1MIBtpdq1cLp+fbL8OoBtpan5tsev6Mev6So5twIuZt+2sv3/Pvf9fJUzroEt5gwxKsxxKuV4NQVvaCV4dTW8+/X8++06eEfv6T7/f2I3c6J3c9Zz7wFuJrT8u256+L6/f3ow7cxAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMvSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN/QiCYPVNHYUJ/Mw8XIICiumNbUDLO9sawMprawuSlNUVyQgUuppqW1EOq4tvaOjvY2qGMLW1tqlLgYlFVSOhuhDuvq7unt7enugjq4sTNFRZlBVa2vH8wvLJgwsSgZCIomTiiAiPT3qakyqGtMAnMLG7Mng+WBKiZngx1SWDBJQ51BU2sKRPnUadOToWD6tKkQsSlamgzaM2aCOY2zZifDwexZYGcVzpyhzZCcMgesoGzuPISCeXPLwArmpCQz6MyYDzFhwUKEgoULICbMn6HDoLtoMcS+JUuLYPJFS5dAxBYv0mXQ018G4ZQtT4MpSFsOiZrCZfp6DAaGK1ZCeKtWr4HIr1m9CiKycoWhAYOR8dp10IBbv2Ej0JaijRvWQ4N23VpjIwYT002bt0BVbN22fceO7du2QuW3bN5kasJgZq6zc1cZLBGU7d5dBksaZbt26pibMXBaWFbs2QtLDqAkCWPu3VNhacHJwGhlZL1v/wHMBHPw0D5rIytgmmO0sdU5fOQoepI7euy4nb0NONVyOjg6nWg/iZpoT7afcHJ24IQkezkX14pTpwuRVBQWnjlb4eYiB8sYgu4e+zacQ1aw9fwFD09E1uL08va5eOkyXEXh5UsXfby9OJEyp69fcu4VRM66mivq54uavf1lk6+1whRcv5EsG4Aiz8AQaK+yaDnEGYVbly9SCQpElWdgDA7hu9kOykCFze23+EKD0QwAqggLT759BxTUd24nh0dgyANVSEbevXegsPDA/buRkljkgUEeFZ3y4OHDBynRUTbYFACdEWP36MqVR3YxwVjlgSpi46Y/fjw9LhaHPDDm4xOePEmIt8KlAOiMxKSkRFQHAAAsgrQ2sknLAAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDU6MTIrMDA6MDD2yfpjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/vz0/fT////////////////////////////////////////////////////////////////////////////////////+/v7////7/vv////1/fX////////////////6/vr//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v/O/s++zw/PDc+dy9872Z7ZmA6oBz53Px/PHK9sqM64xN4U003TQx3DEy3DL+/v7f+d+T7ZNH4Ecv3C8z3TP8/vzQ99Bu5m79/v3P989j5WMw3DBs5myR7JHJ9slD4EM93j1m5WaA6YCH64d36HfF9cXh+uHr++vd+d1J4EmP7I/k+uT+//6787ty53KY7Zg33Te18rWB6oFW4lbR99F56Hna+dqC6oJc41zV+NXz/fOS7JJB30HA9MC08rQy3TKH6ofW+NY/3j9C30Km8Kb2/fbq++px53GX7Zfa+Nr6/vq387c43Tg63jpk5WSI64ib7pvp++lS4lL4/fip8ak83jzt/O1n5We487hK4UpL4Uu587k53TmY7pj4/vjl+uV26HZZ41la41qq8KpE30Sr8Kv0/fQ53jne+d7D9cNM4Uyg76B66Ho23TbH9cf7/vts+qXUAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ1OjQxKzAwOjAwj8HumgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////9/vv5+/L////////////////////////////////////////////////////////////////////////////////////+/v7////9/fr////5+/P////////////////8/fn////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////3+uz1+en3+u3t9Nbd6rHK34W912i20lj4+u/j7sDD23ajxyyWvw6VvguVvgz+/v7u9drH3X+gxSWUvgmWvw39/vvm8Me00VP+/v3m8MauzkXu9Nmz0FDG3HyUvgrj7r+exCCbwhqwz0rB2XGWvw+51F7h7Lrv9dz0+Oft9NehxifF3Hrx9t/c6a+201j+//7K3oaYwBHZ56j+/vy+12moyjfn8Mn2+uy61WCwzkns89P3+u6+12qryz7p8c35+/HH3X6dwx7e67XY56aVvg2UvQjq8s6cwhuexB/R45b6/PT0+Oa20leVvgqhxijJ3oT8/fna6KqYwBOZwRavzkfB2XLL34nz+OS41F2UvQmYwBKmyDGWvwz7/PfS5JmawRebwhjT5JrB2XD1+erp8s79/vzb6ayiximixir7/PbJ3oOZwRXK3oTx9+Cpyzuqyzvj7sGexCH5+/KZwBSwz0vu9dng7LijxivO4Y6awRjO4Y+61WGXwBHt89Wpyzri7bz9/frM0I39AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANESURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QWIEECguqqyplZaRBKuTkFWpq68qLKlBAUXldbY2CvBzQAC6e5PoGdHmQiob6ZB4uRgZBccW0xgKY7U3l5U0wdkFjmqK4IAOXUk1zSyHUca1tWVltrVDHFrY01yhxMSirpLQ3QeQ7Oru6e3q6uzo7ICqa2lNUlBlU1Xr7iiBG9k8oTgaC4gn9ECuL+nrVVBnUNSaCuUXlk0omJ4PB5JJJYEcXFUzUUGfQ1JoCUT512vRkKJg+bSpEbIqWJoN22gwwp2nmrGQ4mDUT7KyiGWnaDMmz54AVlM+dh1Awb245WMGc2ckMOvMXQBQsXIRQsGghRMGC+ToMuouXgBUULl1WDJMvXrYUHDJFSxbrMujpLwdzVqxsT4MpSGtfuQKsabm+HoOB4arVECPWrF0HkV+3dg3EgNWrDA0YjIzXb9gICbhNm+cBbSmet3kTJGg3blhvbMRgYrpl6zZo0G7fsXPXrp07tkODftvWLaYmDGbmOrv3rIQmk5V79+3buxKadFbu2a1jbsbAaWFZ2bwfYknFAVCaPABhb9zfXGlpwcnAaGVkffDQYcwEc+ToQWsjK2CaY7Sx1Uk9Voie5Ap3HreztwGnWk4HR6cTbU0oKoqa2k44OTtwQpK9nIvryVOnNyKpKNp45tRJNxc5WMYQdPc4e+48UrovPH/hoIcnImtxenn7XNxTATeiqGLPRR9vL06kzOnrl5x7CZGzLl8R9fNFzd7+sslHr0JDY+PVo8myASjyDAyB9irX2q+DnVF4vf2aSlAgqjwDY3AIX30bKPkWFdy4yRcajGYAUEVYePKt26Cgvn0rOTwCQx6oQjKy8s7doqK79yojJbHIA4M8Knr2/QcP7s+OjrLBpgDojBi7h48ePbSLCcYqD1QRGzf98ePpcbE45IExH5/w5ElCvBUuBUBnJCYlJaI6AADXv7i4Kd/lawAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDk6NDUrMDA6MDBhsioHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACnVBMVEUAAAD////////////////////////////////////////////////////////7/fvy+fL////////////////////////////////////////////////////////////////////////////////////+/v7////6/Pr////////////////////4/Pj////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r9uvo9Ojs9uzU69St2K1/w39gtWBPrU/u9+694L1vu28hlyEBiAEAhwD+/v7X7Nd4wHgalBoAhgAAiAD7/fvE48RKqkoCiAL9/v3D48M8pDzW7NZHqUd1vnUDiAO737sVkRUNjg1BpkFgtGBpuWkCiQJWsFa33bfa7drm8+bV69UblBtzvXPe796r16vY7Nj+//4FigWj1KP8/fzt9u1htWEsnCzG5Mbr9etYsVg/pT/R6dFitmIzoDPK5srx+PF3wHcTkBOx2rGh06EAhQDM58wPjg8UkRSQy5D0+vTl8uVOrE4dlR19wn3Q6dD4/Pim1aYIiwgJjAk+pD5qumqCxYLj8uNUr1QGiga837womij2+/aUzZQMjQwNjQ1ouGgBhwFquWrp9OnL5ssBhgGn1qcelR4elh6o1qj2+vZ+w373+/ff8N8EiAQwnjAxnjGVzZUVkhUJiwm03LQflh+IyIiJyIlZsVnT6tP8/vy53rn6/Pq97PRtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAzFJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSWlBQVlYFBQUFpSXFQoJQlRwSgtI1teUVkFlYWqqaqsKJeVkQapkJNXqK6pLUWRB6oora2pVpCXAxrAxZNUV48uD1JRX5fEw8XIICiumNrQCLO9FAhg7MaGVEVxQQYupeqm5gKo41pa29paW6COLWhuqlbiYlBWSW4vhQh0dHZ19/R0d3V2QFSUtierKDOoqvX2gfkF+f0TCpOAoHBCfz5EpK9XTZVBXWMimFtQmjVpchIYTJ6UBXZIQf5EDXUGTYEMiPIpU6clQcG0qVMgYhkCmgxa02eAOaUzZyXBwayZYGcVzJiuxZA0ew5Ewdx5CAXz5kIUzJmdxKA9fT5EwYKFCAULF0AUzJ+uzaCzaDHEviVLC2HyhUuXQMQWL9Jh0NVbBuEsb0+FKUhtXw4RW6any6BvsGIlhLdq9RqI/JrVqyAiK1cY6DMYGq1dBwnJ0vUbNgJDYvLGDeuhAuvWGhkyGJts2rwFGrRbt23fsWP7tq3QoN+yeZOJMYOpmfbOXcuhEbi8dPfu0uXQ6Fy+a6e2mSkDp7lF+Z69pbBUUABLd2Wle/eUW5hzMjBaGlrt238AM8Ec3L/PytASmOYYrW20Uw4dRk9yh48ctbWzBqdaTnsHx2Otx1ET7fHWY45O9pyQZC/n7FJ+4mQBkoqCglOny12d5WAZQ9DN/cyGLcgKtp495+6ByFqcnl7e53ddgKsouLDrvLeXJydS5vTxTcq5iMhZl3JEfX1Qs7efbNLlK9DQKL1yOUnWH0WegSHATmVRO8QZBVfbF6kEBqDKMzAGBfPVtYIyUEFjaxFfSBCaAUAVoWFJ166Dgvr6taSwcAx5oArJiPIbBwoKDtwsj5DEIg8M8sio2bemTLk1OyrSGpsCoDOibW9fvHjbNjoIqzxQRUzsnbt378TG4JAHxnxc/L178XGWuBQAnZGQmJiA6gAAFLyvxAL3bxQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ5OjU2KzAwOjAwnPAwBAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////7//3y//n////////////////////////////////////////////////////////////////////////////////////+//7////6//3////y//r////////////////4//z////////////////////////////////////////////////////////////////////////+//7////////////////////////////////////+//7////////////////////////////////////////////////////////////////////////////+//7////////////r//fo//Xs//fU/+6t/95//8tg/79P/7nu//i9/+Rv/8Uh/6YB/5kA/5j+//7X/+94/8ka/6MA/5cA/5n7//3E/+dK/7YC/5n9//7D/+c8/7HW/+9H/7V1/8cD/5m7/+QV/6EN/55B/7Np/8NW/7u3/+La//Dm//XV/+4b/6Rz/8fe//Gr/93Y/+/+//9//8wF/5qj/9r8//7t//dh/8As/6vG/+hY/7w//7LR/+xi/8Az/63K/+rx//l3/8kT/6Cx/9+h/9nM/+oP/58U/6CQ/9L0//rl//RO/7gd/6R9/8vQ/+z4//ym/9sI/5sJ/5w+/7Fq/8OC/83j//NU/7oG/5u8/+Qo/6j2//uU/9QM/50N/53o//Zo/8MB/5jp//bL/+pB/7IB/5en/9we/6Qe/6Wo/9wI/5x+/8v3//vf//IE/5kw/6wx/6yV/9TW/+60/+Af/6WI/8+J/89Z/7zT/+25/+L6//2DMMmrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6MDYrMDA6MDDpi8pqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD////////////////////////////////////////////////////////7///y///////////////////////////////////////////////////////////////////////////////////////+///////6///////////////////////4///////////////////////////////////////////////////////////////////////////+///////////////////////////////////////+///////////////////////////////////////////////////////////////////////////////+///////////////r///o///s///U//+t//9///9g//9P///u//+9//9v//8h//8B//8A///+///X//94//8a///7///E//9K//8C///9///D//88///W//9H//91//8D//+7//8V//8N//9B//9p//9W//+3///a///m///V//8b//9z///e//+r///Y//8F//+j///8///t//9h//8s///G//9Y//8////R//9i//8z///K///x//93//8T//+x//+h///M//8P//8U//+Q///0///l//9O//8d//99///Q///4//+m//8I//8J//8+//9q//+C///j//9U//8G//+8//8o///2//+U//8M//9o///p///L//+n//8e//+o//9+///3///f//8E//8w//8x//+V//+0//8f//+I//+J//9Z///T//+5///6//8Ngdu6AAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MDoyMSswMDowMG4J85kAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACu1BMVEUAAAD////////////////////////////////////////////////////////8/f3y9/r////////////////////////////////////////////////////////////////////////////////////+/v7////6/P3////z9/r////////////////5+/z//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////s8/jp8fft9PjW5vCwz+KEtdJno8hXmcLu9fnA2Oh1q80qfrIMa6cJaqYKaqb+/v7Z6PF+sdAkea8HaKULa6f8/f3G3epRlcAJaab9/f7G3OpEjrsHaaXY5/FOlL97rs8Iaab9/v6+2Ocfdq0Yc6tJkb1no8dvqMsIaaUNbKhdncS61ebb6fLn8PbX5vAle7B5rs7f7POuzuGFtdMPbainyt/8/f5oo8g1hbbI3utfnsVHkLzT5O/u9PhppMk8ibjM4Ozx9/p9sNAcda200eSlyN4La6YGaKVwqMvO4e0Zc6wddq2Vv9j0+Pvm8PZWmMIme7GDs9LS5O/+/v/5+/ypy98Rb6kTcKpGj7xxqcyIt9Pk7/VcnMQQbqj7/f0wgbQKaqf3+vyYwdkVcaoWcquZwdpvp8vq8vfN4e1JkL2rzOAnfLEofLGszOH2+vyCs9ITb6mDtNLg7PNbnMQ5h7c5h7jA2egfd66awtry9/pvqMoSb6kMbKe30+UpfbGNutaOutZgn8XV5vC81ub7/P0PF+8/AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANLSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QU4EEagqqqyplZaRBKuTkFWrr6huKKlBAUUN9Xa2CvBzQAC6e5MYmdHmQiqbGZB4uRgZBccW05gKY7S3l5S0wdkFzmqK4IAOXUmtbeyFEqKajs6urs6MGoqSwva1ViYtBWSWluwci39vXP2HixAn9fb0QFT3dKSrKDKpqkyYXQYycMrU4GQiKp06BWFk0eZKaKoO6xjQwt6ghuwQsD1RRkg12dFHBNA11Bk2t6RDlM2bOSoaCWTNnQMSma2kyaKfNBnNa5sxNhoO5c1rACmanaTMkp8wDKyifvwChYMH8crCCeSnJDDoLF4EVNCxeglCwZHEDWMGihToMukuXgRUULl9RDJMvXrEcHDJFy5bqMujprwRzVq1ekwZTkLZm9SqwppX6egwGhmvXQYxYv2EjRH7jhvUQA9atNTRgMDLetBns5IqWLVu3bU9O3r5t6xaowOZNxkYMJqY7du6CBG3L7j179+3bu2c3RL5o184dpiYMZuY6+w+shkRg4erygwfLV0OirmL1gf065mYMnBaWh9oOQ/RUHAGlySMQdsvhtkOWFpwMjFZG1kePHcdMMCdOHrU2sgKmOUYbW53UU4XoSa5wzWk7extwquV0cHQ6c7YFRUVRy9kzTs4OnJBkL+fiWnnuPLKKopYLFyvdXORgGUPQ3ePS5SuFCAWFu68e9fBEZC1OL2+fa9cr4EYUVRy45uPtxYmUOX39knNvIHLWzVuifr6o2dtfNvnkbWhotNy+kywbgCLPwBBor3L33n2wMwrvr7mrEhSIKs/AGBzC13j2AdCSogdnS/hCg9EMAKoIC09++AgU1I8eJodHYMgDVUhGHnp8oqjoxJNDkZJY5IFBHhWd8nTGjKcp0VE22BQAnRFj9+zGjWd2McFY5YEqYuNmPX8+Ky4Whzww5uMTXrxIiLfCpQDojMSkpERUBwAAPAa7YJpbYIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjM0KzAwOjAw8JvcoAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACzVBMVEUAAAD////////////////////////////////////////////////////////7/Pzy9Pb////////////////////////////////////////////////////////////////////////////////////+/v7////6+/v////////////////////4+fr////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r7/Ho7O/s7/LU2+GtusZ/lKdge5JPbIfu8fO9yNFvh5whRWYBK1AAKE8AKU/+/v7X3uR4j6IaP2EAJk0AKlD7/PzEztZKZ4ICK1EAKE79/f3DzdY8XHkAJ03W3eNHZYB1jKADK1EAJ067xtAVO14NNVlBYHxgepHr7vFpgpgCLFFWcou3ws3a4OXm6u3V2+IbQWMBK1Fzip7e4+iruMVPbIbY3uQFLlOjssD8/f3t8PJhe5IsT27Gz9hYc4w/X3vR2d9ifJMzVXPK09vx8/V3jqITOVyxvcmhsL4AKVAAJUzM1NwPNloUOl2QorP09vfl6e1Oa4UdQmN9k6bQ2N/4+fqmtMIIL1QJMVY+XXpqg5mCl6nj6OxUcYoAJkwGL1S8x9EoSmr2+PmUpbUMM1cNNFiUprVogZgBKE5qgpjp7PDL1NsBJ06ntcIeQmQeQ2WotsP29/l9kqUIMVV+k6b3+Pnf5OlUcIoEKlAwUnExUnG9yNKVprYVPF4IMFUJMFVBYH3X3uO0wMwfRGWInK0MNFiJnK5ZdI3T2uEwUnC5xM/6+/yAxxLtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0hJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVauvqGwrLUUBhQ31drYK8HNAALp6kxiZ0eZCKpsYkHi5GBkFxxdTmFpjtrWVlrTB2S3OqorggA5dSbVs7xP7Cmo7Orq7OjhqIkpr2tlolLgZlle6eBoh8b1//hIkTJ/T39UJUNPR0qygzqKpNmgzmF06ZOq0oCQiKpk2dAhGZPElNlUFdY3p+IdhRM2aC5YEqZs4AO7owf7qGOoOmQAZE+azZc5KgYM7sWRCxDAFNBq2588Cc1vkLkuBgwfxWsIJ5c7UYkroXghWULVqMULB4URlYwcLuJAbtuUvAChqWLkMoWLYU7LHCJXO1GXSWrwArKFi5qggmX7RqZQFYwYrlOgy6eqvBCtas7UmFKUjtWbsGrGC1ni6DvsG69RAnb9i4CSK/aeMGiMj6dQb6DIZGm7dAQrp167btQFuKtm/b2goJ6y2bjQwZjE127NwFCdrW3Xv27tu3d89uiHzhrp07TIwZTM209x84CI3AgwcPHTp4EBqdBw/s1zYzZeA0t6g4fKQGlthAAJqojhyusDDnZGC0NLQ6euw4ZoI5cfKolaElMM0xWttop5w6jZ7kTp85a2tnDU61nPYOjuc6z6OoKDzfec7RyZ4TkuzlnF0qLlysQVJRWHPpcoWrsxwsYwi6uV+5eg0p3dfsvn7D3QORtTg9vbxv3roNN6Lw9q2b3l6enEiZ08c3KecOzJLCmrv3RH19ULO3n2zSfWjiLq95cD9J1h9FnoEhwE5lec9DcCQXPOpZrhIYgCrPwBgUzNfYCcpAhS2Pn/CFBKEZAFQRGpb09BkopJ89TQoLx5AHqpCMqHj+orDwxcuKCEks8sAgj4zqfjVr1qvuqEhrbAqAzoi2ff3mzWvb6CCs8kAVMbFz3r6dExuDQx4Y83Hx797Fx1niUgB0RkJiYgKqAwC8prs7Sn3FCAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6NDMrMDA6MDA/+es3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/P709P3////////////////////////////////////////////////////////////////////////////////////+/v7////7+/7////19f3////////////////6+v7///////7////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v7/zs7Pvw8Pzc3Pm9vfOZme2AgOpzc+fx8fzKyvaMjOtNTeE0NN0xMdwyMtz+/v7f3/mTk+1HR+AvL9wzM938/P7Q0Pdubub9/f7Pz/djY+UwMNxsbOaRkezJyfZDQ+A9Pd5mZuWAgOmHh+t3d+jFxfXh4frr6/vd3flJSeCPj+zk5Pr+/v+7u/NycueYmO03N921tfKBgepWVuLR0fd5eeja2vmCgupcXOPV1fjz8/2SkuxBQd/AwPS0tPIyMt2Hh+rW1vg/P95CQt+mpvD29v3q6vtxceeXl+3a2vj6+v63t/M4ON06Ot5kZOWIiOubm+7p6ftSUuL4+P2pqfE8PN7t7fxnZ+W4uPNKSuFLS+G5ufM5Od2YmO74+P7l5fp2duhZWeNaWuOqqvBERN+rq/D09P05Od7e3vnDw/VMTOGgoO96eug2Nt3Hx/X7+/4Nm4E+AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjU2KzAwOjAwoWvEDgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACTFBMVEUAAAD////////////////////////////////////////////////////////9/v/5+v/////////////////////////////////////////////////////////////////////////////////////+/v/////8/f/////////////////////8/P///////v/////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////2+P/09//r8P/Y5P/D1P+1yv+txP/3+f/g6f+7z/+Xtf+Iqv+Hqf/+/v/s8f/A0v+Usv+GqP/9/f/j6/+qwv+kvv+pwf++0f+Gqf/f6P+RsP+Orv+mv/+0yv+5zf+Jq/+wxv/d5//t8v/z9v+Us/+90P/v9P/X4/+Kq//U4P/9/v/2+f+cuP/k7P/1+P+xx/+lv//p7/+2yv+gu//m7f/4+v+Qr//a5P/T3/+FqP/n7f/L2v/6+//y9v+sxP+Vs//C1P/8/P/V4f+LrP+Mrf+6zf/F1f/y9f+vxv+KrP+atv/7/P/N2/+Nrf+Nrv+4zP/W4v+VtP+WtP/6/P/C0/+MrP/D0//w9P+euv+SsP+Ssf/N3P/c5v/I1//q8P/e5//8/f/tCMxjAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAyFJREFUOMt1k+db01AUxm+U1QKllT0KAlXUInsjoOICRREVFZGRMMrKTSFlBVoKKGgZUqZShiJDUUARFyrrHzPkJrRlnE855/09J+9z7jkAcIFhx47b2NrZO+C4g72drc3xYxgGLAITiR2dnCUuUqKkhJC6SJydHMUiCwKTnXB1cydKy8pVFRWq8rJSwt3N9YRsj8A8PL3wyqrqGhJyQdZUV1XiXp4emKB7+1Dq2jqalbiAkK6rVVM+3ojAfP3kmvoGkld5hmyo18j9fHcJ/4CTVH0jbaWzBN1YT50M8GcbiJ1wddN+fZdoUuNOYgzIPAOJZqE/ZGiaEb7JZiLQUwbEQVRLK+TNaXVtbTotbxa2tlBBYhCsIPQ0KrR3dD57/vxZZ0c7Img9oQgGp06XdkHUsvsFhbNBvehGv4RdpadPgZAzL7kU0hVqnA91BWcaki/PhICz0nKEG3p6BaC3x4Bq5dKz4FyfikuY/lf4XrzqZzhA1XcO4ANGDqAHh8zA0CDnGxoHcKDsG0bAyKgZGB1BwHCfEoSO1aL/vX5DCTr15jWq1Y6FgvNh4ygx6QkBIPQmVBsPOw/CIya0KGudnEL61CQaLdRORISDyKjpt5xlknk3w/kcmnnHF95OR0WC6Jj3s3NotMx848KHDwuN80iHc7PvY6JBbJzy46KJf0AT/ekTbeKf07T4URkXC0TxCZqWz4ywBVDYO5L53KJJiBcBLDEyaWl55eDCfFleSopMZHcOS76gLPkK968c1JekpCZzWytKu3hpVMdYLy2jG710OU2E1t4//Ypm9ZtlDwjXVjVX0/2Fw5Bdu/79x5wl8PPX0vUb5tMSZWTe/L1ovgxILv6+mZkhsjjOW1l41br5star3LNuWZ/3bTm+/IefBvP3Hy6/Y6UDkJ2qGNMjG3BOP6a4m22tAyznnkSt27UBSZ1acj9nXwOWeJCLb6ztjnptA899eEBnCe9Hms0VCFc2NY+8D9HZkT/OGzAaDMaBvMfJhwGsjScpW+vrWylPcg7VWSL/KbW9TT3NP0JnX76gcGensCDxKIC1UVRcXGRt4D+SPpTGEJHXggAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MDYrMDA6MDAGSaFUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////9+//58v/////////////////////////////////////////////////////////////////////////////////////+/v/////9+v/////68v/////////////////8+P/////////////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////36//16P/37P/u1P/erf/Lf/+/YP+5T//47v/kvf/Fb/+mIf+ZAf+YAP/+/v/v1//JeP+jGv+XAP+ZAP/9+//nxP+2Sv+ZAv/+/f/nw/+xPP/v1v+1R//Hdf+ZA//ku/+hFf+eDf+zQf/Daf+7Vv/it//w2v/15v/u1f+kG//Hc//x3v/dq//v2P///v/Mf/+aBf/ao//+/P/37f/AYf+rLP/oxv+8WP+yP//s0f/AYv+tM//qyv/58f/Jd/+gE//fsf/Zof/qzP+fD/+gFP/SkP/69P/05f+4Tv+kHf/Lff/s0P/8+P/bpv+bCP+cCf+xPv/Dav/Ngv/z4/+6VP+bBv/kvP+oKP/79v/UlP+dDP+dDf/26P/DaP+YAf/26f/qy/+yQf+XAf/cp/+kHv+lHv/cqP+cCP/Lfv/79//y3/+ZBP+sMP+sMf/Ulf/u1v/gtP+lH//PiP/Pif+8Wf/t0//iuf/9+v/1rAt3AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MjArMDA6MDAnvJMTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+///8v///////////////////////////////////////////////////////////////////////////////////////v//////+v//////////////////////+P///////////////////////////////////////////////////////////////////////////v///////////////////////////////////////v///////////////////////////////////////////////////////////////////////////////v//////////////6///6P//7P//1P//rf//f///YP//T///7v//vf//b///If//Af//AP///v//1///eP//Gv//+///xP//Sv//Av///f//w///PP//1v//R///df//A///u///Ff//Df//Qf//af//Vv//t///2v//5v//1f//G///c///3v//q///2P//Bf//o////P//7f//Yf//LP//xv//WP//P///0f//Yv//M///yv//8f//d///E///sf//of//zP//D///FP//kP//9P//5f//Tv//Hf//ff//0P//+P//pv//CP//Cf//Pv//av//gv//4///VP//Bv//vP//KP//9v//lP//DP//aP//6f//y///p///Hv//qP//fv//9///3///BP//MP//Mf//lf//tP//H///iP//if//Wf//0///uf//+v8BRUUXAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MTo0MiswMDowMHZMi70AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADj0lEQVRIx5WWO2xURxSGvzN7H7a0AdFRkFSQBovKqcCyBF0kmlDS0SHRpkJKEYmGEBeENImFRJMoLlLk4caJrCguEDSguMEijYMQAu+uwfZ672v+FHe93nu9fnCmO3P+f87jn7nXGDIBNPiAD5limgk+oglsssoyf/E3/7FBAcZIEzKd0CXd1yslPve+ULm897kSvdJ9XdIJmfaBhzqnu1qTL5QrUVeb2tCGNtVVolyF5LWmuzqnUCPg47qsJalQqi2tq63W0GprXVtKVUjSki5rfIfC+rWP8xlf6GNPSoLf3RruDo6YCIet8CU/s21llCDiU77S6YJtMvZtEgJCxmlgz/mceVLDAY4Jbh4OL3cytinQaW4ygQMnOM4NJv2h8GEKD5Pc4LhwhFzgiifZA9fQqlMkeLjCBUJHk2s6VpBW4EIYITExIVYhMSClQMe4RjPgDNMixVfgJdhhgCjz0yDC8KQ0sGnOBFxUU2S1XsfENAaeBg5Hb4gCMsZQ0y46pnBFZQuiCrykiIkqnRAFOKYcZ0uC4fQj3J7+OyKsEleA46zjpMzXTnMjhmm4WlYeGScd8d7Q0VoY6Y8dvu6rzv0Qv3e0rFaxx48IFb52lsOg5XiGH67N8GQjCbKKVqABnmeOR+YdrgLJSGsUIq1pxeEwzyPHApkjqOWQ0KMYeAp6JLXzAxxkLDie8NRqMzYKenTpss02Xbr0KGpSjzB4yhNHh1nzAWFtZCKj119ZTakQEmCeWTqOlAUWjZhG7draYHRWu+YNYgwWWSB1iJfcsdcBcaWMHZK6fIQjJsBec4eXyBnkLDFjPiKCfUS0C4eICCv4miVyw4HBFj8xZ4oJD6QoH9UIE3PMsWXQF6FY5RtbbhCPuIdV9cU0sH+4x2p5kitrxfOYGVsPR3RieHgxIbbODI/xxoAADHJ+Y5Zk5w0cBQ+JIWGW38ltkNNOx8UaD2zR9V+jupTLV8nJFnnA2u73dahkg2W+5XkwshPl8PiXeyxbxV+ZO3/wvXWiWhll+hHW4Tv+tBpx1Xr8wK+WjhEMKIQRMIal/MKP9DjYhD7RQylRRy211VZLHSWS9FCT4ggmdFUvvLr9f4S2uvLSC109EhyEmrqtd4U21FZbGyqkd7qt5hEJQOiU5pXnequ3yqVc8zp1ZHif4rxWvFKl8tKKzr8XHIQCXfdvvLz8G11X8J4E/U7cUkst3Tqo+v8BGqkQrMMFpyAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUyOjAxKzAwOjAwKNkk2QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAD/0lEQVRIx5WVP2wcRRTGf29u9/44a5/Pd2cHEagIEgoFRYSQHMtSQkVJOsoICUVKi+gokFIgghubArAipTHCBVL448ZBFiI0caQ4whGKFRoTx3aS89k+fL7b3ZtHcb7zzdkOyWyzOzPf99773jezQsdQgAS9vMIIo7zJqwTAvyyzyG/8zj9UaIBw6FBUNKfn9Kquad3GsY001FAjja2Nta5relXPaU5FO1DSEd3nDT7kAwZiiaixS0gMeCTJkMbHUzaYYpK/iMQlUMjwLp8wHFNli01C3DhJ+snSgwd/8Dk32JV9AoUM7/Opvl6nRInQTa6lDkny5EkhS3zGD00KAYUk7/GFvrbDKtvoUSKhCH28xDHkAR8zQygIqOEtvtbTO6xQ4UiN25n08jLHkNt8xIJYo5DlEqdrrP4vvLlaYZUanOYSWcXgc4bzMSW2D9S9/7gU25SI4Txn8A0BF7SvSsmpXVES9FGgQB8Jh0RQSlTRPi4QeJxktEGZyIELOfKkSAAN6pQodwQQIsr04I1y0uOsBhFbXVoPUSS5B/BJkSbJupPjFoMkAjlrGMHUiBydsxTa8JaNCmTbfgCIqIFhxHDKml2HW8iR6uqGkCLn7FF2sYZThuMqobM5cwDeosg4MyEqHDekwDoLCcyhHjAknG8LkDJYugDW6XunuLaLELCGkuA7C3WiQyiUiLoz4yNQMtwXm3ZqjdiicYCgwZbjFUgjlvuGW8am8RynldnoomiwQdmxmkcaY7llmCXyCZwcYtZYp9qeqbLOGrETP8CHiFmPBe567wywje2wasgaFTL4QMQuOx2roBgG8OAuCx5lJs3bgclSdrKwVKhgWu3qckaWAGOZpGwImWXOp0i669gKYLHt9/34aYr4MMcsoUF5xBV5HDBIoqt9sve47UwwSIA85gqPUCMQc5MxY3MMwBEm2odDnhymwZfcJBYMCOzwPdOeFuh9JkXzRszjKdNMsyMtP6IsMy6LPRRJHkmhQJIiPcifTLDc3Gb2FLbMMyab/RSOOErNzQX6kU3GmMcKbQIQiPmZSannySKHngWhnzxSZ5JfiKVN2lJceco1mUtRJHOgDAUyFEmpzHGNp/v/1458BRb5igd9FLrOJ4BPgV74mwkWOxvrFCxwg28p5+nHdOSgGPrJQ5lv+NX1RbdiNab4KREOEbSVUISAIRIhP/IdNZ5FIPCQCe6kGdxraLN5g6ThDhM87L4tD/RMYJ5xVrIU9+7ABEWysMI4tw9etoc3/TpTUimQxWDIUkAqTHGd5x2KntAZjat6T+9pVTXWGT2hz41vUgzrktVN3VSruqTDLwQHRT29aJ9YtWqf6EX1XpAAFA30spa0pJc1OBr+H/Nbm042akI7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MjoyOCswMDowMP9kZncAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEJklEQVRIx5XVT2xc1RUG8N+9M2M79tgxJDLR1MHYjosQrdRFVFUKUSToqsuy6xJVqpDYVuy6qMSiKmSTdNHWQmKTqllUon+yIFRRVbohSAQRgRxRJXWwSQzGjpzYnsnMOyzsOPPGNoX7Nk9P9/vO+b7z5yVdJ6Bi2FEnnfI9j6vjrnlX/cu/3bSmQ7LnCZHikXguXo9b0SzarWIzNmIjNqNVFO1oxq14PZ6LRyJFFyp1Ra95ys/9zKPNtOmuVeta6DNoVN2A/vClc2Z97H4qEwQH/NjLTrSsWrTonnKcIQ0No/r4j99420Z6SBAc8FO/iu+u+Z8b1iVlpYEw6AkThqVrfu0vWxSJoM9P/LY49qWP3RL7mSQkRzzlUfkTv3RBK0lE9gO/j+PLPrQk7QvfNtqY7zskvecXrqQiBwe95Piaj/4vnCRZ8pE1jnvJwZDVPOP5phtu98BDKBSix87kthuaPO8ZtazuhRhZdb2kPYSaMVOmjKmVSJJw3aoY8YJ61YxTLQs25S549h2ThlTRds91CwoPa79pwaj+U2aqno36psVS9GTGMYM73+qGDbrWlWOyaFpfPT2bnYy8ZqOUfMOkoS7KZMikRknIhjWRncye7uQ7Jf0V44Z3+T9sXKXkwx2d7OnsSKT1nqv1PYqZ1Hto10VyJOsPnVLx+rsidZ+K/lJBO4L+rEg9gLZiT4JCu4cwUWTLyUAp1bs2SpEeZLbhbknagMRyNpeLsram21q7CFpua/Z4lQtz2bu5GFHbiZkkN833pNs272ZXq4eaEbnwbnYx3T9grCSiac6c1Z0vq+bMaZYEjDkg3Xex6ooP+n501C2drj5bN2fJQQPYdMeKdqlXK47q4wNXqlbMVn54ODfMl3qvbcnS9izYNacNh1UKs1aylosuDZgy0jO2WdLR2X7rho+YMsAlF7WysOjVvHTYjGpP+dL2Uy5nzYzD8pJXLYqcaHvH6UoxboI9OqAMZ8K4Ssdr3tFOMol7/ux8f0wa+1qKwJgn9IfzzruX2N4iYd6ZdHXUtKF9KQJDpo1KHzprfuta3tKqcNnpvNowsc8oQcWEhrzqtMuKLW/yA7u0/d1sbk5qSHvOQtIwKTfN+of2A2t3FmEKX3gjXdpKsldGYNS0oUiXvOGLh//Xh5tU4qrf+WTMpP5dGQyYMsZ/nXW1u7C5+1LibX+0MuGoSlcOoWLc46z4g3+W+yL3BNp0zt9qrWMO7TgRkkOOqbX81Z9s+jqCxKfOen/EkwbZ3sODnjTC+876tHdb9mYgcdkZC4+ZVgVV0x5jwRnv7V62uwjAm87ltUkNWd4q3ppz3vRNT4jxuBDt1Xgr3orViHZciPH4xvgtihNxrYjP4rMoIq7FiW8FJ0Q1Xiw+70Qnis/jxah+SwJC1OOVWI7leCXq+8O/AuFKp/3c1qOQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo0MiswMDowMJ17ML4AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAER0lEQVRIx5XVS2xV1xXG8d/evrbxC7CpMbVSECGg2qlRU5tXDEVNOmmHzazDqFIVKdOqsw4qZVA1RZGgg7ZWpEyoyqBS+qADgpxSOglYkIQE2aFCIuGNMcEOhsu9Z3WAgXts0yb7zI7O919nfevbeycNK6BJl2/YY69vWa8Tcy4445/+5VOz6iTLrhApuuPFeDOuxL167W4xF7fjdszF3aJei3txJd6MF6M7UjSoUkP1ZgN+4sd67qRZ110xYx5tuq3Tq0t7uOmgMWfdT2VA0Ob7fm503iUf+9iMcp1ugwb1a+PffuUd8+kxIGjzI7+ILTdMmHBLVu40UFht2LCvSVN+6c8PEImgxQ/9unjmgnFT6vLyJik02eJ71svn/Mxh1SQR2bf9rhi54B/OS0/y+KHRNvqB9fJJP3U6FTlY5VUjNxz9v3KS5LyjbjDiVatC1my3l+446ZNF8lAsPLEI8YmT7vCS3ZqzTi/HyosmRIM8FFbYbJttNltRgiRhwkWx0ss6Kzbbe8dHZhusC9mQYWu0oGrahA8VHs9+1kf6dey1ueKF6JxztlQ9222X7kfv1ui1yvES4qxd2jvTC9meIl/zecnnAdsb5A9itN2AaGjkc9cU2Z7s2Vq+Wuq/YsiaRdNI1hhSKflwVS17NltXTzMl73v1LBOlrEdvaR4z6sm6rDXUSoB2LctmoEV7CVATtGZF0lz62ar6soC6aqmxZokim846SoCbbpcqPfyz226WAB0y09lkpVhbAsyZMr8EMG/KXAmwVqUwmb3XVPRpa6iZfeCUakledcoHpai16dNUeC87ku6v9HQpqnOOedflhXfhsncdK9UPT1sp3Xek4rT323duNan26INsxjHn9enCrKs+VS3Vb7ZVO+87XTFjrLJ9Yx50WlNDG/edc25hL5BLySgM2qhSGDOTVR0x3mWHPkXJzCZZTU3WVDKv0GeHLsYdUc3CJa/naxs8r3XR+NLCUx7nCqM2yNe87pLIiZrj9jUXWw2zTALKcr5jSHPdbxxXSzKJL/zJoY4Ysam045bKwyYjOsIhh3yRWPAmXLA/nem3Q88TESH02KFf+tABFx58lh/0qnDCvnxr0PATthK0GDYo37LPCUXyCECi5m/GKveGfVNadi8kA4ZV7hnzd7XHmXnoeLjhrTTeY6evLzEz0G+nnkjj3nLj8f3akI/EGb917hnbdS4BdNpmE/9xwJnGwZaOnsQ7/mDmOUNaGhChxZDnmPF7R8u5WHx23XXQX1dUn7f+kRMh2WDUiqq/+KO7/hcg8ZkDTq31XasXRsdqe/RyygGfLb76lpyeiRP2u7jFTq2g1S5buGi/k0tvzuVv8rcdzLPbDGjSZMCIPOugt33ZFeKpOBy1y/FGvBGXI2pxOJ6KL61/gBiNqXpMxmTUI6Zi9CvJCVGJV4rrtahFcT1eicpXBBCiM16L6ZiO16LzyfL/AjzmtojnBFLlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo1NCswMDowMDIBBRoAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEXklEQVRIx5XVS2xdxR3H8c/MuX5g/CBGTQzkATIggQt1K7fNgzgI5YVDWmjaRdsdrRQhsa2666ISi6o0m6SLtu6CRYIS1Er0EdGYEKV1GwlbTaxGRYkCgWAiYuKH4kaxfX3PdOHg3HPttDBnNXPm9x39/vObmaCqJci0WGOzLb5orWb8xyVnnfQ3H5pWIVRpQkEe3OUrvq/Piko2G8shR1SXGvKsYtJRB/3TlBSWAhJ1HvFD39N+LUz40EVjptFipQes0a41mXBIv3eUQxGQuMNWP7Zp2rtO+YcrKov0JLPKRht0auHvfuZNN8ItQOIO3/KT9PCoYwaMiUV3EnIrbbPdauG8n/r9AiKQqNfn55UH3/GqIRXR8i2X+arvekR2wY8cNRcEUtTtV3nPv/3WiFhYubYluS/5gUfFYXudCXlMtHlRz6iD/1dOEI04aJQeL2pLojpP2HPNG4Zr5EmuoiJfyEcVYtgbrrHHE+pKmj2ft15wTF7lPUnu9LBVuOK864JbG5c7pkd3a3zeYMlDtkwbNCGrkke9drhXI2Zc9hd/lS8iogmDOrVt8VDJU6l5yqnC6tEe39CxKLjXal/wuwLilG9qbQ5PRZsr8QNXC8436KuSE3Tos6FQjas+UIk2R11z8X2panq9XvfV7EZwn171Vf3kfXNRV9QxH8YKYVnrnmWiFN1jrbxqZMx80BE1JLOFqS0al81Ao5ZCf1aiIcpDjeCG8rKAshs1wEAejWfaCm4/Nl6IzqfFHfdxoTJtMsajc/X5uoLXScOmlwCmDZss1Gad+ty56O26fJ3mqjUzJx03U5DPOO5kIWrN1qnLvR0NKN/t8SpAMOU1h723OPKew14zVWUgedzdlA2UnDHSuv5JQ8pVObviiBEPaMeEi86ZKWS13pNaGXGmZFJ/3dceixu9pVRViVmnnb55FsgK7iu2eExdrt9kNGfAiXa73F+ISZDJlJVlskL1c/fbpZ0TBsxFyWUvZ2NdntVUc/JvfdXbeafndMnGvOyyFAPzBu1ryHttY5kEFNPANr0aKn5h0HwQCVx32JG70k7d0v9AJEm3HdqSI464HrhZm+SS/eFsp11W3RaRJB2e0Sn8ywGXFqbFBbdyQ/ZlUxtt13hbQKPtNsqm7DMkDxYBBOb9SX/97E5fF5c9C9F6O9TN6vdn87cy82nNk6teCSc67Na5xEaSPGi3jhROeMXVsPi7Kh+Bs37pwpf1WbEEsMLTunnXAWert7Vw9QTe9BuTW/VqqEIkDXptZdKvHS9edrV314xD/tg096xHFyuRRF2e0zTnD16tOaa1gMCoA06v9R0rb3pnpW9bw2kHjNY+fUtuz8CQ/T7q8Ywm0GS3Hj6y3/DSl3P5l/x1h7Lpp61XUrLeTtm0Q173WVuSVqejaf5i2pv2pospzaejaXX6zPoFxKZ0vpKG0lCqpHQ+bfpccpJUSi/kn5RTOeWfpBdS6XMCSFJzeimNp/H0Umq+vfy/0JikOgfvvUIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUzOjA1KzAwOjAwM1Rr9AAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADzElEQVRIx5WVTUxUVxiG33tnhmF0iJ0iCVF+NJpghTSUVNOoTTMrCS1qm4mJZVFSu+h048Jg2dCdSatb3TWkTaw2ISkbBY2waGBBJGmsoggkasEfyDhDsQjM33m6YGjnzgw4fmd1v++8z7nnnPecYykrkCSXylStD/WRGlQjv6RFTWtMv2tIM/pHacnK0lgOuaW31KQ2tSiQci3bcSstySUvPuNOa159+kV/6G9h5QOQPHpHX+lzvR21ZjWhO/pL85ICqtW7qlOlylFMl/WjxpXM/gtJCB+tDEOMQU6xEwtlNYudnGKQGMAwrfjIk7cxYRink20OaXbbRifjGJigLQuBKOEYU0mGacFeVy6ETQvDJGGKY5RkENg0MZpmiEMbitfaIYZIwyhN2KvjB+iG+xwuSi7EYe4DdBNAwkMrCy/owFU0wEUHL2CBVjwiQG+am1TkdSsjSDvtBCnLq1VwkzT0EhD7iUUI5y3WcfqZ5BnPmKSf43mLGyYCMfaLTpO4x/acXT/NQwxrYXjI6RxnbOceJkGnuJZI9eQUj/IgS76KeMDRnEF6SKS4Zqt+xR5Ttq88Cmm3nFa1tFsheRzmG9OKrXpblUlr2tG5TrvkUm64tEt1jsy0kpYqbXmNlh2Fcm1Wodiscsf3sozktWVsbXIUFhUvCIhr0fG9SbZkbEXdqnAUHuu5Y03W5vxcjx2ZCrmlqK0Jr9nrKER1XbE8QEzXFXVk9sprNGHrltfUa4uj1KNLeuXIvNIl9TgyW1Qvr9Et0czSU47k+KyaLm5nvGC4TRfVOT2O8BSWaLaoVG/8g9/0pVYcI/i0Tw2qlDSrMY3m7FSpuvWZvCP6VHg5SXqGUMFzV0JJwXyIGUhzEq+wqGEgyQB7ij7OexggCQPUYAnhppm5JS7gL0pexgWWYI5m3KzuMH6+JT3L1zmHqlCz+IY5SHEG///XqsUOrhgzSvA1CIsgoxjDZXZkvS4ImwPcSXKFmg0BNfxKEv7kAHbuy+ChnfkluihdV+7jO5Zhni/w5Jkdi62cNyuPCOEuKHcT4hFmhfNsxVJ+IBroh0EaCwLeYxAM/TSgdQLxCVNwscAdXcFFgCk+XlcuSZRyhtgC4ZyV8BFmAWJ0UKoNAaKKn4nfJ5j10LgIMg5xfqJqw/EziH2MwFVq/wPUchVghPdfK88g2niS5PuMtf38QBKe0FaUPGPtc7yMcAIPHk4QgZecy7JuEYgq+kjdpZFG7kKKviJmn4M4yGSKG9wgBZMcfCO5Vo0XNpEECUyEcObgviHCz1miRDm70ez/BYYI/lv2W3BZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MzoxNiswMDowMM4WcfcAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]}],drawing_api:[{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]}]},Ms=lt.getLogger("DrawingDOM"),xs={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPdrawing"),e.className="GPwidget",e},_createShowDrawingElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowDrawing"),e.className="GPshowDrawing",e.type="checkbox",e},_createShowDrawingPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowDrawingPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowDrawing"),t.title=this.options.labels.control,t.addEventListener?t.addEventListener("click",(function(t){e.onShowDrawingClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowDrawingClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowDrawingOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createDrawingPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPdrawingPanel"),e.className="GPpanel",e},_createDrawingPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader";var t=document.createElement("div");t.className="GPpanelTitle",t.innerHTML=this.options.controlLabel||"Annoter la carte",e.appendChild(t);var o=document.createElement("div");o.id=this._addUID("GPdrawingPanelClose"),o.className="GPpanelClose",o.title="Fermer le panneau";var n=this;return o.addEventListener?o.addEventListener("click",(function(){document.getElementById(n._addUID("GPshowDrawingPicto")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(n._addUID("GPshowDrawingPicto")).click()})),e.appendChild(o),e},_createDrawingToolsSections:function(){var e=[];return this.dtOptions={},this.options.tools.points&&(this.dtOptions.points={label:this.options.labels.points,active:!1,panel:"draw",id:"point"}),this.options.tools.lines&&(this.dtOptions.lines={label:this.options.labels.lines,active:!1,panel:"draw",id:"line"}),this.options.tools.polygons&&(this.dtOptions.polygons={label:this.options.labels.polygons,active:!1,panel:"draw",id:"polygon"}),this.options.tools.holes&&(this.dtOptions.holes={label:this.options.labels.holes,active:!1,panel:"draw",id:"holes"}),this.options.tools.text&&(this.dtOptions.text={label:this.options.labels.text,active:!1,panel:"draw",id:"text"}),this.options.tools.edit&&(this.dtOptions.edit={label:this.options.labels.edit,active:!1,panel:"edit",id:"edit"}),this.options.tools.display&&(this.dtOptions.display={label:this.options.labels.display,active:!1,panel:"edit",id:"display"}),this.options.tools.tooltip&&(this.dtOptions.tooltip={label:this.options.labels.tooltip,active:!1,panel:"edit",id:"tooltip"}),this.options.tools.remove&&(this.dtOptions.remove={label:this.options.labels.remove,active:!1,panel:"edit",id:"remove"}),(this.dtOptions.points||this.dtOptions.lines||this.dtOptions.polygons||this.dtOptions.text)&&e.push(this._createDrawingToolSection(this.options.labels.creatingTools,"draw")),(this.dtOptions.edit||this.dtOptions.display||this.dtOptions.tooltip||this.dtOptions.remove)&&e.push(this._createDrawingToolSection(this.options.labels.editingTools,"edit")),this.options.tools.export&&e.push(this._createSavingSection(this.options.labels.export,this.options.labels.exportTitle)),e},_createDrawingToolSection:function(e,t){var o=document.createElement("div");o.className="drawing-tool-section";var n=document.createElement("p");n.className="drawing-tool-section-title",n.innerHTML=e,o.appendChild(n);var i=document.createElement("ul");i.className="drawing-tools-flex-display";var r=this;function a(e){r._handleDOMToolClick(e,this.id,r),r._handleToolClick(e,this.id,r)}for(var s in this.dtOptions)if(this.dtOptions[s].panel===t){var l=document.createElement("li");l.className="drawing-tool",l.id=this._addUID("drawing-tool-"+this.dtOptions[s].id),l.title=this.dtOptions[s].label,l.addEventListener("click",a),i.appendChild(l)}return o.appendChild(i),o},_createSavingSection:function(e,t){var o=document.createElement("div");o.className="drawing-tool-section drawing-tools-flex-display";var n=document.createElement("button");n.title=t,n.className="tool-form-submit drawing-button",n.id=this._addUID("drawing-export"),n.type="button",n.textContent=e;var i=this;return n.onclick=function(){i.onExportFeatureClick()},o.appendChild(n),o},_createMarkersChooser:function(e){var t=document.createElement("li");t.className=e.className;for(var o=0;o<this.options.markersList.length;o++){var n=document.createElement("input");n.type="radio",n.name="marker",n.id=this._addUID("marker-"+o),n.value=this.options.markersList[o].src,n.className="marker-input-radio",e.defaultValue===n.value&&(n.checked=!0),t.appendChild(n);var i=document.createElement("label");i.className="marker-label",i.setAttribute("for",n.id);var r=document.createElement("img");r.src=n.value,i.appendChild(r),t.appendChild(i)}return t},_createStylingElement:function(e){var t=document.createElement("li");t.className=e.className;var o=document.createTextNode(e.label);t.appendChild(o);var n=document.createElement("input");try{n.type=e.type}catch(e){n.type="text"}return n.id=e.id,n.value=e.defaultValue,e.title&&(n.title=e.title),void 0!==e.checked&&(n.checked=e.checked),void 0!==e.min&&(n.min=e.min),void 0!==e.max&&(n.max=e.max),void 0!==e.step&&(n.step=e.step),t.appendChild(n),t},_createStylingDiv:function(e){var t=document.createElement("div");t.className="gp-styling-div";var o=document.createElement("ul"),n=null,i=e.geomType.toLowerCase();switch(i){case"point&text":case"point":n=this._createMarkersChooser({className:"gp-styling-option",defaultValue:e.initValues.markerSrc}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.markerSize,title:"petit, moyen ou grand",id:this._addUID("markerSize"),min:5,max:15,step:5,defaultValue:10*e.initValues.markerSize}),o.appendChild(n),e.initValues.markerCustom,"point&text"===i&&(n=this._createStylingElement({type:"checkbox",className:"gp-styling-option",label:this.options.labels.labelDisplay,id:this._addUID("labelDisplay"),checked:e.initValues.labelDisplay,defaultValue:e.initValues.labelDisplay}),o.appendChild(n));break;case"text":n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),o.appendChild(n),n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),o.appendChild(n);break;case"line":n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),o.appendChild(n);break;case"polygon":n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 à 10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),o.appendChild(n),n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.fillOpacity,title:"0 (transparent) à 100% (opaque)",id:this._addUID("fillOpacity"),min:0,max:10,step:1,defaultValue:10*e.initValues.fillOpacity}),o.appendChild(n);break;default:Ms.log("Unhandled geometry type for styling.")}t.appendChild(o);var r=document.createElement("input");r.type="button",r.className="gp-styling-button",r.value=this.options.labels.applyToObject,r.onclick=function(){e.applyFunc.call(this,"apply")},t.appendChild(r);var a=document.createElement("input");a.type="button",a.value=this.options.labels.setAsDefault,a.className="gp-styling-button",a.onclick=function(){e.applyFunc.call(this,"default")},t.appendChild(a);var s=document.createElement("input");return s.type="button",s.className="gp-styling-button closer",s.onclick=function(){e.applyFunc.call(this,"cancel")},t.appendChild(s),t},_createLabelDiv:function(e){var t=document.createElement("div");t.className="gp-label-div";var o=null;if("Text"===e.geomType?((o=document.createElement("input")).type="text",o.className="gp-input-label-style"):((o=document.createElement("textArea")).rows=2,o.cols=40,o.className="gp-textarea-att-label-style"),e.text&&(o.value=e.text),o.autocomplete="off",o.placeholder=e.placeholder,o.id=e.inputId,t.appendChild(o),o.onblur=function(){e.applyFunc.call(this,e.key,o.value,!0)},o.onkeyup=function(t){"Text"===e.geomType&&13===t.keyCode&&e.applyFunc.call(this,e.key,o.value,!0),27===t.keyCode&&e.applyFunc.call(this,e.key,o.value,!1)},e.measure&&"Text"!==e.geomType){var n=document.createElement("input");n.type="text",n.readonly=!0,n.className="gp-input-measure-style",n.value=e.measure,t.appendChild(n)}if("Text"!==e.geomType){var i=document.createElement("input");i.type="button",i.className="gp-styling-button",i.value=this.options.labels.saveDescription,i.onclick=function(){e.applyFunc.call(this,e.key,o.value,!0)},t.appendChild(i);var r=document.createElement("input");r.type="button",r.className="gp-styling-button closer",r.onclick=function(){e.applyFunc.call(this,e.key,o.value,!1)},t.appendChild(r)}return t},_handleDOMToolClick:function(e,t,o){for(var n in o.dtOptions){var i=o._addUID("drawing-tool-"+o.dtOptions[n].id),r=document.getElementById(i);i===t?(o.dtOptions[n].active?r.className="drawing-tool":r.className="drawing-tool drawing-tool-active",o.dtOptions[n].active=!o.dtOptions[n].active):(r.className="drawing-tool",o.dtOptions[n].active=!1)}}},Ps=lt.getLogger("Drawing"),ks=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(o),this._container=this._initContainer(),e.call(this,{element:this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.DefaultTools={points:!0,lines:!0,polygons:!0,holes:!1,text:!0,remove:!0,display:!0,tooltip:!0,edit:!0,export:!0,measure:!1},t.DefaultLabels={control:"Annoter la carte",creatingTools:"Outils de création",points:"Placer des points",lines:"Dessiner des lignes",polygons:"Dessiner des polygones",holes:"Créer des trous sur un polygone",text:"Ecrire sur la carte",editingTools:"Outils d'édition",edit:"Editer les tracés",display:"Modifier l'apparence des objets",tooltip:"Modifier les textes / infos-bulles",remove:"Supprimer des objets",export:"Exporter",exportTitle:"Exporter en KML",applyToObject:"Appliquer à l'objet",saveDescription:"Enregistrer",setAsDefault:"Définir par défaut",strokeColor:"Couleur du trait : ",strokeWidth:"Epaisseur du trait : ",fillColor:"Couleur de remplissage : ",fillOpacity:"Opacité du remplissage : ",markerSize:"Taille du pictogramme : ",markerColor:"Couleur du pictogramme : ",labelDisplay:"Afficher le label : "},t.DefaultStyles={textFillColor:"#000000",textStrokeColor:"#FFFFFF",textStrokeWidth:6,textIcon1x1:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",anchor:[0,0]},polyFillColor:"#ffffff",polyFillOpacity:.4,polyStrokeColor:"#ffcc33",polyStrokeWidth:4,strokeColor:"#ffcc33",strokeWidth:4,markerSize:1,markerColor:"#ffcc33",labelDisplay:!0},t.DefaultCursorStyle={radius:6,strokeColor:"#FFF",strokeWidth:1,fillColor:"rgba(0, 153, 255, 1)"},t.prototype=Object.create(e.prototype,{}),t.prototype.assign=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},t.prototype.assign(xs),t.prototype.constructor=t,t.prototype.setMap=function(t){var o=this;if(e.prototype.setMap.call(this,t),this.getMap()&&this.eventKey&&Object(Oo.unByKey)(this.eventKey),null!=t){if(this.draggable&&ts.dragElement(this._drawingPanel,this._drawingPanelHeader,t.getTargetElement()),!this.collapsed)document.getElementById(this._addUID("GPshowDrawing")).checked="checked";this.layer&&this.setLayer(this.layer),this.eventKey=this.getMap().getLayers().on("remove",(function(e){e.element===o.layer&&(o.layer=null,o.interactionCurrent&&(o.getMap().removeInteraction(o.interactionCurrent),o.interactionCurrent=null))}))}},t.prototype.exportFeatures=function(){var t=null;if(null==e.prototype.getMap.call(this))return Ps.log("Impossible to export : control isn't attached to any map."),t;if(!this.layer)return Ps.log("Impossible to export : no layer is hosting features."),t;if(!this.layer.getSource()||!this.layer.getSource().getFeatures()||!this.layer.getSource().getFeatures().length)return Ps.log("Impossible to export : no features found."),t;this.featuresCollectionSelected&&this.featuresCollectionSelected.clear();var o=null;switch(this.getExportFormat()){case"KML":o=new Yt({writeStyles:!0});break;case"GPX":o=new to({});break;case"GEOJSON":o=new ro({})}if(!o)return Ps.log("Impossible to export : format unknown !?"),t;var n=this.layer.getSource().getProjection();return n=n||this.getMap().getView().getProjection(),t=o.writeFeatures(this.layer.getSource().getFeatures(),{dataProjection:"EPSG:4326",featureProjection:n})},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this.onShowDrawingClick(),this._showDrawingContainer.checked=!e):Ps.error("[ERROR] Drawing:setCollapsed - missing collapsed parameter")},t.prototype.setExportName=function(e){this._exportName=e},t.prototype.getExportName=function(){return this._exportName},t.prototype.setExportFormat=function(e){switch(this._exportFormat=e?e.toUpperCase():"KML",e.toUpperCase()){case"KML":this._exportExt=".kml",this._exportMimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this._exportExt=".gpx",this._exportMimeType="application/gpx+xml";break;case"GEOJSON":this._exportExt=".geojson",this._exportMimeType="application/geo+json";break;default:this._exportFormat="KML"}},t.prototype.getExportFormat=function(){return this._exportFormat},t.prototype.setLayer=function(e){var t=this;if(e)if(e instanceof Do.a){var o=this.getMap().getLayers();if(o){var n=!1;o.forEach((function(t){t===e&&(Ps.trace("layer already in map. Not adding."),n=!0)})),n||this.getMap().addLayer(e),e.getSource().getFeatures().forEach((function(e){if("function"==typeof e.getStyle()){var o=e.getStyleFunction();if(o){var n=o.call(t,e,0);n&&0!==n.length&&e.setStyle(Array.isArray(n)?n[0]:n)}}})),this.layer=e,this.getMap().getControls().forEach((function(e){if(e instanceof ja){var o=t.layer.gpLayerId;e._layers[o].title===o&&e.addLayer(t.layer,{title:t.options.layerDescription.title,description:t.options.layerDescription.description})}}))}}else Ps.log("no valid layer given for hosting drawn features.");else this.layer=null},t.prototype.getLayer=function(){return this.layer},t.prototype.getContainer=function(){return this._container},t.prototype._getsMarkersOptionsFromSrc=function(e){for(var t=null,o=0;o<this.options.markersList.length;o++)if(e&&this.options.markersList[o].src===e)return t=this.options.markersList[o];return t},t.prototype._getIconStyleOptions=function(e){var t={};return Object.keys(e).forEach((function(o){switch(o){case"src":case"size":case"scale":case"color":case"anchor":case"anchorOrigin":case"anchorXUnits":case"anchorYUnits":t[o]=e[o]}})),t},t.prototype._initialize=function(e){var o=this;this._uid=Pi.generate(),this._exportName="Croquis",this._exportFormat="KML",this._exportMimeType="application/vnd.google-earth.kml+xml",this._exportExt=".kml",e=e||{},this.options=e,this.options.layerDescription||(this.options.layerDescription={title:"Croquis",description:"Mon croquis"}),this.options.tools||(this.options.tools={}),Object.keys(t.DefaultTools).forEach((function(e){o.options.tools.hasOwnProperty(e)||(o.options.tools[e]=t.DefaultTools[e])})),this.options.cursorStyle||(this.options.cursorStyle={}),Object.keys(t.DefaultCursorStyle).forEach((function(e){o.options.cursorStyle.hasOwnProperty(e)||(o.options.cursorStyle[e]=t.DefaultCursorStyle[e])})),this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this.options.markersList=e.markersList||Ss.drawing_api,this.options.labels||(this.options.labels={}),Object.keys(t.DefaultLabels).forEach((function(e){o.options.labels.hasOwnProperty(e)||(o.options.labels[e]=t.DefaultLabels[e])})),this.options.defaultStyles||(this.options.defaultStyles={}),Object.keys(t.DefaultStyles).forEach((function(n){if(e.defaultStyles.hasOwnProperty(n)){if("polyFillOpacity"===n&&(e.defaultStyles[n]<0||e.defaultStyles[n]>1))return Ps.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.polyFillOpactity. Must be between 0 and 1"),void(o.options.defaultStyles[n]=t.DefaultStyles[n]);if("strokeWidth"===n||"polyStrokeWidth"===n){var i=parseInt(e.defaultStyles[n],10);if(isNaN(i)||i<0)return Ps.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.strokeWidth. Must be a positive interger value."),void(o.options.defaultStyles[n]=t.DefaultStyles[n]);o.options.defaultStyles[n]=i}if("markerSize"===n){var r=parseFloat(e.defaultStyles[n]);if(isNaN(r)||r<0)return Ps.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.markerSize. Must be a positive value."),void(o.options.defaultStyles[n]=t.DefaultStyles[n]);o.options.defaultStyles[n]=r}}else o.options.defaultStyles[n]=t.DefaultStyles[n]})),this.interactionCurrent=null,this.interactionSelectEdit=null,this.featuresCollectionSelected=null,this.stylingOvl=null,this.popupOvl=null,this.layer=null,this.options.layer&&this.options.layer instanceof Do.a&&(this.layer=this.options.layer),this._isDesktop=this._detectSupport(),this.options.popup||(this.options.popup={display:!0,apply:null})},t.prototype._createEmptyLayer=function(){var e=new Cs.a,t=new Do.a({source:new u.a({features:e})});t.gpResultLayerId="drawing",this.setLayer(t)},t.prototype._detectSupport=function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showDrawingContainer=this._createShowDrawingElement();e.appendChild(t);var o=this._createShowDrawingPictoElement();e.appendChild(o);var n=this._drawingPanel=this._createDrawingPanelElement(),i=this._drawingPanelHeader=this._createDrawingPanelHeaderElement();n.appendChild(i);for(var r=this._createDrawingToolsSections(),a=0;a<r.length;a++)n.appendChild(r[a]);return e.appendChild(n),e},t.prototype._drawEndFeature=function(e,t){var o=null;switch(t){case"Point":o=new ft.Style({image:new ft.Icon(this._getIconStyleOptions(this.options.markersList[0]))});break;case"LineString":o=new ft.Style({stroke:new ft.Stroke({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})});break;case"Polygon":o=new ft.Style({fill:new ft.Fill({color:yt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)}),stroke:new ft.Stroke({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth})})}if(e.setStyle(o),this._updateMeasure(e,t),this.options.popup.display){var n=this,i=function(t,o,i){if(n.getMap().removeOverlay(n.popupOvl),n.popupOvl=null,i&&o&&o.trim().length>0){var r={};r[t]=o.replace(/\n/g,"<br>"),e.setProperties(r)}},r=null,s=!0,l=this.options.popup.function;l&&"function"==typeof l&&(r=l.call(n,{feature:e,geomType:t,closeFunc:function(){i(null,!1)},saveFunc:function(e){i(e,!0)}}))&&(s=!1,r.tabIndex=-1,r.onblur=function(){n.getMap().removeOverlay(n.popupOvl),n.popupOvl=null}),s&&(r=this._createLabelDiv({applyFunc:i,inputId:this._addUID("att-input"),placeholder:"Saisir une description...",measure:this.options.tools.measure?e.getProperties().measure:null,geomType:t,key:"description"})),this.popupOvl&&(this.getMap().removeOverlay(this.popupOvl),this.popupOvl=null),this.popupOvl=new a.a({element:r,positioning:"top-center"}),this.getMap().addOverlay(this.popupOvl);var c=e.getGeometry().getExtent();this.popupOvl.setPosition([(c[0]+c[2])/2,(c[1]+c[3])/2]),document.getElementById(this._addUID("att-input"))&&document.getElementById(this._addUID("att-input")).focus()}},t.prototype._createRemoveInteraction=function(){var e=this,t=new y.Select({layers:[this.layer],style:!1});return t.on("select",(function(t){t&&t.selected&&0!==t.selected.length&&(e.layer.getSource().removeFeature(t.selected[0]),e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createRemoveInteraction(),e.getMap().addInteraction(e.interactionCurrent))})),t},t.prototype._createStylingInteraction=function(){var e=this,t=new y.Select({layers:[this.layer],style:!1});return t.on("select",(function(t){if(e.stylingOvl&&e.getMap().removeOverlay(e.stylingOvl),t&&t.selected&&0!==t.selected.length){var o=null,n=null,i=null,r=null,s={},l=t.selected[0].getGeometry(),c=t.selected[0].getStyle();if(l instanceof Is.Point||l instanceof Is.MultiPoint){if(c&&c.getImage()&&"function"==typeof c.getImage().getSrc&&c.getImage().getSrc()!==e.options.defaultStyles.textIcon1x1.src&&(r="Point","function"==typeof c.getImage().getSrc?(s.markerSrc=c.getImage().getSrc(),s.markerSize=c.getImage().getScale()||1,s.markerAnchor=c.getImage().getAnchor(),c.getImage().getColor()?(o=c.getImage().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":s.markerColor=o,n=yt.isRGB(o)?yt.rgbaToHex(o):{hex:o,opacity:1},s.markerColor=n.hex,s.markerOpacity=n.opacity):s.markerColor=e.options.markersList[0].color||"#ffffff"):(s.markerSrc=e.options.markersList[0].src,s.markerSize=e.options.markersList[0].scale||1,s.markerColor=e.options.markersList[0].color||"#ffffff",s.markerAnchor=e.options.markersList[0].anchor),s.markerCustom=!e._getsMarkersOptionsFromSrc(s.markerSrc)),c&&c.getText()){var u=t.selected[0].getProperties().name;if(u&&(r="Point"===r?"Point&Text":"Text",c.getText().getStroke()&&c.getText().getStroke().getColor()&&(o=c.getText().getStroke().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":s.strokeColor=o,n=yt.isRGB(o)?yt.rgbaToHex(o):{hex:o,opacity:1},s.strokeColor=n.hex,s.strokeOpacity=n.opacity),c.getText().getStroke()&&c.getText().getStroke().getWidth()&&(s.strokeWidth=c.getText().getStroke().getWidth()),c.getText().getFill()&&c.getText().getFill().getColor()&&(o=c.getText().getFill().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":s.fillColor=o,n=yt.isRGB(o)?yt.rgbaToHex(o):{hex:o,opacity:1},s.fillColor=n.hex,s.fillOpacity=n.opacity),s.strokeColor=s.hasOwnProperty("strokeColor")?s.strokeColor:e.options.defaultStyles.textStrokeColor,s.strokeWidth=s.hasOwnProperty("strokeWidth")?s.strokeWidth:e.options.defaultStyles.textStrokeWidth,s.fillColor=s.hasOwnProperty("fillColor")?s.fillColor:e.options.defaultStyles.textFillColor,"Point&Text"===r)){c.getText().getText()||c.getText().setText(u);var d=t.selected[0].get("checked");s.labelDisplay=void 0===d?e.options.defaultStyles.labelDisplay:d}}}else l instanceof Is.LineString||l instanceof Is.MultiLineString?(r="Line",c&&c.getStroke()&&(c.getStroke().getWidth()&&(s.strokeWidth=c.getStroke().getWidth()),c.getStroke().getColor()&&(o=c.getStroke().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":s.strokeColor=o,n=yt.isRGB(o)?yt.rgbaToHex(o):{hex:o,opacity:1},s.strokeColor=n.hex,s.strokeOpacity=n.opacity)),s.strokeWidth=s.hasOwnProperty("strokeWidth")?s.strokeWidth:e.options.defaultStyles.strokeWidth,s.strokeColor=s.hasOwnProperty("strokeColor")?s.strokeColor:e.options.defaultStyles.strokeColor):(l instanceof Is.Polygon||l instanceof Is.MultiPolygon)&&(r="Polygon",c&&c.getStroke()&&(c.getStroke().getWidth()&&(s.strokeWidth=c.getStroke().getWidth()),c.getStroke().getColor()&&(o=c.getStroke().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":s.strokeColor=o,n=yt.isRGB(o)?yt.rgbaToHex(o):{hex:o,opacity:1},s.strokeColor=n.hex,s.strokeOpacity=n.opacity)),c&&c.getFill()&&c.getFill().getColor()&&(o=c.getFill().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":s.fillColor=o,n=yt.isRGB(o)?yt.rgbaToHex(o):{hex:o,opacity:1},s.fillColor=n.hex,s.fillOpacity=n.opacity),s.strokeWidth=s.hasOwnProperty("strokeWidth")?s.strokeWidth:e.options.defaultStyles.polyStrokeWidth,s.strokeColor=s.hasOwnProperty("strokeColor")?s.strokeColor:e.options.defaultStyles.polyStrokeColor,s.fillColor=s.hasOwnProperty("fillColor")?s.fillColor:e.options.defaultStyles.polyFillColor,s.fillOpacity=s.hasOwnProperty("fillOpacity")?s.fillOpacity:e.options.defaultStyles.polyFillOpacity);if(r){var p=e,h=e._createStylingDiv({geomType:r,initValues:s,applyFunc:function(e){if("cancel"!==e){var o="apply"!==e,n=document.getElementById(p._addUID("fillColor")),a=document.getElementById(p._addUID("fillOpacity")),l=document.getElementById(p._addUID("strokeColor")),u=document.getElementById(p._addUID("strokeWidth")),d=document.getElementById(p._addUID("markerSize"));switch(r.toLowerCase()){case"text":o?(p.options.defaultStyles.textStrokeColor=l.value,p.options.defaultStyles.textStrokeWidth=u.value,p.options.defaultStyles.textFillColor=n.value):t.selected[0].setStyle(new ft.Style({text:new ft.Text({font:"16px sans",textAlign:"left",text:c.getText().getText(),fill:new ft.Fill({color:n.value}),stroke:new ft.Stroke({color:l.value,width:parseInt(u.value,10)})})}));break;case"point&text":case"point":var h=document.querySelector("input[type='checkbox']"),g=null,m=parseInt(d.value,10)/10,f=document.querySelector("input[name='marker']:checked");if(f&&((g=p._getsMarkersOptionsFromSrc(f.value)).scale=m),o){if(p.options.defaultStyles.markerSize=m,p.options.markersList.length>1){var y=p.options.markersList.findIndex((function(e){return e===g}));y>0&&(p.options.markersList.splice(y,1),p.options.markersList.splice(0,0,g))}"point&text"===r.toLowerCase()&&(p.options.defaultStyles.textStrokeColor=s.strokeColor,p.options.defaultStyles.textStrokeWidth=s.strokeWidth,p.options.defaultStyles.textFillColor=s.fillColor,p.options.defaultStyles.labelDisplay=s.labelDisplay)}else{var A={};"point&text"===r.toLowerCase()&&(t.selected[0].set("checked",h.checked),A={text:new ft.Text({font:"16px sans",textAlign:"left",text:h.checked?t.selected[0].get("name"):"",fill:new ft.Fill({color:s.fillColor}),stroke:new ft.Stroke({color:s.strokeColor,width:parseInt(s.strokeWidth,10)})})}),g?t.selected[0].setStyle(new ft.Style(Object.assign({image:new ft.Icon(p._getIconStyleOptions(g))},A))):t.selected[0].setStyle(new ft.Style(Object.assign({image:new ft.Icon({src:s.markerSrc,anchor:s.markerAnchor,anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels",scale:m})},A)))}break;case"line":o?(p.options.defaultStyles.strokeColor=l.value,p.options.defaultStyles.strokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new ft.Style({stroke:new ft.Stroke({width:parseInt(u.value,10),color:l.value})}));break;case"polygon":var v=parseInt(a.value,10)/10;o?(p.options.defaultStyles.polyStrokeColor=l.value,p.options.defaultStyles.polyFillColor=n.value,p.options.defaultStyles.polyFillOpacity=v,p.options.defaultStyles.polyStrokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new ft.Style({stroke:new ft.Stroke({width:parseInt(u.value,10),color:l.value}),fill:new ft.Fill({color:yt.hexToRgba(n.value,v)})}))}o||p.getMap().removeOverlay(i)}else p.getMap().removeOverlay(i)}});i=new a.a({element:h,positioning:"top-center"}),e.getMap().addOverlay(i),i.setPosition(t.mapBrowserEvent.coordinate),e.stylingOvl=i,e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createStylingInteraction(),e.getMap().addInteraction(e.interactionCurrent)}else Ps.log("Unhandled geometry type for styling.")}})),t},t.prototype._createLabelInteraction=function(){var e=this,t=new y.Select({layers:[this.layer],style:!1});return t.on("select",(function(t){if(e.labelOvl&&e.getMap().removeOverlay(e.labelOvl),t&&t.selected&&0!==t.selected.length){var o=null,n=null,i=null,r=null,s=t.selected[0].getGeometry(),l=t.selected[0].getStyle();if(s instanceof Is.Point||s instanceof Is.MultiPoint){var c=t.selected[0].getProperties().name;l&&l.getText()&&c?n="Text":l&&l.getImage()&&(n="Point")}else if(s instanceof Is.LineString||s instanceof Is.MultiLineString)n="Line";else{if(!(s instanceof Is.Polygon||s instanceof Is.MultiPolygon))return void Ps.log("Geometry type for styling not supported .");n="Polygon"}if(n){if("Text"===n)i=l.getText().getText();else{var u=t.selected[0].getProperties();u&&(u.hasOwnProperty("description")||u.hasOwnProperty("desc"))&&(i=u.description||u.desc),u&&u.hasOwnProperty("measure")&&(r=u.measure)}var d=e,p=e._createLabelDiv({applyFunc:function(e,i,r){if(d.getMap().removeOverlay(o),r){var a=t.selected[0];if("Text"===n){var s=a.getStyle();return s.getText().setText(i),a.setProperties({name:i}),void a.setStyle(s)}var l={};l[e]=i.replace(/\n/g,"<br>"),a.setProperties(l)}},inputId:e._addUID("label-input"),placeholder:"Text"===n?"Saisir un label...":"Saisir une description...",text:i,key:"description",measure:e.options.tools.measure?r:null,geomType:n});o=new a.a({element:p,positioning:"top-center"}),e.getMap().addOverlay(o),o.setPosition(t.mapBrowserEvent.coordinate),document.getElementById(e._addUID("label-input")).focus(),e.labelOvl=o,e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createLabelInteraction(),e.getMap().addInteraction(e.interactionCurrent)}else Ps.log("Unhandled geometry type for styling.")}})),t},t.prototype._updateMeasure=function(e,t){Ps.log(e);var o=null,n=this.getMap().getView().getProjection();function i(e,t){t=t||2;var o=Math.pow(10,t);return Math.round(e*o)/o}var r=t||e.getProperties().type;switch(r){case"Point":var a=e.getGeometry().getCoordinates(),s=Object(Co.transform)(a,n,"EPSG:4326");o="lon : ",o+=i(s[0],4)+"°",o+=" / ",o+="lat : ",o+=i(s[1],4)+"°";break;case"LineString":for(var l=0,c=e.getGeometry().getCoordinates(),u=0,d=c.length-1;u<d;++u){var p=Object(Co.transform)(c[u],n,"EPSG:4326"),h=Object(Co.transform)(c[u+1],n,"EPSG:4326");l+=Object(_s.getDistance)(p,h)}o=l>1e3?i(l/1e3,3)+" km":i(l,3)+" m";break;case"Polygon":var g=0,m=e.getGeometry().clone(),f=m.getLinearRing(0).getCoordinates();g=Math.abs(Object(_s.getArea)(new Is.Polygon([f])));var y=m.getLinearRings();if(y.length>1)for(var A=1;A<y.length;A++){var v=y[A].getCoordinates();g-=Math.abs(Object(_s.getArea)(new Is.Polygon([v])))}o=g>1e6?i(g/1e6,3)+" km^2":i(g,2)+" m^2"}e.setProperties({measure:o,type:r})},t.prototype._handleToolClick=function(e,t,o){var n=this,i=o.getMap();if(i){switch(Wa.unset(i,{current:"Drawing"}),o.interactionCurrent&&(i.removeInteraction(o.interactionCurrent),o.interactionCurrent=null),o.interactionSelectEdit&&(i.removeInteraction(o.interactionSelectEdit),o.interactionSelectEdit=null),o.popupOvl&&(o.getMap().removeOverlay(o.popupOvl),o.popupOvl=null),this.layer||this._createEmptyLayer(),t){case this._addUID("drawing-tool-point"):o.dtOptions.points.active&&(o.interactionCurrent=new y.Draw({stopClick:!0,source:o.layer.getSource(),style:new ft.Style({image:new ft.Icon(this._getIconStyleOptions(this.options.markersList[0]))}),type:"Point"}),o.interactionCurrent.on("drawend",(function(e){o._drawEndFeature(e.feature,"Point")}),o));break;case this._addUID("drawing-tool-line"):o.dtOptions.lines.active&&(o.interactionCurrent=new y.Draw({stopClick:!0,source:o.layer.getSource(),style:new ft.Style({image:new ft.Circle({radius:this.options.cursorStyle.radius,stroke:new ft.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ft.Fill({color:this.options.cursorStyle.fillColor})}),stroke:new ft.Stroke({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})}),type:"LineString"}),o.interactionCurrent.on("drawend",(function(e){o._drawEndFeature(e.feature,"LineString")}),o));break;case this._addUID("drawing-tool-polygon"):o.dtOptions.polygons.active&&(o.interactionCurrent=new y.Draw({stopClick:!0,source:o.layer.getSource(),style:new ft.Style({image:new ft.Circle({radius:this.options.cursorStyle.radius,stroke:new ft.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ft.Fill({color:this.options.cursorStyle.fillColor})}),stroke:new ft.Stroke({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new ft.Fill({color:yt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),o.interactionCurrent.on("drawend",(function(e){o._drawEndFeature(e.feature,"Polygon")}),o));break;case this._addUID("drawing-tool-holes"):o.dtOptions.holes.active&&(o.interactionSelectEdit=new y.Select({stopClick:!0,condition:Es.pointerMove,layers:[this.layer]}),o.interactionSelectEdit.setProperties({name:"Drawing",source:o}),i.addInteraction(o.interactionSelectEdit),o.interactionCurrent=new y.Draw({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new ft.Style({image:new ft.Circle({radius:this.options.cursorStyle.radius,stroke:new ft.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ft.Fill({color:this.options.cursorStyle.fillColor})}),stroke:new ft.Stroke({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new ft.Fill({color:yt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),o.interactionCurrent.on("drawstart",(function(e){}),o),o.interactionCurrent.on("drawend",(function(e){var t=o.interactionSelectEdit.getFeatures();if(t.getLength()){for(var n=t.item(0),i=e.feature.getGeometry().getCoordinates()[0],r=!0,a=0;a<i.length;a++)if(!n.getGeometry().intersectsCoordinate(i[a])){r=!1;break}if(!r)return;n.getGeometry().appendLinearRing(new ws.a(i)),e.feature=n,o._drawEndFeature(e.feature,"Polygon")}}),o));break;case this._addUID("drawing-tool-text"):o.dtOptions.text.active&&(o.interactionCurrent=new y.Draw({stopClick:!0,source:o.layer.getSource(),style:new ft.Style({image:new ft.Circle({radius:this.options.cursorStyle.radius,stroke:new ft.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ft.Fill({color:this.options.cursorStyle.fillColor})})}),type:"Point"}),o.interactionCurrent.on("drawend",(function(e){var t=null,i=n._createLabelDiv({applyFunc:function(n,i,r){if(o.getMap().removeOverlay(t),r){var a={};a[n]=i,e.feature.setProperties(a),e.feature.setStyle(new ft.Style({image:new ft.Icon(o._getIconStyleOptions(o.options.defaultStyles.textIcon1x1)),text:new ft.Text({textAlign:"left",font:"16px sans",text:i,fill:new ft.Fill({color:o.options.defaultStyles.textFillColor}),stroke:new ft.Stroke({color:o.options.defaultStyles.textStrokeColor,width:3})})}))}else o.layer.getSource().removeFeature(e.feature)},inputId:o._addUID("label-input"),geomType:"Text",key:"name",placeholder:"Saisir un label..."});t=new a.a({element:i,positioning:"top-center"}),o.getMap().addOverlay(t),t.setPosition(e.feature.getGeometry().getCoordinates()),document.getElementById(n._addUID("label-input")).focus()})));break;case this._addUID("drawing-tool-edit"):o.dtOptions.edit.active&&(this.featuresCollectionSelected=new Cs.a,o.interactionSelectEdit=new y.Select({condition:Es.singleClick,layers:[this.layer],features:this.featuresCollectionSelected}),o.interactionSelectEdit.on("select",(function(e){})),o.interactionSelectEdit.setProperties({name:"Drawing",source:o}),i.addInteraction(o.interactionSelectEdit),o.interactionCurrent=new y.Modify({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new ft.Style({image:new ft.Circle({radius:this.options.cursorStyle.radius,stroke:new ft.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new ft.Fill({color:this.options.cursorStyle.fillColor})})})}),o.interactionCurrent.on("modifyend",(function(e){var t=e.features.item(0);o._updateMeasure(t)})));break;case this._addUID("drawing-tool-display"):o.dtOptions.display.active&&(o.interactionCurrent=this._createStylingInteraction());break;case this._addUID("drawing-tool-tooltip"):o.dtOptions.tooltip.active&&(o.interactionCurrent=this._createLabelInteraction());break;case this._addUID("drawing-tool-remove"):o.dtOptions.remove.active&&(o.interactionCurrent=o._createRemoveInteraction());break;default:Ps.trace("unhandled tool type")}o.interactionCurrent&&(o.interactionCurrent.setProperties({name:"Drawing",source:this}),i.addInteraction(o.interactionCurrent)),Ps.log("interactions",i.getInteractions())}else Ps.trace("Drawing control not attached to any map.")},t.prototype.onShowDrawingClick=function(){var e=this.getMap();for(var t in Wa.unset(e),this.collapsed=this._showDrawingContainer.checked,this.dispatchEvent("change:collapsed"),this.dtOptions)if(this.dtOptions.hasOwnProperty(t)&&this.dtOptions[t].active){var o=this._addUID("drawing-tool-"+this.dtOptions[t].id);document.getElementById(o).className="drawing-tool",this.dtOptions[t].active=!1}},t.prototype.onExportFeatureClick=function(){var e=this.exportFeatures();if(e){var t=document.createElement("a");if(t.setAttribute("href","data:"+this._exportMimeType+";charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",this.getExportName()+this._exportExt),document.createEvent){var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),t.dispatchEvent(o)}else t.click()}},t}(xi.a),Gs=ks;window.ol&&window.ol.control&&(window.ol.control.Drawing=ks);var Rs=lt.getLogger("LocationSelectorDOM"),Ts={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.className=this._addUID("GPlocationPoint"),e.className+=" GPwidget",e},_createLocationPointElement:function(e,t){var o=document.createElement("div");return o.id=this._addUID("GPlocationPoint_"+e),o.className=t?"GPflexInput GPlocationStageFlexInput":"GPflexInput GPlocationStageFlexInputHidden",o.style.cssText="",o},_createLocationPointLabelElement:function(e,t){var o=this,n=document.createElement("label");return n.id=this._addUID("GPlocationOriginLabel_"+e),n.htmlFor=this._addUID("GPlocationOrigin_"+e),n.innerHTML=t,n.addEventListener("click",(function(e){for(var t=Pi.index(this.id),n=document.getElementsByClassName(o._addUID("GPlocationPoint")),i=0;i<n.length;i++){var r=n[i].childNodes[0].id,a=Pi.index(r);document.getElementById(o._addUID("GPlocationPoint_"+a)).style.cssText=""}document.getElementById(o._addUID("GPlocationOriginCoords_"+t)).value="",document.getElementById(o._addUID("GPlocationOrigin_"+t)).value="",document.getElementById(o._addUID("GPlocationPoint_"+t)).style.cssText="",document.getElementById(o._addUID("GPlocationOriginPointer_"+t)).checked=!1,document.getElementById(o._addUID("GPlocationOrigin_"+t)).className="GPlocationOriginVisible",document.getElementById(o._addUID("GPlocationOriginCoords_"+t)).className="GPlocationOriginHidden",document.getElementById(o._addUID("GPlocationStageRemove_"+t))&&(document.getElementById(o._addUID("GPlocationStageRemove_"+t)).className="GPlocationStageRemove"),document.getElementById(o._addUID("GPlocationStageAdd"))&&(document.getElementById(o._addUID("GPlocationStageAdd")).className=""),o.onLocationClearPointClick(e)})),n},_createLocationAutoCompleteteInputElement:function(e){var t=this,o=document.createElement("input");return o.id=this._addUID("GPlocationOrigin_"+e),o.className="GPlocationOriginVisible",o.type="text",o.placeholder="Saisir une adresse",o.autocomplete="off",o.addEventListener("keyup",(function(e){var o=e.which||e.keyCode;if(13!==o&&10!==o&&38!==o&&40!==o){var n=Pi.index(this.id);document.getElementById(t._addUID("GPlocationOrigin_"+n)).value.length>2?document.getElementById(t._addUID("GPlocationAutoCompleteList_"+n)).style.display="block":document.getElementById(t._addUID("GPlocationAutoCompleteList_"+n)).style.display="none",t.onAutoCompleteSearchText(e)}})),o.addEventListener("keydown",(function(o){var n=o.which||o.keyCode,i=document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e));if(i){var r=i.getElementsByClassName("GPautoCompleteProposal current"),a=i.getElementsByClassName("GPautoCompleteProposal"),s=a.length;if(s){var l=null;if(!r.length)return(l=a[0]).className="GPautoCompleteProposal current",l.style.color="#000000",void(l.style["background-color"]="#CEDBEF");l=r[0];var c=parseInt(Pi.index(l.id),10),u=c===s-1?a[0]:a[c+1],d=0===c?a[s-1]:a[c-1];switch(l.style["background-color"]="",l.style.color="",d.style["background-color"]="",d.style.color="",u.style["background-color"]="",u.style.color="",n){case 38:Rs.log("arrow up"),l.className="GPautoCompleteProposal",d.className="GPautoCompleteProposal current",d.style.color="#000000",d.style["background-color"]="#CEDBEF";break;case 40:Rs.log("arrow down"),l.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 13:Rs.log("enter"),l.click(o)}l.focus()}}})),o},_createLocationCoordinateInputElement:function(e){var t=this,o=document.createElement("input");return o.id=this._addUID("GPlocationOriginCoords_"+e),o.className="GPlocationOriginHidden",o.type="text",o.disabled=!1,o.addEventListener("click",(function(){var e=Pi.index(this.id);document.getElementById(t._addUID("GPlocationOriginLabel_"+e)).click()})),o},_createLocationPointerShowInputElement:function(e){var t=document.createElement("input");return t.id=this._addUID("GPlocationOriginPointer_"+e),t.type="checkbox",t},_createLocationPointerInputElement:function(e){var t=this,o=document.createElement("label");return o.id=this._addUID("GPlocationOriginPointerImg_"+e),o.htmlFor=this._addUID("GPlocationOriginPointer_"+e),o.className="GPlocationOriginPointerImg",o.title="Pointer un lieu sur la carte",o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var o,n,i,r=Pi.index(this.id),a=document.getElementsByClassName(t._addUID("GPlocationPoint"));for(o=0;o<a.length;o++)n=a[o].childNodes[0].id,r!==(i=Pi.index(n))&&(document.getElementById(t._addUID("GPlocationOriginPointer_"+i)).checked=!1,"Pointer un lieu sur la carte"===document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).value&&(document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+i)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).className="GPlocationOriginHidden"));if(document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked){for(document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value="",o=0;o<a.length;o++)n=a[o].childNodes[0].id,i=Pi.index(n),document.getElementById(t._addUID("GPlocationPoint_"+i)).style.cssText="";document.getElementById(t._addUID("GPlocationStageRemove_"+r))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+r)).className="GPlocationStageRemove"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className=""),document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked=!1,document.getElementById(t._addUID("GPlocationOrigin_"+r)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).className="GPlocationOriginHidden"}else{for(document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value="Pointer un lieu sur la carte",o=0;o<a.length;o++)n=a[o].childNodes[0].id,r===(i=Pi.index(n))?document.getElementById(t._addUID("GPlocationPoint_"+i)).style.cssText="":document.getElementById(t._addUID("GPlocationPoint_"+i)).style.display="none";document.getElementById(t._addUID("GPlocationStageRemove_"+r))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+r)).className="GPlocationOriginHidden"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPlocationOriginHidden"),document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked=!0,document.getElementById(t._addUID("GPlocationOrigin_"+r)).className="GPlocationOriginHidden",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).disabled=!0}t.onActivateMapPointClick(e)})),o},_createLocationRemovePointElement:function(e){var t=this,o=document.createElement("div");return o.id=this._addUID("GPlocationStageRemove_"+e),o.className="GPlocationStageRemove",o.title="Supprimer l'étape",o.addEventListener("click",(function(o){var n=document.getElementsByClassName(t._addUID("GPlocationPoint")),i=n.length-1,r=n[0].childNodes[0].id,a=n[i].childNodes[0].id,s=Pi.index(r),l=Pi.index(a);if(e!==s&&e!==l){var c=Pi.index(this.id);document.getElementById(t._addUID("GPlocationPoint_"+c)).className="GPflexInput GPlocationStageFlexInputHidden",document.getElementById(t._addUID("GPlocationOrigin_"+c)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+c)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+c)).value="",document.getElementById(t._addUID("GPlocationOriginCoords_"+c)).className="GPlocationOriginHidden",document.getElementById(t._addUID("GPlocationStageAdd")).style.display="",t.onLocationRemovePointClick(o)}})),o},_createLocationAddPointElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPlocationStageAdd"),t.title="Ajouter une étape",t.addEventListener("click",(function(t){for(var o=1,n=0,i=document.getElementsByClassName(e._addUID("GPlocationPoint")),r=1;r<i.length-1;r++){var a=i[r].childNodes[0].id,s=Pi.index(a);document.getElementById(e._addUID("GPlocationPoint_"+s))&&("GPflexInput GPlocationStageFlexInputHidden"===document.getElementById(e._addUID("GPlocationPoint_"+s)).className?1===o&&(o=s):n++)}o<i.length&&(document.getElementById(e._addUID("GPlocationPoint_"+o)).className="GPflexInput GPlocationStageFlexInput"),4===n&&(document.getElementById(e._addUID("GPlocationStageAdd")).style.display="none"),e.onLocationAddPointClick(t)})),t},_createLocationAutoCompleteResultElement:function(e){var t=this,o=document.createElement("div");return o.id=this._addUID("GPlocationAutoCompleteList_"+e),o.className="GPadvancedAutoCompleteList",o.addEventListener?o.addEventListener("click",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).style.display="none"}),!1):o.attachEvent&&o.attachEvent("onclick",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).style.display="none"})),o},_createLocationAutoCompletedLocationElement:function(e,t,o){var n=document.getElementById(this._addUID("GPlocationAutoCompleteList_"+e)),i=document.createElement("div");i.id=this._addUID("AutoCompletedLocation_"+o),i.className="GPautoCompleteProposal",i.innerHTML=Ya.getSuggestedLocationFreeform(t),n.appendChild(i)},GPdisplayCoordinate:function(e){for(var t=document.getElementsByClassName(this._addUID("GPlocationPoint")),o=0;o<t.length;o++){var n=t[o].childNodes[0].id,i=Pi.index(n);if(document.getElementById(this._addUID("GPlocationOriginPointer_"+i)).checked){document.getElementById(this._addUID("GPlocationOriginCoords_"+i)).value=e,document.getElementById(this._addUID("GPlocationOriginCoords_"+i)).disabled=!1;for(var r=0;r<t.length;r++){n=t[r].childNodes[0].id;var a=Pi.index(n);document.getElementById(this._addUID("GPlocationPoint_"+a)).style.cssText="",document.getElementById(this._addUID("GPlocationStageRemove_"+a))&&(document.getElementById(this._addUID("GPlocationStageRemove_"+a)).className="GPlocationStageRemove")}return document.getElementById(this._addUID("GPlocationOriginPointer_"+i)).checked=!1,void(document.getElementById(this._addUID("GPlocationStageAdd"))&&(document.getElementById(this._addUID("GPlocationStageAdd")).className=""))}}}},Os=lt.getLogger("locationselector"),Ls=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._initContainer(),o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._container=o.element),e.call(this,{element:this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Ts),t.prototype.constructor=t,t.prototype.initialize=function(e){this.options={tag:{id:1,groupId:null,label:">",display:!0,addOption:!1,removeOption:!1},displayInfo:!0,autocompleteOptions:{}},qt.mergeParams(this.options,e),this._uid=this.options.tag.groupId||Pi.generate(),this._map=null,this._inputsContainer=null,this._inputLabelContainer=null,this._inputAutoCompleteContainer=null,this._inputShowPointerContainer=null,this._inputShowPointer=null,this._inputCoordinateContainer=null,this._addPointElement=null,this._removePointElement=null,this._coordinate=null,this._suggestedContainer=null,this._suggestedLocations=[],this._currentLocation=null,this._initMarker(),this._resources={},this.listenerKey=null},t.prototype._initMarker=function(){if(this._marker=null,this._markerUrl="",this._markerOffset=[0,0],this.options.tag.markerOpts&&this.options.tag.markerOpts.url){this._markerUrl=this.options.tag.markerOpts.url;var e=this.options.tag.markerOpts.offset;e&&(Array.isArray(e)&&2===e.length?this._markerOffset=e:Os.log("markerOpts.offset should be an array. e.g. : [0,0]"))}else this._markerUrl=At.lightOrange,this._markerOffset=At.defaultOffset},t.prototype.getCoordinate=function(){return this._coordinate},t.prototype.setCoordinate=function(e,t){var o=this.getMap().getView().getProjection().getCode();t||(t=o),this._setCoordinate(e,t),e=Object(Co.transform)(e,t,o),this._setMarker([e[0],e[1]],null,!1)},t.prototype.clear=function(){this.clearResults(),this._inputLabelContainer.click()},t.prototype.clearResults=function(){this._currentLocation=null,this._coordinate=null,this._hideSuggestedLocation(),this._clearSuggestedLocation(),this._setMarker(),Object(Oo.unByKey)(this.listenerKey)},t.prototype._initContainer=function(){var e=this,t=this.options.tag.id,o=this._createMainContainerElement(),n=this._inputsContainer=this._createLocationPointElement(t,this.options.tag.display);o.appendChild(n);var i=this._inputLabelContainer=this._createLocationPointLabelElement(t,this.options.tag.label);n.appendChild(i);var r=this._inputAutoCompleteContainer=this._createLocationAutoCompleteteInputElement(t);r.addEventListener?r.addEventListener("click",(function(){return e.onAutoCompleteInputClick()})):r.attachEvent&&r.attachEvent("onclick",(function(){return e.onAutoCompleteInputClick()})),n.appendChild(r);var a=this._inputCoordinateContainer=this._createLocationCoordinateInputElement(t);n.appendChild(a);var s=this._inputShowPointerContainer=this._createLocationPointerShowInputElement(t);n.appendChild(s);var l=this._inputShowPointer=this._createLocationPointerInputElement(t);if(n.appendChild(l),this.options.tag.addOption){var c=this._addPointElement=this._createLocationAddPointElement();n.appendChild(c)}if(this.options.tag.removeOption){var u=this._removePointElement=this._createLocationRemovePointElement(t);n.appendChild(u)}var d=this._suggestedContainer=this._createLocationAutoCompleteResultElement(t);return o.appendChild(d),o},t.prototype.onAutoCompleteInputClick=function(){this._inputAutoCompleteContainer&&this._inputAutoCompleteContainer.value.length>2&&this._displaySuggestedLocation()},t.prototype.onAutoCompleteSearchText=function(e){var t=this,o=e.target.value;if(o){var n=this.options.autocompleteOptions||{},i=n.onSuccess||null,r=n.onFailure||null;if(this._currentLocation=o,o.length<3)this._clearSuggestedLocation();else{var a=this;this._requestAutoComplete({text:o,maximumResponses:5,onSuccess:function(e){if(e){var t=e.suggestedLocations;a._fillAutoCompletedLocationListContainer(t),i&&i.call(this,e)}},onFailure:function(e){a._clearSuggestedLocation(),Os.log(e.message),r&&r.call(this,e)}});var s=this.getMap();s.on("click",(function(){return t._hideSuggestedLocation()})),s.on("pointerdrag",(function(){return t._hideSuggestedLocation()}))}}},t.prototype.onAutoCompletedResultsItemClick=function(e){var t=Pi.index(e.target.id);if(t){var o=[this._suggestedLocations[t].position.x,this._suggestedLocations[t].position.y];this._coordinate=o;var n={type:this._suggestedLocations[t].type,fields:this._suggestedLocations[t]},i=Ya.getSuggestedLocationFreeform(this._suggestedLocations[t]);this._setLabel(i);var r=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==r&&(o=Object(Co.transform)(o,"EPSG:4326",r)),this._setPosition(o),this._setMarker(o,n,this.options.displayInfo)}},t.prototype.onActivateMapPointClick=function(){var e=this,t=this.getMap();this._inputShowPointerContainer.checked?(this.clearResults(),this.listenerKey=t.on("click",(function(t){return e.onMouseMapClick(t)})),this._setCursor("crosshair")):(Object(Oo.unByKey)(this.listenerKey),this._setCursor())},t.prototype.onLocationClearPointClick=function(){this._setCursor(),this.clearResults()},t.prototype.onLocationRemovePointClick=function(){this._setCursor(),this.clearResults()},t.prototype.onLocationAddPointClick=function(e){Os.log("onRouteAddPointClick",e)},t.prototype.onMouseMapClick=function(e){var t=e.coordinate;if(e.map&&e.map.getView()){var o=e.map.getView().getProjection();this._setCoordinate(t,o),this._setMarker([t[0],t[1]],null,!1),this.onActivateMapPointClick(e)}},t.prototype._setLabel=function(e){this._inputAutoCompleteContainer.value=e},t.prototype._setCursor=function(e){var t=this.getMap().getTargetElement();t.style.cursor=e||null},t.prototype._setCoordinate=function(e,t){this._coordinate=Object(Co.transform)(e,t,"EPSG:4326");var o=this._coordinate[0].toFixed(4),n=this._coordinate[1].toFixed(4)+" / "+o;this.GPdisplayCoordinate(n)},t.prototype._setPosition=function(e){this.getMap().getView().setCenter(e)},t.prototype._setMarker=function(e,t,o){var n=this.getMap();if(null!=this._marker&&(n.removeOverlay(this._marker),this._marker=null),e){var i=document.createElement("img");i.src=this._markerUrl,this._marker=new a.a({position:e,offset:this._markerOffset,element:i,stopEvent:!1}),n.addOverlay(this._marker),o&&Os.log("marker information : ",t)}},t.prototype._clearSuggestedLocation=function(){if(this._suggestedLocations=[],this._suggestedContainer)for(;this._suggestedContainer.firstChild;)this._suggestedContainer.removeChild(this._suggestedContainer.firstChild)},t.prototype._hideSuggestedLocation=function(){this._suggestedContainer&&(this._suggestedContainer.style.display="none")},t.prototype._displaySuggestedLocation=function(){this._suggestedContainer&&(this._suggestedContainer.style.display="block")},t.prototype._requestAutoComplete=function(e){if(Os.log("_requestAutoComplete()",e),e&&0!==Object.keys(e).length&&e.text){Os.log(e);var t={};qt.assign(t,this.options.autocompleteOptions),qt.assign(t,e);var o=this._resources.AutoCompletion||null;o&&Array.isArray(o)&&(t.filterOptions||(t.filterOptions={}),t.filterOptions.type=o),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Os.log(t),st.Services.autoComplete(t)}},t.prototype._fillAutoCompletedLocationListContainer=function(e){if(e&&0!==e.length){var t=this._suggestedContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var o=0;o<e.length;o++)this._createLocationAutoCompletedLocationElement(this.options.tag.id,e[o],o);this._suggestedLocations=e}},t}(xi.a),Ds=Ls;window.ol&&window.ol.control&&(window.ol.control.LocationSelector=Ls);o(110);var Ns={_addUID:function(e){return this.uid?e+"-"+this.uid:e}};function js(e){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bs(n.key),n)}}function Bs(e){var t=function(e,t){if("object"!=js(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==js(t)?t:t+""}function Fs(e,t,o){return t=zs(t),function(e,t){if(t&&("object"===js(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],zs(e).constructor):t.apply(e,o))}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vs(e,t){return(Vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var qs=lt.getLogger("export"),Ws=function(e){function t(e){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{control:null,target:null,format:"geojson",name:"export",title:"Exporter",menu:!1,onExport:null},qs.trace("[constructor] Export",e),!((o=Fs(this,t,[{element:document.createElement("div"),render:e.render,target:e.target}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return o.EXPORT_ROUTE={},o.EXPORT_ISOCHRON={},o.EXPORT_PROFILE={},o.uid=e.id||Pi.generate(),o.extension=null,o.mimeType=null,o.container=null,o.button=null,o.menu=null,o.icon="☰ ",o.menuClassHidden="GPexportMenuHidden",o.initOptions(e),o.initContainer(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vs(e,t)}(t,e),o=t,(n=[{key:"render",value:function(){if(!this.options.target&&this.options.control){var e=this.options.control.getContainer();this.options.target=e.lastChild}this.container&&this.options.target.appendChild(this.container)}},{key:"initOptions",value:function(e){this.options=e,this.options.control,this.options.target;var t=this.options.format;t?this.setFormat(t):this.setFormat(""),this.options.name||this.setName("export"),this.options.title||this.setTitle("Exporter"),void 0===this.options.menu&&this.setMenu(!1)}},{key:"initContainer",value:function(){var e=this,t=this.options.title;this.options.menu&&(t=this.icon+this.options.title);var o=document.createElement("div");o.id=this._addUID("GPexportContainer"),o.className="GPexportMenuContainer";var n=this.stringToHTML('\n            <input type="button"\n                id="'.concat(this._addUID("GPexportButton"),'" \n                class="GPinputSubmit"\n                value="').concat(t,'">\n        '));this.button=n.firstChild,this.button&&this.button.addEventListener("click",(function(t){return e.onClickButtonExport(t)})),o.appendChild(n.firstChild);var i=this.stringToHTML('\n            <div class="GPexportMenuContent '.concat(this.menuClassHidden,'">\n                <label class="container">GeoJSON\n                    <input type="radio" \n                        id="GPmenuFormatGeojson-').concat(this.uid,'"\n                        name="format" \n                        value="geojson">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">KML\n                    <input type="radio" \n                        id="GPmenuFormatKml-').concat(this.uid,'"\n                        name="format" \n                        value="kml">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">GPX\n                    <input type="radio" \n                        id="GPmenuFormatGpx-').concat(this.uid,'"\n                        name="format" \n                        value="gpx">\n                    <span class="checkmark"></span>\n                </label>\n            </div>\n        '));if(this.menu=i.firstChild,this.menu){if(this.options.menu){var r=this.menu.className;this.menu.className=r.replace(this.menuClassHidden,"")}this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(t){t.id.toUpperCase().includes(e.options.format.toUpperCase())&&(t.checked=!0),t.addEventListener("change",(function(t){e.setFormat(t.target.value)}))}))}o.appendChild(i.firstChild),this.container=o}},{key:"stringToHTML",value:function(e){if(function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}())return(new DOMParser).parseFromString(e,"text/html").body;var t=document.createElement("div");return t.innerHTML=e,t}},{key:"isPluggableControl",value:function(){return!(!this.options.control||"function"!=typeof this.options.control.getContainer||"function"!=typeof this.options.control.getLayer)}},{key:"exportFeatures",value:function(e,t,o){var n=this,i=null;if(!e)return qs.warn("Impossible to export : no layer is hosting features."),i;if(!e.getSource()||!e.getSource().getFeatures()||!e.getSource().getFeatures().length)return qs.warn("Impossible to export : no features found."),i;e.getSource().getFeatures().forEach((function(e){e.getStyle()||"function"!=typeof n.options.control.getStyle||e.setStyle(n.options.control.getStyle())}));var r={defaultStyle:o};t&&(r.extensions={"geoportail:compute":t});var a=null;switch(this.options.format.toUpperCase()){case"KML":r.writeStyles=!0,r.showPointNames=!0,a=new Yt(r);break;case"GPX":a=new to(r);break;case"GEOJSON":a=new ro(r)}if(!a)return qs.warn("Impossible to export : format unknown !?"),i;var s=e.getSource().getProjection(),l=this.getMap();l&&(s=s||l.getView().getProjection());var c=e.getSource().getFeatures();return i=a.writeFeatures(c,{dataProjection:"EPSG:4326",featureProjection:s||"EPSG:3857"})}},{key:"onClickButtonExport",value:function(e){if(this.isPluggableControl()){var t=this.options.control.getLayer(),o=void 0!==this.options.control.getData?this.options.control.getData():{},n=void 0!==this.options.control.getStyle?this.options.control.getStyle():{},i=this.exportFeatures(t,o,n);if(i&&"null"!==i)if(this.dispatchEvent({type:"export:compute",content:i}),this.options.onExport&&"function"==typeof this.options.onExport)this.options.onExport(i);else{var r=document.createElement("a");if(r.setAttribute("href","data:"+this.mimeType+";charset=utf-8,"+encodeURIComponent(i)),r.setAttribute("download",this.options.name+this.extension),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),r.dispatchEvent(a)}else r.click()}}else qs.warn("Componant not pluggable with the control !")}},{key:"setControl",value:function(e){this.options.control=e}},{key:"setTarget",value:function(e){this.options.target=e}},{key:"setFormat",value:function(e){switch(this.options.format=e.toUpperCase(),this.options.format){case"KML":this.extension=".kml",this.mimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this.extension=".gpx",this.mimeType="application/gpx+xml";break;case"GEOJSON":this.extension=".geojson",this.mimeType="application/geo+json";break;default:this.options.format="GEOJSON",this.extension=".geojson",this.mimeType="application/geo+json"}}},{key:"setName",value:function(e){this.options.name=e}},{key:"setTitle",value:function(e){this.options.title=e,this.button&&(this.button.value=this.options.menu?this.icon+e:e)}},{key:"setMenu",value:function(e){var t=this;if(this.options.menu=e,this.button&&(this.button.value=this.options.menu?this.icon+this.options.title:this.options.title),this.menu&&this.options.menu){var o=this.menu.className;this.menu.className=o.replace(this.menuClassHidden,""),this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(e){e.id.toUpperCase().includes(t.options.format.toUpperCase())&&(e.checked=!0)}))}}}])&&Us(o.prototype,n),i&&Us(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,i}(xi.a);qt.assign(Ws.prototype,Ns);var Hs=Ws;window.ol&&window.ol.control&&(window.ol.control.Export=Ws);var Ys=lt.getLogger("RouteDOM"),Js={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProute"),e.className="GPwidget",e},_createShowRouteElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowRoute"),e.type="checkbox",e},_createShowRoutePictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowRoutePicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowRoute"),t.title="Ouvrir le calcul d'itinéraire",t.addEventListener?t.addEventListener("click",(function(t){e.onShowRoutePanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowRoutePanelClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowRouteOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createRoutePanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProutePanel"),e.className="GPpanel",e},_createRoutePanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Calcul d'itinéraire",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GProutePanelClose"),n.className="GPpanelClose",n.title="Masquer le panneau",n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()})),t.appendChild(n),t},_createRoutePanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GProuteForm"),t.setAttribute("onkeypress","return event.keyCode != 13;"),t.addEventListener("submit",(function(t){Ys.log(t),t.preventDefault();var o=document.getElementsByClassName(e._addUID("GPlocationPoint")),n=o[0].childNodes[0].id,i=o[o.length-1].childNodes[0].id,r=Pi.index(n),a=Pi.index(i);if(""===document.getElementById(e._addUID("GPlocationOrigin_"+r)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+r)).value||""===document.getElementById(e._addUID("GPlocationOrigin_"+a)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+a)).value)return!1;e._addRouteResultsStagesValuesElement(o);var s=null;if(document.getElementById(e._addUID("GProuteComputationSelect"))){var l=document.getElementById(e._addUID("GProuteResultsComputationSelect"));l.selectedIndex=document.getElementById(e._addUID("GProuteComputationSelect")).selectedIndex,s=l.options[l.selectedIndex].value}var c=null;document.getElementById(e._addUID("GProuteTransportCar"))&&document.getElementById(e._addUID("GProuteTransportCar")).checked&&(c=document.getElementById(e._addUID("GProuteTransportCar")).value),document.getElementById(e._addUID("GProuteTransportPedestrian"))&&document.getElementById(e._addUID("GProuteTransportPedestrian")).checked&&(c=document.getElementById(e._addUID("GProuteTransportPedestrian")).value);for(var u=[],d=document.getElementsByClassName("GProuteExclusionsOption"),p=0;p<d.length;p++){var h=d[p].htmlFor,g=document.getElementById(h);g.checked||u.push(g.value)}return e.onRouteComputationSubmit({computation:s,transport:c,exclusions:u}),!1})),t},_createRoutePanelResultsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteResultsPanel"),e.className="GProuteComponentHidden",e.appendChild(this._createRouteResultsStagesElement()),e.appendChild(this._createRouteResultsElement());var t=document.createElement("div");t.className="GPfakeBorder GPfakeBorderLeft",e.appendChild(t),e.appendChild(this._createRouteShowResultsDetailsElement());var o=document.createElement("label");o.htmlFor=this._addUID("GProuteResultsShowDetails"),o.innerHTML="Afficher le détail",e.appendChild(o);var n=document.createElement("label");n.htmlFor=this._addUID("GProuteResultsShowDetails"),n.innerHTML="Masquer le détail",e.appendChild(n);var i=document.createElement("div");return i.className="GPfakeBorder",e.appendChild(i),e.appendChild(this._createRouteResultsDetailsElement()),e},_createRouteWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteCalcWaitingContainer"),e.className="GProuteCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GProuteCalcWaiting",t.innerHTML="Calcul en cours...",e.appendChild(t),e},_createRouteResultsStagesElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsStages"),e},_addRouteResultsStagesValuesElement:function(e){document.getElementById(this._addUID("GProuteResultsStages")).innerHTML="";for(var t=0;t<e.length;t++){var o=e[t].childNodes[0].id,n=Pi.index(o);if("GPflexInput GPlocationStageFlexInput"===document.getElementById(this._addUID("GPlocationPoint_"+n)).className){var i=document.createElement("div");i.className="GProuteResultsStages";var r=document.createElement("div");r.className="GProuteResultStageLabel",r.innerHTML=document.getElementById(this._addUID("GPlocationOriginLabel_"+n)).innerHTML+" :",i.appendChild(r);var a=document.createElement("div");a.className="GProuteResultStageValue";var s=document.getElementById(this._addUID("GPlocationOriginCoords_"+n)),l=s.value,c="GPlocationOriginVisible"===s.className;a.innerHTML=null!==l&&""!==l&&c?l:document.getElementById(this._addUID("GPlocationOrigin_"+n)).value,i.appendChild(a),""!==a.innerHTML&&document.getElementById(this._addUID("GProuteResultsStages")).appendChild(i)}}},_createRouteResultsElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteResults");var o=document.createElement("div");o.id=this._addUID("GProuteResultsValues"),t.appendChild(o);var n=document.createElement("div");n.id=this._addUID("GProuteResultsMode");var i=document.createElement("select");i.id=this._addUID("GProuteResultsComputationSelect"),i.className="GPinputSelect",i.addEventListener("change",(function(t){e.onRouteModeComputationChangeAndRun(t)}));for(var r=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<r.length;a++){var s=document.createElement("option");s.value=r[a].code,s.text=r[a].label,i.appendChild(s)}n.appendChild(i),t.appendChild(n);var l=document.createElement("div");return l.id=this._addUID("GProuteResultsNew"),l.title="Modifier le calcul",l.addEventListener("click",(function(t){document.getElementById(e._addUID("GProuteResultsPanel")).className="GProuteComponentHidden",document.getElementById(e._addUID("GProuteForm")).className="",e.onShowRouteResultsNewClick(t)})),t.appendChild(l),t},_addRouteResultsValuesElement:function(e,t,o){var n=document.getElementById(this._addUID("GProuteResultsValues"));if(n.childElementCount)for(;n.firstChild;)n.removeChild(n.firstChild);var i=document.createElement("div");i.className="GProuteResultsValue";var r=document.createElement("label");r.className="GProuteResultsValueLabel",r.innerHTML="Distance :",i.appendChild(r);var a=0;if(parseInt(e/1e3,10)){var s=Math.round(e);a=(s/=1e3)+" km"}else a=Math.round(e)+" m";var l=document.createElement("div");l.id=this._addUID("GProuteResultsValueDist"),l.innerHTML=a,i.appendChild(l),n.appendChild(i);var c=document.createElement("div");c.className="GProuteResultsValue";var u=document.createElement("label");u.className="GProuteResultsValueLabel",u.innerHTML="Durée :",c.appendChild(u);var d=document.createElement("div");return d.id=this._addUID("GProuteResultsValueDist"),d.innerHTML=o(t),c.appendChild(d),n.appendChild(c),n},_createRouteShowResultsDetailsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteResultsShowDetails"),e.type="checkbox",e},_createRouteResultsDetailsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsDetails"),e},_addRouteResultsDetailsElement:function(e,t){var o=this,n=document.getElementById(this._addUID("GProuteResultsDetails"));if(n.childElementCount)for(;n.firstChild;)n.removeChild(n.firstChild);for(var i=0,r=0,a=0;a<e.length;a++){var s=a+1,l=e[a],c=document.createElement("div");c.className="GProuteResultsDetailsNumber",c.innerHTML=s+".",n.appendChild(c),r+=parseFloat(l.duration),i+=parseFloat(l.distance);var u=0;if(parseInt(i/1e3,10)){var d=Math.round(i);u=(d/=1e3)+" km"}else u=Math.round(i)+" m";var p=document.createElement("div");p.className="GProuteResultsDetailsInstruction",p.id=this._addUID("GProuteResultsDetailsInstruction_"+s),p.title="distance : "+u+" / temps : "+t(r),p.innerHTML=l.instruction,p.addEventListener("mouseover",(function(e){o.onRouteResultsDetailsMouseOver(e)})),p.addEventListener("mouseout",(function(e){o.onRouteResultsDetailsMouseOut(e)})),p.addEventListener("click",(function(e){"function"==typeof o.onRouteResultsDetailsClick&&o.onRouteResultsDetailsClick(e)})),n.appendChild(p)}return n},_createRoutePanelFormPointElement:function(e,t,o){var n=this,i=document.createElement("div");i.id="GProutePoint"+e,i.className=o?"GPflexInput GProuteStageFlexInput":"GPflexInput GProuteStageFlexInputHidden";var r=document.createElement("label");r.id="GProuteOriginLabel"+e,r.htmlFor="GProuteOrigin"+e,r.innerHTML=t,r.addEventListener("click",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteOriginCoords"+e).value="";for(var t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="",document.getElementById("GProuteOriginPointer"+e).checked=!1,document.getElementById("GProuteOrigin"+e).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+e).className="GProuteOriginHidden"})),i.appendChild(r);var a=document.createElement("input");a.id="GProuteOrigin"+e,a.className="GProuteOriginVisible",a.type="text",a.placeholder="Saisir une adresse",a.addEventListener("keyup",(function(e){var t=e.which||e.keyCode;if(13!==t&&10!==t){var o=this.id.charAt(this.id.length-1);document.getElementById("GProuteOrigin"+o).value.length>2?document.getElementById("GProuteAutoCompleteList"+o).style.display="block":document.getElementById("GProuteAutoCompleteList"+o).style.display="none",n.onAutoCompleteSearchText(e)}})),a.addEventListener("blur",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),i.appendChild(a);var s=document.createElement("input");s.id="GProuteOriginCoords"+e,s.className="GProuteOriginHidden",s.type="text",s.disabled=!0,i.appendChild(s);var l=document.createElement("input");l.id="GProuteOriginPointer"+e,l.type="checkbox",i.appendChild(l);var c=document.createElement("label");return c.id="GProuteOriginPointerImg"+e,c.htmlFor="GProuteOriginPointer"+e,c.className="GProuteOriginPointerImg",c.title="Pointer un lieu sur la carte",c.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t,o=this.id.charAt(this.id.length-1);for(t=1;t<8;t++)o!==t&&(document.getElementById("GProuteOriginPointer"+t).checked=!1,"Pointer un lieu sur la carte"===document.getElementById("GProuteOriginCoords"+t).value&&(document.getElementById("GProuteOriginCoords"+t).value="",document.getElementById("GProuteOrigin"+t).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+t).className="GProuteOriginHidden"));if(document.getElementById("GProuteOriginPointer"+o).checked){for(document.getElementById("GProuteOriginCoords"+o).value="",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="",document.getElementById("GProuteOriginPointer"+o).checked=!1,document.getElementById("GProuteOrigin"+o).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+o).className="GProuteOriginHidden"}else{for(document.getElementById("GProuteOriginCoords"+o).value="Pointer un lieu sur la carte",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display=o===t?"flex":"none";document.getElementById("GProuteForm").className="GProuteFormMini",document.getElementById("GProuteOriginPointer"+o).checked=!0,document.getElementById("GProuteOrigin"+o).className="GProuteOriginHidden",document.getElementById("GProuteOriginCoords"+o).className="GProuteOriginVisible"}n.onRouteMapPointClick(e)})),i.appendChild(c),i},_createRoutePanelFormRemoveStageElement:function(e){var t=this,o=document.createElement("div");return o.id="GProuteStageRemove"+e,o.className="GProuteStageRemove",o.title="Supprimer l'étape",1!==e&&7!==e&&o.addEventListener("click",(function(e){var o=this.id.charAt(this.id.length-1);document.getElementById("GProutePoint"+o).className="GPflexInput GProuteStageFlexInputHidden",document.getElementById("GProuteOrigin"+o).value="",document.getElementById("GProuteOrigin"+o).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+o).value="",document.getElementById("GProuteOriginCoords"+o).className="GProuteOriginHidden",document.getElementById("GProuteStageAdd").style.display="",t.onRouteRemovePointClick(e)})),o},_createRoutePanelFormAddStageElement:function(){var e=this,t=document.createElement("div");return t.id="GProuteStageAdd",t.title="Ajouter une étape",t.addEventListener("click",(function(t){for(var o=1,n=0,i=2;i<7;i++)"GPflexInput GProuteStageFlexInputHidden"===document.getElementById("GProutePoint"+i).className?1===o&&(o=i):n++;o<7&&(document.getElementById("GProutePoint"+o).className="GPflexInput GProuteStageFlexInput"),4===n&&(document.getElementById("GProuteStageAdd").style.display="none"),e.onRouteAddPointClick(t)})),t},_createRoutePanelFormAutoCompleteListElement:function(e){var t=this,o=document.createElement("div");return o.id="GProuteAutoCompleteList"+e,o.className="GPadvancedAutoCompleteList",o.addEventListener?o.addEventListener("click",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"}),!1):o.attachEvent&&o.attachEvent("onclick",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),o},_createRouteAutoCompletedLocationElement:function(e,t,o){var n=document.getElementById("GProuteAutoCompleteList"+t),i=document.createElement("div");i.id="AutoCompletedLocation"+o,i.className="GPautoCompleteProposal",i.innerHTML=Ya.getSuggestedLocationFreeform(e),n.appendChild(i)},_createRoutePanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteModeChoice"),e},_createRoutePanelFormModeChoiceTransportElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GProuteTransportChoice");var n=document.createElement("span");n.className="GProuteModeLabel",n.innerHTML="Mode de transport",o.appendChild(n);for(var i=0;i<e.length;i++){var r=e[i];if("Voiture"===r){var a=document.createElement("input");a.id=this._addUID("GProuteTransportCar"),a.type="radio",a.name="GProuteTransport",a.value="Voiture",0===i&&(a.checked=!0),a.addEventListener?a.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),o.appendChild(a);var s=document.createElement("label");s.className="GProuteTransportImg",s.htmlFor=this._addUID("GProuteTransportCar"),s.title="Voiture",o.appendChild(s)}if("Pieton"===r){var l=document.createElement("input");l.id=this._addUID("GProuteTransportPedestrian"),l.type="radio",l.name="GProuteTransport",l.value="Pieton",0===i&&(l.checked=!0),l.addEventListener?l.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):l.attachEvent&&l.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),o.appendChild(l);var c=document.createElement("label");c.className="GProuteTransportImg",c.htmlFor=this._addUID("GProuteTransportPedestrian"),c.title="Piéton",o.appendChild(c)}}return o},_createRoutePanelFormModeChoiceComputeElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteComputationChoice");var o=document.createElement("label");o.htmlFor=this._addUID("GProuteComputationSelect"),o.innerHTML="Mode de calcul";var n=document.createElement("span");n.className="GProuteModeLabel",n.appendChild(o),t.appendChild(n);var i=document.createElement("select");i.id=this._addUID("GProuteComputationSelect"),i.className="GPinputSelect",i.addEventListener("change",(function(t){e.onRouteModeComputationChange(t)}));for(var r=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<r.length;a++){var s=document.createElement("option");s.value=r[a].code,s.text=r[a].label,i.appendChild(s)}return t.appendChild(i),t},_createShowRouteExclusionsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowRouteExclusions"),e.type="checkbox",e},_createShowRouteExclusionsPictoElement:function(){var e=this,t=document.createElement("label");return t.id=this._addUID("GPshowRouteExclusionsPicto"),t.className="GPshowMoreOptionsImage GPshowMoreOptions GPshowRouteExclusionsPicto",t.htmlFor=this._addUID("GPshowRouteExclusions"),t.title="Exclusions",t.addEventListener?t.addEventListener("click",(function(t){e.onShowRouteExclusionsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowRouteExclusionsClick(t)})),t},_createRoutePanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteExclusions");var t=document.createElement("span");return t.className="GProuteExclusionsLabel",t.innerHTML="Passages autorisés",e.appendChild(t),e},_createRoutePanelFormExclusionOptionsElement:function(e){var t=this,o=document.createElement("div");for(var n in o.className="GProuteExclusionsOptions",e)if(e.hasOwnProperty(n)){var i=e[n];switch(n){case"toll":var r=document.createElement("input");r.id=this._addUID("GProuteExclusionsToll"),r.type="checkbox",r.value="Toll",r.checked=!i,r.addEventListener?r.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),o.appendChild(r);var a=document.createElement("label");a.className="GProuteExclusionsOption",a.htmlFor=this._addUID("GProuteExclusionsToll"),a.innerHTML="Péages",o.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GProuteExclusionsTunnel"),s.type="checkbox",s.value="Tunnel",s.checked=!i,s.addEventListener?s.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),o.appendChild(s);var l=document.createElement("label");l.className="GProuteExclusionsOption",l.htmlFor=this._addUID("GProuteExclusionsTunnel"),l.innerHTML="Tunnels",o.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GProuteExclusionsBridge"),c.type="checkbox",c.value="Bridge",c.checked=!i,c.addEventListener?c.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),o.appendChild(c);var u=document.createElement("label");u.className="GProuteExclusionsOption",u.htmlFor=this._addUID("GProuteExclusionsBridge"),u.innerHTML="Ponts",o.appendChild(u)}}return o},_createRouteSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteSubmit"),e.className="GPinputSubmit",e.type="submit",e.value="Calculer",e},_createRouteFormResetElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GProuteReset"),t.title="Réinitialiser les paramètres",t.addEventListener("click",(function(t){e.onRouteResetClick(t)})),t}};function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ks=lt.getLogger("route"),Xs=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._createMainContainerElement(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Js),t.prototype.constructor=t,t.prototype.setMap=function(t){if(t){if(this._container=this._initContainer(t),this.options.export){var o=qt.assign({control:this},this.options.export);this.export=new Hs(o),this.export.render();var n=this;this.export.on("export:compute",(function(e){n.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&ts.dragElement(this._panelRouteContainer,this._panelHeaderRouteContainer,t.getTargetElement())}e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GProutePanelClose-"+this._uid).click():document.getElementById("GPshowRoute-"+this._uid).click(),this.collapsed=e):Ks.log("[ERROR] Route:setCollapsed - missing collapsed parameter")},t.prototype.getLayer=function(){return this._geojsonSections},t.prototype.setLayer=function(e){e?e instanceof Do.a?(e.setStyle(this._defaultFeatureStyle),this._geojsonSections=e):Ks.log("no valid layer given for hosting drawn features."):this._geojsonSections=null},t.prototype.getGeoJSON=function(){return JSON.stringify(this._geojsonObject)},t.prototype.setGeoJSON=function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){Ks.log("no valid geojson given :"+e.message)}},t.prototype.getData=function(){for(var e=[],t=0;t<this._currentPoints.length;t++){var o=this._currentPoints[t];e.push(o.getCoordinate())}var n={type:"route",points:e,transport:this._currentTransport,exclusions:this._currentExclusions,computation:this._currentComputation,results:{}};return qt.assign(n.results,this._currentRouteInformations),n},t.prototype.setData=function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;for(var t=0;t<this._currentPoints.length;t++){var o=this._currentPoints[t];if(o.getCoordinate()){o.clearResults();var n=t+1+"-"+this._uid;document.getElementById("GPlocationOriginCoords_"+n).value="",document.getElementById("GPlocationOrigin_"+n).value="",document.getElementById("GPlocationPoint_"+n).style.cssText="",t>0&&t<6&&(document.getElementById("GPlocationPoint_"+n).className="GPflexInput GPlocationStageFlexInputHidden"),document.getElementById("GPlocationOriginPointer_"+n).checked=!1,document.getElementById("GPlocationOrigin_"+n).className="GPlocationOriginVisible",document.getElementById("GPlocationOriginCoords_"+n).className="GPlocationOriginHidden"}}for(var i=0;i<e.points.length;i++){var r=e.points[i];r&&this._currentPoints[i].setCoordinate(r,"EPSG:4326")}this._currentRouteInformations=e.results},t.prototype.getContainer=function(){return this._container},t.prototype.getStyle=function(){return this._defaultFeatureStyle},t.prototype.init=function(){for(var e=0;e<this._currentPoints.length;e++){var t=e+1,o=this._currentPoints[e].getCoordinate();if(o)document.getElementById("GPlocationOrigin_"+t+"-"+this._uid).value=o[1].toFixed(4)+" / "+o[0].toFixed(4),e>0&&e<6&&(document.getElementById("GPlocationPoint_"+t+"-"+this._uid).className="GPflexInput GPlocationStageFlexInput")}var n,i=document.getElementsByClassName("GPlocationPoint-"+this._uid);this._addRouteResultsStagesValuesElement(i),"Pieton"===this._currentTransport?(n=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(n.checked="true"):(n=document.getElementById("GProuteTransportCar-"+this._uid))&&(n.checked="true");var r=document.getElementById("GProuteComputationSelect-"+this._uid);r&&(r.value=this._currentComputation);var a=document.getElementById("GProuteExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GProuteExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GProuteExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0);var c=this._currentRouteInformations.totalDistance,u=this._currentRouteInformations.totalTime,d=this._simplifiedInstructions(this._currentRouteInformations.routeInstructions);d&&this._fillRouteResultsDetailsContainer(c,u,d),this._formRouteContainer.className="GProuteComponentHidden",this._hideWaitingContainer(),this._resultsRouteContainer.className=""},t.prototype.clean=function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null;for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations(),this._clearRouteInputOptions(),this._clearRouteResultsDetails(),this.setLayer(),this._formRouteContainer.className="",this._resultsRouteContainer.className="GProuteComponentHidden"},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},routeOptions:{},autocompleteOptions:{},layerDescription:{title:"Itinéraire",description:"Itinéraire basé sur un graphe"}},qt.assign(this.options,e);var t={departure:{url:At.red,offset:At.defaultOffset},stages:{url:At.lightOrange,offset:At.defaultOffset},arrival:{url:At.darkOrange,offset:At.defaultOffset}};this.options.markersOpts=qt.assign(t,e.markersOpts),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Pi.generate(),this._panelRouteContainer=null,this._panelHeaderRouteContainer=null,this._waitingContainer=null,this._formRouteContainer=null,this._resultsRouteContainer=null,this._showRouteExclusionsElement=null,this._currentPoints=[],this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._waiting=!1,this._timer=null,this._geojsonRoute=null,this._geojsonSections=null,this._geojsonObject=null,this.export=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._resultsSelectInteraction=null,this._resultsHoverInteraction=null,this._defaultFeatureStyle=new ft.Style({stroke:new ft.Stroke({color:"rgba(0,183,152,0.9)",width:12})}),this._selectedFeatureStyle=new ft.Style({stroke:new ft.Stroke({color:"rgba(255,102,0,0.9)",width:12})}),this._currentRouteInformations=null,this._resources={},this.listenerKey=null},t.prototype._checkInputOptions=function(e){if(e.graphs)if(Array.isArray(e.graphs)&&e.graphs.length)for(var t=0;t<e.graphs.length;t++)"string"==typeof e.graphs[t]?("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture")):(Ks.log("[ol.control.Route] ERROR : parameter 'graphs' elements should be of type 'string'"),e.graphs[t]=null);else Ks.warn("'graphs' parameter should be an array"),e.graphs=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)},t.prototype._initContainer=function(e){var t=this,o=this._container,n=this._showRouteContainer=this._createShowRouteElement();o.appendChild(n),this.collapsed||(n.checked=!0);var i=this._createShowRoutePictoElement();o.appendChild(i);var r=this._panelRouteContainer=this._createRoutePanelElement(),a=this._panelHeaderRouteContainer=this._createRoutePanelHeaderElement();r.appendChild(a);for(var s=this._formRouteContainer=this._createRoutePanelFormElement(),l=this._createRoutePanelFormPointsElement(e),c=0;c<l.length;c++)s.appendChild(l[c]);var u=this._createRoutePanelFormModeChoiceElement();u.appendChild(this._createRoutePanelFormModeChoiceTransportElement(this.options.graphs)),u.appendChild(this._createRoutePanelFormModeChoiceComputeElement()),s.appendChild(u),s.appendChild(this._createShowRouteExclusionsElement()),this._showRouteExclusionsElement=this._createShowRouteExclusionsPictoElement(),s.appendChild(this._showRouteExclusionsElement);var d=this._createRoutePanelFormExclusionsElement();d.appendChild(this._createRoutePanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(d);var p=this._createRouteFormResetElement();s.appendChild(p);var h=this._createRouteSubmitFormElement();s.appendChild(h),r.appendChild(s);var g=this._resultsRouteContainer=this._createRoutePanelResultsElement();r.appendChild(g);var m=this._waitingContainer=this._createRouteWaitingElement();return r.appendChild(m),o.appendChild(r),o.addEventListener&&o.addEventListener("click",(function(e){return t._hideRouteSuggestedLocations(e)})),o},t.prototype._initTransport=function(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.routeOptions;t.graph&&(this._currentTransport=t.graph)},t.prototype._initComputation=function(){this._currentComputation="fastest";var e=this.options.routeOptions;e.routePreference&&(this._currentComputation=e.routePreference)},t.prototype._initExclusions=function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===Zs(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===Zs(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e[t]&&this._currentExclusions.push(t);var o=this.options.routeOptions;Array.isArray(o.exclusions)&&(this._currentExclusions=o.exclusions)},t.prototype._initPopupDiv=function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var o=document.createElement("input");return o.type="button",o.className="gp-styling-button closer",o.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(o),t},t.prototype._createRoutePanelFormPointsElement=function(e){var t=[],o=1,n=new Ds({apiKey:this.options.apiKey||null,tag:{id:o,groupId:this._uid,markerOpts:this.options.markersOpts.departure,label:"Départ",display:!0},autocompleteOptions:this.options.autocompleteOptions||null});for(n.setMap(e),this._addFormPointsEventListeners(n),t.push(n._container),this._currentPoints.push(n),o=2;o<7;o++){var i=new Ds({apiKey:this.options.apiKey||null,tag:{id:o,groupId:this._uid,label:"Etape",markerOpts:this.options.markersOpts.stages,display:!1,removeOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});i.setMap(e),this._addFormPointsEventListeners(i),t.push(i._container),this._currentPoints.push(i)}var r=new Ds({apiKey:this.options.apiKey||null,tag:{id:o,groupId:this._uid,markerOpts:this.options.markersOpts.arrival,label:"Arrivée",display:!0,addOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});return r.setMap(e),this._addFormPointsEventListeners(r),t.push(r._container),this._currentPoints.push(r),t},t.prototype._addFormPointsEventListeners=function(e){var t=this;e&&(e._inputLabelContainer.addEventListener?(e._inputLabelContainer.addEventListener("click",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.addEventListener("click",(function(o){return t.onRouteOriginPointerClick(o,e)})),e._removePointElement&&e._removePointElement.addEventListener("click",(function(e){Ks.trace("click on _removePointElement",e)})),e._addPointElement&&e._addPointElement.addEventListener("click",(function(e){Ks.trace("click on _addPointElement",e)}))):e._inputLabelContainer.attachEvent&&(e._inputLabelContainer.attachEvent("onclick",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.attachEvent("onclick",(function(o){return t.onRouteOriginPointerClick(o,e)})),e._removePointElement&&e._removePointElement.attachEvent("onclick",(function(e){})),e._addPointElement&&e._addPointElement.attachEvent("onclick",(function(e){}))))},t.prototype.onRouteComputationSubmit=function(e){Ks.log("onRouteComputationSubmit",e);var t,o,n=this._currentPoints;if(n[0]&&n[0].getCoordinate){var i=n[0].getCoordinate();t={x:i[0],y:i[1]},Ks.log("start",t)}var r=n[n.length-1];if(r&&r.getCoordinate){var a=r.getCoordinate();o={x:a[0],y:a[1]},Ks.log("end",o)}for(var s=[],l=1;l<n.length-1;l++)if(n[l]&&n[l].getCoordinate){var c=n[l].getCoordinate();if(c){var u={x:c[0],y:c[1]};Ks.log("step",u),s.push(u)}}this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;var d,p=this.options.routeOptions;p.resource?d=p.resource:"fastest"===this._currentComputation&&"Pieton"===this._currentTransport&&(d="bdtopo-valhalla");var h=p.protocol||"XHR",g=p.timeOut||0;"JSONP"===h&&0===g&&(g=15e3);var m=!(null===p.onFailure||"function"!=typeof p.onFailure),f=!(null===p.onSuccess||"function"!=typeof p.onSuccess),y=this;this._requestRouting({startPoint:t,endPoint:o,viaPoints:s,graph:p.graph||this._currentTransport,routePreference:p.routePreference||this._currentComputation,exclusions:p.exclusions||this._currentExclusions,geometryInInstructions:!0,distanceUnit:"m",timeOut:g,protocol:h,resource:d,onSuccess:function(e){Ks.log(e),e&&y._fillRouteResultsDetails(e),f&&p.onSuccess.call(y,e)},onFailure:function(e){y._hideWaitingContainer(),y._clearRouteResultsDetails(),Ks.log(e.message),m&&p.onFailure.call(y,e)}})},t.prototype.onRouteOriginLabelClick=function(){this._formRouteContainer.className="",Object(Oo.unByKey)(this.listenerKey),this.dispatchEvent("route:drawend")},t.prototype.onRouteOriginPointerClick=function(e,t){var o=this,n=this.getMap();t._inputShowPointerContainer.checked?(this._formRouteContainer.className="GProuteFormMini",this.listenerKey=n.on("click",(function(){"GProuteFormMini"===o._formRouteContainer.className&&(o._formRouteContainer.className=""),Object(Oo.unByKey)(o.listenerKey),o.dispatchEvent("route:drawend")})),this.dispatchEvent("route:drawstart")):(this._formRouteContainer.className="",Object(Oo.unByKey)(this.listenerKey),this.dispatchEvent("route:drawend"))},t.prototype.onShowRoutePanelClick=function(e){var t=this.getMap();Wa.unset(t),this._geojsonSections||this._waiting||this._clear(),this.collapsed=document.getElementById("GPshowRoute-"+this._uid).checked,this.dispatchEvent("change:collapsed")},t.prototype.onRouteModeComputationChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;o&&(Ks.log(o),this._currentComputation=o)},t.prototype.onRouteModeComputationChangeAndRun=function(e){this.onRouteModeComputationChange(e),this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry(),this.onRouteComputationSubmit({computation:this._currentComputation,transport:this._currentTransport,exclusions:this._currentExclusions})},t.prototype.onRouteModeTransportChange=function(e){var t=e.target.value;t&&(this._currentTransport=t)},t.prototype.onShowRouteExclusionsClick=function(e){Ks.log("onShowRouteExclusionsClick",e)},t.prototype.onRouteExclusionsChange=function(e){var t=e.target.value,o=e.target.checked;if(t&&"string"==typeof t){t=t.toLowerCase();for(var n=!1,i=null,r=0;r<this._currentExclusions.length;r++)this._currentExclusions[r]===t&&(i=r,n=!0);n||o||this._currentExclusions.push(t),n&&o&&this._currentExclusions.splice(i,1)}},t.prototype.onRouteResetClick=function(){for(var e=this._currentPoints,t=0;t<e.length;t++)e[t].clear();this._clear(),this._clearRouteInputOptions()},t.prototype.onShowRouteResultsNewClick=function(){this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry()},t.prototype.onRouteResultsDetailsMouseOver=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.add("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections)&&this._geojsonSections.getSource().getFeatureById(parseInt(o,10)).setStyle(this._selectedFeatureStyle)},t.prototype.onRouteResultsDetailsMouseOut=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.remove("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections)&&this._geojsonSections.getSource().getFeatureById(parseInt(o,10)).setStyle(null)},t.prototype._requestRouting=function(e){!e||"object"===Zs(e)&&0===Object.keys(e).length||e.startPoint&&e.endPoint&&(e.apiKey=this.options.routeOptions.apiKey||this.options.apiKey,"boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),Ks.log(e),this._displayWaitingContainer(),st.Services.route(e))},t.prototype._fillRouteResultsDetails=function(e){var t=e.totalDistance,o=e.totalTime,n=this._simplifiedInstructions(e.routeInstructions);n&&this._fillRouteResultsDetailsContainer(t,o,n);var i=e.routeGeometry;i&&this._fillRouteResultsDetailsGeometry(i,this._defaultFeatureStyle),n&&n[0].geometry&&this._fillRouteResultsDetailsFeatureGeometry(n,this._defaultFeatureStyle);var r=e.bbox;if(r){var a=this.getMap(),s=[r.left,r.bottom,r.right,r.top],l=a.getView().getProjection().getCode();"EPSG:4326"!==l&&(s=Object(Co.transformExtent)(s,"EPSG:4326",l)),a.getView().fit(s,a.getSize())}this._currentRouteInformations=e,this.dispatchEvent({type:"route:compute"}),this._formRouteContainer.className="GProuteComponentHidden",this._hideWaitingContainer(),this._resultsRouteContainer.className=""},t.prototype._fillRouteResultsDetailsContainer=function(e,t,o){this._resultsRouteValuesContainer=this._addRouteResultsValuesElement(e,t,this._convertSecondsToTime),this._resultsRouteDetailsContainer=this._addRouteResultsDetailsElement(o,this._convertSecondsToTime)},t.prototype._fillRouteResultsDetailsGeometry=function(e,t){this._clearRouteResultsGeometry();var o=this.getMap();if(e){var n={type:"FeatureCollection",features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e}]},i=new ro({defaultDataProjection:"EPSG:4326",defaultStyle:t}).readFeatures(n,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this._geojsonRoute=new Do.a({source:new u.a({features:i}),style:t}),o.addLayer(this._geojsonRoute)}},t.prototype._fillRouteResultsDetailsFeatureGeometry=function(e,t){var o=this;this._clearRouteResultsFeatureGeometry();var n=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[]};for(var i=0;i<e.length;i++){for(var r=e[i],a=i+1,s=r.geometry.coordinates,l=0;l<s.length;l++)"string"==typeof s[l][0]&&(s[l][0]=parseFloat(s[l][0]),s[l][1]=parseFloat(s[l][1]));this._geojsonObject.features.push({type:"Feature",geometry:r.geometry,properties:{popupContent:"("+a+") distance : "+this._convertDistance(r.distance)+" / temps : "+this._convertSecondsToTime(r.duration)},id:a})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[0].getCoordinate()},properties:{description:"Point de départ","marker-symbol":this.options.markersOpts.departure.url}});for(var c=1;c<this._currentPoints.length-1;c++)if(this._currentPoints[c]&&this._currentPoints[c].getCoordinate){var d=this._currentPoints[c].getCoordinate();d&&this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:{description:"Point d'étape","marker-symbol":this.options.markersOpts.stages.url}})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[this._currentPoints.length-1].getCoordinate()},properties:{description:"Point d'arrivée","marker-symbol":this.options.markersOpts.arrival.url}});var p,h=new ro({defaultDataProjection:"EPSG:4326",defaultStyle:t}),g=this.getMap().getView().getProjection().getCode(),m=h.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:g});this._geojsonSections=new Do.a({source:new u.a({features:m}),style:t,opacity:.9}),"Pieton"===this._currentTransport?(p="piéton",this._geojsonSections.gpResultLayerId="Pieton$OGC:OPENLS;Itineraire"):(p="voiture",this._geojsonSections.gpResultLayerId="Voiture$OGC:OPENLS;Itineraire"),n.addLayer(this._geojsonSections),n.getControls().forEach((function(e){if(e instanceof ja){var t=o._geojsonSections.gpLayerId;e._layers[t].title===t&&e.addLayer(o._geojsonSections,{title:o.options.layerDescription.title+" ("+p+")",description:o.options.layerDescription.description})}}),this),this._resultsHoverInteraction=new y.Select({condition:Es.pointerMove,layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsHoverInteraction.on("select",(function(e){return o._onResultsFeatureMouseOver(e)})),n.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new y.Select({layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsSelectInteraction.on("select",(function(e){return o._onResultsFeatureSelect(e)})),n.addInteraction(this._resultsSelectInteraction)},t.prototype._onResultsFeatureMouseOver=function(e){if(0!==e.selected.length){var t=e.selected[0],o=document.getElementById("GProuteResultsDetailsInstruction_"+t.getId()+"-"+this._uid);o&&o.classList&&o.classList.add("GProuteResultsDetailsInstructionHighlight")}if(0!==e.deselected.length){var n=e.deselected[0],i=document.getElementById("GProuteResultsDetailsInstruction_"+n.getId()+"-"+this._uid);i&&i.classList&&i.classList.remove("GProuteResultsDetailsInstructionHighlight")}},t.prototype._onResultsFeatureSelect=function(e){var t=this.getMap();if(0!==e.selected.length){var o=e.selected[0];this._popupContent.innerHTML=o.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new a.a({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay))}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)},t.prototype._clear=function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null,this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry();for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations()},t.prototype._clearRouteInputOptions=function(){var e;this._initTransport(),this._initComputation(),this._initExclusions(),"Pieton"===this._currentTransport?(e=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(e.checked="true"):(e=document.getElementById("GProuteTransportCar-"+this._uid))&&(e.checked="true");var t=document.getElementById("GProuteComputationSelect-"+this._uid);t&&(t.value=this._currentComputation);var o=document.getElementById("GProuteExclusionsToll-"+this._uid);o&&(-1!==this._currentExclusions.indexOf("toll")?o.checked=!1:o.checked=!0);var n=document.getElementById("GProuteExclusionsTunnel-"+this._uid);n&&(-1!==this._currentExclusions.indexOf("tunnel")?n.checked=!1:n.checked=!0);var i=document.getElementById("GProuteExclusionsBridge-"+this._uid);i&&(-1!==this._currentExclusions.indexOf("bridge")?i.checked=!1:i.checked=!0)},t.prototype._removeRouteStepLocations=function(){var e=document.querySelectorAll('div[id^="GPlocationPoint"]');if(0!==e.length){for(var t=[],o=0;o<e.length;o++)-1!==e[o].id.indexOf(this._uid)&&t.push(e[o]);for(var n=1;n<t.length-1;n++){var i=t[n].classList;if(0!==i.length)for(var r=0;r<i.length;r++)"GPlocationStageFlexInput"===i[r]&&document.getElementById(this._addUID("GPlocationStageRemove_"+(n+1))).click()}}},t.prototype._clearRouteResultsDetails=function(){if(this._currentRouteInformations=null,this._resultsRouteDetailsContainer){var e=this._resultsRouteDetailsContainer;if(e.childElementCount)for(;e.firstChild;)e.removeChild(e.firstChild)}if(this._resultsRouteValuesContainer){var t=this._resultsRouteValuesContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild)}},t.prototype._clearRouteResultsGeometry=function(){var e=this.getMap();null!=this._geojsonRoute&&(e.removeLayer(this._geojsonRoute),this._geojsonRoute=null)},t.prototype._clearRouteResultsFeatureGeometry=function(){var e=this.getMap();null!=this._geojsonSections&&(e.removeLayer(this._geojsonSections),this._geojsonSections=null,this._geojsonObject=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)},t.prototype._hideRouteSuggestedLocations=function(e){if(e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_"))for(var t=parseInt(e.target.id.split("_")[1][0],10)-1,o=0;o<this._currentPoints.length;o++)o!==parseInt(t,10)&&this._currentPoints[o]._hideSuggestedLocation();else for(var n=0;n<this._currentPoints.length;n++)this._currentPoints[n]._hideSuggestedLocation()},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GProuteCalcWaitingContainerVisible",this._waiting=!0;var e=this.options.routeOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}},t.prototype._hideWaitingContainer=function(){if(this._waiting){this._waitingContainer.className="GProuteCalcWaitingContainerHidden",this._waiting=!1;var e=this.options.routeOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}},t.prototype._simplifiedInstructions=function(e){var t=[],o=e[0];1===e.length&&t.push(o);for(var n=1;n<e.length;n++){var i=e[n];if(i.instruction===o.instruction){o.distance=(parseFloat(i.distance)+parseFloat(o.distance)).toString(),o.duration=(parseFloat(i.duration)+parseFloat(o.duration)).toString();for(var r=1;r<i.geometry.coordinates.length;r++)o.geometry.coordinates.push(i.geometry.coordinates[r])}else t.push(o),o=i,n===e.length-1&&(t.push(i),o=null)}return Ks.log(t),t},t.prototype._convertSecondsToTime=function(e){var t="";e=Math.round(e);var o=Math.floor(e/3600),n=e%3600;return o&&(t=o+"h "),t+=Math.floor(n/60)+" min"},t.prototype._convertDistance=function(e){var t=parseInt(e/1e3,10);return t?t+" km":parseInt(e,10)+" m"},t}(xi.a),Qs=Xs;window.ol&&window.ol.control&&(window.ol.control.Route=Xs);var $s={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochron"),e.className="GPwidget",e},_createShowIsoElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowIsochron"),e.type="checkbox",e},_createShowIsoPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowIsochronPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowIsochron"),t.title="Calculer une isochrone",t.addEventListener?t.addEventListener("click",(function(t){e.onShowIsoPanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowIsoPanelClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowIsochronOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createIsoPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronPanel"),e.className="GPpanel",e},_createIsoPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Calcul d'isochrone",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GPisochronPanelClose"),n.className="GPpanelClose",n.title="Fermer le panneau",n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()})),t.appendChild(n),t},_createIsoPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPisochronForm"),t.addEventListener("submit",(function(t){return t.preventDefault(),e.onIsoComputationSubmit(t),!1})),t},_createIsoWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisochronCalcWaitingContainer"),e.className="GPisochronCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GPisochronCalcWaiting",t.innerHTML="Calcul en cours...",e.appendChild(t),e},_createIsoPanelFormTypeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronChoice"),e},_createIsoPanelFormTypeChoiceChronElement:function(e){var t=this,o=document.createElement("div");o.className="GPisochronChoiceAlt";var n=document.createElement("input");n.id=this._addUID("GPisochronChoiceAltChron"),n.name="GPisochronChoiceMode",n.type="radio",n.checked=!!e,n.addEventListener?n.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueDist")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange(e)}),!1):n.attachEvent&&n.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueDist")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange()})),n.value="isochron",o.appendChild(n);var i=document.createElement("label");i.className="GPisochronChoiceAltImg",i.htmlFor=this._addUID("GPisochronChoiceAltChron"),o.appendChild(i);var r=document.createElement("span");return r.id=this._addUID("GPisochronChoiceAltChronTxt"),r.innerHTML="isochrone",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()})),o.appendChild(r),o},_createIsoPanelFormTypeChoiceDistElement:function(e){var t=this,o=document.createElement("div");o.className="GPisochronChoiceAlt";var n=document.createElement("input");n.id=this._addUID("GPisochronChoiceAltDist"),n.name="GPisochronChoiceMode",n.type="radio",n.checked=!!e,n.addEventListener?n.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueChron")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange(e)}),!1):n.attachEvent&&n.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueChron")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange()})),n.value="isodistance",o.appendChild(n);var i=document.createElement("label");i.className="GPisochronChoiceAltImg",i.htmlFor=this._addUID("GPisochronChoiceAltDist"),o.appendChild(i);var r=document.createElement("span");return r.id=this._addUID("GPisochronChoiceAltDistTxt"),r.innerHTML="isodistance",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()})),o.appendChild(r),o},_createIsoPanelFormValueIsochronElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronValueChron"),o.className=e?"GPflexInput":"GPisochronValueHidden";var n=document.createElement("label");n.id=this._addUID("GPisochronValueChronLabel"),n.htmlFor=this._addUID("GPisochronValueChronInput"),n.innerHTML="Temps",o.appendChild(n);var i=document.createElement("input");i.id=this._addUID("GPisochronValueChronInput1"),i.min="0",i.step="1",i.value="0",i.type="number",i.addEventListener?i.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})),o.appendChild(i);var r=document.createElement("label");r.innerHTML="h",o.appendChild(r);var a=document.createElement("input");a.id=this._addUID("GPisochronValueChronInput2"),a.min="0",a.max="59",a.step="1",a.value="0",a.type="number",a.addEventListener?a.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})),o.appendChild(a);var s=document.createElement("label");return s.innerHTML="min",o.appendChild(s),o},_createIsoPanelFormValueIsodistanceElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronValueDist"),o.className=e?"GPflexInput":"GPisochronValueHidden";var n=document.createElement("label");n.id=this._addUID("GPisochronValueDistLabel"),n.htmlFor=this._addUID("GPisochronValueDistInput"),n.innerHTML="Distance",o.appendChild(n);var i=document.createElement("input");i.id=this._addUID("GPisochronValueDistInput"),i.min="0",i.step="any",i.value="0",i.type="number",i.addEventListener?i.addEventListener("change",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})),o.appendChild(i);var r=document.createElement("label");return r.innerHTML="km",o.appendChild(r),o},_createIsoPanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronModeChoice"),e},_createIsoPanelFormModeChoiceTransportElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronTransportChoice");var n=document.createElement("span");n.className="GPisochronModeLabel",n.innerHTML="Mode de transport",o.appendChild(n);for(var i=0;i<e.length;i++){var r=e[i];if("Voiture"===r){var a=document.createElement("input");a.id=this._addUID("GPisochronTransportCar"),a.type="radio",a.name="GPisochronTransport",0===i&&(a.checked=!0),a.addEventListener?a.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),a.value="Voiture",o.appendChild(a);var s=document.createElement("label");s.className="GPisochronTransportImg",s.htmlFor=this._addUID("GPisochronTransportCar"),s.title="Voiture",o.appendChild(s)}if("Pieton"===r){var l=document.createElement("input");l.id=this._addUID("GPisochronTransportPedestrian"),l.type="radio",l.name="GPisochronTransport",0===i&&(l.checked=!0),l.addEventListener?l.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):l.attachEvent&&l.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),l.value="Pieton",o.appendChild(l);var c=document.createElement("label");c.className="GPisochronTransportImg",c.htmlFor=this._addUID("GPisochronTransportPedestrian"),c.title="Piéton",o.appendChild(c)}}return o},_createIsoPanelFormModeChoiceDirectionElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronDirectionChoice");var n=document.createElement("span");n.className="GPisochronModeLabel",n.innerHTML="Sens de parcours",o.appendChild(n);var i=document.createElement("select");i.id=this._addUID("GPisochronDirectionSelect"),i.className="GPinputSelect",i.addEventListener("change",(function(e){t.onIsoModeDirectionChange(e)}));for(var r=0;r<e.length;r++){var a=e[r];if("departure"===a.toLowerCase()){var s=document.createElement("option");0===r&&(s.selected="selected"),s.value="departure",s.text="Départ",i.appendChild(s)}if("arrival"===a.toLowerCase()){var l=document.createElement("option");0===r&&(l.selected="selected"),l.value="arrival",l.text="Arrivée",i.appendChild(l)}}return o.appendChild(i),o},_createShowIsoExclusionsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowIsoExclusions"),e.type="checkbox",e},_createShowIsoExclusionsPictoElement:function(){var e=document.createElement("label");return e.id=this._addUID("GPshowIsoExclusionsPicto"),e.className="GPshowMoreOptionsImage GPshowMoreOptions GPshowIsoExclusionsPicto",e.htmlFor=this._addUID("GPshowIsoExclusions"),e.title="Exclusions",e.style.top="240px",e},_createIsoPanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisoExclusions");var t=document.createElement("span");return t.className="GPisoExclusionsLabel",t.innerHTML="Passages autorisés",e.appendChild(t),e},_createIsoPanelFormExclusionOptionsElement:function(e){var t=this,o=document.createElement("div");for(var n in o.className="GPisoExclusionsOptions",e)if(e.hasOwnProperty(n)){var i=e[n];switch(n){case"toll":var r=document.createElement("input");r.id=this._addUID("GPisoExclusionsToll"),r.type="checkbox",r.checked=!i,r.addEventListener?r.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),r.value="Toll",o.appendChild(r);var a=document.createElement("label");a.className="GPisoExclusionsOption",a.htmlFor=this._addUID("GPisoExclusionsToll"),a.innerHTML="Péages",o.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GPisoExclusionsTunnel"),s.type="checkbox",s.checked=!i,s.addEventListener?s.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),s.value="Tunnel",o.appendChild(s);var l=document.createElement("label");l.className="GPisoExclusionsOption",l.htmlFor=this._addUID("GPisoExclusionsTunnel"),l.innerHTML="Tunnels",o.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GPisoExclusionsBridge"),c.type="checkbox",c.checked=!i,c.addEventListener?c.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),c.value="Bridge",o.appendChild(c);var u=document.createElement("label");u.className="GPisoExclusionsOption",u.htmlFor=this._addUID("GPisoExclusionsBridge"),u.innerHTML="Ponts",o.appendChild(u)}}return o},_createIsoSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPisochronSubmit"),e.className="GPinputSubmit",e.type="submit",e.value="Calculer",e},_createIsoFormResetElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPisochronReset"),t.title="Réinitialiser les paramètres",t.addEventListener("click",(function(t){e.onIsoResetClick(t)})),t}};function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tl=lt.getLogger("isocurve"),ol=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._createMainContainerElement(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,$s),t.prototype.constructor=t,t.prototype.setMap=function(t){if(t){if(this._container=this._initContainer(t),this.options.export){var o=qt.assign({control:this},this.options.export);this.export=new Hs(o),this.export.render();var n=this;this.export.on("export:compute",(function(e){n.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&ts.dragElement(this._IsoPanelContainer,this._IsoPanelHeaderContainer,t.getTargetElement())}e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPisochronPanelClose-"+this._uid).click():document.getElementById("GPshowIsochronPicto-"+this._uid).click(),this.collapsed=e):tl.log("[ERROR] Isocurve:setCollapsed - missing collapsed parameter")},t.prototype.getLayer=function(){return this._geojsonLayer},t.prototype.setLayer=function(e){e?e instanceof Do.a?(e.setStyle(this._defaultFeatureStyle),this._geojsonLayer=e):tl.log("no valid layer given for hosting drawn features."):this._geojsonLayer=null},t.prototype.getGeoJSON=function(){return JSON.stringify(this._geojsonObject)},t.prototype.setGeoJSON=function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){tl.log("no valid geojson given :"+e.message)}},t.prototype.getData=function(){var e={type:"isocurve",transport:this._currentTransport,computation:this._currentComputation,exclusions:this._currentExclusions,direction:this._currentDirection,point:this._originPoint.getCoordinate(),results:{}};return qt.assign(e.results,this._currentIsoResults),e},t.prototype.setData=function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions,this._currentDirection=e.direction,document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!0,document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",this._originPoint.setCoordinate(e.point,"EPSG:4326"),this._currentIsoResults=e.results},t.prototype.getContainer=function(){return this._container},t.prototype.getStyle=function(){return this._defaultFeatureStyle},t.prototype.compute=function(e,t,o){if(this._clear(),this._showIsoContainer.checked||this._pictoIsoContainer.click(),this.getMap()){var n={direction:"departure",method:"time",transport:"Voiture",exclusions:[]};qt.assign(n,o),this._originPoint.setCoordinate(e);var i=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=i[0].toFixed(4)+" / "+i[1].toFixed(4),this._currentTransport=n.transport,"Voiture"===n.transport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,this._currentExclusions=n.exclusions,this._currentComputation=n.method,"time"===n.method){var r=t.split(".");this._currentTimeHour=r[0]||0,document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=r[1]||0,document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=t,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();this._currentDirection=n.direction,document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex="departure"===n.direction?0:1,this.onIsoComputationSubmit()}},t.prototype.init=function(){var e=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=e[1].toFixed(4)+" / "+e[0].toFixed(4),"Voiture"===this._currentTransport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,"time"===this._currentComputation){var t=this._currentIsoResults.time/60;this._currentTimeHour=Math.floor(t/60),document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=Math.round(60*(t/60-this._currentTimeHour)),document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=this._currentIsoResults.distance/1e3,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();"departure"===this._currentDirection?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1},t.prototype.clean=function(){this._clearIsoInputs(),this._originPoint.clearResults(),document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",document.getElementById("GPlocationOrigin_1-"+this._uid).value="",document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!1,document.getElementById("GPlocationOrigin_1-"+this._uid).className="GPlocationOriginVisible",document.getElementById("GPlocationOriginCoords_1-"+this._uid).className="GPlocationOriginHidden",this._currentIsoResults=null,this.setLayer()},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,methods:["time","distance"],graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},directions:["departure","arrival"],markerOpts:{url:At.lightOrange,offset:At.defaultOffset},isocurveOptions:{},autocompleteOptions:{},layerDescription:{title:"Isochrone/Isodistance",description:"isochrone/isodistance basé sur un graphe"}},qt.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Pi.generate(),this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._currentDirection=null,this._initDirection(),this._originPoint=null,this._showIsoContainer=null,this._pictoIsoContainer=null,this._waitingContainer=null,this._formContainer=null,this._IsoPanelContainer=null,this._IsoPanelHeaderContainer=null,this._currentIsoResults=null,this._geojsonLayer=null,this._geojsonObject=null,this.export=null,this._waiting=!1,this._timer=null,this._defaultFeatureStyle=new ft.Style({fill:new ft.Fill({color:"rgba(0, 183, 152, 0.7)"}),stroke:new ft.Stroke({color:"rgba(0, 183, 152, 0)",width:1})}),this._resources={},this.listenerKey=null},t.prototype._checkInputOptions=function(e){var t;if(e.methods)if(Array.isArray(e.methods))if(0===e.methods.length)e.methods=null;else for(t=0;t<e.methods.length;t++)"string"!=typeof e.methods[t]&&tl.log("[ol.control.Isocurve] ERROR : parameter 'methods' elements should be of type 'string'");else tl.warn("'methods' parameter should be an array"),e.methods=null;if(e.graphs)if(Array.isArray(e.graphs))if(0===e.graphs.length)e.graphs=null;else for(t=0;t<e.graphs.length;t++)"string"!=typeof e.graphs[t]?tl.log("[ol.control.Isocurve] ERROR : parameter 'graphs' elements should be of type 'string'"):("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture"));else tl.warn("'graphs' parameter should be an array"),e.graphs=null;if(e.directions)if(Array.isArray(e.directions))if(0===e.directions.length)e.directions=null;else for(t=0;t<e.directions.length;t++)"string"!=typeof e.directions[t]&&tl.log("[ol.control.Isocurve] ERROR : parameter 'directions' elements should be of type 'string'");else tl.warn("'directions' parameter should be an array"),e.directions=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)},t.prototype._initTransport=function(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.isocurveOptions;t.graph&&(this._currentTransport=t.graph)},t.prototype._initComputation=function(){this._currentComputation="time";var e=this.options.methods;e&&0!==e.length||(this.options.methods=["time","distance"]),Array.isArray(e)&&e.length&&("time"!==e[0]&&"distance"!==e[0]||(this._currentComputation=e[0]));var t=this.options.isocurveOptions;t.method&&(this._currentComputation=t.method),t.time&&(this._currentComputation="time"),t.distance&&(this._currentComputation="distance")},t.prototype._initDirection=function(){this._currentDirection="departure";var e=this.options.directions;e&&0!==e.length||(this.options.directions=["departure","arrival"]),Array.isArray(e)&&e.length&&("departure"!==e[0]&&"arrival"!==e[0]||(this._currentDirection=e[0]));var t=this.options.isocurveOptions;t.reverse||(this._currentDirection="departure"),!0===t.reverse&&(this._currentDirection="arrival",this.options.directions=["arrival","departure"])},t.prototype._initExclusions=function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===el(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===el(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e.k&&this._currentExclusions.push(t);var o=this.options.isocurveOptions;Array.isArray(o.exclusions)&&(this._currentExclusions=o.exclusions)},t.prototype._initContainer=function(e){var t=this,o=this._container,n=this._showIsoContainer=this._createShowIsoElement();o.appendChild(n),this.collapsed||(n.checked=!0);var i=this._pictoIsoContainer=this._createShowIsoPictoElement();o.appendChild(i);var r=this._IsoPanelContainer=this._createIsoPanelElement(),a=this._IsoPanelHeaderContainer=this._createIsoPanelHeaderElement();r.appendChild(a);var s=this._formContainer=this._createIsoPanelFormElement(),l=this._createIsoPanelFormPointElement(e);s.appendChild(l);for(var c=!1,u=!1,d=this._createIsoPanelFormTypeChoiceElement(),p=0;p<this.options.methods.length;p++)"time"===this.options.methods[p]&&(c=0===p,d.appendChild(this._createIsoPanelFormTypeChoiceChronElement(c))),"distance"===this.options.methods[p]&&(u=0===p,d.appendChild(this._createIsoPanelFormTypeChoiceDistElement(u)));s.appendChild(d),s.appendChild(this._createIsoPanelFormValueIsochronElement(c)),s.appendChild(this._createIsoPanelFormValueIsodistanceElement(u));var h=this._createIsoPanelFormModeChoiceElement();if(h.appendChild(this._createIsoPanelFormModeChoiceTransportElement(this.options.graphs)),h.appendChild(this._createIsoPanelFormModeChoiceDirectionElement(this.options.directions)),s.appendChild(h),this.options.exclusions&&"object"===el(this.options.exclusions)&&0!==Object.keys(this.options.exclusions).length){s.appendChild(this._createShowIsoExclusionsElement()),s.appendChild(this._createShowIsoExclusionsPictoElement());var g=this._createIsoPanelFormExclusionsElement();g.appendChild(this._createIsoPanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(g)}var m=this._createIsoFormResetElement();s.appendChild(m);var f=this._submitContainer=this._createIsoSubmitFormElement();s.appendChild(f),r.appendChild(s);var y=this._waitingContainer=this._createIsoWaitingElement();return r.appendChild(y),o.appendChild(r),o.addEventListener&&o.addEventListener("click",(function(e){return t._hideIsoSuggestedLocations(e)})),o},t.prototype._createIsoPanelFormPointElement=function(e){this._originPoint=new Ds({apiKey:this.options.apiKey||null,tag:{id:1,groupId:this._uid,markerOpts:this.options.markerOpts,label:"Départ",display:!0},autocompleteOptions:this.options.autocompleteOptions||null}),this._originPoint.setMap(e);var t=this;return document.getElementById("GPlocationOriginPointerImg_1-"+this._uid).onclick=function(){t._clearGeojsonLayer();var e=t.getMap();t._originPoint._inputShowPointerContainer.checked?(t._formContainer.className="GPisochronFormMini",this.listenerKey=e.on("click",(function(){t._formContainer.className="",t.dispatchEvent("isocurve:drawend")}))):(t._formContainer.className="",Object(Oo.unByKey)(this.listenerKey)),t.dispatchEvent("isocurve:drawstart")},document.getElementById("GPlocationOriginLabel_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t._formContainer.className="",e.un("click",(function(){t._formContainer.className=""})),t.dispatchEvent("isocurve:drawend")},document.getElementById("GPlocationOrigin_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t.dispatchEvent("isocurve:drawend")},this._originPoint._container},t.prototype.onIsoComputationSubmit=function(){if(this._originPoint&&this._originPoint.getCoordinate&&this._originPoint.getCoordinate()){var e,t,o=this._originPoint.getCoordinate(),n={x:o[0],y:o[1]};if(tl.log("origin : ",n),"time"===this._currentComputation.toLowerCase()){var i=document.getElementById("GPisochronValueChronInput1-"+this._uid),r=parseInt(i.value,10);isNaN&&isNaN(r)&&(r=0);var a=document.getElementById("GPisochronValueChronInput2-"+this._uid),s=parseInt(a.value,10);isNaN&&isNaN(s)&&(s=0),e=3600*r+60*s,tl.log("time : "+e)}if("distance"===this._currentComputation.toLowerCase()){var l=document.getElementById("GPisochronValueDistInput-"+this._uid);t=1e3*parseFloat(l.value),tl.log("distance : "+t)}if(e||t){var c=this.options.isocurveOptions||{},u=c.protocol||"XHR",d=c.timeOut||0;"JSONP"===u&&0===d&&(d=15e3);var p=!(null===c.onFailure||"function"!=typeof c.onFailure),h=!(null===c.onSuccess||"function"!=typeof c.onSuccess),g=this,m={position:n,graph:c.graph||this._currentTransport,exclusions:c.exclusions||this._currentExclusions,method:c.method||this._currentComputation,smoothing:c.smoothing||!0,timeOut:d,protocol:u,resource:c.resource,onSuccess:function(e){tl.log(e),e&&g._drawIsoResults(e),h&&c.onSuccess.call(g,e)},onFailure:function(e){g._hideWaitingContainer(),tl.log(e.message),p&&c.onFailure.call(g,e)}};("arrival"===this._currentDirection.toLowerCase()||c.reverse)&&(m.reverse=!0),e&&(m.time=e),t&&(m.distance=t),this._requestIsoCurve(m)}else tl.log("[Isocurve] Missing time or distance parameter to submit isocurve request")}else tl.log("[Isocurve] Missing position parameter to submit isocurve request")},t.prototype.onShowIsoPanelClick=function(){var e=this.getMap();Wa.unset(e),this.collapsed=this._showIsoContainer.checked,this.dispatchEvent("change:collapsed")},t.prototype.onIsoTypeChoiceChange=function(e){var t=e.target.value;t&&("isodistance"===t&&(this._currentComputation="distance"),"isochron"===t&&(this._currentComputation="time"))},t.prototype.onIsoModeTransportChange=function(e){var t=e.target.value;t&&(this._currentTransport=t)},t.prototype.onIsoModeDirectionChange=function(e){var t=e.target.value;t&&("arrival"===t.toLowerCase()?this._originPoint._inputLabelContainer.innerHTML="Arrivée":this._originPoint._inputLabelContainer.innerHTML="Départ",this._currentDirection=t)},t.prototype.onIsoExclusionsChange=function(e){var t=e.target.value,o=e.target.checked;if(t){for(var n=!1,i=null,r=0;r<this._currentExclusions.length;r++)il(this._currentExclusions[r],t.toLowerCase())&&(i=r,n=!0);n||o||this._currentExclusions.push(t.toLowerCase()),n&&o&&(this._currentExclusions[i]=null)}},t.prototype.onIsoResetClick=function(){this._clear()},t.prototype._requestIsoCurve=function(e){!e||"object"===el(e)&&0===Object.keys(e).length||e.position&&("boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),tl.log(e),this._clearGeojsonLayer(),this._displayWaitingContainer(),st.Services.isoCurve(e))},t.prototype._drawIsoResults=function(e){var t=this;if(this._currentIsoResults=e,this._hideWaitingContainer(),e.geometry){var o=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e.geometry}]},this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._originPoint.getCoordinate()},properties:{description:"Point d'origine","marker-symbol":this.options.markerOpts.url}});var n,i=new ro({defaultDataProjection:"EPSG:4326",defaultStyle:this._defaultFeatureStyle}),r=o.getView().getProjection().getCode(),a=i.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:r});if(this._geojsonLayer=new Do.a({source:new u.a({features:a}),style:this._defaultFeatureStyle,opacity:.9}),"Pieton"===this._currentTransport?(n="piéton",this._geojsonLayer.gpResultLayerId="Pieton$GEOPORTAIL:GPP:Isocurve"):(n="voiture",this._geojsonLayer.gpResultLayerId="Voiture$GEOPORTAIL:GPP:Isocurve"),o.addLayer(this._geojsonLayer),this.dispatchEvent({type:"isocurve:compute"}),a[0]&&a[0].getGeometry()&&a[0].getGeometry().getExtent()){var s=a[0].getGeometry().getExtent();o.getView().fit(s,o.getSize())}var l="time"===this._currentComputation?"Isochrone":"Isodistance";o.getControls().forEach((function(e){if(e instanceof ja){var o=t._geojsonLayer.gpLayerId;e._layers[o].title===o&&e.addLayer(t._geojsonLayer,{title:t.options.layerDescription.title+" ("+l+"/"+n+")",description:t.options.layerDescription.description})}}))}},t.prototype._clear=function(){this._clearIsoInputs(),this._originPoint.clear(),this._clearGeojsonLayer(),this._currentIsoResults=null},t.prototype._clearIsoInputs=function(){var e=document.getElementById("GPisochronValueChronInput1-"+this._uid);e&&(e.value="0");var t=document.getElementById("GPisochronValueChronInput2-"+this._uid);t&&(t.value="0");var o,n,i=document.getElementById("GPisochronValueDistInput-"+this._uid);i&&(i.value="0"),this._initTransport(),this._initComputation(),this._initDirection(),this._initExclusions(),"Pieton"===this._currentTransport?(o=document.getElementById("GPisochronTransportPedestrian-"+this._uid))&&(o.checked="true"):(o=document.getElementById("GPisochronTransportCar-"+this._uid))&&(o.checked="true"),"distance"===this._currentComputation.toLowerCase()?((n=document.getElementById("GPisochronChoiceAltDist-"+this._uid))&&(n.checked="true"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPflexInput"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPisochronValueHidden")):((n=document.getElementById("GPisochronChoiceAltChron-"+this._uid))&&(n.checked="true"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPflexInput"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPisochronValueHidden"));var r=document.getElementById("GPisochronDirectionSelect-"+this._uid);r&&(r.value=this._currentDirection),"arrival"===this._currentDirection?this._originPoint._inputLabelContainer.innerHTML="Arrivée":this._originPoint._inputLabelContainer.innerHTML="Départ";var a=document.getElementById("GPisoExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GPisoExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GPisoExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0)},t.prototype._clearGeojsonLayer=function(){var e=this.getMap();this._geojsonLayer&&(e.removeLayer(this._geojsonLayer),this._geojsonLayer=null),this._geojsonObject=null},t.prototype._hideIsoSuggestedLocations=function(e){e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_")||this._originPoint._hideSuggestedLocation()},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GPisochronCalcWaitingContainerVisible",this._waiting=!0;var e=this.options.isocurveOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}},t.prototype._hideWaitingContainer=function(){if(this._waiting){this._waitingContainer.className="GPisochronCalcWaitingContainerHidden",this._waiting=!1;var e=this.options.isocurveOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}},t}(xi.a),nl=ol;window.ol&&window.ol.control&&(window.ol.control.Isocurve=ol);var il=function e(t,o){if(t===o)return!0;if("object"===el(t)&&null!=t&&"object"===el(o)&&null!=o){if(Object.keys(t).length!==Object.keys(o).length)return!1;for(var n in t){if(!o.hasOwnProperty(n))return!1;if(!e(t[n],o[n]))return!1}return!0}return!1},rl={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocoding"),e.className="GPwidget",e},_createShowReverseGeocodingElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowReverseGeocoding"),e.type="checkbox",e},_createShowReverseGeocodingPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowReverseGeocodingPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowReverseGeocoding"),t.title="Ouvrir la recherche inverse",t.addEventListener?t.addEventListener("click",(function(){e.onShowReverseGeocodingClick()})):t.attachEvent&&t.attachEvent("onclick",(function(){e.onShowReverseGeocodingClick()}));var o=document.createElement("span");return o.id=this._addUID("GPshowReverseGeocodingOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createReverseGeocodingWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPreverseGeocodingCalcWaitingContainer"),e.className="GPreverseGeocodingCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GPreverseGeocodingCalcWaiting",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createReverseGeocodingResultsPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsPanel"),e.className="GPpanel GPreverseGeocodingComponentHidden",e},_createReverseGeocodingResultsListElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsList"),e},_createReverseGeocodingResultElement:function(e,t){var o=this,n=document.getElementById(this._addUID("GPreverseGeocodingResultsList")),i=document.createElement("div");i.id=this._addUID("ReverseGeocodedLocation_"+t),i.className="GPautoCompleteProposal",i.innerHTML=e,i.title=e,i.addEventListener?(i.addEventListener("mouseover",(function(e){o.onReverseGeocodingResultMouseOver(e)})),i.addEventListener("mouseout",(function(e){o.onReverseGeocodingResultMouseOut(e)})),i.addEventListener("click",(function(e){"function"==typeof o.onReverseGeocodingResultClick&&o.onReverseGeocodingResultClick(e)}))):i.attachEvent&&(i.attachEvent("onmouseover",(function(e){o.onReverseGeocodingResultMouseOver(e)})),i.attachEvent("onmouseout",(function(e){o.onReverseGeocodingResultMouseOut(e)})),i.attachEvent("onclick",(function(e){"function"==typeof o.onReverseGeocodingResultClick&&o.onReverseGeocodingResultClick(e)}))),n.appendChild(i)},_createReverseGeocodingPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingPanel"),e.className="GPpanel",e},_createReverseGeocodingPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader",e},_createReverseGeocodingPanelReturnPictoElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPreverseGeocodingReturnPicto"),t.title="Nouvelle recherche",t.className="GPreverseGeocodingReturnPictoHidden",t.addEventListener?t.addEventListener("click",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GProuteComponentHidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).className="GPreverseGeocodingReturnPictoHidden",e.onGPreverseGeocodingReturnPictoClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GProuteComponentHidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).className="GPreverseGeocodingReturnPictoHidden",e.onGPreverseGeocodingReturnPictoClick(t)})),t},_createReverseGeocodingPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle",e.id=this._addUID("GPreverseGeocodingHeaderTitle"),e.innerHTML="Recherche inverse",e},_createReverseGeocodingPanelCloseElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPreverseGeocodingPanelClose"),t.className="GPpanelClose",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()})),t},_createReverseGeocodingPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPreverseGeocodingForm"),t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})),t},_createReverseGeocodingFormModeChoiceGeocodingTypeElement:function(e){var t=this,o=document.createElement("div");o.className="GPflexInput";var n=document.createElement("label");n.className="GPreverseGeocodingCodeLabel",n.innerHTML="Recherche par",n.title="Recherche par",o.appendChild(n);var i=document.createElement("select");i.className="GPreverseGeocodingCode",i.addEventListener?i.addEventListener("change",(function(e){t.onReverseGeocodingTypeChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){t.onReverseGeocodingTypeChange(e)})),e&&Array.isArray(e)||(e=["StreetAddress","PositionOfInterest","CadastralParcel"]);for(var r=0;r<e.length;r++)switch(e[r]){case"PositionOfInterest":var a=document.createElement("option");a.value="PositionOfInterest",a.text="Lieux/toponymes",i.appendChild(a);break;case"StreetAddress":var s=document.createElement("option");s.value="StreetAddress",s.text="Adresses",i.appendChild(s);break;case"CadastralParcel":var l=document.createElement("option");l.value="CadastralParcel",l.text="Parcelles cadastrales",i.appendChild(l)}return o.appendChild(i),o},_createReverseGeocodingFormModeChoiceGeocodingDelimitationElement:function(e){var t=this,o=document.createElement("div");o.className="GPflexInput";var n=document.createElement("label");n.className="GPreverseGeocodingCodeLabel",n.innerHTML="Délimitation",n.title="Délimitation",o.appendChild(n);var i=document.createElement("select");i.className="GPreverseGeocodingCode",i.addEventListener?i.addEventListener("change",(function(e){t.onReverseGeocodingDelimitationChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){t.onReverseGeocodingDelimitationChange(e)})),e&&Array.isArray(e)||(e=["Point","Circle","Extent"]);for(var r=0;r<e.length;r++)switch(e[r].toLowerCase()){case"point":var a=document.createElement("option");a.value="point",a.text="Pointer un lieu",i.appendChild(a);break;case"circle":var s=document.createElement("option");s.value="circle",s.text="Dessiner un cercle",i.appendChild(s);break;case"extent":var l=document.createElement("option");l.value="extent",l.text="Dessiner une emprise",i.appendChild(l)}return o.appendChild(i),o},_createReverseGeocodingSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPreverseGeocodingSubmit"),e.className="GPinputSubmit",e.type="submit",e.value="Rechercher",e}},al=lt.getLogger("reversegeocoding"),sl=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._initContainer(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,rl),t.prototype.constructor=t,t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPreverseGeocodingPanelClose-"+this._uid).click():document.getElementById("GPshowReverseGeocoding-"+this._uid).click(),this.collapsed=e):al.log("[ERROR] ReverseGeocode:setCollapsed - missing collapsed parameter")},t.prototype.setMap=function(t){if(t)this._activateMapInteraction(t),this.draggable&&ts.dragElement(this._panelContainer,this._panelHeaderContainer,t.getTargetElement());else{var o=this.getMap();this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(o),null!=this._inputFeaturesLayer&&(o.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)}e.prototype.setMap.call(this,t)},t.prototype.getData=function(){return this._reverseGeocodingLocations},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,resources:["StreetAddress","PositionOfInterest","CadastralParcel"],delimitations:["Point","Circle","Extent"],reverseGeocodeOptions:{},layerDescription:{title:"Saisie (recherche inverse)",description:"Couche de saisie d'une zone de recherche pour la recherche inverse"}},qt.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Pi.generate(),this._currentGeocodingType=null,this._initGeocodingType(),this._currentGeocodingDelimitation=null,this._initGeocodingDelimitation(),this._showReverseGeocodingInput=null,this._panelContainer=null,this._panelHeaderContainer=null,this._panelTitleContainer=null,this._returnPictoContainer=null,this._formContainer=null,this._resultsContainer=null,this._resultsListContainer=null,this._waitingContainer=null,this._inputFeatures=null,this._inputFeaturesSource=null,this._inputFeaturesLayer=null,this._mapInteraction=null,this._requestOptions=null,this._requestGeom=null,this._waiting=!1,this._timer=null,this._reverseGeocodingLocations=[],this._reverseGeocodingLocationsMarkers=[],this._resultsDefaultStyle=new ft.Style({image:new ft.Icon({src:At.lightOrange,anchor:[.5,1]})}),this._resultsSelectedStyle=new ft.Style({image:new ft.Icon({src:At.red,anchor:[.5,1]})}),this._resultsHoverInteraction=null,this._resultsSelectInteraction=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null},t.prototype._checkInputOptions=function(e){var t,o;if(e.resources){var n=e.resources;if(Array.isArray(n)){var i=["StreetAddress","PositionOfInterest","CadastralParcel"],r=[];for(t=0;t<n.length;t++)-1===i.indexOf(n[t])&&(r.push(t),al.log("[ReverseGeocode] options.resources : "+n[t]+" is not a resource for reverse geocode"));if(0!==r.length)for(o=0;o<r.length;o++)n.splice(r[o],1)}else al.log("[ReverseGeocode] 'options.resources' parameter should be an array"),n=null}if(e.delimitations){var a=e.delimitations;if(Array.isArray(a)){var s=["Circle","Point","Extent"],l=[];for(t=0;t<a.length;t++)-1===s.indexOf(a[t])&&(l.push(t),al.log("[ReverseGeocode] options.delimitations : "+a[t]+" is not a delimitation for reverse geocode"));if(0!==l.length)for(o=0;o<l.length;o++)a.splice(l[o],1)}else al.log("[ReverseGeocode] 'options.delimitations' parameter should be an array"),a=null}},t.prototype._initGeocodingType=function(){this._currentGeocodingType="StreetAddress";var e=this.options.resources;e&&0!==e.length||(this.options.resources=["StreetAddress","PositionOfInterest","CadastralParcel"]),Array.isArray(e)&&e.length&&("StreetAddress"!==e[0]&&"PositionOfInterest"!==e[0]&&"CadastralParcel"!==e[0]||(this._currentGeocodingType=e[0]));var t=this.options.reverseGeocodeOptions;t.filterOptions&&Array.isArray(t.filterOptions.type)&&0!==t.filterOptions.type.length&&(this._currentGeocodingType=t.filterOptions.type[0])},t.prototype._initGeocodingDelimitation=function(){this._currentGeocodingDelimitation="Point";var e=this.options.delimitations;if(e&&0!==e.length||(this.options.delimitations=["Point","Circle","Extent"]),Array.isArray(e)&&e.length){var t=e[0].toLowerCase();"point"!==t&&"circle"!==t&&"extent"!==t||(this._currentGeocodingDelimitation=e[0])}},t.prototype._initPopupDiv=function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var o=document.createElement("input");return o.type="button",o.className="gp-styling-button closer",o.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(o),t},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showReverseGeocodingInput=this._createShowReverseGeocodingElement();e.appendChild(t),this.collapsed||(t.checked=!0);var o=this._createShowReverseGeocodingPictoElement();e.appendChild(o);var n=this._panelContainer=this._createReverseGeocodingPanelElement(),i=this._panelHeaderContainer=this._createReverseGeocodingPanelHeaderElement(),r=this._returnPictoContainer=this._createReverseGeocodingPanelReturnPictoElement();i.appendChild(r);var a=this._panelTitleContainer=this._createReverseGeocodingPanelTitleElement();i.appendChild(a);var s=this._createReverseGeocodingPanelCloseElement();i.appendChild(s),n.appendChild(i);var l=this._formContainer=this._createReverseGeocodingPanelFormElement();l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingTypeElement(this.options.resources)),l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingDelimitationElement(this.options.delimitations));var c=this._createReverseGeocodingSubmitFormElement();l.appendChild(c),n.appendChild(l);var u=this._waitingContainer=this._createReverseGeocodingWaitingElement();n.appendChild(u);var d=this._resultsContainer=this._createReverseGeocodingResultsPanelElement(),p=this._resultsListContainer=this._createReverseGeocodingResultsListElement();return d.appendChild(p),n.appendChild(d),e.appendChild(n),al.log(e),e},t.prototype._activateMapInteraction=function(e){var t=this;if(!this.collapsed){switch(null==this._inputFeaturesLayer&&(this._inputFeatures=new Cs.a,this._inputFeaturesSource=new u.a({features:this._inputFeatures}),this._inputFeaturesLayer=new Do.a({source:this._inputFeaturesSource,style:new ft.Style({fill:new ft.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ft.Stroke({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new ft.Icon({src:At.turquoiseBlue,anchor:[.5,1]})})}),this._inputFeaturesLayer.gpResultLayerId="reverseGeocoding",e.addLayer(this._inputFeaturesLayer)),this._currentGeocodingDelimitation.toLowerCase()){case"point":this._activatePointInteraction(e);break;case"circle":this._activateCircleInteraction(e);break;case"extent":this._activateBoxInteraction(e)}e.getControls().forEach((function(e){if(e instanceof ja){var o=t._inputFeaturesLayer.gpLayerId;e._layers[o].title===o&&(e.addLayer(t._inputFeaturesLayer,{title:t.options.layerDescription.title,description:t.options.layerDescription.description}),e.setRemovable(t._inputFeaturesLayer,!1))}}))}},t.prototype._activatePointInteraction=function(e){var t=this;this._mapInteraction=new y.Draw({style:new ft.Style({image:new ft.Circle({radius:0,fill:new ft.Fill({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Point",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(function(e){al.log("on drawstart ",e),t._inputFeatures.clear(),t._onDrawStart(e,"point")})),this._mapInteraction.on("drawend",(function(e){al.log("on drawend",e),e.feature&&e.feature.getGeometry&&(t._requestGeom={type:"Point",coordinates:[t._requestPosition.lon,t._requestPosition.lat]})})),e.addInteraction(this._mapInteraction),this._setCursor("crosshair",e)},t.prototype._activateCircleInteraction=function(e){var t=this;this._mapInteraction=new y.Draw({style:new ft.Style({fill:new ft.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ft.Stroke({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new ft.Circle({radius:4,fill:new ft.Fill({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Circle",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(function(e){al.log("on drawstart ",e),t._inputFeatures.clear(),t._onDrawStart(e,"circle")})),this._mapInteraction.on("drawend",(function(e){if(al.log("on drawend",e),e.feature&&e.feature.getGeometry){var o=e.feature.getGeometry().getRadius();t._requestGeom={},t._requestGeom.type="Circle",t._requestGeom.radius=o,t._requestPosition&&(t._requestGeom.coordinates=[t._requestPosition.lon,t._requestPosition.lat]),al.log("circle radius : ",o)}})),e.addInteraction(this._mapInteraction)},t.prototype._activateBoxInteraction=function(e){var t=this;this._mapInteraction=new y.Draw({style:new ft.Style({fill:new ft.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ft.Stroke({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new ft.Circle({radius:4,fill:new ft.Fill({color:"rgba(0, 183, 152, 0.8)"})})}),type:"LineString",source:this._inputFeaturesSource,maxPoints:2,geometryFunction:function(e,t){t||(t=new Is.Polygon([]));var o=e[0],n=e[1];return t.setCoordinates([[o,[o[0],n[1]],n,[n[0],o[1]],o]]),t}}),this._mapInteraction.on("drawstart",(function(e){al.log("on drawstart",e),t._inputFeatures.clear()})),this._mapInteraction.on("drawend",(function(e){al.log("on drawend",e),t._onBoxDrawEnd(e)})),e.addInteraction(this._mapInteraction)},t.prototype._removeMapInteraction=function(e){null!=this._mapInteraction&&(e.removeInteraction(this._mapInteraction),this._mapInteraction=null),this._setCursor()},t.prototype._onDrawStart=function(e,t){var o;if(e.feature&&e.feature.getGeometry){var n=e.feature.getGeometry();"point"===t&&(o=n.getCoordinates()),"circle"===t&&(o=n.getCenter())}if(o){var i;if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)i=this.options.reverseGeocodeOptions.srs;else{var r=this.getMap();if(!r||!r.getView())return;i=r.getView().getProjection()}var a=Object(Co.transform)(o,i,"EPSG:4326");this._requestPosition={lon:a[0],lat:a[1]},al.log("position coordinates : ",this._requestPosition)}},t.prototype._onBoxDrawEnd=function(e){if(e.feature&&e.feature.getGeometry){var t,o=e.feature.getGeometry().getCoordinates()[0],n=o[0],i=o[2];if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)t=this.options.reverseGeocodeOptions.srs;else{var r=this.getMap();if(!r||!r.getView())return;t=r.getView().getProjection()}var a=Object(Co.transform)(n,t,"EPSG:4326"),s=Object(Co.transform)(i,t,"EPSG:4326"),l={};a[0]<s[0]?(l.left=a[0],l.right=s[0]):(l.left=s[0],l.right=a[0]),a[1]<s[1]?(l.bottom=a[1],l.top=s[1]):(l.bottom=s[1],l.top=a[1]),this._requestGeom={type:"Polygon",coordinates:[[[l.left,l.top],[l.left,l.bottom],[l.right,l.bottom],[l.right,l.top],[l.left,l.top]]]},al.log("searchGeometry filter : ",this._requestGeom)}},t.prototype._setCursor=function(e,t){if(t=t||this.getMap()){var o=t.getTargetElement();o.style.cursor=e||null}},t.prototype._reverseGeocodingRequest=function(){var e=this.getMap();this._requestOptions=this._getReverseGeocodingRequestOptions(),this._removeMapInteraction(e),this._displayWaitingContainer(),st.Services.reverseGeocode(this._requestOptions)},t.prototype._getReverseGeocodingRequestOptions=function(){var e=this.getMap(),t=this.options.reverseGeocodeOptions,o=this;"boolean"!=typeof this.options.ssl&&(this.options.ssl=!0);var n=!(null===t.onFailure||"function"!=typeof t.onFailure),i=!(null===t.onSuccess||"function"!=typeof t.onSuccess),r={apiKey:t.apiKey||this.options.apiKey,ssl:this.options.ssl,position:this._requestPosition,filterOptions:{type:[this._currentGeocodingType]},srs:"CRS:84",returnFreeForm:!1,maximumResponses:t.maximumResponses||18,timeOut:t.timeOut||3e4,onSuccess:function(e){e.locations&&(al.log("reverseGeocode results : ",e.locations),o._displayGeocodedLocations(e.locations)),i&&t.onSuccess.call(o,e.locations)},onFailure:function(i){o._hideWaitingContainer(),o._clearResults(),o._clearInputFeatures(),o._activateMapInteraction(e),al.log(i.message),n&&t.onFailure.call(o,i)}};return"circle"===this._requestGeom.type.toLowerCase()?(this._requestGeom.radius>500&&(al.log("INFO : initial circle radius ("+this._requestGeom.radius+") limited to 1000m."),this._requestGeom.radius=500),r.searchGeometry=this._requestGeom):"polygon"===this._requestGeom.type.toLowerCase()?r.searchGeometry=this._requestGeom:"point"===this._requestGeom.type.toLowerCase()&&("StreetAddress"===this._currentGeocodingType?(r.searchGeometry={type:"Circle",radius:50,coordinates:this._requestGeom.coordinates},r.maximumResponses=1):r.searchGeometry=this._requestGeom),al.log("reverseGeocode request options : ",r),r},t.prototype._displayGeocodedLocations=function(e){this._clearResults(),this._reverseGeocodingLocations=e,this.dispatchEvent({type:"reversegeocode:compute"}),this._formContainer.className="GPreverseGeocodingComponentHidden",this._hideWaitingContainer(),this._panelTitleContainer.innerHTML="Résultats de la recherche",this._returnPictoContainer.className="",this._resultsContainer.className="GPpanel",this._fillGeocodedLocationListContainer(e),this._displayGeocodedLocationsOnMap(e)},t.prototype._fillGeocodedLocationListContainer=function(e){for(var t=0;t<e.length;t++){var o=e[t];al.log(o);var n=this._fillGeocodedLocationDescription(o);0!==n.length&&this._createReverseGeocodingResultElement(n,t)}},t.prototype._fillGeocodedLocationDescription=function(e){if(e&&e.placeAttributes){var t=e.placeAttributes,o="";switch(e.type){case"StreetAddress":t.street&&(o+=t.housenumber?t.housenumber+" ":"",o+=t.street+", "),o+=t.postcode+" "+t.city;break;case"PositionOfInterest":o+=t.toponym,1===t.postcode.length&&(o+=", "+t.postcode[0]),o+=" ("+t.category.join(",")+")";break;case"CadastralParcel":o+=t.id,o+=t.city?" ("+t.city+")":"";break;default:o+=t.city?t.city:""}return o}},t.prototype._displayGeocodedLocationsOnMap=function(e){var t=this;if(0!==this._reverseGeocodingLocations.length){var o=this.getMap();this._createResultsLayer();for(var n=0;n<e.length;n++)this._addResultFeature(e[n],n);if(this._resultsFeatures.getLength()>1){if(this._resultsFeaturesSource&&this._resultsFeaturesSource.getExtent){var i=this._resultsFeaturesSource.getExtent();o.getView().fit(i,o.getSize())}}else{var r=this._resultsFeatures.item(0).getGeometry().getCoordinates();o.getView().setCenter(r),o.getView().setZoom(17)}this._resultsHoverInteraction=new y.Select({condition:Es.pointerMove,layers:[this._resultsFeaturesLayer]}),this._resultsHoverInteraction.on("select",(function(e){return t._onResultsFeatureMouseOver(e)})),o.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new y.Select({layers:[this._resultsFeaturesLayer]}),this._resultsSelectInteraction.on("select",(function(e){return t._onResultsFeatureSelect(e)})),o.addInteraction(this._resultsSelectInteraction);var a="";switch(this._currentGeocodingType){case"StreetAddress":a="adresses";break;case"PositionOfInterest":a="toponymes";break;case"CadastralParcel":a="parcelles cadastrales"}o.getControls().forEach((function(e){if(e instanceof ja){var o=t._resultsFeaturesLayer.gpLayerId;e._layers[o].title===o&&(e.addLayer(t._resultsFeaturesLayer,{title:"Résultats de la recherche inverse",description:"Résultats de la recherche inverse sur les "+a}),e.setRemovable(t._resultsFeaturesLayer,!1))}}))}},t.prototype._createResultsLayer=function(){var e=this.getMap();this._resultsFeatures=new Cs.a,this._resultsFeaturesSource=new u.a({features:this._resultsFeatures}),this._resultsFeaturesLayer=new Do.a({source:this._resultsFeaturesSource}),this._resultsFeaturesLayer.gpResultLayerId="reverseGeocodingResults",e.addLayer(this._resultsFeaturesLayer)},t.prototype._addResultFeature=function(e,t){var o=this.getMap(),n=[e.position.lon,e.position.lat];if(0!==n.length){var i=o.getView().getProjection().getCode();"EPSG:4326"!==i&&(n=Object(Co.transform)(n,"EPSG:4326",i));var r=new Ct.a({geometry:new Is.Point(n)});r.setStyle(this._resultsDefaultStyle),r.setId(t),r.setProperties({location:e,popupContent:this._fillPopupContent(e)}),this._resultsFeatures.push(r)}},t.prototype._fillPopupContent=function(e){var t="<ul>",o=e.placeAttributes;for(var n in o)o.hasOwnProperty(n)&&"trueGeometry"!==n&&"extraFields"!==n&&"houseNumberInfos"!==n&&"_count"!==n&&(t+="<li>",t+='<span class="gp-attname-others-span">'+n.toUpperCase()+" : </span>",t+=o[n],t+=" </li>");return t+=" </ul>"},t.prototype._onResultsFeatureMouseOver=function(e){var t;if(0!==e.selected.length){if((t=e.selected[0]).setStyle(this._resultsSelectedStyle),null!=t.getId()){var o=document.getElementById("ReverseGeocodedLocation_"+t.getId()+"-"+this._uid);o&&o.classList&&o.classList.add("GPreverseGeocodedLocationHighlight")}document.getElementById("ReverseGeocodedLocation_"+t.getId()+"-"+this._uid)}if(0!==e.deselected.length){(t=e.deselected[0]).setStyle(this._resultsDefaultStyle);var n=document.getElementById("ReverseGeocodedLocation_"+t.getId()+"-"+this._uid);n&&n.classList&&n.classList.remove("GPreverseGeocodedLocationHighlight")}},t.prototype._onResultsFeatureSelect=function(e){var t=this.getMap();if(0!==e.selected.length){var o=e.selected[0];this._popupContent.innerHTML=o.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new a.a({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay)),this.dispatchEvent({type:"reversegeocode:onclickresult",location:o.getProperties().location})}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)},t.prototype.onShowReverseGeocodingClick=function(){var e=this.getMap();Wa.unset(e),this.collapsed=this._showReverseGeocodingInput.checked,this.dispatchEvent("change:collapsed"),this._waiting||this._reverseGeocodingLocations.length||(this.collapsed?(this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(e),null!=this._inputFeaturesLayer&&(e.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)):this._activateMapInteraction(e))},t.prototype.onReverseGeocodingTypeChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;o&&(al.log(o),this._currentGeocodingType=o)},t.prototype.onReverseGeocodingDelimitationChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;if(o){al.log(o),this._currentGeocodingDelimitation=o;var n=this.getMap();this._clearInputFeatures(),this._removeMapInteraction(n),this._activateMapInteraction(n)}},t.prototype.onGPreverseGeocodingReturnPictoClick=function(){this._clearResults(),this._clearInputFeatures(),this._activateMapInteraction(this.getMap())},t.prototype.onReverseGeocodingSubmit=function(){this._requestPosition?this._reverseGeocodingRequest():al.log("missing position")},t.prototype.onReverseGeocodingResultClick=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1),n=this._resultsFeaturesSource.getFeatureById(parseInt(o,10));this.dispatchEvent({type:"reversegeocode:onclickresult",location:n.getProperties().location})},t.prototype.onReverseGeocodingResultMouseOver=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.add("GPreverseGeocodedLocationHighlight"),this._resultsFeaturesSource)&&this._resultsFeaturesSource.getFeatureById(parseInt(o,10)).setStyle(this._resultsSelectedStyle)},t.prototype.onReverseGeocodingResultMouseOut=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.remove("GPreverseGeocodedLocationHighlight"),this._resultsFeaturesSource)&&this._resultsFeaturesSource.getFeatureById(parseInt(o,10)).setStyle(this._resultsDefaultStyle)},t.prototype._clearResults=function(){var e=this.getMap();if(this._reverseGeocodingLocations=[],this._resultsListContainer)for(;this._resultsListContainer.firstChild;)this._resultsListContainer.removeChild(this._resultsListContainer.firstChild);this._resultsFeaturesLayer&&(e.removeLayer(this._resultsFeaturesLayer),this._resultsFeaturesLayer=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)},t.prototype._clearInputFeatures=function(){this._inputFeatures&&this._inputFeatures.clear(),this._requestGeom=null},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GProuteCalcWaitingContainerVisible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)},t.prototype._hideWaitingContainer=function(){this._waiting&&(this._waitingContainer.className="GProuteCalcWaitingContainerHidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)},t}(xi.a),ll=sl;window.ol&&window.ol.control&&(window.ol.control.ReverseGeocode=sl);var cl=o(77),ul=o.n(cl),dl=o(78),pl=o.n(dl),hl=o(6),gl=o.n(hl),ml={onloaded:"editor:onloaded",layer:{onclickvisibility:"editor:layer:onclickvisibility",onclickclone:"editor:layer:onclickclone",onclickremove:"editor:layer:onclickremove"},legend:{onclickedition:"editor:legend:onclickedition",onchangevalue:"editor:legend:onchangevalue"},group:{oncollapse:"editor:group:oncollapse"},style:{oneditjson:"editor:style:oneditjson",scale:{onchangemin:"editor:style:scale:onchangemin",onchangemax:"editor:style:scale:onchangemax"}},filter:{oneditjson:"editor:filter:oneditjson"},themes:{onclickimage:"editor:themes:onclickimage",onclicktitle:"editor:themes:onclicktitle"},search:{onsubmit:"editor:search:onsubmit",onautocomplete:"editor:search:onautocomplete"}},fl=lt.getLogger("editor-style");function yl(e){if(fl.trace("[constructor] Style",e),this.options=e||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof yl))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}yl.prototype.constructor=yl,yl.prototype._initialize=function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={scale:!0,edition:!1};this.options.tools||(this.options.tools=e),qt.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={paint:{},layout:{}}),this.options.title||(this.options.title="JSON Styles :"),this.container=null,this.name={target:"GPEditorMapBoxStyleTarget",container:"GPEditorMapBoxStyleContainer",containerjson:"GPEditorMapBoxStyleJsonContainer",jsonlabel:"GPEditorMapBoxStyleJsonTitle",jsondisplay:"GPEditorMapBoxStyleJsonDisplay",containertoolsscale:"GPEditorMapBoxStyleToolsScaleContainer",scaletitle:"GPEditorMapBoxStyleScaleTitle",containertoolsminscale:"GPEditorMapBoxStyleToolsScaleMinContainer",scalelabelmin:"GPEditorMapBoxStyleScaleLabelMin",scaleinputmin:"GPEditorMapBoxStyleScaleInputMin",containertoolsmaxscale:"GPEditorMapBoxStyleToolsScaleMaxContainer",scalelabelmax:"GPEditorMapBoxStyleScaleLabelMax",scaleinputmax:"GPEditorMapBoxStyleScaleInputMax",containertoolsedit:"GPEditorMapBoxStyleToolsEditionContainer"}},yl.prototype._initContainer=function(){var e=this,t=!1,o=JSON.parse(JSON.stringify(this.options.obj)),n={};o.paint&&(t=!0,n.paint=o.paint,0===Object.keys(o.paint).length&&fl.info("tag 'paint' is empty !")),o.layout&&(t=!0,n.layout=o.layout,o.layout.visibility&&delete n.visibility,0===Object.keys(o.layout).length&&fl.info("tag 'layout' is empty !"));var i=document.createElement("div");i.className=this.name.container;var r=null;if(t){var a=JSON.stringify(n,null,4);r=this._syntaxHighlight(a)}var s=document.createElement("div");s.className=this.name.containerjson;var l=document.createElement("label");l.className=this.name.jsonlabel,l.innerHTML=this.options.title,s.appendChild(l);var c=document.createElement("pre");c.className=this.name.jsondisplay,c.innerHTML=r,c.addEventListener?c.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})):c.attachEvent&&c.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})),s.appendChild(c),i.appendChild(s),this.options.tools.scale&&i.appendChild(this._createElementToolsScale({min:n.layout?n.layout.minzoom:0,max:n.layout?n.layout.maxzoom:21})),this.options.tools.edition&&i.appendChild(this._createElementToolsEdition()),this.container=i},yl.prototype._createElementToolsScale=function(e){fl.trace("_createElementToolsScale");var t=this,o=this.options.obj,n=document.createElement("div");n.className=this.name.containertoolsscale;var i=document.createElement("div");i.className=this.name.containertoolsminscale;var r=document.createElement("label");r.className=this.name.scalelabelmin,r.innerHTML="min :",i.appendChild(r);var a=document.createElement("input");a.className=this.name.scaleinputmin,a.type="range",a.value=e.min||0,a.title=e.min||0,a.disabled=!1,a.min=0,a.max=21,a.data=o,a.addEventListener?a.addEventListener("change",(function(e){t.onChangeStyleScaleMinMapBox(e)})):a.appendChild&&a.appendChild("onchange",(function(e){t.onChangeStyleScaleMinMapBox(e)})),i.appendChild(a),n.appendChild(i);var s=document.createElement("div");s.className=this.name.containertoolsmaxscale;var l=document.createElement("label");l.className=this.name.scalelabelmax,l.innerHTML="max :",s.appendChild(l);var c=document.createElement("input");return c.className=this.name.scaleinputmin,c.type="range",c.value=e.max||21,c.title=e.max||21,c.disabled=!1,c.min=0,c.max=21,c.data=o,c.addEventListener?c.addEventListener("change",(function(e){t.onChangeStyleScaleMaxMapBox(e)})):c.appendChild&&c.appendChild("onchange",(function(e){t.onChangeStyleScaleMaxMapBox(e)})),s.appendChild(c),n.appendChild(s),n},yl.prototype._createElementToolsEdition=function(){fl.warn("_createElementToolsEdition, it's not yet implemented !");var e=document.createElement("div");return e.className=this.name.containertoolsedit,e},yl.prototype._syntaxHighlight=function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="gp-json-number";return/^"/.test(e)?t=/:$/.test(e)?"gp-json-key":"gp-json-string":/true|false/.test(e)?t="gp-json-boolean":/null/.test(e)&&(t="gp-json-null"),"<span class='"+t+"'>"+e+"</span>"}))},yl.prototype.add=function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this},yl.prototype.display=function(e){return fl.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display},yl.prototype.getContainer=function(){return this.container},yl.prototype.onEditJsonStyleMapBox=function(e){fl.trace("onEditJsonStyleMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.style.oneditjson,e)},yl.prototype.onChangeStyleScaleMinMapBox=function(e){fl.trace("onChangeStyleScaleMinMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.style.scale.onchangemin,e)},yl.prototype.onChangeStyleScaleMaxMapBox=function(e){fl.trace("onChangeStyleScaleMaxMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.style.scale.onchangemax,e)};var Al=yl,vl=lt.getLogger("editor-themes");function Cl(e){if(vl.trace("[constructor] Themes",e),this.options=e||{},!(this instanceof Cl))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}Cl.prototype.constructor=Cl,Cl.prototype._initialize=function(){this.id=this.options.id||null,this.options.target;var e={thumbnails:!0,button:{visible:!0,type:"radio"}};this.options.tools&&0!==Object.keys(this.options.tools).length||(this.options.tools=e),qt.mergeParams(this.options.tools,e,!1),void 0!==this.options.obj&&null!==this.options.obj&&this.options.obj||(this.options.obj={themesSummary:"",themes:[]}),this.container=null,this.name={target:"GPEditorMapBoxThemeTarget",container:"GPEditorMapBoxThemesContainer",containertheme:"GPEditorMapBoxThemeContainer",containerthemeID:"GPEditorMapBoxThemeContainer_ID_",input:"GPEditorMapBoxThemeInput",inputID:"GPEditorMapBoxThemeInput_ID_",label:"GPEditorMapBoxThemeTitle",labelID:"GPEditorMapBoxThemeTitle_ID_",image:"GPEditorMapBoxThemeImage",imageID:"GPEditorMapBoxThemeImage_ID_",message:"GPEditorMapBoxThemeMessage"}},Cl.prototype._initContainer=function(){var e=this,t=this.options.obj,o=this.id||Pi.generate(),n=document.createElement("div");n.className=this.name.container,n.title=t.themesSummary||"";var i=t.themes;if(i)for(var r=0;r<i.length;r++){var a=i[r],s=document.createElement("div");s.id=this.name.containerthemeID+r+"_"+o,s.className=this.name.containertheme,s.tabIndex=r;var l=a.url,c=a.selected||!1;if(l){var u=this.options.tools.button;if(u.visible){var d="checkbox"===u.type?"checkbox":"radio",p=document.createElement("input");p.type=d,p.id=this.name.inputID+r+"_"+o,p.className=this.name.input,p.name=o,p.checked=c,p.data=l,p.addEventListener?p.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):p.attachEvent&&p.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)})),s.appendChild(p)}if(this.options.tools.thumbnails&&a.thumbnail){var h=document.createElement("img");h.id=this.name.imageID+r+"_"+o,h.className=this.name.image,h.src=a.thumbnail,h.alt=a.thumbnail,h.title=a.description||"",h.data=l,h.addEventListener?h.addEventListener("click",(function(t){e.onClickThemeImageMapBox(t);var o=t.target.parentElement.childNodes;if(o){var n=o[0];"input"===n.tagName.toLowerCase()&&(n.checked=!n.checked)}})):h.attachEvent&&h.attachEvent("onclick",(function(t){e.onClickThemeImageMapBox(t);var o=t.target.parentElement.childNodes;if(o){var n=o[0];"input"===n.tagName.toLowerCase()&&(n.checked=!n.checked)}})),s.appendChild(h)}if(a.name){var g=document.createElement("label");g.id=this.name.labelID+r+"_"+o,this.options.tools.button.visible&&(g.htmlFor=p.id),g.className=this.name.label,g.innerHTML=a.name,g.title=a.description||"",g.data=l,this.options.tools.button.visible||(g.addEventListener?g.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):g.attachEvent&&g.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)}))),s.appendChild(g)}}else{var m=document.createElement("label");m.className=this.name.message,m.innerHTML="Thème non disponible...",s.appendChild(m)}n.appendChild(s)}this.container=n},Cl.prototype.add=function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this},Cl.prototype.display=function(e){return vl.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display},Cl.prototype.getContainer=function(){return this.container},Cl.prototype.onClickThemeImageMapBox=function(e){if(vl.trace("onClickThemeImageMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.previousSibling.id.substring(e.target.previousSibling.id.lastIndexOf("_")+1),o=document.getElementsByClassName(this.name.input),n=0;n<o.length;n++){var i=o[n];if(i.id!==e.target.previousSibling.id)i.id.substring(i.id.lastIndexOf("_")+1)===t&&(i.checked=!1)}gl.a.dispatch(ml.themes.onclickimage,e)},Cl.prototype.onClickThemeTitleMapBox=function(e){if(vl.trace("onClickThemeTitleMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.id.substring(e.target.id.lastIndexOf("_")+1),o=document.getElementsByClassName(this.name.input),n=0;n<o.length;n++){var i=o[n];if(i.id!==e.target.id)i.id.substring(i.id.lastIndexOf("_")+1)===t&&(i.checked=!1)}gl.a.dispatch(ml.themes.onclicktitle,e)};var Il=Cl,bl=lt.getLogger("editor-filter");function wl(e){if(bl.trace("[constructor] Filter",e),this.options=e||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof wl))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}wl.prototype.constructor=wl,wl.prototype._initialize=function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={edition:!1};this.options.tools||(this.options.tools=e),qt.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={filter:[]}),this.options.title||(this.options.title="JSON Filtres :"),this.container=null,this.name={target:"GPEditorMapBoxFilterTarget",container:"GPEditorMapBoxFilterContainer",containerjson:"GPEditorMapBoxFilterJsonContainer",jsonlabel:"GPEditorMapBoxFilterTitleJson",jsondisplay:"GPEditorMapBoxFilterDisplayJson",containertoolsedit:"GPEditorMapBoxFilterToolsEditionContainer"}},wl.prototype._initContainer=function(){var e=this,t=!1,o=JSON.parse(JSON.stringify(this.options.obj));o.filter&&(t=!0,0===o.filter.length&&bl.info("tag 'filter' is empty !"));var n=document.createElement("div");n.className=this.name.container;var i=null;t&&(i=JSON.stringify(o.filter,null,4));var r=document.createElement("div");r.className=this.name.containerjson;var a=document.createElement("label");a.className=this.name.jsonlabel,a.innerHTML=this.options.title,r.appendChild(a);var s=document.createElement("pre");if(s.className=this.name.jsondisplay,s.innerHTML=i,s.addEventListener?s.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})):s.attachEvent&&s.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})),r.appendChild(s),n.appendChild(r),this.options.tools.edition){var l=document.createElement("div");l.className=this.name.containertoolsedit,n.appendChild(l)}this.container=n},wl.prototype.add=function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this},wl.prototype.display=function(e){return bl.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display},wl.prototype.getContainer=function(){return this.container},wl.prototype.onEditJsonFilterMapBox=function(e){bl.trace("onEditJsonFilterMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.filter.oneditjson,e)};var El=wl;function _l(e){return(_l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Sl=lt.getLogger("editor-legend");function Ml(e){if(Sl.trace("[constructor] Legend",e),this.options=e||{target:null,position:0,sprites:null,obj:null},!(this instanceof Ml))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}Ml.prototype.constructor=Ml,Ml.PROPERTIES={line:["line-color","line-dasharray","line-opacity","line-width"],fill:["fill-color","fill-opacity","fill-outline-color","fill-pattern"],background:["background-color","background-opacity","background-pattern"],circle:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-stroke-width"],icon:["icon-color","icon-image","icon-opacity","__icon-size"],text:["__text-anchor","text-color","text-field","__text-font","__text-opacity","__text-size"]},Ml.prototype._initialize=function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0),this.options.obj||(this.options.obj={title:"vide...",editable:!0,paint:{"fill-color":"#FFFFFF"}});var e=this.options.obj.editable;this.editable=void 0!==e&&e,this.legendRender={type:"fill",values:{width:1,stroke:"#FFFFFF",color:"#000000",opacity:1}},this.container=null,this.rendercontainer=null,this.toolscontainer=null,this.name={target:"GPEditorMapBoxLegendTarget",container:"GPEditorMapBoxLegendContainer",containerlegendrender:"GPEditorMapBoxLegendRenderContainer",legendrender:"GPEditorMapBoxLegendRender",legendeditable:"GPEditorMapBoxLegendEditable",legendtitle:"GPEditorMapBoxLegendTitle",containerlegendtools:"GPEditorMapBoxLegendToolsContainer"},this.labels={"line-color":"Couleur du trait","line-width":"Epaisseur du trait","line-opacity":"Opacité du trait","fill-color":"Couleur de remplissage","fill-opacity":"Opacité du remplissage"}},Ml.prototype._initContainer=function(){var e=this.options.obj,t=document.createElement("div");t.className=this.name.container;var o=Object.assign({},e.paint,e.layout),n=Object.keys(o);if(0!==n.length){for(var i={},r=!1,a=0;a<n.length;a++){var s=n[a];if(/fill-/.test(s)||/line-/.test(s)||/circle-/.test(s)||/background-/.test(s)||/text-/.test(s)||/icon-/.test(s)){r=!0;var l=e.title||"",c=s.split("-")[0];"text"!==c&&"icon"!==c||(c="symbol"),this.legendRender=this._getProperties(c,o),i={edit:this.editable,title:l,type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(i));break}}r||(i={edit:this.editable,title:"",type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(i)),Sl.warn("legend type unknown, default legend used...")),this.toolscontainer=this._createElementEditionLegend(i),t.appendChild(this.toolscontainer),this.container=t}else Sl.info("tag 'paint' or 'layout' is empty !")},Ml.prototype._getProperties=function(e,t){if("symbol"===e){var o=t["text-field"],n=t["icon-image"];if("unknow"===(e=o&&n?"icon":o?"text":n?"icon":"unknow"))return void Sl.warn("type unknow !?")}var i={};for(var r in t)if(Object.hasOwnProperty.call(t,r)){var a=t[r];if(Ml.PROPERTIES[e].includes(r)){var s=r.replace(e,"").slice(1),l=this._getValue(a);if(l){if(!("pattern"!==s&&"image"!==s||this.options.sprites&&this.options.sprites.json&&this.options.sprites.json[l])){var c=e+":"+s;Sl.warn("sprites mandatory for key ",c);break}i[s]=l}}else Sl.warn("property not supported : ",r)}return{type:e,values:i}},Ml.prototype._renderThumbnail=function(e,t){var o=this.rendercontainer;if(!o)return!1;var n=null;switch(t.color||(t.color="#FFFFFF"),e){case"text":n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><text x='50' y='50' fill='%color%' fill-opacity='%opacity%'  text-anchor='middle' dominant-baseline='central' style='%style%'> T </text></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:yt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%style%","font-size: 5em;font-weight: bold;");break;case"icon":if(t.image)n="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.image].x).replace("%y%",this.options.sprites.json[t.image].y).replace(/%w%/g,this.options.sprites.json[t.image].width).replace(/%h%/g,this.options.sprites.json[t.image].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),o.innerHTML=n;else{n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><path d='M 50,20 80,82.5 20,82.5 z' stroke='%color%' style='%style%'/></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:yt.hexToRgba(t.color,1)).replace("%style%","fill: transparent;stroke-width: 10;")}break;case"line":var i=Array.isArray(t.dasharray)?t.dasharray.join(" "):0;n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><line x1='0' y1='100' x2='100' y2='0' stroke='%color%' stroke-width='%stroke-width%' stroke-opacity='%stroke-opacity%' stroke-dasharray='%stroke-dasharray%' /></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:yt.hexToRgba(t.color,1)).replace("%stroke-opacity%",t.opacity||1).replace("%stroke-dasharray%",i).replace("%stroke-width%",3*(t.width||0));break;case"circle":var r=t["stroke-color"]||"#FFFFFF";n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' stroke='%stroke-color%' stroke-width='%stroke-width%' stroke-opacity='%strock-opacity%' fill='%color%' fill-opacity='%opacity%' /></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:yt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===r.indexOf("rgb")?r:yt.hexToRgba(r,1)).replace("%stroke-opacity%",t["stroke-opacity"]||1).replace("%stroke-width%",3*(t["stroke-width"]||0));break;case"background":case"fill":if(t.pattern)n="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.pattern].x).replace("%y%",this.options.sprites.json[t.pattern].y).replace(/%w%/g,this.options.sprites.json[t.pattern].width).replace(/%h%/g,this.options.sprites.json[t.pattern].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),o.innerHTML=n;else{var a=t["outline-color"]||"#FFFFFF";n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><rect x='0' y='0' width='100' height='100' rx='5' ry='5' stroke='%stroke-color%' stroke-width='3' fill='%color%' fill-opacity='%opacity%' /></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:yt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===a.indexOf("rgb")?a:yt.hexToRgba(a,1))}break;default:return Sl.warn("type not found, no thumbnail..."),!1}return!0},Ml.prototype._getValue=function(e){var t=null;if("string"==typeof e)t=e;else if("number"==typeof e)t=e;else if(Array.isArray(e)){var o=!0;e.forEach((function(e){"number"!=typeof e&&(o=!1)})),o&&(t=e)}else if("object"===_l(e)){if(t=null,"stops"in e)e.stops.sort((function(e,t){var o=e[0],n=t[0];return o>n?-1:o<n?1:0})),t=e.stops.slice(-1)[0][1]}else Sl.warn("value not supported !");return t},Ml.prototype._createElementIconLegend=function(e){var t=this,o=document.createElement("div");o.className=this.name.containerlegendrender;var n=this.rendercontainer=document.createElement("div");n.className=this.name.legendrender,e.edit&&(n.className+=" ",n.className+=this.name.legendeditable,n.addEventListener?n.addEventListener("click",(function(e){t.onEditionLegendMapBox(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){t.onEditionLegendMapBox(e)})));var i=e.type;this._renderThumbnail(i,e.values)?n.className+=e.edit?" legend-"+i:" legend-"+i+"-not-editable":n.className+=" legend-unknow",o.appendChild(n);var r=document.createElement("span");return r.className=this.name.legendtitle,r.innerHTML=e.title||"",o.appendChild(r),o},Ml.prototype._createElementEditionLegend=function(e){var t=this,o=document.createElement("div");if(o.className=this.name.containerlegendtools,!e.edit)return o;switch(e.type){case"line":(function(){var n=document.createElement("div");n.className="legend-styling-div";var i=document.createElement("label");i.className="legend-line",i.htmlFor=this.id?"line-color-"+this.id:"line-color",i.innerHTML=this.labels["line-color"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"line-color-"+this.id:"line-color",r.title="Selectionner une couleur de trait",r.type="color",r.value=e.values.color,r.setAttribute("data-id","line-color"),r.addEventListener?r.addEventListener("change",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)})):r.attachEvent&&r.attachEvent("onchange",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(i),n.appendChild(r),o.appendChild(n)}).call(t),function(){var n=document.createElement("div");n.className="legend-styling-div";var i=document.createElement("label");i.className="legend-line",i.htmlFor=this.id?"line-width-"+this.id:"line-width",i.innerHTML=this.labels["line-width"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"line-width-"+this.id:"line-width",r.title=e.values.width,r.type="range",r.min="0",r.max="10",r.step="1",r.defaultValue=e.values.width,r.setAttribute("data-id","line-width"),r.addEventListener?r.addEventListener("change",(function(o){Sl.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:o.target.value})),t.onChangeValueLegendMapBox(o)})):r.attachEvent&&r.attachEvent("onchange",(function(o){Sl.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(i),n.appendChild(r),o.appendChild(n)}.call(t),function(){var n=document.createElement("div");n.className="legend-styling-div";var i=document.createElement("label");i.className="legend-line",i.htmlFor=this.id?"line-opacity-"+this.id:"line-opacity",i.innerHTML=this.labels["line-opacity"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"line-opacity-"+this.id:"line-opacity",r.title=e.values.opacity,r.type="range",r.min="0",r.max="1",r.step="0.1",r.defaultValue=e.values.opacity,r.setAttribute("data-id","line-opacity"),r.addEventListener?r.addEventListener("change",(function(o){Sl.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)})):r.attachEvent&&r.attachEvent("onchange",(function(o){Sl.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(i),n.appendChild(r),o.appendChild(n)}.call(t);break;case"background":case"fill":(function(){var n=document.createElement("div");n.className="legend-styling-div";var i=document.createElement("label");i.className="legend-fill",i.htmlFor=this.id?"fill-color-"+this.id:"fill-color",i.innerHTML=this.labels["fill-color"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"fill-color-"+this.id:"fill-color",r.title="Selectionner une couleur de remplissage",r.type="color",r.value=e.values.color,r.setAttribute("data-id","fill-color"),r.addEventListener?r.addEventListener("change",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)})):r.attachEvent&&r.attachEvent("onchange",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(i),n.appendChild(r),o.appendChild(n)}).call(t),function(){var n=document.createElement("div");n.className="legend-styling-div";var i=document.createElement("label");i.className="legend-fill",i.htmlFor=this.id?"fill-opacity-"+this.id:"fill-opacity",i.innerHTML=this.labels["fill-opacity"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"fill-opacity-"+this.id:"fill-opacity",r.title=e.values.opacity,r.type="range",r.min="0",r.max="1",r.step="0.1",r.defaultValue=e.values.opacity,r.setAttribute("data-id","fill-opacity"),r.addEventListener?r.addEventListener("change",(function(o){o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)})):r.attachEvent&&r.attachEvent("onchange",(function(o){o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(i),n.appendChild(r),o.appendChild(n)}.call(t)}return o},Ml.prototype.add=function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this},Ml.prototype.display=function(e){return Sl.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display},Ml.prototype.isEditable=function(){return this.editable},Ml.prototype.getRenderContainer=function(){return this.rendercontainer},Ml.prototype.getToolsContainer=function(){return this.toolscontainer},Ml.prototype.getContainer=function(){return this.container},Ml.prototype.onEditionLegendMapBox=function(e){Sl.trace("onEditionLegendMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.legend.onclickedition,e)},Ml.prototype.onChangeValueLegendMapBox=function(e){Sl.trace("onChangeValueLegendMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.legend.onchangevalue,e)};var xl=Ml;function Pl(e){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kl=lt.getLogger("editor-layer");function Gl(e){if(kl.trace("[constructor] Layer",e),this.options=e||{},!(this instanceof Gl))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}Gl.prototype.constructor=Gl,Gl.prototype._initialize=function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={visibility:!0,icon:{image:!0,anchor:"end"},type:!0,pin:!0,remove:!1,clone:!1};this.options.tools||(this.options.tools=e),qt.mergeParams(this.options.tools,e,!1);var t={id:"",type:"",source:"","source-layer":""};this.options.obj||(this.options.obj=t),qt.mergeParams(this.options.obj,t,!1),this.bSlotLegend=!1,this.oFilter=null,this.oStyle=null,this.oLegend=null,this.container=null,this.DomVisibility=null,this.DomToggle=null,this.name={target:"GPEditorMapBoxLayerTarget",container:"GPEditorMapBoxLayerContainer",containerlegend:"GPEditorMapBoxLayerLegendContainer",containertitle:"GPEditorMapBoxLayerTitleContainer",imagelabelinput:"GPEditorMapBoxLayerImageInput",imagelabel:"GPEditorMapBoxLayerImageLabel",typeimg:"GPEditorMapBoxLayerTypeImage",titleinput:"GPEditorMapBoxLayerTitleInput",titlelabel:"GPEditorMapBoxLayerTitleLabel",containertools:"GPEditorMapBoxToolsContainer",visibilityinput:"GPEditorMapBoxToolsVisibilityInput",visibilitylabel:"GPEditorMapBoxToolsVisibilityLabel",visibilityinputdisable:"GPEditorMapBoxToolsVisibilityInputDisable",visibilitylabeldisable:"GPEditorMapBoxToolsVisibilityLabelDisable"}},Gl.prototype._initContainer=function(){var e=this,t=this.options.obj,o=document.createElement("div");o.className=this.name.container;var n=document.createElement("div");if(n.id=this.name.containertitle+"-"+this.options.position,n.className=this.name.containertitle,this.options.tools.pin){var i=document.createElement("input");i.id=this.name.imagelabelinput+"-"+this.options.position,i.className=this.name.imagelabelinput,i.type="checkbox",n.appendChild(i);var r=document.createElement("label");r.className=this.name.imagelabel,r.htmlFor=i.id,r.addEventListener?r.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):r.attachEvent&&r.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),n.appendChild(r)}var a=function(){var t=document.createElement("div");if(t.id=this.name.containertools+"-"+this.options.position,t.className=this.name.containertools,this.options.tools.visibility){var n=document.createElement("input");n.id=this.name.visibilityinput+"-"+this.options.position,n.className=this.options.tools.icon.image?this.name.visibilityinput:this.name.visibilityinputdisable,n.type="checkbox",n.checked="checked",n.addEventListener?n.addEventListener("click",(function(t){e.onVisibilityLayerMapBox(t)})):n.attachEvent&&n.attachEvent("onclick",(function(t){e.onVisibilityLayerMapBox(t)})),t.appendChild(n),this.DomVisibility=n;var i=document.createElement("label");i.htmlFor=this.name.visibilityinput+"-"+this.options.position,i.id=this.name.visibilitylabel+"-"+this.options.position,i.className=this.options.tools.icon.image?this.name.visibilitylabel:this.name.visibilitylabeldisable,i.title="Afficher/masquer la couche",t.appendChild(i),o.appendChild(t)}this.options.tools.clone&&kl.warn("Dom for tools clone, it's not yet implemented !"),this.options.tools.remove&&kl.warn("Dom for tools remove, it's not yet implemented !")};if("start"===this.options.tools.icon.anchor&&a.apply(this),this.options.tools.type&&t.type){var s=document.createElement("img");switch(s.className=this.name.typeimg,t.type.toUpperCase()){case"SYMBOL-ICON":s.style["background-position"]="0px 0";break;case"SYMBOL-TEXT":s.style["background-position"]="-194px 0";break;case"SYMBOL":s.style["background-position"]="-84px 0";break;case"LINE":s.style["background-position"]="-28px 0";break;case"FILL":s.style["background-position"]="-56px 0";break;case"BACKGROUND":s.style["background-position"]="-140px 0";break;case"CIRCLE":s.style["background-position"]="-168px 0";break;default:s.style["background-position"]="-112px 0"}n.appendChild(s)}var l=document.createElement("div");l.id=this.name.containerlegend+"-"+this.options.position,l.className=this.name.containerlegend,n.appendChild(l);var c=document.createElement("input");c.id=this.name.titleinput+"-"+this.options.position,c.className=this.name.titleinput,c.type="checkbox",n.appendChild(c);var u=document.createElement("label");u.className=this.name.titlelabel,u.htmlFor=c.id,u.innerHTML=t.id||t["source-layer"]||t.source,u.title=t["source-layer"]||t.source||t.id,u.addEventListener?u.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):u.attachEvent&&u.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),n.appendChild(u),this.DomToggle=u,o.appendChild(n),"end"===this.options.tools.icon.anchor&&a.apply(this),this.container=o},Gl.prototype.add=function(){if(kl.trace("add()"),!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this},Gl.prototype.addStyle=function(e){kl.trace("addStyle()",e),e&&"object"===Pl(e)&&e instanceof Al&&(this.oStyle=e,this.oStyle.display(!1))},Gl.prototype.addFilter=function(e){kl.trace("addFilter()",e),e&&"object"===Pl(e)&&e instanceof El&&(this.oFilter=e,this.oFilter.display(!1))},Gl.prototype.addLegend=function(e){kl.trace("addLegend()",e),e&&"object"===Pl(e)&&e instanceof xl&&(this.oLegend=e,this.oLegend.display(!1))},Gl.prototype.slotLegend=function(){var e=this.oLegend;if(e){var t=null,o=this.container.childNodes;if(o.length)for(var n=o["start"===this.options.tools.icon.anchor?1:0].childNodes,i=0;i<n.length;i++){var r=n[i];-1!==r.id.indexOf(this.name.containerlegend)&&(t=r)}if(t){var a=e.getRenderContainer();a&&(t.appendChild(a),this.bSlotLegend=!0)}}},Gl.prototype.visibility=function(e){if(kl.trace("visibility()",e),this.options.tools.visibility)return void 0!==e&&(this.DomVisibility.checked=e?"checked":""),this.DomVisibility.checked},Gl.prototype.collapse=function(){kl.trace("collapse()"),this.DomToggle.click()},Gl.prototype.visible=function(){kl.trace("visible()"),this.options.tools.visibility&&this.DomVisibility.click()},Gl.prototype.display=function(e){kl.trace("display()",e);var t=document.getElementById(this.DomToggle.htmlFor).checked;return void 0!==e&&(this.container.style.display=e?"inline-flex":"none",this.oStyle&&this.oStyle.display(e&&t),this.oFilter&&this.oFilter.display(e&&t),this.oLegend&&this.oLegend.display(e&&t)),t},Gl.prototype.active=function(e){return kl.trace("active()",e),void 0!==e&&(this.container.className=e?this.name.container:this.name.container+" disabled"),this.container.className===this.name.container},Gl.prototype.getContainer=function(){return this.container},Gl.prototype.onClickLayerMapBox=function(e){kl.trace("onClickLayerMapBox",e);var t=e.target.htmlFor.substring(e.target.htmlFor.indexOf("-")),o=document.getElementById(e.target.htmlFor).checked;e.target.htmlFor===this.name.imagelabelinput+t&&(document.getElementById(this.name.titleinput+t).checked=!o),e.target.htmlFor===this.name.titleinput+t&&document.getElementById(this.name.imagelabelinput+t)&&(document.getElementById(this.name.imagelabelinput+t).checked=!o),this.oStyle&&this.oStyle.display(!o),this.oFilter&&this.oFilter.display(!o),this.oLegend&&this.oLegend.isEditable()&&this.oLegend.display(!o)},Gl.prototype.onVisibilityLayerMapBox=function(e){kl.trace("onVisibilityLayerMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.layer.onclickvisibility,e)},Gl.prototype.onCloneLayerMapBox=function(e){kl.trace("onCloneLayerMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.layer.onclickclone,e)},Gl.prototype.onRemoveLayerMapBox=function(e){kl.trace("onRemoveLayerMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.layer.onclickremove,e)};var Rl=Gl,Tl=lt.getLogger("editor-group");function Ol(e){if(Tl.trace("[constructor] Group",e),this.options=e||{},!(this instanceof Ol))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}Ol.prototype.constructor=Ol,Ol.prototype._initialize=function(){this.id=this.options.id||null,this.options.target,this.options.title||(this.options.title="Détails du groupe..."),void 0===this.options.collapse&&(this.options.collapse=!0),this.container=null,this.name={target:"GPEditorMapBoxGroupTarget",container:"GPEditorMapBoxGroupContainer",details:"GPEditorMapBoxGroupDetails",summary:"GPEditorMapBoxGroupSummary"}},Ol.prototype._initContainer=function(){var e=document.createElement("div");e.className=this.name.container;var t=document.createElement("details");t.className=this.name.details,t.open=!this.options.collapse,e.appendChild(t);var o=document.createElement("summary");o.className=this.name.summary,o.innerHTML=this.options.title,t.appendChild(o),this.container=e},Ol.prototype.add=function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container)},Ol.prototype.display=function(e){this.container.style.display=e?"flex":"none"},Ol.prototype.getContainer=function(){var e=this.container.childNodes;return e.length?e[0]:this.container},Ol.prototype.onCollapseGroupMapBox=function(e){Tl.trace("onCollapseGroupMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.group.oncollapse,e)};var Ll=Ol,Dl=lt.getLogger("editor-search");function Nl(e){if(Dl.trace("[constructor] Search",e),this.options=e||{target:null,tools:null,title:null,obj:null},!(this instanceof Nl))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}Nl.prototype.constructor=Nl,Nl.prototype._initialize=function(){this.id=this.options.id||null,this.options.target;var e={};this.options.tools||(this.options.tools=e),qt.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={}),this.options.title||(this.options.title="Recherche de couches :"),this.container=null,this.name={target:"GPEditorMapBoxSearchTarget",container:"GPEditorMapBoxSearchContainer"}},Nl.prototype._initContainer=function(){var e=JSON.parse(JSON.stringify(this.options.obj));e.layers&&0===e.layers.length&&Dl.info("tag 'layers' is empty !");var t=document.createElement("div");t.className=this.name.container,this.container=t},Nl.prototype.add=function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this},Nl.prototype.display=function(e){return Dl.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display},Nl.prototype.getContainer=function(){return this.container},Nl.prototype.onSubmitSearchLayersMapBox=function(e){Dl.trace("onSubmitSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.search.onsubmit,e)},Nl.prototype.onAutocompleteSearchLayersMapBox=function(e){Dl.trace("onAutocompleteSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,gl.a.dispatch(ml.search.onautocomplete,e)};var jl=Nl,Ul={_addUID:function(e){return this._uid?e+"-"+this._uid:e}};function Bl(e){return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fl=lt.getLogger("editor");function zl(e){if(Fl.trace("[constructor] Editor",e),this.options=e||{},!(this instanceof zl))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize()}qt.assign(zl.prototype,Ul),zl.prototype.constructor=zl,zl.prototype._initialize=function(){if(this.options.target||Fl.info("La 'target' n'est pas renseignée (options.target)."),this.options.style){this.options.events?this._initEvents():Fl.warn("Les 'handlers' ne sont pas renseignés (options.events) !"),this.options.themes||Fl.info("Les 'themes' MapBox ne sont pas renseignés (options.themes).");var e={themes:!1,layers:!0,search:!1,style:!1,filter:!1,legend:!1,group:!1,groupAuto:!1,sort:!0,sortBy:"id",sortOrder:"asc",title:!0,collapse:void 0,type:!0,pin:!0,visibility:!0,icon:{image:!0,anchor:"end"},editable:!0};this.options.tools||(Fl.trace("Utilisation des outils MapBox par défaut (options.tools)."),this.options.tools=e),qt.mergeParams(this.options.tools,e,!1),this.id=this.options.id||Pi.generate(),this.context={},this.layers=[],this.container=null,this.name={target:"GPEditorMapBoxTarget",container:"GPEditorMapBoxContainer",containerID:"GPEditorMapBoxContainer_ID_",containerLayers:"GPEditorMapBoxLayersContainer",titleLayers:"GPEditorMapBoxLayersTitle",titleLayersID:"GPEditorMapBoxLayersTitle_ID_",titleThemes:"GPEditorMapBoxThemesTitle",titleThemesID:"GPEditorMapBoxThemesTitle_ID_",sep:"GPEditorMapBoxSep"},this.mapbox={},this.sprites={}}else Fl.error("Le 'style' MapBox n'est pas renseigné (options.style) !")},zl.prototype._initEvents=function(){var e=this.options.scope||this,t=this.options.events;if(t)for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];n&&(gl.a.hasEventListener(o,n,e)||gl.a.addEventListener(o,n,e))}},zl.prototype._initContainer=function(){Fl.trace(this.mapbox);var e=document.createElement("div");e.id=this.name.containerID+this.id,e.className=this.name.container;var t=this.options.tools.themes;if(t&&this.options.themes){if(this.options.tools.title){var o=document.createElement("div");o.id=this.name.titleThemesID+this.id,o.className=this.name.titleThemes,o.innerHTML="Liste des 'thèmes'",e.appendChild(o)}new Il({id:this.id,target:e,tools:"object"===Bl(t)?t:{},obj:this.options.themes}).add()}this.options.tools.search&&new jl({id:this.id,target:e,tools:{},obj:this.mapbox.layers}).add();for(var n in this.mapbox.sources)if(this.mapbox.sources.hasOwnProperty(n)){if(this.options.tools.layers){var i=Object.keys(this.mapbox.sources).length>1?1:0;if(i){var r=document.createElement("hr");r.className=this.name.sep,e.appendChild(r)}if(this.options.tools.title){var a=document.createElement("div");a.id=this.name.titleLayersID+this.id,a.className=this.name.titleLayers,a.innerHTML=i?"Liste des 'couches' ("+n+")":"Liste des 'couches'",e.appendChild(a)}}var s=this.mapbox.layers.slice();if(s.forEach((function(e,t){var o=e.metadata;o?o["geoportail:order"]=t:e.metadata={"geoportail:order":t}})),this.options.tools.sort){var l=this.options.tools.sortBy,c=this.options.tools.sortOrder;s.sort((function(e,t){var o=0;if(e.metadata&&e.metadata["geoportail:group"]&&t.metadata&&t.metadata["geoportail:group"]){var n,i=null;i=e.metadata["geoportail:group"],n=t.metadata["geoportail:group"],o=i.localeCompare(n)}else switch(l){case"geom":o="asc"===c?e.type.localeCompare(t.type)||e.id.localeCompare(t.id):t.type.localeCompare(e.type)||t.id.localeCompare(e.id);break;case"class":o="asc"===c?e["source-layer"].localeCompare(t["source-layer"])||e.id.localeCompare(t.id):t["source-layer"].localeCompare(e["source-layer"])||t.id.localeCompare(e.id);break;case"id":default:o="asc"===c?e.id.localeCompare(t.id):t.id.localeCompare(e.id)}return o}))}Fl.trace("Layers : ",s);var u=this.options.tools.sortBy,d=this.options.tools.groupAuto,p={};s.forEach((function(e){var t=e.metadata;if(t&&t["geoportail:group"]){var o=t["geoportail:group"];p[o]=p[o]?p[o]+1:1}else{var n=null;switch(u){case"class":n=e["source-layer"];break;case"geom":n=e.type;break;case"id":default:n=e.id}var i=n;if(d){var r=n.search(/_|-|:|=/);i=-1!==r?n.substring(0,r).trim():n}p[i]=p[i]?p[i]+1:1,t?t["geoportail:group"]=i:e.metadata={"geoportail:group":i}}})),Fl.trace("Groups : ",p);var h,g=document.createElement("div");if(g.className=this.name.containerLayers,e.appendChild(g),void 0!==this.options.tools.collapse){(h=document.createElement("details")).className="",h.open=!this.options.tools.collapse,g.appendChild(h);var m=document.createElement("summary");m.className="",m.innerHTML="",h.appendChild(m)}for(var f=void 0!==this.options.tools.collapse?h:g,y=-1,A=0;A<s.length;A++){var v=s[A];if(y++,v.source===n){if(this.options.tools.group&&this.options.tools.sort)if(v.metadata){var C=v.metadata["geoportail:group"];if(C)if(p[C]>1){p[C]=-1;var I=new Ll({id:this.id,target:void 0!==this.options.tools.collapse?h:g,title:C,collapse:!0});I.add(),f=I.getContainer()}else 1===p[C]&&(f=void 0!==this.options.tools.collapse?h:g);else f=void 0!==this.options.tools.collapse?h:g}else f=void 0!==this.options.tools.collapse?h:g;if(this.options.tools.layers){var b=new Rl({id:this.id,target:f,position:y+"_"+this.id,tools:{visibility:this.options.tools.visibility,icon:this.options.tools.icon,type:this.options.tools.type,pin:this.options.tools.pin},obj:{id:v.id,type:v.type,source:v.source,"source-layer":v["source-layer"]}});b.add(),v.layout&&v.layout.visibility&&"none"===v.layout.visibility&&b.visibility(!1),this.layers.push(b)}if(this.options.tools.legend){var w=this.options.tools.editable;void 0===w&&(w=v.editable);var E=new xl({id:this.id,target:f,sprites:this.sprites,obj:{id:v.id,source:v.source,title:v.id,editable:void 0!==w&&w,paint:v.paint,layout:v.layout}});E.add(),E.display(!1),b&&(b.addLegend(E),b.slotLegend())}if(this.options.tools.style){var _=new Al({id:this.id,target:f,position:y+"_"+this.id,obj:{id:v.id,source:v.source,layout:v.layout,paint:v.paint}});_.add(),_.display(!1),b&&b.addStyle(_),v.layout&&v.layout.visibility&&"none"===v.layout.visibility&&b.visibility(!1)}if(this.options.tools.filter){var S=new El({id:this.id,target:f,position:y+"_"+this.id,obj:{id:v.id,source:v.source,filter:v.Filter}});S.add(),S.display(!1),b&&b.addFilter(S)}}else y>=0&&y--}}if(this.container=e,!this.options.target){if(!document.getElementById(this.name.target)){var M=document.createElement("div");M.id=this.name.target,(document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(M)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container),gl.a.dispatch(ml.onloaded,this)},zl.prototype._getSprites=function(e){var t=this;if(e&&e.startsWith("mapbox://"))return new Promise((function(e,o){Fl.error("Protocole mapbox:// non géré !"),e(t)}));if(!e)return new Promise((function(e,o){Fl.error("Auncun sprites disponibles !"),e(t)}));var o;return Promise.all([(o=e+".png",fetch(o,{credentials:"same-origin"}).then((function(e){if(e.ok)return e.blob().then((function(e){t.sprites.url=o;var n=new Image;return n.src=o,n.decode().then((function(){t.sprites.size={},t.sprites.size.h=n.height,t.sprites.size.w=n.width}))})).catch((function(e){Fl.warn("fetch image sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,o){Fl.error("fetch image sprites exception :",e),o(e)}))}))),fetch(e+".json",{credentials:"same-origin"}).then((function(e){if(e.ok)return e.json().then((function(e){t.sprites.json=e})).catch((function(e){Fl.warn("fetch json sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,o){Fl.error("fetch json sprites exception :",e),o(e)}))}))])},zl.prototype.createElement=function(){var e=this;return"object"===Bl(this.options.style)?(this.mapbox=this.options.style,this.options.tools.legend?this._getSprites(this.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){Fl.warn("fetch sprites exception :",e)})):new Promise((function(t,o){e._initContainer(),t(e)}))):"string"==typeof this.options.style?fetch(this.options.style,{credentials:"same-origin"}).then((function(t){return t.json().then((function(t){e.mapbox=t})).then((function(){return e.options.tools.legend?e._getSprites(e.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){Fl.warn("fetch sprites exception :",e)})):new Promise((function(t,o){e._initContainer(),t(e)}))})).catch((function(e){Fl.error("json exception :",e)}))})).catch((function(e){Fl.error("fetch exception :",e)})):void 0},zl.prototype.display=function(e){this.container.style.display=e?"block":"none"},zl.prototype.setContext=function(e,t){this.context[e]=t},zl.prototype.getContext=function(e){return this.context[e]},zl.prototype.getID=function(){return this.id},zl.prototype.getContainer=function(){return this.container},zl.prototype.getStyle=function(){return this.mapbox},zl.prototype.getStyleLayer=function(e){for(var t=null,o=this.getLayer(e).options.obj.id,n=0;n<this.mapbox.layers.length;n++){var i=this.mapbox.layers[n];if(i.id===o){t=i;break}}return t},zl.prototype.getLayerFromStyle=function(e){for(var t=null,o=this.mapbox.layers[e],n=0;n<this.getLayers().length;n++){var i=this.getLayer(n);if(o.id===i.options.obj.id){t=i;break}}return t},zl.prototype.getLayers=function(){return this.layers},zl.prototype.getLayer=function(e){return this.layers[e]};var Vl=zl;window.ol&&window.ol.style&&(window.ol.style.Editor=zl);var ql={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createLoadingElement:function(){var e=document.createElement("div");return e.id="GPmapLoading",e.className="",e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimport"),e.className="GPwidget",e},_createShowImportElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowImport"),e.type="checkbox",e},_createShowImportPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowImportPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowImport"),t.title="Ouvrir l'import de couches",t.addEventListener?t.addEventListener("click",(function(){e._onShowImportClick()})):t.attachEvent&&t.attachEvent("onclick",(function(){e._onShowImportClick()}));var o=document.createElement("span");return o.id=this._addUID("GPshowImportOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createImportPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportPanel"),e.className="GPpanel",e},_createImportPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader";var t=this._createImportPanelTitleElement();e.appendChild(t);var o=this._createImportPanelCloseElement();return e.appendChild(o),e},_createImportPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle",e.innerHTML="Import de données",e},_createImportPanelCloseElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPimportPanelClose"),t.className="GPpanelClose",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()})),t},_createImportPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPimportForm"),t.className="map-tool-box",t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e._onImportSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e._onImportSubmit()})),t},_createImportTypeLineElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPimportTypeLine"),o.className="GPimportInputLine";var n=document.createElement("label");n.htmlFor=this._addUID("GPimportType"),n.className="GPimportLabel",n.innerHTML="Type de donnée",n.title="Type de donnée",o.appendChild(n);var i,r=document.createElement("select");r.className="GPimportSelect",r.addEventListener?r.addEventListener("change",(function(e){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportHiddenParams"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportHiddenParams"),t._onImportTypeChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportHiddenParams"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportHiddenParams"),t._onImportTypeChange()})),r.id=this._addUID("GPimportType"),e&&Array.isArray(e)||(e=["KML","GPX","GeoJSON","MAPBOX","WMS","WMTS","WFS"]);for(var a=0;a<e.length;a++)(i=document.createElement("option")).value=e[a],i.text="MAPBOX"===e[a]?"Tuiles vectorielles":e[a],r.appendChild(i);return o.appendChild(r),o},_createImportWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPimportWaitingContainer"),e.className="GPimportWaitingContainerHidden";var t=document.createElement("p");return t.className="GPimportWaiting",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createImportStaticParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportStaticParams"),t.className="KML"===e||"GPX"===e||"GeoJSON"===e||"MAPBOX"===e?"GPimportVisibleParams":"GPimportHiddenParams",t},_createStaticNameLabel:function(){var e=document.createElement("div");e.className="GPimportInputLine";var t=document.createElement("label");t.className="GPimportLabel",t.htmlFor=this._addUID("GPimportName"),t.innerHTML="Nom",t.title="Nom",e.appendChild(t);var o=document.createElement("input");return o.type="text",o.id=this._addUID("GPimportName"),o.className="GPimportInput",e.appendChild(o),e},_createStaticModeChoiceDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportChoice"),e},_createStaticLocalChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt";var o=document.createElement("input");o.type="radio",o.addEventListener?o.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportValueHidden",e._onStaticImportTypeChange(t)})):o.appendChild&&o.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportValueHidden",e._onStaticImportTypeChange()})),o.name="GPimportChoiceMode",o.value="local",o.checked=!0,o.id=this._addUID("GPimportChoiceAltLocal"),t.appendChild(o);var n=document.createElement("label");return n.className="GPimportChoiceAltTxt",n.htmlFor=this._addUID("GPimportChoiceAltLocal"),n.innerHTML="par fichier local",n.title="par fichier local",t.appendChild(n),t},_createStaticUrlChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt";var o=document.createElement("input");o.type="radio",o.addEventListener?o.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportValueHidden",e._onStaticImportTypeChange(t)})):o.appendChild&&o.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportValueHidden",e._onStaticImportTypeChange()})),o.id=this._addUID("GPimportChoiceAltUrl"),o.name="GPimportChoiceMode",o.value="url",o.checked=!1,t.appendChild(o);var n=document.createElement("label");return n.className="GPimportChoiceAltTxt",n.htmlFor=this._addUID("GPimportChoiceAltUrl"),n.innerHTML="par URL",n.title="par URL",t.appendChild(n),t},_createStaticLocalInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueLocal"),e.className="GPimportInputLine",e},_createStaticLocalInputLabel:function(){var e=document.createElement("label");return e.className="GPimportLabel",e.htmlFor=this._addUID("GPimportFile"),e.innerHTML="Fichier local",e.title="Fichier local",e},_createStaticLocalInput:function(){var e=document.createElement("input");return e.type="file",e.id=this._addUID("GPimportFile"),e.className="GPimportInputFile",e},_createStaticUrlInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueUrl"),e.className="GPimportValueHidden",e},_createStaticUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPimportLabel",e.htmlFor=this._addUID("GPimportUrl"),e.innerHTML="URL",e.title="URL",e},_createStaticUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportUrl"),e.className="GPimportInput",e},_createServiceParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportServiceParams"),t.className="WMS"===e||"WMTS"===e||"WFS"===e?"GPimportVisibleParams":"GPimportHiddenParams",t},_createServiceUrlDiv:function(){var e=document.createElement("div");return e.className="GPimportInputLine",e},_createServiceUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPimportLabel",e.htmlFor=this._addUID("GPimportServiceUrl"),e.innerHTML="URL du service",e.title="URL du service",e},_createServiceUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportServiceUrl"),e.className="GPimportInput",e},_createImportSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPimportSubmit"),e.className="GPinputSubmit tool-form-submit",e.type="submit",e.value="Importer",e},_createImportGetCapPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportGetCapPanel"),e.className="GPpanel",e},_createImportGetCapPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Couches accessibles",o.title="Couches accessibles",t.appendChild(o);var n=document.createElement("div");return n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onGetCapPanelClose()})):n.attachEvent&&n.attachEvent("click",(function(){document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onGetCapPanelClose()})),n.className="GPpanelClose",n.title="Fermer le panneau",n.id=this._addUID("GPimportGetCapPanelClose"),t.appendChild(n),t},_createImportGetCapResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportGetCapRoot",e.id=this._addUID("GPimportGetCapResults"),e},_addImportGetCapResultListRubrique:function(e,t){var o=document.createElement("ul");return o.className="GPimportGetCapListRubrique",o.title=e,t.appendChild(o),t},_addImportGetCapResultRubrique:function(e,t){var o=document.createElement("li");o.className="GPimportGetCapRubrique";var n=document.createElement("input");n.id="GPimportGetCapRubrique-"+Pi.generate(),n.className="GPimportGetCapRubrique",n.type="checkbox",o.appendChild(n);var i=document.createElement("label");return i.className="GPimportGetCapRubriqueTitle",i.htmlFor=n.id,i.innerHTML=e,i.title=e,o.appendChild(i),t.appendChild(o),t},_addImportGetCapResultListLayer:function(e){var t=document.createElement("ul");return t.className="GPimportGetCapListLayer",e.appendChild(t),e},_addImportGetCapResultLayer:function(e,t,o){var n=document.createElement("li");n.className="GPimportGetCapProposal",n.innerHTML=e.content,n.title=e.title,n.id="GPimportGetCapProposal_"+t;var i=this;return n.addEventListener?n.addEventListener("click",(function(e){i._onGetCapResponseLayerClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(){i._onGetCapResponseLayerClick()})),o.appendChild(n),o},_createImportMapBoxPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportMapBoxPanel"),e.className="GPpanel",e},_createImportMapBoxPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.id=this._addUID("GPimportMapBoxPanelReturnPicto"),o.title="Masquer le panneau",o.className="",o.addEventListener?o.addEventListener("click",(function(t){e._onMapBoxReturnPictoClick(t)})):o.attachEvent&&o.attachEvent("onclick",(function(t){e._onMapBoxReturnPictoClick(t)})),t.appendChild(o);var n=document.createElement("div");n.className="GPpanelTitle",n.innerHTML="Edition des styles",n.title="Edition des styles",t.appendChild(n);var i=document.createElement("div");return i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onMapBoxPanelClose()})):i.attachEvent&&i.attachEvent("click",(function(){document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onMapBoxPanelClose()})),i.className="GPpanelClose",i.title="Fermer le panneau",i.id=this._addUID("GPimportMapBoxPanelClose"),t.appendChild(i),t},_createImportMapBoxResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportMapBoxpRoot",e.id=this._addUID("GPimportMapBoxResults"),e}},Wl={_toolboxId:"GPtoolbox-measure-main",_buttonId:"GPtoolbox-measure-button",_widgetId:"GPtoolbox-measure-widget",getToolBoxID:function(e){return e?this._toolboxId+"-"+e:this._toolboxId},getButtonID:function(e){return e?this._buttonId+"-"+e:this._buttonId},getWidgetID:function(e){return e?this._widgetId+"-"+e:this._widgetId},_createToolBoxContainerElement:function(e){var t=document.createElement("div");t.id=this.getToolBoxID(e),t.className="GPshowAdvancedToolPicto";var o=document.createElement("button");o.id=this.getButtonID(e);var n=this;o.addEventListener("click",(function(){this.blur();var t=document.getElementById(n.getWidgetID(e));"block"===t.style.display?t.style.display="none":t.style.display="block"})),t.appendChild(o);var i=document.createElement("div");return i.id=this.getWidgetID(e),i.addEventListener("click",(function(){}),!1),t.appendChild(i),t}},Hl=lt.getLogger("toolbox"),Yl={_toolbox:{},add:function(e,t){if(Hl.trace("ToolBox.add()",t),e){var o="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;o&&(this._toolbox=o.gpShareMeasureToolBox||{});var n=e.getTargetElement(),i=n.ownerDocument,r=n.id;this._toolbox&&0!==Object.keys(this._toolbox).length?this._toolbox[r]||(this._toolbox[r]=Pi.generate()):(this._toolbox={},this._toolbox[r]=Pi.generate());var a=this._toolbox[r];if(!i.getElementById(this.getToolBoxID(a))){Hl.trace("create toolbox !");var s=this._createToolBoxContainerElement(a);s.style.pointerEvents="auto",n.getElementsByClassName("ol-overlaycontainer-stopevent")[0].appendChild(s)}var l=i.getElementById(this.getWidgetID(a));t.setTarget(l),o&&(o.gpShareMeasureToolBox=this._toolbox),Hl.trace("add control to toolbox !")}else Hl.trace("map doesn't exist !?")}};qt.assign(Yl,Wl);var Jl=Yl,Zl=lt.getLogger("measures"),Kl={DEFAULT_POINTER_STYLE:new ft.Circle({radius:5,stroke:new ft.Stroke({color:"#002A50",width:2}),fill:new ft.Fill({color:"rgba(255, 155, 0, 0.7)"})}),DEFAULT_DRAW_START_STYLE:new ft.Style({fill:new ft.Fill({color:"rgba(0, 183, 152, 0.2)"}),stroke:new ft.Stroke({color:"#002A50",lineDash:[10,10],width:2})}),DEFAULT_DRAW_FINISH_STYLE:new ft.Style({fill:new ft.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new ft.Stroke({color:"#002A50",width:3})}),tools:{MeasureLength:[],MeasureArea:[],MeasureAzimuth:[]},measureDraw:null,measureSource:null,measureVector:null,sketch:null,measureTooltipElement:null,measureTooltip:null,helpTooltipElement:null,helpTooltip:null,clean:function(){var e=this.CLASSNAME;Zl.trace("["+e+"] deactived tool !"),this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents(),this._showContainer.checked=!1},onPointerMoveHandler:function(e){if(!e.dragging){var t=e.coordinate;if(this.sketch){var o,n=this.sketch.getGeometry();if(o=this.format(n),"LineString"===n.getType())t=n.getLastCoordinate();else{if("Polygon"!==n.getType())return;t=n.getInteriorPoint().getCoordinates()}this.measureTooltipElement.innerHTML=o,this.measureTooltip.setPosition(t)}}},onShowMeasureClick:function(e,t){var o=this.getMap(),n=o.getTargetElement().id,i="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;i&&(this.tools=i.gpShareMeasures||{});var r=this.CLASSNAME;for(var a in this.tools)if(this.tools.hasOwnProperty(a))for(var s=this.tools[a],l=0;l<s.length;l++){var c=s[l];c&&c.active&&a!==r&&c.map===n&&(c.active=!1,null!==c.instance&&c.instance.clean())}if(Wa.unset(o,{current:"Measures"}),this._showContainer.checked){this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents();for(var u=0;u<this.tools[r].length;u++)this.tools[r][u].map===n&&(this.tools[r][u].active=!1)}else{this.addMeasureEvents(),this.initMeasureInteraction(),this.addMeasureInteraction(t);for(var d=0;d<this.tools[r].length;d++)this.tools[r][d].map===n&&(this.tools[r][d].active=!0)}},clearMeasureToolTip:function(){var e=this.getMap();if(e)for(var t=e.getTargetElement().getElementsByClassName("ol-overlaycontainer"),o=0;o<t.length;o++){for(var n=t[o],i=n.children.length,r=[],a=0;a<i;a++){var s=n.children[a];if(0!==s.children.length){var l=s.children[0];"GPmeasureTooltip GPmeasureTooltip-static"!==l.className&&"GPmeasureTooltip GPmeasureTooltip-measure"!==l.className||r.push(s)}}for(var c=0;c<r.length;c++)n.removeChild(r[c])}},clearMeasure:function(){var e=this.getMap();this.measureVector&&(e.removeLayer(this.measureVector),this.measureVector=null),this.measureDraw&&(e.removeInteraction(this.measureDraw),this.measureDraw=null)},createMeasureTooltip:function(e){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-measure",this.measureTooltip=new a.a({element:this.measureTooltipElement,stopEvent:!1,offset:[0,-15],positioning:"bottom-center"}),e.addOverlay(this.measureTooltip)},createHelpTooltip:function(e){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new a.a({element:this.helpTooltipElement,stopEvent:!1,offset:[15,0],positioning:"center-left"}),e.addOverlay(this.helpTooltip)},createStylingMeasureInteraction:function(e){this.options.styles=e||{},Zl.trace("style start",this.options.styles.start);var t={image:Kl.DEFAULT_POINTER_STYLE,fill:Kl.DEFAULT_DRAW_START_STYLE.getFill(),stroke:Kl.DEFAULT_DRAW_START_STYLE.getStroke()};this.options.styles.hasOwnProperty("pointer")&&this.options.styles.pointer instanceof Image&&(t.image=this.options.styles.pointer),this.options.styles.hasOwnProperty("start")&&this.options.styles.start instanceof ft.Style&&(null!=this.options.styles.start.getFill()&&(t.fill=this.options.styles.start.getFill()),null!=this.options.styles.start.getStroke()&&(t.stroke=this.options.styles.start.getStroke())),this.options.styles.start=new ft.Style(t),Zl.trace("style finish",this.options.styles.finish);var o={fill:Kl.DEFAULT_DRAW_FINISH_STYLE.getFill(),stroke:Kl.DEFAULT_DRAW_FINISH_STYLE.getStroke()};this.options.styles.hasOwnProperty("finish")&&this.options.styles.finish instanceof ft.Style&&(null!=this.options.styles.finish.getFill()&&(o.fill=this.options.styles.finish.getFill()),null!=this.options.styles.finish.getStroke()&&(o.stroke=this.options.styles.finish.getStroke())),this.options.styles.finish=new ft.Style(o)},addMeasureInteraction:function(e){var t=this.getMap(),o=this;this.measureDraw=new y.Draw({source:this.measureSource,condition:function(e){return!e.originalEvent.ctrlKey||(o.sketch&&this.removeLastPoint(),!1)},type:e,style:this.options.styles.start||Kl.DEFAULT_DRAW_START_STYLE}),this.measureDraw.setProperties({name:"Measures",source:this}),t.addInteraction(this.measureDraw),this.createMeasureTooltip(t),this.measureDraw.on("drawstart",(function(e){o.sketch=e.feature})),this.measureDraw.on("drawend",(function(){if(o.sketch){var e,n,i=o.sketch.getGeometry();if(e=o.format(i),"LineString"===i.getType())n=i.getLastCoordinate();else{if("Polygon"!==i.getType())return;n=i.getInteriorPoint().getCoordinates()}o.measureTooltipElement.innerHTML=e,o.measureTooltip.setPosition(n)}o.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-static",o.measureTooltip.setOffset([0,-7]),o.sketch=null,o.measureTooltipElement=null,o.createMeasureTooltip(t)}))},initMeasureInteraction:function(){var e=this,t=this.getMap();this.measureSource=new u.a,this.measureVector=new Do.a({source:this.measureSource,style:this.options.styles.finish||Kl.DEFAULT_DRAW_FINISH_STYLE}),this.measureVector.gpResultLayerId="measure",t.addLayer(this.measureVector),t.getControls().forEach((function(t){if(t instanceof ja){var o=e.measureVector.gpLayerId;t._layers[o].title===o&&t.addLayer(e.measureVector,{title:e.options.layerDescription.title,description:e.options.layerDescription.description})}}))}},Xl=Kl,Ql={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPelevationPath"),e.className="GPwidget",e},_createShowElevationPathElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowElevationPath"),e.type="checkbox",e},_createShowElevationPathPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowElevationPathPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowElevationPath"),t.title="Calculer un profil",t.addEventListener?t.addEventListener("click",(function(t){e.onShowElevationPathClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowElevationPathClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowElevationPathOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createElevationPathPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPelevationPathPanel"),e.className="GPpanel",e},_createElevationPathPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.id=this._addUID("GPelevationPathPanelInfo"),o.className="GPpanelInfo",o.title="Informations",o.addEventListener?o.addEventListener("click",(function(){e.onOpenElevationPathInfoClick()})):o.attachEvent&&o.attachEvent("onclick",(function(){e.onOpenElevationPathInfoClick()})),t.appendChild(o);var n=document.createElement("div");n.className="GPpanelTitle",n.innerHTML="Profil Altimétrique",t.appendChild(n);var i=document.createElement("div");i.id=this._addUID("GPelevationPathPanelReduce"),i.className="GPpanelReduce",i.title="Masquer le panneau",i.addEventListener?i.addEventListener("click",(function(){"function"==typeof e.onReduceElevationPathPanelClick&&(document.getElementById(e._addUID("GPshowElevationPath")).checked=!1,e.onReduceElevationPathPanelClick())}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){"function"==typeof e.onReduceElevationPathPanelClick&&(document.getElementById(e._addUID("GPshowElevationPath")).checked=!1,e.onReduceElevationPathPanelClick())})),t.appendChild(i);var r=document.createElement("div");return r.id=this._addUID("GPelevationPathPanelClose"),r.className="GPpanelClose",r.title="Fermer le panneau",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()})),t.appendChild(r),t},_createElevationPathPanelProfilElement:function(){var e=document.createElement("div");return e.id="GPelevationPathProfil",e},_createElevationPathWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathCalcWaitingContainer"),e.className="GPelevationPathCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GPelevationPathCalcWaiting",t.innerHTML="Calcul en cours...",e.appendChild(t),e},_createElevationPathInformationsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathInformationsContainer"),e.className="GPelevationPathInformationsContainerHidden";var t=document.createElement("p");return t.className="GPelevationPathInformations",t.innerHTML="Aucune information...",e.appendChild(t),e},_addElevationPathInformationsItem:function(e){var t=document.getElementById(this._addUID("GPelevationPathInformationsContainer"));if(t){var o=document.createElement("p");o.className="GPelevationPathInformations",o.innerHTML=e,t.appendChild(o)}return t}},$l={_getCssProperty:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},_getTextWidth:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.canvas||(this.canvas=document.createElement("canvas")),i=n.getContext("2d");i.font=null===o?"".concat(this._getCssProperty(t,"font-weight")," ").concat(this._getCssProperty(t,"font-size")," ").concat(this._getCssProperty(t,"font-family")):o;var r=i.measureText(e);return r.width},_dataZToSvgY:function(e,t,o,n){return t-(e-o)*n-.5},_dataDistToSvgX:function(e,t,o,n){return t-o+e*n},_svgXToDataDist:function(e,t,o,n){return(e+o-t)/n},_arrayBisect:function(e,t){var o;if(0===e.length)return 0;for(o=0;o<e.length;o++)if(t<e[o].dist)return o;return o-1},displayProfileByDefault:function(e,t,o,n){var i=o;if(t&&e){for(;t.firstChild;)t.removeChild(t.firstChild);var r=25,a=15,s=10,l=10,c=i.options.displayProfileOptions,u=e.points,d=JSON.parse(JSON.stringify(u));d.sort((function(e,t){return e.z-t.z}));var p=d[0].z,h=d[d.length-1].z,g=e.distance,m="m",f=document.createElement("div");f.id="profileElevationByDefault",t.appendChild(f);var y=window.getComputedStyle(t).getPropertyValue("width").replace(/px/,""),A=window.getComputedStyle(t).getPropertyValue("height").replace(/px/,""),v=A-r-s,C=y-l-a,I=this._getTextWidth(Math.round(h).toLocaleString()+",88",t,"400 10 Verdana"),b=this._getTextWidth(Math.round(g).toLocaleString()+",5",t),w=v-17-15,E=C-17-I,_=document.createElementNS("http://www.w3.org/2000/svg","svg");_.id="profileElevationByDefaultSvg",_.setAttribute("style","display: block; margin: auto; overflow: visible; position: absolute; left: 10px;"),_.setAttribute("viewBox","0 0 ".concat(y," ").concat(A)),_.setAttribute("width","100%"),_.setAttribute("height","100%");var S,M=Math.floor(w/15);S=h===p?.1:Math.pow(10,Math.ceil(Math.log((h-p)/M)/Math.log(10)))/2;var x=Math.floor(p/S)*S,P=Math.ceil(h/S)*S;P===h&&(P+=S),x=Math.round(100*x)/100,P=Math.round(100*P)/100;var k=Math.round((P-x)/S);k+1>M&&(S=Math.pow(10,Math.ceil(Math.log((h-p)/M)/Math.log(10))),x=Math.floor(p/S)*S,(P=Math.ceil(h/S)*S)===h&&(P+=S),x=Math.round(100*x)/100,P=Math.round(100*P)/100,k=Math.floor((P-x)/S)),k=Math.max(Math.round(k),1);var G=document.createElementNS("http://www.w3.org/2000/svg","g");G.setAttribute("class","profile-z-vertical");var R,T,O,L,D,N,j,U=document.createElementNS("http://www.w3.org/2000/svg","g"),B=w/k;R=h===p?w/.2:w/(P-x);for(var F=0;F<=k;F++)(T=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-z-graduation"),T.setAttribute("font-family","Verdana"),T.setAttribute("font-size","10px"),T.setAttribute("fill","#5E5E5E"),T.textContent=(Math.round(100*(x+F*S))/100).toLocaleString(),O=w-F*B,T.setAttribute("transform","translate(".concat(17+I-8,", ").concat(O+5,")")),T.setAttribute("text-anchor","end"),G.appendChild(T),L=Math.round(O)-.5,D=document.createElementNS("http://www.w3.org/2000/svg","g"),(N=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),N.setAttribute("stroke-width","1"),0!==F?N.setAttribute("stroke-opacity","0.2"):N.setAttribute("stroke-opacity","1"),N.setAttribute("stroke","#000000"),N.setAttribute("fill","none"),N.setAttribute("d","M".concat(17+I,",").concat(L," L").concat(E+17+I,",").concat(L)),(j=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),j.setAttribute("stroke-width","1"),j.setAttribute("stroke-opacity","1"),j.setAttribute("stroke","#000000"),j.setAttribute("fill","none"),j.setAttribute("d","M".concat(17+I,",").concat(L," L").concat(17+I+5,",").concat(L)),j.setAttribute("transform","translate(-5, 0)"),D.appendChild(j),D.appendChild(N),U.appendChild(D);var z=document.createElementNS("http://www.w3.org/2000/svg","text");z.setAttribute("class","profile-z-legend"),z.setAttribute("font-family","Verdana"),z.setAttribute("font-size","11px"),z.setAttribute("fill","#5E5E5E"),z.textContent="Altitude (m)",z.setAttribute("transform","translate(".concat(9,", ").concat(Math.round(w/2),") rotate(-90)")),z.setAttribute("text-anchor","middle"),G.appendChild(z),_.appendChild(G),_.appendChild(U),g>2e3&&(g/=1e3,m="km");var V=Math.floor(E/b),q=Math.pow(10,Math.ceil(Math.log(g/V)/Math.log(10)))/2,W=g,H=Math.floor(W/q);H>V?(q=Math.pow(10,Math.ceil(Math.log(g/V)/Math.log(10))),H=Math.floor(W/q)):H<1&&(q=Math.pow(10,Math.ceil(Math.log(g/V)/Math.log(10))-1),H=Math.floor(W/q));var Y=q*(H=Math.max(H,1)),J=document.createElementNS("http://www.w3.org/2000/svg","g");J.setAttribute("class","profile-x-vertical");for(var Z,K,X,Q,$,ee,te=document.createElementNS("http://www.w3.org/2000/svg","g"),oe=E/W,ne=(W-Y)*oe,ie=Math.round((E-ne)/H),re=0;re<=H+1;re++)(Z=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-x-graduation"),Z.setAttribute("font-family","Verdana"),Z.setAttribute("font-size","10px"),Z.setAttribute("fill","#5E5E5E"),re!==H+1&&(Z.textContent=(Math.round(100*re*q)/100).toLocaleString()),K=17+I+re*ie,re===H+1&&(K=17+I+E),Z.setAttribute("transform","translate(".concat(K,", ").concat(w+15+5,")")),Z.setAttribute("text-anchor","middle"),J.appendChild(Z),X=K-.5,Q=document.createElementNS("http://www.w3.org/2000/svg","g"),($=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),$.setAttribute("stroke-width","1"),0!==re?$.setAttribute("stroke-opacity","0.2"):$.setAttribute("stroke-opacity","1"),$.setAttribute("stroke","#000000"),$.setAttribute("fill","none"),$.setAttribute("d","M".concat(X,",").concat(w," L").concat(X,",0")),(ee=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),ee.setAttribute("stroke-width","1"),ee.setAttribute("stroke-opacity","1"),ee.setAttribute("stroke","#000000"),ee.setAttribute("fill","none"),ee.setAttribute("d","M".concat(X,",").concat(w," L").concat(X,",").concat(w-5)),ee.setAttribute("transform","translate(0, 5)"),Q.appendChild(ee),Q.appendChild($),te.appendChild(Q);var ae=document.createElementNS("http://www.w3.org/2000/svg","text");ae.setAttribute("class","profile-x-legend"),ae.setAttribute("font-family","Verdana"),ae.setAttribute("font-size","11px"),ae.setAttribute("fill","#5E5E5E"),ae.textContent="Distance (".concat(m,")"),ae.setAttribute("transform","translate(".concat(17+I+E/2,", ").concat(w+15+17+3,")")),ae.setAttribute("text-anchor","middle"),J.appendChild(ae),_.appendChild(J),_.appendChild(te);var se=document.createElementNS("http://www.w3.org/2000/svg","g"),le=1;"km"===m&&(le=1e3);for(var ce=this._dataDistToSvgX(u[0].dist/le,C,E,oe),ue=this._dataZToSvgY(u[0].z,w,x,R),de="M".concat(ce,",").concat(ue),pe=1;pe<u.length;pe++)ce=this._dataDistToSvgX(u[pe].dist/le,C,E,oe),ue=this._dataZToSvgY(u[pe].z,w,x,R),de+=" L".concat(ce,",").concat(ue);var he=document.createElementNS("http://www.w3.org/2000/svg","path");he.setAttribute("cs","100,100"),he.setAttribute("stroke-width","1"),he.setAttribute("stroke-opacity","1"),he.setAttribute("stroke","#0B6BA7"),he.setAttribute("fill","none"),he.setAttribute("d",de),de+=" L".concat(ce,",").concat(w),de+=" L".concat(C-E,",").concat(w);var ge=document.createElementNS("http://www.w3.org/2000/svg","path");ge.setAttribute("cs","100,100"),ge.setAttribute("stroke-width","1"),ge.setAttribute("stroke-opacity","0"),ge.setAttribute("stroke","#000000"),ge.setAttribute("fill","#00B798"),ge.setAttribute("fill-opacity","0.4"),ge.setAttribute("d",de),se.appendChild(he),se.appendChild(ge),_.appendChild(se);var me=document.createElementNS("http://www.w3.org/2000/svg","g"),fe=document.createElementNS("http://www.w3.org/2000/svg","rect");fe.setAttribute("width",E),fe.setAttribute("height",w),fe.setAttribute("transform","translate(".concat(C-E,",0)")),fe.setAttribute("visibility","hidden"),fe.setAttribute("pointer-events","all");var ye=JSON.parse(JSON.stringify(u));ye.sort((function(e,t){return e.dist-t.dist}));var Ae=document.createElementNS("http://www.w3.org/2000/svg","line");Ae.setAttribute("id","focusLineX"),Ae.setAttribute("class","focusLine-default"),Ae.setAttribute("fill","none"),Ae.setAttribute("stroke","#F90"),Ae.setAttribute("stroke-width","0.5px"),Ae.setAttribute("visibility","hidden");var ve=document.createElementNS("http://www.w3.org/2000/svg","line");ve.setAttribute("id","focusLineY"),ve.setAttribute("class","focusLine-default"),ve.setAttribute("fill","none"),ve.setAttribute("stroke","#F90"),ve.setAttribute("stroke-width","0.5px"),ve.setAttribute("visibility","hidden");var Ce=document.createElementNS("http://www.w3.org/2000/svg","circle");Ce.setAttribute("id","focusCircle"),Ce.setAttribute("r",4),Ce.setAttribute("class","circle-default focusCircle-default"),Ce.setAttribute("fill","#F90"),Ce.setAttribute("visibility","hidden"),me.appendChild(Ce),me.appendChild(Ae),me.appendChild(ve);var Ie=document.createElementNS("http://www.w3.org/2000/svg","text"),be=document.createElementNS("http://www.w3.org/2000/svg","tspan"),we=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Ee=document.createElementNS("http://www.w3.org/2000/svg","tspan");Ie.setAttribute("style","text-align:center; max-width:220px; font-size:10px; color:#000000; font-family:Verdana; z-index:50;"),Ie.style.pointerEvents="none",Ie.style.position="fixed",Ie.setAttribute("class","tooltipInit"),Ie.setAttribute("text-anchor","middle"),f.appendChild(Ie),be.setAttribute("class","altiPathValue"),be.setAttribute("x","0"),be.setAttribute("dy","-.7em"),we.setAttribute("class","altiPathValue"),we.setAttribute("x","0"),we.setAttribute("dy","1em"),Ee.setAttribute("class","altiPathCoords"),Ee.setAttribute("x","0"),Ee.setAttribute("dy","1em"),Ie.appendChild(be),c.currentSlope&&Ie.appendChild(we),Ie.appendChild(Ee);var _e=document.createElementNS("http://www.w3.org/2000/svg","g");me.appendChild(_e);var Se=document.createElementNS("http://www.w3.org/2000/svg","path");Se.setAttribute("cs","100,100"),Se.setAttribute("fill","#FFFFFF"),Se.setAttribute("stroke","#CCCCCC"),Se.setAttribute("fill-opacity","0.8"),Se.setAttribute("stroke-width","1"),Se.setAttribute("stroke-opacity","1");var Me=document.createElementNS("http://www.w3.org/2000/svg","path");return Me.setAttribute("cs","100,100"),Me.setAttribute("fill","#FFFFFF"),Me.setAttribute("stroke","#000000"),Me.setAttribute("fill-opacity","0"),Me.setAttribute("stroke-width","1"),Me.setAttribute("stroke-opacity","0.4"),Me.setAttribute("transform","translate(1,1)"),_e.appendChild(Me),_e.appendChild(Se),_e.appendChild(Ie),_e.setAttribute("class","tooltipInit"),_e.style.pointerEvents="none",fe.addEventListener("pointerover",(function(){Ae.setAttribute("visibility","visible"),ve.setAttribute("visibility","visible"),Ce.setAttribute("visibility","visible"),n.__createProfileMarker(i,u[0]),Ie.setAttribute("class","tooltipFadeIn"),_e.setAttribute("class","tooltipFadeIn")})),fe.addEventListener("pointerout",(function(){Ae.setAttribute("visibility","hidden"),ve.setAttribute("visibility","hidden"),Ce.setAttribute("visibility","hidden"),n.__removeProfileMarker(i),Ie.setAttribute("class","tooltipFadeOut"),_e.setAttribute("class","tooltipFadeOut")})),fe.addEventListener("pointermove",function(e){var t=_.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var o=t.matrixTransform(_.getScreenCTM().inverse()),r=this._svgXToDataDist(o.x,C,E,oe)*le,a=Math.max(1,this._arrayBisect(ye,r)),s=u[a-1],l=u[a],c=s;r-s.dist>l.dist-r&&(c=l);var d=this._dataDistToSvgX(c.dist/le,C,E,oe),p=this._dataZToSvgY(c.z,w,x,R);Ce.setAttribute("cx",d),Ce.setAttribute("cy",p),Ae.setAttribute("x1",d),Ae.setAttribute("y1",w),Ae.setAttribute("x2",d),Ae.setAttribute("y2",0),ve.setAttribute("x1",17+I),ve.setAttribute("y1",p),ve.setAttribute("x2",E+17+I),ve.setAttribute("y2",p),n.__updateProfileMarker(i,c);var h="Altitude : ".concat(c.z.toLocaleString()," m"),m="Pente : ".concat(c.slope," %"),f="(lat : ".concat(c.lat.toLocaleString()," / lon : ").concat(c.lon.toLocaleString(),")");be.innerHTML=h,we.innerHTML=m,Ee.innerHTML=f;var y,A=Math.max(this._getTextWidth(f,Ee),this._getTextWidth(h,be));c.dist>g*le/2?(y="M -0.5 -0.5 l -6 6 l 0 16 l -".concat(A+10," 0 l 0 -44 l ").concat(A+10," 0 l 0 16 l 6 6"),Ie.setAttribute("transform","translate(".concat(-(A/2+12),",0)"))):c.dist<=g*le/2&&(y="M -0.5 -0.5 l 6 6 l 0 16 l ".concat(A+10," 0 l 0 -44 l -").concat(A+10," 0 l 0 16 l -6 6"),Ie.setAttribute("transform","translate(".concat(A/2+12,",0)"))),Se.setAttribute("d",y),Me.setAttribute("d",y),_e.setAttribute("transform","translate(".concat(d,",").concat(p,")")),_e.style.transform="translate(".concat(d,"px,").concat(p,"px)")}.bind(this)),me.appendChild(fe),_.appendChild(me),f.appendChild(_),t}},displayProfileRaw:function(e,t,o,n){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);var i=e&&e.points?e.points:{},r=document.createElement("textarea");return r.id="profilElevationResults",r.rows=10,r.cols=50,r.style.width="100%",r.innerHTML=JSON.stringify(i,void 0,4),r.addEventListener("mouseover",(function(e){n.__customRawProfileMouseOverEvent(o,e)})),t.appendChild(r),t}},displayProfileLibD3:function(e,t,o,n){var i=o;if(t&&e){for(;t.firstChild;)t.removeChild(t.firstChild);var r=e.points;if(e.distance>2e3){e.unit="km";for(var a=0;a<r.length;a++)r[a].dist/=1e3}var s=i.options.displayProfileOptions,l=20,c=20,u=30,d=40,p=window.getComputedStyle(t).getPropertyValue("width"),h=window.getComputedStyle(t).getPropertyValue("height"),g=p.replace(/px/,"")-d-c,m=h.replace(/px/,"")-l-u,f=d3.scale.linear().range([0,g]),y=d3.scale.linear().range([m,0]),A=d3.svg.axis().scale(f).orient("bottom").ticks(5),v=d3.svg.axis().scale(y).orient("left").ticks(5),C=d3.svg.line().interpolate("basis").x((function(e){return f(e.dist)})).y((function(e){return y(e.z)})),I=d3.svg.area().interpolate("basis").x((function(e){return f(e.dist)})).y0(m).y1((function(e){return y(e.z)})),b=d3.select(t).append("svg").attr("width",g+d+c).attr("height",m+l+u).append("g").attr("transform","translate("+d+","+l+")"),w=d3.extent(r,(function(e){return e.dist}));f.domain(w);var E=[0,d3.max(r,(function(e){return e.z}))];y.domain(E),b.append("path").datum(r).attr("class","area-d3").attr("d",I),b.append("g").attr("class","x axis-d3").attr("transform","translate(0,"+m+")").call(A).append("text").attr("y",-15).attr("dy",".71em").attr("x",g).text("Distance ("+e.unit+")"),b.append("g").attr("class","y axis-d3").call(v).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").text("Altitude (m)"),b.append("g").attr("class","grid-d3 vertical").attr("transform","translate(0,"+m+")").call(A.orient("bottom").tickSize(-m,0,0).tickFormat("")),b.append("g").attr("class","grid-d3 horizontal").call(v.orient("left").tickSize(-g,0,0).tickFormat("")),b.append("path").datum(r).attr("class","line-d3").attr("d",C),b.selectAll("circle").data(r).enter().append("circle").attr("cx",(function(e){return f(e.dist)})).attr("cy",(function(e){return y(e.z)})).attr("r",0).attr("class","circle-d3");var _=b.append("g").style("display","none");_.append("line").attr("id","focusLineX").attr("class","focusLine-d3"),_.append("line").attr("id","focusLineY").attr("class","focusLine-d3"),_.append("circle").attr("id","focusCircle").attr("r",4).attr("class","circle-d3 focusCircle-d3");var S=d3.select(t).append("div").attr("class","tooltip-d3").style("opacity",0),M=d3.bisector((function(e){return e.dist})).left;return b.append("rect").attr("class","overlay-d3").attr("width",g).attr("height",m).on("mouseover",(function(){_.style("display",null),n.__createProfileMarker(i,r[0])})).on("mouseout",(function(){_.style("display","none"),n.__removeProfileMarker(i),S.transition().duration(500).style("opacity",0)})).on("mousemove",(function(){var e=d3.mouse(this),t=f.invert(e[0]),o=Math.max(1,M(r,t)),a=r[o-1],l=r[o],c=t-a[0]>l[0]-t?l:a,u=f(c.dist),d=y(c.z);_.select("#focusCircle").attr("cx",u).attr("cy",d),_.select("#focusLineX").attr("x1",u).attr("y1",y(E[0])).attr("x2",u).attr("y2",y(E[1])),_.select("#focusLineY").attr("x1",f(w[0])).attr("y1",d).attr("x2",f(w[1])).attr("y2",d),n.__updateProfileMarker(i,c),S.transition().duration(200).style("opacity",.9);var p="";p+=" Altitude : "+c.z+" m",s.currentSlope&&(p+="<br/> Pente : "+c.slope+" %"),p+="<br/> (Lat : "+c.lat+"/ Lon : "+c.lon+")",S.html(p).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")})),b}},displayProfileLibAmCharts:function(e,t,o,n){var i=o;if(t&&e){var r=e.points,a="<span class='altiPathValue'>[[title]] : [[value]]m</span><br/>";if(i.options.displayProfileOptions.currentSlope&&(a+="<span class='altiPathValue'>Pente : [[slope]] %</span><br/>"),a+="<span class='altiPathCoords'>(Lat: [[lat]] / Lon:[[lon]])</span>",AmCharts.addInitHandler((function(){})),e.distance>2e3){e.unit="km";for(var s=0;s<r.length;s++)r[s].dist/=1e3}for(var l=0;l<r.length;l++){var c=r[l].dist,u=100;c>100?u=1:c>10&&(u=10),c=Math.round(c*u)/u,r[l].dist=c}var d={type:"serial",pathToImages:"http://cdn.amcharts.com/lib/3/images/",categoryField:"dist",autoMarginOffset:0,marginRight:10,marginTop:10,startDuration:0,color:"#5E5E5E",fontSize:8,theme:"light",thousandsSeparator:"",numberFormatter:{precision:-1,decimalSeparator:",",thousandsSeparator:" "},categoryAxis:{color:"#5E5E5E",gridPosition:"start",minHorizontalGap:40,tickPosition:"start",title:"Distance ("+e.unit+")",titleColor:"#5E5E5E",labelOffset:0,startOnAxis:!0},chartCursor:{animationDuration:0,bulletsEnabled:!0,bulletSize:10,categoryBalloonEnabled:!1,cursorColor:"#F90",graphBulletAlpha:1,graphBulletSize:1,zoomable:!1},trendLines:[],graphs:[{balloonColor:"#CCCCCC",balloonText:a,bullet:"round",bulletAlpha:0,bulletBorderColor:"#FFF",bulletBorderThickness:2,bulletColor:"#F90",bulletSize:6,hidden:!1,id:"AmGraph-1",fillAlphas:.4,fillColors:"#C77A04",lineAlpha:1,lineColor:"#C77A04",lineThickness:1,title:"Altitude",valueField:"z"}],guides:[],valueAxes:[{id:"ValueAxis-1",minVerticalGap:20,title:"Altitude (m)"}],balloon:{borderColor:"#CCCCCC",borderThickness:1,fillColor:"#FFFFFF",showBullet:!0},titles:[],allLabels:[],dataProvider:r},p=AmCharts.makeChart(t,d);return p.addListener("changed",(function(e){var t=e.chart.dataProvider[e.index];n.__updateProfileMarker(i,t)})),p}}};function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tc=lt.getLogger("elevationpath"),oc=function(e){function t(o){if(tc.trace("ElevationPath()"),o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="ElevationPath",this._uid=Pi.generate(),this._showContainer=null,this._pictoContainer=null,this._panelContainer=null,this._profileContainer=null,this._waitingContainer=null,this._infoContainer=null,this._timerHdlr=null,this._drawStyleStart=null,this._drawStyleFinish=null,this._markerStyle=null,this._profile=null,this._data={},this._measureSource=null,this._measureVector=null,this._measureDraw=null,this._lastSketch=null,this._currentSketch=null,this._marker=null,this._initialize(o),this._container=o.element?o.element:this._initializeContainer(),e.call(this,{element:this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Ql),t.__removeProfileMarker=function(e){var t=e;t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null)},t.__createProfileMarker=function(e,t){var o=e;o._marker&&(o._measureSource.removeFeature(o._marker),o._marker=null);var n=o.getMap().getView().getProjection(),i=Object(Co.transform)([t.lon,t.lat],"EPSG:4326",n),r=o._measureSource.getFeatures()[0].getGeometry().getClosestPoint(i),a=new Is.Point(r);o._marker=new Ct.a({geometry:a}),tc.trace(a),o._marker.setStyle(o._markerStyle),o._measureSource.addFeature(o._marker)},t.__updateProfileMarker=function(e,o){var n=e;t.__removeProfileMarker(n),t.__createProfileMarker(n,o)},t.__customRawProfileOperation=function(e,o){tc.log("__customRawProfileOperation");for(var n=e,i=o.points,r=n.getMap().getView().getProjection(),a=0;a<i.length;a++){var s=i[a],l=Object(Co.transform)([s.lon,s.lat],"EPSG:4326",r),c=new Is.Point(l);n._marker=new Ct.a({geometry:c}),tc.trace(c);var u=t.DEFAULT_STYLES.RESULTS,d=new ft.Circle({radius:u.imageRadius,stroke:new ft.Stroke({color:u.imageStrokeColor,width:u.imageStrokeWidth}),fill:new ft.Fill({color:u.imageFillColor})});n._marker.setStyle(new ft.Style({image:d})),n._measureSource.addFeature(n._marker)}},t.__customRawProfileMouseOverEvent=function(e,t){tc.log("__customRawProfileMouseOverEvent",e,t)},t.DISPLAY_PROFILE_LIB_AMCHARTS=function(e,o,n){if(tc.trace("ElevationPath.DISPLAY_PROFILE_LIB_AMCHARTS"),"undefined"!=typeof AmCharts){var i=$l.displayProfileLibAmCharts(e,o,n,t);i&&(this._profile=i)}else tc.log("Lib. AmCharts is not loaded !")},t.DISPLAY_PROFILE_LIB_D3=function(e,o,n){if(tc.trace("ElevationPath.DISPLAY_PROFILE_LIB_D3"),"undefined"!=typeof d3){var i=$l.displayProfileLibD3(e,o,n,t);i&&(this._profile=i)}else tc.log("Lib. D3 is not loaded !")},t.DISPLAY_PROFILE_RAW=function(e,o,n){tc.trace("ElevationPath.DISPLAY_PROFILE_RAW");var i=$l.displayProfileRaw(e,o,n,t);i&&(this._profile=i)},t.DISPLAY_PROFILE_BY_DEFAULT=function(e,o,n){tc.trace("ElevationPath.DISPLAY_PROFILE_BY_DEFAULT");var i=$l.displayProfileByDefault(e,o,n,t);i&&(this._profile=i)},t.DEFAULT_STYLES={MARKER:new ft.Icon({src:At.lightOrange,anchor:[.5,1],snapToPixel:!0}),RESULTS:{imageRadius:5,imageFillColor:"rgba(128, 128, 128, 0.2)",imageStrokeColor:"rgba(0, 0, 0, 0.7)",imageStrokeWidth:2}},t.prototype.constructor=t,t.prototype.setMap=function(t){if(tc.trace("ElevationPath::setMap"),t&&(this.options.active&&(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t)),this.options.target||Jl.add(t,this),this.options.export)){var o=qt.assign({control:this},this.options.export);this.export=new Hs(o),this.export.render();var n=this;this.export.on("export:compute",(function(e){n.dispatchEvent({type:"export:compute",content:e.content})}))}e.prototype.setMap.call(this,t)},t.prototype.getActive=function(){return tc.trace("ElevationPath::getActive"),this.options.active},t.prototype.setActive=function(e){tc.trace("ElevationPath::setActive"),this.options.active=e},t.prototype.getData=function(){return qt.assign({type:"elevationpath"},this._data)},t.prototype.setData=function(e){this._data=e},t.prototype.getContainer=function(){return this._container},t.prototype.getLayer=function(){return this._measureVector},t.prototype.setLayer=function(e){e?e instanceof Do.a?(e.setStyle(this._drawStyleFinish),this._measureVector=e,this._measureSource=e.getSource()):tc.log("no valid layer given for hosting drawn features."):this._measureVector=null},t.prototype.getGeoJSON=function(){var e=this._measureVector.getSource().getFeatures();return new ro({defaultStyle:this._drawStyleFinish}).writeFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})},t.prototype.getStyle=function(){return this._drawStyleFinish},t.prototype.clean=function(e){tc.trace("ElevationPath::clean");var t=this.getMap();this._panelContainer.style.display="none",this._showContainer.checked=!1,this._removeProfile(),this._removeMeasureInteraction(t,void 0!==e&&e),this.setLayer()},t.prototype.init=function(){this._showContainer.checked=!0,this._panelContainer.style.display="block",this._displayProfile(this._data),this._waitingContainer.className="GPelevationPathCalcWaitingContainerHidden"},t.prototype._initialize=function(e){tc.trace("ElevationPath::_initialize : ",e),this.options={target:null,render:null,active:!1,apiKey:null,export:!1,elevationOptions:{outputFormat:"json"},layerDescription:{title:"Profil altimétrique",description:"Mon profil altimétrique"},displayProfileOptions:{totalDistance:!0,greaterSlope:!0,meanSlope:!0,ascendingElevation:!0,descendingElevation:!0,currentSlope:!0,apply:null,target:null},stylesOptions:{profile:null,draw:null,marker:null}},qt.mergeParams(this.options,e),this.options.target=e.target||null,this.options.apiKey=e.apiKey;var o=e.displayProfileOptions||{};this.export=null;var n=o.apply;this.options.displayProfileOptions.apply="function"==typeof n?n:t.DISPLAY_PROFILE_BY_DEFAULT;var i=o.target;this.options.displayProfileOptions.target=void 0!==i?i:null;var r=e.stylesOptions||{};this.options.stylesOptions.draw=r.draw||{},this._createStylingDraw(),this.options.stylesOptions.marker=r.marker||{},this._createStylingMarker()},t.prototype._initializeContainer=function(){tc.trace("ElevationPath::_initializeContainer : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowElevationPathElement();e.appendChild(t);var o=this._pictoContainer=this._createShowElevationPathPictoElement();e.appendChild(o),this.options.active&&(this._showContainer.checked=!0);var n=this._panelContainer=this._createElevationPathPanelElement(),i=this._createElevationPathPanelHeaderElement();n.appendChild(i);var r=this._profileContainer=this._createElevationPathPanelProfilElement();n.appendChild(r);var a=this._waitingContainer=this._createElevationPathWaitingElement();n.appendChild(a);var s=this._infoContainer=this._createElevationPathInformationsElement();return n.appendChild(s),null===this.options.displayProfileOptions.target&&e.appendChild(n),e},t.prototype._createStylingMarker=function(){tc.trace("ElevationPath::_createStylingMarker ");var e=t.DEFAULT_STYLES.MARKER;tc.trace("style marker",e),this.options.stylesOptions.marker instanceof ft.Image&&(e=this.options.stylesOptions.marker),this._markerStyle=new ft.Style({image:e})},t.prototype._createStylingDraw=function(){tc.trace("ElevationPath::_createStylingDraw");var e=this.options.stylesOptions.draw;tc.trace("style start",e.start);var t={image:Xl.DEFAULT_POINTER_STYLE,stroke:Xl.DEFAULT_DRAW_START_STYLE.getStroke()};e.hasOwnProperty("pointer")&&e.pointer instanceof ft.Image&&(t.image=e.pointer),e.hasOwnProperty("start")&&e.start instanceof ft.Stroke&&(t.stroke=e.start),this._drawStyleStart=new ft.Style(t),tc.trace("style finish",e.finish);var o={stroke:Xl.DEFAULT_DRAW_FINISH_STYLE.getStroke()};e.hasOwnProperty("finish")&&e.finish instanceof ft.Stroke&&(o.stroke=e.finish),this._drawStyleFinish=new ft.Style(o)},t.prototype._createStylingProfile=function(){tc.trace("ElevationPath::_createStylingProfile");var e=this.options.stylesOptions.profile;tc.trace("style profile",e);var o=t.DEFAULT_STYLES.PROFILE;Object.keys(o).forEach((function(t){if(e.hasOwnProperty(t)){var n=o[t];"object"===ec(n)&&(qt.mergeParams(n,e[t]),e[t]=n)}else e[t]=o[t]}))},t.prototype._initMeasureInteraction=function(e){var t=this;tc.trace("ElevationPath::_initMeasureInteraction()"),e&&(this._measureSource=new u.a,this._measureVector=new Do.a({source:this._measureSource,style:this._drawStyleFinish}),this._measureVector.gpResultLayerId="measure:profil",e.addLayer(this._measureVector),e.getControls().forEach((function(e){if(e instanceof ja){var o=t._measureVector.gpLayerId;e._layers[o].title===o&&e.addLayer(t._measureVector,{title:t.options.layerDescription.title,description:t.options.layerDescription.description})}})))},t.prototype._addMeasureInteraction=function(e){var t=this;tc.trace("ElevationPath::_addMeasureInteraction()"),e&&(this._measureDraw=new y.Draw({source:this._measureSource,type:"LineString",style:this._drawStyleStart,stopClick:!0}),this._measureDraw.setProperties({name:"ElevationPath",source:this}),e.addInteraction(this._measureDraw),this._measureDraw.on("drawstart",(function(e){tc.trace("drawstart",e),null!==t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null),null!==t._lastSketch&&(t._measureSource.removeFeature(t._lastSketch),t._lastSketch=null),t._currentSketch=e.feature;for(var o=t._measureSource.getFeatures(),n=0;n<o.length;n++)t._measureSource.removeFeature(o[n]);t.dispatchEvent("elevationpath:drawstart")})),this._measureDraw.on("drawend",(function(e){tc.trace("drawend",e),t.dispatchEvent("elevationpath:drawend"),t._lastSketch=t._currentSketch,void 0===t.options.elevationOptions.onSuccess&&null===t.options.displayProfileOptions.target&&(t._panelContainer.style.display="block"),t._measureDraw.setActive(!1),t._requestService()})))},t.prototype._removeMeasureInteraction=function(e,t){tc.trace("ElevationPath::_removeMeasureInteraction()"),e&&(t&&this._measureVector&&(e.removeLayer(this._measureVector),this._measureVector=null),this._measureDraw&&(e.removeInteraction(this._measureDraw),this._measureDraw=null))},t.prototype._getGeometry=function(){if(null!==this._currentSketch){for(var e=[],t=this.getMap().getView().getProjection(),o=this._currentSketch.getGeometry().getCoordinates(),n=0;n<o.length;n++){var i=o[n],r=i;"EPSG:4326"!==t&&(r=Object(Co.transform)(i,t,"EPSG:4326")),e.push({lon:Math.round(1e8*r[0])/1e8,lat:Math.round(1e8*r[1])/1e8})}return e}tc.warn("Current Feature undefined !?")},t.prototype._getLength=function(){if(null!==this._currentSketch){for(var e=0,t=this.getMap().getView().getProjection(),o=this._currentSketch.getGeometry().getCoordinates(),n=0,i=o.length-1;n<i;++n){var r=Object(Co.transform)(o[n],t,"EPSG:4326"),a=Object(Co.transform)(o[n+1],t,"EPSG:4326");r[0]=Math.round(1e8*r[0])/1e8,r[1]=Math.round(1e8*r[1])/1e8,a[0]=Math.round(1e8*a[0])/1e8,a[1]=Math.round(1e8*a[1])/1e8,e+=Object(_s.getDistance)(r,a)}return e}tc.warn("Current Feature undefined !?")},t.prototype._getSketchCoords=function(){if(null!==this._currentSketch){for(var e=this.getMap().getView().getProjection(),t=[],o=this._currentSketch.getGeometry().getCoordinates(),n=0;n<o.length;n++){var i=Object(Co.transform)(o[n],e,"EPSG:4326");i[0]=Math.round(1e8*i[0])/1e8,i[1]=Math.round(1e8*i[1])/1e8,t.push(i)}return t}tc.warn("Current Feature undefined !?")},t.prototype._requestService=function(){tc.trace("ElevationPath::_requestService");var e=this._getGeometry();if(tc.trace("geometry",e),e){var t={};qt.mergeParams(t,this.options.elevationOptions),qt.mergeParams(t,{apiKey:t.apiKey||this.options.apiKey}),"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),qt.mergeParams(t,{ssl:t.ssl});var o=this,n=!(null===this.options.elevationOptions.onFailure||"function"!=typeof this.options.elevationOptions.onFailure),i=!(null===this.options.elevationOptions.onSuccess||"function"!=typeof this.options.elevationOptions.onSuccess);if(qt.mergeParams(t,{onSuccess:function(e){tc.trace(e),e&&(o._panelContainer.style.display="block",o._data&&(o._data={}),o._data=o._computeElevationMeasure(e.elevations),o._displayProfile(o._data),o._waitingContainer.className="GPelevationPathCalcWaitingContainerHidden",o._waiting=!1,o._measureDraw.setActive(!0)),i&&o.options.elevationOptions.onSuccess.call(o,o.getData())},onFailure:function(e){o._panelContainer.style.display="none",tc.error(e.message),o._waitingContainer.className="GPelevationPathCalcWaitingContainerHidden",o._waiting=!1,o._measureDraw.setActive(!0),n&&o.options.elevationOptions.onFailure.call(o,e)}}),!t.sampling){var r,a=this._getLength();tc.trace("length",a);var s=Math.max(50,Math.floor(a)/5);r=s>200?200:Math.floor(s),this._getSketchCoords().length>100&&(r=0)}r>0&&qt.mergeParams(t,{sampling:r}),qt.mergeParams(t,{positions:e}),tc.trace("options du service",t),this._waitingContainer.className="GPelevationPathCalcWaitingContainerVisible",st.Services.getAltitude(t)}else tc.warn("missing geometry !?")},t.prototype._computeElevationMeasure=function(e){tc.trace("ElevationPath::_computeElevationMeasure",e);var t=e,o=this._getSketchCoords();if(o){var n=0,i=0,r=o[1];t[0].dist=0,t[0].slope=0,t[0].lat=Math.round(1e4*t[0].lat)/1e4,t[0].lon=Math.round(1e4*t[0].lon)/1e4;for(var a=0,s=0,l=0,c=0,u=0,d=0,p=[],h=1;h<t.length;h++){var g=[t[h].lon,t[h].lat],m=i+Object(_s.getDistance)(g,o[n]),f=m-u;g[0]===r[0]&&g[1]===r[1]&&(n++,i=m,h!==t.length-1&&(r=o[n+1]));var y=t[h].z,A=t[h-1].z;y<0&&(y=0),A<0&&(A=0);var v=y-A;v<0?(a+=f,c+=v):v>0&&(s+=f,l+=v),u=m,t[h].dist=m,p.push(m),d+=v?Math.abs(Math.round(v/f*100)):0,t[h].slope=v?Math.abs(Math.round(v/f*100)):0;var C=t[h].slope;t[h].color=C>15&&C<30?"#005b4c":C>30&&C<45?"#00362d":C>45?"#00120f":"#00B798",t[h].lat=Math.round(1e4*t[h].lat)/1e4,t[h].lon=Math.round(1e4*t[h].lon)/1e4}tc.trace("List Distances",p);for(var I=t[0].z,b=t[0].z,w=t[0].slope,E=0;E<t.length;E++){var _=t[E];_.z<-100&&(_.z=0),_.z>b&&(b=_.z),_.z<I&&(I=_.z),_.slope>w&&(w=_.slope)}return{greaterSlope:w,meanSlope:Math.round(d/t.length),distancePlus:s,distanceMinus:a,ascendingElevation:l,descendingElevation:c,altMin:I.toLocaleString(),altMax:b.toLocaleString(),distance:this._getLength(),unit:"m",points:t}}},t.prototype._displayProfile=function(e){tc.trace("ElevationPath::_displayProfile",e),this._updateInfoContainer();var t=this.options.displayProfileOptions.target;t&&t.appendChild(this._panelContainer),t=this._profileContainer;this.options.displayProfileOptions.apply.call(this,e,t,this);var o=this.options.displayProfileOptions,n=document.getElementById("GPelevationPathPanelInfo-"+this._uid);n&&(o.totalDistance||o.greaterSlope||o.meanSlope||o.ascendingElevation||o.descendingElevation)&&(n.style.display="block"),this.dispatchEvent({type:"elevationpath:compute"})},t.prototype._updateInfoContainer=function(){tc.trace("ElevationPath::_updateInfoContainer");var e=this.options.displayProfileOptions.totalDistance,t=this.options.displayProfileOptions.meanSlope,o=this.options.displayProfileOptions.greaterSlope,n=this.options.displayProfileOptions.ascendingElevation,i=this.options.displayProfileOptions.descendingElevation,r=this._infoContainer;if(r.childElementCount)for(;r.firstChild;)r.removeChild(r.firstChild);e&&this._addElevationPathInformationsItem("Distance totale : "+Math.round(this._data.distance).toLocaleString()+" m"),n&&this._addElevationPathInformationsItem("Dénivelé positif : "+this._data.ascendingElevation.toLocaleString()+" m"),i&&this._addElevationPathInformationsItem("Dénivelé négatif : "+this._data.descendingElevation.toLocaleString()+" m"),t&&this._addElevationPathInformationsItem("Pente moyenne : "+this._data.meanSlope.toLocaleString()+" %"),o&&this._addElevationPathInformationsItem("Plus forte pente : "+this._data.greaterSlope.toLocaleString()+" %")},t.prototype._removeMeasure=function(){if(this._lastSketch=null,this._currentSketch=null,this._measureSource){this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null);for(var e=this._measureSource.getFeatures(),t=0;t<e.length;t++)this._measureSource.removeFeature(e[t])}},t.prototype._removeProfile=function(){if(this._profile=null,this._profileContainer)for(;this._profileContainer.firstChild;)this._profileContainer.removeChild(this._profileContainer.firstChild)},t.prototype.onShowElevationPathClick=function(e){var t=this.getMap();Wa.unset(t,{current:"ElevationPath"}),this._showContainer.checked?(this._panelContainer.style.display="none",e&&e.target.dataset&&e.target.dataset.removeMeasure?"true"===e.target.dataset.removeMeasure?this._removeMeasure():(this._lastSketch=null,this._currentSketch=null):this._removeMeasure(),this._removeProfile(),e&&e.target.dataset&&e.target.dataset.removeLayer?this._removeMeasureInteraction(t,"true"===e.target.dataset.removeLayer):this._removeMeasureInteraction(t,!0)):(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t))},t.prototype.onOpenElevationPathInfoClick=function(){var e=this._infoContainer;"GPelevationPathInformationsContainerVisible"===e.className?(clearTimeout(this._timerHdlr),e.className="GPelevationPathInformationsContainerHidden"):e.className="GPelevationPathInformationsContainerVisible",this._timerHdlr=setTimeout((function(){e.className="GPelevationPathInformationsContainerHidden"}),4e3)},t}(xi.a),nc=oc;function ic(e){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.control&&(window.ol.control.ElevationPath=oc);var rc=lt.getLogger("layerimport"),ac=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(o);var n=this._container=this._initContainer(o);e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.DefaultStyles={image:new ft.Icon({src:At.lightOrange,anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),stroke:new ft.Stroke({color:"rgba(0,42,80,0.8)",width:4}),fill:new ft.Fill({color:"rgba(0, 183, 152, 0.5)"}),text:new ft.Text({font:"16px Sans",textAlign:"left",fill:new ft.Fill({color:"rgba(255, 255, 255, 1)"}),stroke:new ft.Stroke({color:"rgba(0, 0, 0, 1)",width:2})})},t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,ql),t.prototype.constructor=t,t.prototype.setMap=function(t){if(t){var o=this;t.getLayers().on("remove",(function(e){"layerimport:MAPBOX"===e.element.gpResultLayerId&&e.element.gpEditorId&&o._mapBoxPanel&&o._importPanel&&(o.cleanMapBoxResults(e.element.gpEditorId),o._mapBoxPanel.style.display="none",o._importPanel.style.display="")}),o),this.draggable&&(ts.dragElement(this._importPanel,this._importPanelHeader,t.getTargetElement()),ts.dragElement(this._getCapPanel,this._getCapPanelHeader,t.getTargetElement()),ts.dragElement(this._mapBoxPanel,this._mapBoxPanelHeader,t.getTargetElement()))}e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPimportPanelClose-"+this._uid).click():document.getElementById("GPshowImport-"+this._uid).click(),this.collapsed=e):rc.error("[ERROR] LayerImport:setCollapsed - missing collapsed parameter")},t.prototype.getStaticImportContent=function(){return this.contentStatic},t.prototype.getServiceImportContent=function(){return this.contentService},t.prototype.getName=function(){return this._name},t.prototype._initialize=function(e){if(this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,layerTypes:["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"],webServicesOptions:{},vectorStyleOptions:{KML:{extractStyles:!0,showPointNames:!0,defaultStyle:{}},GPX:{defaultStyle:{}},GeoJSON:{defaultStyle:{}},MapBox:{defaultStyle:{},editor:{}}}},e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.extractStyles&&(this.options.vectorStyleOptions.KML.extractStyles=e.vectorStyleOptions.KML.extractStyles),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.showPointNames&&(this.options.vectorStyleOptions.KML.showPointNames=e.vectorStyleOptions.KML.showPointNames),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.defaultStyle?this.options.vectorStyleOptions.KML.defaultStyle=e.vectorStyleOptions.KML.defaultStyle:this.options.vectorStyleOptions.KML.defaultStyle=new ft.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GPX&&e.vectorStyleOptions.GPX.defaultStyle?this.options.vectorStyleOptions.GPX.defaultStyle=e.vectorStyleOptions.GPX.defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle=new ft.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GeoJSON&&e.vectorStyleOptions.GeoJSON.defaultStyle?this.options.vectorStyleOptions.GeoJSON.defaultStyle=e.vectorStyleOptions.GeoJSON.defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle=new ft.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.defaultStyle?this.options.vectorStyleOptions.MapBox.defaultStyle=e.vectorStyleOptions.MapBox.defaultStyle:this.options.vectorStyleOptions.MapBox.defaultStyle=new ft.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.editor?this.options.vectorStyleOptions.MapBox.editor=e.vectorStyleOptions.MapBox.editor:this.options.vectorStyleOptions.MapBox.editor={title:!0,collapse:!1,themes:!1,layers:!0,style:!0,filter:!1,legend:!0,group:!1},e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.hasOwnProperty("display")?this.options.vectorStyleOptions.MapBox.display=e.vectorStyleOptions.MapBox.display:this.options.vectorStyleOptions.MapBox.display=!0,Array.isArray(e.layerTypes)){for(var o=[],n=0;n<e.layerTypes.length;n++)o.push(e.layerTypes[n]);this.options.layerTypes=o}qt.mergeParams(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Pi.generate(),this._waiting=!1,this._timer=null,this._initImportTypes(),this._initDefaultStyles(),this._showImportInput=null,this._importPanel=null,this._importPanelHeader=null,this._formContainer=null,this._staticLocalImportInput=null,this._staticUrlImportInput=null,this._serviceUrlImportInput=null,this._getCapPanel=null,this._getCapPanelHeader=null,this._getCapResultsListContainer=null,this._mapBoxPanel=null,this._mapBoxPanelHeader=null,this._mapBoxResultsListContainer=null,this._waitingContainer=null,this._loadingContainer=null,this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMSLayers=[],this._getCapResponseWMTS=null,this._getCapResponseWMTSLayers=[],this._hasMapBoxResults=!1,this.contentStatic=null,this._url=null,this._file=null,this._name=null},t.prototype._checkInputOptions=function(e){if(e.layerTypes){var t=e.layerTypes;if(Array.isArray(t)){for(var o=["KML","GPX","GEOJSON","WMS","WMTS","WFS","MAPBOX"],n=[],i=0;i<t.length;i++)"string"!=typeof t[i]?(n.push(i),rc.warn("[ol.control.LayerImport] 'options.layerTypes' elements should be of type string ("+t[i]+")")):(t[i]=t[i].toUpperCase(),-1===o.indexOf(t[i])&&(n.push(i),rc.log("[ol.control.LayerImport] options.layerTypes : "+t[i]+" is not a supported type")),"GEOJSON"===t[i]&&(t[i]="GeoJSON"),"MAPBOX"===t[i]&&(t[i]="MAPBOX"));if(0!==n.length)for(var r=n.length-1;r>=0;r--)t.splice(n[r],1)}else rc.warn('[ol.control.LayerImport] \'options.layerTypes\' parameter should be an array. Set default values ["KML", "GPX", "GeoJSON", "WMS", "WMTS"]'),e.layerTypes=["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"]}},t.prototype._initDefaultStyles=function(){var e=this.options.vectorStyleOptions.KML.defaultStyle;this._defaultKMLStyle=new ft.Style({image:e.image,stroke:e.stroke,fill:e.fill,text:e.text});var t=this.options.vectorStyleOptions.GPX.defaultStyle;this._defaultGPXStyle=new ft.Style({image:t.image,stroke:t.stroke,fill:t.fill,text:t.text});var o=this.options.vectorStyleOptions.GeoJSON.defaultStyle;this._defaultGeoJSONStyle=new ft.Style({image:o.image,stroke:o.stroke,fill:o.fill,text:o.text});var n=this.options.vectorStyleOptions.MapBox.defaultStyle;this._defaultMapBoxStyle=new ft.Style({image:n.image,stroke:n.stroke,fill:n.fill,text:n.text})},t.prototype._initImportTypes=function(){this._currentImportType=this.options.layerTypes[0]||"KML","KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1),this._currentStaticImportType="local"},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showImportInput=this._createShowImportElement();e.appendChild(t),this.collapsed||(t.checked=!0);var o=this._createShowImportPictoElement();e.appendChild(o);var n=this._importPanel=this._createImportPanelElement(),i=this._importPanelHeader=this._createImportPanelHeaderElement();n.appendChild(i);var r=this._formContainer=this._initInputFormElement();n.appendChild(r),e.appendChild(n);var a=this._getCapPanel=this._createImportGetCapPanelElement(),s=this._getCapPanelHeader=this._createImportGetCapPanelHeaderElement();a.appendChild(s);var l=this._getCapResultsListContainer=this._createImportGetCapResultsContainer();a.appendChild(l),e.appendChild(a);var c=this._mapBoxPanel=this._createImportMapBoxPanelElement(),u=this._mapBoxPanelHeader=this._createImportMapBoxPanelHeaderElement();c.appendChild(u);var d=this._mapBoxResultsListContainer=this._createImportMapBoxResultsContainer();c.appendChild(d);var p=this._loadingContainer=this._createLoadingElement();c.appendChild(p),e.appendChild(c);var h=this._waitingContainer=this._createImportWaitingElement();return e.appendChild(h),e},t.prototype._initInputFormElement=function(){var e=this._createImportPanelFormElement(),t=this._createImportTypeLineElement(this.options.layerTypes);e.appendChild(t);var o=this._createImportStaticParamsContainer(this.options.layerTypes[0]),n=this._createStaticNameLabel();o.appendChild(n);var i=this._createStaticModeChoiceDiv(),r=this._createStaticLocalChoiceDiv();i.appendChild(r);var a=this._createStaticUrlChoiceDiv();i.appendChild(a),o.appendChild(i);var s=this._createStaticLocalInputDiv();s.appendChild(this._createStaticLocalInputLabel()),this._staticLocalImportInput=this._createStaticLocalInput(),s.appendChild(this._staticLocalImportInput),o.appendChild(s);var l=this._createStaticUrlInputDiv();l.appendChild(this._createStaticUrlInputLabel()),this._staticUrlImportInput=this._createStaticUrlInput(),l.appendChild(this._staticUrlImportInput),o.appendChild(l),e.appendChild(o);var c=this._createServiceParamsContainer(this.options.layerTypes[0]),u=this._createServiceUrlDiv();u.appendChild(this._createServiceUrlInputLabel()),this._serviceUrlImportInput=this._createServiceUrlInput(),u.appendChild(this._serviceUrlImportInput),c.appendChild(u),e.appendChild(c);var d=this._createImportSubmitFormElement();return e.appendChild(d),e},t.prototype._onShowImportClick=function(){var e=this.getMap();Wa.unset(e),this._hasMapBoxResults&&(this._mapBoxPanel.style.display="block"),this.collapsed=this._showImportInput.checked,this.dispatchEvent("change:collapsed")},t.prototype._onImportTypeChange=function(e){this._currentImportType=e.target.value,"KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1)},t.prototype._onStaticImportTypeChange=function(e){this._currentStaticImportType=e.target.value},t.prototype._onGetCapPanelClose=function(){"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||this.cleanGetCapResultsList()},t.prototype._onMapBoxPanelClose=function(){this.cleanMapBoxResultsList(),this._loadingContainer.className=""},t.prototype._onMapBoxReturnPictoClick=function(e){this._mapBoxPanel.style.display="none",this._showImportInput.checked=!1,this._loadingContainer.className=""},t.prototype._onImportSubmit=function(){rc.log("import d'une couche de type : "+this._currentImportType),this.contentStatic=null,this.contentService=null,this._isCurrentImportTypeStatic?this._importStaticLayer():this._importServiceLayers()},t.prototype._importStaticLayer=function(){var e,t=document.getElementById(this._addUID("GPimportName"));t&&(e=t.value||"",rc.log("import layer name : "+e)),"local"===this._currentStaticImportType?(rc.log("import static layer from local file"),this._importStaticLayerFromLocalFile(e)):"url"===this._currentStaticImportType&&(rc.log("import static layer from url"),this._importStaticLayerFromUrl(e))},t.prototype._importStaticLayerFromUrl=function(e){var t=this._staticUrlImportInput.value;if(rc.log("url : ",t),0!==t.length){t.trim&&(t=t.trim()),this._url=t,e||(e=this._url.substring(this._url.lastIndexOf("/")+1,this._url.lastIndexOf("."))),this._name=e,this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(t=ct.proxifyUrl(t,this.options.webServicesOptions));var o=this;st.Protocols.XHR.call({url:t,method:"GET",timeOut:15e3,onResponse:function(t){o._hideWaitingContainer(),o._addFeaturesFromImportStaticLayer(t,e)},onFailure:function(e){o._hideWaitingContainer(),rc.error("[ol.control.LayerImport] KML/GPX/GeoJSON/MapBox request failed : ",e)}})}else rc.error("[ol.control.LayerImport] url parameter is mandatory")},t.prototype._importStaticLayerFromLocalFile=function(e){var t=this._staticLocalImportInput.files[0];if(t){this._file=t,e||(e=this._file.name.substring(this._file.name.lastIndexOf("/")+1,this._file.name.lastIndexOf("."))),this._name=e;var o=new FileReader,n=this;o.onerror=function(e){n._hideWaitingContainer(),rc.error("error fileReader : ",e)},o.onprogress=function(){rc.log("onprogress")},o.onloadstart=function(){n._displayWaitingContainer(),rc.log("onloadstart")},o.onabort=function(){n._hideWaitingContainer(),rc.log("onabort")},o.onloadend=function(e){rc.log("onloadend : ",e)},o.onload=function(t){rc.log("fileReader onload - file content : ",t.target.result),n._hideWaitingContainer(),n._addFeaturesFromImportStaticLayer(t.target.result,e)},o.readAsText(t)}else rc.warn("[ol.control.LayerImport] missing file")},t.prototype._addFeaturesFromImportStaticLayer=function(e,t){var o=this.getMap();if(o&&e){var n=null,i=null,r=null,a=null;if(this.contentStatic=e,"MAPBOX"===this._currentImportType){this._hasMapBoxResults=!0;var s=this,c=JSON.parse(e),d=c.sources,p=Object.keys(d).length>1?1:0;for(var h in d)if(d.hasOwnProperty(h)){var g="",m="",f=null,y=null,A=null,v=null;if(c.metadata)for(var C in c.metadata)if(c.metadata.hasOwnProperty(C)){var I=C.split(":");if("geoportail"===I[0]){var b=I[1];if("title"===b){g=c.metadata[C];continue}if("description"===b){m=c.metadata[C];continue}if("quicklookUrl"===b){f=c.metadata[C];continue}if("legends"===b){y=c.metadata[C];continue}if("metadata"===b){A=c.metadata[C];continue}if("originators"===b){v=c.metadata[C];continue}}}g||(g="Couche MapBox"),m||(m="Couche MapBox"),g=p?g+"("+h+")":g;var w=d[h],E=w.type;if("vector"===E){var _=w.url,S=w.tiles,M=c.sprite;if(_&&0===_.indexOf("mapbox://")){var x=this._url;if(x){if(S=["a","b","c","d"].map((function(e){return"https://"+e+".tiles.mapbox.com/v4/"+_.replace("mapbox://","")+"/{z}/{x}/{y}.vector.pbf?"+x.split("?")[1]})),0===M.indexOf("mapbox://")){var P=x.split("?");c.sprite=P[0]+"/sprite?"+P[1]}}else rc.warn("Not yet implemented, can't use the local import scheme with a 'mapbox://' in the file.!")}if(S)r=new To.a({featureClass:Ct.a}),(i=new l.a({attributions:w.attribution,format:r,urls:S}))._title=g,i._description=m,i._quicklookUrl=f,i._metadata=A,i._legends=y,i._originators=v,i.on("tileloadstart",(function(e){s._loadingContainer.className="GPmapLoadingVisible"})),i.on("tileloadend",(function(e){s._loadingContainer.className=""})),i.on("tileloaderror",(function(e){s._loadingContainer.className=""})),(n=new Po.a({source:i,visible:!1,declutter:!0})).id=h,n.gpResultLayerId="layerimport:"+this._currentImportType;else if(_){r=new To.a({featureClass:Ct.a}),(n=new Po.a({visible:!1,declutter:!0})).id=h,n.gpResultLayerId="layerimport:"+this._currentImportType;var k=new Go.a({url:_}),G=k.on("change",(function(){if("ready"===k.getState()){for(var e=k.getTileJSON(),t=Array.isArray(e.tiles)?e.tiles:[e.tiles],o=0;o<t.length;o++){var a=t[o];0!==a.indexOf("http")&&(t[o]=_+a)}(i=new l.a({attributions:k.getAttributions()||e.attribution,format:r,urls:t}))._title=g,i._description=m,i._quicklookUrl=f,i._metadata=A,i._legends=y,i._originators=v,i.on("tileloadstart",(function(e){s._loadingContainer.className="GPmapLoadingVisible"})),i.on("tileloadend",(function(e){s._loadingContainer.className=""})),n.setSource(i),n.set("mapbox-extension",e.vector_layers),Object(Oo.unByKey)(G)}}))}}else{if("geojson"!==E)return void rc.warn("Type MapBox format unknown !");var R=w.data;r=new ro,(i=new l.a({attributions:w.attribution,format:r,url:R}))._title=g,i._description=m,i._quicklookUrl=f,i._metadata=A,i._legends=y,i._originators=v,(n=new Po.a({source:i,visible:!1,declutter:!0})).id=h,n.gpResultLayerId="layerimport:"+this._currentImportType}var T=JSON.parse(JSON.stringify(c));if(p){for(var O=T.layers,L=0;L<O.length;L++){O[L].source===h||O.splice(L,1)}for(var D in T.sources)T.sources.hasOwnProperty(D)&&D!==h&&delete T.sources[D]}!function(e){var t=function(){wi(e.layer,e.styles,e.id).then((function(){e.layer.setVisible(!0);e.layer.setOpacity(1)})).then((function(){var t=o.getView().getProjection().getCode();o.getView()&&e.styles.center&&e.styles.center.length&&o.getView().setCenter(Object(Co.transform)(e.styles.center,"EPSG:4326",t)),o.getView()&&(e.styles.zoom||0===e.styles.zoom)&&o.getView().setZoom(e.styles.zoom);var n=e.layer.getSource();if(o.getView()&&o.getSize()&&n.getExtent){var i=n.getExtent();i&&i[0]!==1/0&&o.getView().fit(n.getExtent(),o.getSize())}})).then((function(){s._importPanel.style.display="none";var t=new Vl({target:s._mapBoxResultsListContainer,style:JSON.parse(JSON.stringify(e.styles)),scope:this,events:{"editor:onloaded":s._onLoadedMapBox,"editor:layer:onclickvisibility":s._onChangeVisibilitySourceMapBox,"editor:style:scale:onchangemin":s._onChangeScaleMinSourceMapBox,"editor:style:scale:onchangemax":s._onChangeScaleMaxSourceMapBox,"editor:legend:onchangevalue":s._onChangeLegendValueSourceMapBox,"editor:legend:onclickedition":s._onDisplayLayerSourceMapBox},tools:s.options.vectorStyleOptions.MapBox.editor});return t.setContext("map",o),t.setContext("layer",e.layer),t.createElement().then((function(){if(0===t.getLayers().length)throw new Error("Il n'existe pas de styles pour la source demandée !?")})).then((function(){s.options.vectorStyleOptions.MapBox.display&&(s._mapBoxPanel.style.display="block")})).then((function(){for(var e=s._mapBoxResultsListContainer.getElementsByClassName("GPEditorMapBoxLayerTitleLabel"),t=0;t<e.length;t++){var o=e[t];"bckgrd"===o.textContent&&(o.textContent="Couleur de remplissage")}})).then((function(){e.layer.set("mapbox-editor",t.getID()),setTimeout((function(){o.dispatchEvent({id:t.getID(),type:"editor:loaded",style:e.styles,layer:e.layer})}),100)})).catch((function(e){throw e}))})).then((function(){o.dispatchEvent({id:e.id,type:"render:success",style:e.styles})})).catch((function(t){rc.error(t),o.dispatchEvent({id:e.id,type:"render:failure",error:t})}))};rc.warn(e.layer);var n=o.get("mapbox-styles")||{};n[e.id]=e.styles,o.set("mapbox-styles",n),e.layer.set("mapbox-styles",e.styles),o.addLayer(e.layer),e.layer.getSource()?t():e.layer.once("change:source",t),o.getControls().forEach((function(t){t instanceof ja&&t.addLayer(e.layer,e.options)}))}({id:h,styles:T,layer:n,options:{title:t||g,description:m,quicklookUrl:f,metadata:A,legends:y,originators:v}})}}else{"KML"===this._currentImportType?(a=this.options.vectorStyleOptions.KML.defaultStyle,r=new Yt({showPointNames:this.options.vectorStyleOptions.KML.showPointNames,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[a]})):"GPX"===this._currentImportType?(a=this.options.vectorStyleOptions.GPX.defaultStyle,r=new to({defaultStyle:a})):"GeoJSON"===this._currentImportType&&(a=this.options.vectorStyleOptions.GeoJSON.defaultStyle,r=new ro({defaultStyle:a}));var N,j=r.readProjection(e),U=this._getMapProjectionCode();N=r.readFeatures(e,{dataProjection:j,featureProjection:U}),rc.log("loaded features : ",N),(i=new u.a({features:new Cs.a})).addFeatures(N),rc.trace(i),i._title=i._description=t,(n=new Do.a({source:i,style:a})).gpResultLayerId="layerimport:"+this._currentImportType;var B=r.readRootExtensions("geoportail:compute");if(B&&0!==Object.keys(B).length){var F={route:{class:Qs,name:"itineraire"},isocurve:{class:nl,name:"isocurve"},elevationpath:{class:nc,name:"profil altimetrique"}},z=B.type,V=B.transport;if(z){var q=F[z].name,W=V?q+" ("+V+")":q,H=F[z].class;if(H){n.gpResultLayerId="layerimport:COMPUTE",n.set("control",z),n.set("name",q),n.set("graph",V),n.set("data",B),n.set("title",W);var Y=new ro({defaultStyle:a}).writeFeatures(N,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});n.set("geojson",Y),this.getMap().getControls().forEach((function(e){e instanceof H&&(e.setData(B),e.setLayer(n),e.init())}))}}}if(o.addLayer(n),o.getView()&&o.getSize()&&i.getExtent){var J=i.getExtent();J&&J[0]!==1/0&&o.getView().fit(i.getExtent(),o.getSize())}}}},t.prototype._addFeaturesFromImportStaticLayerUrl=function(e,t){var o,n,i,r=this.getMap();if(r&&e&&("MAPBOX"===this._currentImportType?rc.trace("Not yet implemented !"):("KML"===this._currentImportType?i=new Yt({showPointNames:!0,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[this.options.vectorStyleOptions.KML.defaultStyle]}):"GPX"===this._currentImportType?i=new to({defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle}):"GeoJSON"===this._currentImportType&&(i=new ro({defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle})),o=new u.a({url:e,format:i}),"GPX"===this._currentImportType&&o.forEachFeature((function(e){null==e.getStyle()&&(rc.log("[ol.control.LayerImport] set default style for GPX feature"),e.setStyle(this.options.vectorStyleOptions.GPX.defaultStyle))})),"GeoJSON"===this._currentImportType&&o.forEachFeature((function(e){null==e.getStyle()&&(rc.log("[ol.control.LayerImport] set default style for GeoJSON feature"),e.setStyle(this.options.vectorStyleOptions.GeoJSON.defaultStyle))})),o._title=o._description=t,n=new Do.a({source:o})),n.gpResultLayerId="layerimport:"+this._currentImportType,r.addLayer(n),r.getView()&&r.getSize()&&o.getExtent)){var a=o.getExtent();a&&a[0]!==1/0&&r.getView().fit(o.getExtent(),r.getSize())}},t.prototype._onLoadedMapBox=function(e){var t=e.target.data.obj,o=this.getContext("layer");o.get("mapbox-source")===t.source&&(o.get("mapbox-editor"),e.target.editorID)},t.prototype._onChangeVisibilitySourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var i=n.get("mapbox-styles"),r=i.layers,a=0;a<r.length;a++)if(r[a].id===t.id){var s=r[a].layout;s?s.visibility=o.checked?"visible":"none":r[a].layout={visibility:o.checked?"visible":"none"};break}wi(n,i,t.source).then((function(){})).catch((function(e){rc.error(e)}))}},t.prototype._onChangeScaleMinSourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var i=n.get("mapbox-styles"),r=i.layers,a=0;a<r.length;a++)if(r[a].id===t.id){r[a].minzoom=o.value,o.title=o.value;break}wi(n,i,t.source).then((function(){})).catch((function(e){rc.error(e)}))}},t.prototype._onChangeScaleMaxSourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var i=n.get("mapbox-styles"),r=i.layers,a=0;a<r.length;a++)if(r[a].id===t.id){r[a].maxzoom=o.value,o.title=o.value;break}wi(n,i,t.source).then((function(){})).catch((function(e){rc.error(e)}))}},t.prototype._onChangeLegendValueSourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var i=n.get("mapbox-styles"),r=i.layers,a=0;a<r.length;a++)if(r[a].id===t.id){var s=r[a].paint;s&&(s[o.dataset.id]=o.value);break}wi(n,i,t.source).then((function(){})).catch((function(e){rc.error(e)}))}},t.prototype._onDisplayLayerSourceMapBox=function(e){var t=e.target.data.obj,o=this.getContext("layer");if(o.get("mapbox-source")===t.source&&o.get("mapbox-editor")===e.target.editorID){var n=e.target.currentTarget.parentNode.id,i=n.substring(n.indexOf("-")+1,n.indexOf("_"));this.getLayer(i).collapse()}},t.prototype._importServiceLayers=function(){if("WFS"!==this._currentImportType){this.cleanGetCapResultsList();var e=this._getCapRequestUrl=this._serviceUrlImportInput.value;if(e){rc.log("url : ",e),e.trim&&(e=e.trim());var t=e.indexOf("?");t<0?e+="?SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities":t===e.length-1&&(e+="SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities"),this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(e=ct.proxifyUrl(e,this.options.webServicesOptions)),this._displayWaitingContainer();var o=this;st.Protocols.XHR.call({url:e,method:"GET",timeOut:15e3,onResponse:function(e){o._hideWaitingContainer(),o._displayGetCapResponseLayers(e)},onFailure:function(e){o._hideWaitingContainer(),rc.error("[ol.control.LayerImport] getCapabilities request failed : ",e)}})}else rc.error("[ol.control.LayerImport] url parameter is mandatory")}else rc.warn("[ol.control.LayerImport] WFS layer import is not implemented yet")},t.prototype._displayGetCapResponseLayers=function(e){var t,o,n,i={content:null,title:null};if(this._getCapResponseWMSLayers=[],this.contentService=e,this._importPanel.style.display="none",this._getCapPanel.style.display="block","WMS"===this._currentImportType){t=new ul.a;var r=this._getCapResponseWMS=t.read(e);if(rc.log("getCapabilities response : ",r),r&&r.Capability&&r.Capability.Layer){var a=r.Capability.Layer;if(Array.isArray(a))for(var s=0;s<a.length;s++)this._displayGetCapResponseWMSLayer(a[s]);else this._displayGetCapResponseWMSLayer(a)}}else if("WMTS"===this._currentImportType){t=new pl.a;var l=this._getCapResponseWMTS=t.read(e);if(rc.log("getCapabilities response : ",l),l&&l.Contents&&l.Contents.Layer&&(o=l.Contents.Layer,Array.isArray(o))){this._getCapResponseWMTSLayers=o;for(var c=0;c<o.length;c++)if((n=this._getWMTSLayerProjection(o[c],l))&&"string"==typeof n){if(!Object(Co.get)(n)&&!Object(Co.get)(n.toUpperCase())){rc.warn("[ol.control.LayerImport] wmts layer cannot be added to map : unknown projection",o[c]);continue}i={content:o[c].Title,title:o[c].Abstract||o[c].Title},this._getCapResultsListContainer&&this._addImportGetCapResultLayer(i,c,this._getCapResultsListContainer)}}}},t.prototype._displayGetCapResponseWMSLayer=function(e,t){if(e){rc.log("[ol.control.LayerImport] _displayGetCapResponseWMSLayer - layerObj : ",e);var o,n=this._getMapProjectionCode(),i={content:null,title:null};if(t){var r,a,s=["CRS","Style"];for(a=0;a<s.length;a++)if(r=s[a],Array.isArray(t[r])&&0!==t[r].length)if(Array.isArray(e[r])&&0!==e[r].length)for(var l=0;l<t[r].length;l++)-1===e[r].indexOf(t[r][l])&&e[r].push(t[r][l]);else e[r]=t[r];var c=["BoundingBox","EX_GeographicBoundingBox","MaxScaleDenominator","MinScaleDenominator","Attribution","Dimension","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight"];for(a=0;a<c.length;a++)t[r=c[a]]&&!e[r]&&(e[r]=t[r])}else e._isRootLayer=!0,e._container=this._getCapResultsListContainer,e.Title||(e.Title="Liste des couches");if(e.Layer){if(Array.isArray(e.Layer)){var u=e?e._container:t._container,d=e?e.Title:t.Title;e._container=this._addImportGetCapResultListRubrique(d,u).lastChild;for(var p=0;p<e.Layer.length;p++){for(var h=!1,g=e._container.getElementsByClassName("GPimportGetCapRubriqueTitle"),m=0;m<g.length;m++)g[m].title===e.Title&&(h=!0,e.Layer[p]._container=g[m].parentElement);h||(e.Layer[p]._container=this._addImportGetCapResultRubrique(e.Title,e._container).lastChild),this._displayGetCapResponseWMSLayer(e.Layer[p],e)}}}else{var f=this._getCapResponseWMSLayers.length;if(o=this._getWMSLayerProjection(e,n)){e._projection=o,i={content:e.Title,title:e.Abstract||e.Title};var y=e._container;"ul"===y.localName&&(y=y.lastChild),this._addImportGetCapResultLayer(i,f,y),this._getCapResponseWMSLayers[f]=e}else rc.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection",e)}}else rc.warn("[ol.control.LayerImport] _displayGetCapResponseWMSLayer : getCapabilities layer object not found")},t.prototype._onGetCapResponseLayerClick=function(e){if(e.target&&e.target.id){var t,o=parseInt(e.target.id.substr(23),10);if(isNaN(o))return;"WMS"===this._currentImportType?(t=this._getCapResponseWMSLayers[o],this._addGetCapWMSLayer(t)):"WMTS"===this._currentImportType&&(t=this._getCapResponseWMTSLayers[o],this._addGetCapWMTSLayer(t))}},t.prototype._addGetCapWMSLayer=function(e){var t=this.getMap();if(t)if(e){var o=this._getMapProjectionCode(),n={},i=this._getWMSLayerGetMapUrl();if(i)n.url=i;else{var r=this._getCapRequestUrl.indexOf("?");n.url=-1!==r?this._getCapRequestUrl.substring(0,r):this._getCapRequestUrl}if(n.params={},e.Name){n.params.LAYERS=e.Name,n.params.SERVICE="WMS",this._getCapResponseWMS.version&&(n.params.VERSION=this._getCapResponseWMS.version);var a=e._projection;if(a){var s;if(a!==o&&(n.projection=a),e.Style&&Array.isArray(e.Style)){var l=e.Style[0];n.params.STYLES=l.Name,l.LegendURL&&Array.isArray(l.LegendURL)&&0!==l.LegendURL.length&&(s=l.LegendURL[0].OnlineResource)}var c=new p.a(n);this._getWMSLayerInfoForLayerSwitcher(e,s,c);var u={};u.source=c,this._getWMSLayerMinMaxResolution(e,o,u),this._getWMSLayerExtent(e,o,u);var d=new bo.a(u);d.gpResultLayerId="layerimport:WMS",e.queryable&&(d.gpGFIparams={queryable:!0},this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format&&Array.isArray(this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)&&(d.gpGFIparams.formats=this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)),t.addLayer(d)}else rc.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection")}else rc.warn("[ol.control.LayerImport] unable to add wms layer : mandatory layer 'name' parameter cannot be found",e)}else rc.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : layerInfo is not defined");else rc.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : map is not defined")},t.prototype._getWMSLayerGetMapUrl=function(){var e;if(this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetMap){var t=this._getCapResponseWMS.Capability.Request.GetMap;if(t.DCPType&&Array.isArray(t.DCPType)&&0!==t.DCPType.length){var o=t.DCPType[0];o&&o.HTTP&&o.HTTP.Get&&(e=o.HTTP.Get.OnlineResource)}}return e},t.prototype._getWMSLayerProjection=function(e,t){var o;if(e&&"object"===ic(e)){var n=e.CRS;if(Array.isArray(n)){if(n.includes(t))return o=t;var i,r;for(r=0;r<n.length;r++)if((i=n[r])&&"string"==typeof i&&(Object(Co.get)(i)||Object(Co.get)(i.toUpperCase())))return o=i}return o}rc.warn("missing layer information (from getCapabilities)")},t.prototype._getWMSLayerMinMaxResolution=function(e,t,o){var n=Object(Co.get)(t).getUnits();if("m"===n)e.MinScaleDenominator&&(o.minResolution=28e-5*e.MinScaleDenominator),e.MaxScaleDenominator&&(o.maxResolution=28e-5*e.MaxScaleDenominator);else if("degrees"===n){var i=28e-5*180/(6378137*Math.PI);e.MinScaleDenominator&&(o.minResolution=e.MinScaleDenominator*i),e.MaxScaleDenominator&&(o.maxResolution=e.MaxScaleDenominator*i)}},t.prototype._getWMSLayerExtent=function(e,t,o){if(e){var n=e.EX_GeographicBoundingBox,i=e.BoundingBox;if(n&&Array.isArray(n))o.extent="EPSG:4326"===t?n:Object(Co.transformExtent)(n,"EPSG:4326",t);else if(i&&Array.isArray(i))for(var r,a,s=0;s<i.length;s++)if(r=i[s].crs,a=i[s].extent,r){if(r===t){o.extent=a;break}if("string"==typeof r){var l=Object(Co.get)(r)?Object(Co.get)(r):Object(Co.get)(r.toUpperCase());if(l){if("degrees"===l.getUnits()&&0===r.toUpperCase().indexOf("EPSG")){var c=[a[1],a[0],a[3],a[2]];o.extent=Object(Co.transformExtent)(c,l,t)}else o.extent=Object(Co.transformExtent)(a,l,t);break}}}}else rc.warn("[ol.control.LayerImport] _getWMSLayerExtent error : layerInfo is not defined")},t.prototype._getWMSLayerInfoForLayerSwitcher=function(e,t,o){if(e.Title?(o._title=e.Title,o._description=e.Abstract?e.Abstract:e.Title):(o._title=e.Name,o._description=e.Abstract?e.Abstract:e.Name),t&&(o._legends=[{url:t}]),e.MetadataURL&&Array.isArray(e.MetadataURL)){o._metadata=[];for(var n=0;n<e.MetadataURL.length;n++){var i=e.MetadataURL[n].OnlineResource;i&&o._metadata.push({url:i})}}if(e.Attribution){var r=e.Attribution;o._originators={},r.OnlineResource&&(o._originators.url=r.OnlineResource),r.Title&&(o._originators.name=o._originators.attribution=r.Title),r.LogoURL&&r.LogoURL.OnlineResource&&(o._originators.logo=r.LogoURL.OnlineResource)}},t.prototype._addGetCapWMTSLayer=function(e){if(e&&e.Identifier){var t=this.getMap();if(t){var o={};o.layer=e.Identifier,this._getCapResponseWMTS.version&&(o.version=this._getCapResponseWMTS.version);var n=this._getWMTSLayerGetTileUrl();if(n)o.url=n;else{var i=this._getCapRequestUrl.indexOf("?");o.url=-1!==i?this._getCapRequestUrl.substring(0,i):this._getCapRequestUrl}var r,a,s,l=this._getTMSParams(e);if(o.matrixSet=l.tms,o.projection=l.projCode,o.tileGrid=new uo.a({resolutions:l.resolutions,matrixIds:l.matrixIds,origin:l.origin}),e.Style&&Array.isArray(e.Style))for(var c,u=0;u<e.Style.length&&(r=(c=e.Style[u]).Identifier,!c.isDefault);u++)c.LegendURL&&Array.isArray(c.LegendURL)&&0!==c.LegendURL.length&&(a=c.LegendURL[0].href);null==r&&rc.warn("[ol.control.LayerImport] style information not found in getCapabilities response for layer "+e.Identifier),o.style=r,e.Format&&Array.isArray(e.Format)&&(s=e.Format[0]),null==s&&rc.warn("[ol.control.LayerImport] format information not found in getCapabilities response for layer "+e.Identifier),o.format=s;var d=new g.a(o);e.Title?(d._title=e.Title,d._description=e.Abstract?e.Abstract:e.Title):(d._title=e.Identifier,d._description=e.Abstract?e.Abstract:e.Identifier),a&&(d._legends=[{url:a}]);var p,h={};h.source=d,h.extent=this._getWMTSLayerExtent(e);try{p=new bo.a(h)}catch(e){return void rc.warn("[ol.control.LayerImport] an error occured while trying to create ol.layer.Tile from getCapabilities information. error : ",e)}p.gpResultLayerId="layerimport:WMTS",t.addLayer(p)}}else rc.warn("[ol.control.LayerImport] layer information not found in getCapabilities response for layer ")},t.prototype._getWMTSLayerGetTileUrl=function(){var e;if(this._getCapResponseWMTS&&this._getCapResponseWMTS.OperationsMetadata&&this._getCapResponseWMTS.OperationsMetadata.GetTile){var t=this._getCapResponseWMTS.OperationsMetadata.GetTile;t.DCP&&t.DCP.HTTP&&t.DCP.HTTP.Get&&Array.isArray(t.DCP.HTTP.Get)&&0!==t.DCP.HTTP.Get.length&&(e=t.DCP.HTTP.Get[0].href)}return e},t.prototype._getWMTSLayerProjection=function(e,t){var o;if(e&&"object"===ic(e)){if(t&&"object"===ic(t)){if(e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){var n,i=e.TileMatrixSetLink[0].TileMatrixSet;if(t.Contents&&Array.isArray(t.Contents.TileMatrixSet))for(var r=t.Contents.TileMatrixSet,a=0;a<r.length;a++)if(r[a].Identifier===i&&r[a].TileMatrix){(n=r[a].SupportedCRS)&&"string"==typeof n&&(Object(Co.get)(n)||Object(Co.get)(n.toUpperCase()))&&(o=n);break}}return o}rc.warn("missing getCapabilities response")}else rc.warn("missing layer information (from getCapabilities)")},t.prototype._getTMSParams=function(e){var t,o,n,i={},r=[],a=[],s=[];if(this.getMap()&&e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){if(t=e.TileMatrixSetLink[0].TileMatrixSet,this._getCapResponseWMTS.Contents&&Array.isArray(this._getCapResponseWMTS.Contents.TileMatrixSet)){for(var l=this._getCapResponseWMTS.Contents.TileMatrixSet,c=0;c<l.length;c++)if(l[c].Identifier===t&&l[c].TileMatrix){var u,d,p,h,g,m=l[c];if(m.SupportedCRS&&(o=m.SupportedCRS,n=Object(Co.get)(o)),n&&n.getUnits&&(g=n.getUnits()),Array.isArray(m.TileMatrix))for(var f=0;f<m.TileMatrix.length;f++)null!=(u=m.TileMatrix[f]).Identifier&&(d=parseInt(u.Identifier,10),r.push(d)),p=u.ScaleDenominator,h="degrees"===g?28e-5*p*180/(6378137*Math.PI):28e-5*p,a.push(h),s=u.TopLeftCorner;void 0!==a.sort&&a.sort((function(e,t){return t-e})),void 0!==r.sort&&r.sort((function(e,t){return e-t}))}}else rc.warn("[ol.control.LayerImport] TileMatrixSet data not found in getCapabilities response for layer "+e.Identifier);return i.tms=t,i.projCode=o,i.matrixIds=r,i.resolutions=a,i.origin=s,i}},t.prototype._getWMTSLayerExtent=function(e){var t,o=this._getMapProjectionCode();return e.WGS84BoundingBox&&Array.isArray(e.WGS84BoundingBox)&&(t=Object(Co.transformExtent)(e.WGS84BoundingBox,"EPSG:4326",o)),t},t.prototype._getMapProjectionCode=function(){var e=this.getMap();if(e&&e.getView&&e.getView().getProjection)return e.getView().getProjection().getCode();rc.warn("unable to get layerimport's map")},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GPimportWaitingContainerVisible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)},t.prototype._hideWaitingContainer=function(){this._waiting&&(this._waitingContainer.className="GPimportWaitingContainerHidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)},t.prototype.cleanGetCapResultsList=function(){if(this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMTS=null,this._getCapResponseWMSLayers=null,this._getCapResponseWMTSLayers=null,this._getCapResultsListContainer)for(;this._getCapResultsListContainer.firstChild;)this._getCapResultsListContainer.removeChild(this._getCapResultsListContainer.firstChild)},t.prototype.cleanMapBoxResultsList=function(){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(;this._mapBoxResultsListContainer.firstChild;)this._mapBoxResultsListContainer.removeChild(this._mapBoxResultsListContainer.firstChild)},t.prototype.cleanMapBoxResults=function(e){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(var t=this._mapBoxResultsListContainer.childNodes,o=0;o<t.length;o++){var n=t[o];n.id==="GPEditorMapBoxContainer_ID_"+e&&n.remove()}},t}(xi.a),sc=ac;window.ol&&window.ol.control&&(window.ol.control.LayerImport=ac);var lc=o(79),cc=o.n(lc),uc=lt.getLogger("geoportalattribution"),dc=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");o.collapsible=!0,e.call(this,o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype,{}),t.prototype.constructor=t,t.prototype.setMap=function(o){var n=this;if(null!=o){var i=o.getControls();i.forEach((function(e){if(!(e instanceof t)&&e)for(var o=e.element.classList,n=0;n<o.length;n++)if("ol-attribution"===o[n]){i.remove(e);break}})),this._updateAttributions(o),o.on("moveend",(function(){n._updateAttributions(o)})),o.getLayers().on("add",(function(){n._updateAttributions(o)})),o.getLayers().on("remove",(function(){n._updateAttributions(o)}))}e.prototype.setMap.call(this,o)},t.prototype._updateAttributions=function(e){for(var t=this,o={},n=e.getView(),i=n.calculateExtent(e.getSize()),r=n.getProjection().getCode(),a=Object(Co.transformExtent)(i,r,"EPSG:4326"),s=[a[3],a[0],a[1],a[2]],l=n.getZoom(),c=e.getLayers().getArray(),u=0;u<c.length;u++)if(c[u].getSource)this._updateLayerAttributions(c[u],o,s,r,l);else if(c[u].getLayers){c[u].getLayers().forEach((function(e){e.getSource?t._updateLayerAttributions(e,o,s,r,l):uc.log("cannot find layer source in layergroup ",c[u])}))}},t.prototype._updateLayerAttributions=function(e,t,o,n,i){if(e){var r=e.getSource();if(r){t||(t={});var a=[],s=e.getVisible(),l=r._originators;if(void 0!==l&&r.setAttributions(),l&&s){for(var c=po.getAttributions({extent:o,crs:n,zoom:i,visibility:s,originators:l}),u=0;u<c.length;u++){var d=c[u];t.hasOwnProperty(d)||(a.push(d),t[d]=!0)}0!==a.length&&(r.setAttributions(a),this.dispatchEvent({type:"attributions:update",attributions:a}))}}else uc.trace("source is not yet loaded !")}else uc.trace("layer is null !?")},t}(cc.a),pc=dc;window.ol&&window.ol.control&&(window.ol.control.GeoportalAttribution=dc);var hc={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureLength"),e.className="GPwidget",e},_createShowMeasureLengthElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMeasureLength"),e.type="checkbox",e},_createShowMeasureLengthPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowMeasureLengthPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowMeasureLength"),t.title="Mesurer une distance",t.addEventListener?t.addEventListener("click",(function(t){e.onShowMeasureLengthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowMeasureLengthClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowMeasureLengthOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t}},gc=lt.getLogger("measurelength"),mc=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="MeasureLength",this._uid=Pi.generate(),this._showContainer=null,this._pictoContainer=null,this._initialize(o);var n=o.element?o.element:this._initializeContainer();e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Xl),qt.assign(t.prototype,hc),t.prototype.constructor=t,t.prototype.setMap=function(t){gc.trace("setMap()");var o=this.CLASSNAME;t?this.options.target||Jl.add(t,this):this.clean(),this.tools[o].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[o]=this.tools[o]),e.prototype.setMap.call(this,t)},t.prototype._initialize=function(e){gc.trace("call MeasureLength::_initialize() : ",e),this.options={},this.options.geodesic=void 0===e.geodesic||e.geodesic,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures de distance",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)},t.prototype._initializeContainer=function(){gc.trace("call MeasureLength::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowMeasureLengthElement();e.appendChild(t),this._showContainer.checked=!1;var o=this._pictoContainer=this._createShowMeasureLengthPictoElement();return e.appendChild(o),e},t.prototype.addMeasureEvents=function(){var e=this;gc.trace("call MeasureLength::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.removeMeasureEvents=function(){var e=this;gc.trace("call MeasureLength::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveHandle(t)})),t.un("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.format=function(e){gc.trace("call MeasureLength::format()");var t,o=this.getMap();if(this.options.geodesic){var n=e.getCoordinates();t=0;for(var i=o.getView().getProjection(),r=0,a=n.length-1;r<a;++r){var s=Object(Co.transform)(n[r],i,"EPSG:4326"),l=Object(Co.transform)(n[r+1],i,"EPSG:4326");t+=Object(_s.getDistance)(s,l)}}else t=Math.round(100*e.getLength())/100;return t>1e3?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},t.prototype.onShowMeasureLengthClick=function(e){gc.trace("call MeasureLength::onShowMeasureLengthClick()",e),this.onShowMeasureClick(e,"LineString")},t}(xi.a),fc=mc;window.ol&&window.ol.control&&(window.ol.control.MeasureLength=mc);var yc={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureArea"),e.className="GPwidget",e},_createShowMeasureAreaElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMeasureArea"),e.type="checkbox",e},_createShowMeasureAreaPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowMeasureAreaPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowMeasureArea"),t.title="Mesurer une surface",t.addEventListener?t.addEventListener("click",(function(t){e.onShowMeasureAreaClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowMeasureAreaClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowMeasureAreaOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t}},Ac=lt.getLogger("measurearea"),vc=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="MeasureArea",this._uid=Pi.generate(),this._showContainer=null,this._pictoContainer=null,this._initialize(o);var n=o.element?o.element:this._initializeContainer();e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Xl),qt.assign(t.prototype,yc),t.prototype.constructor=t,t.prototype.setMap=function(t){Ac.trace("setMap()");var o=this.CLASSNAME;t?this.options.target||Jl.add(t,this):this.clean(),this.tools[o].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[o]=this.tools[o]),e.prototype.setMap.call(this,t)},t.prototype._initialize=function(e){Ac.trace("call MeasureArea::_initialize() : ",e),this.options={},this.options.geodesic=void 0===e.geodesic||e.geodesic,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures de surface",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)},t.prototype._initializeContainer=function(){Ac.trace("call MeasureArea::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowMeasureAreaElement();e.appendChild(t),this._showContainer.checked=!1;var o=this._pictoContainer=this._createShowMeasureAreaPictoElement();return e.appendChild(o),e},t.prototype.addMeasureEvents=function(){var e=this;Ac.trace("call MeasureArea::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.removeMeasureEvents=function(){var e=this;Ac.trace("call MeasureArea::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.un("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.format=function(e){var t;if(Ac.trace("call MeasureArea::format()"),this.options.geodesic){var o=e.clone().getLinearRing(0).getCoordinates();t=Math.abs(Object(_s.getArea)(new Is.Polygon([o])))}else t=e.getArea();return t>1e6?Math.round(t/1e6*100)/100+" km<sup>2</sup>":t>1e5?Math.round(t/1e6*1e3)/1e3+" km<sup>2</sup>":t>1e3?10*Math.round(t/10)+" m<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"},t.prototype.onShowMeasureAreaClick=function(e){Ac.trace("call MeasureArea::onShowMeasureAreaClick()",e),this.onShowMeasureClick(e,"Polygon")},t}(xi.a),Cc=vc;window.ol&&window.ol.control&&(window.ol.control.MeasureArea=vc);var Ic={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureAzimuth"),e.className="GPwidget",e},_createShowMeasureAzimuthElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMeasureAzimuth"),e.type="checkbox",e},_createShowMeasureAzimuthPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowMeasureAzimuthPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowMeasureAzimuth"),t.title="Mesurer un azimut",t.addEventListener?t.addEventListener("click",(function(t){e.onShowMeasureAzimuthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowMeasureAzimuthClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowMeasureAzimuthOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t}},bc=lt.getLogger("measureazimut"),wc=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="MeasureAzimuth",this._uid=Pi.generate(),this._showContainer=null,this._pictoContainer=null,this._initialize(o);var n=o.element?o.element:this._initializeContainer();e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),qt.assign(t.prototype,Xl),qt.assign(t.prototype,Ic),t.prototype.constructor=t,t.prototype.setMap=function(t){bc.trace("setMap()");var o=this.CLASSNAME;t?this.options.target||Jl.add(t,this):this.clean(),this.tools[o].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[o]=this.tools[o]),e.prototype.setMap.call(this,t)},t.prototype.setGeodesic=function(e){this.options.geodesic=void 0!==e&&e},t.prototype.isGeodesic=function(){return this.options.geodesic},t.prototype._initialize=function(e){bc.trace("call MeasureAzimuth::_initialize() : ",e),this.options={},this.options.geodesic=void 0!==e.geodesic&&e.geodesic,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures d'azimuth",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)},t.prototype._initializeContainer=function(){bc.trace("call MeasureAzimuth::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowMeasureAzimuthElement();e.appendChild(t),this._showContainer.checked=!1;var o=this._pictoContainer=this._createShowMeasureAzimuthPictoElement();return e.appendChild(o),e},t.prototype.addMeasureEvents=function(){var e=this;bc.trace("call MeasureAzimuth::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveAzimutHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveAzimutHandler(t)}))},t.prototype.removeMeasureEvents=function(){var e=this;bc.trace("call MeasureAzimuth::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveAzimutHandler(t)})),t.un("pointermove",(function(t){return e.onPointerMoveAzimutHandler(t)}))},t.prototype.format=function(e){bc.trace("call MeasureAzimuth::format()");var t=this.getMap().getView().getProjection(),o=Object(Co.transform)(e.getFirstCoordinate(),t,"EPSG:4326"),n=Object(Co.transform)(e.getLastCoordinate(),t,"EPSG:4326");if(!this.options.geodesic){var i=Object(_s.getDistance)(o,n);if(bc.trace("measure between 2 points with geodesic method",i),i>500){var r=500/i;bc.trace("%",r),n=Object(Co.transform)(e.getCoordinateAt(r),t,"EPSG:4326")}}var a=Math.PI/180,s=180/Math.PI,l=a*o[0],c=a*n[0],u=a*o[1],d=a*n[1],p=Math.sin(c-l)*Math.cos(d),h=Math.cos(u)*Math.sin(d)-Math.sin(u)*Math.cos(d)*Math.cos(c-l),g=s*Math.atan2(p,h);return bc.trace("azimut",g),g<0&&(g+=360),Math.round(100*g)/100+" °"},t.prototype.onShowMeasureAzimuthClick=function(e){bc.trace("call MeasureAzimuth::onShowMeasureAzimuthClick()",e),this.onShowMeasureClick(e,"LineString")},t.prototype.onPointerMoveAzimutHandler=function(e){(this.onPointerMoveHandler(e),this.sketch)&&(this.sketch.getGeometry().getCoordinates().length>2&&this.measureDraw.finishDrawing())},t}(xi.a),Ec=wc;function _c(e){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.control&&(window.ol.control.MeasureAzimuth=wc),function(){var e=document.getElementsByTagName("script"),t=e[e.length-1].getAttribute("data-key"),o=e[e.length-1].getAttribute("data-url"),n=e[e.length-1].getAttribute("data-timeout");if(t||o){var i={apiKey:t,sync:!0,onSuccess:function(){},onFailure:function(e){throw new Error("Configuration load failed : "+e.message)}};o&&(i.customConfigFile=o,i.callbackSuffix=""),n&&(i.timeOut=n),window.Gp||st.Services.getConfig(i)}}(),ps.loadByDefault(),ps.overload();var Sc=st.Services,Mc=st.Error,xc=st.Helper,Pc=st.Protocols,kc=st.servicesDate,Gc=st.servicesVersion,Rc=window.Gp?window.Gp.Config:{},Tc=i.olExtVersion||i.version,Oc=i.date;function Lc(e,t){return function e(t,o){for(var n in t)t.hasOwnProperty(n)&&(o.hasOwnProperty(n)?"object"===_c(t[n])&&e(t[n],o[n]):o[n]=t[n])}(e,t)}var Dc={gp:{}};Dc.gp.GfiUtils=ht,Dc.includeProjections=ps.load,Dc.style=Dc.style||{},Dc.style.Editor=Vl,Dc.style.editor=Dc.style.editor||{},Dc.style.editor.Style=Al,Dc.style.editor.Filter=El,Dc.style.editor.Layer=Rl,Dc.style.editor.Legend=xl,Dc.style.editor.Group=Ll,Dc.style.editor.Themes=Il,Dc.style.editor.Search=jl,Dc.format=Dc.format||{},Dc.format.KMLExtended=Yt,Dc.format.GPXExtended=to,Dc.format.GeoJSONExtended=ro,Dc.source=Dc.source||{},Dc.source.WMTSExtended=lo,Dc.source.GeoportalWMTS=fo,Dc.source.GeoportalWMS=vo,Dc.layer=Dc.layer||{},Dc.layer.GeoportalWMTS=Eo,Dc.layer.GeoportalWMS=Mo,Dc.layer.GeoportalMapBox=_i,Dc.control=Dc.control||{},Dc.control.LayerSwitcher=ja,Dc.control.GeoportalAttribution=pc,Dc.control.GetFeatureInfo=Va,Dc.control.SearchEngine=Qa,Dc.control.Route=Qs,Dc.control.Isocurve=nl,Dc.control.GeoportalMousePosition=As,Dc.control.Drawing=Gs,Dc.control.ReverseGeocode=ll,Dc.control.LayerImport=sc,Dc.control.MeasureLength=fc,Dc.control.MeasureArea=Cc,Dc.control.MeasureAzimuth=Ec,Dc.control.DefaultMarkers=At,Dc.control.ElevationPath=nc,Dc.control.LocationSelector=Ds,Dc.control.Export=Hs,window.ol&&(Lc(Dc,window.ol),Lc(window.ol,Dc))}]);