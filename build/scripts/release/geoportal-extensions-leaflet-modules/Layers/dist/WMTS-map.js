/*!
 * @brief French Geoportal Extension for Leaflet
 *
 * This software is released under the licence CeCILL-B (Free BSD compatible)
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-fr.txt
 * @see http://www.cecill.info/
 *
 * @copyright copyright (c) IGN 
 * @license CeCILL-B
 * @author IGN
 * @version 2.2.7
 * @date 18/11/2022
 *
 */

WMTS =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/Leaflet/Layers/WMTS.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/geoportal-access-lib/src/Utils/Helper.js":
/*!***************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Utils/Helper.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Classe utilitaire\n *\n * @module Helper\n * @alias Gp.Helper\n */\nvar Helper = {\n\n    /**\n     * concatenation des parametres key/value dans les urls\n     *\n     * @method normalyzeParameters\n     * @static\n     * @param {Object} params - tableau de clef/valeur\n     *\n     * @example\n     *  Gp.Utils.Helper.normalyzeParameters ({\n     *         key1:value1,\n     *         key2:value2,\n     *         key3:value3\n     *  });\n     *  // out : \"key1=value1&key2=value2&key3=value3\"\n     *\n     * @returns {String} retourne les paramètres concaténés\n     */\n    normalyzeParameters : function (params) {\n        var myParams = null;\n\n        if (params) {\n            var tabParams = [];\n            for (var key in params) {\n                if (params.hasOwnProperty(key)) {\n                    var value = params[key];\n                    if (!value) {\n                        value = \"\";\n                    }\n                    tabParams.push(key + \"=\" + value);\n                }\n            }\n\n            myParams = tabParams.join(\"&\");\n        }\n\n        return myParams;\n    },\n\n    /**\n     * Concaténation et encodage des urls.\n     *\n     * @method normalyzeUrl\n     * @static\n     * @param {String} url - url\n     * @param {Object|String} params - tableau de clef/valeur ou string\n     * @param {Boolean} encode - true|false, false par defaut\n     *\n     * @example\n     *  Gp.Utils.Helper.normalyzeUrl (url, {\n     *         key1:value1,\n     *         key2=:value2,\n     *         key3:value3\n     *  });\n     *  // out : \"url?key1=value1&key2=value2&key3=value3\"\n     *\n     * @returns {String} retourne une url normalisée\n     */\n    normalyzeUrl : function (url, params, encode) {\n        var myUrl = url;\n\n        if (url) {\n            var k = url.indexOf(\"?\");\n            if (k === -1) { // pas de ? et KVP\n                myUrl += \"?\";\n            }\n\n            if (k !== -1 && k !== url.length - 1) { // KVP\n                myUrl += \"&\";\n            }\n        }\n\n        if (params) {\n            if (typeof params === \"string\") {\n                myUrl += params;\n            } else {\n                myUrl += this.normalyzeParameters(params);\n            }\n        }\n\n        if (encode) {\n            // FIXME bonne idée ?\n            myUrl = encodeURIComponent(myUrl);\n        }\n\n        return myUrl;\n    },\n\n    /**\n     * Indentation d'une chaine\n     *\n     * @method indent\n     * @static\n     * @param {Number} n - nombre de tabulation\n     * @param {String} msg - chaine\n     *\n     * @example\n     * Gp.Utils.Helper.indent (2, \"message à indenter\")\n     * // out\n     * // ........message à indenter\n     *\n     * @returns {String} retourne une chaine indentée\n     */\n    indent : function (n, msg) {\n        var num = n || 0;\n        return new Array(num + 1).join(\"\\t\") + msg;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Helper);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1V0aWxzL0hlbHBlci5qcz8wYmQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxjQUFjO0FBQzdCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7O0FBRUEsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUscUVBQU0sRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvVXRpbHMvSGVscGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDbGFzc2UgdXRpbGl0YWlyZVxuICpcbiAqIEBtb2R1bGUgSGVscGVyXG4gKiBAYWxpYXMgR3AuSGVscGVyXG4gKi9cbnZhciBIZWxwZXIgPSB7XG5cbiAgICAvKipcbiAgICAgKiBjb25jYXRlbmF0aW9uIGRlcyBwYXJhbWV0cmVzIGtleS92YWx1ZSBkYW5zIGxlcyB1cmxzXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIG5vcm1hbHl6ZVBhcmFtZXRlcnNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIHRhYmxlYXUgZGUgY2xlZi92YWxldXJcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogIEdwLlV0aWxzLkhlbHBlci5ub3JtYWx5emVQYXJhbWV0ZXJzICh7XG4gICAgICogICAgICAgICBrZXkxOnZhbHVlMSxcbiAgICAgKiAgICAgICAgIGtleTI6dmFsdWUyLFxuICAgICAqICAgICAgICAga2V5Mzp2YWx1ZTNcbiAgICAgKiAgfSk7XG4gICAgICogIC8vIG91dCA6IFwia2V5MT12YWx1ZTEma2V5Mj12YWx1ZTIma2V5Mz12YWx1ZTNcIlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmV0b3VybmUgbGVzIHBhcmFtw6h0cmVzIGNvbmNhdMOpbsOpc1xuICAgICAqL1xuICAgIG5vcm1hbHl6ZVBhcmFtZXRlcnMgOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHZhciBteVBhcmFtcyA9IG51bGw7XG5cbiAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIHRhYlBhcmFtcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRhYlBhcmFtcy5wdXNoKGtleSArIFwiPVwiICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbXlQYXJhbXMgPSB0YWJQYXJhbXMuam9pbihcIiZcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbXlQYXJhbXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbmNhdMOpbmF0aW9uIGV0IGVuY29kYWdlIGRlcyB1cmxzLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBub3JtYWx5emVVcmxcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIHVybFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gcGFyYW1zIC0gdGFibGVhdSBkZSBjbGVmL3ZhbGV1ciBvdSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuY29kZSAtIHRydWV8ZmFsc2UsIGZhbHNlIHBhciBkZWZhdXRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogIEdwLlV0aWxzLkhlbHBlci5ub3JtYWx5emVVcmwgKHVybCwge1xuICAgICAqICAgICAgICAga2V5MTp2YWx1ZTEsXG4gICAgICogICAgICAgICBrZXkyPTp2YWx1ZTIsXG4gICAgICogICAgICAgICBrZXkzOnZhbHVlM1xuICAgICAqICB9KTtcbiAgICAgKiAgLy8gb3V0IDogXCJ1cmw/a2V5MT12YWx1ZTEma2V5Mj12YWx1ZTIma2V5Mz12YWx1ZTNcIlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmV0b3VybmUgdW5lIHVybCBub3JtYWxpc8OpZVxuICAgICAqL1xuICAgIG5vcm1hbHl6ZVVybCA6IGZ1bmN0aW9uICh1cmwsIHBhcmFtcywgZW5jb2RlKSB7XG4gICAgICAgIHZhciBteVVybCA9IHVybDtcblxuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICB2YXIgayA9IHVybC5pbmRleE9mKFwiP1wiKTtcbiAgICAgICAgICAgIGlmIChrID09PSAtMSkgeyAvLyBwYXMgZGUgPyBldCBLVlBcbiAgICAgICAgICAgICAgICBteVVybCArPSBcIj9cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGsgIT09IC0xICYmIGsgIT09IHVybC5sZW5ndGggLSAxKSB7IC8vIEtWUFxuICAgICAgICAgICAgICAgIG15VXJsICs9IFwiJlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBteVVybCArPSBwYXJhbXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG15VXJsICs9IHRoaXMubm9ybWFseXplUGFyYW1ldGVycyhwYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuY29kZSkge1xuICAgICAgICAgICAgLy8gRklYTUUgYm9ubmUgaWTDqWUgP1xuICAgICAgICAgICAgbXlVcmwgPSBlbmNvZGVVUklDb21wb25lbnQobXlVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG15VXJsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbmRlbnRhdGlvbiBkJ3VuZSBjaGFpbmVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgaW5kZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gbm9tYnJlIGRlIHRhYnVsYXRpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gY2hhaW5lXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEdwLlV0aWxzLkhlbHBlci5pbmRlbnQgKDIsIFwibWVzc2FnZSDDoCBpbmRlbnRlclwiKVxuICAgICAqIC8vIG91dFxuICAgICAqIC8vIC4uLi4uLi4ubWVzc2FnZSDDoCBpbmRlbnRlclxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmV0b3VybmUgdW5lIGNoYWluZSBpbmRlbnTDqWVcbiAgICAgKi9cbiAgICBpbmRlbnQgOiBmdW5jdGlvbiAobiwgbXNnKSB7XG4gICAgICAgIHZhciBudW0gPSBuIHx8IDA7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXkobnVtICsgMSkuam9pbihcIlxcdFwiKSArIG1zZztcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIZWxwZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Utils/Helper.js\n");

/***/ }),

/***/ "./node_modules/loglevel/lib/loglevel.js":
/*!***********************************************!*\
  !*** ./node_modules/loglevel/lib/loglevel.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      defaultLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = level;\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          self.setLevel(defaultLevel, false);\n          clearPersistedLevel();\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzPzVjN2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBMEM7QUFDbEQsUUFBUSxvQ0FBTyxVQUFVO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0dBQUM7QUFDMUIsS0FBSyxNQUFNLEVBSU47QUFDTCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekIsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckUsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEscUJBQXFCO0FBQ3JCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiogbG9nbGV2ZWwgLSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWxcbipcbiogQ29weXJpZ2h0IChjKSAyMDEzIFRpbSBQZXJyeVxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4qL1xuKGZ1bmN0aW9uIChyb290LCBkZWZpbml0aW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LmxvZyA9IGRlZmluaXRpb24oKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIFNsaWdodGx5IGR1YmlvdXMgdHJpY2tzIHRvIGN1dCBkb3duIG1pbmltaXplZCBmaWxlIHNpemVcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG4gICAgdmFyIHVuZGVmaW5lZFR5cGUgPSBcInVuZGVmaW5lZFwiO1xuICAgIHZhciBpc0lFID0gKHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZFR5cGUpICYmICh0eXBlb2Ygd2luZG93Lm5hdmlnYXRvciAhPT0gdW5kZWZpbmVkVHlwZSkgJiYgKFxuICAgICAgICAvVHJpZGVudFxcL3xNU0lFIC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICApO1xuXG4gICAgdmFyIGxvZ01ldGhvZHMgPSBbXG4gICAgICAgIFwidHJhY2VcIixcbiAgICAgICAgXCJkZWJ1Z1wiLFxuICAgICAgICBcImluZm9cIixcbiAgICAgICAgXCJ3YXJuXCIsXG4gICAgICAgIFwiZXJyb3JcIlxuICAgIF07XG5cbiAgICAvLyBDcm9zcy1icm93c2VyIGJpbmQgZXF1aXZhbGVudCB0aGF0IHdvcmtzIGF0IGxlYXN0IGJhY2sgdG8gSUU2XG4gICAgZnVuY3Rpb24gYmluZE1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IG9ialttZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QuYmluZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5iaW5kKG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKG1ldGhvZCwgb2JqKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBNaXNzaW5nIGJpbmQgc2hpbSBvciBJRTggKyBNb2Rlcm5penIsIGZhbGxiYWNrIHRvIHdyYXBwaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KG1ldGhvZCwgW29iaiwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRyYWNlKCkgZG9lc24ndCBwcmludCB0aGUgbWVzc2FnZSBpbiBJRSwgc28gZm9yIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIHdyYXAgaXRcbiAgICBmdW5jdGlvbiB0cmFjZUZvcklFKCkge1xuICAgICAgICBpZiAoY29uc29sZS5sb2cpIHtcbiAgICAgICAgICAgIGlmIChjb25zb2xlLmxvZy5hcHBseSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluIG9sZCBJRSwgbmF0aXZlIGNvbnNvbGUgbWV0aG9kcyB0aGVtc2VsdmVzIGRvbid0IGhhdmUgYXBwbHkoKS5cbiAgICAgICAgICAgICAgICBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkoY29uc29sZS5sb2csIFtjb25zb2xlLCBhcmd1bWVudHNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uc29sZS50cmFjZSkgY29uc29sZS50cmFjZSgpO1xuICAgIH1cblxuICAgIC8vIEJ1aWxkIHRoZSBiZXN0IGxvZ2dpbmcgbWV0aG9kIHBvc3NpYmxlIGZvciB0aGlzIGVudlxuICAgIC8vIFdoZXJldmVyIHBvc3NpYmxlIHdlIHdhbnQgdG8gYmluZCwgbm90IHdyYXAsIHRvIHByZXNlcnZlIHN0YWNrIHRyYWNlc1xuICAgIGZ1bmN0aW9uIHJlYWxNZXRob2QobWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAobWV0aG9kTmFtZSA9PT0gJ2RlYnVnJykge1xuICAgICAgICAgICAgbWV0aG9kTmFtZSA9ICdsb2cnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIG1ldGhvZCBwb3NzaWJsZSwgZm9yIG5vdyAtIGZpeGVkIGxhdGVyIGJ5IGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXNcbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2ROYW1lID09PSAndHJhY2UnICYmIGlzSUUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZUZvcklFO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnNvbGVbbWV0aG9kTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmRNZXRob2QoY29uc29sZSwgbWV0aG9kTmFtZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uc29sZS5sb2cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmRNZXRob2QoY29uc29sZSwgJ2xvZycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGVzZSBwcml2YXRlIGZ1bmN0aW9ucyBhbHdheXMgbmVlZCBgdGhpc2AgdG8gYmUgc2V0IHByb3Blcmx5XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlTG9nZ2luZ01ldGhvZHMobGV2ZWwsIGxvZ2dlck5hbWUpIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2dNZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IGxvZ01ldGhvZHNbaV07XG4gICAgICAgICAgICB0aGlzW21ldGhvZE5hbWVdID0gKGkgPCBsZXZlbCkgP1xuICAgICAgICAgICAgICAgIG5vb3AgOlxuICAgICAgICAgICAgICAgIHRoaXMubWV0aG9kRmFjdG9yeShtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWZpbmUgbG9nLmxvZyBhcyBhbiBhbGlhcyBmb3IgbG9nLmRlYnVnXG4gICAgICAgIHRoaXMubG9nID0gdGhpcy5kZWJ1ZztcbiAgICB9XG5cbiAgICAvLyBJbiBvbGQgSUUgdmVyc2lvbnMsIHRoZSBjb25zb2xlIGlzbid0IHByZXNlbnQgdW50aWwgeW91IGZpcnN0IG9wZW4gaXQuXG4gICAgLy8gV2UgYnVpbGQgcmVhbE1ldGhvZCgpIHJlcGxhY2VtZW50cyBoZXJlIHRoYXQgcmVnZW5lcmF0ZSBsb2dnaW5nIG1ldGhvZHNcbiAgICBmdW5jdGlvbiBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzKG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IHVuZGVmaW5lZFR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbCh0aGlzLCBsZXZlbCwgbG9nZ2VyTmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEJ5IGRlZmF1bHQsIHdlIHVzZSBjbG9zZWx5IGJvdW5kIHJlYWwgbWV0aG9kcyB3aGVyZXZlciBwb3NzaWJsZSwgYW5kXG4gICAgLy8gb3RoZXJ3aXNlIHdlIHdhaXQgZm9yIGEgY29uc29sZSB0byBhcHBlYXIsIGFuZCB0aGVuIHRyeSBhZ2Fpbi5cbiAgICBmdW5jdGlvbiBkZWZhdWx0TWV0aG9kRmFjdG9yeShtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICByZXR1cm4gcmVhbE1ldGhvZChtZXRob2ROYW1lKSB8fFxuICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIExvZ2dlcihuYW1lLCBkZWZhdWx0TGV2ZWwsIGZhY3RvcnkpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBjdXJyZW50TGV2ZWw7XG4gICAgICBkZWZhdWx0TGV2ZWwgPSBkZWZhdWx0TGV2ZWwgPT0gbnVsbCA/IFwiV0FSTlwiIDogZGVmYXVsdExldmVsO1xuXG4gICAgICB2YXIgc3RvcmFnZUtleSA9IFwibG9nbGV2ZWxcIjtcbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBzdG9yYWdlS2V5ICs9IFwiOlwiICsgbmFtZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIHtcbiAgICAgICAgc3RvcmFnZUtleSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGVyc2lzdExldmVsSWZQb3NzaWJsZShsZXZlbE51bSkge1xuICAgICAgICAgIHZhciBsZXZlbE5hbWUgPSAobG9nTWV0aG9kc1tsZXZlbE51bV0gfHwgJ3NpbGVudCcpLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gdW5kZWZpbmVkVHlwZSB8fCAhc3RvcmFnZUtleSkgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gVXNlIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGVcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldID0gbGV2ZWxOYW1lO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICAgLy8gVXNlIHNlc3Npb24gY29va2llIGFzIGZhbGxiYWNrXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9XG4gICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VLZXkpICsgXCI9XCIgKyBsZXZlbE5hbWUgKyBcIjtcIjtcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBlcnNpc3RlZExldmVsKCkge1xuICAgICAgICAgIHZhciBzdG9yZWRMZXZlbDtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSB1bmRlZmluZWRUeXBlIHx8ICFzdG9yYWdlS2V5KSByZXR1cm47XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleV07XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29va2llcyBpZiBsb2NhbCBzdG9yYWdlIGdpdmVzIHVzIG5vdGhpbmdcbiAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZExldmVsID09PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB2YXIgY29va2llID0gd2luZG93LmRvY3VtZW50LmNvb2tpZTtcbiAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNvb2tpZS5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiKTtcbiAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IC9eKFteO10rKS8uZXhlYyhjb29raWUuc2xpY2UobG9jYXRpb24pKVsxXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHRoZSBzdG9yZWQgbGV2ZWwgaXMgbm90IHZhbGlkLCB0cmVhdCBpdCBhcyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG4gICAgICAgICAgaWYgKHNlbGYubGV2ZWxzW3N0b3JlZExldmVsXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHN0b3JlZExldmVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdG9yZWRMZXZlbDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xlYXJQZXJzaXN0ZWRMZXZlbCgpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gdW5kZWZpbmVkVHlwZSB8fCAhc3RvcmFnZUtleSkgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gVXNlIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGVcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG5cbiAgICAgICAgICAvLyBVc2Ugc2Vzc2lvbiBjb29raWUgYXMgZmFsbGJhY2tcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuY29va2llID1cbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RvcmFnZUtleSkgKyBcIj07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVENcIjtcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKlxuICAgICAgICogUHVibGljIGxvZ2dlciBBUEkgLSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BpbXRlcnJ5L2xvZ2xldmVsIGZvciBkZXRhaWxzXG4gICAgICAgKlxuICAgICAgICovXG5cbiAgICAgIHNlbGYubmFtZSA9IG5hbWU7XG5cbiAgICAgIHNlbGYubGV2ZWxzID0geyBcIlRSQUNFXCI6IDAsIFwiREVCVUdcIjogMSwgXCJJTkZPXCI6IDIsIFwiV0FSTlwiOiAzLFxuICAgICAgICAgIFwiRVJST1JcIjogNCwgXCJTSUxFTlRcIjogNX07XG5cbiAgICAgIHNlbGYubWV0aG9kRmFjdG9yeSA9IGZhY3RvcnkgfHwgZGVmYXVsdE1ldGhvZEZhY3Rvcnk7XG5cbiAgICAgIHNlbGYuZ2V0TGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRMZXZlbDtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwsIHBlcnNpc3QpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcInN0cmluZ1wiICYmIHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbGV2ZWwgPSBzZWxmLmxldmVsc1tsZXZlbC50b1VwcGVyQ2FzZSgpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJudW1iZXJcIiAmJiBsZXZlbCA+PSAwICYmIGxldmVsIDw9IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xuICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgICAgICAgaWYgKHBlcnNpc3QgIT09IGZhbHNlKSB7ICAvLyBkZWZhdWx0cyB0byB0cnVlXG4gICAgICAgICAgICAgICAgICBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbChzZWxmLCBsZXZlbCwgbmFtZSk7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gdW5kZWZpbmVkVHlwZSAmJiBsZXZlbCA8IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTm8gY29uc29sZSBhdmFpbGFibGUgZm9yIGxvZ2dpbmdcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IFwibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogXCIgKyBsZXZlbDtcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLnNldERlZmF1bHRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgIGRlZmF1bHRMZXZlbCA9IGxldmVsO1xuICAgICAgICAgIGlmICghZ2V0UGVyc2lzdGVkTGV2ZWwoKSkge1xuICAgICAgICAgICAgICBzZWxmLnNldExldmVsKGxldmVsLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VsZi5yZXNldExldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuc2V0TGV2ZWwoZGVmYXVsdExldmVsLCBmYWxzZSk7XG4gICAgICAgICAgY2xlYXJQZXJzaXN0ZWRMZXZlbCgpO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5lbmFibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XG4gICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5UUkFDRSwgcGVyc2lzdCk7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmRpc2FibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XG4gICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5TSUxFTlQsIHBlcnNpc3QpO1xuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIHRoZSByaWdodCBsZXZlbFxuICAgICAgdmFyIGluaXRpYWxMZXZlbCA9IGdldFBlcnNpc3RlZExldmVsKCk7XG4gICAgICBpZiAoaW5pdGlhbExldmVsID09IG51bGwpIHtcbiAgICAgICAgICBpbml0aWFsTGV2ZWwgPSBkZWZhdWx0TGV2ZWw7XG4gICAgICB9XG4gICAgICBzZWxmLnNldExldmVsKGluaXRpYWxMZXZlbCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICpcbiAgICAgKiBUb3AtbGV2ZWwgQVBJXG4gICAgICpcbiAgICAgKi9cblxuICAgIHZhciBkZWZhdWx0TG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG4gICAgdmFyIF9sb2dnZXJzQnlOYW1lID0ge307XG4gICAgZGVmYXVsdExvZ2dlci5nZXRMb2dnZXIgPSBmdW5jdGlvbiBnZXRMb2dnZXIobmFtZSkge1xuICAgICAgICBpZiAoKHR5cGVvZiBuYW1lICE9PSBcInN5bWJvbFwiICYmIHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB8fCBuYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHN1cHBseSBhIG5hbWUgd2hlbiBjcmVhdGluZyBhIGxvZ2dlci5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9nZ2VyID0gX2xvZ2dlcnNCeU5hbWVbbmFtZV07XG4gICAgICAgIGlmICghbG9nZ2VyKSB7XG4gICAgICAgICAgbG9nZ2VyID0gX2xvZ2dlcnNCeU5hbWVbbmFtZV0gPSBuZXcgTG9nZ2VyKFxuICAgICAgICAgICAgbmFtZSwgZGVmYXVsdExvZ2dlci5nZXRMZXZlbCgpLCBkZWZhdWx0TG9nZ2VyLm1ldGhvZEZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dnZXI7XG4gICAgfTtcblxuICAgIC8vIEdyYWIgdGhlIGN1cnJlbnQgZ2xvYmFsIGxvZyB2YXJpYWJsZSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuICAgIHZhciBfbG9nID0gKHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZFR5cGUpID8gd2luZG93LmxvZyA6IHVuZGVmaW5lZDtcbiAgICBkZWZhdWx0TG9nZ2VyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZFR5cGUgJiZcbiAgICAgICAgICAgICAgIHdpbmRvdy5sb2cgPT09IGRlZmF1bHRMb2dnZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2cgPSBfbG9nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRMb2dnZXI7XG4gICAgfTtcblxuICAgIGRlZmF1bHRMb2dnZXIuZ2V0TG9nZ2VycyA9IGZ1bmN0aW9uIGdldExvZ2dlcnMoKSB7XG4gICAgICAgIHJldHVybiBfbG9nZ2Vyc0J5TmFtZTtcbiAgICB9O1xuXG4gICAgLy8gRVM2IGRlZmF1bHQgZXhwb3J0LCBmb3IgY29tcGF0aWJpbGl0eVxuICAgIGRlZmF1bHRMb2dnZXJbJ2RlZmF1bHQnXSA9IGRlZmF1bHRMb2dnZXI7XG5cbiAgICByZXR1cm4gZGVmYXVsdExvZ2dlcjtcbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/loglevel/lib/loglevel.js\n");

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/*! exports provided: name, description, version, date, leafletExtName, leafletExtVersion, olExtName, olExtVersion, itownsExtName, itownsExtVersion, main, types, module, directories, scripts, repository, author, keywords, license, bugs, homepage, dependencies, devDependencies, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"name\\\":\\\"geoportal-extensions\\\",\\\"description\\\":\\\"French Geoportal Extensions for OpenLayers, Leaflet and iTowns libraries\\\",\\\"version\\\":\\\"2.7.2\\\",\\\"date\\\":\\\"18/11/2022\\\",\\\"leafletExtName\\\":\\\"French Geoportal Extension for Leaflet\\\",\\\"leafletExtVersion\\\":\\\"2.2.7\\\",\\\"olExtName\\\":\\\"French Geoportal Extension for OpenLayers\\\",\\\"olExtVersion\\\":\\\"3.2.18\\\",\\\"itownsExtName\\\":\\\"French Geoportal Extension for Itowns\\\",\\\"itownsExtVersion\\\":\\\"2.3.9\\\",\\\"main\\\":\\\"dist/leaflet/GpPluginLeaflet.js, dist/openlayers/GpPluginOpenLayers.js, dist/itowns/GpPluginItowns.js\\\",\\\"types\\\":\\\"dist/leaflet/index.d.ts, dist/openlayers/index.d.ts, dist/itowns/index.d.ts\\\",\\\"module\\\":\\\"src/Leaflet/index.js, src/OpenLayers/index.js, src/Itowns/index.js\\\",\\\"directories\\\":{},\\\"scripts\\\":{\\\"setup\\\":\\\"npm install\\\",\\\"clean\\\":\\\"echo \\\\\\\"Warning: target not yet implemented!\\\\\\\" && exit 0\\\",\\\"eslint\\\":\\\"eslint src/\\\",\\\"test\\\":\\\"npm run test:serve\\\",\\\"test:serve\\\":\\\"cd test && webpack-dev-server --hot --config webpack.test.serve.js\\\",\\\"sample\\\":\\\"npm run sample:serve\\\",\\\"sample:serve\\\":\\\"npm run sample:ol:serve\\\",\\\"sample:itowns:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.itowns --mode=development --https --open-page samples/index-itowns-map.html --content-base . --output-public-path '/dist/itowns/' --port 9001 --open\\\",\\\"sample:leaflet:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.leaflet --mode=development --https --open-page samples/index-leaflet-map.html --content-base . --output-public-path '/dist/leaflet/' --port 9001 --open\\\",\\\"sample:ol:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.openlayers --mode=development --https --open-page samples/index-openlayers-map.html --content-base . --output-public-path '/dist/openlayers/' --port 9001 --open\\\",\\\"generate-types:ol\\\":\\\"npx tsc -p build/types/tsconfig-openlayers.json\\\",\\\"generate-types:leaflet\\\":\\\"npx tsc -p build/types/tsconfig-leaflet.json\\\",\\\"generate-types:itowns\\\":\\\"npx tsc -p build/types/tsconfig-itowns.json\\\",\\\"generate-jsdoc:ol\\\":\\\"jsdoc -c build/jsdoc/jsdoc-openlayers.json\\\",\\\"generate-jsdoc:leaflet\\\":\\\"jsdoc -c build/jsdoc/jsdoc-leaflet.json\\\",\\\"generate-jsdoc:itowns\\\":\\\"jsdoc -c build/jsdoc/jsdoc-itowns.json\\\",\\\"doc\\\":\\\"npm run doc:serve\\\",\\\"doc:serve\\\":\\\"npm run doc:ol:serve\\\",\\\"doc:itowns:serve\\\":\\\"webpack-dev-server --hot  --config build/webpack/webpack.config.itowns --content-base jsdoc/itowns --port 9001 --open\\\",\\\"doc:leaflet:serve\\\":\\\"webpack-dev-server --hot  --config build/webpack/webpack.config.leaflet --content-base jsdoc/leaflet --port 9001 --open\\\",\\\"doc:ol:serve\\\":\\\"webpack-dev-server --hot  --config build/webpack/webpack.config.openlayers --content-base jsdoc/openlayers --port 9001 --open\\\",\\\"build:dev\\\":\\\"npm-run-all --print-label --print-name build:*:dev\\\",\\\"build:prod\\\":\\\"npm-run-all --print-label --print-name build:*:prod\\\",\\\"build:src\\\":\\\"npm-run-all --print-label --print-name build:*:src\\\",\\\"build\\\":\\\"npm-run-all --print-label --print-name build:*:*\\\",\\\"build:itowns\\\":\\\"npm-run-all --print-label --print-name build:itowns:*\\\",\\\"build:itowns:dev\\\":\\\"webpack --config build/webpack/webpack.config.itowns --mode=development\\\",\\\"build:itowns:prod\\\":\\\"webpack --config build/webpack/webpack.config.itowns --mode=production\\\",\\\"build:itowns:src\\\":\\\"webpack --config build/webpack/webpack.config.itowns --mode=none\\\",\\\"build:ol\\\":\\\"npm-run-all --print-label --print-name build:ol:*\\\",\\\"build:ol:dev\\\":\\\"webpack --config build/webpack/webpack.config.openlayers --mode=development\\\",\\\"build:ol:prod\\\":\\\"webpack --config build/webpack/webpack.config.openlayers --mode=production\\\",\\\"build:ol:src\\\":\\\"webpack --config build/webpack/webpack.config.openlayers --mode=none\\\",\\\"build:ol-modules\\\":\\\"npm-run-all --print-label --print-name build:ol-modules:*\\\",\\\"build:ol-modules:dev\\\":\\\"webpack --config build/webpack/webpack.config.openlayers.modules --mode=development\\\",\\\"build:ol-modules:prod\\\":\\\"webpack --config build/webpack/webpack.config.openlayers.modules --mode=production\\\",\\\"build:ol-modules:src\\\":\\\"webpack --config build/webpack/webpack.config.openlayers.modules --mode=none\\\",\\\"build:leaflet\\\":\\\"npm-run-all --print-label --print-name build:leaflet:*\\\",\\\"build:leaflet:dev\\\":\\\"webpack --config build/webpack/webpack.config.leaflet --mode=development\\\",\\\"build:leaflet:prod\\\":\\\"webpack --config build/webpack/webpack.config.leaflet --mode=production\\\",\\\"build:leaflet:src\\\":\\\"webpack --config build/webpack/webpack.config.leaflet --mode=none\\\",\\\"build:leaflet-modules\\\":\\\"npm-run-all --print-label --print-name build:leaflet-modules:*\\\",\\\"build:leaflet-modules:dev\\\":\\\"webpack --config build/webpack/webpack.config.leaflet.modules --mode=development\\\",\\\"build:leaflet-modules:prod\\\":\\\"webpack --config build/webpack/webpack.config.leaflet.modules --mode=production\\\",\\\"build:leaflet-modules:src\\\":\\\"webpack --config build/webpack/webpack.config.leaflet.modules --mode=none\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"https://github.com/IGNF/geoportal-extensions.git\\\"},\\\"author\\\":\\\"IGNF\\\",\\\"keywords\\\":[\\\"geoportail\\\",\\\"javascript\\\",\\\"OpenLayers\\\",\\\"Leaflet\\\",\\\"Itowns\\\",\\\"3D\\\"],\\\"license\\\":\\\"CECILL-B\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/IGNF/geoportal-extensions/issues\\\"},\\\"homepage\\\":\\\"https://github.com/IGNF/geoportal-extensions#readme\\\",\\\"dependencies\\\":{\\\"@mapbox/mapbox-gl-style-spec\\\":\\\"13.20.1\\\",\\\"eventbusjs\\\":\\\"0.2.0\\\",\\\"geoportal-access-lib\\\":\\\"3.2.0\\\",\\\"itowns\\\":\\\"2.38.2\\\",\\\"leaflet\\\":\\\"1.7.1\\\",\\\"leaflet-draw\\\":\\\"1.0.4\\\",\\\"loglevel\\\":\\\"^1.6.7\\\",\\\"markdown-toc\\\":\\\"^1.2.0\\\",\\\"ol\\\":\\\"6.9.0\\\",\\\"ol-mapbox-style\\\":\\\"6.7.0\\\",\\\"proj4\\\":\\\"2.7.5\\\",\\\"proj4leaflet\\\":\\\"1.0.2\\\",\\\"sortablejs\\\":\\\"1.14.0\\\",\\\"three\\\":\\\"0.137.5\\\",\\\"typescript\\\":\\\"^4.5.5\\\",\\\"whatwg-fetch\\\":\\\"3.0.0\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"^7.4.4\\\",\\\"@babel/plugin-transform-template-literals\\\":\\\"^7.7.4\\\",\\\"@babel/preset-env\\\":\\\"^7.4.4\\\",\\\"babel-loader\\\":\\\"^8.0.5\\\",\\\"chai\\\":\\\"^4.2.0\\\",\\\"chalk\\\":\\\"^4.0.0\\\",\\\"clean-webpack-plugin\\\":\\\"^3.0.0\\\",\\\"copy-webpack-plugin\\\":\\\"^5.0.3\\\",\\\"core-js\\\":\\\"^3.6.4\\\",\\\"css-loader\\\":\\\"^3.4.2\\\",\\\"eslint\\\":\\\"^6.8.0\\\",\\\"eslint-config-standard\\\":\\\"^14.1.1\\\",\\\"eslint-loader\\\":\\\"^4.0.0\\\",\\\"eslint-plugin-import\\\":\\\"^2.17.2\\\",\\\"eslint-plugin-node\\\":\\\"^11.1.0\\\",\\\"eslint-plugin-promise\\\":\\\"^4.1.1\\\",\\\"eslint-plugin-standard\\\":\\\"^4.0.0\\\",\\\"exports-loader\\\":\\\"^0.7.0\\\",\\\"expose-loader\\\":\\\"^0.7.5\\\",\\\"fs-extra\\\":\\\"^9.0.0\\\",\\\"handlebars\\\":\\\"^4.7.5\\\",\\\"handlebars-layouts\\\":\\\"^3.1.4\\\",\\\"html-webpack-plugin\\\":\\\"^4.0.4\\\",\\\"jsdoc-webpack-plugin\\\":\\\"^0.3.0\\\",\\\"mini-css-extract-plugin\\\":\\\"^0.9.0\\\",\\\"mocha\\\":\\\"^7.1.1\\\",\\\"mocha-loader\\\":\\\"^5.0.0\\\",\\\"npm-run-all\\\":\\\"^4.1.5\\\",\\\"optimize-css-assets-webpack-plugin\\\":\\\"^5.0.1\\\",\\\"path\\\":\\\"^0.12.7\\\",\\\"replace-bundle-webpack-plugin\\\":\\\"^1.0.0\\\",\\\"requirejs\\\":\\\"^2.3.6\\\",\\\"responsive-loader\\\":\\\"^1.2.0\\\",\\\"speed-measure-webpack-plugin\\\":\\\"^1.3.0\\\",\\\"string-template\\\":\\\"^1.0.0\\\",\\\"style-loader\\\":\\\"^1.1.3\\\",\\\"terser-webpack-plugin\\\":\\\"^2.0.0\\\",\\\"url-loader\\\":\\\"^4.0.0\\\",\\\"webpack\\\":\\\"^4.30.0\\\",\\\"webpack-cli\\\":\\\"^3.3.1\\\",\\\"webpack-dev-server\\\":\\\"^3.3.1\\\",\\\"webpack-node-externals\\\":\\\"^1.7.2\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL3BhY2thZ2UuanNvbi5qcyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./package.json\n");

/***/ }),

/***/ "./src/Common/Utils/LayerUtils.js":
/*!****************************************!*\
  !*** ./src/Common/Utils/LayerUtils.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n* @module LayerUtils\n* @alias Gp.LayerUtils\n* @description\n* ...\n*\n* @example\n* getZoomLevelFromScaleDenominator();\n* getAttributions();\n* intersects();\n*/\nvar LayerUtils = {\n  /**\n   * Obtenir le ZoomLevel à partir du ScaleDenominator\n   * @function getZoomLevelFromScaleDenominator\n   * @param {Number} scaleDenominator - the scale denominator\n   * @param {String} crs - the crs\n   *\n   * @returns {Integer} zoom level\n   */\n  getZoomLevelFromScaleDenominator: function getZoomLevelFromScaleDenominator(scaleDenominator, crs) {\n    // ------------------------------------------------- //\n    // Code issu de l'API Geoportal/Catalogue/Config.js  //\n    // ------------------------------------------------- //\n    //     var configuration = Gp.Config;\n    //     var general = configuration.generalOptions;\n    //     var layers  = configuration.layersContext;\n    //\n    //     for (var tms in general.tileMatrixSets) {\n    //         var tileMatrixSet = general.tileMatrixSets[tms];\n    //         // IGN's WMTS bug : epsg:nnnn instead of EPSG:nnnn\n    //         var crs = tileMatrixSet.supportedCRS = tileMatrixSet.supportedCRS.replace(/epsg/,\"EPSG\");\n    //\n    //         if (!Geoportal.Catalogue.CRSRESOLUTIONS.hasOwnProperty(crs)) {\n    //             var p= new OpenLayers.Projection(crs);\n    //             Geoportal.Catalogue.CRSRESOLUTIONS[crs]= [];\n    //             var matrixIds= tileMatrixSet.matrixIds;\n    //             for (var i= 0, li= matrixIds.length; i<li; ++i) {\n    //                 var mid= matrixIds[i];\n    //                 Geoportal.Catalogue.CRSRESOLUTIONS[crs].push(\n    //                     0.00028*mid.scaleDenominator\n    //                     /(OpenLayers.METERS_PER_INCH*OpenLayers.INCHES_PER_UNIT[p.getUnits()]));\n    //                     mid.supportedCRS= mid.supportedCRS.replace(/epsg/,\"EPSG\");\n    //                 }\n    //                 Geoportal.Catalogue.CRSRESOLUTIONS[crs].sort(function (a,b){ return b-a; });\n    //             }\n    //         }\n    //         var llR= Geoportal.Catalogue.CRSRESOLUTIONS['CRS:84'];\n    //         if (!llR) {\n    //             llR= Geoportal.Catalogue.CRSRESOLUTIONS['CRS:84']= general.resolutions.slice();\n    //         }\n    //         var wmR= Geoportal.Catalogue.CRSRESOLUTIONS['EPSG:3857'];\n    //         if (!wmR) {//FIXME : should never happened !!\n    //             // reproject resolutions from CRS84 to WebMercator (transform resolutions from degree/px to meter/px)\n    //             wmR= Geoportal.Catalogue.CRSRESOLUTIONS['EPSG:3857']= new Array(llR.length);\n    //             for (var i= 0, len= llR.length; i<len; i++) {\n    //                 var pt= new OpenLayers.LonLat(llR[i], 0);\n    //                 pt.transform(OpenLayers.Projection.CRS84, OpenLayers.Projection.WebMercator);\n    //                 wmR[i]= pt.lon;\n    //             }\n    //         }\n    //         Geoportal.Catalogue.RESOLUTIONS= wmR;\n    //\n    //         var getResolutionsFromCRS= function(crs) {\n    //             if (OpenLayers.Projection.WebMercator.isAliasOf(crs)) {\n    //                 return wmR;\n    //             }\n    //             if (OpenLayers.Projection.CRS84.isAliasOf(crs)) {\n    //                 return llR;\n    //             }\n    //             return Geoportal.Catalogue.CRSRESOLUTIONS[crs]?Geoportal.Catalogue.CRSRESOLUTIONS[crs]:null ;\n    //         };\n    //\n    //         var retrieveZoomFromResolution= function(resolutions, resolution) {\n    //             for (var i= 0, li= resolutions.length; i<li; i++) {\n    //                 if (resolutions[i]-resolution <= resolutions[li-1]) {\n    //                     return i;\n    //                 }\n    //             }\n    //             return -1;\n    //         };\n    //\n    //         var getZoomLevelFromScaleDenominator= function(scaleDenominator,crs) {\n    //             var resolution= scaleDenominator * 0.00028;\n    //             var R= getResolutionsFromCRS(crs);\n    //             if (R) {\n    //                 return retrieveZoomFromResolution(R,resolution);\n    //             }\n    //             resolution= resolution/(OpenLayers.METERS_PER_INCH * OpenLayers.INCHES_PER_UNIT[\"degrees\"]);\n    //             return retrieveZoomFromResolution(llR,resolution);\n    //         };\n    //\n    //         var getZoomLevelFromResolution= function(resolution,crs){\n    //             var R= getResolutionsFromCRS(crs);\n    //             if (R) {\n    //                 return retrieveZoomFromResolution(R,resolution);\n    //             }\n    //             var pt0= new OpenLayers.LonLat(0, 0);\n    //             var pt1= new OpenLayers.LonLat(1, 0);\n    //             pt0.transform(new OpenLayers.Projection(crs),OpenLayers.Projection.CRS84);\n    //             pt1.transform(new OpenLayers.Projection(crs),OpenLayers.Projection.CRS84);\n    //             resolution= resolution*(Math.abs(pt1.lon-pt0.lon));\n    //             return retrieveZoomFromResolution(llR,resolution);\n    //         };\n    // par defaut, on utilise la projection WebMercator (EPSG:3857 = PM)\n    // soit la liste des resolutions natives\n    var resolutionsNatives = {};\n\n    switch (crs) {\n      case \"EPSG:2154\":\n        resolutionsNatives = {\n          0: 104579.224549894,\n          1: 52277.5323537905,\n          2: 26135.4870785954,\n          3: 13066.8913818,\n          4: 6533.2286041135,\n          5: 3266.5595244627,\n          6: 1633.2660045974,\n          7: 816.629554986,\n          8: 408.3139146768,\n          9: 204.1567415109,\n          10: 102.0783167832,\n          11: 51.0391448966,\n          12: 25.5195690743,\n          13: 12.7597836936,\n          14: 6.379891636,\n          15: 3.1899457653,\n          16: 1.5949728695,\n          17: 0.7974864315,\n          18: 0.3987432149,\n          19: 0.1993716073,\n          20: 0.0996858037,\n          21: 0.0498429018\n        };\n        break;\n\n      default:\n        resolutionsNatives = {\n          0: 156543.033928041,\n          1: 78271.51696402048,\n          2: 39135.758482010235,\n          3: 19567.87924100512,\n          4: 9783.93962050256,\n          5: 4891.96981025128,\n          6: 2445.98490512564,\n          7: 1222.99245256282,\n          8: 611.49622628141,\n          9: 305.7481131407048,\n          10: 152.8740565703525,\n          11: 76.43702828517624,\n          12: 38.21851414258813,\n          13: 19.10925707129406,\n          14: 9.554628535647032,\n          15: 4.777314267823516,\n          16: 2.388657133911758,\n          17: 1.194328566955879,\n          18: 0.5971642834779395,\n          19: 0.2985821417389697,\n          20: 0.1492910708694849,\n          21: 0.0746455354347424\n        };\n        break;\n    } // gestion des autres SRS\n    // TODO\n    // if (crs) {\n    // }\n\n\n    var resolution = scaleDenominator * 0.00028;\n\n    for (var index in resolutionsNatives) {\n      if (resolutionsNatives.hasOwnProperty(index)) {\n        if (resolutionsNatives[index] <= resolution) {\n          index = parseInt(index, 10);\n          return index;\n        }\n      }\n    }\n\n    return 0; // -1 ?\n  },\n\n  /**\n   * Get attributions list for a layer, based on current zoom and extent\n   *\n   * @function getAttributions\n   * @param {Object} params - function params\n   * @param {Array.<Float>} params.extent - map current geographical extent (EPSG:4326) : [top, left, bottom, right] = [maxy, minx, miny, maxx]\n   * @param {Number} params.zoom - map current zoom\n   * @param {String} params.crs - map current projection code (ex \"EPSG:2154\")\n   * @param {Boolean} params.visibility - layer visibility\n   * @param {Gp.Services.Config.Originator} params.originators - resource originators (from Gp.Config.layers[].originators)\n   * @returns {Object} attributions - associative array, mapping originators url (keys) with their properties : html attributions elements\n   */\n  getAttributions: function getAttributions(params) {\n    var zoom = params.zoom;\n    var attributions = [];\n\n    if (params.originators != null && params.visibility) {\n      // drawLogo = boolean, true if attribution should be displayed (zoom, extent), false otherwise\n      var drawLogo;\n\n      for (var j = 0, jl = params.originators.length; j < jl; j++) {\n        drawLogo = true;\n        var originator = params.originators[j];\n        var constraints = params.originators[j].constraints || [];\n\n        for (var k = 0, kl = constraints.length; k < kl; k++) {\n          var constraint = constraints[k];\n          drawLogo = true;\n          var minZoomLevel = this.getZoomLevelFromScaleDenominator(constraint.maxScaleDenominator, params.crs);\n          var maxZoomLevel = this.getZoomLevelFromScaleDenominator(constraint.minScaleDenominator, params.crs) || 21; // min zoom constraints\n\n          if (minZoomLevel && minZoomLevel > zoom) {\n            drawLogo = false;\n          } // max zoom constraints\n\n\n          if (drawLogo && maxZoomLevel && maxZoomLevel < zoom) {\n            drawLogo = false;\n          } // bbox constraints\n\n\n          var bbox = constraint.bbox;\n\n          if (drawLogo && bbox) {\n            drawLogo = false;\n            var viewExtent = params.extent;\n\n            if (viewExtent) {\n              var bounds = [bbox.top, bbox.left, bbox.bottom, bbox.right];\n\n              if (this.intersects(viewExtent, bounds)) {\n                // at least one constraint matches the map ones\n                drawLogo = true;\n                break;\n              }\n            }\n          }\n        }\n\n        if (drawLogo) {\n          // on a un originator qui correspond au zoom et à l'étendue.\n          var logo = originator.logo;\n          var url = originator.url;\n          var name = originator.name ? originator.name : \"\";\n          var text = originator.attribution;\n          var container = document.createElement(\"div\");\n          container.className = \"gp-control-attribution\"; // on crée un lien dans tous les cas (même s'il ne pointe pas vers une référence), pour avoir accès à la class CSS (pour surcharge)\n\n          var link = null;\n          link = document.createElement(\"a\");\n          link.className = \"gp-control-attribution-link\";\n          link.target = \"_blank\";\n          container.appendChild(link);\n\n          if (url) {\n            link.href = url;\n          }\n\n          var bImage = !!logo;\n          var image = null; // si on a un logo, on l'affiche à l'interieur du lien\n\n          if (bImage) {\n            image = document.createElement(\"img\");\n\n            if (link) {\n              image.className = \"gp-control-attribution-image\";\n              link.appendChild(image);\n            } else {\n              image.className = \"\";\n              container.appendChild(image);\n            }\n\n            image.src = logo; // FIXME : mixContent !\n\n            image.title = text || name;\n            image.style.height = \"30px\";\n            image.style.width = \"30px\";\n          } else {\n            // sinon, on affiche le nom de l'originator, ou sa description ou l'url.\n            if (name) {\n              link.textContent = name;\n            } else if (text) {\n              link.textContent = text;\n            } else if (url) {\n              link.textContent = url;\n            } else {\n              link.textContent = \"\";\n            }\n          }\n\n          attributions.push(container.innerHTML + \" \");\n        }\n      }\n    }\n\n    return attributions;\n  },\n\n  /**\n   * Determines if one extent (extent1) intersects another (extent2)\n   *\n   * @function intersects\n   * @param {Array.<Float>} extent1 - First extent : [top, left, bottom, right] = [maxy, minx, miny, maxx]\n   * @param {Array.<Float>} extent2 - Second extent : [top, left, bottom, right] = [maxy, minx, miny, maxx]\n   * @return {Boolean} intersects - True if the two extents intersect, false otherwise.\n   */\n  intersects: function intersects(extent1, extent2) {\n    var intersectsX = extent1[1] <= extent2[3] && extent2[1] <= extent1[3];\n    var intersectsY = extent1[2] <= extent2[0] && extent2[2] <= extent1[0];\n    return intersectsX && intersectsY;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerUtils);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvQ29tbW9uL1V0aWxzL0xheWVyVXRpbHMuanM/OWY5MSJdLCJuYW1lcyI6WyJMYXllclV0aWxzIiwiZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3IiLCJzY2FsZURlbm9taW5hdG9yIiwiY3JzIiwicmVzb2x1dGlvbnNOYXRpdmVzIiwicmVzb2x1dGlvbiIsImluZGV4IiwiaGFzT3duUHJvcGVydHkiLCJwYXJzZUludCIsImdldEF0dHJpYnV0aW9ucyIsInBhcmFtcyIsInpvb20iLCJhdHRyaWJ1dGlvbnMiLCJvcmlnaW5hdG9ycyIsInZpc2liaWxpdHkiLCJkcmF3TG9nbyIsImoiLCJqbCIsImxlbmd0aCIsIm9yaWdpbmF0b3IiLCJjb25zdHJhaW50cyIsImsiLCJrbCIsImNvbnN0cmFpbnQiLCJtaW5ab29tTGV2ZWwiLCJtYXhTY2FsZURlbm9taW5hdG9yIiwibWF4Wm9vbUxldmVsIiwibWluU2NhbGVEZW5vbWluYXRvciIsImJib3giLCJ2aWV3RXh0ZW50IiwiZXh0ZW50IiwiYm91bmRzIiwidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwiaW50ZXJzZWN0cyIsImxvZ28iLCJ1cmwiLCJuYW1lIiwidGV4dCIsImF0dHJpYnV0aW9uIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibGluayIsInRhcmdldCIsImFwcGVuZENoaWxkIiwiaHJlZiIsImJJbWFnZSIsImltYWdlIiwic3JjIiwidGl0bGUiLCJzdHlsZSIsImhlaWdodCIsIndpZHRoIiwidGV4dENvbnRlbnQiLCJwdXNoIiwiaW5uZXJIVE1MIiwiZXh0ZW50MSIsImV4dGVudDIiLCJpbnRlcnNlY3RzWCIsImludGVyc2VjdHNZIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJQSxVQUFVLEdB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QUNILGFBRk0sTUFFQSxJQUFJRixHQUFKLEVBQVM7QUFDWlEsa0JBQUksQ0FBQ1csV0FBTCxHQUFtQm5CLEdBQW5CO0FBQ0gsYUFGTSxNQUVBO0FBQ0hRLGtCQUFJLENBQUNXLFdBQUwsR0FBbUIsRUFBbkI7QUFDSDtBQUNKOztBQUVEN0Msc0JBQVksQ0FBQzhDLElBQWIsQ0FBa0JoQixTQUFTLENBQUNpQixTQUFWLEdBQXNCLEdBQXhDO0FBQ0g7QUFDSjtBQUNKOztBQUVELFdBQU8vQyxZQUFQO0FBQ0gsR0E5Ulk7O0FBZ1NiO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSXdCLFlBQVUsRUFBRyxvQkFBVXdCLE9BQVYsRUFBbUJDLE9BQW5CLEVBQTRCO0FBQ3JDLFFBQUlDLFdBQVcsR0FBSUYsT0FBTyxDQUFDLENBQUQsQ0FBUCxJQUFjQyxPQUFPLENBQUMsQ0FBRCxDQUF0QixJQUErQkEsT0FBTyxDQUFDLENBQUQsQ0FBUCxJQUFjRCxPQUFPLENBQUMsQ0FBRCxDQUF0RTtBQUNBLFFBQUlHLFdBQVcsR0FBSUgsT0FBTyxDQUFDLENBQUQsQ0FBUCxJQUFjQyxPQUFPLENBQUMsQ0FBRCxDQUF0QixJQUErQkEsT0FBTyxDQUFDLENBQUQsQ0FBUCxJQUFjRCxPQUFPLENBQUMsQ0FBRCxDQUF0RTtBQUNBLFdBQU9FLFdBQVcsSUFBSUMsV0FBdEI7QUFDSDtBQTVTWSxDQUFqQjtBQStTZS9ELHlFQUFmIiwiZmlsZSI6Ii4vc3JjL0NvbW1vbi9VdGlscy9MYXllclV0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEBtb2R1bGUgTGF5ZXJVdGlsc1xuKiBAYWxpYXMgR3AuTGF5ZXJVdGlsc1xuKiBAZGVzY3JpcHRpb25cbiogLi4uXG4qXG4qIEBleGFtcGxlXG4qIGdldFpvb21MZXZlbEZyb21TY2FsZURlbm9taW5hdG9yKCk7XG4qIGdldEF0dHJpYnV0aW9ucygpO1xuKiBpbnRlcnNlY3RzKCk7XG4qL1xudmFyIExheWVyVXRpbHMgPSB7XG5cbiAgICAvKipcbiAgICAgKiBPYnRlbmlyIGxlIFpvb21MZXZlbCDDoCBwYXJ0aXIgZHUgU2NhbGVEZW5vbWluYXRvclxuICAgICAqIEBmdW5jdGlvbiBnZXRab29tTGV2ZWxGcm9tU2NhbGVEZW5vbWluYXRvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZURlbm9taW5hdG9yIC0gdGhlIHNjYWxlIGRlbm9taW5hdG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNycyAtIHRoZSBjcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfSB6b29tIGxldmVsXG4gICAgICovXG4gICAgZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3IgOiBmdW5jdGlvbiAoc2NhbGVEZW5vbWluYXRvciwgY3JzKSB7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICAgICAgLy8gQ29kZSBpc3N1IGRlIGwnQVBJIEdlb3BvcnRhbC9DYXRhbG9ndWUvQ29uZmlnLmpzICAvL1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgICAgIC8vICAgICB2YXIgY29uZmlndXJhdGlvbiA9IEdwLkNvbmZpZztcbiAgICAgICAgLy8gICAgIHZhciBnZW5lcmFsID0gY29uZmlndXJhdGlvbi5nZW5lcmFsT3B0aW9ucztcbiAgICAgICAgLy8gICAgIHZhciBsYXllcnMgID0gY29uZmlndXJhdGlvbi5sYXllcnNDb250ZXh0O1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgZm9yICh2YXIgdG1zIGluIGdlbmVyYWwudGlsZU1hdHJpeFNldHMpIHtcbiAgICAgICAgLy8gICAgICAgICB2YXIgdGlsZU1hdHJpeFNldCA9IGdlbmVyYWwudGlsZU1hdHJpeFNldHNbdG1zXTtcbiAgICAgICAgLy8gICAgICAgICAvLyBJR04ncyBXTVRTIGJ1ZyA6IGVwc2c6bm5ubiBpbnN0ZWFkIG9mIEVQU0c6bm5ublxuICAgICAgICAvLyAgICAgICAgIHZhciBjcnMgPSB0aWxlTWF0cml4U2V0LnN1cHBvcnRlZENSUyA9IHRpbGVNYXRyaXhTZXQuc3VwcG9ydGVkQ1JTLnJlcGxhY2UoL2Vwc2cvLFwiRVBTR1wiKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICBpZiAoIUdlb3BvcnRhbC5DYXRhbG9ndWUuQ1JTUkVTT0xVVElPTlMuaGFzT3duUHJvcGVydHkoY3JzKSkge1xuICAgICAgICAvLyAgICAgICAgICAgICB2YXIgcD0gbmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbihjcnMpO1xuICAgICAgICAvLyAgICAgICAgICAgICBHZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TW2Nyc109IFtdO1xuICAgICAgICAvLyAgICAgICAgICAgICB2YXIgbWF0cml4SWRzPSB0aWxlTWF0cml4U2V0Lm1hdHJpeElkcztcbiAgICAgICAgLy8gICAgICAgICAgICAgZm9yICh2YXIgaT0gMCwgbGk9IG1hdHJpeElkcy5sZW5ndGg7IGk8bGk7ICsraSkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdmFyIG1pZD0gbWF0cml4SWRzW2ldO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgR2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OU1tjcnNdLnB1c2goXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgMC4wMDAyOCptaWQuc2NhbGVEZW5vbWluYXRvclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC8oT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gqT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbcC5nZXRVbml0cygpXSkpO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1pZC5zdXBwb3J0ZWRDUlM9IG1pZC5zdXBwb3J0ZWRDUlMucmVwbGFjZSgvZXBzZy8sXCJFUFNHXCIpO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgR2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OU1tjcnNdLnNvcnQoZnVuY3Rpb24gKGEsYil7IHJldHVybiBiLWE7IH0pO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIHZhciBsbFI9IEdlb3BvcnRhbC5DYXRhbG9ndWUuQ1JTUkVTT0xVVElPTlNbJ0NSUzo4NCddO1xuICAgICAgICAvLyAgICAgICAgIGlmICghbGxSKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGxsUj0gR2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OU1snQ1JTOjg0J109IGdlbmVyYWwucmVzb2x1dGlvbnMuc2xpY2UoKTtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgdmFyIHdtUj0gR2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OU1snRVBTRzozODU3J107XG4gICAgICAgIC8vICAgICAgICAgaWYgKCF3bVIpIHsvL0ZJWE1FIDogc2hvdWxkIG5ldmVyIGhhcHBlbmVkICEhXG4gICAgICAgIC8vICAgICAgICAgICAgIC8vIHJlcHJvamVjdCByZXNvbHV0aW9ucyBmcm9tIENSUzg0IHRvIFdlYk1lcmNhdG9yICh0cmFuc2Zvcm0gcmVzb2x1dGlvbnMgZnJvbSBkZWdyZWUvcHggdG8gbWV0ZXIvcHgpXG4gICAgICAgIC8vICAgICAgICAgICAgIHdtUj0gR2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OU1snRVBTRzozODU3J109IG5ldyBBcnJheShsbFIubGVuZ3RoKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgZm9yICh2YXIgaT0gMCwgbGVuPSBsbFIubGVuZ3RoOyBpPGxlbjsgaSsrKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB2YXIgcHQ9IG5ldyBPcGVuTGF5ZXJzLkxvbkxhdChsbFJbaV0sIDApO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcHQudHJhbnNmb3JtKE9wZW5MYXllcnMuUHJvamVjdGlvbi5DUlM4NCwgT3BlbkxheWVycy5Qcm9qZWN0aW9uLldlYk1lcmNhdG9yKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHdtUltpXT0gcHQubG9uO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIEdlb3BvcnRhbC5DYXRhbG9ndWUuUkVTT0xVVElPTlM9IHdtUjtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICB2YXIgZ2V0UmVzb2x1dGlvbnNGcm9tQ1JTPSBmdW5jdGlvbihjcnMpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKE9wZW5MYXllcnMuUHJvamVjdGlvbi5XZWJNZXJjYXRvci5pc0FsaWFzT2YoY3JzKSkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHdtUjtcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoT3BlbkxheWVycy5Qcm9qZWN0aW9uLkNSUzg0LmlzQWxpYXNPZihjcnMpKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gbGxSO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBHZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TW2Nyc10/R2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OU1tjcnNdOm51bGwgO1xuICAgICAgICAvLyAgICAgICAgIH07XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgdmFyIHJldHJpZXZlWm9vbUZyb21SZXNvbHV0aW9uPSBmdW5jdGlvbihyZXNvbHV0aW9ucywgcmVzb2x1dGlvbikge1xuICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKHZhciBpPSAwLCBsaT0gcmVzb2x1dGlvbnMubGVuZ3RoOyBpPGxpOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uc1tpXS1yZXNvbHV0aW9uIDw9IHJlc29sdXRpb25zW2xpLTFdKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAvLyAgICAgICAgIH07XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgdmFyIGdldFpvb21MZXZlbEZyb21TY2FsZURlbm9taW5hdG9yPSBmdW5jdGlvbihzY2FsZURlbm9taW5hdG9yLGNycykge1xuICAgICAgICAvLyAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbj0gc2NhbGVEZW5vbWluYXRvciAqIDAuMDAwMjg7XG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBSPSBnZXRSZXNvbHV0aW9uc0Zyb21DUlMoY3JzKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKFIpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiByZXRyaWV2ZVpvb21Gcm9tUmVzb2x1dGlvbihSLHJlc29sdXRpb24pO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgIHJlc29sdXRpb249IHJlc29sdXRpb24vKE9wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNIICogT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbXCJkZWdyZWVzXCJdKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlWm9vbUZyb21SZXNvbHV0aW9uKGxsUixyZXNvbHV0aW9uKTtcbiAgICAgICAgLy8gICAgICAgICB9O1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgIHZhciBnZXRab29tTGV2ZWxGcm9tUmVzb2x1dGlvbj0gZnVuY3Rpb24ocmVzb2x1dGlvbixjcnMpe1xuICAgICAgICAvLyAgICAgICAgICAgICB2YXIgUj0gZ2V0UmVzb2x1dGlvbnNGcm9tQ1JTKGNycyk7XG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChSKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gcmV0cmlldmVab29tRnJvbVJlc29sdXRpb24oUixyZXNvbHV0aW9uKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICB2YXIgcHQwPSBuZXcgT3BlbkxheWVycy5Mb25MYXQoMCwgMCk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBwdDE9IG5ldyBPcGVuTGF5ZXJzLkxvbkxhdCgxLCAwKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgcHQwLnRyYW5zZm9ybShuZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKGNycyksT3BlbkxheWVycy5Qcm9qZWN0aW9uLkNSUzg0KTtcbiAgICAgICAgLy8gICAgICAgICAgICAgcHQxLnRyYW5zZm9ybShuZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKGNycyksT3BlbkxheWVycy5Qcm9qZWN0aW9uLkNSUzg0KTtcbiAgICAgICAgLy8gICAgICAgICAgICAgcmVzb2x1dGlvbj0gcmVzb2x1dGlvbiooTWF0aC5hYnMocHQxLmxvbi1wdDAubG9uKSk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiByZXRyaWV2ZVpvb21Gcm9tUmVzb2x1dGlvbihsbFIscmVzb2x1dGlvbik7XG4gICAgICAgIC8vICAgICAgICAgfTtcblxuICAgICAgICAvLyBwYXIgZGVmYXV0LCBvbiB1dGlsaXNlIGxhIHByb2plY3Rpb24gV2ViTWVyY2F0b3IgKEVQU0c6Mzg1NyA9IFBNKVxuICAgICAgICAvLyBzb2l0IGxhIGxpc3RlIGRlcyByZXNvbHV0aW9ucyBuYXRpdmVzXG4gICAgICAgIHZhciByZXNvbHV0aW9uc05hdGl2ZXMgPSB7fTtcbiAgICAgICAgc3dpdGNoIChjcnMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJFUFNHOjIxNTRcIjpcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uc05hdGl2ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIDAgOiAxMDQ1NzkuMjI0NTQ5ODk0LFxuICAgICAgICAgICAgICAgICAgICAxIDogNTIyNzcuNTMyMzUzNzkwNSxcbiAgICAgICAgICAgICAgICAgICAgMiA6IDI2MTM1LjQ4NzA3ODU5NTQsXG4gICAgICAgICAgICAgICAgICAgIDMgOiAxMzA2Ni44OTEzODE4LFxuICAgICAgICAgICAgICAgICAgICA0IDogNjUzMy4yMjg2MDQxMTM1LFxuICAgICAgICAgICAgICAgICAgICA1IDogMzI2Ni41NTk1MjQ0NjI3LFxuICAgICAgICAgICAgICAgICAgICA2IDogMTYzMy4yNjYwMDQ1OTc0LFxuICAgICAgICAgICAgICAgICAgICA3IDogODE2LjYyOTU1NDk4NixcbiAgICAgICAgICAgICAgICAgICAgOCA6IDQwOC4zMTM5MTQ2NzY4LFxuICAgICAgICAgICAgICAgICAgICA5IDogMjA0LjE1Njc0MTUxMDksXG4gICAgICAgICAgICAgICAgICAgIDEwIDogMTAyLjA3ODMxNjc4MzIsXG4gICAgICAgICAgICAgICAgICAgIDExIDogNTEuMDM5MTQ0ODk2NixcbiAgICAgICAgICAgICAgICAgICAgMTIgOiAyNS41MTk1NjkwNzQzLFxuICAgICAgICAgICAgICAgICAgICAxMyA6IDEyLjc1OTc4MzY5MzYsXG4gICAgICAgICAgICAgICAgICAgIDE0IDogNi4zNzk4OTE2MzYsXG4gICAgICAgICAgICAgICAgICAgIDE1IDogMy4xODk5NDU3NjUzLFxuICAgICAgICAgICAgICAgICAgICAxNiA6IDEuNTk0OTcyODY5NSxcbiAgICAgICAgICAgICAgICAgICAgMTcgOiAwLjc5NzQ4NjQzMTUsXG4gICAgICAgICAgICAgICAgICAgIDE4IDogMC4zOTg3NDMyMTQ5LFxuICAgICAgICAgICAgICAgICAgICAxOSA6IDAuMTk5MzcxNjA3MyxcbiAgICAgICAgICAgICAgICAgICAgMjAgOiAwLjA5OTY4NTgwMzcsXG4gICAgICAgICAgICAgICAgICAgIDIxIDogMC4wNDk4NDI5MDE4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbnNOYXRpdmVzID0ge1xuICAgICAgICAgICAgICAgICAgICAwIDogMTU2NTQzLjAzMzkyODA0MSxcbiAgICAgICAgICAgICAgICAgICAgMSA6IDc4MjcxLjUxNjk2NDAyMDQ4LFxuICAgICAgICAgICAgICAgICAgICAyIDogMzkxMzUuNzU4NDgyMDEwMjM1LFxuICAgICAgICAgICAgICAgICAgICAzIDogMTk1NjcuODc5MjQxMDA1MTIsXG4gICAgICAgICAgICAgICAgICAgIDQgOiA5NzgzLjkzOTYyMDUwMjU2LFxuICAgICAgICAgICAgICAgICAgICA1IDogNDg5MS45Njk4MTAyNTEyOCxcbiAgICAgICAgICAgICAgICAgICAgNiA6IDI0NDUuOTg0OTA1MTI1NjQsXG4gICAgICAgICAgICAgICAgICAgIDcgOiAxMjIyLjk5MjQ1MjU2MjgyLFxuICAgICAgICAgICAgICAgICAgICA4IDogNjExLjQ5NjIyNjI4MTQxLFxuICAgICAgICAgICAgICAgICAgICA5IDogMzA1Ljc0ODExMzE0MDcwNDgsXG4gICAgICAgICAgICAgICAgICAgIDEwIDogMTUyLjg3NDA1NjU3MDM1MjUsXG4gICAgICAgICAgICAgICAgICAgIDExIDogNzYuNDM3MDI4Mjg1MTc2MjQsXG4gICAgICAgICAgICAgICAgICAgIDEyIDogMzguMjE4NTE0MTQyNTg4MTMsXG4gICAgICAgICAgICAgICAgICAgIDEzIDogMTkuMTA5MjU3MDcxMjk0MDYsXG4gICAgICAgICAgICAgICAgICAgIDE0IDogOS41NTQ2Mjg1MzU2NDcwMzIsXG4gICAgICAgICAgICAgICAgICAgIDE1IDogNC43NzczMTQyNjc4MjM1MTYsXG4gICAgICAgICAgICAgICAgICAgIDE2IDogMi4zODg2NTcxMzM5MTE3NTgsXG4gICAgICAgICAgICAgICAgICAgIDE3IDogMS4xOTQzMjg1NjY5NTU4NzksXG4gICAgICAgICAgICAgICAgICAgIDE4IDogMC41OTcxNjQyODM0Nzc5Mzk1LFxuICAgICAgICAgICAgICAgICAgICAxOSA6IDAuMjk4NTgyMTQxNzM4OTY5NyxcbiAgICAgICAgICAgICAgICAgICAgMjAgOiAwLjE0OTI5MTA3MDg2OTQ4NDksXG4gICAgICAgICAgICAgICAgICAgIDIxIDogMC4wNzQ2NDU1MzU0MzQ3NDI0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdlc3Rpb24gZGVzIGF1dHJlcyBTUlNcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyBpZiAoY3JzKSB7XG4gICAgICAgIC8vIH1cblxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNjYWxlRGVub21pbmF0b3IgKiAwLjAwMDI4O1xuXG4gICAgICAgIGZvciAodmFyIGluZGV4IGluIHJlc29sdXRpb25zTmF0aXZlcykge1xuICAgICAgICAgICAgaWYgKHJlc29sdXRpb25zTmF0aXZlcy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzb2x1dGlvbnNOYXRpdmVzW2luZGV4XSA8PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwOyAvLyAtMSA/XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhdHRyaWJ1dGlvbnMgbGlzdCBmb3IgYSBsYXllciwgYmFzZWQgb24gY3VycmVudCB6b29tIGFuZCBleHRlbnRcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBnZXRBdHRyaWJ1dGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gZnVuY3Rpb24gcGFyYW1zXG4gICAgICogQHBhcmFtIHtBcnJheS48RmxvYXQ+fSBwYXJhbXMuZXh0ZW50IC0gbWFwIGN1cnJlbnQgZ2VvZ3JhcGhpY2FsIGV4dGVudCAoRVBTRzo0MzI2KSA6IFt0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHRdID0gW21heHksIG1pbngsIG1pbnksIG1heHhdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhcmFtcy56b29tIC0gbWFwIGN1cnJlbnQgem9vbVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJhbXMuY3JzIC0gbWFwIGN1cnJlbnQgcHJvamVjdGlvbiBjb2RlIChleCBcIkVQU0c6MjE1NFwiKVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcGFyYW1zLnZpc2liaWxpdHkgLSBsYXllciB2aXNpYmlsaXR5XG4gICAgICogQHBhcmFtIHtHcC5TZXJ2aWNlcy5Db25maWcuT3JpZ2luYXRvcn0gcGFyYW1zLm9yaWdpbmF0b3JzIC0gcmVzb3VyY2Ugb3JpZ2luYXRvcnMgKGZyb20gR3AuQ29uZmlnLmxheWVyc1tdLm9yaWdpbmF0b3JzKVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGF0dHJpYnV0aW9ucyAtIGFzc29jaWF0aXZlIGFycmF5LCBtYXBwaW5nIG9yaWdpbmF0b3JzIHVybCAoa2V5cykgd2l0aCB0aGVpciBwcm9wZXJ0aWVzIDogaHRtbCBhdHRyaWJ1dGlvbnMgZWxlbWVudHNcbiAgICAgKi9cbiAgICBnZXRBdHRyaWJ1dGlvbnMgOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHZhciB6b29tID0gcGFyYW1zLnpvb207XG5cbiAgICAgICAgdmFyIGF0dHJpYnV0aW9ucyA9IFtdO1xuXG4gICAgICAgIGlmIChwYXJhbXMub3JpZ2luYXRvcnMgIT0gbnVsbCAmJiBwYXJhbXMudmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgLy8gZHJhd0xvZ28gPSBib29sZWFuLCB0cnVlIGlmIGF0dHJpYnV0aW9uIHNob3VsZCBiZSBkaXNwbGF5ZWQgKHpvb20sIGV4dGVudCksIGZhbHNlIG90aGVyd2lzZVxuICAgICAgICAgICAgdmFyIGRyYXdMb2dvO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsID0gcGFyYW1zLm9yaWdpbmF0b3JzLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgICAgICBkcmF3TG9nbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbmF0b3IgPSBwYXJhbXMub3JpZ2luYXRvcnNbal07XG5cbiAgICAgICAgICAgICAgICB2YXIgY29uc3RyYWludHMgPSBwYXJhbXMub3JpZ2luYXRvcnNbal0uY29uc3RyYWludHMgfHwgW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtsID0gY29uc3RyYWludHMubGVuZ3RoOyBrIDwga2w7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IGNvbnN0cmFpbnRzW2tdO1xuICAgICAgICAgICAgICAgICAgICBkcmF3TG9nbyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pblpvb21MZXZlbCA9IHRoaXMuZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3IoY29uc3RyYWludC5tYXhTY2FsZURlbm9taW5hdG9yLCBwYXJhbXMuY3JzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heFpvb21MZXZlbCA9IHRoaXMuZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3IoY29uc3RyYWludC5taW5TY2FsZURlbm9taW5hdG9yLCBwYXJhbXMuY3JzKSB8fCAyMTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBtaW4gem9vbSBjb25zdHJhaW50c1xuICAgICAgICAgICAgICAgICAgICBpZiAobWluWm9vbUxldmVsICYmIChtaW5ab29tTGV2ZWwgPiB6b29tKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0xvZ28gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIG1heCB6b29tIGNvbnN0cmFpbnRzXG4gICAgICAgICAgICAgICAgICAgIGlmIChkcmF3TG9nbyAmJiBtYXhab29tTGV2ZWwgJiYgKG1heFpvb21MZXZlbCA8IHpvb20pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3TG9nbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYmJveCBjb25zdHJhaW50c1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmJveCA9IGNvbnN0cmFpbnQuYmJveDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXdMb2dvICYmIGJib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdMb2dvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlld0V4dGVudCA9IHBhcmFtcy5leHRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlld0V4dGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBbYmJveC50b3AsIGJib3gubGVmdCwgYmJveC5ib3R0b20sIGJib3gucmlnaHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdHModmlld0V4dGVudCwgYm91bmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhdCBsZWFzdCBvbmUgY29uc3RyYWludCBtYXRjaGVzIHRoZSBtYXAgb25lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3TG9nbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkcmF3TG9nbykge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbiBhIHVuIG9yaWdpbmF0b3IgcXVpIGNvcnJlc3BvbmQgYXUgem9vbSBldCDDoCBsJ8OpdGVuZHVlLlxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2dvID0gb3JpZ2luYXRvci5sb2dvO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gb3JpZ2luYXRvci51cmw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gb3JpZ2luYXRvci5uYW1lID8gb3JpZ2luYXRvci5uYW1lIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBvcmlnaW5hdG9yLmF0dHJpYnV0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJncC1jb250cm9sLWF0dHJpYnV0aW9uXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY3LDqWUgdW4gbGllbiBkYW5zIHRvdXMgbGVzIGNhcyAobcOqbWUgcydpbCBuZSBwb2ludGUgcGFzIHZlcnMgdW5lIHLDqWbDqXJlbmNlKSwgcG91ciBhdm9pciBhY2PDqHMgw6AgbGEgY2xhc3MgQ1NTIChwb3VyIHN1cmNoYXJnZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsuY2xhc3NOYW1lID0gXCJncC1jb250cm9sLWF0dHJpYnV0aW9uLWxpbmtcIjtcbiAgICAgICAgICAgICAgICAgICAgbGluay50YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBiSW1hZ2UgPSAhIShsb2dvKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2kgb24gYSB1biBsb2dvLCBvbiBsJ2FmZmljaGUgw6AgbCdpbnRlcmlldXIgZHUgbGllblxuICAgICAgICAgICAgICAgICAgICBpZiAoYkltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLmNsYXNzTmFtZSA9IFwiZ3AtY29udHJvbC1hdHRyaWJ1dGlvbi1pbWFnZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5jbGFzc05hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBsb2dvOyAvLyBGSVhNRSA6IG1peENvbnRlbnQgIVxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UudGl0bGUgPSB0ZXh0IHx8IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zdHlsZS5oZWlnaHQgPSBcIjMwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5vbiwgb24gYWZmaWNoZSBsZSBub20gZGUgbCdvcmlnaW5hdG9yLCBvdSBzYSBkZXNjcmlwdGlvbiBvdSBsJ3VybC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0Q29udGVudCA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbnMucHVzaChjb250YWluZXIuaW5uZXJIVE1MICsgXCIgXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGlvbnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgb25lIGV4dGVudCAoZXh0ZW50MSkgaW50ZXJzZWN0cyBhbm90aGVyIChleHRlbnQyKVxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uIGludGVyc2VjdHNcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGbG9hdD59IGV4dGVudDEgLSBGaXJzdCBleHRlbnQgOiBbdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0XSA9IFttYXh5LCBtaW54LCBtaW55LCBtYXh4XVxuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZsb2F0Pn0gZXh0ZW50MiAtIFNlY29uZCBleHRlbnQgOiBbdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0XSA9IFttYXh5LCBtaW54LCBtaW55LCBtYXh4XVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGludGVyc2VjdHMgLSBUcnVlIGlmIHRoZSB0d28gZXh0ZW50cyBpbnRlcnNlY3QsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3RzIDogZnVuY3Rpb24gKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICAgICAgdmFyIGludGVyc2VjdHNYID0gKGV4dGVudDFbMV0gPD0gZXh0ZW50MlszXSkgJiYgKGV4dGVudDJbMV0gPD0gZXh0ZW50MVszXSk7XG4gICAgICAgIHZhciBpbnRlcnNlY3RzWSA9IChleHRlbnQxWzJdIDw9IGV4dGVudDJbMF0pICYmIChleHRlbnQyWzJdIDw9IGV4dGVudDFbMF0pO1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0c1ggJiYgaW50ZXJzZWN0c1k7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXJVdGlscztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/Utils/LayerUtils.js\n");

/***/ }),

/***/ "./src/Common/Utils/LoggerByDefault.js":
/*!*********************************************!*\
  !*** ./src/Common/Utils/LoggerByDefault.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! loglevel */ \"./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * @module LoggerByDefault\n * @alias [private] LoggerByDefault\n * @description\n * ...\n *\n * @example\n * getLogger();\n * disableAll();\n * enableAll();\n */\n\nvar LoggerByDefault = {\n  /**\n   * creation d'un logger statique\n   *\n   * @function getLogger\n   * @param {String} [name=\"default\"] - the logger name\n   * @returns {Object} logger\n   */\n  getLogger: function getLogger(name) {\n    // INFO :\n    // à la compilation en mode production, on substitue false\n    // avec \"true\", ceci desactive les loggers !\n    //\n    // à la compilation en mode developpement, on substitue false\n    // avec \"false\", ceci permet d'avoir les loggers actifs !\n    //\n    // lors d'une utilisation en module es6, il n'y a pas de substitution de false,\n    // les loggers sont donc actifs par defaut !\n    //\n    // > Substitute global constants configured at compile time\n    // cf. webpack.config.js\n    // on masque cette constante afin d'eviter \"referenceerror not defined\"\n    \"false\".match(/true/) ? loglevel__WEBPACK_IMPORTED_MODULE_0__[\"disableAll\"]() : loglevel__WEBPACK_IMPORTED_MODULE_0__[\"enableAll\"]();\n    var logname = name || \"default\";\n    return loglevel__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"](logname);\n  },\n\n  /**\n   * desactive tous les loggers\n   * @function disableAll\n   */\n  disableAll: function disableAll() {\n    var loggers = loglevel__WEBPACK_IMPORTED_MODULE_0__[\"getLoggers\"]();\n\n    for (var key in loggers) {\n      if (Object.hasOwnProperty.call(loggers, key)) {\n        var logger = loggers[key];\n        logger.disableAll();\n      }\n    }\n  },\n\n  /**\n   * active tous les loggers\n   * @function enableAll\n   */\n  enableAll: function enableAll() {\n    var loggers = loglevel__WEBPACK_IMPORTED_MODULE_0__[\"getLoggers\"]();\n\n    for (var key in loggers) {\n      if (Object.hasOwnProperty.call(loggers, key)) {\n        var logger = loggers[key];\n        logger.enableAll();\n      }\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LoggerByDefault);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvQ29tbW9uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdC5qcz81YzkwIl0sIm5hbWVzIjpbIkxvZ2dlckJ5RGVmYXVsdCIsImdldExvZ2dlciIsIm5hbWUiLCJtYXRjaCIsIkxvZyIsImxvZ25hbWUiLCJkaXNhYmxlQWxsIiwibG9nZ2VycyIsImtleSIsIk9iamVjdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImxvZ2dlciIsImVuYWJsZUFsbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLElBQUlBLGVBQWUsR0FBRztBQUNsQjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJQyxXQUFTLEVBQUcsbUJBQVVDLElBQVYsRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQyxxQkFBaUJDLEtBQWpCLENBQXVCLE1BQXZCLENBQUQsR0FBbUNDLG1EQUFBLEVBQW5DLEdBQXNEQSxrREFBQSxFQUF0RDtBQUNBLFFBQUlDLE9BQU8sR0FBR0gsSUFBSSxJQUFJLFNBQXRCO0FBQ0EsV0FBT0Usa0RBQUEsQ0FBY0MsT0FBZCxDQUFQO0FBQ0gsR0F6QmlCOztBQTBCbEI7QUFDSjtBQUNBO0FBQ0E7QUFDSUMsWUFBVSxFQUFHLHNCQUFZO0FBQ3JCLFFBQUlDLE9BQU8sR0FBR0gsbURBQUEsRUFBZDs7QUFDQSxTQUFLLElBQU1JLEdBQVgsSUFBa0JELE9BQWxCLEVBQTJCO0FBQ3ZCLFVBQUlFLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsSUFBdEIsQ0FBMkJKLE9BQTNCLEVBQW9DQyxHQUFwQyxDQUFKLEVBQThDO0FBQzFDLFlBQU1JLE1BQU0sR0FBR0wsT0FBTyxDQUFDQyxHQUFELENBQXRCO0FBQ0FJLGNBQU0sQ0FBQ04sVUFBUDtBQUNIO0FBQ0o7QUFDSixHQXRDaUI7O0FBdUNsQjtBQUNKO0FBQ0E7QUFDQTtBQUNJTyxXQUFTLEVBQUcscUJBQVk7QUFDcEIsUUFBSU4sT0FBTyxHQUFHSCxtREFBQSxFQUFkOztBQUNBLFNBQUssSUFBTUksR0FBWCxJQUFrQkQsT0FBbEIsRUFBMkI7QUFDdkIsVUFBSUUsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxJQUF0QixDQUEyQkosT0FBM0IsRUFBb0NDLEdBQXBDLENBQUosRUFBOEM7QUFDMUMsWUFBTUksTUFBTSxHQUFHTCxPQUFPLENBQUNDLEdBQUQsQ0FBdEI7QUFDQUksY0FBTSxDQUFDQyxTQUFQO0FBQ0g7QUFDSjtBQUNKO0FBbkRpQixDQUF0QjtBQXNEZWIsOEVBQWYiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIExvZyBmcm9tIFwibG9nbGV2ZWxcIjtcblxuLyoqXG4gKiBAbW9kdWxlIExvZ2dlckJ5RGVmYXVsdFxuICogQGFsaWFzIFtwcml2YXRlXSBMb2dnZXJCeURlZmF1bHRcbiAqIEBkZXNjcmlwdGlvblxuICogLi4uXG4gKlxuICogQGV4YW1wbGVcbiAqIGdldExvZ2dlcigpO1xuICogZGlzYWJsZUFsbCgpO1xuICogZW5hYmxlQWxsKCk7XG4gKi9cbnZhciBMb2dnZXJCeURlZmF1bHQgPSB7XG4gICAgLyoqXG4gICAgICogY3JlYXRpb24gZCd1biBsb2dnZXIgc3RhdGlxdWVcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBnZXRMb2dnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWU9XCJkZWZhdWx0XCJdIC0gdGhlIGxvZ2dlciBuYW1lXG4gICAgICogQHJldHVybnMge09iamVjdH0gbG9nZ2VyXG4gICAgICovXG4gICAgZ2V0TG9nZ2VyIDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgLy8gSU5GTyA6XG4gICAgICAgIC8vIMOgIGxhIGNvbXBpbGF0aW9uIGVuIG1vZGUgcHJvZHVjdGlvbiwgb24gc3Vic3RpdHVlIF9fUFJPRFVDVElPTl9fXG4gICAgICAgIC8vIGF2ZWMgXCJ0cnVlXCIsIGNlY2kgZGVzYWN0aXZlIGxlcyBsb2dnZXJzICFcbiAgICAgICAgLy9cbiAgICAgICAgLy8gw6AgbGEgY29tcGlsYXRpb24gZW4gbW9kZSBkZXZlbG9wcGVtZW50LCBvbiBzdWJzdGl0dWUgX19QUk9EVUNUSU9OX19cbiAgICAgICAgLy8gYXZlYyBcImZhbHNlXCIsIGNlY2kgcGVybWV0IGQnYXZvaXIgbGVzIGxvZ2dlcnMgYWN0aWZzICFcbiAgICAgICAgLy9cbiAgICAgICAgLy8gbG9ycyBkJ3VuZSB1dGlsaXNhdGlvbiBlbiBtb2R1bGUgZXM2LCBpbCBuJ3kgYSBwYXMgZGUgc3Vic3RpdHV0aW9uIGRlIF9fUFJPRFVDVElPTl9fLFxuICAgICAgICAvLyBsZXMgbG9nZ2VycyBzb250IGRvbmMgYWN0aWZzIHBhciBkZWZhdXQgIVxuICAgICAgICAvL1xuICAgICAgICAvLyA+IFN1YnN0aXR1dGUgZ2xvYmFsIGNvbnN0YW50cyBjb25maWd1cmVkIGF0IGNvbXBpbGUgdGltZVxuICAgICAgICAvLyBjZi4gd2VicGFjay5jb25maWcuanNcbiAgICAgICAgLy8gb24gbWFzcXVlIGNldHRlIGNvbnN0YW50ZSBhZmluIGQnZXZpdGVyIFwicmVmZXJlbmNlZXJyb3Igbm90IGRlZmluZWRcIlxuICAgICAgICAoXCJfX1BST0RVQ1RJT05fX1wiLm1hdGNoKC90cnVlLykpID8gTG9nLmRpc2FibGVBbGwoKSA6IExvZy5lbmFibGVBbGwoKTtcbiAgICAgICAgdmFyIGxvZ25hbWUgPSBuYW1lIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgICByZXR1cm4gTG9nLmdldExvZ2dlcihsb2duYW1lKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIGRlc2FjdGl2ZSB0b3VzIGxlcyBsb2dnZXJzXG4gICAgICogQGZ1bmN0aW9uIGRpc2FibGVBbGxcbiAgICAgKi9cbiAgICBkaXNhYmxlQWxsIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbG9nZ2VycyA9IExvZy5nZXRMb2dnZXJzKCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxvZ2dlcnMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChsb2dnZXJzLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9nZ2VyID0gbG9nZ2Vyc1trZXldO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kaXNhYmxlQWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIGFjdGl2ZSB0b3VzIGxlcyBsb2dnZXJzXG4gICAgICogQGZ1bmN0aW9uIGVuYWJsZUFsbFxuICAgICAqL1xuICAgIGVuYWJsZUFsbCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxvZ2dlcnMgPSBMb2cuZ2V0TG9nZ2VycygpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBsb2dnZXJzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobG9nZ2Vycywga2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2dlciA9IGxvZ2dlcnNba2V5XTtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZW5hYmxlQWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXJCeURlZmF1bHQ7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/Utils/LoggerByDefault.js\n");

/***/ }),

/***/ "./src/Leaflet/Layers/LayerEvent.js":
/*!******************************************!*\
  !*** ./src/Leaflet/Layers/LayerEvent.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Common_Utils_LayerUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils/LayerUtils */ \"./src/Common/Utils/LayerUtils.js\");\n\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"layer-event\");\n/**\n * @classdesc\n *\n * Evenement sur les couches Geoportail\n * @private\n */\n\n/** @type {LayerEvent} */\n\nvar LayerEvent = {\n  _id: null,\n  _attributions: [],\n  _visibility: true,\n  _originators: [],\n\n  /**\n   * activation du controle attribution\n   *\n   * @param {Object} map - the map\n   *\n   * @return {Boolean} attribution controle is enable\n   */\n  isEnable: function isEnable(map) {\n    if (!map.attributionControl) {\n      return false;\n    }\n\n    return true;\n  },\n\n  /**\n   * visibilité de la couche\n   *\n   * @param {Boolean} visibility - true|false\n   */\n  setVisible: function setVisible(visibility) {\n    logger.log(\"visibility\", visibility);\n    this._visibility = visibility;\n    this.fire(\"visibilitychange\");\n  },\n\n  /**\n   * visibilité de la couche\n   *\n   * @returns {Boolean} visibility\n   */\n  getVisible: function getVisible() {\n    return this._visibility;\n  },\n\n  /**\n   * fonction de suppresion d'un layer du controle des layers\n   *\n   * @param {Object} e - event\n   */\n  _onRemoveLayer: function _onRemoveLayer(e) {\n    logger.trace(\"onRemove event\", e);\n\n    if (e.layer._geoportal_id !== this._geoportal_id) {\n      return;\n    } // attributions non visibles\n\n\n    this.setVisible(false);\n  },\n\n  /**\n   * fonction d'ajout d'un layer du controle des layers\n   *\n   * @param {Object} e - event\n   */\n  _onAddLayer: function _onAddLayer(e) {\n    logger.trace(\"onAdd event\", e);\n\n    if (e.layer._geoportal_id !== this._geoportal_id) {\n      return;\n    } // attributions visibles\n\n\n    this.setVisible(true);\n  },\n\n  /**\n   * fonction de deplacement d'un layer\n   *\n   * @param {Object} e - event\n   */\n  _onMoveEndLayer: function _onMoveEndLayer(e) {\n    logger.trace(\"moveend event\", e); // mise à jour des attributions\n\n    this.updateAttributions(this._map, this);\n  },\n\n  /**\n   * updateAttributions\n   *\n   * @param {Object} map - the map\n   */\n  updateAttributions: function updateAttributions(map) {\n    // FIXME on peut realiser une mise à jour plus intelligente que cette manière brutale...\n    // Ex. mise en place de la notion 'hidden' de l'originators à desactiver\n    if (!this.isEnable(map)) {\n      return;\n    }\n\n    this.removeAttributions(map);\n    this.addAttributions(map);\n    this.fire(\"attributionchange\");\n  },\n\n  /**\n   * removeAttributions\n   *\n   * @param {Object} map - the map\n   */\n  removeAttributions: function removeAttributions(map) {\n    logger.trace(\"removeAttributions...\", this._geoportal_id); // suppression des attributions\n    // L.Map utilise la methode getAttribution() du layer.\n    // La construction concerne le layer courant.\n    // Cet evenement declenche la construction des attributions\n\n    if (!this.isEnable(map)) {\n      return;\n    }\n\n    for (var i = 0; i < this._attributions.length; i++) {\n      map.attributionControl.removeAttribution(this._attributions[i]);\n    } // suppression des attributions de liste\n\n\n    this._attributions = [];\n  },\n\n  /**\n   * addAttributions\n   *\n   * @param {Object} map - the map\n   */\n  addAttributions: function addAttributions(map) {\n    logger.trace(\"addAttributions...\", this._geoportal_id); // on interroge les originators en options pour obtenir les infos\n    // suivantes :\n    // - echelles\n    // - contraintes d'emprise\n    // - information sur le(s) proprietaire(s) du layer\n    // - ...\n    // mais on a besoin de qq informations sur la carte tels que :\n    // - zoom\n    // - bounds\n    // - ...\n\n    if (!this.isEnable(map)) {\n      return;\n    } // ajout des attributions\n\n\n    var topLeft = map.getBounds().getNorthWest();\n    var bottomRight = map.getBounds().getSouthEast();\n    var arrayBounds = [topLeft.lat, topLeft.lng, bottomRight.lat, bottomRight.lng];\n    var params = {\n      extent: arrayBounds,\n      // map.getBounds(),\n      zoom: map.getZoom(),\n      originators: this._originators,\n      visibility: this._visibility\n    };\n    logger.log(params);\n    var attributionsOriginators = _Common_Utils_LayerUtils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getAttributions(params);\n    logger.log(attributionsOriginators);\n\n    if (attributionsOriginators && attributionsOriginators.length !== 0) {\n      // on les ajoute dans la liste\n      // et on ajoute les attributions dans le controle Leaflet \"L.Control.Attribution\"\n      for (var i = 0; i < attributionsOriginators.length; i++) {\n        this._attributions.push(attributionsOriginators[i]);\n\n        map.attributionControl.addAttribution(attributionsOriginators[i]);\n      }\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerEvent);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvTGVhZmxldC9MYXllcnMvTGF5ZXJFdmVudC5qcz9mOWEzIl0sIm5hbWVzIjpbImxvZ2dlciIsIkxvZ2dlciIsImdldExvZ2dlciIsIkxheWVyRXZlbnQiLCJfaWQiLCJfYXR0cmlidXRpb25zIiwiX3Zpc2liaWxpdHkiLCJfb3JpZ2luYXRvcnMiLCJpc0VuYWJsZSIsIm1hcCIsImF0dHJpYnV0aW9uQ29udHJvbCIsInNldFZpc2libGUiLCJ2aXNpYmlsaXR5IiwibG9nIiwiZmlyZSIsImdldFZpc2libGUiLCJfb25SZW1vdmVMYXllciIsImUiLCJ0cmFjZSIsImxheWVyIiwiX2dlb3BvcnRhbF9pZCIsIl9vbkFkZExheWVyIiwiX29uTW92ZUVuZExheWVyIiwidXBkYXRlQXR0cmlidXRpb25zIiwiX21hcCIsInJlbW92ZUF0dHJpYnV0aW9ucyIsImFkZEF0dHJpYnV0aW9ucyIsImkiLCJsZW5ndGgiLCJyZW1vdmVBdHRyaWJ1dGlvbiIsInRvcExlZnQiLCJnZXRCb3VuZHMiLCJnZXROb3J0aFdlc3QiLCJib3R0b21SaWdodCIsImdldFNvdXRoRWFzdCIsImFycmF5Qm91bmRzIiwibGF0IiwibG5nIiwicGFyYW1zIiwiZXh0ZW50Iiwiem9vbSIsImdldFpvb20iLCJvcmlnaW5hdG9ycyIsImF0dHJpYnV0aW9uc09yaWdpbmF0b3JzIiwiTGF5ZXJVdGlsIiwiZ2V0QXR0cmlidXRpb25zIiwicHVzaCIsImFkZEF0dHJpYnV0aW9uIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUEsSUFBSUEsTUFBTSxHQUFHQyxxRUFBTSxDQUFDQyxTQUFQLENBQWlCLGFBQWpCLENBQWI7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0EsSUFBSUMsVUFBVSxHQUFHO0FBRWJDLEtBQUcsRUFBRyxJQUZPO0FBR2JDLGVBQWEsRUFBRyxFQUhIO0FBSWJDLGFBQVcsRUFBRyxJQUpEO0FBS2JDLGNBQVksRUFBRyxFQUxGOztBQU9iO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lDLFVBQVEsRUFBRyxrQkFBVUMsR0FBVixFQUFlO0FBQ3RCLFFBQUksQ0FBQ0EsR0FBRyxDQUFDQyxrQkFBVCxFQUE2QjtBQUN6QixhQUFPLEtBQVA7QUFDSDs7QUFDRCxXQUFPLElBQVA7QUFDSCxHQW5CWTs7QUFxQmI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNJQyxZQUFVLEVBQUcsb0JBQVVDLFVBQVYsRUFBc0I7QUFDL0JaLFVBQU0sQ0FBQ2EsR0FBUCxDQUFXLFlBQVgsRUFBeUJELFVBQXpCO0FBQ0EsU0FBS04sV0FBTCxHQUFtQk0sVUFBbkI7QUFDQSxTQUFLRSxJQUFMLENBQVUsa0JBQVY7QUFDSCxHQTlCWTs7QUFnQ2I7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNJQyxZQUFVLEVBQUcsc0JBQVk7QUFDckIsV0FBTyxLQUFLVCxXQUFaO0FBQ0gsR0F2Q1k7O0FBeUNiO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSVUsZ0JBQWMsRUFBRyx3QkFBVUMsQ0FBVixFQUFhO0FBQzFCakIsVUFBTSxDQUFDa0IsS0FBUCxDQUFhLGdCQUFiLEVBQStCRCxDQUEvQjs7QUFDQSxRQUFJQSxDQUFDLENBQUNFLEtBQUYsQ0FBUUMsYUFBUixLQUEwQixLQUFLQSxhQUFuQyxFQUFrRDtBQUM5QztBQUNILEtBSnlCLENBSzFCOzs7QUFDQSxTQUFLVCxVQUFMLENBQWdCLEtBQWhCO0FBQ0gsR0FyRFk7O0FBdURiO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSVUsYUFBVyxFQUFHLHFCQUFVSixDQUFWLEVBQWE7QUFDdkJqQixVQUFNLENBQUNrQixLQUFQLENBQWEsYUFBYixFQUE0QkQsQ0FBNUI7O0FBQ0EsUUFBSUEsQ0FBQyxDQUFDRSxLQUFGLENBQVFDLGFBQVIsS0FBMEIsS0FBS0EsYUFBbkMsRUFBa0Q7QUFDOUM7QUFDSCxLQUpzQixDQUt2Qjs7O0FBQ0EsU0FBS1QsVUFBTCxDQUFnQixJQUFoQjtBQUNILEdBbkVZOztBQXFFYjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lXLGlCQUFlLEVBQUcseUJBQVVMLENBQVYsRUFBYTtBQUMzQmpCLFVBQU0sQ0FBQ2tCLEtBQVAsQ0FBYSxlQUFiLEVBQThCRCxDQUE5QixFQUQyQixDQUUzQjs7QUFDQSxTQUFLTSxrQkFBTCxDQUF3QixLQUFLQyxJQUE3QixFQUFtQyxJQUFuQztBQUNILEdBOUVZOztBQWdGYjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lELG9CQUFrQixFQUFHLDRCQUFVZCxHQUFWLEVBQWU7QUFDaEM7QUFDQTtBQUVBLFFBQUksQ0FBQyxLQUFLRCxRQUFMLENBQWNDLEdBQWQsQ0FBTCxFQUF5QjtBQUNyQjtBQUNIOztBQUVELFNBQUtnQixrQkFBTCxDQUF3QmhCLEdBQXhCO0FBQ0EsU0FBS2lCLGVBQUwsQ0FBcUJqQixHQUFyQjtBQUVBLFNBQUtLLElBQUwsQ0FBVSxtQkFBVjtBQUNILEdBakdZOztBQW1HYjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0lXLG9CQUFrQixFQUFHLDRCQUFVaEIsR0FBVixFQUFlO0FBQ2hDVCxVQUFNLENBQUNrQixLQUFQLENBQWEsdUJBQWIsRUFBc0MsS0FBS0UsYUFBM0MsRUFEZ0MsQ0FFaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBSSxDQUFDLEtBQUtaLFFBQUwsQ0FBY0MsR0FBZCxDQUFMLEVBQXlCO0FBQ3JCO0FBQ0g7O0FBRUQsU0FBSyxJQUFJa0IsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLdEIsYUFBTCxDQUFtQnVCLE1BQXZDLEVBQStDRCxDQUFDLEVBQWhELEVBQW9EO0FBQ2hEbEIsU0FBRyxDQUFDQyxrQkFBSixDQUF1Qm1CLGlCQUF2QixDQUF5QyxLQUFLeEIsYUFBTCxDQUFtQnNCLENBQW5CLENBQXpDO0FBQ0gsS0FiK0IsQ0FlaEM7OztBQUNBLFNBQUt0QixhQUFMLEdBQXFCLEVBQXJCO0FBQ0gsR0F6SFk7O0FBMkhiO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSXFCLGlCQUFlLEVBQUcseUJBQVVqQixHQUFWLEVBQWU7QUFDN0JULFVBQU0sQ0FBQ2tCLEtBQVAsQ0FBYSxvQkFBYixFQUFtQyxLQUFLRSxhQUF4QyxFQUQ2QixDQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFJLENBQUMsS0FBS1osUUFBTCxDQUFjQyxHQUFkLENBQUwsRUFBeUI7QUFDckI7QUFDSCxLQWY0QixDQWlCN0I7OztBQUNBLFFBQUlxQixPQUFPLEdBQUdyQixHQUFHLENBQUNzQixTQUFKLEdBQWdCQyxZQUFoQixFQUFkO0FBQ0EsUUFBSUMsV0FBVyxHQUFHeEIsR0FBRyxDQUFDc0IsU0FBSixHQUFnQkcsWUFBaEIsRUFBbEI7QUFDQSxRQUFJQyxXQUFXLEdBQUcsQ0FBQ0wsT0FBTyxDQUFDTSxHQUFULEVBQWNOLE9BQU8sQ0FBQ08sR0FBdEIsRUFBMkJKLFdBQVcsQ0FBQ0csR0FBdkMsRUFBNENILFdBQVcsQ0FBQ0ksR0FBeEQsQ0FBbEI7QUFDQSxRQUFJQyxNQUFNLEdBQUc7QUFDVEMsWUFBTSxFQUFHSixXQURBO0FBQ2E7QUFDdEJLLFVBQUksRUFBRy9CLEdBQUcsQ0FBQ2dDLE9BQUosRUFGRTtBQUdUQyxpQkFBVyxFQUFHLEtBQUtuQyxZQUhWO0FBSVRLLGdCQUFVLEVBQUcsS0FBS047QUFKVCxLQUFiO0FBTUFOLFVBQU0sQ0FBQ2EsR0FBUCxDQUFXeUIsTUFBWDtBQUNBLFFBQUlLLHVCQUF1QixHQUFHQyxnRUFBUyxDQUFDQyxlQUFWLENBQTBCUCxNQUExQixDQUE5QjtBQUNBdEMsVUFBTSxDQUFDYSxHQUFQLENBQVc4Qix1QkFBWDs7QUFDQSxRQUFJQSx1QkFBdUIsSUFBSUEsdUJBQXVCLENBQUNmLE1BQXhCLEtBQW1DLENBQWxFLEVBQXFFO0FBQ2pFO0FBQ0E7QUFDQSxXQUFLLElBQUlELENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdnQix1QkFBdUIsQ0FBQ2YsTUFBNUMsRUFBb0RELENBQUMsRUFBckQsRUFBeUQ7QUFDckQsYUFBS3RCLGFBQUwsQ0FBbUJ5QyxJQUFuQixDQUF3QkgsdUJBQXVCLENBQUNoQixDQUFELENBQS9DOztBQUNBbEIsV0FBRyxDQUFDQyxrQkFBSixDQUF1QnFDLGNBQXZCLENBQXNDSix1QkFBdUIsQ0FBQ2hCLENBQUQsQ0FBN0Q7QUFDSDtBQUNKO0FBQ0o7QUF0S1ksQ0FBakI7QUEwS2V4Qix5RUFBZiIsImZpbGUiOiIuL3NyYy9MZWFmbGV0L0xheWVycy9MYXllckV2ZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgTGF5ZXJVdGlsIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTGF5ZXJVdGlsc1wiO1xuXG52YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcImxheWVyLWV2ZW50XCIpO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqXG4gKiBFdmVuZW1lbnQgc3VyIGxlcyBjb3VjaGVzIEdlb3BvcnRhaWxcbiAqIEBwcml2YXRlXG4gKi9cbi8qKiBAdHlwZSB7TGF5ZXJFdmVudH0gKi9cbnZhciBMYXllckV2ZW50ID0ge1xuXG4gICAgX2lkIDogbnVsbCxcbiAgICBfYXR0cmlidXRpb25zIDogW10sXG4gICAgX3Zpc2liaWxpdHkgOiB0cnVlLFxuICAgIF9vcmlnaW5hdG9ycyA6IFtdLFxuXG4gICAgLyoqXG4gICAgICogYWN0aXZhdGlvbiBkdSBjb250cm9sZSBhdHRyaWJ1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCAtIHRoZSBtYXBcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGF0dHJpYnV0aW9uIGNvbnRyb2xlIGlzIGVuYWJsZVxuICAgICAqL1xuICAgIGlzRW5hYmxlIDogZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICBpZiAoIW1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdmlzaWJpbGl0w6kgZGUgbGEgY291Y2hlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZpc2liaWxpdHkgLSB0cnVlfGZhbHNlXG4gICAgICovXG4gICAgc2V0VmlzaWJsZSA6IGZ1bmN0aW9uICh2aXNpYmlsaXR5KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJ2aXNpYmlsaXR5XCIsIHZpc2liaWxpdHkpO1xuICAgICAgICB0aGlzLl92aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICAgICAgdGhpcy5maXJlKFwidmlzaWJpbGl0eWNoYW5nZVwiKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdmlzaWJpbGl0w6kgZGUgbGEgY291Y2hlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdmlzaWJpbGl0eVxuICAgICAqL1xuICAgIGdldFZpc2libGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aXNpYmlsaXR5O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBmb25jdGlvbiBkZSBzdXBwcmVzaW9uIGQndW4gbGF5ZXIgZHUgY29udHJvbGUgZGVzIGxheWVyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGUgLSBldmVudFxuICAgICAqL1xuICAgIF9vblJlbW92ZUxheWVyIDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwib25SZW1vdmUgZXZlbnRcIiwgZSk7XG4gICAgICAgIGlmIChlLmxheWVyLl9nZW9wb3J0YWxfaWQgIT09IHRoaXMuX2dlb3BvcnRhbF9pZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGF0dHJpYnV0aW9ucyBub24gdmlzaWJsZXNcbiAgICAgICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZm9uY3Rpb24gZCdham91dCBkJ3VuIGxheWVyIGR1IGNvbnRyb2xlIGRlcyBsYXllcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlIC0gZXZlbnRcbiAgICAgKi9cbiAgICBfb25BZGRMYXllciA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZ2dlci50cmFjZShcIm9uQWRkIGV2ZW50XCIsIGUpO1xuICAgICAgICBpZiAoZS5sYXllci5fZ2VvcG9ydGFsX2lkICE9PSB0aGlzLl9nZW9wb3J0YWxfaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBhdHRyaWJ1dGlvbnMgdmlzaWJsZXNcbiAgICAgICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBmb25jdGlvbiBkZSBkZXBsYWNlbWVudCBkJ3VuIGxheWVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZSAtIGV2ZW50XG4gICAgICovXG4gICAgX29uTW92ZUVuZExheWVyIDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwibW92ZWVuZCBldmVudFwiLCBlKTtcbiAgICAgICAgLy8gbWlzZSDDoCBqb3VyIGRlcyBhdHRyaWJ1dGlvbnNcbiAgICAgICAgdGhpcy51cGRhdGVBdHRyaWJ1dGlvbnModGhpcy5fbWFwLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlQXR0cmlidXRpb25zXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gdGhlIG1hcFxuICAgICAqL1xuICAgIHVwZGF0ZUF0dHJpYnV0aW9ucyA6IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgLy8gRklYTUUgb24gcGV1dCByZWFsaXNlciB1bmUgbWlzZSDDoCBqb3VyIHBsdXMgaW50ZWxsaWdlbnRlIHF1ZSBjZXR0ZSBtYW5pw6hyZSBicnV0YWxlLi4uXG4gICAgICAgIC8vIEV4LiBtaXNlIGVuIHBsYWNlIGRlIGxhIG5vdGlvbiAnaGlkZGVuJyBkZSBsJ29yaWdpbmF0b3JzIMOgIGRlc2FjdGl2ZXJcblxuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGUobWFwKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGlvbnMobWFwKTtcbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGlvbnMobWFwKTtcblxuICAgICAgICB0aGlzLmZpcmUoXCJhdHRyaWJ1dGlvbmNoYW5nZVwiKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlQXR0cmlidXRpb25zXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gdGhlIG1hcFxuICAgICAqL1xuICAgIHJlbW92ZUF0dHJpYnV0aW9ucyA6IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwicmVtb3ZlQXR0cmlidXRpb25zLi4uXCIsIHRoaXMuX2dlb3BvcnRhbF9pZCk7XG4gICAgICAgIC8vIHN1cHByZXNzaW9uIGRlcyBhdHRyaWJ1dGlvbnNcbiAgICAgICAgLy8gTC5NYXAgdXRpbGlzZSBsYSBtZXRob2RlIGdldEF0dHJpYnV0aW9uKCkgZHUgbGF5ZXIuXG4gICAgICAgIC8vIExhIGNvbnN0cnVjdGlvbiBjb25jZXJuZSBsZSBsYXllciBjb3VyYW50LlxuICAgICAgICAvLyBDZXQgZXZlbmVtZW50IGRlY2xlbmNoZSBsYSBjb25zdHJ1Y3Rpb24gZGVzIGF0dHJpYnV0aW9uc1xuXG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZShtYXApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2F0dHJpYnV0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbWFwLmF0dHJpYnV0aW9uQ29udHJvbC5yZW1vdmVBdHRyaWJ1dGlvbih0aGlzLl9hdHRyaWJ1dGlvbnNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3VwcHJlc3Npb24gZGVzIGF0dHJpYnV0aW9ucyBkZSBsaXN0ZVxuICAgICAgICB0aGlzLl9hdHRyaWJ1dGlvbnMgPSBbXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkQXR0cmlidXRpb25zXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gdGhlIG1hcFxuICAgICAqL1xuICAgIGFkZEF0dHJpYnV0aW9ucyA6IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwiYWRkQXR0cmlidXRpb25zLi4uXCIsIHRoaXMuX2dlb3BvcnRhbF9pZCk7XG4gICAgICAgIC8vIG9uIGludGVycm9nZSBsZXMgb3JpZ2luYXRvcnMgZW4gb3B0aW9ucyBwb3VyIG9idGVuaXIgbGVzIGluZm9zXG4gICAgICAgIC8vIHN1aXZhbnRlcyA6XG4gICAgICAgIC8vIC0gZWNoZWxsZXNcbiAgICAgICAgLy8gLSBjb250cmFpbnRlcyBkJ2VtcHJpc2VcbiAgICAgICAgLy8gLSBpbmZvcm1hdGlvbiBzdXIgbGUocykgcHJvcHJpZXRhaXJlKHMpIGR1IGxheWVyXG4gICAgICAgIC8vIC0gLi4uXG4gICAgICAgIC8vIG1haXMgb24gYSBiZXNvaW4gZGUgcXEgaW5mb3JtYXRpb25zIHN1ciBsYSBjYXJ0ZSB0ZWxzIHF1ZSA6XG4gICAgICAgIC8vIC0gem9vbVxuICAgICAgICAvLyAtIGJvdW5kc1xuICAgICAgICAvLyAtIC4uLlxuXG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZShtYXApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBham91dCBkZXMgYXR0cmlidXRpb25zXG4gICAgICAgIHZhciB0b3BMZWZ0ID0gbWFwLmdldEJvdW5kcygpLmdldE5vcnRoV2VzdCgpO1xuICAgICAgICB2YXIgYm90dG9tUmlnaHQgPSBtYXAuZ2V0Qm91bmRzKCkuZ2V0U291dGhFYXN0KCk7XG4gICAgICAgIHZhciBhcnJheUJvdW5kcyA9IFt0b3BMZWZ0LmxhdCwgdG9wTGVmdC5sbmcsIGJvdHRvbVJpZ2h0LmxhdCwgYm90dG9tUmlnaHQubG5nXTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGV4dGVudCA6IGFycmF5Qm91bmRzLCAvLyBtYXAuZ2V0Qm91bmRzKCksXG4gICAgICAgICAgICB6b29tIDogbWFwLmdldFpvb20oKSxcbiAgICAgICAgICAgIG9yaWdpbmF0b3JzIDogdGhpcy5fb3JpZ2luYXRvcnMsXG4gICAgICAgICAgICB2aXNpYmlsaXR5IDogdGhpcy5fdmlzaWJpbGl0eVxuICAgICAgICB9O1xuICAgICAgICBsb2dnZXIubG9nKHBhcmFtcyk7XG4gICAgICAgIHZhciBhdHRyaWJ1dGlvbnNPcmlnaW5hdG9ycyA9IExheWVyVXRpbC5nZXRBdHRyaWJ1dGlvbnMocGFyYW1zKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhhdHRyaWJ1dGlvbnNPcmlnaW5hdG9ycyk7XG4gICAgICAgIGlmIChhdHRyaWJ1dGlvbnNPcmlnaW5hdG9ycyAmJiBhdHRyaWJ1dGlvbnNPcmlnaW5hdG9ycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIC8vIG9uIGxlcyBham91dGUgZGFucyBsYSBsaXN0ZVxuICAgICAgICAgICAgLy8gZXQgb24gYWpvdXRlIGxlcyBhdHRyaWJ1dGlvbnMgZGFucyBsZSBjb250cm9sZSBMZWFmbGV0IFwiTC5Db250cm9sLkF0dHJpYnV0aW9uXCJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRpb25zT3JpZ2luYXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGlvbnMucHVzaChhdHRyaWJ1dGlvbnNPcmlnaW5hdG9yc1tpXSk7XG4gICAgICAgICAgICAgICAgbWFwLmF0dHJpYnV0aW9uQ29udHJvbC5hZGRBdHRyaWJ1dGlvbihhdHRyaWJ1dGlvbnNPcmlnaW5hdG9yc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyRXZlbnQ7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Leaflet/Layers/LayerEvent.js\n");

/***/ }),

/***/ "./src/Leaflet/Layers/WMTS.js":
/*!************************************!*\
  !*** ./src/Leaflet/Layers/WMTS.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var geoportal_access_lib_src_Utils_Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! geoportal-access-lib/src/Utils/Helper */ \"./node_modules/geoportal-access-lib/src/Utils/Helper.js\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leaflet */ \"leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _LayerEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LayerEvent */ \"./src/Leaflet/Layers/LayerEvent.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../../package.json */ \"./package.json\", 1);\n/**\n* desativation JSHINT\n* W106 - Identifier '_geoportal_id' is not in camel case\n*/\n\n\n\n // package.json (extract version)\n\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLogger(\"wmts\");\n/**\n * @namespace\n * @alias L.geoportalLayers.WMTS\n * @classdesc\n *\n * Leaflet Layer Class for Geoportal WMTS Layers.\n *\n * Use {@link module:Layers.WMTS L.geoportalLayer.WMTS()} factory to create instances of that class.\n *\n * **Extends** Leaflet <a href=\"http://leafletjs.com/reference.html#tilelayer\" target=\"_blank\">L.TileLayer</a> native class.\n *\n */\n\nvar WMTS = leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.TileLayer.extend(\n/** @lends WMTS.prototype */\n{\n  includes: _LayerEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  defaultWmtsParams: {\n    service: \"WMTS\",\n    request: \"GetTile\",\n    version: \"1.0.0\",\n    layer: \"\",\n    style: \"\",\n    tilematrixset: \"PM\",\n    format: \"image/jpeg\"\n  },\n\n  /**\n   *\n   * @constructor\n   * @param {String} url - url service\n   * @param {Object} options - options for function call.\n   * @param {Array} [options.originators] - originators\n   * @param {Array} [options.legends] - legends\n   * @param {Array} [options.metadata] - metadata\n   * @param {String} [options.title] - title\n   * @param {String} [options.description] - description\n   * @param {String} [options.quicklookUrl] - quicklookUrl\n   * @param {Object} options.paramsWmts - WMTS options\n   * @param {String} options.paramsWmts.service - \"WMTS\",\n   * @param {String} options.paramsWmts.request - \"GetTile\",\n   * @param {String} options.paramsWmts.version - \"1.0.0\",\n   * @param {String} options.paramsWmts.layer - \"\",\n   * @param {String} options.paramsWmts.style - \"\",\n   * @param {String} options.paramsWmts.tilematrixset - \"PM\",\n   * @param {String} options.paramsWmts.format - \"image/jpeg\"\n   * @param {Object} [options.paramsNative] - other options for L.TileLayer function (see {@link http://leafletjs.com/reference.html#tilelayer-options})\n   * @example\n   * var wmts = new WMTS(\"http://wxs.ign.fr/jhyvi0fgmnuxvfv0zjzorvdn/geoportail/wmts\", {\n   *     paramsNative : {\n   *         minZoom : 1,\n   *         maxZoom : 21\n   *     },\n   *     paramsWmts   : {\n   *         layer   : \"ORTHOIMAGERY.ORTHOPHOTOS\",\n   *         style   : \"normal\",\n   *         format  : \"image/jpeg\",\n   *         version : \"1.0.0\",\n   *         tilematrixset : \"PM\"\n   *     },\n   *     originators  : [],\n   *     legends      : [],\n   *     metadata     : [],\n   *     title        : \"\",\n   *     description  : \"\",\n   *     quicklookUrl : \"\"\n   * });\n   *\n   * @ignore\n   */\n  initialize: function initialize(url, options) {\n    logger.log(\"initialize\"); // parametres WMTS\n\n    this._wmtsParams = {};\n    leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.Util.extend(this._wmtsParams, this.defaultWmtsParams, options.paramsWmts); // appel du constructeur de la classe étendue\n\n    leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.TileLayer.prototype.initialize.call(this, // tracker extension leaflet\n    // FIXME : gp-ext version en mode AMD\n    geoportal_access_lib_src_Utils_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalyzeUrl(url, {\n      \"gp-leaflet-ext\": _package_json__WEBPACK_IMPORTED_MODULE_4__.leafletExtVersion || _package_json__WEBPACK_IMPORTED_MODULE_4__.version\n    }, false), options.paramsNative); // sauvegarde des originators\n\n    this._originators = options.originators;\n    this._legends = options.legends;\n    this._metadata = options.metadata;\n    this._title = options.title;\n    this._description = options.description;\n    this._quicklookUrl = options.quicklookUrl; // id du Layer\n\n    this._geoportal_id = 0; // FIXME L.stamp(this);\n  },\n\n  /**\n   * event 'onAdd'\n   * (overwritten)\n   *\n   * @param {Object} map - map leaflet object\n   * @private\n   */\n  onAdd: function onAdd(map) {\n    logger.trace(\"onAdd layer\", this._geoportal_id); // recuperation de la map\n\n    this._map = map; // enregistrement de l'id Geoportal\n\n    this._geoportal_id = leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.stamp(this); // appel de la methode de la classe étendue\n\n    leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.TileLayer.prototype.onAdd.call(this, map);\n    this.setVisible(true); // y a t il des attributions/originators pour ce layer ?\n\n    this.updateAttributions(map);\n    /**\n     * Evenement sur l'ajout du layer sur la carte avec gestion des deplacements (zoom)\n     * Les deplacemnts sur la carte permettent de mettre à jour la liste des attributions.\n     */\n\n    map.on({\n      /**\n       * Permet de desactiver la visibilité des attributions sur le retrait\n       * d'un layer de type overlay.\n       * Les attributions ne doivent plus apparaitre si le layer est invisible !\n       */\n      overlayremove: this._onRemoveLayer,\n\n      /**\n       * Permet d'activer la visibilité des attributions sur l'ajout\n       * d'un layer de type overlay.\n       * Les attributions doivent apparaitre si le layer est visible !\n       */\n      overlayadd: this._onAddLayer,\n\n      /**\n       * Permet de desactiver la visibilité des attributions sur le retrait\n       * d'un layer de type layer.\n       * Les attributions ne doivent plus apparaitre si le layer est invisible !\n       */\n      layerremove: this._onRemoveLayer,\n\n      /**\n       * Permet d'activer la visibilité des attributions sur l'ajout\n       * d'un layer de type layer.\n       * Les attributions doivent apparaitre si le layer est visible !\n       */\n      layeradd: this._onAddLayer,\n\n      /**\n       * Permet d'ajouter des fonctionnalités lors de la creation du layer\n       * sur les evenements de fin de mouvemenent (move ou zoom)\n       */\n      moveend: this._onMoveEndLayer\n    }, this); // if (map.attributionControl) {\n    //     // ceci permet de mofifier le prefixe leaflet !\n    //     // ce dernier etant obligatoire...\n    //     // Ex. map.attributionControl.setPrefix(\"Plugin © IGN with Leaflet - 2016\");\n    //     // map.attributionControl.setPrefix(\"Leaflet + Géoportail\");\n    //     map.attributionControl.setPrefix(\"Plugin © \" +\n    //         \"<a href=\\\"http://www.ign.fr\\\" \" +\n    //         \"title=\\\"Institut national de l'information géographique et forestière\\\">IGN</a>\" +\n    //         \" with \" +\n    //         \"<a href=\\\"http://leafletjs.com/\\\" \" +\n    //         \"title=\\\"an open-source JavaScript library for mobile-friendly interactive maps\\\">Leaflet</a>\" +\n    //         \" - 2016\");\n    // }\n  },\n\n  /**\n   * event 'onRemove'\n   * (overwritten)\n   *\n   * @param {Object} map - map leaflet object\n   * @private\n   */\n  onRemove: function onRemove(map) {\n    logger.trace(\"onRemove layer\", this._geoportal_id); // recuperation de la map\n\n    this._map = map; // appel de la methode de la classe étendue\n\n    leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.TileLayer.prototype.onRemove.call(this, map);\n    this.setVisible(false); // suppression des attributions\n\n    this.removeAttributions(map); // supprimer les evenements\n\n    map.off({\n      overlayremove: this._onRemoveLayer,\n      overlayadd: this._onAddLayer,\n      layerremove: this._onRemoveLayer,\n      layeradd: this._onAddLayer,\n      moveend: this._onMoveEndLayer\n    }, this);\n  },\n\n  /**\n   * event 'getTileUrl'\n   * (overwritten)\n   *\n   * @param {Object} tilePoint - Point leaflet object\n   *\n   * @returns {String} url\n   * @private\n   */\n  getTileUrl: function getTileUrl(tilePoint) {\n    // (Point, Number) -> String\n    // ex http://wxs.ign.fr/j5tcdln4ya4xggpdu4j0f0cn/geoportail/wmts?\n    // SERVICE=WMTS&\n    // REQUEST=GetTile&\n    // VERSION=1.0.0&\n    // LAYER=ORTHOIMAGERY.ORTHOPHOTOS&\n    // STYLE=normal&\n    // TILEMATRIXSET=PM&\n    // TILEMATRIX=2&\n    // TILEROW=2&\n    // TILECOL=1&\n    // FORMAT=image%2Fjpeg\n    var zoom = this._getZoomForUrl();\n\n    var url = leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.Util.template(this._url, {\n      s: this._getSubdomain(tilePoint)\n    });\n    return url + leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.Util.getParamString(this._wmtsParams, url) + \"&tilematrix=\" + zoom + \"&tilerow=\" + tilePoint.y + \"&tilecol=\" + tilePoint.x;\n  },\n\n  /**\n   * event 'setParams'\n   * (overwritten)\n   *\n   * @param {Object} params - parameters\n   * @param {Object} noRedraw - no redraw\n   *\n   * @returns {Object} this\n   * @private\n   */\n  setParams: function setParams(params, noRedraw) {\n    leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.extend(this._wmtsParams, params);\n\n    if (!noRedraw) {\n      this.redraw();\n    }\n\n    return this;\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (WMTS);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvTGVhZmxldC9MYXllcnMvV01UUy5qcz85ZmE0Il0sIm5hbWVzIjpbImxvZ2dlciIsIkxvZ2dlciIsImdldExvZ2dlciIsIldNVFMiLCJMIiwiVGlsZUxheWVyIiwiZXh0ZW5kIiwiaW5jbHVkZXMiLCJMYXllckV2ZW50IiwiZGVmYXVsdFdtdHNQYXJhbXMiLCJzZXJ2aWNlIiwicmVxdWVzdCIsInZlcnNpb24iLCJsYXllciIsInN0eWxlIiwidGlsZW1hdHJpeHNldCIsImZvcm1hdCIsImluaXRpYWxpemUiLCJ1cmwiLCJvcHRpb25zIiwibG9nIiwiX3dtdHNQYXJhbXMiLCJVdGlsIiwicGFyYW1zV210cyIsInByb3RvdHlwZSIsImNhbGwiLCJIZWxwZXIiLCJub3JtYWx5emVVcmwiLCJQa2ciLCJsZWFmbGV0RXh0VmVyc2lvbiIsInBhcmFtc05hdGl2ZSIsIl9vcmlnaW5hdG9ycyIsIm9yaWdpbmF0b3JzIiwiX2xlZ2VuZHMiLCJsZWdlbmRzIiwiX21ldGFkYXRhIiwibWV0YWRhdGEiLCJfdGl0bGUiLCJ0aXRsZSIsIl9kZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiX3F1aWNrbG9va1VybCIsInF1aWNrbG9va1VybCIsIl9nZW9wb3J0YWxfaWQiLCJvbkFkZCIsIm1hcCIsInRyYWNlIiwiX21hcCIsInN0YW1wIiwic2V0VmlzaWJsZSIsInVwZGF0ZUF0dHJpYnV0aW9ucyIsIm9uIiwib3ZlcmxheXJlbW92ZSIsIl9vblJlbW92ZUxheWVyIiwib3ZlcmxheWFkZCIsIl9vbkFkZExheWVyIiwibGF5ZXJyZW1vdmUiLCJsYXllcmFkZCIsIm1vdmVlbmQiLCJfb25Nb3ZlRW5kTGF5ZXIiLCJvblJlbW92ZSIsInJlbW92ZUF0dHJpYnV0aW9ucyIsIm9mZiIsImdldFRpbGVVcmwiLCJ0aWxlUG9pbnQiLCJ6b29tIiwiX2dldFpvb21Gb3JVcmwiLCJ0ZW1wbGF0ZSIsIl91cmwiLCJzIiwiX2dldFN1YmRvbWFpbiIsImdldFBhcmFtU3RyaW5nIiwieSIsIngiLCJzZXRQYXJhbXMiLCJwYXJhbXMiLCJub1JlZHJhdyIsInJlZHJhdyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0NBRUE7O0FBQ0E7QUFFQSxJQUFJQSxNQUFNLEdBQUdDLHFFQUFNLENBQUNDLFNBQVAsQ0FBaUIsTUFBakIsQ0FBYjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxJQUFJQyxJQUFJLEdBQUdDLDhDQUFDLENBQUNDLFNBQUYsQ0FBWUMsTUFBWjtBQUFtQjtBQUE2QjtBQUV2REMsVUFBUSxFQUFHQyxtREFGNEM7QUFJdkRDLG1CQUFpQixFQUFHO0FBQ2hCQyxXQUFPLEVBQUcsTUFETTtBQUVoQkMsV0FBTyxFQUFHLFNBRk07QUFHaEJDLFdBQU8sRUFBRyxPQUhNO0FBSWhCQyxTQUFLLEVBQUcsRUFKUTtBQUtoQkMsU0FBSyxFQUFHLEVBTFE7QUFNaEJDLGlCQUFhLEVBQUcsSUFOQTtBQU9oQkMsVUFBTSxFQUFHO0FBUE8sR0FKbUM7O0FBY3ZEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lDLFlBQVUsRUFBRyxvQkFBVUMsR0FBVixFQUFlQyxPQUFmLEVBQXdCO0FBQ2pDbkIsVUFBTSxDQUFDb0IsR0FBUCxDQUFXLFlBQVgsRUFEaUMsQ0FHakM7O0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixFQUFuQjtBQUNBakIsa0RBQUMsQ0FB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Q0MsUUFBTCxFQUFlO0FBQ1gsV0FBS0MsTUFBTDtBQUNIOztBQUVELFdBQU8sSUFBUDtBQUNIO0FBM1BzRCxDQUFoRCxDQUFYO0FBOFBlMUUsbUVBQWYiLCJmaWxlIjoiLi9zcmMvTGVhZmxldC9MYXllcnMvV01UUy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBkZXNhdGl2YXRpb24gSlNISU5UXG4qIFcxMDYgLSBJZGVudGlmaWVyICdfZ2VvcG9ydGFsX2lkJyBpcyBub3QgaW4gY2FtZWwgY2FzZVxuKi9cblxuaW1wb3J0IEhlbHBlciBmcm9tIFwiZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1V0aWxzL0hlbHBlclwiO1xuaW1wb3J0IEwgZnJvbSBcImxlYWZsZXRcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBMYXllckV2ZW50IGZyb20gXCIuL0xheWVyRXZlbnRcIjtcbi8vIHBhY2thZ2UuanNvbiAoZXh0cmFjdCB2ZXJzaW9uKVxuaW1wb3J0IFBrZyBmcm9tIFwiLi4vLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbnZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwid210c1wiKTtcblxuLyoqXG4gKiBAbmFtZXNwYWNlXG4gKiBAYWxpYXMgTC5nZW9wb3J0YWxMYXllcnMuV01UU1xuICogQGNsYXNzZGVzY1xuICpcbiAqIExlYWZsZXQgTGF5ZXIgQ2xhc3MgZm9yIEdlb3BvcnRhbCBXTVRTIExheWVycy5cbiAqXG4gKiBVc2Uge0BsaW5rIG1vZHVsZTpMYXllcnMuV01UUyBMLmdlb3BvcnRhbExheWVyLldNVFMoKX0gZmFjdG9yeSB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIHRoYXQgY2xhc3MuXG4gKlxuICogKipFeHRlbmRzKiogTGVhZmxldCA8YSBocmVmPVwiaHR0cDovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLmh0bWwjdGlsZWxheWVyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+TC5UaWxlTGF5ZXI8L2E+IG5hdGl2ZSBjbGFzcy5cbiAqXG4gKi9cbnZhciBXTVRTID0gTC5UaWxlTGF5ZXIuZXh0ZW5kKC8qKiBAbGVuZHMgV01UUy5wcm90b3R5cGUgKi8ge1xuXG4gICAgaW5jbHVkZXMgOiBMYXllckV2ZW50LFxuXG4gICAgZGVmYXVsdFdtdHNQYXJhbXMgOiB7XG4gICAgICAgIHNlcnZpY2UgOiBcIldNVFNcIixcbiAgICAgICAgcmVxdWVzdCA6IFwiR2V0VGlsZVwiLFxuICAgICAgICB2ZXJzaW9uIDogXCIxLjAuMFwiLFxuICAgICAgICBsYXllciA6IFwiXCIsXG4gICAgICAgIHN0eWxlIDogXCJcIixcbiAgICAgICAgdGlsZW1hdHJpeHNldCA6IFwiUE1cIixcbiAgICAgICAgZm9ybWF0IDogXCJpbWFnZS9qcGVnXCJcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdXJsIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIGZ1bmN0aW9uIGNhbGwuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMub3JpZ2luYXRvcnNdIC0gb3JpZ2luYXRvcnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5sZWdlbmRzXSAtIGxlZ2VuZHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy50aXRsZV0gLSB0aXRsZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5kZXNjcmlwdGlvbl0gLSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5xdWlja2xvb2tVcmxdIC0gcXVpY2tsb29rVXJsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucGFyYW1zV210cyAtIFdNVFMgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnBhcmFtc1dtdHMuc2VydmljZSAtIFwiV01UU1wiLFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnBhcmFtc1dtdHMucmVxdWVzdCAtIFwiR2V0VGlsZVwiLFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnBhcmFtc1dtdHMudmVyc2lvbiAtIFwiMS4wLjBcIixcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5wYXJhbXNXbXRzLmxheWVyIC0gXCJcIixcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5wYXJhbXNXbXRzLnN0eWxlIC0gXCJcIixcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5wYXJhbXNXbXRzLnRpbGVtYXRyaXhzZXQgLSBcIlBNXCIsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMucGFyYW1zV210cy5mb3JtYXQgLSBcImltYWdlL2pwZWdcIlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wYXJhbXNOYXRpdmVdIC0gb3RoZXIgb3B0aW9ucyBmb3IgTC5UaWxlTGF5ZXIgZnVuY3Rpb24gKHNlZSB7QGxpbmsgaHR0cDovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLmh0bWwjdGlsZWxheWVyLW9wdGlvbnN9KVxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHdtdHMgPSBuZXcgV01UUyhcImh0dHA6Ly93eHMuaWduLmZyL2poeXZpMGZnbW51eHZmdjB6anpvcnZkbi9nZW9wb3J0YWlsL3dtdHNcIiwge1xuICAgICAqICAgICBwYXJhbXNOYXRpdmUgOiB7XG4gICAgICogICAgICAgICBtaW5ab29tIDogMSxcbiAgICAgKiAgICAgICAgIG1heFpvb20gOiAyMVxuICAgICAqICAgICB9LFxuICAgICAqICAgICBwYXJhbXNXbXRzICAgOiB7XG4gICAgICogICAgICAgICBsYXllciAgIDogXCJPUlRIT0lNQUdFUlkuT1JUSE9QSE9UT1NcIixcbiAgICAgKiAgICAgICAgIHN0eWxlICAgOiBcIm5vcm1hbFwiLFxuICAgICAqICAgICAgICAgZm9ybWF0ICA6IFwiaW1hZ2UvanBlZ1wiLFxuICAgICAqICAgICAgICAgdmVyc2lvbiA6IFwiMS4wLjBcIixcbiAgICAgKiAgICAgICAgIHRpbGVtYXRyaXhzZXQgOiBcIlBNXCJcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAgb3JpZ2luYXRvcnMgIDogW10sXG4gICAgICogICAgIGxlZ2VuZHMgICAgICA6IFtdLFxuICAgICAqICAgICBtZXRhZGF0YSAgICAgOiBbXSxcbiAgICAgKiAgICAgdGl0bGUgICAgICAgIDogXCJcIixcbiAgICAgKiAgICAgZGVzY3JpcHRpb24gIDogXCJcIixcbiAgICAgKiAgICAgcXVpY2tsb29rVXJsIDogXCJcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGluaXRpYWxpemUgOiBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJpbml0aWFsaXplXCIpO1xuXG4gICAgICAgIC8vIHBhcmFtZXRyZXMgV01UU1xuICAgICAgICB0aGlzLl93bXRzUGFyYW1zID0ge307XG4gICAgICAgIEwuVXRpbC5leHRlbmQodGhpcy5fd210c1BhcmFtcywgdGhpcy5kZWZhdWx0V210c1BhcmFtcywgb3B0aW9ucy5wYXJhbXNXbXRzKTtcblxuICAgICAgICAvLyBhcHBlbCBkdSBjb25zdHJ1Y3RldXIgZGUgbGEgY2xhc3NlIMOpdGVuZHVlXG4gICAgICAgIEwuVGlsZUxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgLy8gdHJhY2tlciBleHRlbnNpb24gbGVhZmxldFxuICAgICAgICAgICAgLy8gRklYTUUgOiBncC1leHQgdmVyc2lvbiBlbiBtb2RlIEFNRFxuICAgICAgICAgICAgSGVscGVyLm5vcm1hbHl6ZVVybCh1cmwsIHtcbiAgICAgICAgICAgICAgICBcImdwLWxlYWZsZXQtZXh0XCIgOiBQa2cubGVhZmxldEV4dFZlcnNpb24gfHwgUGtnLnZlcnNpb25cbiAgICAgICAgICAgIH0sIGZhbHNlKSxcbiAgICAgICAgICAgIG9wdGlvbnMucGFyYW1zTmF0aXZlXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gc2F1dmVnYXJkZSBkZXMgb3JpZ2luYXRvcnNcbiAgICAgICAgdGhpcy5fb3JpZ2luYXRvcnMgPSBvcHRpb25zLm9yaWdpbmF0b3JzO1xuICAgICAgICB0aGlzLl9sZWdlbmRzID0gb3B0aW9ucy5sZWdlbmRzO1xuICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGE7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gb3B0aW9ucy50aXRsZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBvcHRpb25zLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9xdWlja2xvb2tVcmwgPSBvcHRpb25zLnF1aWNrbG9va1VybDtcblxuICAgICAgICAvLyBpZCBkdSBMYXllclxuICAgICAgICB0aGlzLl9nZW9wb3J0YWxfaWQgPSAwOyAvLyBGSVhNRSBMLnN0YW1wKHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBldmVudCAnb25BZGQnXG4gICAgICogKG92ZXJ3cml0dGVuKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCAtIG1hcCBsZWFmbGV0IG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25BZGQgOiBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGxvZ2dlci50cmFjZShcIm9uQWRkIGxheWVyXCIsIHRoaXMuX2dlb3BvcnRhbF9pZCk7XG5cbiAgICAgICAgLy8gcmVjdXBlcmF0aW9uIGRlIGxhIG1hcFxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG5cbiAgICAgICAgLy8gZW5yZWdpc3RyZW1lbnQgZGUgbCdpZCBHZW9wb3J0YWxcbiAgICAgICAgdGhpcy5fZ2VvcG9ydGFsX2lkID0gTC5zdGFtcCh0aGlzKTtcblxuICAgICAgICAvLyBhcHBlbCBkZSBsYSBtZXRob2RlIGRlIGxhIGNsYXNzZSDDqXRlbmR1ZVxuICAgICAgICBMLlRpbGVMYXllci5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLCBtYXApO1xuXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcblxuICAgICAgICAvLyB5IGEgdCBpbCBkZXMgYXR0cmlidXRpb25zL29yaWdpbmF0b3JzIHBvdXIgY2UgbGF5ZXIgP1xuICAgICAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0aW9ucyhtYXApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVuZW1lbnQgc3VyIGwnYWpvdXQgZHUgbGF5ZXIgc3VyIGxhIGNhcnRlIGF2ZWMgZ2VzdGlvbiBkZXMgZGVwbGFjZW1lbnRzICh6b29tKVxuICAgICAgICAgKiBMZXMgZGVwbGFjZW1udHMgc3VyIGxhIGNhcnRlIHBlcm1ldHRlbnQgZGUgbWV0dHJlIMOgIGpvdXIgbGEgbGlzdGUgZGVzIGF0dHJpYnV0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIG1hcC5vbih7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGVybWV0IGRlIGRlc2FjdGl2ZXIgbGEgdmlzaWJpbGl0w6kgZGVzIGF0dHJpYnV0aW9ucyBzdXIgbGUgcmV0cmFpdFxuICAgICAgICAgICAgICogZCd1biBsYXllciBkZSB0eXBlIG92ZXJsYXkuXG4gICAgICAgICAgICAgKiBMZXMgYXR0cmlidXRpb25zIG5lIGRvaXZlbnQgcGx1cyBhcHBhcmFpdHJlIHNpIGxlIGxheWVyIGVzdCBpbnZpc2libGUgIVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvdmVybGF5cmVtb3ZlIDogdGhpcy5fb25SZW1vdmVMYXllcixcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQZXJtZXQgZCdhY3RpdmVyIGxhIHZpc2liaWxpdMOpIGRlcyBhdHRyaWJ1dGlvbnMgc3VyIGwnYWpvdXRcbiAgICAgICAgICAgICAqIGQndW4gbGF5ZXIgZGUgdHlwZSBvdmVybGF5LlxuICAgICAgICAgICAgICogTGVzIGF0dHJpYnV0aW9ucyBkb2l2ZW50IGFwcGFyYWl0cmUgc2kgbGUgbGF5ZXIgZXN0IHZpc2libGUgIVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvdmVybGF5YWRkIDogdGhpcy5fb25BZGRMYXllcixcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQZXJtZXQgZGUgZGVzYWN0aXZlciBsYSB2aXNpYmlsaXTDqSBkZXMgYXR0cmlidXRpb25zIHN1ciBsZSByZXRyYWl0XG4gICAgICAgICAgICAgKiBkJ3VuIGxheWVyIGRlIHR5cGUgbGF5ZXIuXG4gICAgICAgICAgICAgKiBMZXMgYXR0cmlidXRpb25zIG5lIGRvaXZlbnQgcGx1cyBhcHBhcmFpdHJlIHNpIGxlIGxheWVyIGVzdCBpbnZpc2libGUgIVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsYXllcnJlbW92ZSA6IHRoaXMuX29uUmVtb3ZlTGF5ZXIsXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGVybWV0IGQnYWN0aXZlciBsYSB2aXNpYmlsaXTDqSBkZXMgYXR0cmlidXRpb25zIHN1ciBsJ2Fqb3V0XG4gICAgICAgICAgICAgKiBkJ3VuIGxheWVyIGRlIHR5cGUgbGF5ZXIuXG4gICAgICAgICAgICAgKiBMZXMgYXR0cmlidXRpb25zIGRvaXZlbnQgYXBwYXJhaXRyZSBzaSBsZSBsYXllciBlc3QgdmlzaWJsZSAhXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxheWVyYWRkIDogdGhpcy5fb25BZGRMYXllcixcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQZXJtZXQgZCdham91dGVyIGRlcyBmb25jdGlvbm5hbGl0w6lzIGxvcnMgZGUgbGEgY3JlYXRpb24gZHUgbGF5ZXJcbiAgICAgICAgICAgICAqIHN1ciBsZXMgZXZlbmVtZW50cyBkZSBmaW4gZGUgbW91dmVtZW5lbnQgKG1vdmUgb3Ugem9vbSlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbW92ZWVuZCA6IHRoaXMuX29uTW92ZUVuZExheWVyXG5cbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgLy8gaWYgKG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wpIHtcbiAgICAgICAgLy8gICAgIC8vIGNlY2kgcGVybWV0IGRlIG1vZmlmaWVyIGxlIHByZWZpeGUgbGVhZmxldCAhXG4gICAgICAgIC8vICAgICAvLyBjZSBkZXJuaWVyIGV0YW50IG9ibGlnYXRvaXJlLi4uXG4gICAgICAgIC8vICAgICAvLyBFeC4gbWFwLmF0dHJpYnV0aW9uQ29udHJvbC5zZXRQcmVmaXgoXCJQbHVnaW4gwqkgSUdOIHdpdGggTGVhZmxldCAtIDIwMTZcIik7XG4gICAgICAgIC8vICAgICAvLyBtYXAuYXR0cmlidXRpb25Db250cm9sLnNldFByZWZpeChcIkxlYWZsZXQgKyBHw6lvcG9ydGFpbFwiKTtcbiAgICAgICAgLy8gICAgIG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wuc2V0UHJlZml4KFwiUGx1Z2luIMKpIFwiICtcbiAgICAgICAgLy8gICAgICAgICBcIjxhIGhyZWY9XFxcImh0dHA6Ly93d3cuaWduLmZyXFxcIiBcIiArXG4gICAgICAgIC8vICAgICAgICAgXCJ0aXRsZT1cXFwiSW5zdGl0dXQgbmF0aW9uYWwgZGUgbCdpbmZvcm1hdGlvbiBnw6lvZ3JhcGhpcXVlIGV0IGZvcmVzdGnDqHJlXFxcIj5JR048L2E+XCIgK1xuICAgICAgICAvLyAgICAgICAgIFwiIHdpdGggXCIgK1xuICAgICAgICAvLyAgICAgICAgIFwiPGEgaHJlZj1cXFwiaHR0cDovL2xlYWZsZXRqcy5jb20vXFxcIiBcIiArXG4gICAgICAgIC8vICAgICAgICAgXCJ0aXRsZT1cXFwiYW4gb3Blbi1zb3VyY2UgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBtb2JpbGUtZnJpZW5kbHkgaW50ZXJhY3RpdmUgbWFwc1xcXCI+TGVhZmxldDwvYT5cIiArXG4gICAgICAgIC8vICAgICAgICAgXCIgLSAyMDE2XCIpO1xuICAgICAgICAvLyB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGV2ZW50ICdvblJlbW92ZSdcbiAgICAgKiAob3ZlcndyaXR0ZW4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gbWFwIGxlYWZsZXQgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvblJlbW92ZSA6IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwib25SZW1vdmUgbGF5ZXJcIiwgdGhpcy5fZ2VvcG9ydGFsX2lkKTtcblxuICAgICAgICAvLyByZWN1cGVyYXRpb24gZGUgbGEgbWFwXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgICAgICAvLyBhcHBlbCBkZSBsYSBtZXRob2RlIGRlIGxhIGNsYXNzZSDDqXRlbmR1ZVxuICAgICAgICBMLlRpbGVMYXllci5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgLy8gc3VwcHJlc3Npb24gZGVzIGF0dHJpYnV0aW9uc1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0aW9ucyhtYXApO1xuXG4gICAgICAgIC8vIHN1cHByaW1lciBsZXMgZXZlbmVtZW50c1xuICAgICAgICBtYXAub2ZmKHtcbiAgICAgICAgICAgIG92ZXJsYXlyZW1vdmUgOiB0aGlzLl9vblJlbW92ZUxheWVyLFxuICAgICAgICAgICAgb3ZlcmxheWFkZCA6IHRoaXMuX29uQWRkTGF5ZXIsXG4gICAgICAgICAgICBsYXllcnJlbW92ZSA6IHRoaXMuX29uUmVtb3ZlTGF5ZXIsXG4gICAgICAgICAgICBsYXllcmFkZCA6IHRoaXMuX29uQWRkTGF5ZXIsXG4gICAgICAgICAgICBtb3ZlZW5kIDogdGhpcy5fb25Nb3ZlRW5kTGF5ZXJcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGV2ZW50ICdnZXRUaWxlVXJsJ1xuICAgICAqIChvdmVyd3JpdHRlbilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0aWxlUG9pbnQgLSBQb2ludCBsZWFmbGV0IG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdXJsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRUaWxlVXJsIDogZnVuY3Rpb24gKHRpbGVQb2ludCkge1xuICAgICAgICAvLyAoUG9pbnQsIE51bWJlcikgLT4gU3RyaW5nXG5cbiAgICAgICAgLy8gZXggaHR0cDovL3d4cy5pZ24uZnIvajV0Y2RsbjR5YTR4Z2dwZHU0ajBmMGNuL2dlb3BvcnRhaWwvd210cz9cbiAgICAgICAgLy8gU0VSVklDRT1XTVRTJlxuICAgICAgICAvLyBSRVFVRVNUPUdldFRpbGUmXG4gICAgICAgIC8vIFZFUlNJT049MS4wLjAmXG4gICAgICAgIC8vIExBWUVSPU9SVEhPSU1BR0VSWS5PUlRIT1BIT1RPUyZcbiAgICAgICAgLy8gU1RZTEU9bm9ybWFsJlxuICAgICAgICAvLyBUSUxFTUFUUklYU0VUPVBNJlxuICAgICAgICAvLyBUSUxFTUFUUklYPTImXG4gICAgICAgIC8vIFRJTEVST1c9MiZcbiAgICAgICAgLy8gVElMRUNPTD0xJlxuICAgICAgICAvLyBGT1JNQVQ9aW1hZ2UlMkZqcGVnXG5cbiAgICAgICAgdmFyIHpvb20gPSB0aGlzLl9nZXRab29tRm9yVXJsKCk7XG4gICAgICAgIHZhciB1cmwgPSBMLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLCB7XG4gICAgICAgICAgICBzIDogdGhpcy5fZ2V0U3ViZG9tYWluKHRpbGVQb2ludClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1cmwgKyBMLlV0aWwuZ2V0UGFyYW1TdHJpbmcodGhpcy5fd210c1BhcmFtcywgdXJsKSArXG4gICAgICAgICAgICBcIiZ0aWxlbWF0cml4PVwiICsgem9vbSArXG4gICAgICAgICAgICBcIiZ0aWxlcm93PVwiICsgdGlsZVBvaW50LnkgK1xuICAgICAgICAgICAgXCImdGlsZWNvbD1cIiArIHRpbGVQb2ludC54O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBldmVudCAnc2V0UGFyYW1zJ1xuICAgICAqIChvdmVyd3JpdHRlbilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5vUmVkcmF3IC0gbm8gcmVkcmF3XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGlzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRQYXJhbXMgOiBmdW5jdGlvbiAocGFyYW1zLCBub1JlZHJhdykge1xuICAgICAgICBMLmV4dGVuZCh0aGlzLl93bXRzUGFyYW1zLCBwYXJhbXMpO1xuXG4gICAgICAgIGlmICghbm9SZWRyYXcpIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgV01UUztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Leaflet/Layers/WMTS.js\n");

/***/ }),

/***/ "leaflet":
/*!********************!*\
  !*** external "L" ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = L;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJMXCI/ZmEyYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJsZWFmbGV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBMOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///leaflet\n");

/***/ })

/******/ })["default"];