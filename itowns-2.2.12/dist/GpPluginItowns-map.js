/*!
 * @brief French Geoportal Extension for Itowns
 *
 * This software is released under the licence CeCILL-B (Free BSD compatible)
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-fr.txt
 * @see http://www.cecill.info/
 *
 * @copyright copyright (c) IGN 
 * @license CeCILL-B
 * @author IGN
 * @version 2.2.12
 * @date 23/09/2020
 *
 */

/*!
 * Sortable -- JavaScript library for reorderable drag-and-drop lists on modern
 * browsers and touch devices. No jQuery required. Supports Meteor, AngularJS,
 * React, Polymer, Vue, Knockout and any CSS library, e.g. Bootstrap.
 *
 * Released under MIT LICENSE
 *
 * Copyright Lebedev Konstantin <ibnRubaXa@gmail.com>
 * https://github.com/SortableJS/Sortable
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * @version 1.8.4
 */

/*!
 * @overview  es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4
 */

/*!
 * @overview   Proj4js - Javascript reprojection library.
 *
 * @authors
 * - Mike Adair madairATdmsolutions.ca
 * - Richard Greenwood richATgreenwoodmap.com
 * - Didier Richard didier.richardATign.fr
 * - Stephen Irons stephen.ironsATclear.net.nz
 * - Olivier Terral oterralATgmail.com
 * - Calvin Metcalf cmetcalfATappgeo.com
 *
 * @copyright Copyright (c) 2014, Mike Adair, Richard Greenwood, Didier Richard, Stephen Irons, Olivier Terral and Calvin Metcalf
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/proj4js/proj4js/master/LICENSE.md
 * @version   ^2.6.2
 */

(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("itowns"), require("request"), require("xmldom"));
	else if(typeof define === 'function' && define.amd)
		define("Gp", ["itowns", "require", "require"], factory);
	else if(typeof exports === 'object')
		exports["Gp"] = factory(require("itowns"), require("request"), require("xmldom"));
	else
		root["Gp"] = factory(root["itowns"], root[undefined], root[undefined]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_itowns__, __WEBPACK_EXTERNAL_MODULE_request__, __WEBPACK_EXTERNAL_MODULE_xmldom__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/Itowns/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process, global) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\tundefined;\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n//# sourceMappingURL=es6-promise.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzPzEzNjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDLEtBQTREO0FBQzdELENBQUMsU0FDK0I7QUFDaEMsQ0FBQyxxQkFBcUI7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0Y7O0FBRWhGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQyx5Q0FBeUMsVUFBYztBQUN4RDtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxVQUFVLElBQUk7QUFDZDtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlCQUFpQix3QkFBd0I7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQiw2Q0FBNkM7QUFDaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxNQUFNO0FBQ2hCLFVBQVUsT0FBTztBQUNqQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLE1BQU07QUFDaEI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxxQkFBcUIsWUFBWTtBQUNqQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CLFVBQVUsU0FBUztBQUNuQjtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkI7QUFDQSxXQUFXO0FBQ1g7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUIsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFlBQVksU0FBUztBQUNyQixhQUFhO0FBQ2I7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUM7Ozs7QUFJRCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICB2NC4yLjgrMWU2OGRjZTZcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuRVM2UHJvbWlzZSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHg7XG4gIHJldHVybiB4ICE9PSBudWxsICYmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG5cbnZhciBfaXNBcnJheSA9IHZvaWQgMDtcbmlmIChBcnJheS5pc0FycmF5KSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xufVxuXG52YXIgaXNBcnJheSA9IF9pc0FycmF5O1xuXG52YXIgbGVuID0gMDtcbnZhciB2ZXJ0eE5leHQgPSB2b2lkIDA7XG52YXIgY3VzdG9tU2NoZWR1bGVyRm4gPSB2b2lkIDA7XG5cbnZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICBjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG59XG5cbmZ1bmN0aW9uIHNldEFzYXAoYXNhcEZuKSB7XG4gIGFzYXAgPSBhc2FwRm47XG59XG5cbnZhciBicm93c2VyV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG52YXIgYnJvd3Nlckdsb2JhbCA9IGJyb3dzZXJXaW5kb3cgfHwge307XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gIH07XG59XG5cbi8vIHZlcnR4XG5mdW5jdGlvbiB1c2VWZXJ0eFRpbWVyKCkge1xuICBpZiAodHlwZW9mIHZlcnR4TmV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmVydHhOZXh0KGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIC8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIGVzNi1wcm9taXNlIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuICAvLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbiAgdmFyIGdsb2JhbFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnbG9iYWxTZXRUaW1lb3V0KGZsdXNoLCAxKTtcbiAgfTtcbn1cblxudmFyIHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcbiAgICB2YXIgYXJnID0gcXVldWVbaSArIDFdO1xuXG4gICAgY2FsbGJhY2soYXJnKTtcblxuICAgIHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlW2kgKyAxXSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGF0dGVtcHRWZXJ0eCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdmVydHggPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpLnJlcXVpcmUoJ3ZlcnR4Jyk7XG4gICAgdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICByZXR1cm4gdXNlVmVydHhUaW1lcigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbiAgfVxufVxuXG52YXIgc2NoZWR1bGVGbHVzaCA9IHZvaWQgMDtcbi8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG5pZiAoaXNOb2RlKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTXV0YXRpb25PYnNlcnZlcigpO1xufSBlbHNlIGlmIChpc1dvcmtlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTWVzc2FnZUNoYW5uZWwoKTtcbn0gZWxzZSBpZiAoYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSBhdHRlbXB0VmVydHgoKTtcbn0gZWxzZSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbmZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZnVuY3Rpb24gcmVzb2x2ZSQxKG9iamVjdCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxudmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuJCQxLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbiQkMS5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuJCQxLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbiQkMSkge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuJCQxID09PSB0aGVuICYmIG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoZW4kJDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhlbiQkMSkpIHtcbiAgICAgIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgc2VsZkZ1bGZpbGxtZW50KCkpO1xuICB9IGVsc2UgaWYgKG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIHRoZW4kJDEgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIHRoZW4kJDEgPSB2YWx1ZS50aGVuO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCB0aGVuJCQxKTtcbiAgfSBlbHNlIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgaWYgKHByb21pc2UuX29uZXJyb3IpIHtcbiAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gIH1cblxuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICBwcm9taXNlLl9zdGF0ZSA9IEZVTEZJTExFRDtcblxuICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuICBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEO1xuICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG5cbiAgYXNhcChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gIHZhciBfc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICB2YXIgbGVuZ3RoID0gX3N1YnNjcmliZXJzLmxlbmd0aDtcblxuXG4gIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgX3N1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgX3N1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgUkVKRUNURURdID0gb25SZWplY3Rpb247XG5cbiAgaWYgKGxlbmd0aCA9PT0gMCAmJiBwYXJlbnQuX3N0YXRlKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwYXJlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSkge1xuICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gdm9pZCAwLFxuICAgICAgY2FsbGJhY2sgPSB2b2lkIDAsXG4gICAgICBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soZGV0YWlsKTtcbiAgICB9XG4gIH1cblxuICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgdmFsdWUgPSB2b2lkIDAsXG4gICAgICBlcnJvciA9IHZvaWQgMCxcbiAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG5cbiAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2soZGV0YWlsKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzdWNjZWVkZWQgPSBmYWxzZTtcbiAgICAgIGVycm9yID0gZTtcbiAgICB9XG5cbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBjYW5ub3RSZXR1cm5Pd24oKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gZGV0YWlsO1xuICB9XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgLy8gbm9vcFxuICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHN1Y2NlZWRlZCA9PT0gZmFsc2UpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB0cnkge1xuICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxudmFyIGlkID0gMDtcbmZ1bmN0aW9uIG5leHRJZCgpIHtcbiAgcmV0dXJuIGlkKys7XG59XG5cbmZ1bmN0aW9uIG1ha2VQcm9taXNlKHByb21pc2UpIHtcbiAgcHJvbWlzZVtQUk9NSVNFX0lEXSA9IGlkKys7XG4gIHByb21pc2UuX3N0YXRlID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRpb25FcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG59XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSQkMSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUkJDEgPT09IHJlc29sdmUkMSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IHRoZW4gJiYgZW50cnkuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgICAgIHRoaXMuX3NldHRsZWRBdChlbnRyeS5fc3RhdGUsIGksIGVudHJ5Ll9yZXN1bHQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3RoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IGVudHJ5O1xuICAgICAgfSBlbHNlIGlmIChjID09PSBQcm9taXNlJDEpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlJCQxKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUkJDEoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlJCQxKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yYWNlYCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2ggaXMgc2V0dGxlZCBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlXG4gIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIHNldHRsZS5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMicpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFByb21pc2UucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIHJlc3VsdCA9PT0gJ3Byb21pc2UgMicgYmVjYXVzZSBpdCB3YXMgcmVzb2x2ZWQgYmVmb3JlIHByb21pc2UxXG4gICAgLy8gd2FzIHJlc29sdmVkLlxuICB9KTtcbiAgYGBgXG5cbiAgYFByb21pc2UucmFjZWAgaXMgZGV0ZXJtaW5pc3RpYyBpbiB0aGF0IG9ubHkgdGhlIHN0YXRlIG9mIHRoZSBmaXJzdFxuICBzZXR0bGVkIHByb21pc2UgbWF0dGVycy4gRm9yIGV4YW1wbGUsIGV2ZW4gaWYgb3RoZXIgcHJvbWlzZXMgZ2l2ZW4gdG8gdGhlXG4gIGBwcm9taXNlc2AgYXJyYXkgYXJndW1lbnQgYXJlIHJlc29sdmVkLCBidXQgdGhlIGZpcnN0IHNldHRsZWQgcHJvbWlzZSBoYXNcbiAgYmVjb21lIHJlamVjdGVkIGJlZm9yZSB0aGUgb3RoZXIgcHJvbWlzZXMgYmVjYW1lIGZ1bGZpbGxlZCwgdGhlIHJldHVybmVkXG4gIHByb21pc2Ugd2lsbCBiZWNvbWUgcmVqZWN0ZWQ6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcigncHJvbWlzZSAyJykpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFByb21pc2UucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgcHJvbWlzZSAyIGJlY2FtZSByZWplY3RlZCBiZWZvcmVcbiAgICAvLyBwcm9taXNlIDEgYmVjYW1lIGZ1bGZpbGxlZFxuICB9KTtcbiAgYGBgXG5cbiAgQW4gZXhhbXBsZSByZWFsLXdvcmxkIHVzZSBjYXNlIGlzIGltcGxlbWVudGluZyB0aW1lb3V0czpcblxuICBgYGBqYXZhc2NyaXB0XG4gIFByb21pc2UucmFjZShbYWpheCgnZm9vLmpzb24nKSwgdGltZW91dCg1MDAwKV0pXG4gIGBgYFxuXG4gIEBtZXRob2QgcmFjZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IHByb21pc2VzIGFycmF5IG9mIHByb21pc2VzIHRvIG9ic2VydmVcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2Ugd2hpY2ggc2V0dGxlcyBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlIGZpcnN0IHBhc3NlZFxuICBwcm9taXNlIHRvIHNldHRsZS5cbiovXG5mdW5jdGlvbiByYWNlKGVudHJpZXMpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkoZW50cmllcykpIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChfLCByZWplY3QpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gIGBQcm9taXNlLnJlamVjdGAgcmV0dXJucyBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkIGByZWFzb25gLlxuICBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZWplY3RcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FueX0gcmVhc29uIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBnaXZlbiBgcmVhc29uYC5cbiovXG5mdW5jdGlvbiByZWplY3QkMShyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlJDEgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcbiAgICB0aGlzW1BST01JU0VfSURdID0gbmV4dElkKCk7XG4gICAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICAgIGlmIChub29wICE9PSByZXNvbHZlcikge1xuICAgICAgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nICYmIG5lZWRzUmVzb2x2ZXIoKTtcbiAgICAgIHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID8gaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpIDogbmVlZHNOZXcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgVGhlIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsXG4gIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gIHJlYXNvbiB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAvLyB1c2VyIGlzIGF2YWlsYWJsZVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gIH0pO1xuICBgYGBcbiAgIENoYWluaW5nXG4gIC0tLS0tLS0tXG4gICBUaGUgcmV0dXJuIHZhbHVlIG9mIGB0aGVuYCBpcyBpdHNlbGYgYSBwcm9taXNlLiAgVGhpcyBzZWNvbmQsICdkb3duc3RyZWFtJ1xuICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gIG9yIHJlamVjdGlvbiBoYW5kbGVyLCBvciByZWplY3RlZCBpZiB0aGUgaGFuZGxlciB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIHVzZXIubmFtZTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgfSkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gIH0pO1xuICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAvLyBJZiBgZmluZFVzZXJgIHJlamVjdGVkLCBgcmVhc29uYCB3aWxsIGJlICdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jy5cbiAgfSk7XG4gIGBgYFxuICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBQZWRhZ29naWNhbEV4Y2VwdGlvbignVXBzdHJlYW0gZXJyb3InKTtcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gVGhlIGBQZWRnYWdvY2lhbEV4Y2VwdGlvbmAgaXMgcHJvcGFnYXRlZCBhbGwgdGhlIHdheSBkb3duIHRvIGhlcmVcbiAgfSk7XG4gIGBgYFxuICAgQXNzaW1pbGF0aW9uXG4gIC0tLS0tLS0tLS0tLVxuICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICBmdWxmaWxsbWVudCBvciByZWplY3Rpb24gaGFuZGxlci4gVGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIHRoZW4gYmUgcGVuZGluZ1xuICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBUaGUgdXNlcidzIGNvbW1lbnRzIGFyZSBub3cgYXZhaWxhYmxlXG4gIH0pO1xuICBgYGBcbiAgIElmIHRoZSBhc3NpbWxpYXRlZCBwcm9taXNlIHJlamVjdHMsIHRoZW4gdGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIGFsc28gcmVqZWN0LlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgfSk7XG4gIGBgYFxuICAgU2ltcGxlIEV4YW1wbGVcbiAgLS0tLS0tLS0tLS0tLS1cbiAgIFN5bmNocm9ub3VzIEV4YW1wbGVcbiAgIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlc3VsdDtcbiAgIHRyeSB7XG4gICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgIC8vIHN1Y2Nlc3NcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAvLyBmYWlsdXJlXG4gIH1cbiAgYGBgXG4gICBFcnJiYWNrIEV4YW1wbGVcbiAgIGBgYGpzXG4gIGZpbmRSZXN1bHQoZnVuY3Rpb24ocmVzdWx0LCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kUmVzdWx0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIHN1Y2Nlc3NcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyBmYWlsdXJlXG4gIH0pO1xuICBgYGBcbiAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgLS0tLS0tLS0tLS0tLS1cbiAgIFN5bmNocm9ub3VzIEV4YW1wbGVcbiAgIGBgYGphdmFzY3JpcHRcbiAgbGV0IGF1dGhvciwgYm9va3M7XG4gICB0cnkge1xuICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgIC8vIHN1Y2Nlc3NcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAvLyBmYWlsdXJlXG4gIH1cbiAgYGBgXG4gICBFcnJiYWNrIEV4YW1wbGVcbiAgIGBgYGpzXG4gICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG4gICB9XG4gICBmdW5jdGlvbiBmYWlsdXJlKHJlYXNvbikge1xuICAgfVxuICAgZmluZEF1dGhvcihmdW5jdGlvbihhdXRob3IsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBmaW5kQm9vb2tzQnlBdXRob3IoYXV0aG9yLCBmdW5jdGlvbihib29rcywgZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgICAgICAgIGZhaWx1cmUocmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG4gICBQcm9taXNlIEV4YW1wbGU7XG4gICBgYGBqYXZhc2NyaXB0XG4gIGZpbmRBdXRob3IoKS5cbiAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICB0aGVuKGZ1bmN0aW9uKGJvb2tzKXtcbiAgICAgIC8vIGZvdW5kIGJvb2tzXG4gIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfSk7XG4gIGBgYFxuICAgQG1ldGhvZCB0aGVuXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0ZWRcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG4gIC8qKlxuICBgY2F0Y2hgIGlzIHNpbXBseSBzdWdhciBmb3IgYHRoZW4odW5kZWZpbmVkLCBvblJlamVjdGlvbilgIHdoaWNoIG1ha2VzIGl0IHRoZSBzYW1lXG4gIGFzIHRoZSBjYXRjaCBibG9jayBvZiBhIHRyeS9jYXRjaCBzdGF0ZW1lbnQuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZG4ndCBmaW5kIHRoYXQgYXV0aG9yJyk7XG4gIH1cbiAgLy8gc3luY2hyb25vdXNcbiAgdHJ5IHtcbiAgZmluZEF1dGhvcigpO1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9XG4gIC8vIGFzeW5jIHdpdGggcHJvbWlzZXNcbiAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgQG1ldGhvZCBjYXRjaFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGlvblxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5jYXRjaCA9IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgIGBmaW5hbGx5YCB3aWxsIGJlIGludm9rZWQgcmVnYXJkbGVzcyBvZiB0aGUgcHJvbWlzZSdzIGZhdGUganVzdCBhcyBuYXRpdmVcbiAgICB0cnkvY2F0Y2gvZmluYWxseSBiZWhhdmVzXG4gIFxuICAgIFN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpIHtcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBBdXRob3IoKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZmluZEF1dGhvcigpOyAvLyBzdWNjZWVkIG9yIGZhaWxcbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGFsd2F5cyBydW5zXG4gICAgICAvLyBkb2Vzbid0IGFmZmVjdCB0aGUgcmV0dXJuIHZhbHVlXG4gICAgfVxuICAgIGBgYFxuICBcbiAgICBBc3luY2hyb25vdXMgZXhhbXBsZTpcbiAgXG4gICAgYGBganNcbiAgICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIHJldHVybiBmaW5kT3RoZXJBdXRoZXIoKTtcbiAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7XG4gICAgICAvLyBhdXRob3Igd2FzIGVpdGhlciBmb3VuZCwgb3Igbm90XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEBtZXRob2QgZmluYWxseVxuICAgIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuXG4gIFByb21pc2UucHJvdG90eXBlLmZpbmFsbHkgPSBmdW5jdGlvbiBfZmluYWxseShjYWxsYmFjaykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB2YXIgY29uc3RydWN0b3IgPSBwcm9taXNlLmNvbnN0cnVjdG9yO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2UudGhlbihjYWxsYmFjaywgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiBQcm9taXNlO1xufSgpO1xuXG5Qcm9taXNlJDEucHJvdG90eXBlLnRoZW4gPSB0aGVuO1xuUHJvbWlzZSQxLmFsbCA9IGFsbDtcblByb21pc2UkMS5yYWNlID0gcmFjZTtcblByb21pc2UkMS5yZXNvbHZlID0gcmVzb2x2ZSQxO1xuUHJvbWlzZSQxLnJlamVjdCA9IHJlamVjdCQxO1xuUHJvbWlzZSQxLl9zZXRTY2hlZHVsZXIgPSBzZXRTY2hlZHVsZXI7XG5Qcm9taXNlJDEuX3NldEFzYXAgPSBzZXRBc2FwO1xuUHJvbWlzZSQxLl9hc2FwID0gYXNhcDtcblxuLypnbG9iYWwgc2VsZiovXG5mdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgdmFyIGxvY2FsID0gdm9pZCAwO1xuXG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxvY2FsID0gZ2xvYmFsO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxvY2FsID0gc2VsZjtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIFAgPSBsb2NhbC5Qcm9taXNlO1xuXG4gIGlmIChQKSB7XG4gICAgdmFyIHByb21pc2VUb1N0cmluZyA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2VUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc2lsZW50bHkgaWdub3JlZFxuICAgIH1cblxuICAgIGlmIChwcm9taXNlVG9TdHJpbmcgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgbG9jYWwuUHJvbWlzZSA9IFByb21pc2UkMTtcbn1cblxuLy8gU3RyYW5nZSBjb21wYXQuLlxuUHJvbWlzZSQxLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlJDEuUHJvbWlzZSA9IFByb21pc2UkMTtcblxucmV0dXJuIFByb21pc2UkMTtcblxufSkpKTtcblxuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVzNi1wcm9taXNlLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/es6-promise/dist/es6-promise.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/package.json":
/*!********************************************************!*\
  !*** ./node_modules/geoportal-access-lib/package.json ***!
  \********************************************************/
/*! exports provided: _from, _id, _inBundle, _integrity, _location, _phantomChildren, _requested, _requiredBy, _resolved, _shasum, _spec, _where, author, bugs, bundleDependencies, date, dependencies, deprecated, description, devDependencies, homepage, keywords, license, main, module, name, nyc, optionalDependencies, peerDependencies, repository, scripts, version, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"_from\\\":\\\"geoportal-access-lib@2.1.6\\\",\\\"_id\\\":\\\"geoportal-access-lib@2.1.6\\\",\\\"_inBundle\\\":false,\\\"_integrity\\\":\\\"sha512-zQpSjZq8YkGW+ooB1WloQd2KZHCKyg4/pbIFLSPCk3et2Zan/O2hZlKOf2alEX2zbsg7Wd+e8KiLc7cHZKniag==\\\",\\\"_location\\\":\\\"/geoportal-access-lib\\\",\\\"_phantomChildren\\\":{},\\\"_requested\\\":{\\\"type\\\":\\\"version\\\",\\\"registry\\\":true,\\\"raw\\\":\\\"geoportal-access-lib@2.1.6\\\",\\\"name\\\":\\\"geoportal-access-lib\\\",\\\"escapedName\\\":\\\"geoportal-access-lib\\\",\\\"rawSpec\\\":\\\"2.1.6\\\",\\\"saveSpec\\\":null,\\\"fetchSpec\\\":\\\"2.1.6\\\"},\\\"_requiredBy\\\":[\\\"/\\\"],\\\"_resolved\\\":\\\"https://registry.npmjs.org/geoportal-access-lib/-/geoportal-access-lib-2.1.6.tgz\\\",\\\"_shasum\\\":\\\"8bb0d4cc7045c39c3392fe076ba699aace2b6066\\\",\\\"_spec\\\":\\\"geoportal-access-lib@2.1.6\\\",\\\"_where\\\":\\\"/home/runner/work/geoportal-extensions/geoportal-extensions\\\",\\\"author\\\":{\\\"name\\\":\\\"IGNF\\\"},\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/IGNF/geoportal-access-lib/issues\\\"},\\\"bundleDependencies\\\":false,\\\"date\\\":\\\"03/10/2019\\\",\\\"dependencies\\\":{\\\"es6-promise\\\":\\\"^4.2.4\\\",\\\"request\\\":\\\"^2.87.0\\\",\\\"xmldom\\\":\\\"^0.1.27\\\"},\\\"deprecated\\\":false,\\\"description\\\":\\\"French Geoportal resources access library\\\",\\\"devDependencies\\\":{\\\"babel-core\\\":\\\"^6.26.3\\\",\\\"babel-loader\\\":\\\"^7.1.2\\\",\\\"babel-preset-env\\\":\\\"^1.7.0\\\",\\\"chai\\\":\\\"^4.1.2\\\",\\\"clean-webpack-plugin\\\":\\\"^0.1.18\\\",\\\"copy-webpack-plugin\\\":\\\"^4.5.1\\\",\\\"eslint\\\":\\\"^4.18.2\\\",\\\"eslint-config-standard\\\":\\\"^11.0.0\\\",\\\"eslint-loader\\\":\\\"^2.0.0\\\",\\\"eslint-plugin-import\\\":\\\"^2.9.0\\\",\\\"eslint-plugin-node\\\":\\\"^6.0.1\\\",\\\"eslint-plugin-promise\\\":\\\"^3.7.0\\\",\\\"eslint-plugin-standard\\\":\\\"^3.0.1\\\",\\\"glob\\\":\\\"^7.1.2\\\",\\\"handlebars-layouts\\\":\\\"^3.1.4\\\",\\\"handlebars-webpack-plugin\\\":\\\"^1.4.1\\\",\\\"html-webpack-plugin\\\":\\\"^2.30.1\\\",\\\"istanbul-instrumenter-loader\\\":\\\"^3.0.1\\\",\\\"jsdoc-webpack-plugin\\\":\\\"0.0.1\\\",\\\"loglevel\\\":\\\"^1.6.1\\\",\\\"mocha\\\":\\\"^4.0.0\\\",\\\"mocha-loader\\\":\\\"^1.1.3\\\",\\\"mocha-webpack\\\":\\\"^1.0.1\\\",\\\"nyc\\\":\\\"^12.0.2\\\",\\\"path\\\":\\\"^0.12.7\\\",\\\"replace-bundle-webpack-plugin\\\":\\\"^1.0.0\\\",\\\"sinon\\\":\\\"^4.3.0\\\",\\\"sinon-es6\\\":\\\"0.0.3\\\",\\\"speed-measure-webpack-plugin\\\":\\\"^1.2.2\\\",\\\"string-template\\\":\\\"^1.0.0\\\",\\\"webpack\\\":\\\"^3.11.0\\\",\\\"webpack-dev-server\\\":\\\"^2.11.3\\\",\\\"webpack-node-externals\\\":\\\"^1.6.0\\\",\\\"webpack-shell-plugin\\\":\\\"^0.5.0\\\"},\\\"homepage\\\":\\\"https://github.com/IGNF/geoportal-access-lib#readme\\\",\\\"keywords\\\":[\\\"geoportail\\\",\\\"webservice\\\",\\\"javascript\\\",\\\"es6\\\"],\\\"license\\\":\\\"CECILL-B\\\",\\\"main\\\":\\\"dist/GpServices-src.js\\\",\\\"module\\\":\\\"src/Gp.js\\\",\\\"name\\\":\\\"geoportal-access-lib\\\",\\\"nyc\\\":{\\\"include\\\":[\\\"src/**/*.js\\\"],\\\"instrument\\\":false,\\\"sourceMap\\\":false},\\\"optionalDependencies\\\":{},\\\"peerDependencies\\\":{},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/IGNF/geoportal-access-lib.git\\\"},\\\"scripts\\\":{\\\"build\\\":\\\"webpack\\\",\\\"build:dev\\\":\\\"webpack --env.development\\\",\\\"build:prod\\\":\\\"webpack --env.production\\\",\\\"clean\\\":\\\"echo \\\\\\\"Warning: no yet implemented!\\\\\\\" && exit 0\\\",\\\"cover\\\":\\\"nyc --reporter=lcov --reporter=text npm run test\\\",\\\"doc\\\":\\\"npm run doc:serve\\\",\\\"doc:serve\\\":\\\"webpack-dev-server --content-base jsdoc --port 9001 --open\\\",\\\"sample\\\":\\\"npm run sample:serve\\\",\\\"sample:serve\\\":\\\"webpack-dev-server --open-page samples/index-src.html --https --content-base .  --output-public-path '/dist/' --port 9001 --open 'google-chrome'\\\",\\\"sample:serve:dev\\\":\\\"webpack-dev-server --env.development --open-page samples/index-map.html --content-base . --output-public-path '/dist/' --port 9001 --open 'google-chrome\\\",\\\"sample:serve:prod\\\":\\\"webpack-dev-server --env.production --open-page samples/index.html --content-base . --output-public-path '/dist/' --port 9001 --open 'google-chrome\\\",\\\"setup\\\":\\\"npm install\\\",\\\"test\\\":\\\"mocha-webpack --webpack-config webpack.test.js --glob \\\\\\\"test_*.js\\\\\\\" test/spec/\\\",\\\"test:end-to-end:serve\\\":\\\"webpack-dev-server --hot --config webpack.end-to-end.serve.js\\\",\\\"test:serve\\\":\\\"webpack-dev-server --hot --config webpack.test.serve.js\\\"},\\\"version\\\":\\\"2.1.6\\\"}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9wYWNrYWdlLmpzb24uanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/package.json\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js":
/*!**************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Errors raised by API for one among three reasons : wrong API usage, underlying service error or unknown reason.\n *\n * @property {String} message - Error message\n * @property {Number} status - Error status : when {@link Gp.Error.TYPE_SRVERR}, gives the [HTTP status of the underlying web service response]{@link https://en.wikipedia.org/wiki/List_of_HTTP_status_codes} ; -1 otherwise.\n * @property {String} type - Error type ({@link Gp.Error.TYPE_SRVERR}, {@link Gp.Error.TYPE_USEERR} or {@link Gp.Error.TYPE_UNKERR}).\n *\n * @namespace\n * @alias Gp.Error\n * @param {Object|String} error - Options for creating error object. Can be a String (message) or an Object.\n * @param {String} error.message - Error message to return to user.\n * @param {enum} [error.type=TYPE_UNKERR] - Error type\n * @param {status} [error.status=-1] - Error status : when {@link Gp.Error.TYPE_SRVERR}, gives the [HTTP status of the underlying web service response]{@link https://en.wikipedia.org/wiki/List_of_HTTP_status_codes}.\n *\n */\nfunction ErrorService (error) {\n    if (!(this instanceof ErrorService)) {\n        throw new TypeError(\"ErrorService constructor cannot be called as a function.\");\n    }\n\n    var e = error;\n    if (typeof error === \"string\" || error instanceof String) {\n        this.message = error;\n        this.status = -1;\n        this.type = ErrorService.TYPE_UNKERR;\n    } else {\n        this.message = e.message || \"undefined!?\";\n        this.type = e.type;\n        this.status = e.status || -1;\n    }\n\n    this.name = \"ErrorService\";\n    this.stack = (new Error()).stack;\n}\n\n/**\n * Error raised when underlying geoportal service answers on error.\n *\n * @type {String}\n * @constant\n * @static\n */\nErrorService.TYPE_SRVERR = \"SERVICE_ERROR\";\n/**\n * Error raised when funcion use is inappropriate\n *\n * @type {String}\n * @constant\n * @static\n */\nErrorService.TYPE_USEERR = \"USAGE_ERROR\";\n/**\n * Error raised when API can't perform the job for a reason other than the two other ones.\n *\n * @type {String}\n * @constant\n * @static\n */\nErrorService.TYPE_UNKERR = \"UNKNOWN_ERROR\";\n\n/**\n * @lends module:ErrorService\n */\nErrorService.prototype = Object.create(Error.prototype, {\n    constructor : {\n        value : ErrorService,\n        writable : true,\n        configurable : true\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRXhjZXB0aW9ucy9FcnJvclNlcnZpY2UuanM/ODRiZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU8sK0JBQStCLDJCQUEyQixpRUFBaUUsOERBQThELEVBQUU7QUFDaE4sY0FBYyxPQUFPLHFCQUFxQiwyQkFBMkIsR0FBRywyQkFBMkIsS0FBSywyQkFBMkI7QUFDbkk7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsT0FBTztBQUNsQixXQUFXLEtBQUs7QUFDaEIsV0FBVyxPQUFPLDBDQUEwQywyQkFBMkIsaUVBQWlFLDhEQUE4RDtBQUN0TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRWMsMkVBQVksRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRXhjZXB0aW9ucy9FcnJvclNlcnZpY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVycm9ycyByYWlzZWQgYnkgQVBJIGZvciBvbmUgYW1vbmcgdGhyZWUgcmVhc29ucyA6IHdyb25nIEFQSSB1c2FnZSwgdW5kZXJseWluZyBzZXJ2aWNlIGVycm9yIG9yIHVua25vd24gcmVhc29uLlxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBtZXNzYWdlIC0gRXJyb3IgbWVzc2FnZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHN0YXR1cyAtIEVycm9yIHN0YXR1cyA6IHdoZW4ge0BsaW5rIEdwLkVycm9yLlRZUEVfU1JWRVJSfSwgZ2l2ZXMgdGhlIFtIVFRQIHN0YXR1cyBvZiB0aGUgdW5kZXJseWluZyB3ZWIgc2VydmljZSByZXNwb25zZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9IVFRQX3N0YXR1c19jb2Rlc30gOyAtMSBvdGhlcndpc2UuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdHlwZSAtIEVycm9yIHR5cGUgKHtAbGluayBHcC5FcnJvci5UWVBFX1NSVkVSUn0sIHtAbGluayBHcC5FcnJvci5UWVBFX1VTRUVSUn0gb3Ige0BsaW5rIEdwLkVycm9yLlRZUEVfVU5LRVJSfSkuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLkVycm9yXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGVycm9yIC0gT3B0aW9ucyBmb3IgY3JlYXRpbmcgZXJyb3Igb2JqZWN0LiBDYW4gYmUgYSBTdHJpbmcgKG1lc3NhZ2UpIG9yIGFuIE9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBlcnJvci5tZXNzYWdlIC0gRXJyb3IgbWVzc2FnZSB0byByZXR1cm4gdG8gdXNlci5cbiAqIEBwYXJhbSB7ZW51bX0gW2Vycm9yLnR5cGU9VFlQRV9VTktFUlJdIC0gRXJyb3IgdHlwZVxuICogQHBhcmFtIHtzdGF0dXN9IFtlcnJvci5zdGF0dXM9LTFdIC0gRXJyb3Igc3RhdHVzIDogd2hlbiB7QGxpbmsgR3AuRXJyb3IuVFlQRV9TUlZFUlJ9LCBnaXZlcyB0aGUgW0hUVFAgc3RhdHVzIG9mIHRoZSB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlIHJlc3BvbnNlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0hUVFBfc3RhdHVzX2NvZGVzfS5cbiAqXG4gKi9cbmZ1bmN0aW9uIEVycm9yU2VydmljZSAoZXJyb3IpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRXJyb3JTZXJ2aWNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXJyb3JTZXJ2aWNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdmFyIGUgPSBlcnJvcjtcbiAgICBpZiAodHlwZW9mIGVycm9yID09PSBcInN0cmluZ1wiIHx8IGVycm9yIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IC0xO1xuICAgICAgICB0aGlzLnR5cGUgPSBFcnJvclNlcnZpY2UuVFlQRV9VTktFUlI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZS5tZXNzYWdlIHx8IFwidW5kZWZpbmVkIT9cIjtcbiAgICAgICAgdGhpcy50eXBlID0gZS50eXBlO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IGUuc3RhdHVzIHx8IC0xO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IFwiRXJyb3JTZXJ2aWNlXCI7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG59XG5cbi8qKlxuICogRXJyb3IgcmFpc2VkIHdoZW4gdW5kZXJseWluZyBnZW9wb3J0YWwgc2VydmljZSBhbnN3ZXJzIG9uIGVycm9yLlxuICpcbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqL1xuRXJyb3JTZXJ2aWNlLlRZUEVfU1JWRVJSID0gXCJTRVJWSUNFX0VSUk9SXCI7XG4vKipcbiAqIEVycm9yIHJhaXNlZCB3aGVuIGZ1bmNpb24gdXNlIGlzIGluYXBwcm9wcmlhdGVcbiAqXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQGNvbnN0YW50XG4gKiBAc3RhdGljXG4gKi9cbkVycm9yU2VydmljZS5UWVBFX1VTRUVSUiA9IFwiVVNBR0VfRVJST1JcIjtcbi8qKlxuICogRXJyb3IgcmFpc2VkIHdoZW4gQVBJIGNhbid0IHBlcmZvcm0gdGhlIGpvYiBmb3IgYSByZWFzb24gb3RoZXIgdGhhbiB0aGUgdHdvIG90aGVyIG9uZXMuXG4gKlxuICogQHR5cGUge1N0cmluZ31cbiAqIEBjb25zdGFudFxuICogQHN0YXRpY1xuICovXG5FcnJvclNlcnZpY2UuVFlQRV9VTktFUlIgPSBcIlVOS05PV05fRVJST1JcIjtcblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkVycm9yU2VydmljZVxuICovXG5FcnJvclNlcnZpY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3RvciA6IHtcbiAgICAgICAgdmFsdWUgOiBFcnJvclNlcnZpY2UsXG4gICAgICAgIHdyaXRhYmxlIDogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlIDogdHJ1ZVxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBFcnJvclNlcnZpY2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/WKT.js":
/*!**************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/WKT.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n/**\n * Lecture / Ecriture du format WKT\n *\n * Les besoins sont assez simples :\n * 1. lecture des types suivants :\n *  - LINESTRING\n *  - POLYGON\n *  - (TODO)\n * 2. convertir aux formats suivants :\n *  - json\n *  - (TODO)\n *\n *\n * @example\n *  var strWKT = \"LINESTRING (2.416907 48.846577, 2.416916 48.846613)\";\n *  WKT.toJson (strWKT,\n *      function onSuccess (json) {\n *          // {\n *          //      type : 'LINESTRING',\n *          //      coordinates : [\n *          //          [2.416907, 48.846577],\n *          //          [2.416916, 48.846613]\n *          //      ]\n *          // }\n *      },\n *      function onError (error) {\n *          console.log(error);\n *      }\n *  );\n *\n * @module WKT\n * @alias Gp.Formats.WKT\n * @private\n */\n\nvar WKT = {\n\n    /**\n     * Parsing d'une chaine WKT\n     *\n     * @method toJson\n     * @param {String} strWkt - chaine de type WKT\n     * @param {Function} success - fonction callback\n     * @param {Function} error   - fonction callback\n     */\n    toJson : function (strWkt, success, error) {\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n\n        var json = null;\n\n        try {\n            if (!strWkt) {\n                throw new Error(\"La chaine WKT n'est pas renseignée !\");\n            }\n\n            if (!success) {\n                // callback success par defaut\n                success = function (json) {\n                    console.log(json);\n                };\n            }\n\n            if (!error) {\n                // callback error par defaut\n                error = function (e) {\n                    console.log(e);\n                };\n            }\n\n            var regex;\n            var subst;\n\n            // regex coordinates\n            regex = /(-?\\d+\\.?[0-9]*)\\s(-?\\d+\\.?[0-9]+)/g;\n            subst = \"[$1,$2]\";\n            strWkt = strWkt.replace(regex, subst);\n\n            // regex type\n            regex = /^(\\w+)/;\n            regex.exec(strWkt);\n            if (RegExp.$1 === \"POLYGON\") {\n                subst = \"{\\\"type\\\" : \\\"Polygon\\\",\";\n                strWkt = strWkt.replace(RegExp.$1, subst);\n                // clean\n                // (( --> coordinates : [[\n                regex = /(\\({2}?)/;\n                subst = \"\\\"coordinates\\\" : [[\";\n                strWkt = strWkt.replace(regex, subst);\n                // )) --> ]]}\n                regex = /(\\){2}?)/;\n                subst = \"]]}\";\n                strWkt = strWkt.replace(regex, subst);\n                // all ( --> [\n                regex = /(\\()/g;\n                subst = \"[\";\n                strWkt = strWkt.replace(regex, subst);\n                // all ) --> ]\n                regex = /(\\))/g;\n                subst = \"]\";\n                strWkt = strWkt.replace(regex, subst);\n            } else if (RegExp.$1 === \"LINESTRING\") {\n                subst = \"{\\\"type\\\" : \\\"LineString\\\",\";\n                strWkt = strWkt.replace(RegExp.$1, subst);\n                // clean\n                regex = /(\\(\\(?)/;\n                subst = \"\\\"coordinates\\\" : [\";\n                strWkt = strWkt.replace(regex, subst);\n                regex = /(\\)\\)?)/;\n                subst = \"]}\";\n                strWkt = strWkt.replace(regex, subst);\n            }\n\n            logger.trace(strWkt);\n\n            json = JSON.parse(strWkt);\n\n            if (!json) {\n                throw new Error(\"Le JSON est vide !\");\n            }\n\n            if (!json.type) {\n                throw new Error(\"Le type de geometrie n'est pas connu !\");\n            }\n\n            if (!json.coordinates) {\n                throw new Error(\"La liste des points est vide !\");\n            }\n\n            success.call(this, json);\n        } catch (e) {\n            if (e.name === \"SyntaxError\") {\n                error.call(this, \"Erreur de parsing JSON !\");\n                return;\n            }\n            error.call(this, e);\n        }\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WKT);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9XS1QuanM/OWIzOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQThDOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsU0FBUztBQUN4QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLHFCQUFxQiw4REFBTTs7QUFFM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixFQUFFO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixFQUFFO0FBQy9CLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsa0VBQUcsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9XS1QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLyoqXG4gKiBMZWN0dXJlIC8gRWNyaXR1cmUgZHUgZm9ybWF0IFdLVFxuICpcbiAqIExlcyBiZXNvaW5zIHNvbnQgYXNzZXogc2ltcGxlcyA6XG4gKiAxLiBsZWN0dXJlIGRlcyB0eXBlcyBzdWl2YW50cyA6XG4gKiAgLSBMSU5FU1RSSU5HXG4gKiAgLSBQT0xZR09OXG4gKiAgLSAoVE9ETylcbiAqIDIuIGNvbnZlcnRpciBhdXggZm9ybWF0cyBzdWl2YW50cyA6XG4gKiAgLSBqc29uXG4gKiAgLSAoVE9ETylcbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqICB2YXIgc3RyV0tUID0gXCJMSU5FU1RSSU5HICgyLjQxNjkwNyA0OC44NDY1NzcsIDIuNDE2OTE2IDQ4Ljg0NjYxMylcIjtcbiAqICBXS1QudG9Kc29uIChzdHJXS1QsXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyAoanNvbikge1xuICogICAgICAgICAgLy8ge1xuICogICAgICAgICAgLy8gICAgICB0eXBlIDogJ0xJTkVTVFJJTkcnLFxuICogICAgICAgICAgLy8gICAgICBjb29yZGluYXRlcyA6IFtcbiAqICAgICAgICAgIC8vICAgICAgICAgIFsyLjQxNjkwNywgNDguODQ2NTc3XSxcbiAqICAgICAgICAgIC8vICAgICAgICAgIFsyLjQxNjkxNiwgNDguODQ2NjEzXVxuICogICAgICAgICAgLy8gICAgICBdXG4gKiAgICAgICAgICAvLyB9XG4gKiAgICAgIH0sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IgKGVycm9yKSB7XG4gKiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gKiAgICAgIH1cbiAqICApO1xuICpcbiAqIEBtb2R1bGUgV0tUXG4gKiBAYWxpYXMgR3AuRm9ybWF0cy5XS1RcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIFdLVCA9IHtcblxuICAgIC8qKlxuICAgICAqIFBhcnNpbmcgZCd1bmUgY2hhaW5lIFdLVFxuICAgICAqXG4gICAgICogQG1ldGhvZCB0b0pzb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyV2t0IC0gY2hhaW5lIGRlIHR5cGUgV0tUXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyAtIGZvbmN0aW9uIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgICAtIGZvbmN0aW9uIGNhbGxiYWNrXG4gICAgICovXG4gICAgdG9Kc29uIDogZnVuY3Rpb24gKHN0cldrdCwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgdmFyIGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoKTtcblxuICAgICAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghc3RyV2t0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGEgY2hhaW5lIFdLVCBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUgIVwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsbGJhY2sgc3VjY2VzcyBwYXIgZGVmYXV0XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGpzb24pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayBlcnJvciBwYXIgZGVmYXV0XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVnZXg7XG4gICAgICAgICAgICB2YXIgc3Vic3Q7XG5cbiAgICAgICAgICAgIC8vIHJlZ2V4IGNvb3JkaW5hdGVzXG4gICAgICAgICAgICByZWdleCA9IC8oLT9cXGQrXFwuP1swLTldKilcXHMoLT9cXGQrXFwuP1swLTldKykvZztcbiAgICAgICAgICAgIHN1YnN0ID0gXCJbJDEsJDJdXCI7XG4gICAgICAgICAgICBzdHJXa3QgPSBzdHJXa3QucmVwbGFjZShyZWdleCwgc3Vic3QpO1xuXG4gICAgICAgICAgICAvLyByZWdleCB0eXBlXG4gICAgICAgICAgICByZWdleCA9IC9eKFxcdyspLztcbiAgICAgICAgICAgIHJlZ2V4LmV4ZWMoc3RyV2t0KTtcbiAgICAgICAgICAgIGlmIChSZWdFeHAuJDEgPT09IFwiUE9MWUdPTlwiKSB7XG4gICAgICAgICAgICAgICAgc3Vic3QgPSBcIntcXFwidHlwZVxcXCIgOiBcXFwiUG9seWdvblxcXCIsXCI7XG4gICAgICAgICAgICAgICAgc3RyV2t0ID0gc3RyV2t0LnJlcGxhY2UoUmVnRXhwLiQxLCBzdWJzdCk7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW5cbiAgICAgICAgICAgICAgICAvLyAoKCAtLT4gY29vcmRpbmF0ZXMgOiBbW1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gLyhcXCh7Mn0/KS87XG4gICAgICAgICAgICAgICAgc3Vic3QgPSBcIlxcXCJjb29yZGluYXRlc1xcXCIgOiBbW1wiO1xuICAgICAgICAgICAgICAgIHN0cldrdCA9IHN0cldrdC5yZXBsYWNlKHJlZ2V4LCBzdWJzdCk7XG4gICAgICAgICAgICAgICAgLy8gKSkgLS0+IF1dfVxuICAgICAgICAgICAgICAgIHJlZ2V4ID0gLyhcXCl7Mn0/KS87XG4gICAgICAgICAgICAgICAgc3Vic3QgPSBcIl1dfVwiO1xuICAgICAgICAgICAgICAgIHN0cldrdCA9IHN0cldrdC5yZXBsYWNlKHJlZ2V4LCBzdWJzdCk7XG4gICAgICAgICAgICAgICAgLy8gYWxsICggLS0+IFtcbiAgICAgICAgICAgICAgICByZWdleCA9IC8oXFwoKS9nO1xuICAgICAgICAgICAgICAgIHN1YnN0ID0gXCJbXCI7XG4gICAgICAgICAgICAgICAgc3RyV2t0ID0gc3RyV2t0LnJlcGxhY2UocmVnZXgsIHN1YnN0KTtcbiAgICAgICAgICAgICAgICAvLyBhbGwgKSAtLT4gXVxuICAgICAgICAgICAgICAgIHJlZ2V4ID0gLyhcXCkpL2c7XG4gICAgICAgICAgICAgICAgc3Vic3QgPSBcIl1cIjtcbiAgICAgICAgICAgICAgICBzdHJXa3QgPSBzdHJXa3QucmVwbGFjZShyZWdleCwgc3Vic3QpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChSZWdFeHAuJDEgPT09IFwiTElORVNUUklOR1wiKSB7XG4gICAgICAgICAgICAgICAgc3Vic3QgPSBcIntcXFwidHlwZVxcXCIgOiBcXFwiTGluZVN0cmluZ1xcXCIsXCI7XG4gICAgICAgICAgICAgICAgc3RyV2t0ID0gc3RyV2t0LnJlcGxhY2UoUmVnRXhwLiQxLCBzdWJzdCk7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW5cbiAgICAgICAgICAgICAgICByZWdleCA9IC8oXFwoXFwoPykvO1xuICAgICAgICAgICAgICAgIHN1YnN0ID0gXCJcXFwiY29vcmRpbmF0ZXNcXFwiIDogW1wiO1xuICAgICAgICAgICAgICAgIHN0cldrdCA9IHN0cldrdC5yZXBsYWNlKHJlZ2V4LCBzdWJzdCk7XG4gICAgICAgICAgICAgICAgcmVnZXggPSAvKFxcKVxcKT8pLztcbiAgICAgICAgICAgICAgICBzdWJzdCA9IFwiXX1cIjtcbiAgICAgICAgICAgICAgICBzdHJXa3QgPSBzdHJXa3QucmVwbGFjZShyZWdleCwgc3Vic3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2dnZXIudHJhY2Uoc3RyV2t0KTtcblxuICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2Uoc3RyV2t0KTtcblxuICAgICAgICAgICAgaWYgKCFqc29uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGUgSlNPTiBlc3QgdmlkZSAhXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWpzb24udHlwZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlIHR5cGUgZGUgZ2VvbWV0cmllIG4nZXN0IHBhcyBjb25udSAhXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWpzb24uY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMYSBsaXN0ZSBkZXMgcG9pbnRzIGVzdCB2aWRlICFcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN1Y2Nlc3MuY2FsbCh0aGlzLCBqc29uKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gXCJTeW50YXhFcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IuY2FsbCh0aGlzLCBcIkVycmV1ciBkZSBwYXJzaW5nIEpTT04gIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlcnJvci5jYWxsKHRoaXMsIGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV0tUO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/WKT.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/WPS.js":
/*!**************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/WPS.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n/**\n * @classdesc\n * Standard WPS\n *\n * @constructor\n * @alias Gp.Formats.WPS\n * @param {Object} options - options\n * @param {Object}   options.data - objet\n * @param {String}   options.method - POST|GET\n * @param {String}   options.param.service - \"WPS\"\n * @param {String}   options.param.version - \"1.0.0\"\n * @param {String}   options.param.identifier - \"gs:WPSElevation|gs:WPSLineElevation\"\n * @param {String}   options.param.rawdataoutput - \"result\"\n * @param {String}   options.param.request - \"Execute\"\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n * @private\n */\nfunction WPS (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur WPS()]\");\n\n    if (!(this instanceof WPS)) {\n        throw new TypeError(\"WPS constructor cannot be called as a function.\");\n    }\n\n    this.options = options || {};\n\n    /**\n     * Objet DATA\n     */\n    this.DataObject = this.options.data;\n\n    if (!this.DataObject) {\n        throw new TypeError(\"This data object is not defined !\");\n    }\n\n    /**\n     * param service.\n     * Par defaut, \"WPS\".\n     */\n    this.paramservice = this.options.param.service || \"WPS\";\n\n    /**\n     * param version.\n     * Par defaut, \"1.0.0\".\n     */\n    this.paramversion = this.options.param.version || \"1.0.0\";\n\n    /**\n     * param identifier\n     * Par defaut, \"gs:WPS\"\n     */\n    this.paramidentifier = this.options.param.identifier || \"gs:WPS\";\n\n    /**\n     * param rawdataoutput\n     * Par defaut, \"result\".\n     */\n    this.paramrawdataoutput = this.options.param.rawdataoutput || \"result\";\n\n    /**\n     * param request\n     * Par defaut, \"Execute\".\n     */\n    this.paramrequest = this.options.param.request || \"Execute\";\n\n    /**\n     * methode.\n     * Par defaut, \"GET\".\n     */\n    this.method = this.options.method || \"GET\";\n}\n\nWPS.prototype = {\n\n    /**\n     * @lends module:WPS#\n     */\n\n    /**\n     * request\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : WPS,\n\n    /**\n     * Template de la requête.\n     */\n    template : {\n        get : {\n            value : \"service=__SERVICE__\" +\n                \"&version=__VERSION__\" +\n                \"&rawdataoutput=__RAWDATAOUTPUT__\" +\n                \"&identifier=__IDENTIFIER__\" +\n                \"&request=__REQUEST__\" +\n                \"&datainputs=<!-- __DATAINPUTS__ -->\",\n\n            input : \"__KEY__=__DATA__\"\n\n        },\n        post : {\n\n            value : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n                \"<wps:__REQUEST__ version=\\\"__VERSION__\\\" service=\\\"__SERVICE__\\\" \" +\n                \"__NAMESPACE__ __SCHEMALOCATION__>\" +\n                \"<ows:Identifier>__IDENTIFIER__</ows:Identifier>\" +\n                \"<wps:DataInputs>\" +\n                \"<!-- __DATAINPUTS__ -->\" +\n                \"</wps:DataInputs>\" +\n                \"<wps:ResponseForm>\" +\n                \"<wps:RawDataOutput>\" +\n                \"<ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier>\" +\n                \"</wps:RawDataOutput>\" +\n                \"</wps:ResponseForm>\" +\n                \"</wps:__REQUEST__>\",\n\n            input : \"<wps:Input>\" +\n                \"<ows:Identifier>__KEY__</ows:Identifier>\" +\n                \"<wps:Data>\" +\n                \"<wps:LiteralData>__DATA__</wps:LiteralData>\" +\n                \"</wps:Data>\" +\n                \"</wps:Input>\"\n        }\n    },\n\n    /**\n     * Namespace par defaut de la requete POST.\n     *\n     * @returns {String} namespace\n     */\n    namespaceByDefault : function () {\n        var ns = [\n            \"xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"\",\n            \"xmlns=\\\"http://www.opengis.net/wps/1.0.0\\\"\",\n            \"xmlns:wfs=\\\"http://www.opengis.net/wfs\\\"\",\n            \"xmlns:wps=\\\"http://www.opengis.net/wps/1.0.0\\\"\",\n            \"xmlns:ows=\\\"http://www.opengis.net/ows/1.1\\\"\",\n            \"xmlns:gml=\\\"http://www.opengis.net/gml\\\"\",\n            \"xmlns:ogc=\\\"http://www.opengis.net/ogc\\\"\",\n            \"xmlns:wcs=\\\"http://www.opengis.net/wcs/1.1.1\\\"\",\n            \"xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\"\n        ];\n\n        return ns.join(\" \");\n    },\n\n    /**\n     * Schemalocation par defaut.\n     *\n     * @returns {String} schemaLocation\n     */\n    schemaLocationByDefault : function () {\n        return \"xsi:schemaLocation=\\\"http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd\\\"\";\n    },\n\n    /**\n     * Construction de la requête.\n     *\n     * @example\n     * // GET  out :\n     * //  service=__SERVICE__\n     * //  &version=__VERSION__\n     * //  &rawdataoutput=__RAWDATAOUTPUT__\n     * //  &identifier=__IDENTIFIER__\n     * //  &request=__REQUEST__\n     * //  &datainputs=\"__DATAINPUTS__\"\n     * //  avec __DATAINPUTS__ = __KEY__=__DATA__;...\n     *\n     * // POST out :\n     * //      <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\n     * //      <wps:__REQUEST__ version=\\\"__VERSION__\\\" service=\\\"__SERVICE__\\\"\n     * //         __NAMESPACE__ __SCHEMALOCATION__>\n     * //          <ows:Identifier>__IDENTIFIER__</ows:Identifier>\n     * //          <wps:DataInputs>\n     * //              <!-- __DATAINPUTS__ -->\n     * //          </wps:DataInputs>\n     * //          <wps:ResponseForm>\n     * //              <wps:RawDataOutput>\n     * //              <ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier>\n     * //              </wps:RawDataOutput>\n     * //          </wps:ResponseForm>\n     * //      </wps:__REQUEST__>\",\n     * //      avec __DATAINPUTS__\n     * //             <wps:Input>\n     * //                  <ows:Identifier>__KEY__</ows:Identifier>\n     * //                  <wps:Data>\n     * //                    <wps:LiteralData>__DATA__</wps:LiteralData>\n     * //                  </wps:Data>\n     * //              </wps:Input>\n     *\n     * @returns {Boolean} validation de la construction de la requete\n     */\n    processRequestString : function () {\n        this.logger.trace(\"WPS::processRequestString ()\");\n\n        var template = \"\";\n        if (this.method === \"POST\") {\n            template = this.template.post.value;\n        } else if (this.method === \"GET\") {\n            template = this.template.get.value;\n        } else {\n            this.logger.error(\"No other method supported by the service !\");\n            return false;\n        }\n\n        template = template.replace(/__SERVICE__/g, this.paramservice);\n        template = template.replace(/__VERSION__/g, this.paramversion);\n        template = template.replace(/__RAWDATAOUTPUT__/g, this.paramrawdataoutput);\n        template = template.replace(/__IDENTIFIER__/g, this.paramidentifier);\n        template = template.replace(/__REQUEST__/g, this.paramrequest);\n\n        // ajout +\n        if (this.method === \"POST\") {\n            template = template.replace(/__NAMESPACE__/g, this.namespaceByDefault);\n            template = template.replace(/__SCHEMALOCATION__/g, this.schemaLocationByDefault);\n        }\n\n        // ajout des datainputs\n        template = template.replace(/<!-- __DATAINPUTS__ -->/g, this.__addDataInputs());\n\n        if (!template) {\n            this.logger.warn(\"traduction tmpl : empty request !?\");\n            return false;\n        }\n\n        this.requestString = template;\n        this.logger.trace(\"traduction tmpl\", template);\n\n        return true;\n    },\n\n    /**\n     * Ajout des données\n     *\n     * @returns {String} Données concaténées dans une chaine\n     */\n    __addDataInputs : function () {\n        this.logger.trace(\"WPS::__addDataInputs ()\");\n\n        // c'est un peu grossier...\n        var tmpl = this.method === \"GET\" ? this.template.get.input : this.template.post.input;\n        var sep = this.method === \"GET\" ? \";\" : \"\";\n\n        var result = \"\";\n        var that = this;\n        var map = this.DataObject.getData();\n        for (var i = 0; i < map.length; i++) {\n            // FIXME closure ?\n            (function (j) {\n                if (sep) {\n                    sep = (j === map.length - 1) ? \"\" : \";\";\n                }\n                result = result.concat(that.__addDataInput(tmpl, map[j].k, map[j].v), sep);\n            })(i);\n        }\n\n        return result;\n    },\n\n    /**\n     * Ajout d'une donnée.\n     *\n     * @param {String} tmpl - template\n     * @param {String} key - clef\n     * @param {String} data - valeur\n     * @returns {String} chaine avec les substitutions clef/valeur\n     */\n    __addDataInput : function (tmpl, key, data) {\n        var tmp = tmpl;\n        tmp = tmp.replace(/__KEY__/g, key);\n        tmp = tmp.replace(/__DATA__/g, data);\n        return tmp;\n    },\n\n    /**\n     * Definir le mode de requête\n     *\n     * @param {String} method - GET|POST\n     */\n    setMethod : function (method) {\n        if (method === \"GET\" || method === \"POST\") {\n            this.method = method;\n        } else {\n            this.logger.warn(\"support only GET and POST method !\");\n        }\n    },\n\n    /**\n     * Retourne le mode de requete (GET|POST).\n     *\n     * @returns {AltiRequest.options.mode|String} methode (GET|POST)\n     */\n    getMethod : function () {\n        return this.method;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WPS);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9XUFMuanM/MjIzNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQThDOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLGtFQUFHLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0Zvcm1hdHMvV1BTLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU3RhbmRhcmQgV1BTXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuRm9ybWF0cy5XUFNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5kYXRhIC0gb2JqZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMubWV0aG9kIC0gUE9TVHxHRVRcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucGFyYW0uc2VydmljZSAtIFwiV1BTXCJcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucGFyYW0udmVyc2lvbiAtIFwiMS4wLjBcIlxuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5wYXJhbS5pZGVudGlmaWVyIC0gXCJnczpXUFNFbGV2YXRpb258Z3M6V1BTTGluZUVsZXZhdGlvblwiXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLnBhcmFtLnJhd2RhdGFvdXRwdXQgLSBcInJlc3VsdFwiXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLnBhcmFtLnJlcXVlc3QgLSBcIkV4ZWN1dGVcIlxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbnN1Y2Nlc3MgLSBmdW5jdGlvbiBjYWxsYmFjayBzdWNjZXNzIChUT0RPKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbmVycm9yICAgLSBmdW5jdGlvbiBjYWxsYmFjayBlcnJvciAgIChUT0RPKVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gV1BTIChvcHRpb25zKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKCk7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIFdQUygpXVwiKTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBXUFMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJXUFMgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogT2JqZXQgREFUQVxuICAgICAqL1xuICAgIHRoaXMuRGF0YU9iamVjdCA9IHRoaXMub3B0aW9ucy5kYXRhO1xuXG4gICAgaWYgKCF0aGlzLkRhdGFPYmplY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoaXMgZGF0YSBvYmplY3QgaXMgbm90IGRlZmluZWQgIVwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwYXJhbSBzZXJ2aWNlLlxuICAgICAqIFBhciBkZWZhdXQsIFwiV1BTXCIuXG4gICAgICovXG4gICAgdGhpcy5wYXJhbXNlcnZpY2UgPSB0aGlzLm9wdGlvbnMucGFyYW0uc2VydmljZSB8fCBcIldQU1wiO1xuXG4gICAgLyoqXG4gICAgICogcGFyYW0gdmVyc2lvbi5cbiAgICAgKiBQYXIgZGVmYXV0LCBcIjEuMC4wXCIuXG4gICAgICovXG4gICAgdGhpcy5wYXJhbXZlcnNpb24gPSB0aGlzLm9wdGlvbnMucGFyYW0udmVyc2lvbiB8fCBcIjEuMC4wXCI7XG5cbiAgICAvKipcbiAgICAgKiBwYXJhbSBpZGVudGlmaWVyXG4gICAgICogUGFyIGRlZmF1dCwgXCJnczpXUFNcIlxuICAgICAqL1xuICAgIHRoaXMucGFyYW1pZGVudGlmaWVyID0gdGhpcy5vcHRpb25zLnBhcmFtLmlkZW50aWZpZXIgfHwgXCJnczpXUFNcIjtcblxuICAgIC8qKlxuICAgICAqIHBhcmFtIHJhd2RhdGFvdXRwdXRcbiAgICAgKiBQYXIgZGVmYXV0LCBcInJlc3VsdFwiLlxuICAgICAqL1xuICAgIHRoaXMucGFyYW1yYXdkYXRhb3V0cHV0ID0gdGhpcy5vcHRpb25zLnBhcmFtLnJhd2RhdGFvdXRwdXQgfHwgXCJyZXN1bHRcIjtcblxuICAgIC8qKlxuICAgICAqIHBhcmFtIHJlcXVlc3RcbiAgICAgKiBQYXIgZGVmYXV0LCBcIkV4ZWN1dGVcIi5cbiAgICAgKi9cbiAgICB0aGlzLnBhcmFtcmVxdWVzdCA9IHRoaXMub3B0aW9ucy5wYXJhbS5yZXF1ZXN0IHx8IFwiRXhlY3V0ZVwiO1xuXG4gICAgLyoqXG4gICAgICogbWV0aG9kZS5cbiAgICAgKiBQYXIgZGVmYXV0LCBcIkdFVFwiLlxuICAgICAqL1xuICAgIHRoaXMubWV0aG9kID0gdGhpcy5vcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiO1xufVxuXG5XUFMucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQGxlbmRzIG1vZHVsZTpXUFMjXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiByZXF1ZXN0XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICByZXF1ZXN0U3RyaW5nIDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBXUFMsXG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBkZSBsYSByZXF1w6p0ZS5cbiAgICAgKi9cbiAgICB0ZW1wbGF0ZSA6IHtcbiAgICAgICAgZ2V0IDoge1xuICAgICAgICAgICAgdmFsdWUgOiBcInNlcnZpY2U9X19TRVJWSUNFX19cIiArXG4gICAgICAgICAgICAgICAgXCImdmVyc2lvbj1fX1ZFUlNJT05fX1wiICtcbiAgICAgICAgICAgICAgICBcIiZyYXdkYXRhb3V0cHV0PV9fUkFXREFUQU9VVFBVVF9fXCIgK1xuICAgICAgICAgICAgICAgIFwiJmlkZW50aWZpZXI9X19JREVOVElGSUVSX19cIiArXG4gICAgICAgICAgICAgICAgXCImcmVxdWVzdD1fX1JFUVVFU1RfX1wiICtcbiAgICAgICAgICAgICAgICBcIiZkYXRhaW5wdXRzPTwhLS0gX19EQVRBSU5QVVRTX18gLS0+XCIsXG5cbiAgICAgICAgICAgIGlucHV0IDogXCJfX0tFWV9fPV9fREFUQV9fXCJcblxuICAgICAgICB9LFxuICAgICAgICBwb3N0IDoge1xuXG4gICAgICAgICAgICB2YWx1ZSA6IFwiPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cIiArXG4gICAgICAgICAgICAgICAgXCI8d3BzOl9fUkVRVUVTVF9fIHZlcnNpb249XFxcIl9fVkVSU0lPTl9fXFxcIiBzZXJ2aWNlPVxcXCJfX1NFUlZJQ0VfX1xcXCIgXCIgK1xuICAgICAgICAgICAgICAgIFwiX19OQU1FU1BBQ0VfXyBfX1NDSEVNQUxPQ0FUSU9OX18+XCIgK1xuICAgICAgICAgICAgICAgIFwiPG93czpJZGVudGlmaWVyPl9fSURFTlRJRklFUl9fPC9vd3M6SWRlbnRpZmllcj5cIiArXG4gICAgICAgICAgICAgICAgXCI8d3BzOkRhdGFJbnB1dHM+XCIgK1xuICAgICAgICAgICAgICAgIFwiPCEtLSBfX0RBVEFJTlBVVFNfXyAtLT5cIiArXG4gICAgICAgICAgICAgICAgXCI8L3dwczpEYXRhSW5wdXRzPlwiICtcbiAgICAgICAgICAgICAgICBcIjx3cHM6UmVzcG9uc2VGb3JtPlwiICtcbiAgICAgICAgICAgICAgICBcIjx3cHM6UmF3RGF0YU91dHB1dD5cIiArXG4gICAgICAgICAgICAgICAgXCI8b3dzOklkZW50aWZpZXI+X19SQVdEQVRBT1VUUFVUX188L293czpJZGVudGlmaWVyPlwiICtcbiAgICAgICAgICAgICAgICBcIjwvd3BzOlJhd0RhdGFPdXRwdXQ+XCIgK1xuICAgICAgICAgICAgICAgIFwiPC93cHM6UmVzcG9uc2VGb3JtPlwiICtcbiAgICAgICAgICAgICAgICBcIjwvd3BzOl9fUkVRVUVTVF9fPlwiLFxuXG4gICAgICAgICAgICBpbnB1dCA6IFwiPHdwczpJbnB1dD5cIiArXG4gICAgICAgICAgICAgICAgXCI8b3dzOklkZW50aWZpZXI+X19LRVlfXzwvb3dzOklkZW50aWZpZXI+XCIgK1xuICAgICAgICAgICAgICAgIFwiPHdwczpEYXRhPlwiICtcbiAgICAgICAgICAgICAgICBcIjx3cHM6TGl0ZXJhbERhdGE+X19EQVRBX188L3dwczpMaXRlcmFsRGF0YT5cIiArXG4gICAgICAgICAgICAgICAgXCI8L3dwczpEYXRhPlwiICtcbiAgICAgICAgICAgICAgICBcIjwvd3BzOklucHV0PlwiXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTmFtZXNwYWNlIHBhciBkZWZhdXQgZGUgbGEgcmVxdWV0ZSBQT1NULlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gbmFtZXNwYWNlXG4gICAgICovXG4gICAgbmFtZXNwYWNlQnlEZWZhdWx0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbnMgPSBbXG4gICAgICAgICAgICBcInhtbG5zOnhzaT1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcXFwiXCIsXG4gICAgICAgICAgICBcInhtbG5zPVxcXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dwcy8xLjAuMFxcXCJcIixcbiAgICAgICAgICAgIFwieG1sbnM6d2ZzPVxcXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dmc1xcXCJcIixcbiAgICAgICAgICAgIFwieG1sbnM6d3BzPVxcXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dwcy8xLjAuMFxcXCJcIixcbiAgICAgICAgICAgIFwieG1sbnM6b3dzPVxcXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjFcXFwiXCIsXG4gICAgICAgICAgICBcInhtbG5zOmdtbD1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcXFwiXCIsXG4gICAgICAgICAgICBcInhtbG5zOm9nYz1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2NcXFwiXCIsXG4gICAgICAgICAgICBcInhtbG5zOndjcz1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93Y3MvMS4xLjFcXFwiXCIsXG4gICAgICAgICAgICBcInhtbG5zOnhsaW5rPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIlwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIG5zLmpvaW4oXCIgXCIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTY2hlbWFsb2NhdGlvbiBwYXIgZGVmYXV0LlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gc2NoZW1hTG9jYXRpb25cbiAgICAgKi9cbiAgICBzY2hlbWFMb2NhdGlvbkJ5RGVmYXVsdCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwieHNpOnNjaGVtYUxvY2F0aW9uPVxcXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dwcy8xLjAuMCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93cHMvMS4wLjAvd3BzQWxsLnhzZFxcXCJcIjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0aW9uIGRlIGxhIHJlcXXDqnRlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHRVQgIG91dCA6XG4gICAgICogLy8gIHNlcnZpY2U9X19TRVJWSUNFX19cbiAgICAgKiAvLyAgJnZlcnNpb249X19WRVJTSU9OX19cbiAgICAgKiAvLyAgJnJhd2RhdGFvdXRwdXQ9X19SQVdEQVRBT1VUUFVUX19cbiAgICAgKiAvLyAgJmlkZW50aWZpZXI9X19JREVOVElGSUVSX19cbiAgICAgKiAvLyAgJnJlcXVlc3Q9X19SRVFVRVNUX19cbiAgICAgKiAvLyAgJmRhdGFpbnB1dHM9XCJfX0RBVEFJTlBVVFNfX1wiXG4gICAgICogLy8gIGF2ZWMgX19EQVRBSU5QVVRTX18gPSBfX0tFWV9fPV9fREFUQV9fOy4uLlxuICAgICAqXG4gICAgICogLy8gUE9TVCBvdXQgOlxuICAgICAqIC8vICAgICAgPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cbiAgICAgKiAvLyAgICAgIDx3cHM6X19SRVFVRVNUX18gdmVyc2lvbj1cXFwiX19WRVJTSU9OX19cXFwiIHNlcnZpY2U9XFxcIl9fU0VSVklDRV9fXFxcIlxuICAgICAqIC8vICAgICAgICAgX19OQU1FU1BBQ0VfXyBfX1NDSEVNQUxPQ0FUSU9OX18+XG4gICAgICogLy8gICAgICAgICAgPG93czpJZGVudGlmaWVyPl9fSURFTlRJRklFUl9fPC9vd3M6SWRlbnRpZmllcj5cbiAgICAgKiAvLyAgICAgICAgICA8d3BzOkRhdGFJbnB1dHM+XG4gICAgICogLy8gICAgICAgICAgICAgIDwhLS0gX19EQVRBSU5QVVRTX18gLS0+XG4gICAgICogLy8gICAgICAgICAgPC93cHM6RGF0YUlucHV0cz5cbiAgICAgKiAvLyAgICAgICAgICA8d3BzOlJlc3BvbnNlRm9ybT5cbiAgICAgKiAvLyAgICAgICAgICAgICAgPHdwczpSYXdEYXRhT3V0cHV0PlxuICAgICAqIC8vICAgICAgICAgICAgICA8b3dzOklkZW50aWZpZXI+X19SQVdEQVRBT1VUUFVUX188L293czpJZGVudGlmaWVyPlxuICAgICAqIC8vICAgICAgICAgICAgICA8L3dwczpSYXdEYXRhT3V0cHV0PlxuICAgICAqIC8vICAgICAgICAgIDwvd3BzOlJlc3BvbnNlRm9ybT5cbiAgICAgKiAvLyAgICAgIDwvd3BzOl9fUkVRVUVTVF9fPlwiLFxuICAgICAqIC8vICAgICAgYXZlYyBfX0RBVEFJTlBVVFNfX1xuICAgICAqIC8vICAgICAgICAgICAgIDx3cHM6SW5wdXQ+XG4gICAgICogLy8gICAgICAgICAgICAgICAgICA8b3dzOklkZW50aWZpZXI+X19LRVlfXzwvb3dzOklkZW50aWZpZXI+XG4gICAgICogLy8gICAgICAgICAgICAgICAgICA8d3BzOkRhdGE+XG4gICAgICogLy8gICAgICAgICAgICAgICAgICAgIDx3cHM6TGl0ZXJhbERhdGE+X19EQVRBX188L3dwczpMaXRlcmFsRGF0YT5cbiAgICAgKiAvLyAgICAgICAgICAgICAgICAgIDwvd3BzOkRhdGE+XG4gICAgICogLy8gICAgICAgICAgICAgIDwvd3BzOklucHV0PlxuICAgICAqXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHZhbGlkYXRpb24gZGUgbGEgY29uc3RydWN0aW9uIGRlIGxhIHJlcXVldGVcbiAgICAgKi9cbiAgICBwcm9jZXNzUmVxdWVzdFN0cmluZyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJXUFM6OnByb2Nlc3NSZXF1ZXN0U3RyaW5nICgpXCIpO1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZS5wb3N0LnZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUuZ2V0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJObyBvdGhlciBtZXRob2Qgc3VwcG9ydGVkIGJ5IHRoZSBzZXJ2aWNlICFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fU0VSVklDRV9fL2csIHRoaXMucGFyYW1zZXJ2aWNlKTtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1ZFUlNJT05fXy9nLCB0aGlzLnBhcmFtdmVyc2lvbik7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19SQVdEQVRBT1VUUFVUX18vZywgdGhpcy5wYXJhbXJhd2RhdGFvdXRwdXQpO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fSURFTlRJRklFUl9fL2csIHRoaXMucGFyYW1pZGVudGlmaWVyKTtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1JFUVVFU1RfXy9nLCB0aGlzLnBhcmFtcmVxdWVzdCk7XG5cbiAgICAgICAgLy8gYWpvdXQgK1xuICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fTkFNRVNQQUNFX18vZywgdGhpcy5uYW1lc3BhY2VCeURlZmF1bHQpO1xuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1NDSEVNQUxPQ0FUSU9OX18vZywgdGhpcy5zY2hlbWFMb2NhdGlvbkJ5RGVmYXVsdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBham91dCBkZXMgZGF0YWlucHV0c1xuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLzwhLS0gX19EQVRBSU5QVVRTX18gLS0+L2csIHRoaXMuX19hZGREYXRhSW5wdXRzKCkpO1xuXG4gICAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJ0cmFkdWN0aW9uIHRtcGwgOiBlbXB0eSByZXF1ZXN0ICE/XCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXF1ZXN0U3RyaW5nID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwidHJhZHVjdGlvbiB0bXBsXCIsIHRlbXBsYXRlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWpvdXQgZGVzIGRvbm7DqWVzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBEb25uw6llcyBjb25jYXTDqW7DqWVzIGRhbnMgdW5lIGNoYWluZVxuICAgICAqL1xuICAgIF9fYWRkRGF0YUlucHV0cyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJXUFM6Ol9fYWRkRGF0YUlucHV0cyAoKVwiKTtcblxuICAgICAgICAvLyBjJ2VzdCB1biBwZXUgZ3Jvc3NpZXIuLi5cbiAgICAgICAgdmFyIHRtcGwgPSB0aGlzLm1ldGhvZCA9PT0gXCJHRVRcIiA/IHRoaXMudGVtcGxhdGUuZ2V0LmlucHV0IDogdGhpcy50ZW1wbGF0ZS5wb3N0LmlucHV0O1xuICAgICAgICB2YXIgc2VwID0gdGhpcy5tZXRob2QgPT09IFwiR0VUXCIgPyBcIjtcIiA6IFwiXCI7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuRGF0YU9iamVjdC5nZXREYXRhKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBGSVhNRSBjbG9zdXJlID9cbiAgICAgICAgICAgIChmdW5jdGlvbiAoaikge1xuICAgICAgICAgICAgICAgIGlmIChzZXApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VwID0gKGogPT09IG1hcC5sZW5ndGggLSAxKSA/IFwiXCIgOiBcIjtcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdCh0aGF0Ll9fYWRkRGF0YUlucHV0KHRtcGwsIG1hcFtqXS5rLCBtYXBbal0udiksIHNlcCk7XG4gICAgICAgICAgICB9KShpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFqb3V0IGQndW5lIGRvbm7DqWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG1wbCAtIHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIGNsZWZcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSAtIHZhbGV1clxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGNoYWluZSBhdmVjIGxlcyBzdWJzdGl0dXRpb25zIGNsZWYvdmFsZXVyXG4gICAgICovXG4gICAgX19hZGREYXRhSW5wdXQgOiBmdW5jdGlvbiAodG1wbCwga2V5LCBkYXRhKSB7XG4gICAgICAgIHZhciB0bXAgPSB0bXBsO1xuICAgICAgICB0bXAgPSB0bXAucmVwbGFjZSgvX19LRVlfXy9nLCBrZXkpO1xuICAgICAgICB0bXAgPSB0bXAucmVwbGFjZSgvX19EQVRBX18vZywgZGF0YSk7XG4gICAgICAgIHJldHVybiB0bXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlZmluaXIgbGUgbW9kZSBkZSByZXF1w6p0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCAtIEdFVHxQT1NUXG4gICAgICovXG4gICAgc2V0TWV0aG9kIDogZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcIkdFVFwiIHx8IG1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcInN1cHBvcnQgb25seSBHRVQgYW5kIFBPU1QgbWV0aG9kICFcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0b3VybmUgbGUgbW9kZSBkZSByZXF1ZXRlIChHRVR8UE9TVCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QWx0aVJlcXVlc3Qub3B0aW9ucy5tb2RlfFN0cmluZ30gbWV0aG9kZSAoR0VUfFBPU1QpXG4gICAgICovXG4gICAgZ2V0TWV0aG9kIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2Q7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV1BTO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/WPS.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS.js":
/*!**************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _XLS_RequestHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./XLS/RequestHeader */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/RequestHeader.js\");\n/* harmony import */ var _XLS_Request__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./XLS/Request */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/Request.js\");\n/* harmony import */ var _XLS_AbstractService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./XLS/AbstractService */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/AbstractService.js\");\n\n\n\n\n\n/**\n * @classdesc\n *\n * standard OpenLS\n * standard XLS\n * (version 1.2)\n *\n * Réfs :\n *     - {@link http://schemas.opengis.net/ols/1.2/}\n *     - {@link http://www.opengeospatial.org/standards/ols}\n *     - {@link http://wxs.ign.fr/schemas/}\n *\n *\n * Création du template XLS (avec gestion des namespaces)\n * ------------------------\n * ```\n *   balise xsd : element name=\"XLS\" attribute name=\"version\" [(attribute ref=\"lang\")]\n * ```\n *\n * Exemple :\n * ```\n * <XLS xmlns=\"http://www.opengis.net/xls\" version=\"1.2\">\n *   < (ref. OLS) />\n * </XLS>\n * ```\n * ```\n * <xls:XLS xmlns:xls=\"http://www.opengis.net/xls\" version=\"1.2\">\n *   <xls: (ref. OLS) />\n * </xls:XLS>\n * ```\n *\n * Création des templates OLS pour LocationUtilityService\n * ------------------------------------------------------\n *\n * Exemple :\n *\n * ```\n * <RequestHeader srsName=\"epsg:4326\"/>\n * <Request maximumResponses=\"26\" methodName=\"GeocodeRequest\" requestID=\"uid1349081498314_388\" version=\"1.2\">\n *      <GeocodeRequest>\n *          <Address countryCode=\"PositionOfInterest\">\n *              <freeFormAddress>saint mandé</freeFormAddress>\n *          </Address>\n *      </GeocodeRequest>\n *  </Request>\n * ```\n * ```\n * <RequestHeader sessionID=\"\" />\n * <Request methodName=\"ReverseGeocodeRequest\" version=\"1.2\" requestID=\"\" maximumResponses=\"10\">\n *   <ReverseGeocodeRequest>\n *     <Position>\n *       <gml:Point xmlns:gml=\"http://www.opengis.net/gml\">\n *           <gml:pos>50.347775 3.205098</gml:pos>\n *       </gml:Point>\n *     </Position>\n *     <ReverseGeocodePreference>StreetAddress</ReverseGeocodePreference>\n *  </ReverseGeocodeRequest>\n * </Request>\n * ```\n * ```\n * Geocodage direct (balise xsd) :\n *   element ref=\"RequestHeader\" [ (attribute name=\"clientName\" attribute name=\"clientPassword\" attribute name=\"sessionID\" attribute name=\"srsName\" attribute name=\"MSID\") ]\n *     element name=\"Request\" attribute name=\"methodName\" attribute name=\"version\" attribute name=\"requestID\" [ attribute name=\"maximumResponses\" ]\n *       element name=\"GeocodeRequest\" attribute name=\"returnFreeForm\"\n *         element ref=\"xls:Address\"\n * ```\n * ```\n * Geocodage inverse (balise xsd) :\n *   element ref=\"RequestHeader\" [ (attribute name=\"clientName\" attribute name=\"clientPassword\" attribute name=\"sessionID\" attribute name=\"srsName\" attribute name=\"MSID\") ]\n *     element name=\"Request\" attribute name=\"methodName\" attribute name=\"version\" attribute name=\"requestID\" [ attribute name=\"maximumResponses\" ]\n *       element name=\"ReverseGeocodeRequest\"\n *         element ref=\"xls:Position\"\n *         element name=\"ReverseGeocodePreference\" (enumeration)\n * ```\n *\n * Il existe 3 sous ensembles d'objets :\n *     - RequestHeader\n *     - Request\n *     - ReverseGeocodeRequest, GeocodeRequest\n *\n * GeocodeRequest est composé d'un objet {@link Gp.Services.Geocode.Response.GeocodeLocation}.\n * ReverseGeocodeRequest est composé d'un objet {@link Gp.Services.ReverseGeocode.Response.ReverseGeocodeLocation}.\n *\n * Les locations font appels aux objets suivants qui possèdent des attributs spécifiques\n * en fonction du type de table de geocodage interrogé :\n *     - StreetAddress\n *     - CadastralParcel\n *     - PositionOfInterest\n *     - Administratif\n *\n *\n * et des élements sous jacents tels que :\n *     - ReverseGeocodePreference -> tables de geocodages :\n *         - StreetAddress\n *         - CadastralParcel\n *         - PositionOfInterest\n *         - Administratif (une balise par table)\n *     - Position -> standard GML 3.2.1\n *     - Address  -> cf. ci-dessous\n *\n * ```\n * Position (balise xsd) :\n *   ex. <Position><gml:Point xmlns:gml=\"http://www.opengis.net/gml\"><gml:pos>50.347775 3.205098</gml:pos></gml:Point></Position>\n *   ex. <Position><gml:CircleByCenterPoint xmlns:gml=\"http://www.opengis.net/gml\"><gml:pos>48.85978570614691 2.2913572761128878</gml:pos><gml:radius>1000</gml:radius></gml:CircleByCenterPoint></Position>\n *   (au choix)\n *   element ref=\"gml:Point\"\n *   element ref=\"gml:CircleByCenterPoint\"\n *   element ref=\"gml:Polygon\"\n *   element ref=\"gml:MultiPolygon\"\n *   les autres elemennts ne sont pas implémentés (QoP, Speed, Direction, Time, ...)\n *\n * Address (balise xsd) :\n *   ex. <Address countryCode=\"StreetAddress\"><freeFormAddress>1 r de paris saint denis</freeFormAddress></Address>\n *   attribute name=\"countryCode\"\n *     element name=\"freeFormAddress\"\n *     element ref=\"xls:Place\"\n *     element ref=\"gml:Envelope\"\n *  ou\n *   ex. <Address countryCode=\"StreetAddress\"><StreetAddress><Street>1 rue Marconi</Street></StreetAddress><Place type=\"Municipality\">Metz</Place><PostalCode>57000</PostalCode></Address>\n *   attribute name=\"countryCode\"\n *     element ref=\"xls:StreetAddress\"\n *     element ref=\"xls:PostalCode\"\n *     element ref=\"xls:Place\"\n *     element ref=\"gml:Envelope\"\n *\n * Place  (balise xsd) :\n *  ex. <Place type=\"Municipality\">Metz</Place>\n *  attribute name=\"type\"\n *   enumeration value=\"CountrySubdivision\"\n *   enumeration value=\"CountrySecondarySubdivision\"\n *   enumeration value=\"Municipality\"\n *   enumeration value=\"MunicipalitySubdivision\"\n *   enumeration value=\"choume-banchi-go\"\n *   enumeration value=\"Qualite\"\n *   enumeration value=\"Departement\"\n *   enumeration value=\"Bbox\"\n *   enumeration value=\"Commune\"\n *   enumeration value=\"Territoire\"\n *   enumeration value=\"Importance\"\n *   enumeration value=\"Nature\"\n *   (la liste n'est pas exhaustives...)\n *\n * StreetAddress (balise xsd) :\n *   ex. <StreetAddress><Street>1 rue Marconi</Street></StreetAddress>\n *   attribute name=\"locator\"\n *    element name=\"xls:Building\"\n *    element ref=\"xls:Street\"\n *\n * Street (balise xsd) :\n *   ex. <Street>1 rue Marconi</Street>\n *   attribute name=\"officialName\" (...)\n *\n * Building (balise xsd) :\n *   ex. <Building number=\"800\"/>\n *   attribute name=\"number\" attribute name=\"subdivision\" attribute name=\"buildingName\"\n *\n * PostalCode (balise xsd) :\n *   ex. <PostalCode>77182</PostalCode>\n *\n * ```\n *\n * Requête\n * -------\n *\n * 2 modes de requête sur les services : GET ou POST.\n *\n * Le mode GET n'est que l'encodage du XML en param (qxml) de la requête (donc pas d'implementation particulière ?)\n *\n * Modèle de classes\n * -----------------\n *\n * ```\n *                 ________  XLS ____________\n *               /            |               \\\n *   RequestHeader      AbstractService    Request\n *                            ^\n *                      ______|________________________\n *           (extends) /                               \\ (extends)\n *          LocationUtilityService                    RouteService\n *                    |                                    |\n *         ___________|___________                       (...)\n *       /                        \\\n * GeocodeRequest          ReverseGeocodeRequest\n *      |                          |\n *      |                     _____|______\n *      |                    /            \\\n *   Address              Preference  Position\n *      |\n *    /   \\\n * Place   StreetAddress\n *               |\n *             /   \\\n *       Street   Building\n * ```\n *\n * @example\n * // encapsule un objet 'LocationUtilityService'\n * // dans une coquille XSL (avec/sans namespace)\n * xsl = new XSL ();\n * xsl.namespace = false;\n * xsl.srsName = \"epsg:4326\";\n * xsl.maximumResponses = 26;\n * //   methodName fournit par l'objet 'lus'\n * //   requestID est calculé\n * xsl.setService (lus);\n * xsl.build ();\n * // out ->\n * // <XLS xmlns=\"http://www.opengis.net/xls\" version=\"1.2\">\n * // <RequestHeader srsName=\"epsg:4326\"/>\n * // <Request maximumResponses=\"26\" methodName=\"GeocodeRequest\" requestID=\"uid1349081498314_388\" version=\"1.2\">\n * //   < (ref. LocationUtilityService ou vide) />\n * //  </Request>\n * // </XLS>\n *\n *\n * @constructor\n * @alias Gp.Formats.XLS\n * @param {Object} options - options du constructeur\n * @param {Object} options.srsName - identifiant du Systeme de Coordonnees\n * @param {String}   options.maximumResponses - nombre de reponses max d'une requete\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @private\n */\nfunction XLS (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur XLS()]\");\n\n    if (!(this instanceof XLS)) {\n        throw new TypeError(\"XLS constructor cannot be called as a function.\");\n    }\n\n    // options par defaut\n    this.options = {\n        srsName : \"EPSG:4326\",\n        maximumResponses : 25\n    };\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            if (options[opt]) {\n                this.options[opt] = options[opt];\n            }\n        }\n    }\n}\n\n/**\n * Version\n */\nXLS.VERSION = \"1.2\";\n\nXLS.prototype = {\n\n    /**\n     * @lends module:XLS#\n     */\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * namespace\n     * Surcharge les balises XLS d'un prefixe.\n     * Par defaut, false\n     * @type {Boolean}\n     */\n    namespace : false,\n\n    /**\n     * Objet Service\n     * LocationUtilityService ou RouteService\n     * @type {AbstractService}\n     */\n    oService : null,\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : XLS,\n\n    /**\n     * Template de la requête.\n     * substitution des valeurs suivantes :\n     * __VERSION__, __NAMESPACE__, __SCHEMALOCATION__\n     * __REQUESTHEADER__, __REQUEST__\n     */\n    template : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\" +\n        \"<XLS version=\\\"__VERSION__\\\"\\n\" +\n        \"__NAMESPACE__ \\n\" +\n        \"__SCHEMALOCATION__>\\n\" +\n        \"__REQUESTHEADER__\\n\" +\n        \"__REQUEST__\\n\" +\n        \"</XLS>\\n\",\n\n    /**\n     * Namespace par defaut.\n     *\n     * @returns {String} namespace\n     */\n    namespaceByDefault : function () {\n        var ns = [\n            \"xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"\",\n            \"xmlns:xls=\\\"http://www.opengis.net/xls\\\"\",\n            \"xmlns:gml=\\\"http://www.opengis.net/gml\\\"\"\n        ];\n\n        return ns.join(\" \");\n    },\n\n    /**\n     * Schemalocation par defaut\n     *\n     * @returns {String} schemaLocation\n     */\n    schemaLocationByDefault : function () {\n        return \"xsi:schemaLocation=\\\"http://www.opengis.net/xls http://schemas.opengis.net/ols/1.2/olsAll.xsd\\\"\";\n    },\n\n    /**\n     * Setter Service\n     * Ajout d'un objet de type LocationUtilityService (LUS) ou RouteService\n     *\n     * @param {Object} oService - GeoceodeRequest / ReverseGeocodeRequest ou RouteRequest\n     */\n    setService : function (oService) {\n        if (!oService) {\n            this.logger.trace(\"L'objet de type Service XSL n'est pas encore defini !?\");\n            return;\n        }\n\n        if (oService instanceof _XLS_AbstractService__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\n            this.oService = oService;\n        } else {\n            this.logger.error(\"L'objet n'est pas du type 'LocationUtilityService' ou 'RouteService' !?\");\n        }\n    },\n\n    /**\n     * Getter Service\n     * Retourne un objet de type LocationUtilityService (LUS) ou RouteService\n     * ex. GeoceodeRequest / ReverseGeocodeRequest ou RouteRequest\n     *\n     * @returns {Object} service (LocationUtilityService|RouteService)\n     */\n    getService : function () {\n        return this.oService;\n    }\n};\n\n/**\n * Ajout d'un prefixe de namespace\n *\n * @todo impl. l'ajout de namespace\n * @param {Object} ns - ex. {key:xls, url:http://www.opengis.net/xls}\n * @param {String} request - requête\n * @returns {String} requête\n */\nXLS.prototype.addNamespace = function (ns, request) {\n    // INFO\n    // on recherche la clef dans les namespaces par defaut.\n    // si la clef n'existe pas dans les namespaceByDefault (), on l'ajoute.\n    // on surcharge toutes les balises, ex. XLS -> xls:XLS\n    // sauf celles qui sont déjà prefixées !\n\n    var keyNS = ns.key;\n    // var urlNS = ns.url; // TODO not yet implemented !\n\n    // recherche la clef dans les namespaces par defaut\n    var bFound = false;\n    var allNS = this.namespaceByDefault().split(\" \");\n    for (var index = 0; index < allNS.length; index++) {\n        var element = allNS[index];\n        var map = element.split(\"=\");\n        var key = map[0];\n        // var url = map[1]; // TODO not yet implemented !\n\n        if (key === \"xmlns:\" + keyNS) {\n            bFound = true;\n            break;\n        }\n    }\n\n    // TODO\n    // si on a une nouvelle clef, on l'ajoute...\n    if (!bFound) {\n        this.logger.warn(\"L'ajout d'un nouvel namespace n'est pas encore implémenté !\");\n        return request;\n    }\n\n    // surcharge toutes les balises\n    var regex;\n    var subst;\n\n    // regex balise ouvrante\n    regex = /<(\\w+[\\s>])/g;\n    subst = \"<\" + keyNS + \":$1\";\n    request = request.replace(regex, subst);\n\n    // regex balise fermante\n    regex = /<\\/(\\w+[\\s>])/g;\n    subst = \"</\" + keyNS + \":$1\";\n    request = request.replace(regex, subst);\n\n    this.logger.trace(\"namespace\", request);\n\n    return request;\n};\n\n/**\n * Construction de la requête\n * @returns {String} requête\n */\nXLS.prototype.build = function () {\n    // out ->\n    // <XLS xmlns=\"http://www.opengis.net/xls\" version=\"1.2\">\n    // <RequestHeader srsName=\"epsg:4326\"/>\n    // <Request maximumResponses=\"26\" methodName=\"GeocodeRequest\" requestID=\"uid1349081498314_388\" version=\"1.2\">\n    //   < (ref. LocationUtilityService ou vide) />\n    //  </Request>\n    // </XLS>\n\n    // as t on un objet de type Service XLS à disposition ?\n    var bService = !!this.getService();\n\n    var template = \"\";\n    template = this.template;\n    template = template.replace(/__VERSION__/g, XLS.VERSION);\n    template = template.replace(/__NAMESPACE__/g, this.namespaceByDefault);\n    template = template.replace(/__SCHEMALOCATION__/g, this.schemaLocationByDefault);\n\n    // header\n    var oHeader = new _XLS_RequestHeader__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        srsName : this.options.srsName\n    });\n    template = template.replace(/__REQUESTHEADER__/g, oHeader.toString());\n\n    // request\n    var oRequest = new _XLS_Request__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n        maximumResponses : this.options.maximumResponses,\n        version : XLS.VERSION, // FIXME même version ?\n        methodName : bService ? this.getService().CLASSTYPE : null\n    });\n    template = template.replace(/__REQUEST__/g, oRequest.toString());\n\n    // objet lus ou route\n    if (bService) { // INFO : clef __REQUESTSERVICE__ dispo dans l'objet 'Request'\n        template = template.replace(/<!-- __REQUESTSERVICE__ -->/g, this.getService().toString());\n    }\n\n    if (!template) {\n        this.logger.warn(\"traduction tmpl : empty request !?\");\n        return;\n    }\n\n    // ajout d'un namespace\n    if (this.namespace) {\n        // ajout de xls par defaut\n        template = this.addNamespace({\n            key : \"xls\",\n            url : \"http://www.opengis.net/xls\"\n        }, template);\n    }\n\n    this.requestString = template;\n    this.logger.trace(\"traduction tmpl\", template);\n\n    // on retourne qqchose !\n    return this.requestString;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (XLS);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMuanM/M2NlMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQThDO0FBQ0U7QUFDWjtBQUNnQjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixVQUFVO0FBQ1YsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxtREFBbUQ7QUFDN0YsaURBQWlELGlFQUFpRTtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLGtFQUFHLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0Zvcm1hdHMvWExTLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgUmVxdWVzdEhlYWRlciBmcm9tIFwiLi9YTFMvUmVxdWVzdEhlYWRlclwiO1xuaW1wb3J0IFJlcXVlc3QgZnJvbSBcIi4vWExTL1JlcXVlc3RcIjtcbmltcG9ydCBBYnN0cmFjdFNlcnZpY2UgZnJvbSBcIi4vWExTL0Fic3RyYWN0U2VydmljZVwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqXG4gKiBzdGFuZGFyZCBPcGVuTFNcbiAqIHN0YW5kYXJkIFhMU1xuICogKHZlcnNpb24gMS4yKVxuICpcbiAqIFLDqWZzIDpcbiAqICAgICAtIHtAbGluayBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9vbHMvMS4yL31cbiAqICAgICAtIHtAbGluayBodHRwOi8vd3d3Lm9wZW5nZW9zcGF0aWFsLm9yZy9zdGFuZGFyZHMvb2xzfVxuICogICAgIC0ge0BsaW5rIGh0dHA6Ly93eHMuaWduLmZyL3NjaGVtYXMvfVxuICpcbiAqXG4gKiBDcsOpYXRpb24gZHUgdGVtcGxhdGUgWExTIChhdmVjIGdlc3Rpb24gZGVzIG5hbWVzcGFjZXMpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGBgYFxuICogICBiYWxpc2UgeHNkIDogZWxlbWVudCBuYW1lPVwiWExTXCIgYXR0cmlidXRlIG5hbWU9XCJ2ZXJzaW9uXCIgWyhhdHRyaWJ1dGUgcmVmPVwibGFuZ1wiKV1cbiAqIGBgYFxuICpcbiAqIEV4ZW1wbGUgOlxuICogYGBgXG4gKiA8WExTIHhtbG5zPVwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHNcIiB2ZXJzaW9uPVwiMS4yXCI+XG4gKiAgIDwgKHJlZi4gT0xTKSAvPlxuICogPC9YTFM+XG4gKiBgYGBcbiAqIGBgYFxuICogPHhsczpYTFMgeG1sbnM6eGxzPVwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHNcIiB2ZXJzaW9uPVwiMS4yXCI+XG4gKiAgIDx4bHM6IChyZWYuIE9MUykgLz5cbiAqIDwveGxzOlhMUz5cbiAqIGBgYFxuICpcbiAqIENyw6lhdGlvbiBkZXMgdGVtcGxhdGVzIE9MUyBwb3VyIExvY2F0aW9uVXRpbGl0eVNlcnZpY2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIEV4ZW1wbGUgOlxuICpcbiAqIGBgYFxuICogPFJlcXVlc3RIZWFkZXIgc3JzTmFtZT1cImVwc2c6NDMyNlwiLz5cbiAqIDxSZXF1ZXN0IG1heGltdW1SZXNwb25zZXM9XCIyNlwiIG1ldGhvZE5hbWU9XCJHZW9jb2RlUmVxdWVzdFwiIHJlcXVlc3RJRD1cInVpZDEzNDkwODE0OTgzMTRfMzg4XCIgdmVyc2lvbj1cIjEuMlwiPlxuICogICAgICA8R2VvY29kZVJlcXVlc3Q+XG4gKiAgICAgICAgICA8QWRkcmVzcyBjb3VudHJ5Q29kZT1cIlBvc2l0aW9uT2ZJbnRlcmVzdFwiPlxuICogICAgICAgICAgICAgIDxmcmVlRm9ybUFkZHJlc3M+c2FpbnQgbWFuZMOpPC9mcmVlRm9ybUFkZHJlc3M+XG4gKiAgICAgICAgICA8L0FkZHJlc3M+XG4gKiAgICAgIDwvR2VvY29kZVJlcXVlc3Q+XG4gKiAgPC9SZXF1ZXN0PlxuICogYGBgXG4gKiBgYGBcbiAqIDxSZXF1ZXN0SGVhZGVyIHNlc3Npb25JRD1cIlwiIC8+XG4gKiA8UmVxdWVzdCBtZXRob2ROYW1lPVwiUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0XCIgdmVyc2lvbj1cIjEuMlwiIHJlcXVlc3RJRD1cIlwiIG1heGltdW1SZXNwb25zZXM9XCIxMFwiPlxuICogICA8UmV2ZXJzZUdlb2NvZGVSZXF1ZXN0PlxuICogICAgIDxQb3NpdGlvbj5cbiAqICAgICAgIDxnbWw6UG9pbnQgeG1sbnM6Z21sPVwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIj5cbiAqICAgICAgICAgICA8Z21sOnBvcz41MC4zNDc3NzUgMy4yMDUwOTg8L2dtbDpwb3M+XG4gKiAgICAgICA8L2dtbDpQb2ludD5cbiAqICAgICA8L1Bvc2l0aW9uPlxuICogICAgIDxSZXZlcnNlR2VvY29kZVByZWZlcmVuY2U+U3RyZWV0QWRkcmVzczwvUmV2ZXJzZUdlb2NvZGVQcmVmZXJlbmNlPlxuICogIDwvUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0PlxuICogPC9SZXF1ZXN0PlxuICogYGBgXG4gKiBgYGBcbiAqIEdlb2NvZGFnZSBkaXJlY3QgKGJhbGlzZSB4c2QpIDpcbiAqICAgZWxlbWVudCByZWY9XCJSZXF1ZXN0SGVhZGVyXCIgWyAoYXR0cmlidXRlIG5hbWU9XCJjbGllbnROYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJjbGllbnRQYXNzd29yZFwiIGF0dHJpYnV0ZSBuYW1lPVwic2Vzc2lvbklEXCIgYXR0cmlidXRlIG5hbWU9XCJzcnNOYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJNU0lEXCIpIF1cbiAqICAgICBlbGVtZW50IG5hbWU9XCJSZXF1ZXN0XCIgYXR0cmlidXRlIG5hbWU9XCJtZXRob2ROYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJ2ZXJzaW9uXCIgYXR0cmlidXRlIG5hbWU9XCJyZXF1ZXN0SURcIiBbIGF0dHJpYnV0ZSBuYW1lPVwibWF4aW11bVJlc3BvbnNlc1wiIF1cbiAqICAgICAgIGVsZW1lbnQgbmFtZT1cIkdlb2NvZGVSZXF1ZXN0XCIgYXR0cmlidXRlIG5hbWU9XCJyZXR1cm5GcmVlRm9ybVwiXG4gKiAgICAgICAgIGVsZW1lbnQgcmVmPVwieGxzOkFkZHJlc3NcIlxuICogYGBgXG4gKiBgYGBcbiAqIEdlb2NvZGFnZSBpbnZlcnNlIChiYWxpc2UgeHNkKSA6XG4gKiAgIGVsZW1lbnQgcmVmPVwiUmVxdWVzdEhlYWRlclwiIFsgKGF0dHJpYnV0ZSBuYW1lPVwiY2xpZW50TmFtZVwiIGF0dHJpYnV0ZSBuYW1lPVwiY2xpZW50UGFzc3dvcmRcIiBhdHRyaWJ1dGUgbmFtZT1cInNlc3Npb25JRFwiIGF0dHJpYnV0ZSBuYW1lPVwic3JzTmFtZVwiIGF0dHJpYnV0ZSBuYW1lPVwiTVNJRFwiKSBdXG4gKiAgICAgZWxlbWVudCBuYW1lPVwiUmVxdWVzdFwiIGF0dHJpYnV0ZSBuYW1lPVwibWV0aG9kTmFtZVwiIGF0dHJpYnV0ZSBuYW1lPVwidmVyc2lvblwiIGF0dHJpYnV0ZSBuYW1lPVwicmVxdWVzdElEXCIgWyBhdHRyaWJ1dGUgbmFtZT1cIm1heGltdW1SZXNwb25zZXNcIiBdXG4gKiAgICAgICBlbGVtZW50IG5hbWU9XCJSZXZlcnNlR2VvY29kZVJlcXVlc3RcIlxuICogICAgICAgICBlbGVtZW50IHJlZj1cInhsczpQb3NpdGlvblwiXG4gKiAgICAgICAgIGVsZW1lbnQgbmFtZT1cIlJldmVyc2VHZW9jb2RlUHJlZmVyZW5jZVwiIChlbnVtZXJhdGlvbilcbiAqIGBgYFxuICpcbiAqIElsIGV4aXN0ZSAzIHNvdXMgZW5zZW1ibGVzIGQnb2JqZXRzIDpcbiAqICAgICAtIFJlcXVlc3RIZWFkZXJcbiAqICAgICAtIFJlcXVlc3RcbiAqICAgICAtIFJldmVyc2VHZW9jb2RlUmVxdWVzdCwgR2VvY29kZVJlcXVlc3RcbiAqXG4gKiBHZW9jb2RlUmVxdWVzdCBlc3QgY29tcG9zw6kgZCd1biBvYmpldCB7QGxpbmsgR3AuU2VydmljZXMuR2VvY29kZS5SZXNwb25zZS5HZW9jb2RlTG9jYXRpb259LlxuICogUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0IGVzdCBjb21wb3PDqSBkJ3VuIG9iamV0IHtAbGluayBHcC5TZXJ2aWNlcy5SZXZlcnNlR2VvY29kZS5SZXNwb25zZS5SZXZlcnNlR2VvY29kZUxvY2F0aW9ufS5cbiAqXG4gKiBMZXMgbG9jYXRpb25zIGZvbnQgYXBwZWxzIGF1eCBvYmpldHMgc3VpdmFudHMgcXVpIHBvc3PDqGRlbnQgZGVzIGF0dHJpYnV0cyBzcMOpY2lmaXF1ZXNcbiAqIGVuIGZvbmN0aW9uIGR1IHR5cGUgZGUgdGFibGUgZGUgZ2VvY29kYWdlIGludGVycm9nw6kgOlxuICogICAgIC0gU3RyZWV0QWRkcmVzc1xuICogICAgIC0gQ2FkYXN0cmFsUGFyY2VsXG4gKiAgICAgLSBQb3NpdGlvbk9mSW50ZXJlc3RcbiAqICAgICAtIEFkbWluaXN0cmF0aWZcbiAqXG4gKlxuICogZXQgZGVzIMOpbGVtZW50cyBzb3VzIGphY2VudHMgdGVscyBxdWUgOlxuICogICAgIC0gUmV2ZXJzZUdlb2NvZGVQcmVmZXJlbmNlIC0+IHRhYmxlcyBkZSBnZW9jb2RhZ2VzIDpcbiAqICAgICAgICAgLSBTdHJlZXRBZGRyZXNzXG4gKiAgICAgICAgIC0gQ2FkYXN0cmFsUGFyY2VsXG4gKiAgICAgICAgIC0gUG9zaXRpb25PZkludGVyZXN0XG4gKiAgICAgICAgIC0gQWRtaW5pc3RyYXRpZiAodW5lIGJhbGlzZSBwYXIgdGFibGUpXG4gKiAgICAgLSBQb3NpdGlvbiAtPiBzdGFuZGFyZCBHTUwgMy4yLjFcbiAqICAgICAtIEFkZHJlc3MgIC0+IGNmLiBjaS1kZXNzb3VzXG4gKlxuICogYGBgXG4gKiBQb3NpdGlvbiAoYmFsaXNlIHhzZCkgOlxuICogICBleC4gPFBvc2l0aW9uPjxnbWw6UG9pbnQgeG1sbnM6Z21sPVwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIj48Z21sOnBvcz41MC4zNDc3NzUgMy4yMDUwOTg8L2dtbDpwb3M+PC9nbWw6UG9pbnQ+PC9Qb3NpdGlvbj5cbiAqICAgZXguIDxQb3NpdGlvbj48Z21sOkNpcmNsZUJ5Q2VudGVyUG9pbnQgeG1sbnM6Z21sPVwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIj48Z21sOnBvcz40OC44NTk3ODU3MDYxNDY5MSAyLjI5MTM1NzI3NjExMjg4Nzg8L2dtbDpwb3M+PGdtbDpyYWRpdXM+MTAwMDwvZ21sOnJhZGl1cz48L2dtbDpDaXJjbGVCeUNlbnRlclBvaW50PjwvUG9zaXRpb24+XG4gKiAgIChhdSBjaG9peClcbiAqICAgZWxlbWVudCByZWY9XCJnbWw6UG9pbnRcIlxuICogICBlbGVtZW50IHJlZj1cImdtbDpDaXJjbGVCeUNlbnRlclBvaW50XCJcbiAqICAgZWxlbWVudCByZWY9XCJnbWw6UG9seWdvblwiXG4gKiAgIGVsZW1lbnQgcmVmPVwiZ21sOk11bHRpUG9seWdvblwiXG4gKiAgIGxlcyBhdXRyZXMgZWxlbWVubnRzIG5lIHNvbnQgcGFzIGltcGzDqW1lbnTDqXMgKFFvUCwgU3BlZWQsIERpcmVjdGlvbiwgVGltZSwgLi4uKVxuICpcbiAqIEFkZHJlc3MgKGJhbGlzZSB4c2QpIDpcbiAqICAgZXguIDxBZGRyZXNzIGNvdW50cnlDb2RlPVwiU3RyZWV0QWRkcmVzc1wiPjxmcmVlRm9ybUFkZHJlc3M+MSByIGRlIHBhcmlzIHNhaW50IGRlbmlzPC9mcmVlRm9ybUFkZHJlc3M+PC9BZGRyZXNzPlxuICogICBhdHRyaWJ1dGUgbmFtZT1cImNvdW50cnlDb2RlXCJcbiAqICAgICBlbGVtZW50IG5hbWU9XCJmcmVlRm9ybUFkZHJlc3NcIlxuICogICAgIGVsZW1lbnQgcmVmPVwieGxzOlBsYWNlXCJcbiAqICAgICBlbGVtZW50IHJlZj1cImdtbDpFbnZlbG9wZVwiXG4gKiAgb3VcbiAqICAgZXguIDxBZGRyZXNzIGNvdW50cnlDb2RlPVwiU3RyZWV0QWRkcmVzc1wiPjxTdHJlZXRBZGRyZXNzPjxTdHJlZXQ+MSBydWUgTWFyY29uaTwvU3RyZWV0PjwvU3RyZWV0QWRkcmVzcz48UGxhY2UgdHlwZT1cIk11bmljaXBhbGl0eVwiPk1ldHo8L1BsYWNlPjxQb3N0YWxDb2RlPjU3MDAwPC9Qb3N0YWxDb2RlPjwvQWRkcmVzcz5cbiAqICAgYXR0cmlidXRlIG5hbWU9XCJjb3VudHJ5Q29kZVwiXG4gKiAgICAgZWxlbWVudCByZWY9XCJ4bHM6U3RyZWV0QWRkcmVzc1wiXG4gKiAgICAgZWxlbWVudCByZWY9XCJ4bHM6UG9zdGFsQ29kZVwiXG4gKiAgICAgZWxlbWVudCByZWY9XCJ4bHM6UGxhY2VcIlxuICogICAgIGVsZW1lbnQgcmVmPVwiZ21sOkVudmVsb3BlXCJcbiAqXG4gKiBQbGFjZSAgKGJhbGlzZSB4c2QpIDpcbiAqICBleC4gPFBsYWNlIHR5cGU9XCJNdW5pY2lwYWxpdHlcIj5NZXR6PC9QbGFjZT5cbiAqICBhdHRyaWJ1dGUgbmFtZT1cInR5cGVcIlxuICogICBlbnVtZXJhdGlvbiB2YWx1ZT1cIkNvdW50cnlTdWJkaXZpc2lvblwiXG4gKiAgIGVudW1lcmF0aW9uIHZhbHVlPVwiQ291bnRyeVNlY29uZGFyeVN1YmRpdmlzaW9uXCJcbiAqICAgZW51bWVyYXRpb24gdmFsdWU9XCJNdW5pY2lwYWxpdHlcIlxuICogICBlbnVtZXJhdGlvbiB2YWx1ZT1cIk11bmljaXBhbGl0eVN1YmRpdmlzaW9uXCJcbiAqICAgZW51bWVyYXRpb24gdmFsdWU9XCJjaG91bWUtYmFuY2hpLWdvXCJcbiAqICAgZW51bWVyYXRpb24gdmFsdWU9XCJRdWFsaXRlXCJcbiAqICAgZW51bWVyYXRpb24gdmFsdWU9XCJEZXBhcnRlbWVudFwiXG4gKiAgIGVudW1lcmF0aW9uIHZhbHVlPVwiQmJveFwiXG4gKiAgIGVudW1lcmF0aW9uIHZhbHVlPVwiQ29tbXVuZVwiXG4gKiAgIGVudW1lcmF0aW9uIHZhbHVlPVwiVGVycml0b2lyZVwiXG4gKiAgIGVudW1lcmF0aW9uIHZhbHVlPVwiSW1wb3J0YW5jZVwiXG4gKiAgIGVudW1lcmF0aW9uIHZhbHVlPVwiTmF0dXJlXCJcbiAqICAgKGxhIGxpc3RlIG4nZXN0IHBhcyBleGhhdXN0aXZlcy4uLilcbiAqXG4gKiBTdHJlZXRBZGRyZXNzIChiYWxpc2UgeHNkKSA6XG4gKiAgIGV4LiA8U3RyZWV0QWRkcmVzcz48U3RyZWV0PjEgcnVlIE1hcmNvbmk8L1N0cmVldD48L1N0cmVldEFkZHJlc3M+XG4gKiAgIGF0dHJpYnV0ZSBuYW1lPVwibG9jYXRvclwiXG4gKiAgICBlbGVtZW50IG5hbWU9XCJ4bHM6QnVpbGRpbmdcIlxuICogICAgZWxlbWVudCByZWY9XCJ4bHM6U3RyZWV0XCJcbiAqXG4gKiBTdHJlZXQgKGJhbGlzZSB4c2QpIDpcbiAqICAgZXguIDxTdHJlZXQ+MSBydWUgTWFyY29uaTwvU3RyZWV0PlxuICogICBhdHRyaWJ1dGUgbmFtZT1cIm9mZmljaWFsTmFtZVwiICguLi4pXG4gKlxuICogQnVpbGRpbmcgKGJhbGlzZSB4c2QpIDpcbiAqICAgZXguIDxCdWlsZGluZyBudW1iZXI9XCI4MDBcIi8+XG4gKiAgIGF0dHJpYnV0ZSBuYW1lPVwibnVtYmVyXCIgYXR0cmlidXRlIG5hbWU9XCJzdWJkaXZpc2lvblwiIGF0dHJpYnV0ZSBuYW1lPVwiYnVpbGRpbmdOYW1lXCJcbiAqXG4gKiBQb3N0YWxDb2RlIChiYWxpc2UgeHNkKSA6XG4gKiAgIGV4LiA8UG9zdGFsQ29kZT43NzE4MjwvUG9zdGFsQ29kZT5cbiAqXG4gKiBgYGBcbiAqXG4gKiBSZXF1w6p0ZVxuICogLS0tLS0tLVxuICpcbiAqIDIgbW9kZXMgZGUgcmVxdcOqdGUgc3VyIGxlcyBzZXJ2aWNlcyA6IEdFVCBvdSBQT1NULlxuICpcbiAqIExlIG1vZGUgR0VUIG4nZXN0IHF1ZSBsJ2VuY29kYWdlIGR1IFhNTCBlbiBwYXJhbSAocXhtbCkgZGUgbGEgcmVxdcOqdGUgKGRvbmMgcGFzIGQnaW1wbGVtZW50YXRpb24gcGFydGljdWxpw6hyZSA/KVxuICpcbiAqIE1vZMOobGUgZGUgY2xhc3Nlc1xuICogLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBgYGBcbiAqICAgICAgICAgICAgICAgICBfX19fX19fXyAgWExTIF9fX19fX19fX19fX1xuICogICAgICAgICAgICAgICAvICAgICAgICAgICAgfCAgICAgICAgICAgICAgIFxcXG4gKiAgIFJlcXVlc3RIZWFkZXIgICAgICBBYnN0cmFjdFNlcnZpY2UgICAgUmVxdWVzdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgXlxuICogICAgICAgICAgICAgICAgICAgICAgX19fX19ffF9fX19fX19fX19fX19fX19fX19fX19fX1xuICogICAgICAgICAgIChleHRlbmRzKSAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcIChleHRlbmRzKVxuICogICAgICAgICAgTG9jYXRpb25VdGlsaXR5U2VydmljZSAgICAgICAgICAgICAgICAgICAgUm91dGVTZXJ2aWNlXG4gKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgX19fX19fX19fX198X19fX19fX19fX18gICAgICAgICAgICAgICAgICAgICAgICguLi4pXG4gKiAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAqIEdlb2NvZGVSZXF1ZXN0ICAgICAgICAgIFJldmVyc2VHZW9jb2RlUmVxdWVzdFxuICogICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgIHwgICAgICAgICAgICAgICAgICAgICBfX19fX3xfX19fX19cbiAqICAgICAgfCAgICAgICAgICAgICAgICAgICAgLyAgICAgICAgICAgIFxcXG4gKiAgIEFkZHJlc3MgICAgICAgICAgICAgIFByZWZlcmVuY2UgIFBvc2l0aW9uXG4gKiAgICAgIHxcbiAqICAgIC8gICBcXFxuICogUGxhY2UgICBTdHJlZXRBZGRyZXNzXG4gKiAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgIC8gICBcXFxuICogICAgICAgU3RyZWV0ICAgQnVpbGRpbmdcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBlbmNhcHN1bGUgdW4gb2JqZXQgJ0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UnXG4gKiAvLyBkYW5zIHVuZSBjb3F1aWxsZSBYU0wgKGF2ZWMvc2FucyBuYW1lc3BhY2UpXG4gKiB4c2wgPSBuZXcgWFNMICgpO1xuICogeHNsLm5hbWVzcGFjZSA9IGZhbHNlO1xuICogeHNsLnNyc05hbWUgPSBcImVwc2c6NDMyNlwiO1xuICogeHNsLm1heGltdW1SZXNwb25zZXMgPSAyNjtcbiAqIC8vICAgbWV0aG9kTmFtZSBmb3Vybml0IHBhciBsJ29iamV0ICdsdXMnXG4gKiAvLyAgIHJlcXVlc3RJRCBlc3QgY2FsY3Vsw6lcbiAqIHhzbC5zZXRTZXJ2aWNlIChsdXMpO1xuICogeHNsLmJ1aWxkICgpO1xuICogLy8gb3V0IC0+XG4gKiAvLyA8WExTIHhtbG5zPVwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHNcIiB2ZXJzaW9uPVwiMS4yXCI+XG4gKiAvLyA8UmVxdWVzdEhlYWRlciBzcnNOYW1lPVwiZXBzZzo0MzI2XCIvPlxuICogLy8gPFJlcXVlc3QgbWF4aW11bVJlc3BvbnNlcz1cIjI2XCIgbWV0aG9kTmFtZT1cIkdlb2NvZGVSZXF1ZXN0XCIgcmVxdWVzdElEPVwidWlkMTM0OTA4MTQ5ODMxNF8zODhcIiB2ZXJzaW9uPVwiMS4yXCI+XG4gKiAvLyAgIDwgKHJlZi4gTG9jYXRpb25VdGlsaXR5U2VydmljZSBvdSB2aWRlKSAvPlxuICogLy8gIDwvUmVxdWVzdD5cbiAqIC8vIDwvWExTPlxuICpcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBHcC5Gb3JtYXRzLlhMU1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGR1IGNvbnN0cnVjdGV1clxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuc3JzTmFtZSAtIGlkZW50aWZpYW50IGR1IFN5c3RlbWUgZGUgQ29vcmRvbm5lZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMubWF4aW11bVJlc3BvbnNlcyAtIG5vbWJyZSBkZSByZXBvbnNlcyBtYXggZCd1bmUgcmVxdWV0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbnN1Y2Nlc3MgLSBmdW5jdGlvbiBjYWxsYmFjayBzdWNjZXNzIChUT0RPKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbmVycm9yICAgLSBmdW5jdGlvbiBjYWxsYmFjayBlcnJvciAgIChUT0RPKVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFhMUyAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBYTFMoKV1cIik7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgWExTKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiWExTIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gb3B0aW9ucyBwYXIgZGVmYXV0XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICBzcnNOYW1lIDogXCJFUFNHOjQzMjZcIixcbiAgICAgICAgbWF4aW11bVJlc3BvbnNlcyA6IDI1XG4gICAgfTtcblxuICAgIC8vIGV0IG9uIGFqb3V0ZSBsZXMgb3B0aW9ucyBlbiBwYXJhbcOodHJlIGF1eCBvcHRpb25zIHBhciBkw6lmYXV0XG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNbb3B0XSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFZlcnNpb25cbiAqL1xuWExTLlZFUlNJT04gPSBcIjEuMlwiO1xuXG5YTFMucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQGxlbmRzIG1vZHVsZTpYTFMjXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiByZXF1ZXN0IChvdXQpXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICByZXF1ZXN0U3RyaW5nIDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIG5hbWVzcGFjZVxuICAgICAqIFN1cmNoYXJnZSBsZXMgYmFsaXNlcyBYTFMgZCd1biBwcmVmaXhlLlxuICAgICAqIFBhciBkZWZhdXQsIGZhbHNlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgbmFtZXNwYWNlIDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBPYmpldCBTZXJ2aWNlXG4gICAgICogTG9jYXRpb25VdGlsaXR5U2VydmljZSBvdSBSb3V0ZVNlcnZpY2VcbiAgICAgKiBAdHlwZSB7QWJzdHJhY3RTZXJ2aWNlfVxuICAgICAqL1xuICAgIG9TZXJ2aWNlIDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBYTFMsXG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBkZSBsYSByZXF1w6p0ZS5cbiAgICAgKiBzdWJzdGl0dXRpb24gZGVzIHZhbGV1cnMgc3VpdmFudGVzIDpcbiAgICAgKiBfX1ZFUlNJT05fXywgX19OQU1FU1BBQ0VfXywgX19TQ0hFTUFMT0NBVElPTl9fXG4gICAgICogX19SRVFVRVNUSEVBREVSX18sIF9fUkVRVUVTVF9fXG4gICAgICovXG4gICAgdGVtcGxhdGUgOiBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+XFxuXCIgK1xuICAgICAgICBcIjxYTFMgdmVyc2lvbj1cXFwiX19WRVJTSU9OX19cXFwiXFxuXCIgK1xuICAgICAgICBcIl9fTkFNRVNQQUNFX18gXFxuXCIgK1xuICAgICAgICBcIl9fU0NIRU1BTE9DQVRJT05fXz5cXG5cIiArXG4gICAgICAgIFwiX19SRVFVRVNUSEVBREVSX19cXG5cIiArXG4gICAgICAgIFwiX19SRVFVRVNUX19cXG5cIiArXG4gICAgICAgIFwiPC9YTFM+XFxuXCIsXG5cbiAgICAvKipcbiAgICAgKiBOYW1lc3BhY2UgcGFyIGRlZmF1dC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IG5hbWVzcGFjZVxuICAgICAqL1xuICAgIG5hbWVzcGFjZUJ5RGVmYXVsdCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5zID0gW1xuICAgICAgICAgICAgXCJ4bWxuczp4c2k9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXFxcIlwiLFxuICAgICAgICAgICAgXCJ4bWxuczp4bHM9XFxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzXFxcIlwiLFxuICAgICAgICAgICAgXCJ4bWxuczpnbWw9XFxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXFxcIlwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIG5zLmpvaW4oXCIgXCIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTY2hlbWFsb2NhdGlvbiBwYXIgZGVmYXV0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBzY2hlbWFMb2NhdGlvblxuICAgICAqL1xuICAgIHNjaGVtYUxvY2F0aW9uQnlEZWZhdWx0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ4c2k6c2NoZW1hTG9jYXRpb249XFxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L29scy8xLjIvb2xzQWxsLnhzZFxcXCJcIjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dGVyIFNlcnZpY2VcbiAgICAgKiBBam91dCBkJ3VuIG9iamV0IGRlIHR5cGUgTG9jYXRpb25VdGlsaXR5U2VydmljZSAoTFVTKSBvdSBSb3V0ZVNlcnZpY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvU2VydmljZSAtIEdlb2Nlb2RlUmVxdWVzdCAvIFJldmVyc2VHZW9jb2RlUmVxdWVzdCBvdSBSb3V0ZVJlcXVlc3RcbiAgICAgKi9cbiAgICBzZXRTZXJ2aWNlIDogZnVuY3Rpb24gKG9TZXJ2aWNlKSB7XG4gICAgICAgIGlmICghb1NlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiTCdvYmpldCBkZSB0eXBlIFNlcnZpY2UgWFNMIG4nZXN0IHBhcyBlbmNvcmUgZGVmaW5pICE/XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9TZXJ2aWNlIGluc3RhbmNlb2YgQWJzdHJhY3RTZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLm9TZXJ2aWNlID0gb1NlcnZpY2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkwnb2JqZXQgbidlc3QgcGFzIGR1IHR5cGUgJ0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UnIG91ICdSb3V0ZVNlcnZpY2UnICE/XCIpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHRlciBTZXJ2aWNlXG4gICAgICogUmV0b3VybmUgdW4gb2JqZXQgZGUgdHlwZSBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlIChMVVMpIG91IFJvdXRlU2VydmljZVxuICAgICAqIGV4LiBHZW9jZW9kZVJlcXVlc3QgLyBSZXZlcnNlR2VvY29kZVJlcXVlc3Qgb3UgUm91dGVSZXF1ZXN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBzZXJ2aWNlIChMb2NhdGlvblV0aWxpdHlTZXJ2aWNlfFJvdXRlU2VydmljZSlcbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vU2VydmljZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFqb3V0IGQndW4gcHJlZml4ZSBkZSBuYW1lc3BhY2VcbiAqXG4gKiBAdG9kbyBpbXBsLiBsJ2Fqb3V0IGRlIG5hbWVzcGFjZVxuICogQHBhcmFtIHtPYmplY3R9IG5zIC0gZXguIHtrZXk6eGxzLCB1cmw6aHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHN9XG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdCAtIHJlcXXDqnRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSByZXF1w6p0ZVxuICovXG5YTFMucHJvdG90eXBlLmFkZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIChucywgcmVxdWVzdCkge1xuICAgIC8vIElORk9cbiAgICAvLyBvbiByZWNoZXJjaGUgbGEgY2xlZiBkYW5zIGxlcyBuYW1lc3BhY2VzIHBhciBkZWZhdXQuXG4gICAgLy8gc2kgbGEgY2xlZiBuJ2V4aXN0ZSBwYXMgZGFucyBsZXMgbmFtZXNwYWNlQnlEZWZhdWx0ICgpLCBvbiBsJ2Fqb3V0ZS5cbiAgICAvLyBvbiBzdXJjaGFyZ2UgdG91dGVzIGxlcyBiYWxpc2VzLCBleC4gWExTIC0+IHhsczpYTFNcbiAgICAvLyBzYXVmIGNlbGxlcyBxdWkgc29udCBkw6lqw6AgcHJlZml4w6llcyAhXG5cbiAgICB2YXIga2V5TlMgPSBucy5rZXk7XG4gICAgLy8gdmFyIHVybE5TID0gbnMudXJsOyAvLyBUT0RPIG5vdCB5ZXQgaW1wbGVtZW50ZWQgIVxuXG4gICAgLy8gcmVjaGVyY2hlIGxhIGNsZWYgZGFucyBsZXMgbmFtZXNwYWNlcyBwYXIgZGVmYXV0XG4gICAgdmFyIGJGb3VuZCA9IGZhbHNlO1xuICAgIHZhciBhbGxOUyA9IHRoaXMubmFtZXNwYWNlQnlEZWZhdWx0KCkuc3BsaXQoXCIgXCIpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhbGxOUy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBhbGxOU1tpbmRleF07XG4gICAgICAgIHZhciBtYXAgPSBlbGVtZW50LnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIGtleSA9IG1hcFswXTtcbiAgICAgICAgLy8gdmFyIHVybCA9IG1hcFsxXTsgLy8gVE9ETyBub3QgeWV0IGltcGxlbWVudGVkICFcblxuICAgICAgICBpZiAoa2V5ID09PSBcInhtbG5zOlwiICsga2V5TlMpIHtcbiAgICAgICAgICAgIGJGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE9cbiAgICAvLyBzaSBvbiBhIHVuZSBub3V2ZWxsZSBjbGVmLCBvbiBsJ2Fqb3V0ZS4uLlxuICAgIGlmICghYkZvdW5kKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJMJ2Fqb3V0IGQndW4gbm91dmVsIG5hbWVzcGFjZSBuJ2VzdCBwYXMgZW5jb3JlIGltcGzDqW1lbnTDqSAhXCIpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG5cbiAgICAvLyBzdXJjaGFyZ2UgdG91dGVzIGxlcyBiYWxpc2VzXG4gICAgdmFyIHJlZ2V4O1xuICAgIHZhciBzdWJzdDtcblxuICAgIC8vIHJlZ2V4IGJhbGlzZSBvdXZyYW50ZVxuICAgIHJlZ2V4ID0gLzwoXFx3K1tcXHM+XSkvZztcbiAgICBzdWJzdCA9IFwiPFwiICsga2V5TlMgKyBcIjokMVwiO1xuICAgIHJlcXVlc3QgPSByZXF1ZXN0LnJlcGxhY2UocmVnZXgsIHN1YnN0KTtcblxuICAgIC8vIHJlZ2V4IGJhbGlzZSBmZXJtYW50ZVxuICAgIHJlZ2V4ID0gLzxcXC8oXFx3K1tcXHM+XSkvZztcbiAgICBzdWJzdCA9IFwiPC9cIiArIGtleU5TICsgXCI6JDFcIjtcbiAgICByZXF1ZXN0ID0gcmVxdWVzdC5yZXBsYWNlKHJlZ2V4LCBzdWJzdCk7XG5cbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIm5hbWVzcGFjZVwiLCByZXF1ZXN0KTtcblxuICAgIHJldHVybiByZXF1ZXN0O1xufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3Rpb24gZGUgbGEgcmVxdcOqdGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHJlcXXDqnRlXG4gKi9cblhMUy5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gb3V0IC0+XG4gICAgLy8gPFhMUyB4bWxucz1cImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzXCIgdmVyc2lvbj1cIjEuMlwiPlxuICAgIC8vIDxSZXF1ZXN0SGVhZGVyIHNyc05hbWU9XCJlcHNnOjQzMjZcIi8+XG4gICAgLy8gPFJlcXVlc3QgbWF4aW11bVJlc3BvbnNlcz1cIjI2XCIgbWV0aG9kTmFtZT1cIkdlb2NvZGVSZXF1ZXN0XCIgcmVxdWVzdElEPVwidWlkMTM0OTA4MTQ5ODMxNF8zODhcIiB2ZXJzaW9uPVwiMS4yXCI+XG4gICAgLy8gICA8IChyZWYuIExvY2F0aW9uVXRpbGl0eVNlcnZpY2Ugb3UgdmlkZSkgLz5cbiAgICAvLyAgPC9SZXF1ZXN0PlxuICAgIC8vIDwvWExTPlxuXG4gICAgLy8gYXMgdCBvbiB1biBvYmpldCBkZSB0eXBlIFNlcnZpY2UgWExTIMOgIGRpc3Bvc2l0aW9uID9cbiAgICB2YXIgYlNlcnZpY2UgPSAhIXRoaXMuZ2V0U2VydmljZSgpO1xuXG4gICAgdmFyIHRlbXBsYXRlID0gXCJcIjtcbiAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGU7XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1ZFUlNJT05fXy9nLCBYTFMuVkVSU0lPTik7XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX05BTUVTUEFDRV9fL2csIHRoaXMubmFtZXNwYWNlQnlEZWZhdWx0KTtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fU0NIRU1BTE9DQVRJT05fXy9nLCB0aGlzLnNjaGVtYUxvY2F0aW9uQnlEZWZhdWx0KTtcblxuICAgIC8vIGhlYWRlclxuICAgIHZhciBvSGVhZGVyID0gbmV3IFJlcXVlc3RIZWFkZXIoe1xuICAgICAgICBzcnNOYW1lIDogdGhpcy5vcHRpb25zLnNyc05hbWVcbiAgICB9KTtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fUkVRVUVTVEhFQURFUl9fL2csIG9IZWFkZXIudG9TdHJpbmcoKSk7XG5cbiAgICAvLyByZXF1ZXN0XG4gICAgdmFyIG9SZXF1ZXN0ID0gbmV3IFJlcXVlc3Qoe1xuICAgICAgICBtYXhpbXVtUmVzcG9uc2VzIDogdGhpcy5vcHRpb25zLm1heGltdW1SZXNwb25zZXMsXG4gICAgICAgIHZlcnNpb24gOiBYTFMuVkVSU0lPTiwgLy8gRklYTUUgbcOqbWUgdmVyc2lvbiA/XG4gICAgICAgIG1ldGhvZE5hbWUgOiBiU2VydmljZSA/IHRoaXMuZ2V0U2VydmljZSgpLkNMQVNTVFlQRSA6IG51bGxcbiAgICB9KTtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fUkVRVUVTVF9fL2csIG9SZXF1ZXN0LnRvU3RyaW5nKCkpO1xuXG4gICAgLy8gb2JqZXQgbHVzIG91IHJvdXRlXG4gICAgaWYgKGJTZXJ2aWNlKSB7IC8vIElORk8gOiBjbGVmIF9fUkVRVUVTVFNFUlZJQ0VfXyBkaXNwbyBkYW5zIGwnb2JqZXQgJ1JlcXVlc3QnXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvPCEtLSBfX1JFUVVFU1RTRVJWSUNFX18gLS0+L2csIHRoaXMuZ2V0U2VydmljZSgpLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcInRyYWR1Y3Rpb24gdG1wbCA6IGVtcHR5IHJlcXVlc3QgIT9cIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBham91dCBkJ3VuIG5hbWVzcGFjZVxuICAgIGlmICh0aGlzLm5hbWVzcGFjZSkge1xuICAgICAgICAvLyBham91dCBkZSB4bHMgcGFyIGRlZmF1dFxuICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMuYWRkTmFtZXNwYWNlKHtcbiAgICAgICAgICAgIGtleSA6IFwieGxzXCIsXG4gICAgICAgICAgICB1cmwgOiBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzXCJcbiAgICAgICAgfSwgdGVtcGxhdGUpO1xuICAgIH1cblxuICAgIHRoaXMucmVxdWVzdFN0cmluZyA9IHRlbXBsYXRlO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwidHJhZHVjdGlvbiB0bXBsXCIsIHRlbXBsYXRlKTtcblxuICAgIC8vIG9uIHJldG91cm5lIHFxY2hvc2UgIVxuICAgIHJldHVybiB0aGlzLnJlcXVlc3RTdHJpbmc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBYTFM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/AbstractService.js":
/*!******************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/AbstractService.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n/**\n * @classdesc\n * @private\n *\n * @constructor\n * @alias Gp.Formats.XLS.AbstractService\n *\n * @param {Object} [options] - options\n */\nfunction AbstractService (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur AbstractService ()]\");\n\n    if (!(this instanceof AbstractService)) {\n        throw new TypeError(\"AbstractService constructor cannot be called as a function.\");\n    }\n\n    // options par defaut\n    this.options = options || {};\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n}\n\n/**\n * @lends module:AbstractService#\n */\nAbstractService.prototype = {\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    strRequest : null,\n\n    /**\n     * objet Request\n     * @type {Request}\n     */\n    oRequest : null,\n\n    /**\n     * Filter\n     * @type {FilterExtension}\n     */\n    oFilter : null,\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : AbstractService,\n\n    /**\n     * Ajout d'un objet de type Request : GeocodeRequest / ReverseGeocodeRequest / RouteRequest\n     *\n     * @param {Object} oRequest - GeocodeRequest / ReverseGeocodeRequest / RouteRequest\n     */\n    addRequest : function (oRequest) {\n        this.logger.error(\"overwritten method !\");\n    },\n\n    /**\n     * Ajout d'un objet de type FilterExtension : GeocodeFilterExtension ou RouteRequestExtension\n     *\n     * @param {Object} oFilter - GeocodeFilterExtension ou RouteRequestExtension\n     */\n    addFilter : function (oFilter) {\n        this.logger.error(\"overwritten method !\");\n    },\n\n    /**\n     * toString\n     */\n    toString : function () {\n        this.logger.error(\"overwritten method !\");\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AbstractService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvQWJzdHJhY3RTZXJ2aWNlLmpzPzc1MDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSw4RUFBZSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Gb3JtYXRzL1hMUy9BYnN0cmFjdFNlcnZpY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLkZvcm1hdHMuWExTLkFic3RyYWN0U2VydmljZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIEFic3RyYWN0U2VydmljZSAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBBYnN0cmFjdFNlcnZpY2UgKCldXCIpO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFic3RyYWN0U2VydmljZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFic3RyYWN0U2VydmljZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIG9wdGlvbnMgcGFyIGRlZmF1dFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBldCBvbiBham91dGUgbGVzIG9wdGlvbnMgZW4gcGFyYW3DqHRyZSBhdXggb3B0aW9ucyBwYXIgZMOpZmF1dFxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6QWJzdHJhY3RTZXJ2aWNlI1xuICovXG5BYnN0cmFjdFNlcnZpY2UucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogcmVxdWVzdCAob3V0KVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgc3RyUmVxdWVzdCA6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBvYmpldCBSZXF1ZXN0XG4gICAgICogQHR5cGUge1JlcXVlc3R9XG4gICAgICovXG4gICAgb1JlcXVlc3QgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyXG4gICAgICogQHR5cGUge0ZpbHRlckV4dGVuc2lvbn1cbiAgICAgKi9cbiAgICBvRmlsdGVyIDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBBYnN0cmFjdFNlcnZpY2UsXG5cbiAgICAvKipcbiAgICAgKiBBam91dCBkJ3VuIG9iamV0IGRlIHR5cGUgUmVxdWVzdCA6IEdlb2NvZGVSZXF1ZXN0IC8gUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0IC8gUm91dGVSZXF1ZXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb1JlcXVlc3QgLSBHZW9jb2RlUmVxdWVzdCAvIFJldmVyc2VHZW9jb2RlUmVxdWVzdCAvIFJvdXRlUmVxdWVzdFxuICAgICAqL1xuICAgIGFkZFJlcXVlc3QgOiBmdW5jdGlvbiAob1JlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJvdmVyd3JpdHRlbiBtZXRob2QgIVwiKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWpvdXQgZCd1biBvYmpldCBkZSB0eXBlIEZpbHRlckV4dGVuc2lvbiA6IEdlb2NvZGVGaWx0ZXJFeHRlbnNpb24gb3UgUm91dGVSZXF1ZXN0RXh0ZW5zaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb0ZpbHRlciAtIEdlb2NvZGVGaWx0ZXJFeHRlbnNpb24gb3UgUm91dGVSZXF1ZXN0RXh0ZW5zaW9uXG4gICAgICovXG4gICAgYWRkRmlsdGVyIDogZnVuY3Rpb24gKG9GaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJvdmVyd3JpdHRlbiBtZXRob2QgIVwiKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKi9cbiAgICB0b1N0cmluZyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJvdmVyd3JpdHRlbiBtZXRob2QgIVwiKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdFNlcnZpY2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/AbstractService.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _AbstractService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AbstractService */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/AbstractService.js\");\n/* harmony import */ var _LocationUtilityService_GeocodeRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LocationUtilityService/GeocodeRequest */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeRequest.js\");\n/* harmony import */ var _LocationUtilityService_ReverseGeocodeRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LocationUtilityService/ReverseGeocodeRequest */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/ReverseGeocodeRequest.js\");\n/* harmony import */ var _LocationUtilityService_GeocodeFilterExtension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LocationUtilityService/GeocodeFilterExtension */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeFilterExtension.js\");\n\n\n\n\n\n\n/**\n * @classdesc\n *\n * Requête de type LocationUtilityService (LUS)\n * (Factory)\n *\n * @example\n * // encapsule un objet dans une coquille XSL, Factory sur les objets Geocode/ReverseGeocode\n * lus = new LocationUtilityService ();\n * lus.addRequest (req);\n * lus.toString();\n *  ou\n * lus = new LocationUtilityService ({\n *      location : \"saint mandé\",\n *      returnFreeForm : true,\n *      filterOptions : {\n *          type :  ['PositionOfInterest']\n *      }\n * });\n * lus.toString();\n *\n * // out ->\n * // <GeocodeRequest>\n * //   <Address countryCode=\"PositionOfInterest\">\n * //     <freeFormAddress>saint mandé</freeFormAddress>\n * //   </Address>\n * // </GeocodeRequest>\n *\n * // creation de l'objet Geocode\n * req = new GeocodeRequest ();\n * req.addAddress (new Address (/*todo/*));\n * req.toString();\n * // out ->\n * // <GeocodeRequest>\n * //   <Address countryCode=\"PositionOfInterest\">\n * //     <freeFormAddress>saint mandé</freeFormAddress>\n * //   </Address>\n * // </GeocodeRequest>\n *\n * // creation de l'objet ReverseGeocode\n * req = new ReverseGeocodeRequest ();\n * req.addPosition (new Position (position:{x: , y: }));\n * req.addPreference (['StreetAddress']);\n * req.toString();\n * // out ->\n * // <ReverseGeocodeRequest>\n * //     <Position>\n * //       <gml:Point xmlns:gml=\"http://www.opengis.net/gml\">\n * //           <gml:pos>50.347775 3.205098</gml:pos>\n * //       </gml:Point>\n * //     </Position>\n * //     <ReverseGeocodePreference>StreetAddress</ReverseGeocodePreference>\n * //  </ReverseGeocodeRequest>\n *\n * @constructor\n * @alias Gp.Formats.XLS.LocationUtilityService\n * @param {Object} options - options\n * @param {Object}   options.location - location\n * @param {String}   options.position - position : {x : \"\", y : \"\"}\n * @param {String}   options.returnFreeForm - true|false\n * @param {Object}   options.filterOptions - filtres\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @private\n */\nfunction LocationUtilityService (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur LocationUtilityService ()]\");\n\n    if (!(this instanceof LocationUtilityService)) {\n        throw new TypeError(\"LocationUtilityService constructor cannot be called as a function.\");\n    }\n\n    /**\n     * Nom de la classe\n     */\n    this.CLASSNAME = \"LocationUtilityService\";\n\n    /**\n     * Type de classe de geocodage\n     * ex. GeocodeRequest ou ReverseGeocodeRequest\n     */\n    this.CLASSTYPE = null;\n\n    // appel du constructeur par heritage\n    _AbstractService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].apply(this, arguments);\n\n    // on determine le type de geocodage si les options sont renseignées\n    if (this.options) {\n        this.CLASSTYPE = (this.options.location) ? \"GeocodeRequest\" : (this.options.position) ? \"ReverseGeocodeRequest\" : null;\n    }\n}\n\n/**\n * @lends module:LocationUtilityService#\n */\nLocationUtilityService.prototype = Object.create(_AbstractService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/**\n * Constructeur (alias)\n */\nLocationUtilityService.prototype.constructor = LocationUtilityService;\n\n/**\n * (overwrite) Ajout d'un objet de type LUS : GeocodeRequest ou ReverseGeocodeRequest\n *\n * @param {Object} oLUSRequest - objet de type LUS\n */\nLocationUtilityService.prototype.addRequest = function (oLUSRequest) {\n    // on determine le type de geocodage\n    this.CLASSTYPE = oLUSRequest.CLASSNAME;\n\n    // on controle les types acceptés\n    switch (this.CLASSTYPE) {\n        case \"GeocodeRequest\":\n        case \"ReverseGeocodeRequest\":\n            this.oRequest = oLUSRequest;\n            break;\n        default:\n            throw new Error(\"Ce n'est pas un objet de type 'LUS Request' !?\");\n    }\n};\n\n/**\n * (overwrite) Ajout d'un objet de type GeocodeFilterExtension\n *\n * @param {Object} oFilter - objet de type Filtre\n */\nLocationUtilityService.prototype.addFilter = function (oFilter) {\n    // FIXME gestion des filtres à partir des tables de geocodages\n    if (oFilter instanceof _LocationUtilityService_GeocodeFilterExtension__WEBPACK_IMPORTED_MODULE_4__[\"default\"]) {\n        this.oFilter = oFilter;\n    }\n};\n\n/**\n * (overwrite) toString\n *\n * @returns {String} requête\n */\nLocationUtilityService.prototype.toString = function () {\n    // soit, on a un objet LUS Request déjà instancié\n    // sinon, il faut le construire à partir des options à disposition\n    if (!this.oRequest) {\n        // il nous faut des options\n        if (!this.options) {\n            throw new Error(\"Les options ne sont pas renseignées, impossible de construire la requête !\");\n        }\n\n        // si les options 'location' et 'position' sont renseignées,\n        // on prendra par defaut le choix du geocodage direct\n        if (this.CLASSTYPE === \"GeocodeRequest\") {\n            var settingsDirect = {\n                location : this.options.location,\n                returnFreeForm : this.options.returnFreeForm,\n                filterOptions : this.options.filterOptions || {}\n            };\n            this.oRequest = new _LocationUtilityService_GeocodeRequest__WEBPACK_IMPORTED_MODULE_2__[\"default\"](settingsDirect);\n            // ajout des filtres spécifiques au service du geocodage direct de l'IGN\n            if (this.oFilter) {\n                this.oRequest.addFilter(this.oFilter);\n            }\n        } else if (this.CLASSTYPE === \"ReverseGeocodeRequest\") {\n            var settingsInv = {\n                position : this.options.position,\n                returnFreeForm : this.options.returnFreeForm,\n                filterOptions : this.options.filterOptions || {}\n            };\n            this.oRequest = new _LocationUtilityService_ReverseGeocodeRequest__WEBPACK_IMPORTED_MODULE_3__[\"default\"](settingsInv);\n        } else {\n            this.logger.error(\"impossible de determiner le type de geocodage : Direct ou Inverse !?\");\n        }\n    }\n\n    // objet indefini !?\n    if (!this.oRequest) {\n        throw new Error(\"Type de Geocodage indefini !\");\n    }\n\n    this.strRequest = this.oRequest.toString();\n    return this.strRequest;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LocationUtilityService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS5qcz9mOTE4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFpRDtBQUNEO0FBQ3FCO0FBQ2M7QUFDRTs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPLGtDQUFrQztBQUNwRCxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLHdEQUFlOztBQUVuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCx3REFBZTtBQUNoRTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzRkFBc0I7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4RUFBYztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFGQUFxQjtBQUNyRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSxxRkFBc0IsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IEFic3RyYWN0U2VydmljZSBmcm9tIFwiLi9BYnN0cmFjdFNlcnZpY2VcIjtcbmltcG9ydCBHZW9jb2RlUmVxdWVzdCBmcm9tIFwiLi9Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlL0dlb2NvZGVSZXF1ZXN0XCI7XG5pbXBvcnQgUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0IGZyb20gXCIuL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UvUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0XCI7XG5pbXBvcnQgR2VvY29kZUZpbHRlckV4dGVuc2lvbiBmcm9tIFwiLi9Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlL0dlb2NvZGVGaWx0ZXJFeHRlbnNpb25cIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKlxuICogUmVxdcOqdGUgZGUgdHlwZSBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlIChMVVMpXG4gKiAoRmFjdG9yeSlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gZW5jYXBzdWxlIHVuIG9iamV0IGRhbnMgdW5lIGNvcXVpbGxlIFhTTCwgRmFjdG9yeSBzdXIgbGVzIG9iamV0cyBHZW9jb2RlL1JldmVyc2VHZW9jb2RlXG4gKiBsdXMgPSBuZXcgTG9jYXRpb25VdGlsaXR5U2VydmljZSAoKTtcbiAqIGx1cy5hZGRSZXF1ZXN0IChyZXEpO1xuICogbHVzLnRvU3RyaW5nKCk7XG4gKiAgb3VcbiAqIGx1cyA9IG5ldyBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlICh7XG4gKiAgICAgIGxvY2F0aW9uIDogXCJzYWludCBtYW5kw6lcIixcbiAqICAgICAgcmV0dXJuRnJlZUZvcm0gOiB0cnVlLFxuICogICAgICBmaWx0ZXJPcHRpb25zIDoge1xuICogICAgICAgICAgdHlwZSA6ICBbJ1Bvc2l0aW9uT2ZJbnRlcmVzdCddXG4gKiAgICAgIH1cbiAqIH0pO1xuICogbHVzLnRvU3RyaW5nKCk7XG4gKlxuICogLy8gb3V0IC0+XG4gKiAvLyA8R2VvY29kZVJlcXVlc3Q+XG4gKiAvLyAgIDxBZGRyZXNzIGNvdW50cnlDb2RlPVwiUG9zaXRpb25PZkludGVyZXN0XCI+XG4gKiAvLyAgICAgPGZyZWVGb3JtQWRkcmVzcz5zYWludCBtYW5kw6k8L2ZyZWVGb3JtQWRkcmVzcz5cbiAqIC8vICAgPC9BZGRyZXNzPlxuICogLy8gPC9HZW9jb2RlUmVxdWVzdD5cbiAqXG4gKiAvLyBjcmVhdGlvbiBkZSBsJ29iamV0IEdlb2NvZGVcbiAqIHJlcSA9IG5ldyBHZW9jb2RlUmVxdWVzdCAoKTtcbiAqIHJlcS5hZGRBZGRyZXNzIChuZXcgQWRkcmVzcyAoLyp0b2RvLyopKTtcbiAqIHJlcS50b1N0cmluZygpO1xuICogLy8gb3V0IC0+XG4gKiAvLyA8R2VvY29kZVJlcXVlc3Q+XG4gKiAvLyAgIDxBZGRyZXNzIGNvdW50cnlDb2RlPVwiUG9zaXRpb25PZkludGVyZXN0XCI+XG4gKiAvLyAgICAgPGZyZWVGb3JtQWRkcmVzcz5zYWludCBtYW5kw6k8L2ZyZWVGb3JtQWRkcmVzcz5cbiAqIC8vICAgPC9BZGRyZXNzPlxuICogLy8gPC9HZW9jb2RlUmVxdWVzdD5cbiAqXG4gKiAvLyBjcmVhdGlvbiBkZSBsJ29iamV0IFJldmVyc2VHZW9jb2RlXG4gKiByZXEgPSBuZXcgUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0ICgpO1xuICogcmVxLmFkZFBvc2l0aW9uIChuZXcgUG9zaXRpb24gKHBvc2l0aW9uOnt4OiAsIHk6IH0pKTtcbiAqIHJlcS5hZGRQcmVmZXJlbmNlIChbJ1N0cmVldEFkZHJlc3MnXSk7XG4gKiByZXEudG9TdHJpbmcoKTtcbiAqIC8vIG91dCAtPlxuICogLy8gPFJldmVyc2VHZW9jb2RlUmVxdWVzdD5cbiAqIC8vICAgICA8UG9zaXRpb24+XG4gKiAvLyAgICAgICA8Z21sOlBvaW50IHhtbG5zOmdtbD1cImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI+XG4gKiAvLyAgICAgICAgICAgPGdtbDpwb3M+NTAuMzQ3Nzc1IDMuMjA1MDk4PC9nbWw6cG9zPlxuICogLy8gICAgICAgPC9nbWw6UG9pbnQ+XG4gKiAvLyAgICAgPC9Qb3NpdGlvbj5cbiAqIC8vICAgICA8UmV2ZXJzZUdlb2NvZGVQcmVmZXJlbmNlPlN0cmVldEFkZHJlc3M8L1JldmVyc2VHZW9jb2RlUHJlZmVyZW5jZT5cbiAqIC8vICA8L1JldmVyc2VHZW9jb2RlUmVxdWVzdD5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBHcC5Gb3JtYXRzLlhMUy5Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMubG9jYXRpb24gLSBsb2NhdGlvblxuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5wb3NpdGlvbiAtIHBvc2l0aW9uIDoge3ggOiBcIlwiLCB5IDogXCJcIn1cbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucmV0dXJuRnJlZUZvcm0gLSB0cnVlfGZhbHNlXG4gKiBAcGFyYW0ge09iamVjdH0gICBvcHRpb25zLmZpbHRlck9wdGlvbnMgLSBmaWx0cmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uc3VjY2VzcyAtIGZ1bmN0aW9uIGNhbGxiYWNrIHN1Y2Nlc3MgKFRPRE8pXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uZXJyb3IgICAtIGZ1bmN0aW9uIGNhbGxiYWNrIGVycm9yICAgKFRPRE8pXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25VdGlsaXR5U2VydmljZSAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlICgpXVwiKTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTG9jYXRpb25VdGlsaXR5U2VydmljZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5vbSBkZSBsYSBjbGFzc2VcbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiTG9jYXRpb25VdGlsaXR5U2VydmljZVwiO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBkZSBjbGFzc2UgZGUgZ2VvY29kYWdlXG4gICAgICogZXguIEdlb2NvZGVSZXF1ZXN0IG91IFJldmVyc2VHZW9jb2RlUmVxdWVzdFxuICAgICAqL1xuICAgIHRoaXMuQ0xBU1NUWVBFID0gbnVsbDtcblxuICAgIC8vIGFwcGVsIGR1IGNvbnN0cnVjdGV1ciBwYXIgaGVyaXRhZ2VcbiAgICBBYnN0cmFjdFNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8vIG9uIGRldGVybWluZSBsZSB0eXBlIGRlIGdlb2NvZGFnZSBzaSBsZXMgb3B0aW9ucyBzb250IHJlbnNlaWduw6llc1xuICAgIGlmICh0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5DTEFTU1RZUEUgPSAodGhpcy5vcHRpb25zLmxvY2F0aW9uKSA/IFwiR2VvY29kZVJlcXVlc3RcIiA6ICh0aGlzLm9wdGlvbnMucG9zaXRpb24pID8gXCJSZXZlcnNlR2VvY29kZVJlcXVlc3RcIiA6IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6TG9jYXRpb25VdGlsaXR5U2VydmljZSNcbiAqL1xuTG9jYXRpb25VdGlsaXR5U2VydmljZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0U2VydmljZS5wcm90b3R5cGUsIHtcbiAgICAvLyB0b2RvXG4gICAgLy8gZ2V0dGVyL3NldHRlclxufSk7XG5cbi8qKlxuICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAqL1xuTG9jYXRpb25VdGlsaXR5U2VydmljZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlO1xuXG4vKipcbiAqIChvdmVyd3JpdGUpIEFqb3V0IGQndW4gb2JqZXQgZGUgdHlwZSBMVVMgOiBHZW9jb2RlUmVxdWVzdCBvdSBSZXZlcnNlR2VvY29kZVJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb0xVU1JlcXVlc3QgLSBvYmpldCBkZSB0eXBlIExVU1xuICovXG5Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlLnByb3RvdHlwZS5hZGRSZXF1ZXN0ID0gZnVuY3Rpb24gKG9MVVNSZXF1ZXN0KSB7XG4gICAgLy8gb24gZGV0ZXJtaW5lIGxlIHR5cGUgZGUgZ2VvY29kYWdlXG4gICAgdGhpcy5DTEFTU1RZUEUgPSBvTFVTUmVxdWVzdC5DTEFTU05BTUU7XG5cbiAgICAvLyBvbiBjb250cm9sZSBsZXMgdHlwZXMgYWNjZXB0w6lzXG4gICAgc3dpdGNoICh0aGlzLkNMQVNTVFlQRSkge1xuICAgICAgICBjYXNlIFwiR2VvY29kZVJlcXVlc3RcIjpcbiAgICAgICAgY2FzZSBcIlJldmVyc2VHZW9jb2RlUmVxdWVzdFwiOlxuICAgICAgICAgICAgdGhpcy5vUmVxdWVzdCA9IG9MVVNSZXF1ZXN0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDZSBuJ2VzdCBwYXMgdW4gb2JqZXQgZGUgdHlwZSAnTFVTIFJlcXVlc3QnICE/XCIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogKG92ZXJ3cml0ZSkgQWpvdXQgZCd1biBvYmpldCBkZSB0eXBlIEdlb2NvZGVGaWx0ZXJFeHRlbnNpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb0ZpbHRlciAtIG9iamV0IGRlIHR5cGUgRmlsdHJlXG4gKi9cbkxvY2F0aW9uVXRpbGl0eVNlcnZpY2UucHJvdG90eXBlLmFkZEZpbHRlciA9IGZ1bmN0aW9uIChvRmlsdGVyKSB7XG4gICAgLy8gRklYTUUgZ2VzdGlvbiBkZXMgZmlsdHJlcyDDoCBwYXJ0aXIgZGVzIHRhYmxlcyBkZSBnZW9jb2RhZ2VzXG4gICAgaWYgKG9GaWx0ZXIgaW5zdGFuY2VvZiBHZW9jb2RlRmlsdGVyRXh0ZW5zaW9uKSB7XG4gICAgICAgIHRoaXMub0ZpbHRlciA9IG9GaWx0ZXI7XG4gICAgfVxufTtcblxuLyoqXG4gKiAob3ZlcndyaXRlKSB0b1N0cmluZ1xuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHJlcXXDqnRlXG4gKi9cbkxvY2F0aW9uVXRpbGl0eVNlcnZpY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHNvaXQsIG9uIGEgdW4gb2JqZXQgTFVTIFJlcXVlc3QgZMOpasOgIGluc3RhbmNpw6lcbiAgICAvLyBzaW5vbiwgaWwgZmF1dCBsZSBjb25zdHJ1aXJlIMOgIHBhcnRpciBkZXMgb3B0aW9ucyDDoCBkaXNwb3NpdGlvblxuICAgIGlmICghdGhpcy5vUmVxdWVzdCkge1xuICAgICAgICAvLyBpbCBub3VzIGZhdXQgZGVzIG9wdGlvbnNcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlcyBvcHRpb25zIG5lIHNvbnQgcGFzIHJlbnNlaWduw6llcywgaW1wb3NzaWJsZSBkZSBjb25zdHJ1aXJlIGxhIHJlcXXDqnRlICFcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaSBsZXMgb3B0aW9ucyAnbG9jYXRpb24nIGV0ICdwb3NpdGlvbicgc29udCByZW5zZWlnbsOpZXMsXG4gICAgICAgIC8vIG9uIHByZW5kcmEgcGFyIGRlZmF1dCBsZSBjaG9peCBkdSBnZW9jb2RhZ2UgZGlyZWN0XG4gICAgICAgIGlmICh0aGlzLkNMQVNTVFlQRSA9PT0gXCJHZW9jb2RlUmVxdWVzdFwiKSB7XG4gICAgICAgICAgICB2YXIgc2V0dGluZ3NEaXJlY3QgPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gOiB0aGlzLm9wdGlvbnMubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgcmV0dXJuRnJlZUZvcm0gOiB0aGlzLm9wdGlvbnMucmV0dXJuRnJlZUZvcm0sXG4gICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9ucyA6IHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zIHx8IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5vUmVxdWVzdCA9IG5ldyBHZW9jb2RlUmVxdWVzdChzZXR0aW5nc0RpcmVjdCk7XG4gICAgICAgICAgICAvLyBham91dCBkZXMgZmlsdHJlcyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZSBkdSBnZW9jb2RhZ2UgZGlyZWN0IGRlIGwnSUdOXG4gICAgICAgICAgICBpZiAodGhpcy5vRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vUmVxdWVzdC5hZGRGaWx0ZXIodGhpcy5vRmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLkNMQVNTVFlQRSA9PT0gXCJSZXZlcnNlR2VvY29kZVJlcXVlc3RcIikge1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzSW52ID0ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uIDogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHJldHVybkZyZWVGb3JtIDogdGhpcy5vcHRpb25zLnJldHVybkZyZWVGb3JtLFxuICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbnMgOiB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucyB8fCB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub1JlcXVlc3QgPSBuZXcgUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0KHNldHRpbmdzSW52KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiaW1wb3NzaWJsZSBkZSBkZXRlcm1pbmVyIGxlIHR5cGUgZGUgZ2VvY29kYWdlIDogRGlyZWN0IG91IEludmVyc2UgIT9cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvYmpldCBpbmRlZmluaSAhP1xuICAgIGlmICghdGhpcy5vUmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUeXBlIGRlIEdlb2NvZGFnZSBpbmRlZmluaSAhXCIpO1xuICAgIH1cblxuICAgIHRoaXMuc3RyUmVxdWVzdCA9IHRoaXMub1JlcXVlc3QudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gdGhpcy5zdHJSZXF1ZXN0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9jYXRpb25VdGlsaXR5U2VydmljZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeFilterExtension.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeFilterExtension.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n\n/**\n * @classdesc\n *\n * Ajouter des extensions de filtres spécifiques au service de geocodage de l'IGN.\n * Ceci permet de contrôler les options spécifiques de la table de geocodage intérrogées.\n *\n * @example\n * var ext =  new GeocodeFiltersExtension ();\n *     ext.add (new Administratif ());\n *     ext.add (new StreetAddress ());\n *     ext.add (new PositionOfInterest ());\n *     ext.add (new CadastralParcel ());\n *\n * ext.getNames ()\n * // --> out\n * // [Administratif, StreetAddress, PositionOfInterest, CadastralParcel]\n *\n * ext.getFilters ()\n * // --> out\n * // [Object, Object, Object, Object] = tableau d'objet GeocodeLocation\n *\n * ext.getFilter ('StreetAddress')\n * // --> out\n * // {Object} = objet GeocodeLocation\n *\n * ext.getAttributs ('StreetAddress')\n * // --> out\n * // [\"bbox\", \"number\", \"ID\", \"IDTR\", \"postalCode\", \"quality\", \"street\", \"territoire\", \"commune\", \"department\", \"insee\", \"municipality\"]\n *\n * ext.setPlaceAttributs ('StreetAddress', {number:'', territoire:'', quality:'', fake:''})\n * // --> out\n * // (fake est écarté car il n'appartient pas à la liste !)\n *\n * ext.getPlaceAttributs ('StreetAddress')\n * // --> out\n * // {number : '', territoire : '', quality : ''}\n *\n * // Comment ajouter des filtres spécifiques au service de geocodage ?\n * var req = new GeocodeRequest ({\n *      location : \"saint mandé\",\n *      returnFreeForm : true,\n *      filterOptions : {\n *          type : ['PositionOfInterest'], <-- ajouter une extension afin de gerer les attributs de cette table de geocodage !\n *          (...)\n *      }\n *  })\n *  req.addFilter (new PositionOfInterest ());\n * @constructor\n * @alias Gp.Formats.XLS.LocationUtilityService.GeocodeFilterExtension\n *\n * @private\n */\nfunction GeocodeFilterExtension () {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"GeocodeFilterExtension\");\n    this.logger.trace(\"[Constructeur GeocodeFilterExtension ()]\");\n\n    if (!(this instanceof GeocodeFilterExtension)) {\n        throw new TypeError(\"GeocodeFilterExtension constructor cannot be called as a function.\");\n    }\n\n    /**\n     * Tableau de filtres (table de geocodage)\n     */\n    this.filters = [];\n}\n\n/**\n * @lends module:GeocodeFilterExtension#\n */\nGeocodeFilterExtension.prototype = {\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : GeocodeFilterExtension,\n\n    /**\n     * Ajout d'un filtre\n     *\n     * @param {Object} oGeocodeLocation - objet de type 'GeocodeLocation'\n     */\n    addFilterExtensions : function (oGeocodeLocation) {\n        // FIXME test sur le type d'objet !\n        if (oGeocodeLocation) {\n            // FIXME ou test sur ses propriétés !\n            this.filters.push(oGeocodeLocation);\n        }\n    },\n\n    // getter\n\n    /**\n     * Tableau de noms (tables de geocodage)\n     *\n     * @returns {Array.<String>} liste des noms de filtres\n     */\n    getNames : function () {\n        var names = [];\n        for (var idx in this.filters) {\n            names.push(this.filters[idx].CLASSNAME);\n        }\n        this.logger.trace(names);\n        return names;\n    },\n\n    /**\n     * Retourne une table de geocodage\n     *\n     * @param {String} name - nom de la table de geocodage\n     * @returns {Object} filtre\n     */\n    getFilter : function (name) {\n        var filter = null;\n        for (var idx in this.filters) {\n            if (this.filters[idx].CLASSNAME === name) {\n                filter = this.filters[idx];\n            }\n        }\n        this.logger.trace(filter);\n        return filter;\n    },\n\n    /**\n     * Tableau d'objects (tables de geocodage)\n     *\n     * @returns {Array.<Object>} liste des filtres\n     */\n    getFilters : function () {\n        this.logger.trace(this.filters);\n        return this.filters;\n    },\n\n    /**\n     * Récupère la liste des attributs (filtres) sur une table de geocodage\n     *\n     * @param {String} name - nom de la table de geocodage\n     * @returns {Array} liste des attributs d'un filtre\n     */\n    getAttributs : function (name) {\n        var attributs = [];\n        for (var idx in this.filters) {\n            if (this.filters[idx].CLASSNAME === name) {\n                attributs = this.filters[idx].attributesList;\n            }\n        }\n        this.logger.trace(attributs);\n        return attributs;\n    },\n\n    /**\n     * Ajout des attributs (filtres) sur une table de geocodage\n     *\n     * @param {String} name - nom de la table de geocodage\n     * @param {Object} options - options de la table de geocodage\n     */\n    setPlaceAttributs : function (name, options) {\n        var filter = this.getFilter(name);\n        var attributs = this.getAttributs(name);\n        for (var idx in attributs) {\n            var value = attributs[idx];\n            if (options[value]) {\n                filter.placeAttributes[value] = options[value];\n            }\n        }\n    },\n\n    /**\n     * Retourne les attributs (filtres) sur une table de geocodage\n     *\n     * @param {String} name - nom de la table de geocodage\n     * @returns {Array} liste des attributs d'un filtre\n     */\n    getPlaceAttributs : function (name) {\n        var places = {};\n        for (var idx in this.filters) {\n            if (this.filters[idx].CLASSNAME === name) {\n                places = this.filters[idx].placeAttributes;\n            }\n        }\n        this.logger.trace(places);\n        return places;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GeocodeFilterExtension);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS9HZW9jb2RlRmlsdGVyRXh0ZW5zaW9uLmpzPzU0Y2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ29EOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxPQUFPO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw4Q0FBOEM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsTUFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUscUZBQXNCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0Zvcm1hdHMvWExTL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UvR2VvY29kZUZpbHRlckV4dGVuc2lvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIEFqb3V0ZXIgZGVzIGV4dGVuc2lvbnMgZGUgZmlsdHJlcyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZSBkZSBnZW9jb2RhZ2UgZGUgbCdJR04uXG4gKiBDZWNpIHBlcm1ldCBkZSBjb250csO0bGVyIGxlcyBvcHRpb25zIHNww6ljaWZpcXVlcyBkZSBsYSB0YWJsZSBkZSBnZW9jb2RhZ2UgaW50w6lycm9nw6llcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGV4dCA9ICBuZXcgR2VvY29kZUZpbHRlcnNFeHRlbnNpb24gKCk7XG4gKiAgICAgZXh0LmFkZCAobmV3IEFkbWluaXN0cmF0aWYgKCkpO1xuICogICAgIGV4dC5hZGQgKG5ldyBTdHJlZXRBZGRyZXNzICgpKTtcbiAqICAgICBleHQuYWRkIChuZXcgUG9zaXRpb25PZkludGVyZXN0ICgpKTtcbiAqICAgICBleHQuYWRkIChuZXcgQ2FkYXN0cmFsUGFyY2VsICgpKTtcbiAqXG4gKiBleHQuZ2V0TmFtZXMgKClcbiAqIC8vIC0tPiBvdXRcbiAqIC8vIFtBZG1pbmlzdHJhdGlmLCBTdHJlZXRBZGRyZXNzLCBQb3NpdGlvbk9mSW50ZXJlc3QsIENhZGFzdHJhbFBhcmNlbF1cbiAqXG4gKiBleHQuZ2V0RmlsdGVycyAoKVxuICogLy8gLS0+IG91dFxuICogLy8gW09iamVjdCwgT2JqZWN0LCBPYmplY3QsIE9iamVjdF0gPSB0YWJsZWF1IGQnb2JqZXQgR2VvY29kZUxvY2F0aW9uXG4gKlxuICogZXh0LmdldEZpbHRlciAoJ1N0cmVldEFkZHJlc3MnKVxuICogLy8gLS0+IG91dFxuICogLy8ge09iamVjdH0gPSBvYmpldCBHZW9jb2RlTG9jYXRpb25cbiAqXG4gKiBleHQuZ2V0QXR0cmlidXRzICgnU3RyZWV0QWRkcmVzcycpXG4gKiAvLyAtLT4gb3V0XG4gKiAvLyBbXCJiYm94XCIsIFwibnVtYmVyXCIsIFwiSURcIiwgXCJJRFRSXCIsIFwicG9zdGFsQ29kZVwiLCBcInF1YWxpdHlcIiwgXCJzdHJlZXRcIiwgXCJ0ZXJyaXRvaXJlXCIsIFwiY29tbXVuZVwiLCBcImRlcGFydG1lbnRcIiwgXCJpbnNlZVwiLCBcIm11bmljaXBhbGl0eVwiXVxuICpcbiAqIGV4dC5zZXRQbGFjZUF0dHJpYnV0cyAoJ1N0cmVldEFkZHJlc3MnLCB7bnVtYmVyOicnLCB0ZXJyaXRvaXJlOicnLCBxdWFsaXR5OicnLCBmYWtlOicnfSlcbiAqIC8vIC0tPiBvdXRcbiAqIC8vIChmYWtlIGVzdCDDqWNhcnTDqSBjYXIgaWwgbidhcHBhcnRpZW50IHBhcyDDoCBsYSBsaXN0ZSAhKVxuICpcbiAqIGV4dC5nZXRQbGFjZUF0dHJpYnV0cyAoJ1N0cmVldEFkZHJlc3MnKVxuICogLy8gLS0+IG91dFxuICogLy8ge251bWJlciA6ICcnLCB0ZXJyaXRvaXJlIDogJycsIHF1YWxpdHkgOiAnJ31cbiAqXG4gKiAvLyBDb21tZW50IGFqb3V0ZXIgZGVzIGZpbHRyZXMgc3DDqWNpZmlxdWVzIGF1IHNlcnZpY2UgZGUgZ2VvY29kYWdlID9cbiAqIHZhciByZXEgPSBuZXcgR2VvY29kZVJlcXVlc3QgKHtcbiAqICAgICAgbG9jYXRpb24gOiBcInNhaW50IG1hbmTDqVwiLFxuICogICAgICByZXR1cm5GcmVlRm9ybSA6IHRydWUsXG4gKiAgICAgIGZpbHRlck9wdGlvbnMgOiB7XG4gKiAgICAgICAgICB0eXBlIDogWydQb3NpdGlvbk9mSW50ZXJlc3QnXSwgPC0tIGFqb3V0ZXIgdW5lIGV4dGVuc2lvbiBhZmluIGRlIGdlcmVyIGxlcyBhdHRyaWJ1dHMgZGUgY2V0dGUgdGFibGUgZGUgZ2VvY29kYWdlICFcbiAqICAgICAgICAgICguLi4pXG4gKiAgICAgIH1cbiAqICB9KVxuICogIHJlcS5hZGRGaWx0ZXIgKG5ldyBQb3NpdGlvbk9mSW50ZXJlc3QgKCkpO1xuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuRm9ybWF0cy5YTFMuTG9jYXRpb25VdGlsaXR5U2VydmljZS5HZW9jb2RlRmlsdGVyRXh0ZW5zaW9uXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gR2VvY29kZUZpbHRlckV4dGVuc2lvbiAoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiR2VvY29kZUZpbHRlckV4dGVuc2lvblwiKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgR2VvY29kZUZpbHRlckV4dGVuc2lvbiAoKV1cIik7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgR2VvY29kZUZpbHRlckV4dGVuc2lvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlb2NvZGVGaWx0ZXJFeHRlbnNpb24gY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWJsZWF1IGRlIGZpbHRyZXMgKHRhYmxlIGRlIGdlb2NvZGFnZSlcbiAgICAgKi9cbiAgICB0aGlzLmZpbHRlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkdlb2NvZGVGaWx0ZXJFeHRlbnNpb24jXG4gKi9cbkdlb2NvZGVGaWx0ZXJFeHRlbnNpb24ucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciA6IEdlb2NvZGVGaWx0ZXJFeHRlbnNpb24sXG5cbiAgICAvKipcbiAgICAgKiBBam91dCBkJ3VuIGZpbHRyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9HZW9jb2RlTG9jYXRpb24gLSBvYmpldCBkZSB0eXBlICdHZW9jb2RlTG9jYXRpb24nXG4gICAgICovXG4gICAgYWRkRmlsdGVyRXh0ZW5zaW9ucyA6IGZ1bmN0aW9uIChvR2VvY29kZUxvY2F0aW9uKSB7XG4gICAgICAgIC8vIEZJWE1FIHRlc3Qgc3VyIGxlIHR5cGUgZCdvYmpldCAhXG4gICAgICAgIGlmIChvR2VvY29kZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBGSVhNRSBvdSB0ZXN0IHN1ciBzZXMgcHJvcHJpw6l0w6lzICFcbiAgICAgICAgICAgIHRoaXMuZmlsdGVycy5wdXNoKG9HZW9jb2RlTG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIGdldHRlclxuXG4gICAgLyoqXG4gICAgICogVGFibGVhdSBkZSBub21zICh0YWJsZXMgZGUgZ2VvY29kYWdlKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5LjxTdHJpbmc+fSBsaXN0ZSBkZXMgbm9tcyBkZSBmaWx0cmVzXG4gICAgICovXG4gICAgZ2V0TmFtZXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpZHggaW4gdGhpcy5maWx0ZXJzKSB7XG4gICAgICAgICAgICBuYW1lcy5wdXNoKHRoaXMuZmlsdGVyc1tpZHhdLkNMQVNTTkFNRSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UobmFtZXMpO1xuICAgICAgICByZXR1cm4gbmFtZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldG91cm5lIHVuZSB0YWJsZSBkZSBnZW9jb2RhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gbm9tIGRlIGxhIHRhYmxlIGRlIGdlb2NvZGFnZVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGZpbHRyZVxuICAgICAqL1xuICAgIGdldEZpbHRlciA6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpZHggaW4gdGhpcy5maWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJzW2lkeF0uQ0xBU1NOQU1FID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyID0gdGhpcy5maWx0ZXJzW2lkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoZmlsdGVyKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGFibGVhdSBkJ29iamVjdHMgKHRhYmxlcyBkZSBnZW9jb2RhZ2UpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPE9iamVjdD59IGxpc3RlIGRlcyBmaWx0cmVzXG4gICAgICovXG4gICAgZ2V0RmlsdGVycyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UodGhpcy5maWx0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUsOpY3Vww6hyZSBsYSBsaXN0ZSBkZXMgYXR0cmlidXRzIChmaWx0cmVzKSBzdXIgdW5lIHRhYmxlIGRlIGdlb2NvZGFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBub20gZGUgbGEgdGFibGUgZGUgZ2VvY29kYWdlXG4gICAgICogQHJldHVybnMge0FycmF5fSBsaXN0ZSBkZXMgYXR0cmlidXRzIGQndW4gZmlsdHJlXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRzIDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpZHggaW4gdGhpcy5maWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJzW2lkeF0uQ0xBU1NOQU1FID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRzID0gdGhpcy5maWx0ZXJzW2lkeF0uYXR0cmlidXRlc0xpc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYXR0cmlidXRzKTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWpvdXQgZGVzIGF0dHJpYnV0cyAoZmlsdHJlcykgc3VyIHVuZSB0YWJsZSBkZSBnZW9jb2RhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gbm9tIGRlIGxhIHRhYmxlIGRlIGdlb2NvZGFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBkZSBsYSB0YWJsZSBkZSBnZW9jb2RhZ2VcbiAgICAgKi9cbiAgICBzZXRQbGFjZUF0dHJpYnV0cyA6IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSB0aGlzLmdldEZpbHRlcihuYW1lKTtcbiAgICAgICAgdmFyIGF0dHJpYnV0cyA9IHRoaXMuZ2V0QXR0cmlidXRzKG5hbWUpO1xuICAgICAgICBmb3IgKHZhciBpZHggaW4gYXR0cmlidXRzKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dHNbaWR4XTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zW3ZhbHVlXSkge1xuICAgICAgICAgICAgICAgIGZpbHRlci5wbGFjZUF0dHJpYnV0ZXNbdmFsdWVdID0gb3B0aW9uc1t2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0b3VybmUgbGVzIGF0dHJpYnV0cyAoZmlsdHJlcykgc3VyIHVuZSB0YWJsZSBkZSBnZW9jb2RhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gbm9tIGRlIGxhIHRhYmxlIGRlIGdlb2NvZGFnZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gbGlzdGUgZGVzIGF0dHJpYnV0cyBkJ3VuIGZpbHRyZVxuICAgICAqL1xuICAgIGdldFBsYWNlQXR0cmlidXRzIDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHBsYWNlcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpZHggaW4gdGhpcy5maWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJzW2lkeF0uQ0xBU1NOQU1FID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcGxhY2VzID0gdGhpcy5maWx0ZXJzW2lkeF0ucGxhY2VBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKHBsYWNlcyk7XG4gICAgICAgIHJldHVybiBwbGFjZXM7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgR2VvY29kZUZpbHRlckV4dGVuc2lvbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeFilterExtension.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeRequest.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeRequest.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _model_Address__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model/Address */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Address.js\");\n/* harmony import */ var _GeocodeFilterExtension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GeocodeFilterExtension */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeFilterExtension.js\");\n\n\n\n\n/**\n * @classdesc\n * Requête de geocodage direct\n *\n * ```\n * XSD\n * Geocodage direct (balise xsd) :\n *   element ref=\"RequestHeader\" [ (attribute name=\"clientName\" attribute name=\"clientPassword\" attribute name=\"sessionID\" attribute name=\"srsName\" attribute name=\"MSID\") ]\n *     element name=\"Request\" attribute name=\"methodName\" attribute name=\"version\" attribute name=\"requestID\" [ attribute name=\"maximumResponses\" ]\n *       element name=\"GeocodeRequest\" attribute name=\"returnFreeForm\"\n *         element ref=\"xls:Address\"\n * ```\n *\n * @example\n * // creation de l'objet Geocode an ajoutant un objet Address\n * req = new GeocodeRequest ();\n * req.returnFreeForm = true; // TODO !\n * req.addAddress (new Address ({\n *      location : \"saint mandé\",\n *      type : ['PositionOfInterest'],\n *      filter : {\n *          (...)\n *      }\n * }));\n * req.toString();\n * // out ->\n * // <GeocodeRequest>\n * //   <Address countryCode=\"PositionOfInterest\">\n * //     <freeFormAddress>saint mandé</freeFormAddress>\n * //   </Address>\n * // </GeocodeRequest>\n *\n * // creation de l'objet Geocode avec les options uniquement\n * req = new GeocodeRequest ({\n *      location : \"saint mandé\",\n *      returnFreeForm : true,\n *      filterOptions : {\n *          type : ['PositionOfInterest'],\n *          (...)\n *      }\n * });\n * req.toString();\n * // out ->\n * // <GeocodeRequest>\n * //   <Address countryCode=\"PositionOfInterest\">\n * //     <freeFormAddress>saint mandé</freeFormAddress>\n * //   </Address>\n * // </GeocodeRequest>\n * @constructor\n *\n * @alias Gp.Formats.XLS.LocationUtilityService.GeocodeRequest\n * @param {Object} options - options\n * @param {Object}   options.location - location\n * @param {String}   options.returnFreeForm - returnFreeForm\n * @param {String}   options.filterOptions - filtres\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @private\n */\nfunction GeocodeRequest (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur GeocodeRequest ()]\");\n\n    if (!(this instanceof GeocodeRequest)) {\n        throw new TypeError(\"GeocodeRequest constructor cannot be called as a function.\");\n    }\n\n    // options par defaut\n    this.options = options || {};\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n\n    // TODO\n    // gestion de l'option 'returnFreeForm' si elle n'est pas renseignée dans les options !\n\n    /**\n     * Nom de la classe (heritage)\n     */\n    this.CLASSNAME = \"GeocodeRequest\";\n}\n\nGeocodeRequest.prototype = {\n\n    /**\n     * @lends module:GeocodeRequest#\n     */\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    strRequest : null,\n\n    /**\n     * Addresse\n     * @type {Address}\n     */\n    oAddress : null,\n\n    /**\n     * Filter\n     * @type {GeocodeFilterExtension}\n     */\n    oFilter : null,\n\n    /**\n     * Template de la requête.\n     * substitution des valeurs suivantes :\n     * __ADDRESS__, __RETURNFREEFORM__\n     */\n    template : \"<GeocodeRequest returnFreeForm=\\\"__RETURNFREEFORM__\\\">\" +\n        \"__ADDRESS__\" +\n        \"</GeocodeRequest>\",\n\n    /**\n     * Ajout d'un objet de type Adresse\n     *\n     * @param {Object} oAddress - Adresse\n     */\n    addAddress : function (oAddress) {\n        if (oAddress instanceof _model_Address__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n            this.oAddress = oAddress;\n        }\n    },\n\n    /**\n     * Ajout d'un objet de type GeocodeFilterExtension\n     *\n     * @param {Object} oFilter - GeocodeFilterExtension\n     */\n    addFilter : function (oFilter) {\n        // FIXME gestion des filtres à partir des tables de geocodages\n        if (oFilter instanceof _GeocodeFilterExtension__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\n            this.oFilter = oFilter;\n        }\n    },\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : GeocodeRequest,\n\n    /**\n     * toString\n     *\n     * @returns {String} requête\n     */\n    toString : function () {\n        var template = \"\";\n        template = this.template;\n\n        // soit on a déjà un objet Address instancié,\n        // sinon, on le fabrique via les options\n        if (!this.oAddress) {\n            var settings = {};\n            settings.location = this.options.location;\n            settings.type = this.options.filterOptions.type || [\"StreetAddress\"];\n            settings.filter = this.options.filterOptions;\n            delete settings.filter.type; // on ne met pas le 'type' dans les filtres...\n\n            // gestion des filtres\n            if (this.oFilter) {\n                // on reconstruit les filtres\n                settings.filter = {};\n\n                // on determine la liste des filtres possibles\n                // pour chaque table de geocodage en param\n                for (var idx in settings.type) {\n                    var filter = settings.type[idx];\n                    var oFilter = this.oFilter.getFilter(filter);\n\n                    if (!oFilter) {\n                        this.logger.warn(\"Le filtre '\" + filter + \"' n'existe pas !?\");\n                        continue;\n                    }\n\n                    var mFilter = this.options.filterOptions;\n\n                    // correspondances des attributs de filtres possibles avec ceux qui sont en options\n                    var attributs = oFilter.attributesList;\n                    for (var idxe = 0; idxe < attributs.length; idxe++) {\n                        var key = attributs[idxe];\n                        if (mFilter[key]) {\n                            var matchingKey = oFilter.serviceAttributes[idxe];\n                            oFilter.placeAttributes[matchingKey] = mFilter[key];\n                            this.logger.trace(\"Selection du filtre '\" + key + \"' sur le type '\" + filter + \"'.\");\n                        }\n                    }\n\n                    // ajout des valeurs des filtres\n                    var places = oFilter.placeAttributes;\n                    for (var kplace in places) {\n                        if (places.hasOwnProperty(kplace)) {\n                            settings.filter[kplace] = places[kplace];\n                        }\n                    }\n                }\n            }\n\n            this.oAddress = new _model_Address__WEBPACK_IMPORTED_MODULE_1__[\"default\"](settings);\n            if (!this.oAddress) {\n                throw new Error(\"La construction de l'adresse n'est pas correctement definie !?\");\n            }\n        }\n\n        // FIXME gestion des filtres pour un objet Address déjà instancié ?\n\n        template = template.replace(/__ADDRESS__/g, this.oAddress.toString());\n        template = template.replace(/__RETURNFREEFORM__/g, (this.options.returnFreeForm) ? \"true\" : \"false\");\n\n        this.strRequest = template;\n        return this.strRequest;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GeocodeRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS9HZW9jb2RlUmVxdWVzdC5qcz9iMGI2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQW9EO0FBQ2Q7QUFDd0I7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQU87QUFDdkM7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBc0I7QUFDckQ7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHNDQUFzQyx5QkFBeUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyxzREFBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDZFQUFjLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0Zvcm1hdHMvWExTL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UvR2VvY29kZVJlcXVlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBBZGRyZXNzIGZyb20gXCIuL21vZGVsL0FkZHJlc3NcIjtcbmltcG9ydCBHZW9jb2RlRmlsdGVyRXh0ZW5zaW9uIGZyb20gXCIuL0dlb2NvZGVGaWx0ZXJFeHRlbnNpb25cIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBSZXF1w6p0ZSBkZSBnZW9jb2RhZ2UgZGlyZWN0XG4gKlxuICogYGBgXG4gKiBYU0RcbiAqIEdlb2NvZGFnZSBkaXJlY3QgKGJhbGlzZSB4c2QpIDpcbiAqICAgZWxlbWVudCByZWY9XCJSZXF1ZXN0SGVhZGVyXCIgWyAoYXR0cmlidXRlIG5hbWU9XCJjbGllbnROYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJjbGllbnRQYXNzd29yZFwiIGF0dHJpYnV0ZSBuYW1lPVwic2Vzc2lvbklEXCIgYXR0cmlidXRlIG5hbWU9XCJzcnNOYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJNU0lEXCIpIF1cbiAqICAgICBlbGVtZW50IG5hbWU9XCJSZXF1ZXN0XCIgYXR0cmlidXRlIG5hbWU9XCJtZXRob2ROYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJ2ZXJzaW9uXCIgYXR0cmlidXRlIG5hbWU9XCJyZXF1ZXN0SURcIiBbIGF0dHJpYnV0ZSBuYW1lPVwibWF4aW11bVJlc3BvbnNlc1wiIF1cbiAqICAgICAgIGVsZW1lbnQgbmFtZT1cIkdlb2NvZGVSZXF1ZXN0XCIgYXR0cmlidXRlIG5hbWU9XCJyZXR1cm5GcmVlRm9ybVwiXG4gKiAgICAgICAgIGVsZW1lbnQgcmVmPVwieGxzOkFkZHJlc3NcIlxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGNyZWF0aW9uIGRlIGwnb2JqZXQgR2VvY29kZSBhbiBham91dGFudCB1biBvYmpldCBBZGRyZXNzXG4gKiByZXEgPSBuZXcgR2VvY29kZVJlcXVlc3QgKCk7XG4gKiByZXEucmV0dXJuRnJlZUZvcm0gPSB0cnVlOyAvLyBUT0RPICFcbiAqIHJlcS5hZGRBZGRyZXNzIChuZXcgQWRkcmVzcyAoe1xuICogICAgICBsb2NhdGlvbiA6IFwic2FpbnQgbWFuZMOpXCIsXG4gKiAgICAgIHR5cGUgOiBbJ1Bvc2l0aW9uT2ZJbnRlcmVzdCddLFxuICogICAgICBmaWx0ZXIgOiB7XG4gKiAgICAgICAgICAoLi4uKVxuICogICAgICB9XG4gKiB9KSk7XG4gKiByZXEudG9TdHJpbmcoKTtcbiAqIC8vIG91dCAtPlxuICogLy8gPEdlb2NvZGVSZXF1ZXN0PlxuICogLy8gICA8QWRkcmVzcyBjb3VudHJ5Q29kZT1cIlBvc2l0aW9uT2ZJbnRlcmVzdFwiPlxuICogLy8gICAgIDxmcmVlRm9ybUFkZHJlc3M+c2FpbnQgbWFuZMOpPC9mcmVlRm9ybUFkZHJlc3M+XG4gKiAvLyAgIDwvQWRkcmVzcz5cbiAqIC8vIDwvR2VvY29kZVJlcXVlc3Q+XG4gKlxuICogLy8gY3JlYXRpb24gZGUgbCdvYmpldCBHZW9jb2RlIGF2ZWMgbGVzIG9wdGlvbnMgdW5pcXVlbWVudFxuICogcmVxID0gbmV3IEdlb2NvZGVSZXF1ZXN0ICh7XG4gKiAgICAgIGxvY2F0aW9uIDogXCJzYWludCBtYW5kw6lcIixcbiAqICAgICAgcmV0dXJuRnJlZUZvcm0gOiB0cnVlLFxuICogICAgICBmaWx0ZXJPcHRpb25zIDoge1xuICogICAgICAgICAgdHlwZSA6IFsnUG9zaXRpb25PZkludGVyZXN0J10sXG4gKiAgICAgICAgICAoLi4uKVxuICogICAgICB9XG4gKiB9KTtcbiAqIHJlcS50b1N0cmluZygpO1xuICogLy8gb3V0IC0+XG4gKiAvLyA8R2VvY29kZVJlcXVlc3Q+XG4gKiAvLyAgIDxBZGRyZXNzIGNvdW50cnlDb2RlPVwiUG9zaXRpb25PZkludGVyZXN0XCI+XG4gKiAvLyAgICAgPGZyZWVGb3JtQWRkcmVzcz5zYWludCBtYW5kw6k8L2ZyZWVGb3JtQWRkcmVzcz5cbiAqIC8vICAgPC9BZGRyZXNzPlxuICogLy8gPC9HZW9jb2RlUmVxdWVzdD5cbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBhbGlhcyBHcC5Gb3JtYXRzLlhMUy5Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlLkdlb2NvZGVSZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMubG9jYXRpb24gLSBsb2NhdGlvblxuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5yZXR1cm5GcmVlRm9ybSAtIHJldHVybkZyZWVGb3JtXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLmZpbHRlck9wdGlvbnMgLSBmaWx0cmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uc3VjY2VzcyAtIGZ1bmN0aW9uIGNhbGxiYWNrIHN1Y2Nlc3MgKFRPRE8pXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uZXJyb3IgICAtIGZ1bmN0aW9uIGNhbGxiYWNrIGVycm9yICAgKFRPRE8pXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gR2VvY29kZVJlcXVlc3QgKG9wdGlvbnMpIHtcbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgR2VvY29kZVJlcXVlc3QgKCldXCIpO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEdlb2NvZGVSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VvY29kZVJlcXVlc3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICAvLyBvcHRpb25zIHBhciBkZWZhdXRcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gZXQgb24gYWpvdXRlIGxlcyBvcHRpb25zIGVuIHBhcmFtw6h0cmUgYXV4IG9wdGlvbnMgcGFyIGTDqWZhdXRcbiAgICBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE9cbiAgICAvLyBnZXN0aW9uIGRlIGwnb3B0aW9uICdyZXR1cm5GcmVlRm9ybScgc2kgZWxsZSBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUgZGFucyBsZXMgb3B0aW9ucyAhXG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiR2VvY29kZVJlcXVlc3RcIjtcbn1cblxuR2VvY29kZVJlcXVlc3QucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQGxlbmRzIG1vZHVsZTpHZW9jb2RlUmVxdWVzdCNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgKG91dClcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHN0clJlcXVlc3QgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQWRkcmVzc2VcbiAgICAgKiBAdHlwZSB7QWRkcmVzc31cbiAgICAgKi9cbiAgICBvQWRkcmVzcyA6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJcbiAgICAgKiBAdHlwZSB7R2VvY29kZUZpbHRlckV4dGVuc2lvbn1cbiAgICAgKi9cbiAgICBvRmlsdGVyIDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFRlbXBsYXRlIGRlIGxhIHJlcXXDqnRlLlxuICAgICAqIHN1YnN0aXR1dGlvbiBkZXMgdmFsZXVycyBzdWl2YW50ZXMgOlxuICAgICAqIF9fQUREUkVTU19fLCBfX1JFVFVSTkZSRUVGT1JNX19cbiAgICAgKi9cbiAgICB0ZW1wbGF0ZSA6IFwiPEdlb2NvZGVSZXF1ZXN0IHJldHVybkZyZWVGb3JtPVxcXCJfX1JFVFVSTkZSRUVGT1JNX19cXFwiPlwiICtcbiAgICAgICAgXCJfX0FERFJFU1NfX1wiICtcbiAgICAgICAgXCI8L0dlb2NvZGVSZXF1ZXN0PlwiLFxuXG4gICAgLyoqXG4gICAgICogQWpvdXQgZCd1biBvYmpldCBkZSB0eXBlIEFkcmVzc2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvQWRkcmVzcyAtIEFkcmVzc2VcbiAgICAgKi9cbiAgICBhZGRBZGRyZXNzIDogZnVuY3Rpb24gKG9BZGRyZXNzKSB7XG4gICAgICAgIGlmIChvQWRkcmVzcyBpbnN0YW5jZW9mIEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRoaXMub0FkZHJlc3MgPSBvQWRkcmVzcztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBam91dCBkJ3VuIG9iamV0IGRlIHR5cGUgR2VvY29kZUZpbHRlckV4dGVuc2lvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9GaWx0ZXIgLSBHZW9jb2RlRmlsdGVyRXh0ZW5zaW9uXG4gICAgICovXG4gICAgYWRkRmlsdGVyIDogZnVuY3Rpb24gKG9GaWx0ZXIpIHtcbiAgICAgICAgLy8gRklYTUUgZ2VzdGlvbiBkZXMgZmlsdHJlcyDDoCBwYXJ0aXIgZGVzIHRhYmxlcyBkZSBnZW9jb2RhZ2VzXG4gICAgICAgIGlmIChvRmlsdGVyIGluc3RhbmNlb2YgR2VvY29kZUZpbHRlckV4dGVuc2lvbikge1xuICAgICAgICAgICAgdGhpcy5vRmlsdGVyID0gb0ZpbHRlcjtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogR2VvY29kZVJlcXVlc3QsXG5cbiAgICAvKipcbiAgICAgKiB0b1N0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmVxdcOqdGVcbiAgICAgKi9cbiAgICB0b1N0cmluZyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gXCJcIjtcbiAgICAgICAgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlO1xuXG4gICAgICAgIC8vIHNvaXQgb24gYSBkw6lqw6AgdW4gb2JqZXQgQWRkcmVzcyBpbnN0YW5jacOpLFxuICAgICAgICAvLyBzaW5vbiwgb24gbGUgZmFicmlxdWUgdmlhIGxlcyBvcHRpb25zXG4gICAgICAgIGlmICghdGhpcy5vQWRkcmVzcykge1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzID0ge307XG4gICAgICAgICAgICBzZXR0aW5ncy5sb2NhdGlvbiA9IHRoaXMub3B0aW9ucy5sb2NhdGlvbjtcbiAgICAgICAgICAgIHNldHRpbmdzLnR5cGUgPSB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucy50eXBlIHx8IFtcIlN0cmVldEFkZHJlc3NcIl07XG4gICAgICAgICAgICBzZXR0aW5ncy5maWx0ZXIgPSB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucztcbiAgICAgICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5maWx0ZXIudHlwZTsgLy8gb24gbmUgbWV0IHBhcyBsZSAndHlwZScgZGFucyBsZXMgZmlsdHJlcy4uLlxuXG4gICAgICAgICAgICAvLyBnZXN0aW9uIGRlcyBmaWx0cmVzXG4gICAgICAgICAgICBpZiAodGhpcy5vRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gb24gcmVjb25zdHJ1aXQgbGVzIGZpbHRyZXNcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5maWx0ZXIgPSB7fTtcblxuICAgICAgICAgICAgICAgIC8vIG9uIGRldGVybWluZSBsYSBsaXN0ZSBkZXMgZmlsdHJlcyBwb3NzaWJsZXNcbiAgICAgICAgICAgICAgICAvLyBwb3VyIGNoYXF1ZSB0YWJsZSBkZSBnZW9jb2RhZ2UgZW4gcGFyYW1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpZHggaW4gc2V0dGluZ3MudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyID0gc2V0dGluZ3MudHlwZVtpZHhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb0ZpbHRlciA9IHRoaXMub0ZpbHRlci5nZXRGaWx0ZXIoZmlsdGVyKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9GaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJMZSBmaWx0cmUgJ1wiICsgZmlsdGVyICsgXCInIG4nZXhpc3RlIHBhcyAhP1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1GaWx0ZXIgPSB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucztcblxuICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZXNwb25kYW5jZXMgZGVzIGF0dHJpYnV0cyBkZSBmaWx0cmVzIHBvc3NpYmxlcyBhdmVjIGNldXggcXVpIHNvbnQgZW4gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRzID0gb0ZpbHRlci5hdHRyaWJ1dGVzTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaWR4ZSA9IDA7IGlkeGUgPCBhdHRyaWJ1dHMubGVuZ3RoOyBpZHhlKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBhdHRyaWJ1dHNbaWR4ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobUZpbHRlcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nS2V5ID0gb0ZpbHRlci5zZXJ2aWNlQXR0cmlidXRlc1tpZHhlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvRmlsdGVyLnBsYWNlQXR0cmlidXRlc1ttYXRjaGluZ0tleV0gPSBtRmlsdGVyW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJTZWxlY3Rpb24gZHUgZmlsdHJlICdcIiArIGtleSArIFwiJyBzdXIgbGUgdHlwZSAnXCIgKyBmaWx0ZXIgKyBcIicuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWpvdXQgZGVzIHZhbGV1cnMgZGVzIGZpbHRyZXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYWNlcyA9IG9GaWx0ZXIucGxhY2VBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrcGxhY2UgaW4gcGxhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VzLmhhc093blByb3BlcnR5KGtwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5maWx0ZXJba3BsYWNlXSA9IHBsYWNlc1trcGxhY2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9BZGRyZXNzID0gbmV3IEFkZHJlc3Moc2V0dGluZ3MpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9BZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGEgY29uc3RydWN0aW9uIGRlIGwnYWRyZXNzZSBuJ2VzdCBwYXMgY29ycmVjdGVtZW50IGRlZmluaWUgIT9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRSBnZXN0aW9uIGRlcyBmaWx0cmVzIHBvdXIgdW4gb2JqZXQgQWRkcmVzcyBkw6lqw6AgaW5zdGFuY2nDqSA/XG5cbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX0FERFJFU1NfXy9nLCB0aGlzLm9BZGRyZXNzLnRvU3RyaW5nKCkpO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fUkVUVVJORlJFRUZPUk1fXy9nLCAodGhpcy5vcHRpb25zLnJldHVybkZyZWVGb3JtKSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcblxuICAgICAgICB0aGlzLnN0clJlcXVlc3QgPSB0ZW1wbGF0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyUmVxdWVzdDtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHZW9jb2RlUmVxdWVzdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeRequest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/ReverseGeocodeRequest.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/ReverseGeocodeRequest.js ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _model_Position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model/Position */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Position.js\");\n/* harmony import */ var _model_Preference__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./model/Preference */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Preference.js\");\n\n\n\n\n\n/**\n * @classdesc\n *\n * Requête de geocodage inverse\n *\n * XSD\n * ```\n * Geocodage inverse (balise xsd) :\n *   element ref=\"RequestHeader\" [ (attribute name=\"clientName\" attribute name=\"clientPassword\" attribute name=\"sessionID\" attribute name=\"srsName\" attribute name=\"MSID\") ]\n *     element name=\"Request\" attribute name=\"methodName\" attribute name=\"version\" attribute name=\"requestID\" [ attribute name=\"maximumResponses\" ]\n *       element name=\"ReverseGeocodeRequest\"\n *         element ref=\"xls:Position\"\n *         element name=\"ReverseGeocodePreference\" (enumeration)\n * ```\n *\n * @example\n * // creation de l\"objet ReverseGeocode\n * req = new ReverseGeocodeRequest ();\n * req.addPosition (new Position (position:{x: , y: }));\n * req.addPreference ([\"StreetAddress\"]);\n * req.toString();\n * // out ->\n * // <ReverseGeocodeRequest>\n * //     <Position>\n * //       <gml:Point xmlns:gml=\"http://www.opengis.net/gml\">\n * //           <gml:pos>50.347775 3.205098</gml:pos>\n * //       </gml:Point>\n * //     </Position>\n * //     <ReverseGeocodePreference>StreetAddress</ReverseGeocodePreference>\n * //  </ReverseGeocodeRequest>\n * @constructor\n * @alias Gp.Formats.XLS.ReverseGeocodeRequest\n * @param {Object} options - options\n * @param {Object}   options.position - position\n * @param {String}   options.returnFreeForm - returnFreeForm\n * @param {String}   options.filterOptions - filtres\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @private\n */\nfunction ReverseGeocodeRequest (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur ReverseGeocodeRequest ()]\");\n\n    if (!(this instanceof ReverseGeocodeRequest)) {\n        throw new TypeError(\"ReverseGeocodeRequest constructor cannot be called as a function.\");\n    }\n\n    // options par defaut\n    this.options = options || {};\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     */\n    this.CLASSNAME = \"ReverseGeocodeRequest\";\n}\n\nReverseGeocodeRequest.prototype = {\n\n    /**\n     * @lends module:ReverseGeocodeRequest#\n     */\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    strRequest : null,\n\n    /**\n     * Position\n     * @type {Position}\n     */\n    oPosition : null,\n\n    /**\n     * Preference\n     * @type {Preference}\n     */\n    oPreference : null,\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : ReverseGeocodeRequest,\n\n    /**\n     * Template de la requête.\n     * substitution des valeurs suivantes :\n     * __POSITION__, __PREFERENCE__, __RETURNFREEFORM__\n     */\n    template : \"<ReverseGeocodeRequest returnFreeForm=\\\"__RETURNFREEFORM__\\\">\" +\n        \"__POSITION__\" +\n        \"__PREFERENCE__\" +\n        \"</ReverseGeocodeRequest>\",\n\n    /**\n     * Ajout d\"un objet de type Position\n     *\n     * @param {Object} oPosition - Position\n     */\n    addPosition : function (oPosition) {\n        if (oPosition instanceof _model_Position__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n            this.oPosition = oPosition;\n        }\n    },\n\n    /**\n     * Ajout d\"une liste de table de référence LUS :\n     * [StreetAddress, PointOfInterest, CadastralParcel, Administrativ]\n     *\n     * @param {Object} oPreference - Preference\n     */\n    addPreferences : function (oPreference) {\n        if (oPreference instanceof _model_Preference__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\n            this.oPreference = oPreference;\n        }\n    },\n\n    /**\n     * toString\n     * @returns {String} requête\n     */\n    toString : function () {\n        var template = \"\";\n        template = this.template;\n\n        // si on a déjà un objet Preference instancié,\n        // sinon, on le fabrique via les options\n        if (!this.oPreference) {\n            this.oPreference = new _model_Preference__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.options.filterOptions.type || [\"StreetAddress\"]);\n            if (!this.oPreference) {\n                throw new Error(\"Les preferences ne sont pas definies !?\");\n            }\n        }\n        template = template.replace(/__PREFERENCE__/g, this.oPreference.toString());\n\n        // si on a déjà un objet Position instancié,\n        // sinon, on le fabrique via les options\n        if (!this.oPosition) {\n            var settings = {\n                position : this.options.position,\n                filter : {}\n            };\n\n            // FIXME gestion des filtres ?\n            if (this.options.filterOptions) {\n                settings.filter = this.options.filterOptions;\n                delete settings.filter.type; // pas besoin ?\n            }\n            this.oPosition = new _model_Position__WEBPACK_IMPORTED_MODULE_1__[\"default\"](settings);\n            if (!this.oPosition) {\n                throw new Error(\"La position et ses filtres ne sont pas definis !?\");\n            }\n        }\n        template = template.replace(/__POSITION__/g, this.oPosition.toString());\n        template = template.replace(/__RETURNFREEFORM__/g, (this.options.returnFreeForm) ? \"true\" : \"false\");\n\n        this.strRequest = template;\n        return this.strRequest;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReverseGeocodeRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS9SZXZlcnNlR2VvY29kZVJlcXVlc3QuanM/NmExNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNvRDtBQUNaO0FBQ0k7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBLGlDQUFpQyx1REFBUTtBQUN6QztBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0EsbUNBQW1DLHlEQUFVO0FBQzdDO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseURBQVU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxpQ0FBaUMsdURBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLG9GQUFxQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Gb3JtYXRzL1hMUy9Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlL1JldmVyc2VHZW9jb2RlUmVxdWVzdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4vbW9kZWwvUG9zaXRpb25cIjtcbmltcG9ydCBQcmVmZXJlbmNlIGZyb20gXCIuL21vZGVsL1ByZWZlcmVuY2VcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKlxuICogUmVxdcOqdGUgZGUgZ2VvY29kYWdlIGludmVyc2VcbiAqXG4gKiBYU0RcbiAqIGBgYFxuICogR2VvY29kYWdlIGludmVyc2UgKGJhbGlzZSB4c2QpIDpcbiAqICAgZWxlbWVudCByZWY9XCJSZXF1ZXN0SGVhZGVyXCIgWyAoYXR0cmlidXRlIG5hbWU9XCJjbGllbnROYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJjbGllbnRQYXNzd29yZFwiIGF0dHJpYnV0ZSBuYW1lPVwic2Vzc2lvbklEXCIgYXR0cmlidXRlIG5hbWU9XCJzcnNOYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJNU0lEXCIpIF1cbiAqICAgICBlbGVtZW50IG5hbWU9XCJSZXF1ZXN0XCIgYXR0cmlidXRlIG5hbWU9XCJtZXRob2ROYW1lXCIgYXR0cmlidXRlIG5hbWU9XCJ2ZXJzaW9uXCIgYXR0cmlidXRlIG5hbWU9XCJyZXF1ZXN0SURcIiBbIGF0dHJpYnV0ZSBuYW1lPVwibWF4aW11bVJlc3BvbnNlc1wiIF1cbiAqICAgICAgIGVsZW1lbnQgbmFtZT1cIlJldmVyc2VHZW9jb2RlUmVxdWVzdFwiXG4gKiAgICAgICAgIGVsZW1lbnQgcmVmPVwieGxzOlBvc2l0aW9uXCJcbiAqICAgICAgICAgZWxlbWVudCBuYW1lPVwiUmV2ZXJzZUdlb2NvZGVQcmVmZXJlbmNlXCIgKGVudW1lcmF0aW9uKVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGNyZWF0aW9uIGRlIGxcIm9iamV0IFJldmVyc2VHZW9jb2RlXG4gKiByZXEgPSBuZXcgUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0ICgpO1xuICogcmVxLmFkZFBvc2l0aW9uIChuZXcgUG9zaXRpb24gKHBvc2l0aW9uOnt4OiAsIHk6IH0pKTtcbiAqIHJlcS5hZGRQcmVmZXJlbmNlIChbXCJTdHJlZXRBZGRyZXNzXCJdKTtcbiAqIHJlcS50b1N0cmluZygpO1xuICogLy8gb3V0IC0+XG4gKiAvLyA8UmV2ZXJzZUdlb2NvZGVSZXF1ZXN0PlxuICogLy8gICAgIDxQb3NpdGlvbj5cbiAqIC8vICAgICAgIDxnbWw6UG9pbnQgeG1sbnM6Z21sPVwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIj5cbiAqIC8vICAgICAgICAgICA8Z21sOnBvcz41MC4zNDc3NzUgMy4yMDUwOTg8L2dtbDpwb3M+XG4gKiAvLyAgICAgICA8L2dtbDpQb2ludD5cbiAqIC8vICAgICA8L1Bvc2l0aW9uPlxuICogLy8gICAgIDxSZXZlcnNlR2VvY29kZVByZWZlcmVuY2U+U3RyZWV0QWRkcmVzczwvUmV2ZXJzZUdlb2NvZGVQcmVmZXJlbmNlPlxuICogLy8gIDwvUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0PlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuRm9ybWF0cy5YTFMuUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMucG9zaXRpb24gLSBwb3NpdGlvblxuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5yZXR1cm5GcmVlRm9ybSAtIHJldHVybkZyZWVGb3JtXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLmZpbHRlck9wdGlvbnMgLSBmaWx0cmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uc3VjY2VzcyAtIGZ1bmN0aW9uIGNhbGxiYWNrIHN1Y2Nlc3MgKFRPRE8pXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uZXJyb3IgICAtIGZ1bmN0aW9uIGNhbGxiYWNrIGVycm9yICAgKFRPRE8pXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0IChvcHRpb25zKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKCk7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIFJldmVyc2VHZW9jb2RlUmVxdWVzdCAoKV1cIik7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gb3B0aW9ucyBwYXIgZGVmYXV0XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8vIGV0IG9uIGFqb3V0ZSBsZXMgb3B0aW9ucyBlbiBwYXJhbcOodHJlIGF1eCBvcHRpb25zIHBhciBkw6lmYXV0XG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zW29wdF0gPSBvcHRpb25zW29wdF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0XCI7XG59XG5cblJldmVyc2VHZW9jb2RlUmVxdWVzdC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBAbGVuZHMgbW9kdWxlOlJldmVyc2VHZW9jb2RlUmVxdWVzdCNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgKG91dClcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHN0clJlcXVlc3QgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogUG9zaXRpb25cbiAgICAgKiBAdHlwZSB7UG9zaXRpb259XG4gICAgICovXG4gICAgb1Bvc2l0aW9uIDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFByZWZlcmVuY2VcbiAgICAgKiBAdHlwZSB7UHJlZmVyZW5jZX1cbiAgICAgKi9cbiAgICBvUHJlZmVyZW5jZSA6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0LFxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZGUgbGEgcmVxdcOqdGUuXG4gICAgICogc3Vic3RpdHV0aW9uIGRlcyB2YWxldXJzIHN1aXZhbnRlcyA6XG4gICAgICogX19QT1NJVElPTl9fLCBfX1BSRUZFUkVOQ0VfXywgX19SRVRVUk5GUkVFRk9STV9fXG4gICAgICovXG4gICAgdGVtcGxhdGUgOiBcIjxSZXZlcnNlR2VvY29kZVJlcXVlc3QgcmV0dXJuRnJlZUZvcm09XFxcIl9fUkVUVVJORlJFRUZPUk1fX1xcXCI+XCIgK1xuICAgICAgICBcIl9fUE9TSVRJT05fX1wiICtcbiAgICAgICAgXCJfX1BSRUZFUkVOQ0VfX1wiICtcbiAgICAgICAgXCI8L1JldmVyc2VHZW9jb2RlUmVxdWVzdD5cIixcblxuICAgIC8qKlxuICAgICAqIEFqb3V0IGRcInVuIG9iamV0IGRlIHR5cGUgUG9zaXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvUG9zaXRpb24gLSBQb3NpdGlvblxuICAgICAqL1xuICAgIGFkZFBvc2l0aW9uIDogZnVuY3Rpb24gKG9Qb3NpdGlvbikge1xuICAgICAgICBpZiAob1Bvc2l0aW9uIGluc3RhbmNlb2YgUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMub1Bvc2l0aW9uID0gb1Bvc2l0aW9uO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFqb3V0IGRcInVuZSBsaXN0ZSBkZSB0YWJsZSBkZSByw6lmw6lyZW5jZSBMVVMgOlxuICAgICAqIFtTdHJlZXRBZGRyZXNzLCBQb2ludE9mSW50ZXJlc3QsIENhZGFzdHJhbFBhcmNlbCwgQWRtaW5pc3RyYXRpdl1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvUHJlZmVyZW5jZSAtIFByZWZlcmVuY2VcbiAgICAgKi9cbiAgICBhZGRQcmVmZXJlbmNlcyA6IGZ1bmN0aW9uIChvUHJlZmVyZW5jZSkge1xuICAgICAgICBpZiAob1ByZWZlcmVuY2UgaW5zdGFuY2VvZiBQcmVmZXJlbmNlKSB7XG4gICAgICAgICAgICB0aGlzLm9QcmVmZXJlbmNlID0gb1ByZWZlcmVuY2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXF1w6p0ZVxuICAgICAqL1xuICAgIHRvU3RyaW5nIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGVtcGxhdGUgPSBcIlwiO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGU7XG5cbiAgICAgICAgLy8gc2kgb24gYSBkw6lqw6AgdW4gb2JqZXQgUHJlZmVyZW5jZSBpbnN0YW5jacOpLFxuICAgICAgICAvLyBzaW5vbiwgb24gbGUgZmFicmlxdWUgdmlhIGxlcyBvcHRpb25zXG4gICAgICAgIGlmICghdGhpcy5vUHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgdGhpcy5vUHJlZmVyZW5jZSA9IG5ldyBQcmVmZXJlbmNlKHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLnR5cGUgfHwgW1wiU3RyZWV0QWRkcmVzc1wiXSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMub1ByZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZXMgcHJlZmVyZW5jZXMgbmUgc29udCBwYXMgZGVmaW5pZXMgIT9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1BSRUZFUkVOQ0VfXy9nLCB0aGlzLm9QcmVmZXJlbmNlLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIC8vIHNpIG9uIGEgZMOpasOgIHVuIG9iamV0IFBvc2l0aW9uIGluc3RhbmNpw6ksXG4gICAgICAgIC8vIHNpbm9uLCBvbiBsZSBmYWJyaXF1ZSB2aWEgbGVzIG9wdGlvbnNcbiAgICAgICAgaWYgKCF0aGlzLm9Qb3NpdGlvbikge1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzID0ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uIDogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGZpbHRlciA6IHt9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBGSVhNRSBnZXN0aW9uIGRlcyBmaWx0cmVzID9cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLmZpbHRlciA9IHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5maWx0ZXIudHlwZTsgLy8gcGFzIGJlc29pbiA/XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9Qb3NpdGlvbiA9IG5ldyBQb3NpdGlvbihzZXR0aW5ncyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMub1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGEgcG9zaXRpb24gZXQgc2VzIGZpbHRyZXMgbmUgc29udCBwYXMgZGVmaW5pcyAhP1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fUE9TSVRJT05fXy9nLCB0aGlzLm9Qb3NpdGlvbi50b1N0cmluZygpKTtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1JFVFVSTkZSRUVGT1JNX18vZywgKHRoaXMub3B0aW9ucy5yZXR1cm5GcmVlRm9ybSkgPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG5cbiAgICAgICAgdGhpcy5zdHJSZXF1ZXN0ID0gdGVtcGxhdGU7XG4gICAgICAgIHJldHVybiB0aGlzLnN0clJlcXVlc3Q7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/ReverseGeocodeRequest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Address.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Address.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n\n/**\n * @classdesc\n *\n * Location type \"Address\".\n *\n * Modèles de classes :\n * ------------------\n * ```\n *\n *                Address\n *            (est composé de)\n *           ______ | _________ _________________\n *          /       |          \\                 \\\n *      Place (StreetAddress ou FreeFormAddress) PostalCode\n *       (*)       _|_\n *                /   \\\n *           Street   Building\n * ```\n * ```\n * XSD\n * Address (balise xsd) :\n *   ex. <Address countryCode=\"StreetAddress\"><freeFormAddress>1 r de paris saint denis</freeFormAddress></Address>\n *   attribute name=\"countryCode\"\n *     element name=\"freeFormAddress\"\n *     element ref=\"xls:Place\"\n *     element ref=\"gml:Envelope\"\n *  ou\n *   ex. <Address countryCode=\"StreetAddress\"><StreetAddress><Street>1 rue Marconi</Street></StreetAddress><Place type=\"Municipality\">Metz</Place><PostalCode>57000</PostalCode></Address>\n *   attribute name=\"countryCode\"\n *     element ref=\"xls:StreetAddress\"\n *     element ref=\"xls:PostalCode\"\n *     element ref=\"xls:Place\"\n *     element ref=\"gml:Envelope\"\n * ```\n *\n * @example\n * // simple\n * adr = new Address ({\n *    location : \"2 av pasteur, Saint-Mandée\",\n *    type : [\"StreetAddress\"],\n *    filter : {}\n * });\n * adr.toString();\n * // -> out\n * // <Address countryCode=\"StreetAddress\">\n * //   <freeFormAddress>2 av pasteur, Saint-Mandée</freeFormAddress>\n * // </Address>\n *\n * // avec filtre\n * adr = new Address ({\n *    location : {\n *      number : 2,\n *      street : \"av pasteur\",\n *      city : \"Saint-Mandée\", // FIXME filter Place \"commune\" ou \"municipality\" ?\n *      postalCode : \"94166\"   // FIXME filter Place ou balise PostalCode ?\n *    },\n *    type : [\"StreetAddress\"],\n *    filter : {\n *      territory : \"FR\",\n *      department : \"94\"\n *    }\n * });\n * adr.toString();\n * // -> out\n * // <Address countryCode=\"StreetAddress\">\n * //   <StreetAddress>\n * //   <Building number=\"2\"/>\n * //   <Street>2 av pasteur</Street>\n * // </StreetAddress>\n * // <Place type=\"municipality\">Saint-Mandée</Place>\n * // <Place type=\"departement\">94</Place>\n * // <Place type=\"territoire\">FR</Place>\n * // <PostalCode>94166</PostalCode>\n * // </Address>\n *\n * // avec bbox\n * adr = new Address ({\n *    location : \"2 av pasteur, Saint-Mandée\",\n *    type : [\"StreetAddress\"],\n *    filter : {\n *      bbox : {left:1, right:2, top:2, bottom:0}\n *    }\n * });\n * adr.toString();\n * // -> out\n * // <Address countryCode=\"StreetAddress\">\n * //   <freeFormAddress>2 av pasteur, Saint-Mandée</freeFormAddress>\n * //   <gml:Envelope>\n * //     <gml:lowerCorner>1 0</gml:lowerCorner>\n * //     <gml:upperCorner>2 2</gml:upperCorner>\n * //   </gl:Envelope>\n * // </Address>\n *\n * @constructor\n * @alias Gp.Formats.XLS.LocationUtilityService.Address\n * @param {Object} options - options\n * @param {Object} options.location - location\n * @param {String} options.type - type\n * @param {String} options.filter - filtres\n * @param {String} options.filter.* - Filtré en fonction des tables de geocodage interrogées\n *\n * @private\n */\nfunction Address (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Address\");\n    this.logger.trace(\"[Constructeur Address ()]\");\n\n    if (!(this instanceof Address)) {\n        throw new TypeError(\"Address constructor cannot be called as a function.\");\n    }\n\n    // param par defaut\n    this.options = options || {\n        location : {},\n        type : [\"StreetAddress\"],\n        filter : {}\n    };\n\n    // param obligatoire\n    if (!options.location) {\n        throw new Error(\"l'option 'location' n'est pas renseignée !\");\n    }\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n}\n\n/**\n * @lends module:Address#\n */\nAddress.prototype = {\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : Address,\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Template de la requête.\n     *\n     * substitution des valeurs suivantes :\n     * - address :  __COUNTRYCODE__, __LOCATION__, __PLACE__, __POSTALCODE__, __ENVELOPE__\n     * - freeFormAddress : __FREEFORMADDRESSVALUE__\n     * - streetAddress : __STREET__, __BUILDING__\n     * - street : __STREETVALUE__\n     * - building : __BUILDINGVALUE__\n     * - place : __PLACEATYPE__, __PLACEVALUE__\n     * - postalCode : __POSTALCODEVALUE__\n     * - gml:envelope : __LEFT__ __BOTTOM__ __RIGHT__ __TOP__\n     *\n     * @todo gestion de l\"indentation\n     */\n    template : {\n        address : \"<Address countryCode=\\\"__COUNTRYCODE__\\\">\" +\n            \"__LOCATION__\" +\n            \"__PLACE__\" +\n            \"__POSTALCODE__\" +\n            \"__ENVELOPE__\" +\n            \"</Address>\",\n        location : {\n            freeFormAddress : \"<freeFormAddress>__FREEFORMADDRESSVALUE__</freeFormAddress>\",\n            streetAddress : {\n                container : \"<StreetAddress>\" +\n                    \"__STREET__\" +\n                    \"__BUILDING__\" +\n                    \"</StreetAddress>\",\n                building : \"<Building number=\\\"__BUILDINGVALUE__\\\"/>\",\n                street : \"<Street>__STREETVALUE__</Street>\"\n            }\n        },\n        place : \"<Place type=\\\"__PLACETYPE__\\\">__PLACEVALUE__</Place>\",\n        postalCode : \"<PostalCode>__POSTALCODEVALUE__</PostalCode>\",\n        envelope : \"<gml:Envelope>\" +\n            \"<gml:lowerCorner>__LEFT__ __BOTTOM__</gml:lowerCorner>\" +\n            \"<gml:upperCorner>__RIGHT__ __TOP__</gml:upperCorner>\" +\n            \"</gml:Envelope>\"\n    }\n\n};\n\n/**\n * toString\n *\n * @returns {String} requête\n */\nAddress.prototype.toString = function () {\n    var template = null;\n    template = this.template.address;\n    template = template.replace(/__COUNTRYCODE__/g, this.options.type);\n\n    // on a une adresse structurée ou libre ?\n    if (typeof this.options.location === \"string\") {\n        // balise freeFormeAddress\n        var tmplFreeFormAddress = this.template.location.freeFormAddress;\n        tmplFreeFormAddress = tmplFreeFormAddress.replace(/__FREEFORMADDRESSVALUE__/g, this.options.location);\n        template = template.replace(/__LOCATION__/g, tmplFreeFormAddress);\n    } else {\n        // balises Street et Building\n        var tmplBuilding = \"\";\n        var tmplStreet = \"\";\n\n        if (this.options.location.number) {\n            tmplBuilding = this.template.location.streetAddress.building;\n            tmplBuilding = tmplBuilding.replace(/__BUILDINGVALUE__/g, this.options.location.number);\n        }\n\n        if (this.options.location.street) {\n            tmplStreet = this.template.location.streetAddress.street;\n            tmplStreet = tmplStreet.replace(/__STREETVALUE__/g, this.options.location.street);\n        }\n\n        // balise streetAddress\n        var tmplStreetAddress = this.template.location.streetAddress.container;\n        tmplStreetAddress = tmplStreetAddress.replace(/__STREET__/g, tmplStreet);\n        tmplStreetAddress = tmplStreetAddress.replace(/__BUILDING__/g, tmplBuilding);\n        template = template.replace(/__LOCATION__/g, tmplStreetAddress);\n    }\n\n    // a t on un filtre de type PostalCode ?\n    var tmplPostalCode = \"\";\n    if (this.options.location.postalCode) {\n        tmplPostalCode = this.template.postalCode;\n        tmplPostalCode = tmplPostalCode.replace(/__POSTALCODEVALUE__/g, this.options.location.postalCode);\n    }\n\n    // a t on un filtre de type GML::Envelope ?\n    var tmplEnvelope = \"\";\n    if (this.options.filter) {\n        var bbox = this.options.filter.bbox;\n        if (bbox) {\n            tmplEnvelope = this.template.envelope;\n            tmplEnvelope = tmplEnvelope.replace(/__LEFT__/g, bbox.left);\n            tmplEnvelope = tmplEnvelope.replace(/__BOTTOM__/g, bbox.bottom);\n            tmplEnvelope = tmplEnvelope.replace(/__RIGHT__/g, bbox.right);\n            tmplEnvelope = tmplEnvelope.replace(/__TOP__/g, bbox.top);\n        }\n    }\n\n    // liste des filtres Place\n    var Places = [];\n\n    // a t on des filtres de type Place ?\n    var tmplPlace = \"\";\n    if (this.options.filter) {\n        var filters = this.options.filter;\n        for (var filter in filters) {\n            if (filter === \"bbox\") {\n                continue;\n            }\n            // FIXME gestion des filtres spécifiques IGN ?\n            tmplPlace = this.template.place;\n            tmplPlace = tmplPlace.replace(/__PLACETYPE__/g, filter);\n            tmplPlace = tmplPlace.replace(/__PLACEVALUE__/g, filters[filter]);\n            Places.push(tmplPlace);\n        }\n    }\n\n    // a t on un filtre de type Place dans location ?\n    var tmplPlaceCity = \"\";\n    if (this.options.location.city) {\n        tmplPlaceCity = this.template.place;\n        tmplPlaceCity = tmplPlaceCity.replace(/__PLACETYPE__/g, \"Municipality\");\n        tmplPlaceCity = tmplPlaceCity.replace(/__PLACEVALUE__/g, this.options.location.city);\n        Places.push(tmplPlaceCity);\n    }\n\n    template = template.replace(/__POSTALCODE__/g, tmplPostalCode);\n    template = template.replace(/__PLACE__/g, Places.join(\"\\n\"));\n    template = template.replace(/__ENVELOPE__/g, tmplEnvelope);\n\n    this.requestString = template;\n    return this.requestString;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Address);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS9tb2RlbC9BZGRyZXNzLmpzP2E2NGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ3VEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLHNFQUFPLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0Zvcm1hdHMvWExTL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UvbW9kZWwvQWRkcmVzcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIExvY2F0aW9uIHR5cGUgXCJBZGRyZXNzXCIuXG4gKlxuICogTW9kw6hsZXMgZGUgY2xhc3NlcyA6XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGBgYFxuICpcbiAqICAgICAgICAgICAgICAgIEFkZHJlc3NcbiAqICAgICAgICAgICAgKGVzdCBjb21wb3PDqSBkZSlcbiAqICAgICAgICAgICBfX19fX18gfCBfX19fX19fX18gX19fX19fX19fX19fX19fX19cbiAqICAgICAgICAgIC8gICAgICAgfCAgICAgICAgICBcXCAgICAgICAgICAgICAgICAgXFxcbiAqICAgICAgUGxhY2UgKFN0cmVldEFkZHJlc3Mgb3UgRnJlZUZvcm1BZGRyZXNzKSBQb3N0YWxDb2RlXG4gKiAgICAgICAoKikgICAgICAgX3xfXG4gKiAgICAgICAgICAgICAgICAvICAgXFxcbiAqICAgICAgICAgICBTdHJlZXQgICBCdWlsZGluZ1xuICogYGBgXG4gKiBgYGBcbiAqIFhTRFxuICogQWRkcmVzcyAoYmFsaXNlIHhzZCkgOlxuICogICBleC4gPEFkZHJlc3MgY291bnRyeUNvZGU9XCJTdHJlZXRBZGRyZXNzXCI+PGZyZWVGb3JtQWRkcmVzcz4xIHIgZGUgcGFyaXMgc2FpbnQgZGVuaXM8L2ZyZWVGb3JtQWRkcmVzcz48L0FkZHJlc3M+XG4gKiAgIGF0dHJpYnV0ZSBuYW1lPVwiY291bnRyeUNvZGVcIlxuICogICAgIGVsZW1lbnQgbmFtZT1cImZyZWVGb3JtQWRkcmVzc1wiXG4gKiAgICAgZWxlbWVudCByZWY9XCJ4bHM6UGxhY2VcIlxuICogICAgIGVsZW1lbnQgcmVmPVwiZ21sOkVudmVsb3BlXCJcbiAqICBvdVxuICogICBleC4gPEFkZHJlc3MgY291bnRyeUNvZGU9XCJTdHJlZXRBZGRyZXNzXCI+PFN0cmVldEFkZHJlc3M+PFN0cmVldD4xIHJ1ZSBNYXJjb25pPC9TdHJlZXQ+PC9TdHJlZXRBZGRyZXNzPjxQbGFjZSB0eXBlPVwiTXVuaWNpcGFsaXR5XCI+TWV0ejwvUGxhY2U+PFBvc3RhbENvZGU+NTcwMDA8L1Bvc3RhbENvZGU+PC9BZGRyZXNzPlxuICogICBhdHRyaWJ1dGUgbmFtZT1cImNvdW50cnlDb2RlXCJcbiAqICAgICBlbGVtZW50IHJlZj1cInhsczpTdHJlZXRBZGRyZXNzXCJcbiAqICAgICBlbGVtZW50IHJlZj1cInhsczpQb3N0YWxDb2RlXCJcbiAqICAgICBlbGVtZW50IHJlZj1cInhsczpQbGFjZVwiXG4gKiAgICAgZWxlbWVudCByZWY9XCJnbWw6RW52ZWxvcGVcIlxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIHNpbXBsZVxuICogYWRyID0gbmV3IEFkZHJlc3MgKHtcbiAqICAgIGxvY2F0aW9uIDogXCIyIGF2IHBhc3RldXIsIFNhaW50LU1hbmTDqWVcIixcbiAqICAgIHR5cGUgOiBbXCJTdHJlZXRBZGRyZXNzXCJdLFxuICogICAgZmlsdGVyIDoge31cbiAqIH0pO1xuICogYWRyLnRvU3RyaW5nKCk7XG4gKiAvLyAtPiBvdXRcbiAqIC8vIDxBZGRyZXNzIGNvdW50cnlDb2RlPVwiU3RyZWV0QWRkcmVzc1wiPlxuICogLy8gICA8ZnJlZUZvcm1BZGRyZXNzPjIgYXYgcGFzdGV1ciwgU2FpbnQtTWFuZMOpZTwvZnJlZUZvcm1BZGRyZXNzPlxuICogLy8gPC9BZGRyZXNzPlxuICpcbiAqIC8vIGF2ZWMgZmlsdHJlXG4gKiBhZHIgPSBuZXcgQWRkcmVzcyAoe1xuICogICAgbG9jYXRpb24gOiB7XG4gKiAgICAgIG51bWJlciA6IDIsXG4gKiAgICAgIHN0cmVldCA6IFwiYXYgcGFzdGV1clwiLFxuICogICAgICBjaXR5IDogXCJTYWludC1NYW5kw6llXCIsIC8vIEZJWE1FIGZpbHRlciBQbGFjZSBcImNvbW11bmVcIiBvdSBcIm11bmljaXBhbGl0eVwiID9cbiAqICAgICAgcG9zdGFsQ29kZSA6IFwiOTQxNjZcIiAgIC8vIEZJWE1FIGZpbHRlciBQbGFjZSBvdSBiYWxpc2UgUG9zdGFsQ29kZSA/XG4gKiAgICB9LFxuICogICAgdHlwZSA6IFtcIlN0cmVldEFkZHJlc3NcIl0sXG4gKiAgICBmaWx0ZXIgOiB7XG4gKiAgICAgIHRlcnJpdG9yeSA6IFwiRlJcIixcbiAqICAgICAgZGVwYXJ0bWVudCA6IFwiOTRcIlxuICogICAgfVxuICogfSk7XG4gKiBhZHIudG9TdHJpbmcoKTtcbiAqIC8vIC0+IG91dFxuICogLy8gPEFkZHJlc3MgY291bnRyeUNvZGU9XCJTdHJlZXRBZGRyZXNzXCI+XG4gKiAvLyAgIDxTdHJlZXRBZGRyZXNzPlxuICogLy8gICA8QnVpbGRpbmcgbnVtYmVyPVwiMlwiLz5cbiAqIC8vICAgPFN0cmVldD4yIGF2IHBhc3RldXI8L1N0cmVldD5cbiAqIC8vIDwvU3RyZWV0QWRkcmVzcz5cbiAqIC8vIDxQbGFjZSB0eXBlPVwibXVuaWNpcGFsaXR5XCI+U2FpbnQtTWFuZMOpZTwvUGxhY2U+XG4gKiAvLyA8UGxhY2UgdHlwZT1cImRlcGFydGVtZW50XCI+OTQ8L1BsYWNlPlxuICogLy8gPFBsYWNlIHR5cGU9XCJ0ZXJyaXRvaXJlXCI+RlI8L1BsYWNlPlxuICogLy8gPFBvc3RhbENvZGU+OTQxNjY8L1Bvc3RhbENvZGU+XG4gKiAvLyA8L0FkZHJlc3M+XG4gKlxuICogLy8gYXZlYyBiYm94XG4gKiBhZHIgPSBuZXcgQWRkcmVzcyAoe1xuICogICAgbG9jYXRpb24gOiBcIjIgYXYgcGFzdGV1ciwgU2FpbnQtTWFuZMOpZVwiLFxuICogICAgdHlwZSA6IFtcIlN0cmVldEFkZHJlc3NcIl0sXG4gKiAgICBmaWx0ZXIgOiB7XG4gKiAgICAgIGJib3ggOiB7bGVmdDoxLCByaWdodDoyLCB0b3A6MiwgYm90dG9tOjB9XG4gKiAgICB9XG4gKiB9KTtcbiAqIGFkci50b1N0cmluZygpO1xuICogLy8gLT4gb3V0XG4gKiAvLyA8QWRkcmVzcyBjb3VudHJ5Q29kZT1cIlN0cmVldEFkZHJlc3NcIj5cbiAqIC8vICAgPGZyZWVGb3JtQWRkcmVzcz4yIGF2IHBhc3RldXIsIFNhaW50LU1hbmTDqWU8L2ZyZWVGb3JtQWRkcmVzcz5cbiAqIC8vICAgPGdtbDpFbnZlbG9wZT5cbiAqIC8vICAgICA8Z21sOmxvd2VyQ29ybmVyPjEgMDwvZ21sOmxvd2VyQ29ybmVyPlxuICogLy8gICAgIDxnbWw6dXBwZXJDb3JuZXI+MiAyPC9nbWw6dXBwZXJDb3JuZXI+XG4gKiAvLyAgIDwvZ2w6RW52ZWxvcGU+XG4gKiAvLyA8L0FkZHJlc3M+XG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuRm9ybWF0cy5YTFMuTG9jYXRpb25VdGlsaXR5U2VydmljZS5BZGRyZXNzXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmxvY2F0aW9uIC0gbG9jYXRpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnR5cGUgLSB0eXBlXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5maWx0ZXIgLSBmaWx0cmVzXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5maWx0ZXIuKiAtIEZpbHRyw6kgZW4gZm9uY3Rpb24gZGVzIHRhYmxlcyBkZSBnZW9jb2RhZ2UgaW50ZXJyb2fDqWVzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gQWRkcmVzcyAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIkFkZHJlc3NcIik7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIEFkZHJlc3MgKCldXCIpO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFkZHJlc3MpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBZGRyZXNzIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gcGFyYW0gcGFyIGRlZmF1dFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgICBsb2NhdGlvbiA6IHt9LFxuICAgICAgICB0eXBlIDogW1wiU3RyZWV0QWRkcmVzc1wiXSxcbiAgICAgICAgZmlsdGVyIDoge31cbiAgICB9O1xuXG4gICAgLy8gcGFyYW0gb2JsaWdhdG9pcmVcbiAgICBpZiAoIW9wdGlvbnMubG9jYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibCdvcHRpb24gJ2xvY2F0aW9uJyBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUgIVwiKTtcbiAgICB9XG5cbiAgICAvLyBldCBvbiBham91dGUgbGVzIG9wdGlvbnMgZW4gcGFyYW3DqHRyZSBhdXggb3B0aW9ucyBwYXIgZMOpZmF1dFxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6QWRkcmVzcyNcbiAqL1xuQWRkcmVzcy5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogQWRkcmVzcyxcblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgKG91dClcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHJlcXVlc3RTdHJpbmcgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZGUgbGEgcmVxdcOqdGUuXG4gICAgICpcbiAgICAgKiBzdWJzdGl0dXRpb24gZGVzIHZhbGV1cnMgc3VpdmFudGVzIDpcbiAgICAgKiAtIGFkZHJlc3MgOiAgX19DT1VOVFJZQ09ERV9fLCBfX0xPQ0FUSU9OX18sIF9fUExBQ0VfXywgX19QT1NUQUxDT0RFX18sIF9fRU5WRUxPUEVfX1xuICAgICAqIC0gZnJlZUZvcm1BZGRyZXNzIDogX19GUkVFRk9STUFERFJFU1NWQUxVRV9fXG4gICAgICogLSBzdHJlZXRBZGRyZXNzIDogX19TVFJFRVRfXywgX19CVUlMRElOR19fXG4gICAgICogLSBzdHJlZXQgOiBfX1NUUkVFVFZBTFVFX19cbiAgICAgKiAtIGJ1aWxkaW5nIDogX19CVUlMRElOR1ZBTFVFX19cbiAgICAgKiAtIHBsYWNlIDogX19QTEFDRUFUWVBFX18sIF9fUExBQ0VWQUxVRV9fXG4gICAgICogLSBwb3N0YWxDb2RlIDogX19QT1NUQUxDT0RFVkFMVUVfX1xuICAgICAqIC0gZ21sOmVudmVsb3BlIDogX19MRUZUX18gX19CT1RUT01fXyBfX1JJR0hUX18gX19UT1BfX1xuICAgICAqXG4gICAgICogQHRvZG8gZ2VzdGlvbiBkZSBsXCJpbmRlbnRhdGlvblxuICAgICAqL1xuICAgIHRlbXBsYXRlIDoge1xuICAgICAgICBhZGRyZXNzIDogXCI8QWRkcmVzcyBjb3VudHJ5Q29kZT1cXFwiX19DT1VOVFJZQ09ERV9fXFxcIj5cIiArXG4gICAgICAgICAgICBcIl9fTE9DQVRJT05fX1wiICtcbiAgICAgICAgICAgIFwiX19QTEFDRV9fXCIgK1xuICAgICAgICAgICAgXCJfX1BPU1RBTENPREVfX1wiICtcbiAgICAgICAgICAgIFwiX19FTlZFTE9QRV9fXCIgK1xuICAgICAgICAgICAgXCI8L0FkZHJlc3M+XCIsXG4gICAgICAgIGxvY2F0aW9uIDoge1xuICAgICAgICAgICAgZnJlZUZvcm1BZGRyZXNzIDogXCI8ZnJlZUZvcm1BZGRyZXNzPl9fRlJFRUZPUk1BRERSRVNTVkFMVUVfXzwvZnJlZUZvcm1BZGRyZXNzPlwiLFxuICAgICAgICAgICAgc3RyZWV0QWRkcmVzcyA6IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIgOiBcIjxTdHJlZXRBZGRyZXNzPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJfX1NUUkVFVF9fXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIl9fQlVJTERJTkdfX1wiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8L1N0cmVldEFkZHJlc3M+XCIsXG4gICAgICAgICAgICAgICAgYnVpbGRpbmcgOiBcIjxCdWlsZGluZyBudW1iZXI9XFxcIl9fQlVJTERJTkdWQUxVRV9fXFxcIi8+XCIsXG4gICAgICAgICAgICAgICAgc3RyZWV0IDogXCI8U3RyZWV0Pl9fU1RSRUVUVkFMVUVfXzwvU3RyZWV0PlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBsYWNlIDogXCI8UGxhY2UgdHlwZT1cXFwiX19QTEFDRVRZUEVfX1xcXCI+X19QTEFDRVZBTFVFX188L1BsYWNlPlwiLFxuICAgICAgICBwb3N0YWxDb2RlIDogXCI8UG9zdGFsQ29kZT5fX1BPU1RBTENPREVWQUxVRV9fPC9Qb3N0YWxDb2RlPlwiLFxuICAgICAgICBlbnZlbG9wZSA6IFwiPGdtbDpFbnZlbG9wZT5cIiArXG4gICAgICAgICAgICBcIjxnbWw6bG93ZXJDb3JuZXI+X19MRUZUX18gX19CT1RUT01fXzwvZ21sOmxvd2VyQ29ybmVyPlwiICtcbiAgICAgICAgICAgIFwiPGdtbDp1cHBlckNvcm5lcj5fX1JJR0hUX18gX19UT1BfXzwvZ21sOnVwcGVyQ29ybmVyPlwiICtcbiAgICAgICAgICAgIFwiPC9nbWw6RW52ZWxvcGU+XCJcbiAgICB9XG5cbn07XG5cbi8qKlxuICogdG9TdHJpbmdcbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSByZXF1w6p0ZVxuICovXG5BZGRyZXNzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBudWxsO1xuICAgIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZS5hZGRyZXNzO1xuICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19DT1VOVFJZQ09ERV9fL2csIHRoaXMub3B0aW9ucy50eXBlKTtcblxuICAgIC8vIG9uIGEgdW5lIGFkcmVzc2Ugc3RydWN0dXLDqWUgb3UgbGlicmUgP1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmxvY2F0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIC8vIGJhbGlzZSBmcmVlRm9ybWVBZGRyZXNzXG4gICAgICAgIHZhciB0bXBsRnJlZUZvcm1BZGRyZXNzID0gdGhpcy50ZW1wbGF0ZS5sb2NhdGlvbi5mcmVlRm9ybUFkZHJlc3M7XG4gICAgICAgIHRtcGxGcmVlRm9ybUFkZHJlc3MgPSB0bXBsRnJlZUZvcm1BZGRyZXNzLnJlcGxhY2UoL19fRlJFRUZPUk1BRERSRVNTVkFMVUVfXy9nLCB0aGlzLm9wdGlvbnMubG9jYXRpb24pO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fTE9DQVRJT05fXy9nLCB0bXBsRnJlZUZvcm1BZGRyZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBiYWxpc2VzIFN0cmVldCBldCBCdWlsZGluZ1xuICAgICAgICB2YXIgdG1wbEJ1aWxkaW5nID0gXCJcIjtcbiAgICAgICAgdmFyIHRtcGxTdHJlZXQgPSBcIlwiO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9jYXRpb24ubnVtYmVyKSB7XG4gICAgICAgICAgICB0bXBsQnVpbGRpbmcgPSB0aGlzLnRlbXBsYXRlLmxvY2F0aW9uLnN0cmVldEFkZHJlc3MuYnVpbGRpbmc7XG4gICAgICAgICAgICB0bXBsQnVpbGRpbmcgPSB0bXBsQnVpbGRpbmcucmVwbGFjZSgvX19CVUlMRElOR1ZBTFVFX18vZywgdGhpcy5vcHRpb25zLmxvY2F0aW9uLm51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxvY2F0aW9uLnN0cmVldCkge1xuICAgICAgICAgICAgdG1wbFN0cmVldCA9IHRoaXMudGVtcGxhdGUubG9jYXRpb24uc3RyZWV0QWRkcmVzcy5zdHJlZXQ7XG4gICAgICAgICAgICB0bXBsU3RyZWV0ID0gdG1wbFN0cmVldC5yZXBsYWNlKC9fX1NUUkVFVFZBTFVFX18vZywgdGhpcy5vcHRpb25zLmxvY2F0aW9uLnN0cmVldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWxpc2Ugc3RyZWV0QWRkcmVzc1xuICAgICAgICB2YXIgdG1wbFN0cmVldEFkZHJlc3MgPSB0aGlzLnRlbXBsYXRlLmxvY2F0aW9uLnN0cmVldEFkZHJlc3MuY29udGFpbmVyO1xuICAgICAgICB0bXBsU3RyZWV0QWRkcmVzcyA9IHRtcGxTdHJlZXRBZGRyZXNzLnJlcGxhY2UoL19fU1RSRUVUX18vZywgdG1wbFN0cmVldCk7XG4gICAgICAgIHRtcGxTdHJlZXRBZGRyZXNzID0gdG1wbFN0cmVldEFkZHJlc3MucmVwbGFjZSgvX19CVUlMRElOR19fL2csIHRtcGxCdWlsZGluZyk7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19MT0NBVElPTl9fL2csIHRtcGxTdHJlZXRBZGRyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBhIHQgb24gdW4gZmlsdHJlIGRlIHR5cGUgUG9zdGFsQ29kZSA/XG4gICAgdmFyIHRtcGxQb3N0YWxDb2RlID0gXCJcIjtcbiAgICBpZiAodGhpcy5vcHRpb25zLmxvY2F0aW9uLnBvc3RhbENvZGUpIHtcbiAgICAgICAgdG1wbFBvc3RhbENvZGUgPSB0aGlzLnRlbXBsYXRlLnBvc3RhbENvZGU7XG4gICAgICAgIHRtcGxQb3N0YWxDb2RlID0gdG1wbFBvc3RhbENvZGUucmVwbGFjZSgvX19QT1NUQUxDT0RFVkFMVUVfXy9nLCB0aGlzLm9wdGlvbnMubG9jYXRpb24ucG9zdGFsQ29kZSk7XG4gICAgfVxuXG4gICAgLy8gYSB0IG9uIHVuIGZpbHRyZSBkZSB0eXBlIEdNTDo6RW52ZWxvcGUgP1xuICAgIHZhciB0bXBsRW52ZWxvcGUgPSBcIlwiO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZmlsdGVyKSB7XG4gICAgICAgIHZhciBiYm94ID0gdGhpcy5vcHRpb25zLmZpbHRlci5iYm94O1xuICAgICAgICBpZiAoYmJveCkge1xuICAgICAgICAgICAgdG1wbEVudmVsb3BlID0gdGhpcy50ZW1wbGF0ZS5lbnZlbG9wZTtcbiAgICAgICAgICAgIHRtcGxFbnZlbG9wZSA9IHRtcGxFbnZlbG9wZS5yZXBsYWNlKC9fX0xFRlRfXy9nLCBiYm94LmxlZnQpO1xuICAgICAgICAgICAgdG1wbEVudmVsb3BlID0gdG1wbEVudmVsb3BlLnJlcGxhY2UoL19fQk9UVE9NX18vZywgYmJveC5ib3R0b20pO1xuICAgICAgICAgICAgdG1wbEVudmVsb3BlID0gdG1wbEVudmVsb3BlLnJlcGxhY2UoL19fUklHSFRfXy9nLCBiYm94LnJpZ2h0KTtcbiAgICAgICAgICAgIHRtcGxFbnZlbG9wZSA9IHRtcGxFbnZlbG9wZS5yZXBsYWNlKC9fX1RPUF9fL2csIGJib3gudG9wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxpc3RlIGRlcyBmaWx0cmVzIFBsYWNlXG4gICAgdmFyIFBsYWNlcyA9IFtdO1xuXG4gICAgLy8gYSB0IG9uIGRlcyBmaWx0cmVzIGRlIHR5cGUgUGxhY2UgP1xuICAgIHZhciB0bXBsUGxhY2UgPSBcIlwiO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZmlsdGVyKSB7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gdGhpcy5vcHRpb25zLmZpbHRlcjtcbiAgICAgICAgZm9yICh2YXIgZmlsdGVyIGluIGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIgPT09IFwiYmJveFwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGSVhNRSBnZXN0aW9uIGRlcyBmaWx0cmVzIHNww6ljaWZpcXVlcyBJR04gP1xuICAgICAgICAgICAgdG1wbFBsYWNlID0gdGhpcy50ZW1wbGF0ZS5wbGFjZTtcbiAgICAgICAgICAgIHRtcGxQbGFjZSA9IHRtcGxQbGFjZS5yZXBsYWNlKC9fX1BMQUNFVFlQRV9fL2csIGZpbHRlcik7XG4gICAgICAgICAgICB0bXBsUGxhY2UgPSB0bXBsUGxhY2UucmVwbGFjZSgvX19QTEFDRVZBTFVFX18vZywgZmlsdGVyc1tmaWx0ZXJdKTtcbiAgICAgICAgICAgIFBsYWNlcy5wdXNoKHRtcGxQbGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhIHQgb24gdW4gZmlsdHJlIGRlIHR5cGUgUGxhY2UgZGFucyBsb2NhdGlvbiA/XG4gICAgdmFyIHRtcGxQbGFjZUNpdHkgPSBcIlwiO1xuICAgIGlmICh0aGlzLm9wdGlvbnMubG9jYXRpb24uY2l0eSkge1xuICAgICAgICB0bXBsUGxhY2VDaXR5ID0gdGhpcy50ZW1wbGF0ZS5wbGFjZTtcbiAgICAgICAgdG1wbFBsYWNlQ2l0eSA9IHRtcGxQbGFjZUNpdHkucmVwbGFjZSgvX19QTEFDRVRZUEVfXy9nLCBcIk11bmljaXBhbGl0eVwiKTtcbiAgICAgICAgdG1wbFBsYWNlQ2l0eSA9IHRtcGxQbGFjZUNpdHkucmVwbGFjZSgvX19QTEFDRVZBTFVFX18vZywgdGhpcy5vcHRpb25zLmxvY2F0aW9uLmNpdHkpO1xuICAgICAgICBQbGFjZXMucHVzaCh0bXBsUGxhY2VDaXR5KTtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fUE9TVEFMQ09ERV9fL2csIHRtcGxQb3N0YWxDb2RlKTtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fUExBQ0VfXy9nLCBQbGFjZXMuam9pbihcIlxcblwiKSk7XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX0VOVkVMT1BFX18vZywgdG1wbEVudmVsb3BlKTtcblxuICAgIHRoaXMucmVxdWVzdFN0cmluZyA9IHRlbXBsYXRlO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RTdHJpbmc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBZGRyZXNzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Address.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Position.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Position.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n/**\n * @classdesc\n * Location de type Position\n *\n * ```\n * XSD\n * Position (balise xsd) :\n *   ex. <Position><gml:Point xmlns:gml=\"http://www.opengis.net/gml\"><gml:pos>50.347775 3.205098</gml:pos></gml:Point></Position>\n *   ex. <Position><gml:CircleByCenterPoint xmlns:gml=\"http://www.opengis.net/gml\"><gml:pos>48.85978570614691 2.2913572761128878</gml:pos><gml:radius>1000</gml:radius></gml:CircleByCenterPoint></Position>\n *   (au choix)\n *   element ref=\"gml:Point\"\n *   element ref=\"gml:CircleByCenterPoint\"\n *   element ref=\"gml:Polygon\"\n *   element ref=\"gml:MultiPolygon\"\n * ```\n *\n * FIXME les autres elements ne sont pas implémentés (QoP, Speed, Direction, Time, ...) ?\n *\n * ```\n * template : \"<Position>\n *                  __GMLPOINT__\n *                  __GMLFILTER__\n *             </Position>\"\n * ```\n * ```\n * GML : {\n *  pos     : \"<gml:pos>__X__ __Y__</gml:pos>\",\n *  point   : \"<gml:Point xmlns:gml=\\\"http://www.opengis.net/gml\\\">__POS__</gml:Point>\",\n *  circle  : \"<gml:CircleByCenterPoint xmlns:gml=\\\"http://www.opengis.net/gml\\\">__POS__<gml:radius>__RADIUS__</gml:radius></gml:CircleByCenterPoint>\",\n *  // not yet implemented !\n *  polygon      : \"\",\n *  multipolygon : \"\"\n * }\n * ```\n *\n * @constructor\n * @alias Gp.Formats.XLS.LocationUtilityService.Position\n * @param {Object} options - options données en entrée\n * @param {Object} options.position - x/y\n * @param {Object} options.filter - filtre\n * @param {Object} options.filter.circle - un cercle\n * @param {Object} options.filter.polygon - un polygone\n *\n * @private\n */\nfunction Position (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Position\");\n    this.logger.trace(\"[Constructeur Position ()]\");\n\n    if (!(this instanceof Position)) {\n        throw new TypeError(\"Position constructor cannot be called as a function.\");\n    }\n\n    // param par defaut\n    this.options = options || {};\n\n    // param obligatoire\n    if (!options.position) {\n        throw new Error(\"l'option 'position' n'est pas renseignée !\");\n    }\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n}\n\n/**\n * @lends module:Position#\n */\nPosition.prototype = {\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : Position,\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Template de la requête.\n     *\n     * substitution des valeurs suivantes :\n     * __GMLPOINT__ __GMLFILTER__\n     * __X__ __Y__ __RADIUS__\n     * __XY__\n     * @todo indentation XML\n     * @todo implementation classe GML\n     */\n    template : {\n        position : \"<Position>\" +\n            \"__GMLPOINT__\" +\n            \"__GMLFILTER__\" +\n            \"</Position>\",\n        gml : {\n            point : \"<gml:Point xmlns:gml=\\\"http://www.opengis.net/gml\\\"><gml:pos>__X__ __Y__</gml:pos></gml:Point>\",\n            pos : null,\n            filter : {\n                bbox : \"<gml:Envelope xmlns:gml=\\\"http://www.opengis.net/gml\\\">\" +\n                    \"<gml:lowerCorner>__LEFT__ __BOTTOM__</gml:lowerCorner>\" +\n                    \"<gml:upperCorner>__RIGHT__ __TOP__</gml:upperCorner>\" +\n                    \"</gml:Envelope>\",\n                circle : \"<gml:CircleByCenterPoint xmlns:gml=\\\"http://www.opengis.net/gml\\\"><gml:pos>__X__ __Y__</gml:pos><gml:radius>__RADIUS__</gml:radius></gml:CircleByCenterPoint>\",\n                polygon : \"<gml:Polygon xmlns:gml=\\\"http://www.opengis.net/gml\\\"><gml:exterior><gml:LinearRing><gml:posList>__XY__</gml:posList></gml:LinearRing></gml:exterior></gml:Polygon>\",\n                multipolygon : null\n            }\n        }\n    }\n};\n\n/**\n * toString\n *\n * @returns {String} requête\n */\nPosition.prototype.toString = function () {\n    var template = this.template.position;\n\n    var tmplGmlPoint = this.template.gml.point;\n    tmplGmlPoint = tmplGmlPoint.replace(/__X__/g, this.options.position.x);\n    tmplGmlPoint = tmplGmlPoint.replace(/__Y__/g, this.options.position.y);\n\n    var tmplGmlFilter = \"\";\n    if (this.options.filter) {\n        var filter = this.options.filter;\n\n        for (var name in filter) {\n            switch (name) {\n                case \"circle\":\n                    tmplGmlFilter = this.template.gml.filter[name];\n                    tmplGmlFilter = tmplGmlFilter.replace(/__X__/g, filter[name].x);\n                    tmplGmlFilter = tmplGmlFilter.replace(/__Y__/g, filter[name].y);\n                    tmplGmlFilter = tmplGmlFilter.replace(/__RADIUS__/g, filter[name].radius);\n                    break;\n                case \"bbox\":\n                    tmplGmlFilter = this.template.gml.filter[name];\n                    tmplGmlFilter = tmplGmlFilter.replace(/__LEFT__/g, filter[name].left);\n                    tmplGmlFilter = tmplGmlFilter.replace(/__BOTTOM__/g, filter[name].bottom);\n                    tmplGmlFilter = tmplGmlFilter.replace(/__RIGHT__/g, filter[name].right);\n                    tmplGmlFilter = tmplGmlFilter.replace(/__TOP__/g, filter[name].top);\n                    break;\n                case \"polygon\":\n                    // FIXME implementation simple du polygone !\n                    // aucun test de fermeture du polygone, ni de gestion des trous !\n                    tmplGmlFilter = this.template.gml.filter[name];\n                    var strPoints = \"\";\n                    var lstPoints = filter[name];\n                    for (var i = 0; i < lstPoints.length; i++) {\n                        var coord = lstPoints[i];\n                        if (Array.isArray(coord)) {\n                            this.logger.error(\"Holes are not implemented !\");\n                            break;\n                        }\n                        if ((coord.x && coord.y) || (coord.x === 0 || coord.y === 0)) {\n                            strPoints += coord.x + \" \" + coord.y;\n                        }\n                        if (lstPoints.length !== i + 1) {\n                            strPoints += \" \";\n                        }\n                    }\n                    tmplGmlFilter = tmplGmlFilter.replace(/__XY__/g, strPoints);\n                    break;\n                case \"multipolygon\":\n                    this.logger.warn(\"Filter '\" + name + \"' is not yet implemented !\");\n                    break;\n                default:\n                    this.logger.error(\"This filter '\" + name + \"' is not useful !\");\n            }\n        }\n    }\n\n    template = template.replace(/__GMLPOINT__/g, tmplGmlPoint);\n    template = template.replace(/__GMLFILTER__/g, tmplGmlFilter);\n\n    this.requestString = template;\n    return this.requestString;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Position);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS9tb2RlbC9Qb3NpdGlvbi5qcz9jNGY5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBdUQ7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0JBQXNCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLHVFQUFRLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0Zvcm1hdHMvWExTL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UvbW9kZWwvUG9zaXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMb2NhdGlvbiBkZSB0eXBlIFBvc2l0aW9uXG4gKlxuICogYGBgXG4gKiBYU0RcbiAqIFBvc2l0aW9uIChiYWxpc2UgeHNkKSA6XG4gKiAgIGV4LiA8UG9zaXRpb24+PGdtbDpQb2ludCB4bWxuczpnbWw9XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiPjxnbWw6cG9zPjUwLjM0Nzc3NSAzLjIwNTA5ODwvZ21sOnBvcz48L2dtbDpQb2ludD48L1Bvc2l0aW9uPlxuICogICBleC4gPFBvc2l0aW9uPjxnbWw6Q2lyY2xlQnlDZW50ZXJQb2ludCB4bWxuczpnbWw9XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiPjxnbWw6cG9zPjQ4Ljg1OTc4NTcwNjE0NjkxIDIuMjkxMzU3Mjc2MTEyODg3ODwvZ21sOnBvcz48Z21sOnJhZGl1cz4xMDAwPC9nbWw6cmFkaXVzPjwvZ21sOkNpcmNsZUJ5Q2VudGVyUG9pbnQ+PC9Qb3NpdGlvbj5cbiAqICAgKGF1IGNob2l4KVxuICogICBlbGVtZW50IHJlZj1cImdtbDpQb2ludFwiXG4gKiAgIGVsZW1lbnQgcmVmPVwiZ21sOkNpcmNsZUJ5Q2VudGVyUG9pbnRcIlxuICogICBlbGVtZW50IHJlZj1cImdtbDpQb2x5Z29uXCJcbiAqICAgZWxlbWVudCByZWY9XCJnbWw6TXVsdGlQb2x5Z29uXCJcbiAqIGBgYFxuICpcbiAqIEZJWE1FIGxlcyBhdXRyZXMgZWxlbWVudHMgbmUgc29udCBwYXMgaW1wbMOpbWVudMOpcyAoUW9QLCBTcGVlZCwgRGlyZWN0aW9uLCBUaW1lLCAuLi4pID9cbiAqXG4gKiBgYGBcbiAqIHRlbXBsYXRlIDogXCI8UG9zaXRpb24+XG4gKiAgICAgICAgICAgICAgICAgIF9fR01MUE9JTlRfX1xuICogICAgICAgICAgICAgICAgICBfX0dNTEZJTFRFUl9fXG4gKiAgICAgICAgICAgICA8L1Bvc2l0aW9uPlwiXG4gKiBgYGBcbiAqIGBgYFxuICogR01MIDoge1xuICogIHBvcyAgICAgOiBcIjxnbWw6cG9zPl9fWF9fIF9fWV9fPC9nbWw6cG9zPlwiLFxuICogIHBvaW50ICAgOiBcIjxnbWw6UG9pbnQgeG1sbnM6Z21sPVxcXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFxcXCI+X19QT1NfXzwvZ21sOlBvaW50PlwiLFxuICogIGNpcmNsZSAgOiBcIjxnbWw6Q2lyY2xlQnlDZW50ZXJQb2ludCB4bWxuczpnbWw9XFxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXFxcIj5fX1BPU19fPGdtbDpyYWRpdXM+X19SQURJVVNfXzwvZ21sOnJhZGl1cz48L2dtbDpDaXJjbGVCeUNlbnRlclBvaW50PlwiLFxuICogIC8vIG5vdCB5ZXQgaW1wbGVtZW50ZWQgIVxuICogIHBvbHlnb24gICAgICA6IFwiXCIsXG4gKiAgbXVsdGlwb2x5Z29uIDogXCJcIlxuICogfVxuICogYGBgXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuRm9ybWF0cy5YTFMuTG9jYXRpb25VdGlsaXR5U2VydmljZS5Qb3NpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGRvbm7DqWVzIGVuIGVudHLDqWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnBvc2l0aW9uIC0geC95XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5maWx0ZXIgLSBmaWx0cmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZpbHRlci5jaXJjbGUgLSB1biBjZXJjbGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZpbHRlci5wb2x5Z29uIC0gdW4gcG9seWdvbmVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBQb3NpdGlvbiAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIlBvc2l0aW9uXCIpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBQb3NpdGlvbiAoKV1cIik7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG9zaXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQb3NpdGlvbiBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIHBhcmFtIHBhciBkZWZhdXRcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gcGFyYW0gb2JsaWdhdG9pcmVcbiAgICBpZiAoIW9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibCdvcHRpb24gJ3Bvc2l0aW9uJyBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUgIVwiKTtcbiAgICB9XG5cbiAgICAvLyBldCBvbiBham91dGUgbGVzIG9wdGlvbnMgZW4gcGFyYW3DqHRyZSBhdXggb3B0aW9ucyBwYXIgZMOpZmF1dFxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6UG9zaXRpb24jXG4gKi9cblBvc2l0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBQb3NpdGlvbixcblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgKG91dClcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHJlcXVlc3RTdHJpbmcgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZGUgbGEgcmVxdcOqdGUuXG4gICAgICpcbiAgICAgKiBzdWJzdGl0dXRpb24gZGVzIHZhbGV1cnMgc3VpdmFudGVzIDpcbiAgICAgKiBfX0dNTFBPSU5UX18gX19HTUxGSUxURVJfX1xuICAgICAqIF9fWF9fIF9fWV9fIF9fUkFESVVTX19cbiAgICAgKiBfX1hZX19cbiAgICAgKiBAdG9kbyBpbmRlbnRhdGlvbiBYTUxcbiAgICAgKiBAdG9kbyBpbXBsZW1lbnRhdGlvbiBjbGFzc2UgR01MXG4gICAgICovXG4gICAgdGVtcGxhdGUgOiB7XG4gICAgICAgIHBvc2l0aW9uIDogXCI8UG9zaXRpb24+XCIgK1xuICAgICAgICAgICAgXCJfX0dNTFBPSU5UX19cIiArXG4gICAgICAgICAgICBcIl9fR01MRklMVEVSX19cIiArXG4gICAgICAgICAgICBcIjwvUG9zaXRpb24+XCIsXG4gICAgICAgIGdtbCA6IHtcbiAgICAgICAgICAgIHBvaW50IDogXCI8Z21sOlBvaW50IHhtbG5zOmdtbD1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcXFwiPjxnbWw6cG9zPl9fWF9fIF9fWV9fPC9nbWw6cG9zPjwvZ21sOlBvaW50PlwiLFxuICAgICAgICAgICAgcG9zIDogbnVsbCxcbiAgICAgICAgICAgIGZpbHRlciA6IHtcbiAgICAgICAgICAgICAgICBiYm94IDogXCI8Z21sOkVudmVsb3BlIHhtbG5zOmdtbD1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcXFwiPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8Z21sOmxvd2VyQ29ybmVyPl9fTEVGVF9fIF9fQk9UVE9NX188L2dtbDpsb3dlckNvcm5lcj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPGdtbDp1cHBlckNvcm5lcj5fX1JJR0hUX18gX19UT1BfXzwvZ21sOnVwcGVyQ29ybmVyPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8L2dtbDpFbnZlbG9wZT5cIixcbiAgICAgICAgICAgICAgICBjaXJjbGUgOiBcIjxnbWw6Q2lyY2xlQnlDZW50ZXJQb2ludCB4bWxuczpnbWw9XFxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXFxcIj48Z21sOnBvcz5fX1hfXyBfX1lfXzwvZ21sOnBvcz48Z21sOnJhZGl1cz5fX1JBRElVU19fPC9nbWw6cmFkaXVzPjwvZ21sOkNpcmNsZUJ5Q2VudGVyUG9pbnQ+XCIsXG4gICAgICAgICAgICAgICAgcG9seWdvbiA6IFwiPGdtbDpQb2x5Z29uIHhtbG5zOmdtbD1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcXFwiPjxnbWw6ZXh0ZXJpb3I+PGdtbDpMaW5lYXJSaW5nPjxnbWw6cG9zTGlzdD5fX1hZX188L2dtbDpwb3NMaXN0PjwvZ21sOkxpbmVhclJpbmc+PC9nbWw6ZXh0ZXJpb3I+PC9nbWw6UG9seWdvbj5cIixcbiAgICAgICAgICAgICAgICBtdWx0aXBvbHlnb24gOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIHRvU3RyaW5nXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gcmVxdcOqdGVcbiAqL1xuUG9zaXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUucG9zaXRpb247XG5cbiAgICB2YXIgdG1wbEdtbFBvaW50ID0gdGhpcy50ZW1wbGF0ZS5nbWwucG9pbnQ7XG4gICAgdG1wbEdtbFBvaW50ID0gdG1wbEdtbFBvaW50LnJlcGxhY2UoL19fWF9fL2csIHRoaXMub3B0aW9ucy5wb3NpdGlvbi54KTtcbiAgICB0bXBsR21sUG9pbnQgPSB0bXBsR21sUG9pbnQucmVwbGFjZSgvX19ZX18vZywgdGhpcy5vcHRpb25zLnBvc2l0aW9uLnkpO1xuXG4gICAgdmFyIHRtcGxHbWxGaWx0ZXIgPSBcIlwiO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZmlsdGVyKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSB0aGlzLm9wdGlvbnMuZmlsdGVyO1xuXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gZmlsdGVyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2lyY2xlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRtcGxHbWxGaWx0ZXIgPSB0aGlzLnRlbXBsYXRlLmdtbC5maWx0ZXJbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHRtcGxHbWxGaWx0ZXIgPSB0bXBsR21sRmlsdGVyLnJlcGxhY2UoL19fWF9fL2csIGZpbHRlcltuYW1lXS54KTtcbiAgICAgICAgICAgICAgICAgICAgdG1wbEdtbEZpbHRlciA9IHRtcGxHbWxGaWx0ZXIucmVwbGFjZSgvX19ZX18vZywgZmlsdGVyW25hbWVdLnkpO1xuICAgICAgICAgICAgICAgICAgICB0bXBsR21sRmlsdGVyID0gdG1wbEdtbEZpbHRlci5yZXBsYWNlKC9fX1JBRElVU19fL2csIGZpbHRlcltuYW1lXS5yYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmJveFwiOlxuICAgICAgICAgICAgICAgICAgICB0bXBsR21sRmlsdGVyID0gdGhpcy50ZW1wbGF0ZS5nbWwuZmlsdGVyW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICB0bXBsR21sRmlsdGVyID0gdG1wbEdtbEZpbHRlci5yZXBsYWNlKC9fX0xFRlRfXy9nLCBmaWx0ZXJbbmFtZV0ubGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcGxHbWxGaWx0ZXIgPSB0bXBsR21sRmlsdGVyLnJlcGxhY2UoL19fQk9UVE9NX18vZywgZmlsdGVyW25hbWVdLmJvdHRvbSk7XG4gICAgICAgICAgICAgICAgICAgIHRtcGxHbWxGaWx0ZXIgPSB0bXBsR21sRmlsdGVyLnJlcGxhY2UoL19fUklHSFRfXy9nLCBmaWx0ZXJbbmFtZV0ucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB0bXBsR21sRmlsdGVyID0gdG1wbEdtbEZpbHRlci5yZXBsYWNlKC9fX1RPUF9fL2csIGZpbHRlcltuYW1lXS50b3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicG9seWdvblwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRSBpbXBsZW1lbnRhdGlvbiBzaW1wbGUgZHUgcG9seWdvbmUgIVxuICAgICAgICAgICAgICAgICAgICAvLyBhdWN1biB0ZXN0IGRlIGZlcm1ldHVyZSBkdSBwb2x5Z29uZSwgbmkgZGUgZ2VzdGlvbiBkZXMgdHJvdXMgIVxuICAgICAgICAgICAgICAgICAgICB0bXBsR21sRmlsdGVyID0gdGhpcy50ZW1wbGF0ZS5nbWwuZmlsdGVyW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyUG9pbnRzID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxzdFBvaW50cyA9IGZpbHRlcltuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsc3RQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb29yZCA9IGxzdFBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvb3JkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiSG9sZXMgYXJlIG5vdCBpbXBsZW1lbnRlZCAhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjb29yZC54ICYmIGNvb3JkLnkpIHx8IChjb29yZC54ID09PSAwIHx8IGNvb3JkLnkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyUG9pbnRzICs9IGNvb3JkLnggKyBcIiBcIiArIGNvb3JkLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobHN0UG9pbnRzLmxlbmd0aCAhPT0gaSArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJQb2ludHMgKz0gXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdG1wbEdtbEZpbHRlciA9IHRtcGxHbWxGaWx0ZXIucmVwbGFjZSgvX19YWV9fL2csIHN0clBvaW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBvbHlnb25cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkZpbHRlciAnXCIgKyBuYW1lICsgXCInIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJUaGlzIGZpbHRlciAnXCIgKyBuYW1lICsgXCInIGlzIG5vdCB1c2VmdWwgIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19HTUxQT0lOVF9fL2csIHRtcGxHbWxQb2ludCk7XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX0dNTEZJTFRFUl9fL2csIHRtcGxHbWxGaWx0ZXIpO1xuXG4gICAgdGhpcy5yZXF1ZXN0U3RyaW5nID0gdGVtcGxhdGU7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdFN0cmluZztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBvc2l0aW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Position.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Preference.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Preference.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n/**\n * @classdesc\n *\n * Preference (Reverse)\n *\n * FIXME liste des types de tables de geocodage\n *\n * ```\n * template : \"<ReverseGeocodePreference>__TYPE__</ReverseGeocodePreference>\"\n * ```\n *\n * @constructor\n * @alias Gp.Formats.XLS.LocationUtilityService.Preference\n * @param {String} type - type de table de geocodage\n *\n * @private\n *\n */\n\nfunction Preference (type) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Preference\");\n    this.logger.trace(\"[Constructeur Preference ()]\");\n\n    if (!(this instanceof Preference)) {\n        throw new TypeError(\"Preference constructor cannot be called as a function.\");\n    }\n\n    /**\n     * type de table de geocodage\n     * @type {Array.<String>}\n     */\n    this.type = type;\n}\n\n/**\n * @lends module:Preference#\n */\nPreference.prototype = {\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : Preference,\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Template de la requête.\n     *\n     * substitution des valeurs suivantes :\n     *  __TYPE__\n     *\n     */\n    template : \"<ReverseGeocodePreference>__TYPE__</ReverseGeocodePreference>\"\n};\n\n/**\n * toString\n *\n * @returns {String} requête\n */\nPreference.prototype.toString = function () {\n    var Preferences = [];\n    var tmplPreference = \"\";\n    for (var idx = 0; idx < this.type.length; idx++) {\n        tmplPreference = this.template;\n        tmplPreference = tmplPreference.replace(/__TYPE__/g, this.type[idx]);\n        Preferences.push(tmplPreference);\n    }\n\n    this.strRequest = Preferences.join(\"\\n\");\n    return this.strRequest;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Preference);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS9tb2RlbC9QcmVmZXJlbmNlLmpzP2I1NjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF1RDs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdCQUF3QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUseUVBQVUsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvTG9jYXRpb25VdGlsaXR5U2VydmljZS9tb2RlbC9QcmVmZXJlbmNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIFByZWZlcmVuY2UgKFJldmVyc2UpXG4gKlxuICogRklYTUUgbGlzdGUgZGVzIHR5cGVzIGRlIHRhYmxlcyBkZSBnZW9jb2RhZ2VcbiAqXG4gKiBgYGBcbiAqIHRlbXBsYXRlIDogXCI8UmV2ZXJzZUdlb2NvZGVQcmVmZXJlbmNlPl9fVFlQRV9fPC9SZXZlcnNlR2VvY29kZVByZWZlcmVuY2U+XCJcbiAqIGBgYFxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLkZvcm1hdHMuWExTLkxvY2F0aW9uVXRpbGl0eVNlcnZpY2UuUHJlZmVyZW5jZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSB0eXBlIGRlIHRhYmxlIGRlIGdlb2NvZGFnZVxuICpcbiAqIEBwcml2YXRlXG4gKlxuICovXG5cbmZ1bmN0aW9uIFByZWZlcmVuY2UgKHR5cGUpIHtcbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJQcmVmZXJlbmNlXCIpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBQcmVmZXJlbmNlICgpXVwiKTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcmVmZXJlbmNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJlZmVyZW5jZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHR5cGUgZGUgdGFibGUgZGUgZ2VvY29kYWdlXG4gICAgICogQHR5cGUge0FycmF5LjxTdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG59XG5cbi8qKlxuICogQGxlbmRzIG1vZHVsZTpQcmVmZXJlbmNlI1xuICovXG5QcmVmZXJlbmNlLnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBQcmVmZXJlbmNlLFxuXG4gICAgLyoqXG4gICAgICogcmVxdWVzdCAob3V0KVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgcmVxdWVzdFN0cmluZyA6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBkZSBsYSByZXF1w6p0ZS5cbiAgICAgKlxuICAgICAqIHN1YnN0aXR1dGlvbiBkZXMgdmFsZXVycyBzdWl2YW50ZXMgOlxuICAgICAqICBfX1RZUEVfX1xuICAgICAqXG4gICAgICovXG4gICAgdGVtcGxhdGUgOiBcIjxSZXZlcnNlR2VvY29kZVByZWZlcmVuY2U+X19UWVBFX188L1JldmVyc2VHZW9jb2RlUHJlZmVyZW5jZT5cIlxufTtcblxuLyoqXG4gKiB0b1N0cmluZ1xuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHJlcXXDqnRlXG4gKi9cblByZWZlcmVuY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBQcmVmZXJlbmNlcyA9IFtdO1xuICAgIHZhciB0bXBsUHJlZmVyZW5jZSA9IFwiXCI7XG4gICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgdGhpcy50eXBlLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgdG1wbFByZWZlcmVuY2UgPSB0aGlzLnRlbXBsYXRlO1xuICAgICAgICB0bXBsUHJlZmVyZW5jZSA9IHRtcGxQcmVmZXJlbmNlLnJlcGxhY2UoL19fVFlQRV9fL2csIHRoaXMudHlwZVtpZHhdKTtcbiAgICAgICAgUHJlZmVyZW5jZXMucHVzaCh0bXBsUHJlZmVyZW5jZSk7XG4gICAgfVxuXG4gICAgdGhpcy5zdHJSZXF1ZXN0ID0gUHJlZmVyZW5jZXMuam9pbihcIlxcblwiKTtcbiAgICByZXR1cm4gdGhpcy5zdHJSZXF1ZXN0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJlZmVyZW5jZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/model/Preference.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/Request.js":
/*!**********************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/Request.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* jshint bitwise: false */\n\n\n/**\n * @classdesc\n *\n * Requête XLS\n *\n * @example\n * // request XSL\n * request = new Request ();\n * request.maximumResponses = 26;\n * request.methodName = \"GeocodeRequest\";\n * request.version = \"1.2\";\n * request.toString();\n * // out ->\n * // <Request maximumResponses=\"26\" methodName=\"GeocodeRequest\" requestID=\"uid1349081498314_388\" version=\"1.2\">\n * //   <!-- __LUS__ -->\n * //  </Request>\n *\n * @constructor\n * @alias Gp.Formats.XLS.Request\n * @param {Object} options - options\n * @param {Object}   options.maximumResponses - 25\n * @param {String}   options.methodName - nom de l'objet LUS, \"GeocodeRequest\" | \"ReverseGeocodeRequest\"\n * @param {String}   options.version - '1.2'\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @private\n */\nfunction Request (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur Request ()]\");\n\n    if (!(this instanceof Request)) {\n        throw new TypeError(\"Request constructor cannot be called as a function.\");\n    }\n\n    // options par defaut\n    this.options = options || {\n        maximumResponses : 25,\n        methodName : null,\n        version : \"1.2\"\n    };\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n}\n\nRequest.prototype = {\n\n    /**\n     * @lends module:Request#\n     */\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Template de la requête.\n     * substitution des valeurs suivantes :\n     * __MAXRESPONSES__, __METHODNAME__, __UUID__, __VERSION__\n     * __REQUESTSERVICE__\n     */\n    template : \"<Request maximumResponses=\\\"__MAXRESPONSES__\\\" methodName=\\\"__METHODNAME__\\\" requestID=\\\"__UUID__\\\" version=\\\"__VERSION__\\\">\" +\n        \"<!-- __REQUESTSERVICE__ -->\" +\n        \"</Request>\",\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : Request,\n\n    /**\n     * an rfc4122 version 4 compliant guid\n     * @returns {String} guid\n     */\n    guid : function () {\n        // INFO\n        // cf. http://byronsalau.com/blog/how-to-create-a-guid-uuid-in-javascript/\n        return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0;\n            var v = c === \"x\" ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    },\n\n    /**\n     * toString\n     * @returns {String} requête\n     */\n    toString : function () {\n        var template = null;\n        template = this.template;\n        template = template.replace(/__MAXRESPONSES__/g, this.options.maximumResponses);\n        template = template.replace(/__METHODNAME__/g, this.options.methodName);\n        template = template.replace(/__UUID__/g, this.guid());\n        template = template.replace(/__VERSION__/g, this.options.version);\n\n        this.requestString = template;\n        return this.requestString;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Request);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvUmVxdWVzdC5qcz9iNzllIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsc0VBQU8sRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvUmVxdWVzdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGpzaGludCBiaXR3aXNlOiBmYWxzZSAqL1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIFJlcXXDqnRlIFhMU1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyByZXF1ZXN0IFhTTFxuICogcmVxdWVzdCA9IG5ldyBSZXF1ZXN0ICgpO1xuICogcmVxdWVzdC5tYXhpbXVtUmVzcG9uc2VzID0gMjY7XG4gKiByZXF1ZXN0Lm1ldGhvZE5hbWUgPSBcIkdlb2NvZGVSZXF1ZXN0XCI7XG4gKiByZXF1ZXN0LnZlcnNpb24gPSBcIjEuMlwiO1xuICogcmVxdWVzdC50b1N0cmluZygpO1xuICogLy8gb3V0IC0+XG4gKiAvLyA8UmVxdWVzdCBtYXhpbXVtUmVzcG9uc2VzPVwiMjZcIiBtZXRob2ROYW1lPVwiR2VvY29kZVJlcXVlc3RcIiByZXF1ZXN0SUQ9XCJ1aWQxMzQ5MDgxNDk4MzE0XzM4OFwiIHZlcnNpb249XCIxLjJcIj5cbiAqIC8vICAgPCEtLSBfX0xVU19fIC0tPlxuICogLy8gIDwvUmVxdWVzdD5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBHcC5Gb3JtYXRzLlhMUy5SZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMubWF4aW11bVJlc3BvbnNlcyAtIDI1XG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLm1ldGhvZE5hbWUgLSBub20gZGUgbCdvYmpldCBMVVMsIFwiR2VvY29kZVJlcXVlc3RcIiB8IFwiUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0XCJcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMudmVyc2lvbiAtICcxLjInXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uc3VjY2VzcyAtIGZ1bmN0aW9uIGNhbGxiYWNrIHN1Y2Nlc3MgKFRPRE8pXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uZXJyb3IgICAtIGZ1bmN0aW9uIGNhbGxiYWNrIGVycm9yICAgKFRPRE8pXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gUmVxdWVzdCAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBSZXF1ZXN0ICgpXVwiKTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUmVxdWVzdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIG9wdGlvbnMgcGFyIGRlZmF1dFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgICBtYXhpbXVtUmVzcG9uc2VzIDogMjUsXG4gICAgICAgIG1ldGhvZE5hbWUgOiBudWxsLFxuICAgICAgICB2ZXJzaW9uIDogXCIxLjJcIlxuICAgIH07XG5cbiAgICAvLyBldCBvbiBham91dGUgbGVzIG9wdGlvbnMgZW4gcGFyYW3DqHRyZSBhdXggb3B0aW9ucyBwYXIgZMOpZmF1dFxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5SZXF1ZXN0LnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEBsZW5kcyBtb2R1bGU6UmVxdWVzdCNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgKG91dClcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHJlcXVlc3RTdHJpbmcgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZGUgbGEgcmVxdcOqdGUuXG4gICAgICogc3Vic3RpdHV0aW9uIGRlcyB2YWxldXJzIHN1aXZhbnRlcyA6XG4gICAgICogX19NQVhSRVNQT05TRVNfXywgX19NRVRIT0ROQU1FX18sIF9fVVVJRF9fLCBfX1ZFUlNJT05fX1xuICAgICAqIF9fUkVRVUVTVFNFUlZJQ0VfX1xuICAgICAqL1xuICAgIHRlbXBsYXRlIDogXCI8UmVxdWVzdCBtYXhpbXVtUmVzcG9uc2VzPVxcXCJfX01BWFJFU1BPTlNFU19fXFxcIiBtZXRob2ROYW1lPVxcXCJfX01FVEhPRE5BTUVfX1xcXCIgcmVxdWVzdElEPVxcXCJfX1VVSURfX1xcXCIgdmVyc2lvbj1cXFwiX19WRVJTSU9OX19cXFwiPlwiICtcbiAgICAgICAgXCI8IS0tIF9fUkVRVUVTVFNFUlZJQ0VfXyAtLT5cIiArXG4gICAgICAgIFwiPC9SZXF1ZXN0PlwiLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciA6IFJlcXVlc3QsXG5cbiAgICAvKipcbiAgICAgKiBhbiByZmM0MTIyIHZlcnNpb24gNCBjb21wbGlhbnQgZ3VpZFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGd1aWRcbiAgICAgKi9cbiAgICBndWlkIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJTkZPXG4gICAgICAgIC8vIGNmLiBodHRwOi8vYnlyb25zYWxhdS5jb20vYmxvZy9ob3ctdG8tY3JlYXRlLWEtZ3VpZC11dWlkLWluLWphdmFzY3JpcHQvXG4gICAgICAgIHJldHVybiBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcbiAgICAgICAgICAgIHZhciB2ID0gYyA9PT0gXCJ4XCIgPyByIDogKHIgJiAweDMgfCAweDgpO1xuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXF1w6p0ZVxuICAgICAqL1xuICAgIHRvU3RyaW5nIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGVtcGxhdGUgPSBudWxsO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGU7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19NQVhSRVNQT05TRVNfXy9nLCB0aGlzLm9wdGlvbnMubWF4aW11bVJlc3BvbnNlcyk7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19NRVRIT0ROQU1FX18vZywgdGhpcy5vcHRpb25zLm1ldGhvZE5hbWUpO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fVVVJRF9fL2csIHRoaXMuZ3VpZCgpKTtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1ZFUlNJT05fXy9nLCB0aGlzLm9wdGlvbnMudmVyc2lvbik7XG5cbiAgICAgICAgdGhpcy5yZXF1ZXN0U3RyaW5nID0gdGVtcGxhdGU7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RTdHJpbmc7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVxdWVzdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/Request.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/RequestHeader.js":
/*!****************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/RequestHeader.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n/**\n * @classdesc\n *\n * Entête de la requête XSL\n *\n * @example\n * // header XSL\n * header = new RequestHeader ();\n * header.srsName = \"epsg:4326\";\n * header.toString();\n * // out ->\n * // <RequestHeader srsName=\"epsg:4326\"/>\n *\n * @constructor\n * @alias Gp.Formats.XLS.RequestHeader\n * @param {Object} options - options\n * @param {Object}   options.srsName - projection\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @private\n */\nfunction RequestHeader (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur RequestHeader ()]\");\n\n    if (!(this instanceof RequestHeader)) {\n        throw new TypeError(\"RequestHeader constructor cannot be called as a function.\");\n    }\n\n    // options par defaut\n    this.options = options || {\n        srsName : \"EPSG:4326\"\n    };\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n}\n\nRequestHeader.prototype = {\n\n    /**\n     * @lends module:RequestHeader#\n     */\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Template de la requête.\n     * substitution des valeurs suivantes :\n     * __SRSNAME__\n     */\n    template : \"<RequestHeader srsName=\\\"__SRSNAME__\\\"/>\",\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : RequestHeader,\n\n    /**\n     * toString\n     * @returns {String} requête\n     */\n    toString : function () {\n        var template = null;\n        template = this.template;\n        template = template.replace(/__SRSNAME__/g, this.options.srsName);\n        this.requestString = template;\n        return this.requestString;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RequestHeader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvUmVxdWVzdEhlYWRlci5qcz83ZmVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBaUQ7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSw0RUFBYSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Gb3JtYXRzL1hMUy9SZXF1ZXN0SGVhZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIEVudMOqdGUgZGUgbGEgcmVxdcOqdGUgWFNMXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGhlYWRlciBYU0xcbiAqIGhlYWRlciA9IG5ldyBSZXF1ZXN0SGVhZGVyICgpO1xuICogaGVhZGVyLnNyc05hbWUgPSBcImVwc2c6NDMyNlwiO1xuICogaGVhZGVyLnRvU3RyaW5nKCk7XG4gKiAvLyBvdXQgLT5cbiAqIC8vIDxSZXF1ZXN0SGVhZGVyIHNyc05hbWU9XCJlcHNnOjQzMjZcIi8+XG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuRm9ybWF0cy5YTFMuUmVxdWVzdEhlYWRlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gICBvcHRpb25zLnNyc05hbWUgLSBwcm9qZWN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uc3VjY2VzcyAtIGZ1bmN0aW9uIGNhbGxiYWNrIHN1Y2Nlc3MgKFRPRE8pXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uZXJyb3IgICAtIGZ1bmN0aW9uIGNhbGxiYWNrIGVycm9yICAgKFRPRE8pXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gUmVxdWVzdEhlYWRlciAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBSZXF1ZXN0SGVhZGVyICgpXVwiKTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXF1ZXN0SGVhZGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUmVxdWVzdEhlYWRlciBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIG9wdGlvbnMgcGFyIGRlZmF1dFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgICBzcnNOYW1lIDogXCJFUFNHOjQzMjZcIlxuICAgIH07XG5cbiAgICAvLyBldCBvbiBham91dGUgbGVzIG9wdGlvbnMgZW4gcGFyYW3DqHRyZSBhdXggb3B0aW9ucyBwYXIgZMOpZmF1dFxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5SZXF1ZXN0SGVhZGVyLnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEBsZW5kcyBtb2R1bGU6UmVxdWVzdEhlYWRlciNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgKG91dClcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHJlcXVlc3RTdHJpbmcgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZGUgbGEgcmVxdcOqdGUuXG4gICAgICogc3Vic3RpdHV0aW9uIGRlcyB2YWxldXJzIHN1aXZhbnRlcyA6XG4gICAgICogX19TUlNOQU1FX19cbiAgICAgKi9cbiAgICB0ZW1wbGF0ZSA6IFwiPFJlcXVlc3RIZWFkZXIgc3JzTmFtZT1cXFwiX19TUlNOQU1FX19cXFwiLz5cIixcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBSZXF1ZXN0SGVhZGVyLFxuXG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXF1w6p0ZVxuICAgICAqL1xuICAgIHRvU3RyaW5nIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGVtcGxhdGUgPSBudWxsO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGU7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19TUlNOQU1FX18vZywgdGhpcy5vcHRpb25zLnNyc05hbWUpO1xuICAgICAgICB0aGlzLnJlcXVlc3RTdHJpbmcgPSB0ZW1wbGF0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFN0cmluZztcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZXF1ZXN0SGVhZGVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/RequestHeader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService.js":
/*!***************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _AbstractService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AbstractService */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/AbstractService.js\");\n/* harmony import */ var _RouteService_DetermineRouteRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RouteService/DetermineRouteRequest */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/DetermineRouteRequest.js\");\n/* harmony import */ var _RouteService_RouteRequestExtension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RouteService/RouteRequestExtension */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/RouteRequestExtension.js\");\n/* harmony import */ var _RouteService_RouteRequestExtension__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RouteService_RouteRequestExtension__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n/**\n * @classdesc\n *\n * Requête de type RouteService\n * (Factory)\n *\n * XSD :\n * ----\n * [] => non implementé !\n *\n * ```\n * element name=\"DetermineRouteRequest\"\n *  [attribute name=\"provideRouteHandle\" default=\"false\"]\n *  attribute name=\"distanceUnit\"       default=\"M\"\n *      [element ref=\"xls:RouteHandle\" || element ref=\"xls:RoutePlan\"]\n *      element ref=\"xls:RoutePlan\"\n *      element ref=\"xls:RouteInstructionsRequest\"\n *      [element ref=\"xls:RouteGeometryRequest\"]\n *      [element ref=\"xls:RouteMapRequest\"]\n * ```\n * ```\n * element name=\"RoutePlan\"\n *  [attribute name=\"useRealTimeTraffic\" default=\"false\"]\n *  [attribute name=\"expectedStartTime\"  type=\"dateTime\"]\n *  [attribute name=\"expectedEndTime\"    type=\"dateTime\"]\n *      element ref=\"xls:RoutePreference\"\n *      element ref=\"xls:WayPointList\"\n *      element ref=\"xls:AvoidList\"\n * ```\n * ```\n * element name=\"RoutePreference\" => value = Fastest | Shortest | Pedestrian\n * ```\n * ```\n * element name=\"WayPointList\"\n *      element ref=\"xls:StartPoint\"\n *      element ref=\"xls:ViaPoint\" minOccurs=\"0\"\n *      element ref=\"xls:EndPoint\"\n * ```\n * ```\n * element name=\"StartPoint\"\n *    [element name=\"GeocodeMatchCode\"]\n *      [attribute name=\"accuracy\"]\n *      [attribute name=\"matchType\"] => value = City, Street, Street number, Street enhanced, ...\n *    element name=\"Position\"\n *      element ref=\"gml:Point\"\n * ```\n * ```\n * element name=\"ViaPoint\"\n *    [element name=\"GeocodeMatchCode\"]\n *      [attribute name=\"accuracy\"]\n *      [attribute name=\"matchType\"] => value = City, Street, Street number, Street enhanced, ...\n *    element name=\"Position\"\n *      element ref=\"gml:Point\"\n * ```\n * ```\n * element name=\"EndPoint\"\n *    [element name=\"GeocodeMatchCode\"]\n *      [attribute name=\"accuracy\"]\n *      [attribute name=\"matchType\"] => value = City, Street, Street number, Street enhanced, ...\n *    element name=\"Position\"\n *      element ref=\"gml:Point\"\n * ```\n * ```\n * element name=\"AvoidList\"\n *      [element ref=\"xls:AOI\"]\n *      [element ref=\"xls:_Location\"] (cf. element name=\"Position\")\n *      element ref=\"xls:AvoidFeature\"\n * ```\n * ```\n * [element name=\"AOI\"]\n *      [element ref=\"gml:CircleByCenterPoint\" || element ref=\"gml:Polygon\" || element ref=\"gml:Envelope\"]\n * ```\n * ```\n * element name=\"AvoidFeature\" => value = highway | tollway | tunnel | bridge\n * ```\n * ```\n * [element name=\"RouteMapRequest\"]\n *      [element name=\"Output\"]\n *          attribute name=\"width\"\n *          attribute name=\"height\"\n *          attribute name=\"format\"\n *          attribute name=\"BGcolor\"\n *          attribute name=\"transparent\"\n *          attribute name=\"style\" => value = Overview | Maneuver\n *          element name=\"BBoxContext\" type=\"gml:EnvelopeType\"\n * ```\n * ```\n * element name=\"RouteInstructionsRequest\"\n *  [attribute name=\"format\"]           default=\"text/plain\"\n *  attribute name=\"provideGeometry\"    default=\"false\"\n *  attribute name=\"provideBoundingBox\" default=\"false\"\n * ```\n * ```\n * [element name=\"RouteGeometryRequest\"]\n *  [attribute name=\"scale\"]                  default=\"1\"\n *  [attribute name=\"provideStartingPortion\"] default=\"false\"\n *  [attribute name=\"maxPoints\"]              default=\"100\"\n *      [element name=\"BoundingBox\" type=\"gml:EnvelopeType\" ]\n * ```\n *\n * --------\n * Requête :\n * --------\n * ```\n * <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n * <XLS\n * xmlns:xls=\"http://www.opengis.net/xls\"\n * xmlns:sch=\"http://www.ascc.net/xml/schematron\"\n * xmlns:gml=\"http://www.opengis.net/gml\"\n * xmlns:xlsext=\"http://www.opengis.net/xlsext\"\n * xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n * xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n * xsi:schemaLocation=\"http://www.opengis.net/xls http://schemas.opengis.net/ols/1.1.0/RouteService.xsd\"\n * version=\"1.1\" xls:lang=\"en\">\n * <RequestHeader/>\n * <Request methodName=\"RouteRequest\" requestID=\"123456789\" version=\"1.1\">\n *   <DetermineRouteRequest distanceUnit=\"KM\">\n *     <RoutePlan>\n *       <RoutePreference>Fastest</RoutePreference>\n *       <xlsext:vehicle name=\"Car\" />\n *       <WayPointList>\n *         <StartPoint>\n *           <Position><gml:Point srsName=\"EPSG:4326\"><gml:pos>2.29993 48.87228</gml:pos></gml:Point></Position>\n *         </StartPoint>\n *         <EndPoint>\n *           <Position><gml:Point srsName=\"EPSG:4326\"><gml:pos>-1.53604 47.21548</gml:pos></gml:Point></Position>\n *         </EndPoint>\n *       </WayPointList>\n *     </RoutePlan>\n *     <RouteInstructionsRequest provideGeometry=\"true\"/>\n *     <RouteGeometryRequest/>\n *   </DetermineRouteRequest>\n * </Request>\n * </XLS\n * ```\n * -----------\n * References :\n * -----------\n * - {@link https://geoportail.forge.ign.fr/jira/browse/GPP-CI}\n * - {@link https://geoportail.forge.ign.fr/jira/browse/GPP-CI-1 Specif. ols}\n * - {@link https://geoportail.forge.ign.fr/jira/browse/GPP-CI-9 Extension}\n * - {@link https://github.com/Emergya/openlayers/blob/master/lib/OpenLayers/Format/XLS/v1_2_0.js}\n *\n * @example\n * // encapsule un objet dans une coquille XSL, Factory sur les objets ''\n * rs = new RouteService ();\n * rs.addRequest (req);\n * rs.toString();\n *  ou\n * rs = new RouteService ({\n *      ...\n * });\n * rs.toString();\n *\n * @extends {Gp.Formats.XLS}\n * @constructor\n * @alias Gp.Formats.XLS.RouteService\n * @param {Object} options - options\n * @param {Object}   options.routePreference - « fastest », « shortest » ou « pedestrian »\n * @param {String}   options.startPoint - Point de départ (coordonnées exprimées en WGS84G)\n * @param {String}   options.viaPoint - Liste de points intermédiaires\n * @param {String}   options.endPoint - Point d'arrivée (coordonnées)\n * @param {Object}   options.avoidFeature - « highway », « tollway », « tunnel » ou « bridge »\n * @param {Object}   options.graph - « car »\n * @param {Object}   options.expectedStartTime - Date et heure de départ\n * @param {Object}   options.provideGeometry - true | false\n * @param {Object}   options.provideBoundingBox - true | false\n * @param {Object}   options.distanceUnit - Unité dans lesquelles la distance est exprimée (« m » ou « km »)\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @example\n * var options = {\n *      // spécifique au service\n *      startPoint: {\n *          x: 42.1121,\n *          y: 1.5557\n *      },\n *      endPoint: {\n *          x: 42.1121,\n *          y: 1.5557\n *      },\n *      viaPoint : [\n *          {x: 42.1121,y: 1.5557},\n *          {x: 42.1121,y: 1.5557},\n *          {x: 42.1121,y: 1.5557}\n *      ],\n *      provideBoundingBox : false,\n *      avoidFeature : [\"bridge\", \"tunnel\", \"tollway\"],\n *      expectedStartTime : \"2015-12-23\", // YYYY-MM-DDThh:mm:ssZ\n *      distanceUnit : \"km\",\n *      vehicle: \"car\",\n *      provideGeometry : false,\n *      routePreference : \"fastest\"\n * };\n *\n * @private\n */\nfunction RouteService (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur RouteService ()]\");\n\n    if (!(this instanceof RouteService)) {\n        throw new TypeError(\"RouteService constructor cannot be called as a function.\");\n    }\n\n    /**\n     * Nom de la classe\n     */\n    this.CLASSNAME = \"RouteService\";\n\n    /**\n     * Type de classe\n     * RouteRequest par defaut\n     */\n    this.CLASSTYPE = \"RouteRequest\";\n\n    // appel du constructeur par heritage\n    _AbstractService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].apply(this, arguments);\n}\n\n/**\n * @lends module:RouteService#\n */\nRouteService.prototype = Object.create(_AbstractService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/**\n * Constructeur (alias)\n */\nRouteService.prototype.constructor = RouteService;\n\n/**\n * (overwrite) Ajout d'un objet de type  : RouteRequest\n *\n * @param {Object} oRequest - RouteRequest\n */\nRouteService.prototype.addRequest = function (oRequest) {\n    // on controle les types acceptés\n    if (oRequest.CLASSNAME === \"DetermineRouteRequest\") {\n        this.oRequest = oRequest;\n    } else {\n        throw new Error(\"Ce n'est pas un objet de type 'Route Request' !?\");\n    }\n};\n\n/**\n * (overwrite) Ajout d'un objet de type RouteFilterExtension\n *\n * @param {Object} oFilter - RouteFilterExtension\n */\nRouteService.prototype.addFilter = function (oFilter) {\n    // gestion des extensions (vehicle)\n    if (oFilter instanceof _RouteService_RouteRequestExtension__WEBPACK_IMPORTED_MODULE_3___default.a) {\n        this.oFilter = oFilter;\n    }\n};\n\n/**\n * (overwrite) toString\n *\n * @returns {String} requête\n */\nRouteService.prototype.toString = function () {\n    // soit, on a un objet Request déjà instancié\n    // sinon, il faut le construire à partir des options à disposition\n    if (!this.oRequest) {\n        // il nous faut des options\n        if (!this.options) {\n            throw new Error(\"Les options ne sont pas renseignées, impossible de construire la requête !\");\n        }\n\n        if (this.CLASSTYPE === \"RouteRequest\") {\n            var settings = {\n                distanceUnit : this.options.distanceUnit || null,\n                provideGeometry : this.options.provideGeometry || null,\n                provideBoundingBox : this.options.provideBoundingBox || null,\n                route : {\n                    routePreference : this.options.routePreference || null,\n                    startPoint : this.options.startPoint,\n                    viaPoint : this.options.viaPoint || null,\n                    endPoint : this.options.endPoint,\n                    avoidFeature : this.options.avoidFeature || null,\n                    graph : this.options.graph || null,\n                    expectedStartTime : this.options.expectedStartTime || null\n                }\n            };\n            this.oRequest = new _RouteService_DetermineRouteRequest__WEBPACK_IMPORTED_MODULE_2__[\"default\"](settings);\n            // ajout des filtres spécifiques au service\n            if (this.oFilter) {\n                this.oRequest.addFilter(this.oFilter);\n            }\n        }\n    }\n\n    // objet indefini !?\n    if (!this.oRequest) {\n        throw new Error(\"Type de requête indefini !\");\n    }\n\n    this.strRequest = this.oRequest.toString();\n    return this.strRequest;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvUm91dGVTZXJ2aWNlLmpzP2Y0OTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWlEO0FBQ0Q7QUFDeUI7QUFDQTs7QUFFekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU07QUFDTixNQUFNO0FBQ04sTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsYUFBYSxxQkFBcUI7QUFDbEMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSx3REFBZTtBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsd0RBQWU7QUFDdEQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEVBQXFCO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywyRUFBcUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSwyRUFBWSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Gb3JtYXRzL1hMUy9Sb3V0ZVNlcnZpY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBBYnN0cmFjdFNlcnZpY2UgZnJvbSBcIi4vQWJzdHJhY3RTZXJ2aWNlXCI7XG5pbXBvcnQgRGV0ZXJtaW5lUm91dGVSZXF1ZXN0IGZyb20gXCIuL1JvdXRlU2VydmljZS9EZXRlcm1pbmVSb3V0ZVJlcXVlc3RcIjtcbmltcG9ydCBSb3V0ZVJlcXVlc3RFeHRlbnNpb24gZnJvbSBcIi4vUm91dGVTZXJ2aWNlL1JvdXRlUmVxdWVzdEV4dGVuc2lvblwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqXG4gKiBSZXF1w6p0ZSBkZSB0eXBlIFJvdXRlU2VydmljZVxuICogKEZhY3RvcnkpXG4gKlxuICogWFNEIDpcbiAqIC0tLS1cbiAqIFtdID0+IG5vbiBpbXBsZW1lbnTDqSAhXG4gKlxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJEZXRlcm1pbmVSb3V0ZVJlcXVlc3RcIlxuICogIFthdHRyaWJ1dGUgbmFtZT1cInByb3ZpZGVSb3V0ZUhhbmRsZVwiIGRlZmF1bHQ9XCJmYWxzZVwiXVxuICogIGF0dHJpYnV0ZSBuYW1lPVwiZGlzdGFuY2VVbml0XCIgICAgICAgZGVmYXVsdD1cIk1cIlxuICogICAgICBbZWxlbWVudCByZWY9XCJ4bHM6Um91dGVIYW5kbGVcIiB8fCBlbGVtZW50IHJlZj1cInhsczpSb3V0ZVBsYW5cIl1cbiAqICAgICAgZWxlbWVudCByZWY9XCJ4bHM6Um91dGVQbGFuXCJcbiAqICAgICAgZWxlbWVudCByZWY9XCJ4bHM6Um91dGVJbnN0cnVjdGlvbnNSZXF1ZXN0XCJcbiAqICAgICAgW2VsZW1lbnQgcmVmPVwieGxzOlJvdXRlR2VvbWV0cnlSZXF1ZXN0XCJdXG4gKiAgICAgIFtlbGVtZW50IHJlZj1cInhsczpSb3V0ZU1hcFJlcXVlc3RcIl1cbiAqIGBgYFxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJSb3V0ZVBsYW5cIlxuICogIFthdHRyaWJ1dGUgbmFtZT1cInVzZVJlYWxUaW1lVHJhZmZpY1wiIGRlZmF1bHQ9XCJmYWxzZVwiXVxuICogIFthdHRyaWJ1dGUgbmFtZT1cImV4cGVjdGVkU3RhcnRUaW1lXCIgIHR5cGU9XCJkYXRlVGltZVwiXVxuICogIFthdHRyaWJ1dGUgbmFtZT1cImV4cGVjdGVkRW5kVGltZVwiICAgIHR5cGU9XCJkYXRlVGltZVwiXVxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpSb3V0ZVByZWZlcmVuY2VcIlxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpXYXlQb2ludExpc3RcIlxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpBdm9pZExpc3RcIlxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIlJvdXRlUHJlZmVyZW5jZVwiID0+IHZhbHVlID0gRmFzdGVzdCB8IFNob3J0ZXN0IHwgUGVkZXN0cmlhblxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIldheVBvaW50TGlzdFwiXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwieGxzOlN0YXJ0UG9pbnRcIlxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpWaWFQb2ludFwiIG1pbk9jY3Vycz1cIjBcIlxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpFbmRQb2ludFwiXG4gKiBgYGBcbiAqIGBgYFxuICogZWxlbWVudCBuYW1lPVwiU3RhcnRQb2ludFwiXG4gKiAgICBbZWxlbWVudCBuYW1lPVwiR2VvY29kZU1hdGNoQ29kZVwiXVxuICogICAgICBbYXR0cmlidXRlIG5hbWU9XCJhY2N1cmFjeVwiXVxuICogICAgICBbYXR0cmlidXRlIG5hbWU9XCJtYXRjaFR5cGVcIl0gPT4gdmFsdWUgPSBDaXR5LCBTdHJlZXQsIFN0cmVldCBudW1iZXIsIFN0cmVldCBlbmhhbmNlZCwgLi4uXG4gKiAgICBlbGVtZW50IG5hbWU9XCJQb3NpdGlvblwiXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwiZ21sOlBvaW50XCJcbiAqIGBgYFxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJWaWFQb2ludFwiXG4gKiAgICBbZWxlbWVudCBuYW1lPVwiR2VvY29kZU1hdGNoQ29kZVwiXVxuICogICAgICBbYXR0cmlidXRlIG5hbWU9XCJhY2N1cmFjeVwiXVxuICogICAgICBbYXR0cmlidXRlIG5hbWU9XCJtYXRjaFR5cGVcIl0gPT4gdmFsdWUgPSBDaXR5LCBTdHJlZXQsIFN0cmVldCBudW1iZXIsIFN0cmVldCBlbmhhbmNlZCwgLi4uXG4gKiAgICBlbGVtZW50IG5hbWU9XCJQb3NpdGlvblwiXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwiZ21sOlBvaW50XCJcbiAqIGBgYFxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJFbmRQb2ludFwiXG4gKiAgICBbZWxlbWVudCBuYW1lPVwiR2VvY29kZU1hdGNoQ29kZVwiXVxuICogICAgICBbYXR0cmlidXRlIG5hbWU9XCJhY2N1cmFjeVwiXVxuICogICAgICBbYXR0cmlidXRlIG5hbWU9XCJtYXRjaFR5cGVcIl0gPT4gdmFsdWUgPSBDaXR5LCBTdHJlZXQsIFN0cmVldCBudW1iZXIsIFN0cmVldCBlbmhhbmNlZCwgLi4uXG4gKiAgICBlbGVtZW50IG5hbWU9XCJQb3NpdGlvblwiXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwiZ21sOlBvaW50XCJcbiAqIGBgYFxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJBdm9pZExpc3RcIlxuICogICAgICBbZWxlbWVudCByZWY9XCJ4bHM6QU9JXCJdXG4gKiAgICAgIFtlbGVtZW50IHJlZj1cInhsczpfTG9jYXRpb25cIl0gKGNmLiBlbGVtZW50IG5hbWU9XCJQb3NpdGlvblwiKVxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpBdm9pZEZlYXR1cmVcIlxuICogYGBgXG4gKiBgYGBcbiAqIFtlbGVtZW50IG5hbWU9XCJBT0lcIl1cbiAqICAgICAgW2VsZW1lbnQgcmVmPVwiZ21sOkNpcmNsZUJ5Q2VudGVyUG9pbnRcIiB8fCBlbGVtZW50IHJlZj1cImdtbDpQb2x5Z29uXCIgfHwgZWxlbWVudCByZWY9XCJnbWw6RW52ZWxvcGVcIl1cbiAqIGBgYFxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJBdm9pZEZlYXR1cmVcIiA9PiB2YWx1ZSA9IGhpZ2h3YXkgfCB0b2xsd2F5IHwgdHVubmVsIHwgYnJpZGdlXG4gKiBgYGBcbiAqIGBgYFxuICogW2VsZW1lbnQgbmFtZT1cIlJvdXRlTWFwUmVxdWVzdFwiXVxuICogICAgICBbZWxlbWVudCBuYW1lPVwiT3V0cHV0XCJdXG4gKiAgICAgICAgICBhdHRyaWJ1dGUgbmFtZT1cIndpZHRoXCJcbiAqICAgICAgICAgIGF0dHJpYnV0ZSBuYW1lPVwiaGVpZ2h0XCJcbiAqICAgICAgICAgIGF0dHJpYnV0ZSBuYW1lPVwiZm9ybWF0XCJcbiAqICAgICAgICAgIGF0dHJpYnV0ZSBuYW1lPVwiQkdjb2xvclwiXG4gKiAgICAgICAgICBhdHRyaWJ1dGUgbmFtZT1cInRyYW5zcGFyZW50XCJcbiAqICAgICAgICAgIGF0dHJpYnV0ZSBuYW1lPVwic3R5bGVcIiA9PiB2YWx1ZSA9IE92ZXJ2aWV3IHwgTWFuZXV2ZXJcbiAqICAgICAgICAgIGVsZW1lbnQgbmFtZT1cIkJCb3hDb250ZXh0XCIgdHlwZT1cImdtbDpFbnZlbG9wZVR5cGVcIlxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIlJvdXRlSW5zdHJ1Y3Rpb25zUmVxdWVzdFwiXG4gKiAgW2F0dHJpYnV0ZSBuYW1lPVwiZm9ybWF0XCJdICAgICAgICAgICBkZWZhdWx0PVwidGV4dC9wbGFpblwiXG4gKiAgYXR0cmlidXRlIG5hbWU9XCJwcm92aWRlR2VvbWV0cnlcIiAgICBkZWZhdWx0PVwiZmFsc2VcIlxuICogIGF0dHJpYnV0ZSBuYW1lPVwicHJvdmlkZUJvdW5kaW5nQm94XCIgZGVmYXVsdD1cImZhbHNlXCJcbiAqIGBgYFxuICogYGBgXG4gKiBbZWxlbWVudCBuYW1lPVwiUm91dGVHZW9tZXRyeVJlcXVlc3RcIl1cbiAqICBbYXR0cmlidXRlIG5hbWU9XCJzY2FsZVwiXSAgICAgICAgICAgICAgICAgIGRlZmF1bHQ9XCIxXCJcbiAqICBbYXR0cmlidXRlIG5hbWU9XCJwcm92aWRlU3RhcnRpbmdQb3J0aW9uXCJdIGRlZmF1bHQ9XCJmYWxzZVwiXG4gKiAgW2F0dHJpYnV0ZSBuYW1lPVwibWF4UG9pbnRzXCJdICAgICAgICAgICAgICBkZWZhdWx0PVwiMTAwXCJcbiAqICAgICAgW2VsZW1lbnQgbmFtZT1cIkJvdW5kaW5nQm94XCIgdHlwZT1cImdtbDpFbnZlbG9wZVR5cGVcIiBdXG4gKiBgYGBcbiAqXG4gKiAtLS0tLS0tLVxuICogUmVxdcOqdGUgOlxuICogLS0tLS0tLS1cbiAqIGBgYFxuICogPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gKiA8WExTXG4gKiB4bWxuczp4bHM9XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3hsc1wiXG4gKiB4bWxuczpzY2g9XCJodHRwOi8vd3d3LmFzY2MubmV0L3htbC9zY2hlbWF0cm9uXCJcbiAqIHhtbG5zOmdtbD1cImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCJcbiAqIHhtbG5zOnhsc2V4dD1cImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzZXh0XCJcbiAqIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gKiB4bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiXG4gKiB4c2k6c2NoZW1hTG9jYXRpb249XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3hscyBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9vbHMvMS4xLjAvUm91dGVTZXJ2aWNlLnhzZFwiXG4gKiB2ZXJzaW9uPVwiMS4xXCIgeGxzOmxhbmc9XCJlblwiPlxuICogPFJlcXVlc3RIZWFkZXIvPlxuICogPFJlcXVlc3QgbWV0aG9kTmFtZT1cIlJvdXRlUmVxdWVzdFwiIHJlcXVlc3RJRD1cIjEyMzQ1Njc4OVwiIHZlcnNpb249XCIxLjFcIj5cbiAqICAgPERldGVybWluZVJvdXRlUmVxdWVzdCBkaXN0YW5jZVVuaXQ9XCJLTVwiPlxuICogICAgIDxSb3V0ZVBsYW4+XG4gKiAgICAgICA8Um91dGVQcmVmZXJlbmNlPkZhc3Rlc3Q8L1JvdXRlUHJlZmVyZW5jZT5cbiAqICAgICAgIDx4bHNleHQ6dmVoaWNsZSBuYW1lPVwiQ2FyXCIgLz5cbiAqICAgICAgIDxXYXlQb2ludExpc3Q+XG4gKiAgICAgICAgIDxTdGFydFBvaW50PlxuICogICAgICAgICAgIDxQb3NpdGlvbj48Z21sOlBvaW50IHNyc05hbWU9XCJFUFNHOjQzMjZcIj48Z21sOnBvcz4yLjI5OTkzIDQ4Ljg3MjI4PC9nbWw6cG9zPjwvZ21sOlBvaW50PjwvUG9zaXRpb24+XG4gKiAgICAgICAgIDwvU3RhcnRQb2ludD5cbiAqICAgICAgICAgPEVuZFBvaW50PlxuICogICAgICAgICAgIDxQb3NpdGlvbj48Z21sOlBvaW50IHNyc05hbWU9XCJFUFNHOjQzMjZcIj48Z21sOnBvcz4tMS41MzYwNCA0Ny4yMTU0ODwvZ21sOnBvcz48L2dtbDpQb2ludD48L1Bvc2l0aW9uPlxuICogICAgICAgICA8L0VuZFBvaW50PlxuICogICAgICAgPC9XYXlQb2ludExpc3Q+XG4gKiAgICAgPC9Sb3V0ZVBsYW4+XG4gKiAgICAgPFJvdXRlSW5zdHJ1Y3Rpb25zUmVxdWVzdCBwcm92aWRlR2VvbWV0cnk9XCJ0cnVlXCIvPlxuICogICAgIDxSb3V0ZUdlb21ldHJ5UmVxdWVzdC8+XG4gKiAgIDwvRGV0ZXJtaW5lUm91dGVSZXF1ZXN0PlxuICogPC9SZXF1ZXN0PlxuICogPC9YTFNcbiAqIGBgYFxuICogLS0tLS0tLS0tLS1cbiAqIFJlZmVyZW5jZXMgOlxuICogLS0tLS0tLS0tLS1cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2VvcG9ydGFpbC5mb3JnZS5pZ24uZnIvamlyYS9icm93c2UvR1BQLUNJfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9nZW9wb3J0YWlsLmZvcmdlLmlnbi5mci9qaXJhL2Jyb3dzZS9HUFAtQ0ktMSBTcGVjaWYuIG9sc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2VvcG9ydGFpbC5mb3JnZS5pZ24uZnIvamlyYS9icm93c2UvR1BQLUNJLTkgRXh0ZW5zaW9ufVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0VtZXJneWEvb3BlbmxheWVycy9ibG9iL21hc3Rlci9saWIvT3BlbkxheWVycy9Gb3JtYXQvWExTL3YxXzJfMC5qc31cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gZW5jYXBzdWxlIHVuIG9iamV0IGRhbnMgdW5lIGNvcXVpbGxlIFhTTCwgRmFjdG9yeSBzdXIgbGVzIG9iamV0cyAnJ1xuICogcnMgPSBuZXcgUm91dGVTZXJ2aWNlICgpO1xuICogcnMuYWRkUmVxdWVzdCAocmVxKTtcbiAqIHJzLnRvU3RyaW5nKCk7XG4gKiAgb3VcbiAqIHJzID0gbmV3IFJvdXRlU2VydmljZSAoe1xuICogICAgICAuLi5cbiAqIH0pO1xuICogcnMudG9TdHJpbmcoKTtcbiAqXG4gKiBAZXh0ZW5kcyB7R3AuRm9ybWF0cy5YTFN9XG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBHcC5Gb3JtYXRzLlhMUy5Sb3V0ZVNlcnZpY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5yb3V0ZVByZWZlcmVuY2UgLSDCqyBmYXN0ZXN0IMK7LCDCqyBzaG9ydGVzdCDCuyBvdSDCqyBwZWRlc3RyaWFuIMK7XG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLnN0YXJ0UG9pbnQgLSBQb2ludCBkZSBkw6lwYXJ0IChjb29yZG9ubsOpZXMgZXhwcmltw6llcyBlbiBXR1M4NEcpXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLnZpYVBvaW50IC0gTGlzdGUgZGUgcG9pbnRzIGludGVybcOpZGlhaXJlc1xuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5lbmRQb2ludCAtIFBvaW50IGQnYXJyaXbDqWUgKGNvb3Jkb25uw6llcylcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMuYXZvaWRGZWF0dXJlIC0gwqsgaGlnaHdheSDCuywgwqsgdG9sbHdheSDCuywgwqsgdHVubmVsIMK7IG91IMKrIGJyaWRnZSDCu1xuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5ncmFwaCAtIMKrIGNhciDCu1xuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5leHBlY3RlZFN0YXJ0VGltZSAtIERhdGUgZXQgaGV1cmUgZGUgZMOpcGFydFxuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5wcm92aWRlR2VvbWV0cnkgLSB0cnVlIHwgZmFsc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMucHJvdmlkZUJvdW5kaW5nQm94IC0gdHJ1ZSB8IGZhbHNlXG4gKiBAcGFyYW0ge09iamVjdH0gICBvcHRpb25zLmRpc3RhbmNlVW5pdCAtIFVuaXTDqSBkYW5zIGxlc3F1ZWxsZXMgbGEgZGlzdGFuY2UgZXN0IGV4cHJpbcOpZSAowqsgbSDCuyBvdSDCqyBrbSDCuylcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMub25zdWNjZXNzIC0gZnVuY3Rpb24gY2FsbGJhY2sgc3VjY2VzcyAoVE9ETylcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMub25lcnJvciAgIC0gZnVuY3Rpb24gY2FsbGJhY2sgZXJyb3IgICAoVE9ETylcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIG9wdGlvbnMgPSB7XG4gKiAgICAgIC8vIHNww6ljaWZpcXVlIGF1IHNlcnZpY2VcbiAqICAgICAgc3RhcnRQb2ludDoge1xuICogICAgICAgICAgeDogNDIuMTEyMSxcbiAqICAgICAgICAgIHk6IDEuNTU1N1xuICogICAgICB9LFxuICogICAgICBlbmRQb2ludDoge1xuICogICAgICAgICAgeDogNDIuMTEyMSxcbiAqICAgICAgICAgIHk6IDEuNTU1N1xuICogICAgICB9LFxuICogICAgICB2aWFQb2ludCA6IFtcbiAqICAgICAgICAgIHt4OiA0Mi4xMTIxLHk6IDEuNTU1N30sXG4gKiAgICAgICAgICB7eDogNDIuMTEyMSx5OiAxLjU1NTd9LFxuICogICAgICAgICAge3g6IDQyLjExMjEseTogMS41NTU3fVxuICogICAgICBdLFxuICogICAgICBwcm92aWRlQm91bmRpbmdCb3ggOiBmYWxzZSxcbiAqICAgICAgYXZvaWRGZWF0dXJlIDogW1wiYnJpZGdlXCIsIFwidHVubmVsXCIsIFwidG9sbHdheVwiXSxcbiAqICAgICAgZXhwZWN0ZWRTdGFydFRpbWUgOiBcIjIwMTUtMTItMjNcIiwgLy8gWVlZWS1NTS1ERFRoaDptbTpzc1pcbiAqICAgICAgZGlzdGFuY2VVbml0IDogXCJrbVwiLFxuICogICAgICB2ZWhpY2xlOiBcImNhclwiLFxuICogICAgICBwcm92aWRlR2VvbWV0cnkgOiBmYWxzZSxcbiAqICAgICAgcm91dGVQcmVmZXJlbmNlIDogXCJmYXN0ZXN0XCJcbiAqIH07XG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gUm91dGVTZXJ2aWNlIChvcHRpb25zKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKCk7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIFJvdXRlU2VydmljZSAoKV1cIik7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUm91dGVTZXJ2aWNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUm91dGVTZXJ2aWNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm9tIGRlIGxhIGNsYXNzZVxuICAgICAqL1xuICAgIHRoaXMuQ0xBU1NOQU1FID0gXCJSb3V0ZVNlcnZpY2VcIjtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgZGUgY2xhc3NlXG4gICAgICogUm91dGVSZXF1ZXN0IHBhciBkZWZhdXRcbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTVFlQRSA9IFwiUm91dGVSZXF1ZXN0XCI7XG5cbiAgICAvLyBhcHBlbCBkdSBjb25zdHJ1Y3RldXIgcGFyIGhlcml0YWdlXG4gICAgQWJzdHJhY3RTZXJ2aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogQGxlbmRzIG1vZHVsZTpSb3V0ZVNlcnZpY2UjXG4gKi9cblJvdXRlU2VydmljZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0U2VydmljZS5wcm90b3R5cGUsIHtcbiAgICAvLyB0b2RvXG4gICAgLy8gZ2V0dGVyL3NldHRlclxufSk7XG5cbi8qKlxuICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAqL1xuUm91dGVTZXJ2aWNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJvdXRlU2VydmljZTtcblxuLyoqXG4gKiAob3ZlcndyaXRlKSBBam91dCBkJ3VuIG9iamV0IGRlIHR5cGUgIDogUm91dGVSZXF1ZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9SZXF1ZXN0IC0gUm91dGVSZXF1ZXN0XG4gKi9cblJvdXRlU2VydmljZS5wcm90b3R5cGUuYWRkUmVxdWVzdCA9IGZ1bmN0aW9uIChvUmVxdWVzdCkge1xuICAgIC8vIG9uIGNvbnRyb2xlIGxlcyB0eXBlcyBhY2NlcHTDqXNcbiAgICBpZiAob1JlcXVlc3QuQ0xBU1NOQU1FID09PSBcIkRldGVybWluZVJvdXRlUmVxdWVzdFwiKSB7XG4gICAgICAgIHRoaXMub1JlcXVlc3QgPSBvUmVxdWVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDZSBuJ2VzdCBwYXMgdW4gb2JqZXQgZGUgdHlwZSAnUm91dGUgUmVxdWVzdCcgIT9cIik7XG4gICAgfVxufTtcblxuLyoqXG4gKiAob3ZlcndyaXRlKSBBam91dCBkJ3VuIG9iamV0IGRlIHR5cGUgUm91dGVGaWx0ZXJFeHRlbnNpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb0ZpbHRlciAtIFJvdXRlRmlsdGVyRXh0ZW5zaW9uXG4gKi9cblJvdXRlU2VydmljZS5wcm90b3R5cGUuYWRkRmlsdGVyID0gZnVuY3Rpb24gKG9GaWx0ZXIpIHtcbiAgICAvLyBnZXN0aW9uIGRlcyBleHRlbnNpb25zICh2ZWhpY2xlKVxuICAgIGlmIChvRmlsdGVyIGluc3RhbmNlb2YgUm91dGVSZXF1ZXN0RXh0ZW5zaW9uKSB7XG4gICAgICAgIHRoaXMub0ZpbHRlciA9IG9GaWx0ZXI7XG4gICAgfVxufTtcblxuLyoqXG4gKiAob3ZlcndyaXRlKSB0b1N0cmluZ1xuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHJlcXXDqnRlXG4gKi9cblJvdXRlU2VydmljZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gc29pdCwgb24gYSB1biBvYmpldCBSZXF1ZXN0IGTDqWrDoCBpbnN0YW5jacOpXG4gICAgLy8gc2lub24sIGlsIGZhdXQgbGUgY29uc3RydWlyZSDDoCBwYXJ0aXIgZGVzIG9wdGlvbnMgw6AgZGlzcG9zaXRpb25cbiAgICBpZiAoIXRoaXMub1JlcXVlc3QpIHtcbiAgICAgICAgLy8gaWwgbm91cyBmYXV0IGRlcyBvcHRpb25zXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZXMgb3B0aW9ucyBuZSBzb250IHBhcyByZW5zZWlnbsOpZXMsIGltcG9zc2libGUgZGUgY29uc3RydWlyZSBsYSByZXF1w6p0ZSAhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuQ0xBU1NUWVBFID09PSBcIlJvdXRlUmVxdWVzdFwiKSB7XG4gICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VVbml0IDogdGhpcy5vcHRpb25zLmRpc3RhbmNlVW5pdCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVHZW9tZXRyeSA6IHRoaXMub3B0aW9ucy5wcm92aWRlR2VvbWV0cnkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBwcm92aWRlQm91bmRpbmdCb3ggOiB0aGlzLm9wdGlvbnMucHJvdmlkZUJvdW5kaW5nQm94IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgcm91dGUgOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlUHJlZmVyZW5jZSA6IHRoaXMub3B0aW9ucy5yb3V0ZVByZWZlcmVuY2UgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRQb2ludCA6IHRoaXMub3B0aW9ucy5zdGFydFBvaW50LFxuICAgICAgICAgICAgICAgICAgICB2aWFQb2ludCA6IHRoaXMub3B0aW9ucy52aWFQb2ludCB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBlbmRQb2ludCA6IHRoaXMub3B0aW9ucy5lbmRQb2ludCxcbiAgICAgICAgICAgICAgICAgICAgYXZvaWRGZWF0dXJlIDogdGhpcy5vcHRpb25zLmF2b2lkRmVhdHVyZSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBncmFwaCA6IHRoaXMub3B0aW9ucy5ncmFwaCB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFN0YXJ0VGltZSA6IHRoaXMub3B0aW9ucy5leHBlY3RlZFN0YXJ0VGltZSB8fCBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub1JlcXVlc3QgPSBuZXcgRGV0ZXJtaW5lUm91dGVSZXF1ZXN0KHNldHRpbmdzKTtcbiAgICAgICAgICAgIC8vIGFqb3V0IGRlcyBmaWx0cmVzIHNww6ljaWZpcXVlcyBhdSBzZXJ2aWNlXG4gICAgICAgICAgICBpZiAodGhpcy5vRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vUmVxdWVzdC5hZGRGaWx0ZXIodGhpcy5vRmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9iamV0IGluZGVmaW5pICE/XG4gICAgaWYgKCF0aGlzLm9SZXF1ZXN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlR5cGUgZGUgcmVxdcOqdGUgaW5kZWZpbmkgIVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0clJlcXVlc3QgPSB0aGlzLm9SZXF1ZXN0LnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHRoaXMuc3RyUmVxdWVzdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlU2VydmljZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/DetermineRouteRequest.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/DetermineRouteRequest.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _model_RoutePlan__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model/RoutePlan */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/model/RoutePlan.js\");\n\n\n\n/**\n * @classdesc\n *\n * Requête de calcul d'itinéraire\n *\n * ----\n * XSD :\n * ----\n * [] => non implementé !\n *\n * ```\n * element name=\"DetermineRouteRequest\"\n *  [attribute name=\"provideRouteHandle\" default=\"false\"]\n *  attribute name=\"distanceUnit\"       default=\"M\"\n *      [element ref=\"xls:RouteHandle\" || element ref=\"xls:RoutePlan\"]\n *      element ref=\"xls:RoutePlan\"\n *      element ref=\"xls:RouteInstructionsRequest\"\n *      [element ref=\"xls:RouteGeometryRequest\"]\n *      [element ref=\"xls:RouteMapRequest\"]\n * ```\n * ```\n * element name=\"RouteInstructionsRequest\"\n *  [attribute name=\"format\"]           default=\"text/plain\"\n *  attribute name=\"provideGeometry\"    default=\"false\"\n *  attribute name=\"provideBoundingBox\" default=\"false\"\n * ```\n * ```\n * element name=\"RouteGeometryRequest\"\n *  [attribute name=\"scale\"]                  default=\"1\"\n *  [attribute name=\"provideStartingPortion\"] default=\"false\"\n *  [attribute name=\"maxPoints\"]              default=\"100\"\n *      [element name=\"BoundingBox\" type=\"gml:EnvelopeType\" ]\n * ```\n * ```\n * [element name=\"RouteMapRequest\"]\n *      [element name=\"Output\"]\n *          [attribute name=\"width\"]\n *          [attribute name=\"height\"]\n *          [attribute name=\"format\"]\n *          [attribute name=\"BGcolor\"]\n *          [attribute name=\"transparent\"]\n *          [attribute name=\"style\"] => value = Overview | Maneuver\n *          [element name=\"BBoxContext\" type=\"gml:EnvelopeType\"]\n * ```\n *\n * --------\n * Requête :\n * --------\n * ```\n *   <DetermineRouteRequest distanceUnit=\"KM\">\n *     <RoutePlan>\n *              <RoutePreference>Fastest</RoutePreference>\n *              <xlsext:vehicle name=\"Car\" />\n *              <WayPointList>\n *                  <StartPoint>\n *                      <Position><gml:Point srsName=\"EPSG:4326\"><gml:pos>2.29993 48.87228</gml:pos></gml:Point></Position>\n *                  </StartPoint>\n *                  <EndPoint>\n *                      <Position><gml:Point srsName=\"EPSG:4326\"><gml:pos>-1.53604 47.21548</gml:pos></gml:Point></Position>\n *                  </EndPoint>\n *              </WayPointList>\n *     </RoutePlan>\n *     <RouteInstructionsRequest provideGeometry=\"true\"/>\n *     <RouteGeometryRequest/>\n *   </DetermineRouteRequest>\n * ```\n *\n * @constructor\n * @alias Gp.Formats.XLS.RouteService.DetermineRouteRequest\n * @param {Object} options - options\n * @param {Object}   options.route.routePreference - « fastest », « shortest » ou « pedestrian »\n * @param {String}   options.route.startPoint - Point de départ (coordonnées exprimées en WGS84G)\n * @param {String}   options.route.viaPoint - Liste de points intermédiaires\n * @param {String}   options.route.endPoint - Point d'arrivée (coordonnées)\n * @param {Object}   options.route.avoidFeature - « highway », « tollway », « tunnel » ou « bridge »\n * @param {Object}   options.route.vehicle - « car »\n * @param {Object}   options.route.expectedStartTime - Date et heure de départ\n * @param {Object}   options.provideGeometry - true | false\n * @param {Object}   options.provideBoundingBox - true | false\n * @param {Object}   options.distanceUnit - Unité dans lesquelles la distance est exprimée (« m » ou « km »)\n * @param {Function} options.onsuccess - function callback success (TODO)\n * @param {Function} options.onerror   - function callback error   (TODO)\n *\n * @private\n */\nfunction DetermineRouteRequest (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur DetermineRouteRequest ()]\");\n\n    if (!(this instanceof DetermineRouteRequest)) {\n        throw new TypeError(\"DetermineRouteRequest constructor cannot be called as a function.\");\n    }\n\n    // options par defaut\n    this.options = options || {};\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     */\n    this.CLASSNAME = \"DetermineRouteRequest\";\n}\n\nDetermineRouteRequest.prototype = {\n\n    /**\n     * @lends module:DetermineRouteRequest#\n     */\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    strRequest : null,\n\n    /**\n     * RoutePlan\n     * @type {Address}\n     */\n    oRoutePlan : null,\n\n    /**\n     * Template de la requête.\n     * substitution des valeurs suivantes :\n     * __DISTANCEUNIT__,\n     * __ROUTEPLAN__, __ROUTEINSTRUCTIONREQUEST__, __ROUTEGEOMETRYREQUEST__, __ROUTEMAPREQUEST__\n     * __PROVIDEGEOMETRY__, __PROVIDEBBOX__\n     */\n    template : {\n        determineRouteRequest : \"<DetermineRouteRequest distanceUnit=\\\"__DISTANCEUNIT__\\\">\" +\n            \"__ROUTEPLAN__\" +\n            \"__ROUTEINSTRUCTIONREQUEST__\" +\n            \"__ROUTEGEOMETRYREQUEST__\" +\n            \"__ROUTEMAPREQUEST__\" +\n            \"</DetermineRouteRequest>\",\n        routeInstructionRequest : \"<RouteInstructionsRequest \" +\n            \"provideGeometry=\\\"__PROVIDEGEOMETRY__\\\" \" +\n            \"provideBoundingBox=\\\"__PROVIDEBBOX__\\\" />\",\n        routeGeometryRequest : \"<RouteGeometryRequest />\",\n        routeMapRequest : \"\" // FIXME <RouteMapRequest/> not yet implemented !\n    },\n\n    /**\n     * Ajout d'un objet de type RoutePlan\n     *\n     * @param {Object} oRoutePlan - RoutePlan\n     */\n    addRoute : function (oRoutePlan) {\n        if (oRoutePlan instanceof _model_RoutePlan__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n            this.oRoutePlan = oRoutePlan;\n        }\n    },\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : DetermineRouteRequest,\n\n    /**\n     * toString\n     *\n     * @returns {String} requête\n     */\n    toString : function () {\n        var template = \"\";\n        template = this.template.determineRouteRequest;\n        template = template.replace(/__DISTANCEUNIT__/g, this.options.distanceUnit || \"KM\");\n\n        // soit on a déjà un objet RoutePlan instancié,\n        // sinon, on le fabrique via les options\n        if (!this.oRoutePlan) {\n            var settings = this.options.route;\n\n            this.oRoutePlan = new _model_RoutePlan__WEBPACK_IMPORTED_MODULE_1__[\"default\"](settings);\n            if (!this.oRoutePlan) {\n                throw new Error(\"La construction du calcul d'initineraire n'est pas correctement definie !?\");\n            }\n        }\n\n        // routeplan\n        template = template.replace(/__ROUTEPLAN__/g, this.oRoutePlan.toString());\n\n        // instruction\n        var tmplInstruction = this.template.routeInstructionRequest;\n        tmplInstruction = tmplInstruction.replace(/__PROVIDEGEOMETRY__/g, this.options.provideGeometry || false);\n        tmplInstruction = tmplInstruction.replace(/__PROVIDEBBOX__/g, this.options.provideBoundingBox || false);\n        template = template.replace(/__ROUTEINSTRUCTIONREQUEST__/g, tmplInstruction);\n\n        // geometry\n        var tmplGeometry = this.template.routeGeometryRequest;\n        template = template.replace(/__ROUTEGEOMETRYREQUEST__/g, tmplGeometry);\n\n        // map\n        var tmplMap = this.template.routeMapRequest;\n        template = template.replace(/__ROUTEMAPREQUEST__/g, tmplMap);\n\n        this.strRequest = template;\n        return this.strRequest;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DetermineRouteRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvUm91dGVTZXJ2aWNlL0RldGVybWluZVJvdXRlUmVxdWVzdC5qcz9iYmIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFvRDtBQUNWOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0Esa0NBQWtDLHdEQUFTO0FBQzNDO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLHdEQUFTO0FBQzNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLG9GQUFxQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Gb3JtYXRzL1hMUy9Sb3V0ZVNlcnZpY2UvRGV0ZXJtaW5lUm91dGVSZXF1ZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgUm91dGVQbGFuIGZyb20gXCIuL21vZGVsL1JvdXRlUGxhblwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqXG4gKiBSZXF1w6p0ZSBkZSBjYWxjdWwgZCdpdGluw6lyYWlyZVxuICpcbiAqIC0tLS1cbiAqIFhTRCA6XG4gKiAtLS0tXG4gKiBbXSA9PiBub24gaW1wbGVtZW50w6kgIVxuICpcbiAqIGBgYFxuICogZWxlbWVudCBuYW1lPVwiRGV0ZXJtaW5lUm91dGVSZXF1ZXN0XCJcbiAqICBbYXR0cmlidXRlIG5hbWU9XCJwcm92aWRlUm91dGVIYW5kbGVcIiBkZWZhdWx0PVwiZmFsc2VcIl1cbiAqICBhdHRyaWJ1dGUgbmFtZT1cImRpc3RhbmNlVW5pdFwiICAgICAgIGRlZmF1bHQ9XCJNXCJcbiAqICAgICAgW2VsZW1lbnQgcmVmPVwieGxzOlJvdXRlSGFuZGxlXCIgfHwgZWxlbWVudCByZWY9XCJ4bHM6Um91dGVQbGFuXCJdXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwieGxzOlJvdXRlUGxhblwiXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwieGxzOlJvdXRlSW5zdHJ1Y3Rpb25zUmVxdWVzdFwiXG4gKiAgICAgIFtlbGVtZW50IHJlZj1cInhsczpSb3V0ZUdlb21ldHJ5UmVxdWVzdFwiXVxuICogICAgICBbZWxlbWVudCByZWY9XCJ4bHM6Um91dGVNYXBSZXF1ZXN0XCJdXG4gKiBgYGBcbiAqIGBgYFxuICogZWxlbWVudCBuYW1lPVwiUm91dGVJbnN0cnVjdGlvbnNSZXF1ZXN0XCJcbiAqICBbYXR0cmlidXRlIG5hbWU9XCJmb3JtYXRcIl0gICAgICAgICAgIGRlZmF1bHQ9XCJ0ZXh0L3BsYWluXCJcbiAqICBhdHRyaWJ1dGUgbmFtZT1cInByb3ZpZGVHZW9tZXRyeVwiICAgIGRlZmF1bHQ9XCJmYWxzZVwiXG4gKiAgYXR0cmlidXRlIG5hbWU9XCJwcm92aWRlQm91bmRpbmdCb3hcIiBkZWZhdWx0PVwiZmFsc2VcIlxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIlJvdXRlR2VvbWV0cnlSZXF1ZXN0XCJcbiAqICBbYXR0cmlidXRlIG5hbWU9XCJzY2FsZVwiXSAgICAgICAgICAgICAgICAgIGRlZmF1bHQ9XCIxXCJcbiAqICBbYXR0cmlidXRlIG5hbWU9XCJwcm92aWRlU3RhcnRpbmdQb3J0aW9uXCJdIGRlZmF1bHQ9XCJmYWxzZVwiXG4gKiAgW2F0dHJpYnV0ZSBuYW1lPVwibWF4UG9pbnRzXCJdICAgICAgICAgICAgICBkZWZhdWx0PVwiMTAwXCJcbiAqICAgICAgW2VsZW1lbnQgbmFtZT1cIkJvdW5kaW5nQm94XCIgdHlwZT1cImdtbDpFbnZlbG9wZVR5cGVcIiBdXG4gKiBgYGBcbiAqIGBgYFxuICogW2VsZW1lbnQgbmFtZT1cIlJvdXRlTWFwUmVxdWVzdFwiXVxuICogICAgICBbZWxlbWVudCBuYW1lPVwiT3V0cHV0XCJdXG4gKiAgICAgICAgICBbYXR0cmlidXRlIG5hbWU9XCJ3aWR0aFwiXVxuICogICAgICAgICAgW2F0dHJpYnV0ZSBuYW1lPVwiaGVpZ2h0XCJdXG4gKiAgICAgICAgICBbYXR0cmlidXRlIG5hbWU9XCJmb3JtYXRcIl1cbiAqICAgICAgICAgIFthdHRyaWJ1dGUgbmFtZT1cIkJHY29sb3JcIl1cbiAqICAgICAgICAgIFthdHRyaWJ1dGUgbmFtZT1cInRyYW5zcGFyZW50XCJdXG4gKiAgICAgICAgICBbYXR0cmlidXRlIG5hbWU9XCJzdHlsZVwiXSA9PiB2YWx1ZSA9IE92ZXJ2aWV3IHwgTWFuZXV2ZXJcbiAqICAgICAgICAgIFtlbGVtZW50IG5hbWU9XCJCQm94Q29udGV4dFwiIHR5cGU9XCJnbWw6RW52ZWxvcGVUeXBlXCJdXG4gKiBgYGBcbiAqXG4gKiAtLS0tLS0tLVxuICogUmVxdcOqdGUgOlxuICogLS0tLS0tLS1cbiAqIGBgYFxuICogICA8RGV0ZXJtaW5lUm91dGVSZXF1ZXN0IGRpc3RhbmNlVW5pdD1cIktNXCI+XG4gKiAgICAgPFJvdXRlUGxhbj5cbiAqICAgICAgICAgICAgICA8Um91dGVQcmVmZXJlbmNlPkZhc3Rlc3Q8L1JvdXRlUHJlZmVyZW5jZT5cbiAqICAgICAgICAgICAgICA8eGxzZXh0OnZlaGljbGUgbmFtZT1cIkNhclwiIC8+XG4gKiAgICAgICAgICAgICAgPFdheVBvaW50TGlzdD5cbiAqICAgICAgICAgICAgICAgICAgPFN0YXJ0UG9pbnQ+XG4gKiAgICAgICAgICAgICAgICAgICAgICA8UG9zaXRpb24+PGdtbDpQb2ludCBzcnNOYW1lPVwiRVBTRzo0MzI2XCI+PGdtbDpwb3M+Mi4yOTk5MyA0OC44NzIyODwvZ21sOnBvcz48L2dtbDpQb2ludD48L1Bvc2l0aW9uPlxuICogICAgICAgICAgICAgICAgICA8L1N0YXJ0UG9pbnQ+XG4gKiAgICAgICAgICAgICAgICAgIDxFbmRQb2ludD5cbiAqICAgICAgICAgICAgICAgICAgICAgIDxQb3NpdGlvbj48Z21sOlBvaW50IHNyc05hbWU9XCJFUFNHOjQzMjZcIj48Z21sOnBvcz4tMS41MzYwNCA0Ny4yMTU0ODwvZ21sOnBvcz48L2dtbDpQb2ludD48L1Bvc2l0aW9uPlxuICogICAgICAgICAgICAgICAgICA8L0VuZFBvaW50PlxuICogICAgICAgICAgICAgIDwvV2F5UG9pbnRMaXN0PlxuICogICAgIDwvUm91dGVQbGFuPlxuICogICAgIDxSb3V0ZUluc3RydWN0aW9uc1JlcXVlc3QgcHJvdmlkZUdlb21ldHJ5PVwidHJ1ZVwiLz5cbiAqICAgICA8Um91dGVHZW9tZXRyeVJlcXVlc3QvPlxuICogICA8L0RldGVybWluZVJvdXRlUmVxdWVzdD5cbiAqIGBgYFxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLkZvcm1hdHMuWExTLlJvdXRlU2VydmljZS5EZXRlcm1pbmVSb3V0ZVJlcXVlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5yb3V0ZS5yb3V0ZVByZWZlcmVuY2UgLSDCqyBmYXN0ZXN0IMK7LCDCqyBzaG9ydGVzdCDCuyBvdSDCqyBwZWRlc3RyaWFuIMK7XG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLnJvdXRlLnN0YXJ0UG9pbnQgLSBQb2ludCBkZSBkw6lwYXJ0IChjb29yZG9ubsOpZXMgZXhwcmltw6llcyBlbiBXR1M4NEcpXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLnJvdXRlLnZpYVBvaW50IC0gTGlzdGUgZGUgcG9pbnRzIGludGVybcOpZGlhaXJlc1xuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5yb3V0ZS5lbmRQb2ludCAtIFBvaW50IGQnYXJyaXbDqWUgKGNvb3Jkb25uw6llcylcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMucm91dGUuYXZvaWRGZWF0dXJlIC0gwqsgaGlnaHdheSDCuywgwqsgdG9sbHdheSDCuywgwqsgdHVubmVsIMK7IG91IMKrIGJyaWRnZSDCu1xuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5yb3V0ZS52ZWhpY2xlIC0gwqsgY2FyIMK7XG4gKiBAcGFyYW0ge09iamVjdH0gICBvcHRpb25zLnJvdXRlLmV4cGVjdGVkU3RhcnRUaW1lIC0gRGF0ZSBldCBoZXVyZSBkZSBkw6lwYXJ0XG4gKiBAcGFyYW0ge09iamVjdH0gICBvcHRpb25zLnByb3ZpZGVHZW9tZXRyeSAtIHRydWUgfCBmYWxzZVxuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucy5wcm92aWRlQm91bmRpbmdCb3ggLSB0cnVlIHwgZmFsc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMuZGlzdGFuY2VVbml0IC0gVW5pdMOpIGRhbnMgbGVzcXVlbGxlcyBsYSBkaXN0YW5jZSBlc3QgZXhwcmltw6llICjCqyBtIMK7IG91IMKrIGttIMK7KVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbnN1Y2Nlc3MgLSBmdW5jdGlvbiBjYWxsYmFjayBzdWNjZXNzIChUT0RPKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbmVycm9yICAgLSBmdW5jdGlvbiBjYWxsYmFjayBlcnJvciAgIChUT0RPKVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIERldGVybWluZVJvdXRlUmVxdWVzdCAob3B0aW9ucykge1xuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBEZXRlcm1pbmVSb3V0ZVJlcXVlc3QgKCldXCIpO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERldGVybWluZVJvdXRlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRldGVybWluZVJvdXRlUmVxdWVzdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIG9wdGlvbnMgcGFyIGRlZmF1dFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBldCBvbiBham91dGUgbGVzIG9wdGlvbnMgZW4gcGFyYW3DqHRyZSBhdXggb3B0aW9ucyBwYXIgZMOpZmF1dFxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm9tIGRlIGxhIGNsYXNzZSAoaGVyaXRhZ2UpXG4gICAgICovXG4gICAgdGhpcy5DTEFTU05BTUUgPSBcIkRldGVybWluZVJvdXRlUmVxdWVzdFwiO1xufVxuXG5EZXRlcm1pbmVSb3V0ZVJlcXVlc3QucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQGxlbmRzIG1vZHVsZTpEZXRlcm1pbmVSb3V0ZVJlcXVlc3QjXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiByZXF1ZXN0IChvdXQpXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICBzdHJSZXF1ZXN0IDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFJvdXRlUGxhblxuICAgICAqIEB0eXBlIHtBZGRyZXNzfVxuICAgICAqL1xuICAgIG9Sb3V0ZVBsYW4gOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZGUgbGEgcmVxdcOqdGUuXG4gICAgICogc3Vic3RpdHV0aW9uIGRlcyB2YWxldXJzIHN1aXZhbnRlcyA6XG4gICAgICogX19ESVNUQU5DRVVOSVRfXyxcbiAgICAgKiBfX1JPVVRFUExBTl9fLCBfX1JPVVRFSU5TVFJVQ1RJT05SRVFVRVNUX18sIF9fUk9VVEVHRU9NRVRSWVJFUVVFU1RfXywgX19ST1VURU1BUFJFUVVFU1RfX1xuICAgICAqIF9fUFJPVklERUdFT01FVFJZX18sIF9fUFJPVklERUJCT1hfX1xuICAgICAqL1xuICAgIHRlbXBsYXRlIDoge1xuICAgICAgICBkZXRlcm1pbmVSb3V0ZVJlcXVlc3QgOiBcIjxEZXRlcm1pbmVSb3V0ZVJlcXVlc3QgZGlzdGFuY2VVbml0PVxcXCJfX0RJU1RBTkNFVU5JVF9fXFxcIj5cIiArXG4gICAgICAgICAgICBcIl9fUk9VVEVQTEFOX19cIiArXG4gICAgICAgICAgICBcIl9fUk9VVEVJTlNUUlVDVElPTlJFUVVFU1RfX1wiICtcbiAgICAgICAgICAgIFwiX19ST1VURUdFT01FVFJZUkVRVUVTVF9fXCIgK1xuICAgICAgICAgICAgXCJfX1JPVVRFTUFQUkVRVUVTVF9fXCIgK1xuICAgICAgICAgICAgXCI8L0RldGVybWluZVJvdXRlUmVxdWVzdD5cIixcbiAgICAgICAgcm91dGVJbnN0cnVjdGlvblJlcXVlc3QgOiBcIjxSb3V0ZUluc3RydWN0aW9uc1JlcXVlc3QgXCIgK1xuICAgICAgICAgICAgXCJwcm92aWRlR2VvbWV0cnk9XFxcIl9fUFJPVklERUdFT01FVFJZX19cXFwiIFwiICtcbiAgICAgICAgICAgIFwicHJvdmlkZUJvdW5kaW5nQm94PVxcXCJfX1BST1ZJREVCQk9YX19cXFwiIC8+XCIsXG4gICAgICAgIHJvdXRlR2VvbWV0cnlSZXF1ZXN0IDogXCI8Um91dGVHZW9tZXRyeVJlcXVlc3QgLz5cIixcbiAgICAgICAgcm91dGVNYXBSZXF1ZXN0IDogXCJcIiAvLyBGSVhNRSA8Um91dGVNYXBSZXF1ZXN0Lz4gbm90IHlldCBpbXBsZW1lbnRlZCAhXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFqb3V0IGQndW4gb2JqZXQgZGUgdHlwZSBSb3V0ZVBsYW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvUm91dGVQbGFuIC0gUm91dGVQbGFuXG4gICAgICovXG4gICAgYWRkUm91dGUgOiBmdW5jdGlvbiAob1JvdXRlUGxhbikge1xuICAgICAgICBpZiAob1JvdXRlUGxhbiBpbnN0YW5jZW9mIFJvdXRlUGxhbikge1xuICAgICAgICAgICAgdGhpcy5vUm91dGVQbGFuID0gb1JvdXRlUGxhbjtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogRGV0ZXJtaW5lUm91dGVSZXF1ZXN0LFxuXG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHJlcXXDqnRlXG4gICAgICovXG4gICAgdG9TdHJpbmcgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IFwiXCI7XG4gICAgICAgIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZS5kZXRlcm1pbmVSb3V0ZVJlcXVlc3Q7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19ESVNUQU5DRVVOSVRfXy9nLCB0aGlzLm9wdGlvbnMuZGlzdGFuY2VVbml0IHx8IFwiS01cIik7XG5cbiAgICAgICAgLy8gc29pdCBvbiBhIGTDqWrDoCB1biBvYmpldCBSb3V0ZVBsYW4gaW5zdGFuY2nDqSxcbiAgICAgICAgLy8gc2lub24sIG9uIGxlIGZhYnJpcXVlIHZpYSBsZXMgb3B0aW9uc1xuICAgICAgICBpZiAoIXRoaXMub1JvdXRlUGxhbikge1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5vcHRpb25zLnJvdXRlO1xuXG4gICAgICAgICAgICB0aGlzLm9Sb3V0ZVBsYW4gPSBuZXcgUm91dGVQbGFuKHNldHRpbmdzKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vUm91dGVQbGFuKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGEgY29uc3RydWN0aW9uIGR1IGNhbGN1bCBkJ2luaXRpbmVyYWlyZSBuJ2VzdCBwYXMgY29ycmVjdGVtZW50IGRlZmluaWUgIT9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByb3V0ZXBsYW5cbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1JPVVRFUExBTl9fL2csIHRoaXMub1JvdXRlUGxhbi50b1N0cmluZygpKTtcblxuICAgICAgICAvLyBpbnN0cnVjdGlvblxuICAgICAgICB2YXIgdG1wbEluc3RydWN0aW9uID0gdGhpcy50ZW1wbGF0ZS5yb3V0ZUluc3RydWN0aW9uUmVxdWVzdDtcbiAgICAgICAgdG1wbEluc3RydWN0aW9uID0gdG1wbEluc3RydWN0aW9uLnJlcGxhY2UoL19fUFJPVklERUdFT01FVFJZX18vZywgdGhpcy5vcHRpb25zLnByb3ZpZGVHZW9tZXRyeSB8fCBmYWxzZSk7XG4gICAgICAgIHRtcGxJbnN0cnVjdGlvbiA9IHRtcGxJbnN0cnVjdGlvbi5yZXBsYWNlKC9fX1BST1ZJREVCQk9YX18vZywgdGhpcy5vcHRpb25zLnByb3ZpZGVCb3VuZGluZ0JveCB8fCBmYWxzZSk7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19ST1VURUlOU1RSVUNUSU9OUkVRVUVTVF9fL2csIHRtcGxJbnN0cnVjdGlvbik7XG5cbiAgICAgICAgLy8gZ2VvbWV0cnlcbiAgICAgICAgdmFyIHRtcGxHZW9tZXRyeSA9IHRoaXMudGVtcGxhdGUucm91dGVHZW9tZXRyeVJlcXVlc3Q7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19ST1VURUdFT01FVFJZUkVRVUVTVF9fL2csIHRtcGxHZW9tZXRyeSk7XG5cbiAgICAgICAgLy8gbWFwXG4gICAgICAgIHZhciB0bXBsTWFwID0gdGhpcy50ZW1wbGF0ZS5yb3V0ZU1hcFJlcXVlc3Q7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19ST1VURU1BUFJFUVVFU1RfXy9nLCB0bXBsTWFwKTtcblxuICAgICAgICB0aGlzLnN0clJlcXVlc3QgPSB0ZW1wbGF0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyUmVxdWVzdDtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEZXRlcm1pbmVSb3V0ZVJlcXVlc3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/DetermineRouteRequest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/RouteRequestExtension.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/RouteRequestExtension.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * not implemented !\n *\n * Extension de type 'graphName' de l'objet RoutePlan'\n *\n * FIXME L'extension 'graphName' est intégré comme étant du standard OLS.\n *       La balise <xlsext:GraphName> viendrait surcharger le comportement de RoutePreference...\n *\n * ex. <xlsext:graphName name=\"Voiture\" />\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvUm91dGVTZXJ2aWNlL1JvdXRlUmVxdWVzdEV4dGVuc2lvbi5qcz9jYWYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Gb3JtYXRzL1hMUy9Sb3V0ZVNlcnZpY2UvUm91dGVSZXF1ZXN0RXh0ZW5zaW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBub3QgaW1wbGVtZW50ZWQgIVxuICpcbiAqIEV4dGVuc2lvbiBkZSB0eXBlICdncmFwaE5hbWUnIGRlIGwnb2JqZXQgUm91dGVQbGFuJ1xuICpcbiAqIEZJWE1FIEwnZXh0ZW5zaW9uICdncmFwaE5hbWUnIGVzdCBpbnTDqWdyw6kgY29tbWUgw6l0YW50IGR1IHN0YW5kYXJkIE9MUy5cbiAqICAgICAgIExhIGJhbGlzZSA8eGxzZXh0OkdyYXBoTmFtZT4gdmllbmRyYWl0IHN1cmNoYXJnZXIgbGUgY29tcG9ydGVtZW50IGRlIFJvdXRlUHJlZmVyZW5jZS4uLlxuICpcbiAqIGV4LiA8eGxzZXh0OmdyYXBoTmFtZSBuYW1lPVwiVm9pdHVyZVwiIC8+XG4gKi9cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/RouteRequestExtension.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/model/RoutePlan.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/model/RoutePlan.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n/**\n * @classdesc\n *  * Élément regroupant l'ensemble des données et paramètres pour le calcul d'itinéraire : points de navigation, configuration.\n *\n * ----\n * XSD :\n * ----\n * [] => non implementé !\n *\n * ```\n * element name=\"RoutePlan\"\n *  [attribute name=\"useRealTimeTraffic\" default=\"false\"]\n *  [attribute name=\"expectedStartTime\"  type=\"dateTime\"]\n *  [attribute name=\"expectedEndTime\"    type=\"dateTime\"]\n *      element ref=\"xls:RoutePreference\"\n *      element ref=\"xls:WayPointList\"\n *      element ref=\"xls:AvoidList\"\n * ```\n * ```\n * element name=\"RoutePreference\"\n *  => value = fastest | shortest | pedestrian\n * ```\n * ```\n * element name=\"WayPointList\"\n *      element ref=\"xls:StartPoint\"\n *      element ref=\"xls:ViaPoint\" minOccurs=\"0\"\n *      element ref=\"xls:EndPoint\"\n * ```\n * ```\n * element name=\"StartPoint\"\n *    [element name=\"GeocodeMatchCode\"]\n *      [attribute name=\"accuracy\"]\n *      [attribute name=\"matchType\"] => value = City, Street, Street number, Street enhanced, ...\n *    element name=\"Position\"\n *      element ref=\"gml:Point\"\n * ```\n * ```\n * element name=\"ViaPoint\"\n *    [element name=\"GeocodeMatchCode\"]\n *      [attribute name=\"accuracy\"]\n *      [attribute name=\"matchType\"] => value = City, Street, Street number, Street enhanced, ...\n *    element name=\"Position\"\n *      element ref=\"gml:Point\"\n * ```\n * ```\n * element name=\"EndPoint\"\n *    [element name=\"GeocodeMatchCode\"]\n *      [attribute name=\"accuracy\"]\n *      [attribute name=\"matchType\"] => value = City, Street, Street number, Street enhanced, ...\n *    element name=\"Position\"\n *      element ref=\"gml:Point\"\n * ```\n * ```\n * element name=\"AvoidList\"\n *      [element ref=\"xls:AOI\"]\n *      [element ref=\"xls:_Location\"] (cf. element name=\"Position\")\n *      element ref=\"xls:AvoidFeature\"\n * ```\n * ```\n * [element name=\"AOI\"]\n *      [element ref=\"gml:CircleByCenterPoint\" || element ref=\"gml:Polygon\" || element ref=\"gml:Envelope\"]\n * ```\n * ```\n * element name=\"AvoidFeature\" => value = highway | tollway | tunnel | bridge\n * ```\n *\n * --------\n * Requête :\n * --------\n * ```\n *     <RoutePlan>\n *       <RoutePreference>Fastest</RoutePreference>\n *       <xlsext:vehicle name=\"Car\" />\n *       <WayPointList>\n *         <StartPoint>\n *           <Position><gml:Point srsName=\"EPSG:4326\"><gml:pos>2.29993 48.87228</gml:pos></gml:Point></Position>\n *         </StartPoint>\n *         <EndPoint>\n *           <Position><gml:Point srsName=\"EPSG:4326\"><gml:pos>-1.53604 47.21548</gml:pos></gml:Point></Position>\n *         </EndPoint>\n *       </WayPointList>\n *       <AvoidList>\n *          <AvoidFeature>highway</AvoidFeature>\n *          <AvoidFeature>tollway</AvoidFeature>\n *          <AvoidFeature>tunnel</AvoidFeature>\n *       </AvoidList>\n *     </RoutePlan>\n * ```\n * @constructor\n * @alias Gp.Formats.XLS.RouteService.RoutePlan\n * @param {Object} options - options\n *\n * @private\n */\nfunction RoutePlan (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"RoutePlan\");\n    this.logger.trace(\"[Constructeur RoutePlan ()]\");\n\n    if (!(this instanceof RoutePlan)) {\n        throw new TypeError(\"RoutePlan constructor cannot be called as a function.\");\n    }\n\n    // param par defaut\n    this.options = options || {};\n\n    // param obligatoire\n    if (!options.startPoint) {\n        throw new Error(\"l'option 'startPoint' n'est pas renseignée !\");\n    }\n\n    if (!options.endPoint) {\n        throw new Error(\"l'option 'endPoint' n'est pas renseignée !\");\n    }\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n}\n\nRoutePlan.prototype = {\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : RoutePlan,\n\n    /**\n     * request (out)\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Template de la requête.\n     * substitution des valeurs suivantes :\n     * - __ROUTEPREFERENCE__, __VALUEROUTEPREFERENCE__\n     * - __GRAPH__, __VALUEGRAPH__\n     * - __WAYPOINTLIST__ (lst?), __STARTPOINT__, __VIAPOINT__, __ENDPOINT__, __POINT__, __X__, __Y__\n     * - __AVOIDLIST__ (lst!), __AVOIDFEATURE__, __VALUEAVOIDFEATURE__\n     */\n    template : {\n        routePlan : \"<RoutePlan>\" +\n            \"__ROUTEPREFERENCE__\" +\n            \"__GRAPH__\" +\n            \"__WAYPOINTLIST__\" +\n            \"__AVOIDLIST__\" +\n            \"</RoutePlan>\",\n        routePreference : \"<RoutePreference>__VALUEROUTEPREFERENCE__</RoutePreference>\",\n        graph : \"<xlsext:graphName xmlns:xlsext=\\\"http://www.opengis.net/xlsext\\\" name=\\\"__VALUEGRAPH__\\\"/>\",\n        wayPointList : {\n            container : \"<WayPointList>\" +\n                \"__STARTPOINT__\" +\n                \"__VIAPOINT__\" +\n                \"__ENDPOINT__\" +\n                \"</WayPointList>\",\n            point : \"<Position><gml:Point xmlns:gml=\\\"http://www.opengis.net/gml\\\"><gml:pos>__X__ __Y__</gml:pos></gml:Point></Position>\",\n            startPoint : \"<StartPoint>\" +\n                \"__POINT__\" +\n                \"</StartPoint>\",\n            endPoint : \"<EndPoint>\" +\n                \"__POINT__\" +\n                \"</EndPoint>\",\n            viaPoint : \"<ViaPoint>\" +\n                \"__POINT__\" +\n                \"</ViaPoint>\" // implémentation de plusieurs étapes...\n        },\n        avoidList : {\n            container : \"<AvoidList>\" +\n                \"__AVOIDFEATURE__\" +\n                \"</AvoidList>\",\n            avoidFeature : \"<AvoidFeature>__VALUEAVOIDFEATURE__</AvoidFeature>\"\n        }\n    },\n\n    /**\n     * toString\n     *\n     * @returns {String} requête\n     */\n    toString : function () {\n        var template = \"\";\n        template = this.template.routePlan;\n\n        // preference\n        if (this.options.routePreference) {\n            var tmplPreference = this.template.routePreference;\n            tmplPreference = tmplPreference.replace(/__VALUEROUTEPREFERENCE__/, this.options.routePreference);\n            template = template.replace(/__ROUTEPREFERENCE__/g, tmplPreference);\n        }\n        // clean preference\n        template = template.replace(/__ROUTEPREFERENCE__/g, \"\");\n\n        // exclusions\n        if (this.options.avoidFeature) {\n            var tmplAvoidList = this.template.avoidList.container;\n            var avoidFeatures = [];\n            for (var i = 0; i < this.options.avoidFeature.length; i++) {\n                var tmplAvoidFeature = this.template.avoidList.avoidFeature;\n                tmplAvoidFeature = tmplAvoidFeature.replace(/__VALUEAVOIDFEATURE__/, this.options.avoidFeature[i]);\n                avoidFeatures.push(tmplAvoidFeature);\n            }\n            tmplAvoidList = tmplAvoidList.replace(/__AVOIDFEATURE__/, avoidFeatures.join(\"\\n\"));\n            template = template.replace(/__AVOIDLIST__/g, tmplAvoidList);\n        }\n        // clean exclusions\n        template = template.replace(/__AVOIDLIST__/g, \"\");\n\n        // graph\n        if (this.options.graph) {\n            var tmplVehicle = this.template.graph;\n            tmplVehicle = tmplVehicle.replace(/__VALUEGRAPH__/, this.options.graph);\n            template = template.replace(/__GRAPH__/g, tmplVehicle);\n        }\n        // clean vehicle\n        template = template.replace(/__GRAPH__/g, \"\");\n\n        // points\n        var tmplWayPointList = this.template.wayPointList.container;\n        var tmplPoint = \"\";\n        // start\n        tmplPoint = this.template.wayPointList.point;\n        tmplPoint = tmplPoint.replace(/__X__/, this.options.startPoint.x);\n        tmplPoint = tmplPoint.replace(/__Y__/, this.options.startPoint.y);\n        tmplWayPointList = tmplWayPointList.replace(/__STARTPOINT__/,\n            this.template.wayPointList.startPoint.replace(/__POINT__/, tmplPoint));\n        // end\n        tmplPoint = this.template.wayPointList.point;\n        tmplPoint = tmplPoint.replace(/__X__/, this.options.endPoint.x);\n        tmplPoint = tmplPoint.replace(/__Y__/, this.options.endPoint.y);\n        tmplWayPointList = tmplWayPointList.replace(/__ENDPOINT__/,\n            this.template.wayPointList.endPoint.replace(/__POINT__/, tmplPoint));\n        // via\n        if (this.options.viaPoint) {\n            var points = [];\n            for (var j = 0; j < this.options.viaPoint.length; j++) {\n                var p = this.options.viaPoint[j];\n                tmplPoint = this.template.wayPointList.point;\n                tmplPoint = tmplPoint.replace(/__X__/, p.x);\n                tmplPoint = tmplPoint.replace(/__Y__/, p.y);\n                points.push(tmplPoint);\n            }\n\n            tmplWayPointList = tmplWayPointList.replace(/__VIAPOINT__/,\n                this.template.wayPointList.viaPoint.replace(/__POINT__/, points.join(\"\\n\")));\n        } else {\n            // clean viaPoint\n            tmplWayPointList = tmplWayPointList.replace(/__VIAPOINT__/, \"\");\n        }\n\n        template = template.replace(/__WAYPOINTLIST__/g, tmplWayPointList);\n\n        this.requestString = template;\n        return this.requestString;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RoutePlan);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTFMvUm91dGVTZXJ2aWNlL21vZGVsL1JvdXRlUGxhbi5qcz8xMWZkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBdUQ7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0NBQXNDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrQ0FBa0M7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLHdFQUFTLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0Zvcm1hdHMvWExTL1JvdXRlU2VydmljZS9tb2RlbC9Sb3V0ZVBsYW4uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiAgKiDDiWzDqW1lbnQgcmVncm91cGFudCBsJ2Vuc2VtYmxlIGRlcyBkb25uw6llcyBldCBwYXJhbcOodHJlcyBwb3VyIGxlIGNhbGN1bCBkJ2l0aW7DqXJhaXJlIDogcG9pbnRzIGRlIG5hdmlnYXRpb24sIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogLS0tLVxuICogWFNEIDpcbiAqIC0tLS1cbiAqIFtdID0+IG5vbiBpbXBsZW1lbnTDqSAhXG4gKlxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJSb3V0ZVBsYW5cIlxuICogIFthdHRyaWJ1dGUgbmFtZT1cInVzZVJlYWxUaW1lVHJhZmZpY1wiIGRlZmF1bHQ9XCJmYWxzZVwiXVxuICogIFthdHRyaWJ1dGUgbmFtZT1cImV4cGVjdGVkU3RhcnRUaW1lXCIgIHR5cGU9XCJkYXRlVGltZVwiXVxuICogIFthdHRyaWJ1dGUgbmFtZT1cImV4cGVjdGVkRW5kVGltZVwiICAgIHR5cGU9XCJkYXRlVGltZVwiXVxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpSb3V0ZVByZWZlcmVuY2VcIlxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpXYXlQb2ludExpc3RcIlxuICogICAgICBlbGVtZW50IHJlZj1cInhsczpBdm9pZExpc3RcIlxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIlJvdXRlUHJlZmVyZW5jZVwiXG4gKiAgPT4gdmFsdWUgPSBmYXN0ZXN0IHwgc2hvcnRlc3QgfCBwZWRlc3RyaWFuXG4gKiBgYGBcbiAqIGBgYFxuICogZWxlbWVudCBuYW1lPVwiV2F5UG9pbnRMaXN0XCJcbiAqICAgICAgZWxlbWVudCByZWY9XCJ4bHM6U3RhcnRQb2ludFwiXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwieGxzOlZpYVBvaW50XCIgbWluT2NjdXJzPVwiMFwiXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwieGxzOkVuZFBvaW50XCJcbiAqIGBgYFxuICogYGBgXG4gKiBlbGVtZW50IG5hbWU9XCJTdGFydFBvaW50XCJcbiAqICAgIFtlbGVtZW50IG5hbWU9XCJHZW9jb2RlTWF0Y2hDb2RlXCJdXG4gKiAgICAgIFthdHRyaWJ1dGUgbmFtZT1cImFjY3VyYWN5XCJdXG4gKiAgICAgIFthdHRyaWJ1dGUgbmFtZT1cIm1hdGNoVHlwZVwiXSA9PiB2YWx1ZSA9IENpdHksIFN0cmVldCwgU3RyZWV0IG51bWJlciwgU3RyZWV0IGVuaGFuY2VkLCAuLi5cbiAqICAgIGVsZW1lbnQgbmFtZT1cIlBvc2l0aW9uXCJcbiAqICAgICAgZWxlbWVudCByZWY9XCJnbWw6UG9pbnRcIlxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIlZpYVBvaW50XCJcbiAqICAgIFtlbGVtZW50IG5hbWU9XCJHZW9jb2RlTWF0Y2hDb2RlXCJdXG4gKiAgICAgIFthdHRyaWJ1dGUgbmFtZT1cImFjY3VyYWN5XCJdXG4gKiAgICAgIFthdHRyaWJ1dGUgbmFtZT1cIm1hdGNoVHlwZVwiXSA9PiB2YWx1ZSA9IENpdHksIFN0cmVldCwgU3RyZWV0IG51bWJlciwgU3RyZWV0IGVuaGFuY2VkLCAuLi5cbiAqICAgIGVsZW1lbnQgbmFtZT1cIlBvc2l0aW9uXCJcbiAqICAgICAgZWxlbWVudCByZWY9XCJnbWw6UG9pbnRcIlxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIkVuZFBvaW50XCJcbiAqICAgIFtlbGVtZW50IG5hbWU9XCJHZW9jb2RlTWF0Y2hDb2RlXCJdXG4gKiAgICAgIFthdHRyaWJ1dGUgbmFtZT1cImFjY3VyYWN5XCJdXG4gKiAgICAgIFthdHRyaWJ1dGUgbmFtZT1cIm1hdGNoVHlwZVwiXSA9PiB2YWx1ZSA9IENpdHksIFN0cmVldCwgU3RyZWV0IG51bWJlciwgU3RyZWV0IGVuaGFuY2VkLCAuLi5cbiAqICAgIGVsZW1lbnQgbmFtZT1cIlBvc2l0aW9uXCJcbiAqICAgICAgZWxlbWVudCByZWY9XCJnbWw6UG9pbnRcIlxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIkF2b2lkTGlzdFwiXG4gKiAgICAgIFtlbGVtZW50IHJlZj1cInhsczpBT0lcIl1cbiAqICAgICAgW2VsZW1lbnQgcmVmPVwieGxzOl9Mb2NhdGlvblwiXSAoY2YuIGVsZW1lbnQgbmFtZT1cIlBvc2l0aW9uXCIpXG4gKiAgICAgIGVsZW1lbnQgcmVmPVwieGxzOkF2b2lkRmVhdHVyZVwiXG4gKiBgYGBcbiAqIGBgYFxuICogW2VsZW1lbnQgbmFtZT1cIkFPSVwiXVxuICogICAgICBbZWxlbWVudCByZWY9XCJnbWw6Q2lyY2xlQnlDZW50ZXJQb2ludFwiIHx8IGVsZW1lbnQgcmVmPVwiZ21sOlBvbHlnb25cIiB8fCBlbGVtZW50IHJlZj1cImdtbDpFbnZlbG9wZVwiXVxuICogYGBgXG4gKiBgYGBcbiAqIGVsZW1lbnQgbmFtZT1cIkF2b2lkRmVhdHVyZVwiID0+IHZhbHVlID0gaGlnaHdheSB8IHRvbGx3YXkgfCB0dW5uZWwgfCBicmlkZ2VcbiAqIGBgYFxuICpcbiAqIC0tLS0tLS0tXG4gKiBSZXF1w6p0ZSA6XG4gKiAtLS0tLS0tLVxuICogYGBgXG4gKiAgICAgPFJvdXRlUGxhbj5cbiAqICAgICAgIDxSb3V0ZVByZWZlcmVuY2U+RmFzdGVzdDwvUm91dGVQcmVmZXJlbmNlPlxuICogICAgICAgPHhsc2V4dDp2ZWhpY2xlIG5hbWU9XCJDYXJcIiAvPlxuICogICAgICAgPFdheVBvaW50TGlzdD5cbiAqICAgICAgICAgPFN0YXJ0UG9pbnQ+XG4gKiAgICAgICAgICAgPFBvc2l0aW9uPjxnbWw6UG9pbnQgc3JzTmFtZT1cIkVQU0c6NDMyNlwiPjxnbWw6cG9zPjIuMjk5OTMgNDguODcyMjg8L2dtbDpwb3M+PC9nbWw6UG9pbnQ+PC9Qb3NpdGlvbj5cbiAqICAgICAgICAgPC9TdGFydFBvaW50PlxuICogICAgICAgICA8RW5kUG9pbnQ+XG4gKiAgICAgICAgICAgPFBvc2l0aW9uPjxnbWw6UG9pbnQgc3JzTmFtZT1cIkVQU0c6NDMyNlwiPjxnbWw6cG9zPi0xLjUzNjA0IDQ3LjIxNTQ4PC9nbWw6cG9zPjwvZ21sOlBvaW50PjwvUG9zaXRpb24+XG4gKiAgICAgICAgIDwvRW5kUG9pbnQ+XG4gKiAgICAgICA8L1dheVBvaW50TGlzdD5cbiAqICAgICAgIDxBdm9pZExpc3Q+XG4gKiAgICAgICAgICA8QXZvaWRGZWF0dXJlPmhpZ2h3YXk8L0F2b2lkRmVhdHVyZT5cbiAqICAgICAgICAgIDxBdm9pZEZlYXR1cmU+dG9sbHdheTwvQXZvaWRGZWF0dXJlPlxuICogICAgICAgICAgPEF2b2lkRmVhdHVyZT50dW5uZWw8L0F2b2lkRmVhdHVyZT5cbiAqICAgICAgIDwvQXZvaWRMaXN0PlxuICogICAgIDwvUm91dGVQbGFuPlxuICogYGBgXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBHcC5Gb3JtYXRzLlhMUy5Sb3V0ZVNlcnZpY2UuUm91dGVQbGFuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBSb3V0ZVBsYW4gKG9wdGlvbnMpIHtcbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJSb3V0ZVBsYW5cIik7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIFJvdXRlUGxhbiAoKV1cIik7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUm91dGVQbGFuKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUm91dGVQbGFuIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gcGFyYW0gcGFyIGRlZmF1dFxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBwYXJhbSBvYmxpZ2F0b2lyZVxuICAgIGlmICghb3B0aW9ucy5zdGFydFBvaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImwnb3B0aW9uICdzdGFydFBvaW50JyBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUgIVwiKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuZW5kUG9pbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibCdvcHRpb24gJ2VuZFBvaW50JyBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUgIVwiKTtcbiAgICB9XG5cbiAgICAvLyBldCBvbiBham91dGUgbGVzIG9wdGlvbnMgZW4gcGFyYW3DqHRyZSBhdXggb3B0aW9ucyBwYXIgZMOpZmF1dFxuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5Sb3V0ZVBsYW4ucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciA6IFJvdXRlUGxhbixcblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgKG91dClcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHJlcXVlc3RTdHJpbmcgOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZGUgbGEgcmVxdcOqdGUuXG4gICAgICogc3Vic3RpdHV0aW9uIGRlcyB2YWxldXJzIHN1aXZhbnRlcyA6XG4gICAgICogLSBfX1JPVVRFUFJFRkVSRU5DRV9fLCBfX1ZBTFVFUk9VVEVQUkVGRVJFTkNFX19cbiAgICAgKiAtIF9fR1JBUEhfXywgX19WQUxVRUdSQVBIX19cbiAgICAgKiAtIF9fV0FZUE9JTlRMSVNUX18gKGxzdD8pLCBfX1NUQVJUUE9JTlRfXywgX19WSUFQT0lOVF9fLCBfX0VORFBPSU5UX18sIF9fUE9JTlRfXywgX19YX18sIF9fWV9fXG4gICAgICogLSBfX0FWT0lETElTVF9fIChsc3QhKSwgX19BVk9JREZFQVRVUkVfXywgX19WQUxVRUFWT0lERkVBVFVSRV9fXG4gICAgICovXG4gICAgdGVtcGxhdGUgOiB7XG4gICAgICAgIHJvdXRlUGxhbiA6IFwiPFJvdXRlUGxhbj5cIiArXG4gICAgICAgICAgICBcIl9fUk9VVEVQUkVGRVJFTkNFX19cIiArXG4gICAgICAgICAgICBcIl9fR1JBUEhfX1wiICtcbiAgICAgICAgICAgIFwiX19XQVlQT0lOVExJU1RfX1wiICtcbiAgICAgICAgICAgIFwiX19BVk9JRExJU1RfX1wiICtcbiAgICAgICAgICAgIFwiPC9Sb3V0ZVBsYW4+XCIsXG4gICAgICAgIHJvdXRlUHJlZmVyZW5jZSA6IFwiPFJvdXRlUHJlZmVyZW5jZT5fX1ZBTFVFUk9VVEVQUkVGRVJFTkNFX188L1JvdXRlUHJlZmVyZW5jZT5cIixcbiAgICAgICAgZ3JhcGggOiBcIjx4bHNleHQ6Z3JhcGhOYW1lIHhtbG5zOnhsc2V4dD1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHNleHRcXFwiIG5hbWU9XFxcIl9fVkFMVUVHUkFQSF9fXFxcIi8+XCIsXG4gICAgICAgIHdheVBvaW50TGlzdCA6IHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA6IFwiPFdheVBvaW50TGlzdD5cIiArXG4gICAgICAgICAgICAgICAgXCJfX1NUQVJUUE9JTlRfX1wiICtcbiAgICAgICAgICAgICAgICBcIl9fVklBUE9JTlRfX1wiICtcbiAgICAgICAgICAgICAgICBcIl9fRU5EUE9JTlRfX1wiICtcbiAgICAgICAgICAgICAgICBcIjwvV2F5UG9pbnRMaXN0PlwiLFxuICAgICAgICAgICAgcG9pbnQgOiBcIjxQb3NpdGlvbj48Z21sOlBvaW50IHhtbG5zOmdtbD1cXFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcXFwiPjxnbWw6cG9zPl9fWF9fIF9fWV9fPC9nbWw6cG9zPjwvZ21sOlBvaW50PjwvUG9zaXRpb24+XCIsXG4gICAgICAgICAgICBzdGFydFBvaW50IDogXCI8U3RhcnRQb2ludD5cIiArXG4gICAgICAgICAgICAgICAgXCJfX1BPSU5UX19cIiArXG4gICAgICAgICAgICAgICAgXCI8L1N0YXJ0UG9pbnQ+XCIsXG4gICAgICAgICAgICBlbmRQb2ludCA6IFwiPEVuZFBvaW50PlwiICtcbiAgICAgICAgICAgICAgICBcIl9fUE9JTlRfX1wiICtcbiAgICAgICAgICAgICAgICBcIjwvRW5kUG9pbnQ+XCIsXG4gICAgICAgICAgICB2aWFQb2ludCA6IFwiPFZpYVBvaW50PlwiICtcbiAgICAgICAgICAgICAgICBcIl9fUE9JTlRfX1wiICtcbiAgICAgICAgICAgICAgICBcIjwvVmlhUG9pbnQ+XCIgLy8gaW1wbMOpbWVudGF0aW9uIGRlIHBsdXNpZXVycyDDqXRhcGVzLi4uXG4gICAgICAgIH0sXG4gICAgICAgIGF2b2lkTGlzdCA6IHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA6IFwiPEF2b2lkTGlzdD5cIiArXG4gICAgICAgICAgICAgICAgXCJfX0FWT0lERkVBVFVSRV9fXCIgK1xuICAgICAgICAgICAgICAgIFwiPC9Bdm9pZExpc3Q+XCIsXG4gICAgICAgICAgICBhdm9pZEZlYXR1cmUgOiBcIjxBdm9pZEZlYXR1cmU+X19WQUxVRUFWT0lERkVBVFVSRV9fPC9Bdm9pZEZlYXR1cmU+XCJcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0b1N0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmVxdcOqdGVcbiAgICAgKi9cbiAgICB0b1N0cmluZyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gXCJcIjtcbiAgICAgICAgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlLnJvdXRlUGxhbjtcblxuICAgICAgICAvLyBwcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucm91dGVQcmVmZXJlbmNlKSB7XG4gICAgICAgICAgICB2YXIgdG1wbFByZWZlcmVuY2UgPSB0aGlzLnRlbXBsYXRlLnJvdXRlUHJlZmVyZW5jZTtcbiAgICAgICAgICAgIHRtcGxQcmVmZXJlbmNlID0gdG1wbFByZWZlcmVuY2UucmVwbGFjZSgvX19WQUxVRVJPVVRFUFJFRkVSRU5DRV9fLywgdGhpcy5vcHRpb25zLnJvdXRlUHJlZmVyZW5jZSk7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fUk9VVEVQUkVGRVJFTkNFX18vZywgdG1wbFByZWZlcmVuY2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFuIHByZWZlcmVuY2VcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX1JPVVRFUFJFRkVSRU5DRV9fL2csIFwiXCIpO1xuXG4gICAgICAgIC8vIGV4Y2x1c2lvbnNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdm9pZEZlYXR1cmUpIHtcbiAgICAgICAgICAgIHZhciB0bXBsQXZvaWRMaXN0ID0gdGhpcy50ZW1wbGF0ZS5hdm9pZExpc3QuY29udGFpbmVyO1xuICAgICAgICAgICAgdmFyIGF2b2lkRmVhdHVyZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zLmF2b2lkRmVhdHVyZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0bXBsQXZvaWRGZWF0dXJlID0gdGhpcy50ZW1wbGF0ZS5hdm9pZExpc3QuYXZvaWRGZWF0dXJlO1xuICAgICAgICAgICAgICAgIHRtcGxBdm9pZEZlYXR1cmUgPSB0bXBsQXZvaWRGZWF0dXJlLnJlcGxhY2UoL19fVkFMVUVBVk9JREZFQVRVUkVfXy8sIHRoaXMub3B0aW9ucy5hdm9pZEZlYXR1cmVbaV0pO1xuICAgICAgICAgICAgICAgIGF2b2lkRmVhdHVyZXMucHVzaCh0bXBsQXZvaWRGZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRtcGxBdm9pZExpc3QgPSB0bXBsQXZvaWRMaXN0LnJlcGxhY2UoL19fQVZPSURGRUFUVVJFX18vLCBhdm9pZEZlYXR1cmVzLmpvaW4oXCJcXG5cIikpO1xuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX0FWT0lETElTVF9fL2csIHRtcGxBdm9pZExpc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFuIGV4Y2x1c2lvbnNcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX0FWT0lETElTVF9fL2csIFwiXCIpO1xuXG4gICAgICAgIC8vIGdyYXBoXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ3JhcGgpIHtcbiAgICAgICAgICAgIHZhciB0bXBsVmVoaWNsZSA9IHRoaXMudGVtcGxhdGUuZ3JhcGg7XG4gICAgICAgICAgICB0bXBsVmVoaWNsZSA9IHRtcGxWZWhpY2xlLnJlcGxhY2UoL19fVkFMVUVHUkFQSF9fLywgdGhpcy5vcHRpb25zLmdyYXBoKTtcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19HUkFQSF9fL2csIHRtcGxWZWhpY2xlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjbGVhbiB2ZWhpY2xlXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19HUkFQSF9fL2csIFwiXCIpO1xuXG4gICAgICAgIC8vIHBvaW50c1xuICAgICAgICB2YXIgdG1wbFdheVBvaW50TGlzdCA9IHRoaXMudGVtcGxhdGUud2F5UG9pbnRMaXN0LmNvbnRhaW5lcjtcbiAgICAgICAgdmFyIHRtcGxQb2ludCA9IFwiXCI7XG4gICAgICAgIC8vIHN0YXJ0XG4gICAgICAgIHRtcGxQb2ludCA9IHRoaXMudGVtcGxhdGUud2F5UG9pbnRMaXN0LnBvaW50O1xuICAgICAgICB0bXBsUG9pbnQgPSB0bXBsUG9pbnQucmVwbGFjZSgvX19YX18vLCB0aGlzLm9wdGlvbnMuc3RhcnRQb2ludC54KTtcbiAgICAgICAgdG1wbFBvaW50ID0gdG1wbFBvaW50LnJlcGxhY2UoL19fWV9fLywgdGhpcy5vcHRpb25zLnN0YXJ0UG9pbnQueSk7XG4gICAgICAgIHRtcGxXYXlQb2ludExpc3QgPSB0bXBsV2F5UG9pbnRMaXN0LnJlcGxhY2UoL19fU1RBUlRQT0lOVF9fLyxcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUud2F5UG9pbnRMaXN0LnN0YXJ0UG9pbnQucmVwbGFjZSgvX19QT0lOVF9fLywgdG1wbFBvaW50KSk7XG4gICAgICAgIC8vIGVuZFxuICAgICAgICB0bXBsUG9pbnQgPSB0aGlzLnRlbXBsYXRlLndheVBvaW50TGlzdC5wb2ludDtcbiAgICAgICAgdG1wbFBvaW50ID0gdG1wbFBvaW50LnJlcGxhY2UoL19fWF9fLywgdGhpcy5vcHRpb25zLmVuZFBvaW50LngpO1xuICAgICAgICB0bXBsUG9pbnQgPSB0bXBsUG9pbnQucmVwbGFjZSgvX19ZX18vLCB0aGlzLm9wdGlvbnMuZW5kUG9pbnQueSk7XG4gICAgICAgIHRtcGxXYXlQb2ludExpc3QgPSB0bXBsV2F5UG9pbnRMaXN0LnJlcGxhY2UoL19fRU5EUE9JTlRfXy8sXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlLndheVBvaW50TGlzdC5lbmRQb2ludC5yZXBsYWNlKC9fX1BPSU5UX18vLCB0bXBsUG9pbnQpKTtcbiAgICAgICAgLy8gdmlhXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmlhUG9pbnQpIHtcbiAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5vcHRpb25zLnZpYVBvaW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSB0aGlzLm9wdGlvbnMudmlhUG9pbnRbal07XG4gICAgICAgICAgICAgICAgdG1wbFBvaW50ID0gdGhpcy50ZW1wbGF0ZS53YXlQb2ludExpc3QucG9pbnQ7XG4gICAgICAgICAgICAgICAgdG1wbFBvaW50ID0gdG1wbFBvaW50LnJlcGxhY2UoL19fWF9fLywgcC54KTtcbiAgICAgICAgICAgICAgICB0bXBsUG9pbnQgPSB0bXBsUG9pbnQucmVwbGFjZSgvX19ZX18vLCBwLnkpO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHRtcGxQb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRtcGxXYXlQb2ludExpc3QgPSB0bXBsV2F5UG9pbnRMaXN0LnJlcGxhY2UoL19fVklBUE9JTlRfXy8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZS53YXlQb2ludExpc3QudmlhUG9pbnQucmVwbGFjZSgvX19QT0lOVF9fLywgcG9pbnRzLmpvaW4oXCJcXG5cIikpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNsZWFuIHZpYVBvaW50XG4gICAgICAgICAgICB0bXBsV2F5UG9pbnRMaXN0ID0gdG1wbFdheVBvaW50TGlzdC5yZXBsYWNlKC9fX1ZJQVBPSU5UX18vLCBcIlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19XQVlQT0lOVExJU1RfXy9nLCB0bXBsV2F5UG9pbnRMaXN0KTtcblxuICAgICAgICB0aGlzLnJlcXVlc3RTdHJpbmcgPSB0ZW1wbGF0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFN0cmluZztcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZVBsYW47XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService/model/RoutePlan.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Formats/XML.js":
/*!**************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Formats/XML.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* global require */\n\n\n// import __xmldom from \"xmldom\";\n\n/**\n * @classdesc\n *\n * Classe permettant d'écrire ou de lire du XML, sous forme de document DOM,\n * éventuellement selon des clés de lecture (readers) ou d'écriture (writers) spécifiques.\n *\n * @constructor\n * @alias Gp.Formats.XML\n *\n * @param {Object} [options] - options du format XML\n *\n * @param {Object} [options.reader] - Instance d'un Reader de service (AltiResponseReader, GeocodeRequestReader, etc.)\n *      utile pour interpréter le XML lorsque sa structure est connue.\n *      Ce reader doit comporter au moins une fonction statique read (root) permettant d'initialiser la lecture.\n *\n * @param {Object} [options.writers] - writers\n *\n * @param {String} [options.xmlString] - chaîne de caractère contenant du XML à interpréter.\n *\n * @private\n */\nfunction XML (options) {\n    if (!(this instanceof XML)) {\n        throw new TypeError(\"XML constructor cannot be called as a function.\");\n    }\n\n    // FIXME : notion de singleton\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur XML ()]\");\n\n    /**\n     * Chaîne de caractères contenant le texte XML\n     * @type {String}\n     */\n    this.xmlString = null;\n\n    /**\n     * DOM Element correspondant à la structure du XML.\n     * @type {DOMElement}\n     */\n    this.xmlDoc = null;\n\n    /**\n     * Objet contenant des fonctions de lecture des différentes balises XML.\n     * @type {Object}\n     */\n    this.reader = null;\n\n    // traitement des paramètres d'options s'il y en a\n    if (options) {\n        if (options.xmlString && typeof options.xmlString === \"string\") {\n            this.xmlString = options.xmlString;\n            // Si une chaine de caractère a été passée en entrée : on la transforme aussi en XML document\n            this.xmlDoc = __getXMLDOC(options.xmlString);\n        }\n        if (options.reader) {\n            this.setReader(options.reader);\n        }\n    }\n}\n\nXML.prototype = {\n\n    /**\n     * @lends module:XML\n     */\n\n    /*\n     * Constructeur (alias)\n     */\n    constructor : XML,\n\n    /**\n     * Méthode permettant de récupérer la chaîne de caractères associée au format XML\n     *\n     * @returns {String} xmlString - la chaîne de caractères correspondant au format XML\n     */\n    getXMLString : function () {\n        return this.xmlString;\n    },\n\n    /**\n     * Méthode permettant d'attribuer une chaîne de caractères au format XML (attribut xmlString).\n     * La méthode va aussi transformer cette chaîne de caractères en document XML,\n     * afin de remplir l'attribut xmlDoc.\n     *\n     * @param {String} xmlString - la chaîne de caractères correspondant au format XML\n     */\n    setXMLString : function (xmlString) {\n        if (xmlString && typeof xmlString === \"string\") {\n            this.xmlString = xmlString;\n            this.xmlDoc = __getXMLDOC(xmlString);\n        }\n    },\n\n    /**\n     * Méthode permettant de récupérer les readers associés au format XML, s'ils ont été définis\n     *\n     * @return {Object} readers - les readers associés au format XML, s'ils existent,\n     *      sous forme d'une collection de fonctions\n     */\n    getReader : function () {\n        return this.reader;\n    },\n\n    /**\n     * Méthode permettant d'attribuer des readers, sous la forme d'un objet de fonctions (node, data),\n     *      lorsqu'ils n'ont pas été définis lors de l'instanciation par exemple (new XML (options)).\n     *\n     * @param {Object} reader - Instance d'un Reader de service (AltiResponseReader, GeocodeRequestReader, etc.)\n     *      utile pour interpréter le XML lorsque sa structure est connue.\n     *      Ce reader doit comporter au moins une fonction statique read (root) permettant d'initialiser la lecture.\n     */\n    setReader : function (reader) {\n        if (reader && reader.read && typeof reader.read === \"function\") {\n            this.reader = reader;\n        }\n    },\n\n    /**\n     * Méthode permettant de récupérer le document XML associé au format, s'il existe.\n     *\n     * @return {DOMElement} xmlDoc - le document XML (DOM document node) s'il existe\n     */\n    getXMLDoc : function () {\n        return this.xmlDoc;\n    },\n\n    /**\n     * Setter\n     */\n    setXMLDoc : function (doc) {\n        this.xmlDoc = doc;\n    },\n    /**\n     * Méthode initialisant la lecture du XML, à partir d'un XML Document :\n     *      création d'un objet JavaScript contenant les informations du XML,\n     *      sauf dans le cas où il n'existe pas de XML Document à interpréter (retourne un objet vide).\n     *\n     * @return {Object} [parserOutput] - un objet JavaScript contenant les informations du XML :\n     * - soit toutes les informations si aucun reader n'a été spécifié à la création du format\n     * - soit les informations spécifiées dans le reader.\n     */\n    parse : function () {\n        // build xml document from xmlString\n        if (!this.xmlDoc && this.xmlString) {\n            this.xmlDoc = __getXMLDOC(this.xmlString);\n        }\n        if (this.xmlDoc) {\n            var root = __getRootNode(this.xmlDoc);\n            if (root) {\n                var parserOutput;\n                // call reader if exists\n                if (this.reader && this.reader.read) {\n                    parserOutput = this.reader.read(root);\n                } else {\n                    parserOutput = {};\n                    parserOutput[root.nodeName] = __readDefault(root);\n                }\n                return parserOutput;\n            } else {\n                return {};\n            }\n        }\n    }\n\n};\n\n/**\n * Méthode de la classe (privée) permettant de créer un XML Document à partir d'une chaîne de caractères XML,\n *      en utilisant DOMParser () lorsque c'est possible.\n *      For more information, see: https://dvcs.w3.org/hg/innerhtml/raw-file/tip/index.html#the-domparser-interface\n *\n * @private\n * @memberof XML\n * @method __getXMLDOC\n * @param {String} xmlString - xml string to be converted into DOM element\n * @return {DOMElement} - the corresponding XML Document\n */\nfunction __getXMLDOC (xmlString) {\n    if (typeof window === \"undefined\") {\n        // env. nodejs\n        var DOMParser = __webpack_require__(/*! xmldom */ \"xmldom\").DOMParser; // __xmldom.DOMParser;\n        return new DOMParser().parseFromString(xmlString, \"text/xml\");\n    } else {\n        // env. browser\n\n        var parser;\n        var xmlDoc;\n        var errorMsg = \"Erreur lors du parsing de la réponse du service : XML non conforme\";\n\n        if (window.ActiveXObject) {\n            // Internet Explorer < 9\n            xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n            xmlDoc.async = false;\n            xmlDoc.loadXML(xmlString);\n            var parseError = xmlDoc.parseError;\n            if (parseError.errorCode) {\n                if (parseError.line && parseError.linepos) {\n                    errorMsg += \"( ligne \" + parseError.line + \", colonne \" + parseError.linepos;\n                }\n                if (parseError.reason) {\n                    errorMsg += \":  \" + parseError.reason + \")\";\n                }\n                throw new Error(errorMsg);\n            }\n            return xmlDoc;\n        } else if (window.DOMParser) {\n            // les autres (Chrome, Mozilla, IE >= 9)\n            parser = new window.DOMParser();\n            try {\n                xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n            } catch (e) {\n                // Internet Explorer browser raises exception if xmlString is not valid XML\n                if (e.message === \"SyntaxError\") {\n                    throw new Error(errorMsg);\n                } else {\n                    throw new Error(\"Erreur lors du parsing de la réponse du service : \" + e.message);\n                }\n            }\n            // look for parsing error in case no exception was raised\n            if (xmlDoc.getElementsByTagName(\"parsererror\").length > 0) {\n                var parsererror = xmlDoc.getElementsByTagName(\"parsererror\");\n                for (var i = 0; i < parsererror.length; i++) {\n                    var content = parsererror[i].innerHTML;\n                    // except in case parsererror is just because of huge xml, but parsing is done.\n                    if (content.indexOf(\"Huge input lookup\") === -1) {\n                        errorMsg += \"(\" + content + \")\";\n                        throw new Error(errorMsg);\n                    }\n                }\n            } else if (!xmlDoc.documentElement) { // may happen in chrome browser\n                throw new Error(errorMsg);\n            }\n            return xmlDoc;\n        } else {\n            // FIXME\n            throw new Error(\"Incompatible DOM Parser pour ce navigateur !\");\n        }\n    }\n}\n\n/**\n * Méthode de la classe (privée) permettant de récupérer le noeud racine du document,\n *      à partir d'un document node (nodeType=9), puis lecture de ce noeud (readNode)\n *\n * @private\n * @memberof XML\n * @method __getRootNode\n * @param {DOMElement} [xmlDoc] - a Document Node\n * @return {DOMElement} root - the document root node\n */\nfunction __getRootNode (xmlDoc) {\n    var root;\n    if (xmlDoc.nodeType === 9) {\n        // INFO : nodeType 9 represents the entire document (the root-node of the DOM tree)\n        root = xmlDoc.documentElement;\n    } else if (xmlDoc.nodeType === 1) {\n        root = xmlDoc;\n    }\n    return root;\n}\n\n/**\n * Méthode de la classe (privée) permettant de lire automatiquement un noeud XML,\n *      lorsqu'aucun reader spécifique n'a été spécifié (parser brut)\n *\n * @private\n * @memberof XML\n * @method readDefault\n * @param {DOMElement} node - a DOM element node\n * @example final data object looks like :\n *          data = {\n *              attributeName: attributeValue,\n *              childName: {\n *                  attributeName: attributeValue,\n *                  attributeName: attributeValue,\n *                  childName: {\n *                      \"textContent\": textContent\n *                  },\n *                  childName: {\n *                      childName: {\n *                          attributeName:attributeValue\n *                      }\n *                  }\n *              }\n *          }\n */\nfunction __readDefault (node) {\n    var data = {};\n\n    // if element node has attributes, set their values to data\n    if (node.attributes.length > 0) {\n        var dataAttributes = __getAttributes(node);\n        data[\"attributes\"] = dataAttributes;\n    }\n\n    // if element node has childNodes, read them and set them to data\n    if (node.hasChildNodes()) {\n        var childData = {};\n        var child;\n        var children = node.childNodes;\n\n        for (var i = 0; i < children.length; i++) {\n            child = children[i];\n\n            if (child.nodeType === 3) { // TEXT_NODE\n                data[\"textContent\"] = child.nodeValue;\n            } else if (child.nodeType === 1) {\n                childData = __readDefault(child);\n\n                if (!data[child.nodeName]) {\n                    // store childData in an object\n                    data[child.nodeName] = childData;\n                } else {\n                    // in case several childNodes has the same name : store them in an array.\n                    // if data[nodeName] already exists but is not an array\n                    if (!Array.isArray(data[child.nodeName])) {\n                        var old = data[child.nodeName];\n                        data[child.nodeName] = [];\n                        data[child.nodeName].push(old);\n                    }\n                    data[child.nodeName].push(childData);\n                }\n            }\n            // TODO : manage other node types (4=CDATA, etc)\n        }\n    }\n\n    return data;\n}\n\n/**\n * Méthode de la classe (privée) permettant de récupérer les attributs d'un noeud élément\n *\n * @private\n * @memberof XML\n * @method __getAttributes\n * @param {DOMElement} node - noeud contenant l'attribut recherché\n * @return {Object} nodeAttributes - objet contenant les noms et valeurs des différents attributs\n */\nfunction __getAttributes (node) {\n    if (node.attributes.length > 0) {\n        var nodeAttributes = {};\n        var attributes = node.attributes;\n        for (var i = 0; i < attributes.length; i++) {\n            var attribute = attributes[i];\n            nodeAttributes[attribute.nodeName] = attribute.nodeValue;\n        }\n        return nodeAttributes;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (XML);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvRm9ybWF0cy9YTUwuanM/NGMxZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7O0FBRThDO0FBQzlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBTyxDQUFDLHNCQUFRLFlBQVk7QUFDcEQ7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isd0JBQXdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvQ0FBb0M7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIscUJBQXFCO0FBQzVDOztBQUVBLHVDQUF1QztBQUN2QztBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxrRUFBRyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Gb3JtYXRzL1hNTC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCByZXF1aXJlICovXG5cbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuLy8gaW1wb3J0IF9feG1sZG9tIGZyb20gXCJ4bWxkb21cIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKlxuICogQ2xhc3NlIHBlcm1ldHRhbnQgZCfDqWNyaXJlIG91IGRlIGxpcmUgZHUgWE1MLCBzb3VzIGZvcm1lIGRlIGRvY3VtZW50IERPTSxcbiAqIMOpdmVudHVlbGxlbWVudCBzZWxvbiBkZXMgY2zDqXMgZGUgbGVjdHVyZSAocmVhZGVycykgb3UgZCfDqWNyaXR1cmUgKHdyaXRlcnMpIHNww6ljaWZpcXVlcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBHcC5Gb3JtYXRzLlhNTFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBvcHRpb25zIGR1IGZvcm1hdCBYTUxcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucmVhZGVyXSAtIEluc3RhbmNlIGQndW4gUmVhZGVyIGRlIHNlcnZpY2UgKEFsdGlSZXNwb25zZVJlYWRlciwgR2VvY29kZVJlcXVlc3RSZWFkZXIsIGV0Yy4pXG4gKiAgICAgIHV0aWxlIHBvdXIgaW50ZXJwcsOpdGVyIGxlIFhNTCBsb3JzcXVlIHNhIHN0cnVjdHVyZSBlc3QgY29ubnVlLlxuICogICAgICBDZSByZWFkZXIgZG9pdCBjb21wb3J0ZXIgYXUgbW9pbnMgdW5lIGZvbmN0aW9uIHN0YXRpcXVlIHJlYWQgKHJvb3QpIHBlcm1ldHRhbnQgZCdpbml0aWFsaXNlciBsYSBsZWN0dXJlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy53cml0ZXJzXSAtIHdyaXRlcnNcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMueG1sU3RyaW5nXSAtIGNoYcOubmUgZGUgY2FyYWN0w6hyZSBjb250ZW5hbnQgZHUgWE1MIMOgIGludGVycHLDqXRlci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBYTUwgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgWE1MKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiWE1MIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gRklYTUUgOiBub3Rpb24gZGUgc2luZ2xldG9uXG5cbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgWE1MICgpXVwiKTtcblxuICAgIC8qKlxuICAgICAqIENoYcOubmUgZGUgY2FyYWN0w6hyZXMgY29udGVuYW50IGxlIHRleHRlIFhNTFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy54bWxTdHJpbmcgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRE9NIEVsZW1lbnQgY29ycmVzcG9uZGFudCDDoCBsYSBzdHJ1Y3R1cmUgZHUgWE1MLlxuICAgICAqIEB0eXBlIHtET01FbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMueG1sRG9jID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE9iamV0IGNvbnRlbmFudCBkZXMgZm9uY3Rpb25zIGRlIGxlY3R1cmUgZGVzIGRpZmbDqXJlbnRlcyBiYWxpc2VzIFhNTC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMucmVhZGVyID0gbnVsbDtcblxuICAgIC8vIHRyYWl0ZW1lbnQgZGVzIHBhcmFtw6h0cmVzIGQnb3B0aW9ucyBzJ2lsIHkgZW4gYVxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnhtbFN0cmluZyAmJiB0eXBlb2Ygb3B0aW9ucy54bWxTdHJpbmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMueG1sU3RyaW5nID0gb3B0aW9ucy54bWxTdHJpbmc7XG4gICAgICAgICAgICAvLyBTaSB1bmUgY2hhaW5lIGRlIGNhcmFjdMOocmUgYSDDqXTDqSBwYXNzw6llIGVuIGVudHLDqWUgOiBvbiBsYSB0cmFuc2Zvcm1lIGF1c3NpIGVuIFhNTCBkb2N1bWVudFxuICAgICAgICAgICAgdGhpcy54bWxEb2MgPSBfX2dldFhNTERPQyhvcHRpb25zLnhtbFN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlYWRlcihvcHRpb25zLnJlYWRlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblhNTC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBAbGVuZHMgbW9kdWxlOlhNTFxuICAgICAqL1xuXG4gICAgLypcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogWE1MLFxuXG4gICAgLyoqXG4gICAgICogTcOpdGhvZGUgcGVybWV0dGFudCBkZSByw6ljdXDDqXJlciBsYSBjaGHDrm5lIGRlIGNhcmFjdMOocmVzIGFzc29jacOpZSBhdSBmb3JtYXQgWE1MXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB4bWxTdHJpbmcgLSBsYSBjaGHDrm5lIGRlIGNhcmFjdMOocmVzIGNvcnJlc3BvbmRhbnQgYXUgZm9ybWF0IFhNTFxuICAgICAqL1xuICAgIGdldFhNTFN0cmluZyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueG1sU3RyaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNw6l0aG9kZSBwZXJtZXR0YW50IGQnYXR0cmlidWVyIHVuZSBjaGHDrm5lIGRlIGNhcmFjdMOocmVzIGF1IGZvcm1hdCBYTUwgKGF0dHJpYnV0IHhtbFN0cmluZykuXG4gICAgICogTGEgbcOpdGhvZGUgdmEgYXVzc2kgdHJhbnNmb3JtZXIgY2V0dGUgY2hhw65uZSBkZSBjYXJhY3TDqHJlcyBlbiBkb2N1bWVudCBYTUwsXG4gICAgICogYWZpbiBkZSByZW1wbGlyIGwnYXR0cmlidXQgeG1sRG9jLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHhtbFN0cmluZyAtIGxhIGNoYcOubmUgZGUgY2FyYWN0w6hyZXMgY29ycmVzcG9uZGFudCBhdSBmb3JtYXQgWE1MXG4gICAgICovXG4gICAgc2V0WE1MU3RyaW5nIDogZnVuY3Rpb24gKHhtbFN0cmluZykge1xuICAgICAgICBpZiAoeG1sU3RyaW5nICYmIHR5cGVvZiB4bWxTdHJpbmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMueG1sU3RyaW5nID0geG1sU3RyaW5nO1xuICAgICAgICAgICAgdGhpcy54bWxEb2MgPSBfX2dldFhNTERPQyh4bWxTdHJpbmcpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE3DqXRob2RlIHBlcm1ldHRhbnQgZGUgcsOpY3Vww6lyZXIgbGVzIHJlYWRlcnMgYXNzb2Npw6lzIGF1IGZvcm1hdCBYTUwsIHMnaWxzIG9udCDDqXTDqSBkw6lmaW5pc1xuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSByZWFkZXJzIC0gbGVzIHJlYWRlcnMgYXNzb2Npw6lzIGF1IGZvcm1hdCBYTUwsIHMnaWxzIGV4aXN0ZW50LFxuICAgICAqICAgICAgc291cyBmb3JtZSBkJ3VuZSBjb2xsZWN0aW9uIGRlIGZvbmN0aW9uc1xuICAgICAqL1xuICAgIGdldFJlYWRlciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZGVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNw6l0aG9kZSBwZXJtZXR0YW50IGQnYXR0cmlidWVyIGRlcyByZWFkZXJzLCBzb3VzIGxhIGZvcm1lIGQndW4gb2JqZXQgZGUgZm9uY3Rpb25zIChub2RlLCBkYXRhKSxcbiAgICAgKiAgICAgIGxvcnNxdSdpbHMgbidvbnQgcGFzIMOpdMOpIGTDqWZpbmlzIGxvcnMgZGUgbCdpbnN0YW5jaWF0aW9uIHBhciBleGVtcGxlIChuZXcgWE1MIChvcHRpb25zKSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVhZGVyIC0gSW5zdGFuY2UgZCd1biBSZWFkZXIgZGUgc2VydmljZSAoQWx0aVJlc3BvbnNlUmVhZGVyLCBHZW9jb2RlUmVxdWVzdFJlYWRlciwgZXRjLilcbiAgICAgKiAgICAgIHV0aWxlIHBvdXIgaW50ZXJwcsOpdGVyIGxlIFhNTCBsb3JzcXVlIHNhIHN0cnVjdHVyZSBlc3QgY29ubnVlLlxuICAgICAqICAgICAgQ2UgcmVhZGVyIGRvaXQgY29tcG9ydGVyIGF1IG1vaW5zIHVuZSBmb25jdGlvbiBzdGF0aXF1ZSByZWFkIChyb290KSBwZXJtZXR0YW50IGQnaW5pdGlhbGlzZXIgbGEgbGVjdHVyZS5cbiAgICAgKi9cbiAgICBzZXRSZWFkZXIgOiBmdW5jdGlvbiAocmVhZGVyKSB7XG4gICAgICAgIGlmIChyZWFkZXIgJiYgcmVhZGVyLnJlYWQgJiYgdHlwZW9mIHJlYWRlci5yZWFkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGVyID0gcmVhZGVyO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE3DqXRob2RlIHBlcm1ldHRhbnQgZGUgcsOpY3Vww6lyZXIgbGUgZG9jdW1lbnQgWE1MIGFzc29jacOpIGF1IGZvcm1hdCwgcydpbCBleGlzdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtET01FbGVtZW50fSB4bWxEb2MgLSBsZSBkb2N1bWVudCBYTUwgKERPTSBkb2N1bWVudCBub2RlKSBzJ2lsIGV4aXN0ZVxuICAgICAqL1xuICAgIGdldFhNTERvYyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueG1sRG9jO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXJcbiAgICAgKi9cbiAgICBzZXRYTUxEb2MgOiBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHRoaXMueG1sRG9jID0gZG9jO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTcOpdGhvZGUgaW5pdGlhbGlzYW50IGxhIGxlY3R1cmUgZHUgWE1MLCDDoCBwYXJ0aXIgZCd1biBYTUwgRG9jdW1lbnQgOlxuICAgICAqICAgICAgY3LDqWF0aW9uIGQndW4gb2JqZXQgSmF2YVNjcmlwdCBjb250ZW5hbnQgbGVzIGluZm9ybWF0aW9ucyBkdSBYTUwsXG4gICAgICogICAgICBzYXVmIGRhbnMgbGUgY2FzIG/DuSBpbCBuJ2V4aXN0ZSBwYXMgZGUgWE1MIERvY3VtZW50IMOgIGludGVycHLDqXRlciAocmV0b3VybmUgdW4gb2JqZXQgdmlkZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFtwYXJzZXJPdXRwdXRdIC0gdW4gb2JqZXQgSmF2YVNjcmlwdCBjb250ZW5hbnQgbGVzIGluZm9ybWF0aW9ucyBkdSBYTUwgOlxuICAgICAqIC0gc29pdCB0b3V0ZXMgbGVzIGluZm9ybWF0aW9ucyBzaSBhdWN1biByZWFkZXIgbidhIMOpdMOpIHNww6ljaWZpw6kgw6AgbGEgY3LDqWF0aW9uIGR1IGZvcm1hdFxuICAgICAqIC0gc29pdCBsZXMgaW5mb3JtYXRpb25zIHNww6ljaWZpw6llcyBkYW5zIGxlIHJlYWRlci5cbiAgICAgKi9cbiAgICBwYXJzZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYnVpbGQgeG1sIGRvY3VtZW50IGZyb20geG1sU3RyaW5nXG4gICAgICAgIGlmICghdGhpcy54bWxEb2MgJiYgdGhpcy54bWxTdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMueG1sRG9jID0gX19nZXRYTUxET0ModGhpcy54bWxTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnhtbERvYykge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfX2dldFJvb3ROb2RlKHRoaXMueG1sRG9jKTtcbiAgICAgICAgICAgIGlmIChyb290KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlck91dHB1dDtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIHJlYWRlciBpZiBleGlzdHNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkZXIgJiYgdGhpcy5yZWFkZXIucmVhZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZXJPdXRwdXQgPSB0aGlzLnJlYWRlci5yZWFkKHJvb3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlck91dHB1dCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBwYXJzZXJPdXRwdXRbcm9vdC5ub2RlTmFtZV0gPSBfX3JlYWREZWZhdWx0KHJvb3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VyT3V0cHV0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbi8qKlxuICogTcOpdGhvZGUgZGUgbGEgY2xhc3NlIChwcml2w6llKSBwZXJtZXR0YW50IGRlIGNyw6llciB1biBYTUwgRG9jdW1lbnQgw6AgcGFydGlyIGQndW5lIGNoYcOubmUgZGUgY2FyYWN0w6hyZXMgWE1MLFxuICogICAgICBlbiB1dGlsaXNhbnQgRE9NUGFyc2VyICgpIGxvcnNxdWUgYydlc3QgcG9zc2libGUuXG4gKiAgICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZHZjcy53My5vcmcvaGcvaW5uZXJodG1sL3Jhdy1maWxlL3RpcC9pbmRleC5odG1sI3RoZS1kb21wYXJzZXItaW50ZXJmYWNlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBYTUxcbiAqIEBtZXRob2QgX19nZXRYTUxET0NcbiAqIEBwYXJhbSB7U3RyaW5nfSB4bWxTdHJpbmcgLSB4bWwgc3RyaW5nIHRvIGJlIGNvbnZlcnRlZCBpbnRvIERPTSBlbGVtZW50XG4gKiBAcmV0dXJuIHtET01FbGVtZW50fSAtIHRoZSBjb3JyZXNwb25kaW5nIFhNTCBEb2N1bWVudFxuICovXG5mdW5jdGlvbiBfX2dldFhNTERPQyAoeG1sU3RyaW5nKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgLy8gZW52LiBub2RlanNcbiAgICAgICAgdmFyIERPTVBhcnNlciA9IHJlcXVpcmUoXCJ4bWxkb21cIikuRE9NUGFyc2VyOyAvLyBfX3htbGRvbS5ET01QYXJzZXI7XG4gICAgICAgIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbFN0cmluZywgXCJ0ZXh0L3htbFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlbnYuIGJyb3dzZXJcblxuICAgICAgICB2YXIgcGFyc2VyO1xuICAgICAgICB2YXIgeG1sRG9jO1xuICAgICAgICB2YXIgZXJyb3JNc2cgPSBcIkVycmV1ciBsb3JzIGR1IHBhcnNpbmcgZGUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSA6IFhNTCBub24gY29uZm9ybWVcIjtcblxuICAgICAgICBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHtcbiAgICAgICAgICAgIC8vIEludGVybmV0IEV4cGxvcmVyIDwgOVxuICAgICAgICAgICAgeG1sRG9jID0gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTERPTVwiKTtcbiAgICAgICAgICAgIHhtbERvYy5hc3luYyA9IGZhbHNlO1xuICAgICAgICAgICAgeG1sRG9jLmxvYWRYTUwoeG1sU3RyaW5nKTtcbiAgICAgICAgICAgIHZhciBwYXJzZUVycm9yID0geG1sRG9jLnBhcnNlRXJyb3I7XG4gICAgICAgICAgICBpZiAocGFyc2VFcnJvci5lcnJvckNvZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VFcnJvci5saW5lICYmIHBhcnNlRXJyb3IubGluZXBvcykge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1zZyArPSBcIiggbGlnbmUgXCIgKyBwYXJzZUVycm9yLmxpbmUgKyBcIiwgY29sb25uZSBcIiArIHBhcnNlRXJyb3IubGluZXBvcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlRXJyb3IucmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnICs9IFwiOiAgXCIgKyBwYXJzZUVycm9yLnJlYXNvbiArIFwiKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHhtbERvYztcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAvLyBsZXMgYXV0cmVzIChDaHJvbWUsIE1vemlsbGEsIElFID49IDkpXG4gICAgICAgICAgICBwYXJzZXIgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbFN0cmluZywgXCJ0ZXh0L3htbFwiKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlciBicm93c2VyIHJhaXNlcyBleGNlcHRpb24gaWYgeG1sU3RyaW5nIGlzIG5vdCB2YWxpZCBYTUxcbiAgICAgICAgICAgICAgICBpZiAoZS5tZXNzYWdlID09PSBcIlN5bnRheEVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJldXIgbG9ycyBkdSBwYXJzaW5nIGRlIGxhIHLDqXBvbnNlIGR1IHNlcnZpY2UgOiBcIiArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9vayBmb3IgcGFyc2luZyBlcnJvciBpbiBjYXNlIG5vIGV4Y2VwdGlvbiB3YXMgcmFpc2VkXG4gICAgICAgICAgICBpZiAoeG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZXJlcnJvciA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VyZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBwYXJzZXJlcnJvcltpXS5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4Y2VwdCBpbiBjYXNlIHBhcnNlcmVycm9yIGlzIGp1c3QgYmVjYXVzZSBvZiBodWdlIHhtbCwgYnV0IHBhcnNpbmcgaXMgZG9uZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuaW5kZXhPZihcIkh1Z2UgaW5wdXQgbG9va3VwXCIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2cgKz0gXCIoXCIgKyBjb250ZW50ICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICgheG1sRG9jLmRvY3VtZW50RWxlbWVudCkgeyAvLyBtYXkgaGFwcGVuIGluIGNocm9tZSBicm93c2VyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4bWxEb2M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGSVhNRVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb21wYXRpYmxlIERPTSBQYXJzZXIgcG91ciBjZSBuYXZpZ2F0ZXVyICFcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogTcOpdGhvZGUgZGUgbGEgY2xhc3NlIChwcml2w6llKSBwZXJtZXR0YW50IGRlIHLDqWN1cMOpcmVyIGxlIG5vZXVkIHJhY2luZSBkdSBkb2N1bWVudCxcbiAqICAgICAgw6AgcGFydGlyIGQndW4gZG9jdW1lbnQgbm9kZSAobm9kZVR5cGU9OSksIHB1aXMgbGVjdHVyZSBkZSBjZSBub2V1ZCAocmVhZE5vZGUpXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBYTUxcbiAqIEBtZXRob2QgX19nZXRSb290Tm9kZVxuICogQHBhcmFtIHtET01FbGVtZW50fSBbeG1sRG9jXSAtIGEgRG9jdW1lbnQgTm9kZVxuICogQHJldHVybiB7RE9NRWxlbWVudH0gcm9vdCAtIHRoZSBkb2N1bWVudCByb290IG5vZGVcbiAqL1xuZnVuY3Rpb24gX19nZXRSb290Tm9kZSAoeG1sRG9jKSB7XG4gICAgdmFyIHJvb3Q7XG4gICAgaWYgKHhtbERvYy5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAvLyBJTkZPIDogbm9kZVR5cGUgOSByZXByZXNlbnRzIHRoZSBlbnRpcmUgZG9jdW1lbnQgKHRoZSByb290LW5vZGUgb2YgdGhlIERPTSB0cmVlKVxuICAgICAgICByb290ID0geG1sRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHhtbERvYy5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICByb290ID0geG1sRG9jO1xuICAgIH1cbiAgICByZXR1cm4gcm9vdDtcbn1cblxuLyoqXG4gKiBNw6l0aG9kZSBkZSBsYSBjbGFzc2UgKHByaXbDqWUpIHBlcm1ldHRhbnQgZGUgbGlyZSBhdXRvbWF0aXF1ZW1lbnQgdW4gbm9ldWQgWE1MLFxuICogICAgICBsb3JzcXUnYXVjdW4gcmVhZGVyIHNww6ljaWZpcXVlIG4nYSDDqXTDqSBzcMOpY2lmacOpIChwYXJzZXIgYnJ1dClcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFhNTFxuICogQG1ldGhvZCByZWFkRGVmYXVsdFxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gYSBET00gZWxlbWVudCBub2RlXG4gKiBAZXhhbXBsZSBmaW5hbCBkYXRhIG9iamVjdCBsb29rcyBsaWtlIDpcbiAqICAgICAgICAgIGRhdGEgPSB7XG4gKiAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogYXR0cmlidXRlVmFsdWUsXG4gKiAgICAgICAgICAgICAgY2hpbGROYW1lOiB7XG4gKiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IGF0dHJpYnV0ZVZhbHVlLFxuICogICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBhdHRyaWJ1dGVWYWx1ZSxcbiAqICAgICAgICAgICAgICAgICAgY2hpbGROYW1lOiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICBcInRleHRDb250ZW50XCI6IHRleHRDb250ZW50XG4gKiAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgIGNoaWxkTmFtZToge1xuICogICAgICAgICAgICAgICAgICAgICAgY2hpbGROYW1lOiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTphdHRyaWJ1dGVWYWx1ZVxuICogICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgfVxuICogICAgICAgICAgfVxuICovXG5mdW5jdGlvbiBfX3JlYWREZWZhdWx0IChub2RlKSB7XG4gICAgdmFyIGRhdGEgPSB7fTtcblxuICAgIC8vIGlmIGVsZW1lbnQgbm9kZSBoYXMgYXR0cmlidXRlcywgc2V0IHRoZWlyIHZhbHVlcyB0byBkYXRhXG4gICAgaWYgKG5vZGUuYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBkYXRhQXR0cmlidXRlcyA9IF9fZ2V0QXR0cmlidXRlcyhub2RlKTtcbiAgICAgICAgZGF0YVtcImF0dHJpYnV0ZXNcIl0gPSBkYXRhQXR0cmlidXRlcztcbiAgICB9XG5cbiAgICAvLyBpZiBlbGVtZW50IG5vZGUgaGFzIGNoaWxkTm9kZXMsIHJlYWQgdGhlbSBhbmQgc2V0IHRoZW0gdG8gZGF0YVxuICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICB2YXIgY2hpbGREYXRhID0ge307XG4gICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMykgeyAvLyBURVhUX05PREVcbiAgICAgICAgICAgICAgICBkYXRhW1widGV4dENvbnRlbnRcIl0gPSBjaGlsZC5ub2RlVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgY2hpbGREYXRhID0gX19yZWFkRGVmYXVsdChjaGlsZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWRhdGFbY2hpbGQubm9kZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIGNoaWxkRGF0YSBpbiBhbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtjaGlsZC5ub2RlTmFtZV0gPSBjaGlsZERhdGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSBzZXZlcmFsIGNoaWxkTm9kZXMgaGFzIHRoZSBzYW1lIG5hbWUgOiBzdG9yZSB0aGVtIGluIGFuIGFycmF5LlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBkYXRhW25vZGVOYW1lXSBhbHJlYWR5IGV4aXN0cyBidXQgaXMgbm90IGFuIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhW2NoaWxkLm5vZGVOYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGQgPSBkYXRhW2NoaWxkLm5vZGVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY2hpbGQubm9kZU5hbWVdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NoaWxkLm5vZGVOYW1lXS5wdXNoKG9sZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YVtjaGlsZC5ub2RlTmFtZV0ucHVzaChjaGlsZERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE8gOiBtYW5hZ2Ugb3RoZXIgbm9kZSB0eXBlcyAoND1DREFUQSwgZXRjKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogTcOpdGhvZGUgZGUgbGEgY2xhc3NlIChwcml2w6llKSBwZXJtZXR0YW50IGRlIHLDqWN1cMOpcmVyIGxlcyBhdHRyaWJ1dHMgZCd1biBub2V1ZCDDqWzDqW1lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFhNTFxuICogQG1ldGhvZCBfX2dldEF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSAtIG5vZXVkIGNvbnRlbmFudCBsJ2F0dHJpYnV0IHJlY2hlcmNow6lcbiAqIEByZXR1cm4ge09iamVjdH0gbm9kZUF0dHJpYnV0ZXMgLSBvYmpldCBjb250ZW5hbnQgbGVzIG5vbXMgZXQgdmFsZXVycyBkZXMgZGlmZsOpcmVudHMgYXR0cmlidXRzXG4gKi9cbmZ1bmN0aW9uIF9fZ2V0QXR0cmlidXRlcyAobm9kZSkge1xuICAgIGlmIChub2RlLmF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgbm9kZUF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBub2RlQXR0cmlidXRlc1thdHRyaWJ1dGUubm9kZU5hbWVdID0gYXR0cmlidXRlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZUF0dHJpYnV0ZXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBYTUw7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Formats/XML.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Gp.js":
/*!*****************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Gp.js ***!
  \*****************************************************/
/*! exports provided: servicesVersion, servicesDate, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"servicesVersion\", function() { return servicesVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"servicesDate\", function() { return servicesDate; });\n/* harmony import */ var _Services_Services__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Services/Services */ \"./node_modules/geoportal-access-lib/src/Services/Services.js\");\n/* harmony import */ var _Services_DefaultUrlService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Services/DefaultUrlService */ \"./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js\");\n/* harmony import */ var _Services_Alti_Response_model_AltiResponse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Services/Alti/Response/model/AltiResponse */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/AltiResponse.js\");\n/* harmony import */ var _Services_Alti_Response_model_Elevation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Services/Alti/Response/model/Elevation */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/Elevation.js\");\n/* harmony import */ var _Services_AutoComplete_Response_model_AutoCompleteResponse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Services/AutoComplete/Response/model/AutoCompleteResponse */ \"./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/AutoCompleteResponse.js\");\n/* harmony import */ var _Services_AutoComplete_Response_model_SuggestedLocation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Services/AutoComplete/Response/model/SuggestedLocation */ \"./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/SuggestedLocation.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_AutoConfResponse__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/AutoConfResponse */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/AutoConfResponse.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Constraint__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Constraint */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Constraint.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Format__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Format */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Format.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Layer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Layer */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Layer.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Legend__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Legend */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Legend.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Metadata__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Metadata */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Metadata.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Originator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Originator */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Originator.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Service */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Service.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Style__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Style */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Style.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Territory__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Territory */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Territory.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_Thematic__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/Thematic */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Thematic.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_TileMatrix__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/TileMatrix */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrix.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_TileMatrixLimit__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/TileMatrixLimit */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixLimit.js\");\n/* harmony import */ var _Services_AutoConf_Response_model_TileMatrixSet__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Services/AutoConf/Response/model/TileMatrixSet */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixSet.js\");\n/* harmony import */ var _Services_Geocode_Response_model_GeocodeResponse__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Services/Geocode/Response/model/GeocodeResponse */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodeResponse.js\");\n/* harmony import */ var _Services_Geocode_Response_model_GeocodedLocation__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Services/Geocode/Response/model/GeocodedLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodedLocation.js\");\n/* harmony import */ var _Services_Geocode_Response_model_DirectGeocodedLocation__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Services/Geocode/Response/model/DirectGeocodedLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/DirectGeocodedLocation.js\");\n/* harmony import */ var _Services_Geocode_Response_model_ReverseGeocodedLocation__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Services/Geocode/Response/model/ReverseGeocodedLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/ReverseGeocodedLocation.js\");\n/* harmony import */ var _Services_ProcessIsoCurve_Response_model_ProcessIsoCurveResponse__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Services/ProcessIsoCurve/Response/model/ProcessIsoCurveResponse */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/model/ProcessIsoCurveResponse.js\");\n/* harmony import */ var _Services_Route_Response_model_RouteResponse__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Services/Route/Response/model/RouteResponse */ \"./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteResponse.js\");\n/* harmony import */ var _Services_Route_Response_model_RouteInstruction__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Services/Route/Response/model/RouteInstruction */ \"./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteInstruction.js\");\n/* harmony import */ var _Protocols_XHR__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Protocols/XHR */ \"./node_modules/geoportal-access-lib/src/Protocols/XHR.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./Utils/Helper */ \"./node_modules/geoportal-access-lib/src/Utils/Helper.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../package.json */ \"./node_modules/geoportal-access-lib/package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_30___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"./node_modules/geoportal-access-lib/package.json\", 1);\n/**\n* Global variable Gp.\n*\n* @module Gp\n* @alias Gp\n* @description\n*\n* This is the global variable that is exposed in the browser environment.\n* Content is composed of constructor, functions and properties...\n*\n* > {@link Gp.Error Error()}\n*     - .TYPE_SRVERR : \"SERVICE_ERROR\"\n*     - .TYPE_UNKERR : \"UNKNOWN_ERROR\"\n*     - .TYPE_USEERR : \"USAGE_ERROR\"\n*\n* > {@link module:Helper Helper}\n*     - .indent()\n*     - .normalyzeParameters()\n*     - .normalyzeUrl()\n*\n* > {@link module:XHR Protocols.XHR}\n*     - .call()\n*\n* > {@link module:Services Services (objects)}\n*     - .Alti\n*         - {@link Gp.Services.Alti.Elevation .Elevation()}\n*     - {@link Gp.Services.AltiResponse .AltiResponse()}\n*     - .AutoComplete\n*         - {@link Gp.Services.AutoComplete.SuggestedLocation .SuggestedLocation()}\n*     - {@link Gp.Services.AutoCompleteResponse .AutoCompleteResponse()}\n*     - {@link Gp.Services.Config .Config()}\n*     - {@link Gp.Services.DefaultUrl .DefaultUrl()}\n*     - .Geocode\n*         - {@link Gp.Services.Geocode.GeocodedLocation .GeocodedLocation()}\n*         - {@link Gp.Services.Geocode.ReverseGeocodedLocation .ReverseGeocodedLocation()}\n*         - {@link Gp.Services.Geocode.DirectGeocodedLocation .DirectGeocodedLocation()}\n*     - {@link Gp.Services.GeocodeResponse .GeocodeResponse()}\n*     - {@link Gp.Services.GetConfigResponse .GetConfigResponse()}\n*     - {@link Gp.Services.IsoCurveResponse .IsoCurveResponse()}\n*     - .Route\n*         - {@link Gp.Services.Route.RouteInstruction .RouteInstruction()}\n*     - {@link Gp.Services.RouteResponse .RouteResponse()}\n*\n* > Services (factory)\n*     - {@link module:Services~autoComplete .autoComplete()}\n*     - {@link module:Services~geocode .geocode()}\n*     - {@link module:Services~getAltitude .getAltitude()}\n*     - {@link module:Services~getConfig .getConfig()}\n*     - {@link module:Services~isoCurve .isoCurve()}\n*     - {@link module:Services~reverseGeocode .reverseGeocode()}\n*     - {@link module:Services~route .route()}\n*\n* > servicesDate : \"YYYY-MM-DD\"\n*\n* > servicesVersion : \"X.X.X\"\n*\n*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Version */\nconst servicesVersion = _package_json__WEBPACK_IMPORTED_MODULE_30__.version;\n/** Publication date */\nconst servicesDate = _package_json__WEBPACK_IMPORTED_MODULE_30__.date;\n\n// on declare les ns dans root global\nvar Gp = {};\n\nGp.servicesVersion = servicesVersion;\nGp.servicesDate = servicesDate;\n\n// Export Protocols\nGp.Protocols = {};\nGp.Protocols.XHR = _Protocols_XHR__WEBPACK_IMPORTED_MODULE_27__[\"default\"];\n// Export services\nGp.Services = _Services_Services__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n// Export DefaultUrls\nGp.Services.DefaultUrl = _Services_DefaultUrlService__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n// Export Alti\nGp.Services.AltiResponse = _Services_Alti_Response_model_AltiResponse__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nGp.Services.Alti = {};\nGp.Services.Alti.Elevation = _Services_Alti_Response_model_Elevation__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n// Export Autocomplete\nGp.Services.AutoCompleteResponse = _Services_AutoComplete_Response_model_AutoCompleteResponse__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nGp.Services.AutoComplete = {};\nGp.Services.AutoComplete.SuggestedLocation = _Services_AutoComplete_Response_model_SuggestedLocation__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\n// Export Autoconf\nGp.Services.GetConfigResponse = _Services_AutoConf_Response_model_AutoConfResponse__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nGp.Services.Config = {};\nGp.Services.Config.Constraint = _Services_AutoConf_Response_model_Constraint__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\nGp.Services.Config.Format = _Services_AutoConf_Response_model_Format__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\nGp.Services.Config.Layer = _Services_AutoConf_Response_model_Layer__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\nGp.Services.Config.Legend = _Services_AutoConf_Response_model_Legend__WEBPACK_IMPORTED_MODULE_10__[\"default\"];\nGp.Services.Config.Metadata = _Services_AutoConf_Response_model_Metadata__WEBPACK_IMPORTED_MODULE_11__[\"default\"];\nGp.Services.Config.Originator = _Services_AutoConf_Response_model_Originator__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\nGp.Services.Config.Service = _Services_AutoConf_Response_model_Service__WEBPACK_IMPORTED_MODULE_13__[\"default\"];\nGp.Services.Config.Style = _Services_AutoConf_Response_model_Style__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\nGp.Services.Config.Territory = _Services_AutoConf_Response_model_Territory__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\nGp.Services.Config.Thematic = _Services_AutoConf_Response_model_Thematic__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\nGp.Services.Config.TileMatrix = _Services_AutoConf_Response_model_TileMatrix__WEBPACK_IMPORTED_MODULE_17__[\"default\"];\nGp.Services.Config.TileMatrixLimit = _Services_AutoConf_Response_model_TileMatrixLimit__WEBPACK_IMPORTED_MODULE_18__[\"default\"];\nGp.Services.Config.TileMatrixSet = _Services_AutoConf_Response_model_TileMatrixSet__WEBPACK_IMPORTED_MODULE_19__[\"default\"];\n// Export Geocode\nGp.Services.GeocodeResponse = _Services_Geocode_Response_model_GeocodeResponse__WEBPACK_IMPORTED_MODULE_20__[\"default\"];\nGp.Services.Geocode = {};\nGp.Services.Geocode.GeocodedLocation = _Services_Geocode_Response_model_GeocodedLocation__WEBPACK_IMPORTED_MODULE_21__[\"default\"];\nGp.Services.Geocode.DirectGeocodedLocation = _Services_Geocode_Response_model_DirectGeocodedLocation__WEBPACK_IMPORTED_MODULE_22__[\"default\"];\nGp.Services.Geocode.ReverseGeocodedLocation = _Services_Geocode_Response_model_ReverseGeocodedLocation__WEBPACK_IMPORTED_MODULE_23__[\"default\"];\n// Export IsoCurve\nGp.Services.IsoCurveResponse = _Services_ProcessIsoCurve_Response_model_ProcessIsoCurveResponse__WEBPACK_IMPORTED_MODULE_24__[\"default\"];\n// Export Route\nGp.Services.RouteResponse = _Services_Route_Response_model_RouteResponse__WEBPACK_IMPORTED_MODULE_25__[\"default\"];\nGp.Services.Route = {};\nGp.Services.Route.RouteInstruction = _Services_Route_Response_model_RouteInstruction__WEBPACK_IMPORTED_MODULE_26__[\"default\"];\n// Export Erreurs et Outils\nGp.Error = _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_28__[\"default\"];\nGp.Helper = _Utils_Helper__WEBPACK_IMPORTED_MODULE_29__[\"default\"];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Gp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvR3AuanM/NjZhOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULFNBQVM7QUFDVCxTQUFTO0FBQ1Q7QUFDQSxhQUFhO0FBQ2IsYUFBYTtBQUNiLGFBQWE7QUFDYixTQUFTO0FBQ1QsU0FBUztBQUNULFNBQVM7QUFDVDtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxTQUFTO0FBQ1QsU0FBUztBQUNULFNBQVM7QUFDVCxTQUFTO0FBQ1QsU0FBUztBQUNULFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJDO0FBQ1c7QUFDaUI7QUFDTjtBQUM4QjtBQUNOO0FBQ0w7QUFDYjtBQUNSO0FBQ0Y7QUFDRTtBQUNJO0FBQ0k7QUFDTjtBQUNKO0FBQ1E7QUFDRjtBQUNKO0FBQ1U7QUFDTjtBQUNhO0FBQ0U7QUFDWTtBQUNFO0FBQ0M7QUFDdkI7QUFDTTtBQUM5QztBQUNZO0FBQ1Y7O0FBRUY7O0FBRWxDO0FBQ08sd0JBQXdCLDJDQUFHO0FBQ2xDO0FBQ08scUJBQXFCLDJDQUFHOztBQUUvQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQix1REFBRztBQUN0QjtBQUNBLGNBQWMsMERBQVE7QUFDdEI7QUFDQSx5QkFBeUIsbUVBQVU7QUFDbkM7QUFDQSwyQkFBMkIsa0ZBQVk7QUFDdkM7QUFDQSw2QkFBNkIsK0VBQVM7QUFDdEM7QUFDQSxtQ0FBbUMsa0dBQW9CO0FBQ3ZEO0FBQ0EsNkNBQTZDLCtGQUFpQjtBQUM5RDtBQUNBLGdDQUFnQywwRkFBaUI7QUFDakQ7QUFDQSxnQ0FBZ0Msb0ZBQVU7QUFDMUMsNEJBQTRCLGdGQUFNO0FBQ2xDLDJCQUEyQiwrRUFBSztBQUNoQyw0QkFBNEIsaUZBQU07QUFDbEMsOEJBQThCLG1GQUFRO0FBQ3RDLGdDQUFnQyxxRkFBVTtBQUMxQyw2QkFBNkIsa0ZBQU87QUFDcEMsMkJBQTJCLGdGQUFLO0FBQ2hDLCtCQUErQixvRkFBUztBQUN4Qyw4QkFBOEIsbUZBQVE7QUFDdEMsZ0NBQWdDLHFGQUFFO0FBQ2xDLHFDQUFxQywwRkFBTztBQUM1QyxtQ0FBbUMsd0ZBQUc7QUFDdEM7QUFDQSw4QkFBOEIseUZBQWU7QUFDN0M7QUFDQSx1Q0FBdUMsMEZBQWdCO0FBQ3ZELDZDQUE2QyxnR0FBc0I7QUFDbkUsOENBQThDLGlHQUF1QjtBQUNyRTtBQUNBLCtCQUErQix5R0FBZ0I7QUFDL0M7QUFDQSw0QkFBNEIscUZBQWE7QUFDekM7QUFDQSxxQ0FBcUMsd0ZBQWdCO0FBQ3JEO0FBQ0EsV0FBVyxpRUFBSztBQUNoQixZQUFZLHNEQUFNOztBQUVILGlFQUFFLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL0dwLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEdsb2JhbCB2YXJpYWJsZSBHcC5cbipcbiogQG1vZHVsZSBHcFxuKiBAYWxpYXMgR3BcbiogQGRlc2NyaXB0aW9uXG4qXG4qIFRoaXMgaXMgdGhlIGdsb2JhbCB2YXJpYWJsZSB0aGF0IGlzIGV4cG9zZWQgaW4gdGhlIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4qIENvbnRlbnQgaXMgY29tcG9zZWQgb2YgY29uc3RydWN0b3IsIGZ1bmN0aW9ucyBhbmQgcHJvcGVydGllcy4uLlxuKlxuKiA+IHtAbGluayBHcC5FcnJvciBFcnJvcigpfVxuKiAgICAgLSAuVFlQRV9TUlZFUlIgOiBcIlNFUlZJQ0VfRVJST1JcIlxuKiAgICAgLSAuVFlQRV9VTktFUlIgOiBcIlVOS05PV05fRVJST1JcIlxuKiAgICAgLSAuVFlQRV9VU0VFUlIgOiBcIlVTQUdFX0VSUk9SXCJcbipcbiogPiB7QGxpbmsgbW9kdWxlOkhlbHBlciBIZWxwZXJ9XG4qICAgICAtIC5pbmRlbnQoKVxuKiAgICAgLSAubm9ybWFseXplUGFyYW1ldGVycygpXG4qICAgICAtIC5ub3JtYWx5emVVcmwoKVxuKlxuKiA+IHtAbGluayBtb2R1bGU6WEhSIFByb3RvY29scy5YSFJ9XG4qICAgICAtIC5jYWxsKClcbipcbiogPiB7QGxpbmsgbW9kdWxlOlNlcnZpY2VzIFNlcnZpY2VzIChvYmplY3RzKX1cbiogICAgIC0gLkFsdGlcbiogICAgICAgICAtIHtAbGluayBHcC5TZXJ2aWNlcy5BbHRpLkVsZXZhdGlvbiAuRWxldmF0aW9uKCl9XG4qICAgICAtIHtAbGluayBHcC5TZXJ2aWNlcy5BbHRpUmVzcG9uc2UgLkFsdGlSZXNwb25zZSgpfVxuKiAgICAgLSAuQXV0b0NvbXBsZXRlXG4qICAgICAgICAgLSB7QGxpbmsgR3AuU2VydmljZXMuQXV0b0NvbXBsZXRlLlN1Z2dlc3RlZExvY2F0aW9uIC5TdWdnZXN0ZWRMb2NhdGlvbigpfVxuKiAgICAgLSB7QGxpbmsgR3AuU2VydmljZXMuQXV0b0NvbXBsZXRlUmVzcG9uc2UgLkF1dG9Db21wbGV0ZVJlc3BvbnNlKCl9XG4qICAgICAtIHtAbGluayBHcC5TZXJ2aWNlcy5Db25maWcgLkNvbmZpZygpfVxuKiAgICAgLSB7QGxpbmsgR3AuU2VydmljZXMuRGVmYXVsdFVybCAuRGVmYXVsdFVybCgpfVxuKiAgICAgLSAuR2VvY29kZVxuKiAgICAgICAgIC0ge0BsaW5rIEdwLlNlcnZpY2VzLkdlb2NvZGUuR2VvY29kZWRMb2NhdGlvbiAuR2VvY29kZWRMb2NhdGlvbigpfVxuKiAgICAgICAgIC0ge0BsaW5rIEdwLlNlcnZpY2VzLkdlb2NvZGUuUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24gLlJldmVyc2VHZW9jb2RlZExvY2F0aW9uKCl9XG4qICAgICAgICAgLSB7QGxpbmsgR3AuU2VydmljZXMuR2VvY29kZS5EaXJlY3RHZW9jb2RlZExvY2F0aW9uIC5EaXJlY3RHZW9jb2RlZExvY2F0aW9uKCl9XG4qICAgICAtIHtAbGluayBHcC5TZXJ2aWNlcy5HZW9jb2RlUmVzcG9uc2UgLkdlb2NvZGVSZXNwb25zZSgpfVxuKiAgICAgLSB7QGxpbmsgR3AuU2VydmljZXMuR2V0Q29uZmlnUmVzcG9uc2UgLkdldENvbmZpZ1Jlc3BvbnNlKCl9XG4qICAgICAtIHtAbGluayBHcC5TZXJ2aWNlcy5Jc29DdXJ2ZVJlc3BvbnNlIC5Jc29DdXJ2ZVJlc3BvbnNlKCl9XG4qICAgICAtIC5Sb3V0ZVxuKiAgICAgICAgIC0ge0BsaW5rIEdwLlNlcnZpY2VzLlJvdXRlLlJvdXRlSW5zdHJ1Y3Rpb24gLlJvdXRlSW5zdHJ1Y3Rpb24oKX1cbiogICAgIC0ge0BsaW5rIEdwLlNlcnZpY2VzLlJvdXRlUmVzcG9uc2UgLlJvdXRlUmVzcG9uc2UoKX1cbipcbiogPiBTZXJ2aWNlcyAoZmFjdG9yeSlcbiogICAgIC0ge0BsaW5rIG1vZHVsZTpTZXJ2aWNlc35hdXRvQ29tcGxldGUgLmF1dG9Db21wbGV0ZSgpfVxuKiAgICAgLSB7QGxpbmsgbW9kdWxlOlNlcnZpY2Vzfmdlb2NvZGUgLmdlb2NvZGUoKX1cbiogICAgIC0ge0BsaW5rIG1vZHVsZTpTZXJ2aWNlc35nZXRBbHRpdHVkZSAuZ2V0QWx0aXR1ZGUoKX1cbiogICAgIC0ge0BsaW5rIG1vZHVsZTpTZXJ2aWNlc35nZXRDb25maWcgLmdldENvbmZpZygpfVxuKiAgICAgLSB7QGxpbmsgbW9kdWxlOlNlcnZpY2Vzfmlzb0N1cnZlIC5pc29DdXJ2ZSgpfVxuKiAgICAgLSB7QGxpbmsgbW9kdWxlOlNlcnZpY2VzfnJldmVyc2VHZW9jb2RlIC5yZXZlcnNlR2VvY29kZSgpfVxuKiAgICAgLSB7QGxpbmsgbW9kdWxlOlNlcnZpY2VzfnJvdXRlIC5yb3V0ZSgpfVxuKlxuKiA+IHNlcnZpY2VzRGF0ZSA6IFwiWVlZWS1NTS1ERFwiXG4qXG4qID4gc2VydmljZXNWZXJzaW9uIDogXCJYLlguWFwiXG4qXG4qL1xuXG5pbXBvcnQgU2VydmljZXMgZnJvbSBcIi4vU2VydmljZXMvU2VydmljZXNcIjtcbmltcG9ydCBEZWZhdWx0VXJsIGZyb20gXCIuL1NlcnZpY2VzL0RlZmF1bHRVcmxTZXJ2aWNlXCI7XG5pbXBvcnQgQWx0aVJlc3BvbnNlIGZyb20gXCIuL1NlcnZpY2VzL0FsdGkvUmVzcG9uc2UvbW9kZWwvQWx0aVJlc3BvbnNlXCI7XG5pbXBvcnQgRWxldmF0aW9uIGZyb20gXCIuL1NlcnZpY2VzL0FsdGkvUmVzcG9uc2UvbW9kZWwvRWxldmF0aW9uXCI7XG5pbXBvcnQgQXV0b0NvbXBsZXRlUmVzcG9uc2UgZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbXBsZXRlL1Jlc3BvbnNlL21vZGVsL0F1dG9Db21wbGV0ZVJlc3BvbnNlXCI7XG5pbXBvcnQgU3VnZ2VzdGVkTG9jYXRpb24gZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbXBsZXRlL1Jlc3BvbnNlL21vZGVsL1N1Z2dlc3RlZExvY2F0aW9uXCI7XG5pbXBvcnQgR2V0Q29uZmlnUmVzcG9uc2UgZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvQXV0b0NvbmZSZXNwb25zZVwiO1xuaW1wb3J0IENvbnN0cmFpbnQgZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvQ29uc3RyYWludFwiO1xuaW1wb3J0IEZvcm1hdCBmcm9tIFwiLi9TZXJ2aWNlcy9BdXRvQ29uZi9SZXNwb25zZS9tb2RlbC9Gb3JtYXRcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9TZXJ2aWNlcy9BdXRvQ29uZi9SZXNwb25zZS9tb2RlbC9MYXllclwiO1xuaW1wb3J0IExlZ2VuZCBmcm9tIFwiLi9TZXJ2aWNlcy9BdXRvQ29uZi9SZXNwb25zZS9tb2RlbC9MZWdlbmRcIjtcbmltcG9ydCBNZXRhZGF0YSBmcm9tIFwiLi9TZXJ2aWNlcy9BdXRvQ29uZi9SZXNwb25zZS9tb2RlbC9NZXRhZGF0YVwiO1xuaW1wb3J0IE9yaWdpbmF0b3IgZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvT3JpZ2luYXRvclwiO1xuaW1wb3J0IFNlcnZpY2UgZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvU2VydmljZVwiO1xuaW1wb3J0IFN0eWxlIGZyb20gXCIuL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1N0eWxlXCI7XG5pbXBvcnQgVGVycml0b3J5IGZyb20gXCIuL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1RlcnJpdG9yeVwiO1xuaW1wb3J0IFRoZW1hdGljIGZyb20gXCIuL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1RoZW1hdGljXCI7XG5pbXBvcnQgVE0gZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGlsZU1hdHJpeFwiO1xuaW1wb3J0IFRNTGltaXQgZnJvbSBcIi4vU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGlsZU1hdHJpeExpbWl0XCI7XG5pbXBvcnQgVE1TIGZyb20gXCIuL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1RpbGVNYXRyaXhTZXRcIjtcbmltcG9ydCBHZW9jb2RlUmVzcG9uc2UgZnJvbSBcIi4vU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9HZW9jb2RlUmVzcG9uc2VcIjtcbmltcG9ydCBHZW9jb2RlZExvY2F0aW9uIGZyb20gXCIuL1NlcnZpY2VzL0dlb2NvZGUvUmVzcG9uc2UvbW9kZWwvR2VvY29kZWRMb2NhdGlvblwiO1xuaW1wb3J0IERpcmVjdEdlb2NvZGVkTG9jYXRpb24gZnJvbSBcIi4vU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9EaXJlY3RHZW9jb2RlZExvY2F0aW9uXCI7XG5pbXBvcnQgUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24gZnJvbSBcIi4vU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9SZXZlcnNlR2VvY29kZWRMb2NhdGlvblwiO1xuaW1wb3J0IElzb0N1cnZlUmVzcG9uc2UgZnJvbSBcIi4vU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL1Jlc3BvbnNlL21vZGVsL1Byb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlXCI7XG5pbXBvcnQgUm91dGVSZXNwb25zZSBmcm9tIFwiLi9TZXJ2aWNlcy9Sb3V0ZS9SZXNwb25zZS9tb2RlbC9Sb3V0ZVJlc3BvbnNlXCI7XG5pbXBvcnQgUm91dGVJbnN0cnVjdGlvbiBmcm9tIFwiLi9TZXJ2aWNlcy9Sb3V0ZS9SZXNwb25zZS9tb2RlbC9Sb3V0ZUluc3RydWN0aW9uXCI7XG5pbXBvcnQgWEhSIGZyb20gXCIuL1Byb3RvY29scy9YSFJcIjtcbmltcG9ydCBFcnJvciBmcm9tIFwiLi9FeGNlcHRpb25zL0Vycm9yU2VydmljZVwiO1xuaW1wb3J0IEhlbHBlciBmcm9tIFwiLi9VdGlscy9IZWxwZXJcIjtcblxuaW1wb3J0IFBrZyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5cbi8qKiBWZXJzaW9uICovXG5leHBvcnQgY29uc3Qgc2VydmljZXNWZXJzaW9uID0gUGtnLnZlcnNpb247XG4vKiogUHVibGljYXRpb24gZGF0ZSAqL1xuZXhwb3J0IGNvbnN0IHNlcnZpY2VzRGF0ZSA9IFBrZy5kYXRlO1xuXG4vLyBvbiBkZWNsYXJlIGxlcyBucyBkYW5zIHJvb3QgZ2xvYmFsXG52YXIgR3AgPSB7fTtcblxuR3Auc2VydmljZXNWZXJzaW9uID0gc2VydmljZXNWZXJzaW9uO1xuR3Auc2VydmljZXNEYXRlID0gc2VydmljZXNEYXRlO1xuXG4vLyBFeHBvcnQgUHJvdG9jb2xzXG5HcC5Qcm90b2NvbHMgPSB7fTtcbkdwLlByb3RvY29scy5YSFIgPSBYSFI7XG4vLyBFeHBvcnQgc2VydmljZXNcbkdwLlNlcnZpY2VzID0gU2VydmljZXM7XG4vLyBFeHBvcnQgRGVmYXVsdFVybHNcbkdwLlNlcnZpY2VzLkRlZmF1bHRVcmwgPSBEZWZhdWx0VXJsO1xuLy8gRXhwb3J0IEFsdGlcbkdwLlNlcnZpY2VzLkFsdGlSZXNwb25zZSA9IEFsdGlSZXNwb25zZTtcbkdwLlNlcnZpY2VzLkFsdGkgPSB7fTtcbkdwLlNlcnZpY2VzLkFsdGkuRWxldmF0aW9uID0gRWxldmF0aW9uO1xuLy8gRXhwb3J0IEF1dG9jb21wbGV0ZVxuR3AuU2VydmljZXMuQXV0b0NvbXBsZXRlUmVzcG9uc2UgPSBBdXRvQ29tcGxldGVSZXNwb25zZTtcbkdwLlNlcnZpY2VzLkF1dG9Db21wbGV0ZSA9IHt9O1xuR3AuU2VydmljZXMuQXV0b0NvbXBsZXRlLlN1Z2dlc3RlZExvY2F0aW9uID0gU3VnZ2VzdGVkTG9jYXRpb247XG4vLyBFeHBvcnQgQXV0b2NvbmZcbkdwLlNlcnZpY2VzLkdldENvbmZpZ1Jlc3BvbnNlID0gR2V0Q29uZmlnUmVzcG9uc2U7XG5HcC5TZXJ2aWNlcy5Db25maWcgPSB7fTtcbkdwLlNlcnZpY2VzLkNvbmZpZy5Db25zdHJhaW50ID0gQ29uc3RyYWludDtcbkdwLlNlcnZpY2VzLkNvbmZpZy5Gb3JtYXQgPSBGb3JtYXQ7XG5HcC5TZXJ2aWNlcy5Db25maWcuTGF5ZXIgPSBMYXllcjtcbkdwLlNlcnZpY2VzLkNvbmZpZy5MZWdlbmQgPSBMZWdlbmQ7XG5HcC5TZXJ2aWNlcy5Db25maWcuTWV0YWRhdGEgPSBNZXRhZGF0YTtcbkdwLlNlcnZpY2VzLkNvbmZpZy5PcmlnaW5hdG9yID0gT3JpZ2luYXRvcjtcbkdwLlNlcnZpY2VzLkNvbmZpZy5TZXJ2aWNlID0gU2VydmljZTtcbkdwLlNlcnZpY2VzLkNvbmZpZy5TdHlsZSA9IFN0eWxlO1xuR3AuU2VydmljZXMuQ29uZmlnLlRlcnJpdG9yeSA9IFRlcnJpdG9yeTtcbkdwLlNlcnZpY2VzLkNvbmZpZy5UaGVtYXRpYyA9IFRoZW1hdGljO1xuR3AuU2VydmljZXMuQ29uZmlnLlRpbGVNYXRyaXggPSBUTTtcbkdwLlNlcnZpY2VzLkNvbmZpZy5UaWxlTWF0cml4TGltaXQgPSBUTUxpbWl0O1xuR3AuU2VydmljZXMuQ29uZmlnLlRpbGVNYXRyaXhTZXQgPSBUTVM7XG4vLyBFeHBvcnQgR2VvY29kZVxuR3AuU2VydmljZXMuR2VvY29kZVJlc3BvbnNlID0gR2VvY29kZVJlc3BvbnNlO1xuR3AuU2VydmljZXMuR2VvY29kZSA9IHt9O1xuR3AuU2VydmljZXMuR2VvY29kZS5HZW9jb2RlZExvY2F0aW9uID0gR2VvY29kZWRMb2NhdGlvbjtcbkdwLlNlcnZpY2VzLkdlb2NvZGUuRGlyZWN0R2VvY29kZWRMb2NhdGlvbiA9IERpcmVjdEdlb2NvZGVkTG9jYXRpb247XG5HcC5TZXJ2aWNlcy5HZW9jb2RlLlJldmVyc2VHZW9jb2RlZExvY2F0aW9uID0gUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb247XG4vLyBFeHBvcnQgSXNvQ3VydmVcbkdwLlNlcnZpY2VzLklzb0N1cnZlUmVzcG9uc2UgPSBJc29DdXJ2ZVJlc3BvbnNlO1xuLy8gRXhwb3J0IFJvdXRlXG5HcC5TZXJ2aWNlcy5Sb3V0ZVJlc3BvbnNlID0gUm91dGVSZXNwb25zZTtcbkdwLlNlcnZpY2VzLlJvdXRlID0ge307XG5HcC5TZXJ2aWNlcy5Sb3V0ZS5Sb3V0ZUluc3RydWN0aW9uID0gUm91dGVJbnN0cnVjdGlvbjtcbi8vIEV4cG9ydCBFcnJldXJzIGV0IE91dGlsc1xuR3AuRXJyb3IgPSBFcnJvcjtcbkdwLkhlbHBlciA9IEhlbHBlcjtcblxuZXhwb3J0IGRlZmF1bHQgR3A7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Gp.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Protocols/JSONP.js":
/*!******************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Protocols/JSONP.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/**\n * JSONP : Implémentation du protocole JSONP de la plateforme Géoportail\n *\n * @module JSONP\n * @private\n * @alias Gp.Protocols.JSONP\n */\n\n\n// cf. https://github.com/sobstel/jsonp.js\nvar JSONP = {\n\n    /**\n     * Construction d'un identifiant statique basé sur le timestamp,\n     * et qui s'incremente de +1 à chaque appel\n     */\n    uuid : (function () {\n        var id = Math.floor(Date.now());\n        return function () {\n            return id++;\n        };\n    })(),\n\n    /**\n     * Cette fonction réalise l'appel du service fourni via le paramètre \"options.url\"\n     * en mettant en œuvre le protocole JSONP.\n     *\n     * @method call\n     * @static\n     * @param {Object} options - parametres d'invocation du service en JSONP\n     * @param {String} options.url - URL du service à invoquer (indépendamment du protocole JSONP).\n     *  Cette URL contient déjà les paramètres du service.\n     *  Si le paramètre dédié à la mise en oeuvre du protocole JSONP (callback=xxx) n'est pas présent, il est rajouté par la fonction ;\n     *  sa valeur est déterminée en fonction du paramètre callbackName.\n     * @param {Number} [options.timeOut = 0] - Nombre de ms au bout duquel on considère que le service n'a pas répondu.\n     *  Une valeur de 0 pour ce paramètre permet de désactiver la gestion du timeOut.\n     * @param {String} [options.callbackSuffix = null] - Suffixe de la fonction de callback à rajouter sur l'URL.\n     *  Si aucun suffixe n'est spécifié (cas par défaut), on utilisera l'identifiant this.uuid () comme suffixe. Ex: \"callback1458574396582 ()\"\n     * @param {String} [options.callbackName = gp.protocol.jsonp] - Valeur du paramètre callback à rajouter sur l'URL.\n     *  Si l'URL fournie contient déjà le paramètre callback, le paramètre callbackName ne sera pas pris en compte.\n     *  La fonction de callback est créée dynamiquement par la fonction JSONP ;\n     *  elle a deux fonctions :\n     *    elle annule la condition de timeOut\n     *    puis appelle la fonction fournie par l'utilisateur via le paramètre onResponse.\n     * @param {Function} options.onResponse - Nom de la fonction qui sera appelée lors de la réception des résultats du service.\n     *  Ce paramètre sera ignoré si l'URL contient déjà le paramètre callback.\n     *  La fonction de rappel appelée sera alors celle ayant pour nom la valeur de ce paramètre.\n     * @param {Function} [options.onTimeOut] - Nom de la fonction qui sera appelée en cas de non réponse du service.\n     *  Le temps au bout duquel on considère que le service n'a pas répondu est déterminé par le paramètre timeOut.\n     *  @example\n     *  var options = {\n     *      url : 'http://localhost/some/test.json&callback=myResults',\n     *      timeOut : 100,\n     *      callbackName : 'myResults',\n     *      callbackSuffix : \"\",\n     *      onResponse : function (response) {\n     *          console.log('results : ', response);\n     *      },\n     *\n     *   };\n     *   JSONP.call(options);\n     */\n    call : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"JSONP\");\n        logger.trace(\"[JSONP::call ()]\");\n\n        // analyse parametres\n\n        if (!options) {\n            logger.error(\"missing parameter : options !\");\n            throw new Error(\"missing parameter : options !\");\n        }\n\n        if (!options.url) {\n            logger.error(\"missing parameter : options.url !\");\n            throw new Error(\"missing parameter : options.url !\");\n        }\n\n        if (!options.timeOut) {\n            logger.info(\"setting 'options.timeOut' default value\");\n            options.timeOut = 0;\n        }\n\n        // FIXME si un callback coté client a été mis en place,\n        // cette condition sur cette methode n'a pas de sens !?\n        if (!options.onResponse) {\n            logger.error(\"missing parameter : options.onResponse !\");\n            throw new Error(\"missing parameter : options.onResponse !\");\n            // FIXME doit on definir un callback interne par defaut !?\n            // options.onResponse = function (data) {\n            //    console.log(\"response callback (inner) : \", data);\n            // };\n        }\n\n        // ID du callback à utiliser : null ou string.\n        // si l'utilisateur a spécifié un suffixe pour le callback, on le récupère comme un ID (ex: options.callbackSuffix = \"\")\n        // sinon, on utilise un timestamp : this.uuid ()\n        var callbackId = (typeof options.callbackSuffix === \"string\") ? options.callbackSuffix : this.uuid();\n\n        // on recherche le parametre callback et son nom de fonction dans l'url\n        var urlHasCallbackKey = false;\n        var urlHasCallbackName = false;\n\n        var idx = options.url.indexOf(\"callback=\");\n\n        if (idx !== -1) {\n            urlHasCallbackKey = true;\n            // extraction callbackName de l'url : entre \"callback=\" et \"&\" ou fin de ligne\n            var j = options.url.indexOf(\"&\", idx);\n            if (j === -1) {\n                j = options.url.length;\n            }\n\n            // on ecrase le parametre options.callbackName s'il avait été défini\n            var callbackName = options.url.substring(idx + 9, j);\n\n            if (callbackName) {\n                urlHasCallbackName = true;\n                options.callbackName = callbackName;\n                logger.info(\"setting 'options.callbackName' value (\" + options.callbackName + \") from 'options.url' parameter\");\n            }\n        }\n\n        // on ajoute le parametre callback dans l'URL s'il n'existe pas\n        if (!urlHasCallbackKey) {\n            // gestion des autres param. et \"?\"\n            var k = options.url.indexOf(\"?\");\n            if (k === -1) {\n                // aucun param., ni de '?'\n                options.url = options.url + \"?\" + \"callback=\";\n            } else if (k === options.url.length) {\n                // uniquement le '?'\n                options.url = options.url + \"callback=\";\n            } else {\n                // le '?' et les param. existent\n                options.url = options.url + \"&\" + \"callback=\";\n            }\n            logger.info(\"setting callback default key in 'options.url' : \" + options.url);\n        }\n\n        // utilisation de la fonction callback coté client ?\n        var HasCallbackName = options.callbackName ? true : urlHasCallbackName;\n\n        // on ajoute le nom de la fonction callback dans l'URL si elle n'existe pas\n        if (!urlHasCallbackName) {\n            // fonction callback par defaut\n            if (!options.callbackName) {\n                logger.info(\"setting 'options.callbackName' default value\");\n                options.callbackName = \"callback\"; // ou \"gp.protocol.jsonp\" ?\n                // info : si on ne veut pas gerer d'ID dans le callback,\n                // options.callbackSuffix = \"\"\n                if (callbackId || callbackId === \"\") {\n                    options.callbackName += callbackId;\n                }\n            }\n            options.url = options.url.replace(\"callback=\", \"callback=\" + options.callbackName);\n            logger.info(\"setting callback function name in 'options.url' : \" + options.url);\n        }\n\n        // timeOut par defaut\n        if (!options.onTimeOut) {\n            logger.info(\"setting 'options.onTimeOut' default value\");\n            /** callback timeout par defaut */\n            options.onTimeOut = function (/* error */) {\n                console.log(\"TimeOut while invoking url : \" + options.url);\n            };\n        }\n\n        if (!HasCallbackName) {\n            var self = this;\n\n            // event du timeout\n            var onTimeOutTrigger = null;\n\n            // declenche le timeout si > à 0 !\n            if (options.timeOut > 0) {\n                onTimeOutTrigger = window.setTimeout(\n                    function () {\n                        /** fonction de reponse du service */\n                        window[options.callbackName] = function () {};\n                        options.onTimeOut();\n                        self._deleteScript(callbackId);\n                    }, options.timeOut);\n            }\n\n            // FIXME le nom de la fonction n'accepte pas de namespace !\n            // ex. Gp.Function.callback\n            /**\n            * fonction de reponse du service\n            * @param {Object} data - data\n            * @private\n            */\n            window[options.callbackName] = function (data) {\n                window.clearTimeout(onTimeOutTrigger);\n                options.onResponse(data);\n                self._deleteScript(callbackId);\n            };\n        }\n\n        this._createScript(callbackId, options.url);\n    },\n\n    /**\n    * create Script\n    * @param {String} callbackId - callback Id\n    * @param {String} url - url\n    * @private\n    */\n    _createScript : function (callbackId, url) {\n        var scriptu;\n        var scripto = document.getElementById(\"results\" + callbackId);\n\n        scriptu = document.createElement(\"script\");\n        scriptu.setAttribute(\"type\", \"text/javascript\");\n        scriptu.setAttribute(\"src\", url);\n        scriptu.setAttribute(\"charset\", \"UTF-8\");\n        scriptu.setAttribute(\"id\", \"results\" + callbackId);\n        scriptu.setAttribute(\"async\", \"true\"); // FIXME async ?\n        // head ou body ou autres ?\n        var node = document.documentElement || document.getElementsByTagName(\"head\")[0];\n        if (scripto === null) {\n            node.appendChild(scriptu);\n        } else {\n            // s'il existe déjà, on le remplace !\n            node.replaceChild(scriptu, scripto);\n        }\n    },\n\n    /**\n    * delete Script\n    * @param {String} callbackId - callback Id\n    * @private\n    */\n    _deleteScript : function (callbackId) {\n        var script = document.getElementById(\"results\" + callbackId);\n        if (script) {\n            var node = script.parentNode || document.documentElement;\n            if (!node) {\n                return;\n            }\n            node.removeChild(script);\n        }\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (JSONP);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvUHJvdG9jb2xzL0pTT05QLmpzPzNiMTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzhDOztBQUU5QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOERBQU07QUFDM0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLG9FQUFLLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1Byb3RvY29scy9KU09OUC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSlNPTlAgOiBJbXBsw6ltZW50YXRpb24gZHUgcHJvdG9jb2xlIEpTT05QIGRlIGxhIHBsYXRlZm9ybWUgR8Opb3BvcnRhaWxcbiAqXG4gKiBAbW9kdWxlIEpTT05QXG4gKiBAcHJpdmF0ZVxuICogQGFsaWFzIEdwLlByb3RvY29scy5KU09OUFxuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLy8gY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9zb2JzdGVsL2pzb25wLmpzXG52YXIgSlNPTlAgPSB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rpb24gZCd1biBpZGVudGlmaWFudCBzdGF0aXF1ZSBiYXPDqSBzdXIgbGUgdGltZXN0YW1wLFxuICAgICAqIGV0IHF1aSBzJ2luY3JlbWVudGUgZGUgKzEgw6AgY2hhcXVlIGFwcGVsXG4gICAgICovXG4gICAgdXVpZCA6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQrKztcbiAgICAgICAgfTtcbiAgICB9KSgpLFxuXG4gICAgLyoqXG4gICAgICogQ2V0dGUgZm9uY3Rpb24gcsOpYWxpc2UgbCdhcHBlbCBkdSBzZXJ2aWNlIGZvdXJuaSB2aWEgbGUgcGFyYW3DqHRyZSBcIm9wdGlvbnMudXJsXCJcbiAgICAgKiBlbiBtZXR0YW50IGVuIMWTdXZyZSBsZSBwcm90b2NvbGUgSlNPTlAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGNhbGxcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBwYXJhbWV0cmVzIGQnaW52b2NhdGlvbiBkdSBzZXJ2aWNlIGVuIEpTT05QXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMudXJsIC0gVVJMIGR1IHNlcnZpY2Ugw6AgaW52b3F1ZXIgKGluZMOpcGVuZGFtbWVudCBkdSBwcm90b2NvbGUgSlNPTlApLlxuICAgICAqICBDZXR0ZSBVUkwgY29udGllbnQgZMOpasOgIGxlcyBwYXJhbcOodHJlcyBkdSBzZXJ2aWNlLlxuICAgICAqICBTaSBsZSBwYXJhbcOodHJlIGTDqWRpw6kgw6AgbGEgbWlzZSBlbiBvZXV2cmUgZHUgcHJvdG9jb2xlIEpTT05QIChjYWxsYmFjaz14eHgpIG4nZXN0IHBhcyBwcsOpc2VudCwgaWwgZXN0IHJham91dMOpIHBhciBsYSBmb25jdGlvbiA7XG4gICAgICogIHNhIHZhbGV1ciBlc3QgZMOpdGVybWluw6llIGVuIGZvbmN0aW9uIGR1IHBhcmFtw6h0cmUgY2FsbGJhY2tOYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50aW1lT3V0ID0gMF0gLSBOb21icmUgZGUgbXMgYXUgYm91dCBkdXF1ZWwgb24gY29uc2lkw6hyZSBxdWUgbGUgc2VydmljZSBuJ2EgcGFzIHLDqXBvbmR1LlxuICAgICAqICBVbmUgdmFsZXVyIGRlIDAgcG91ciBjZSBwYXJhbcOodHJlIHBlcm1ldCBkZSBkw6lzYWN0aXZlciBsYSBnZXN0aW9uIGR1IHRpbWVPdXQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNhbGxiYWNrU3VmZml4ID0gbnVsbF0gLSBTdWZmaXhlIGRlIGxhIGZvbmN0aW9uIGRlIGNhbGxiYWNrIMOgIHJham91dGVyIHN1ciBsJ1VSTC5cbiAgICAgKiAgU2kgYXVjdW4gc3VmZml4ZSBuJ2VzdCBzcMOpY2lmacOpIChjYXMgcGFyIGTDqWZhdXQpLCBvbiB1dGlsaXNlcmEgbCdpZGVudGlmaWFudCB0aGlzLnV1aWQgKCkgY29tbWUgc3VmZml4ZS4gRXg6IFwiY2FsbGJhY2sxNDU4NTc0Mzk2NTgyICgpXCJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY2FsbGJhY2tOYW1lID0gZ3AucHJvdG9jb2wuanNvbnBdIC0gVmFsZXVyIGR1IHBhcmFtw6h0cmUgY2FsbGJhY2sgw6AgcmFqb3V0ZXIgc3VyIGwnVVJMLlxuICAgICAqICBTaSBsJ1VSTCBmb3VybmllIGNvbnRpZW50IGTDqWrDoCBsZSBwYXJhbcOodHJlIGNhbGxiYWNrLCBsZSBwYXJhbcOodHJlIGNhbGxiYWNrTmFtZSBuZSBzZXJhIHBhcyBwcmlzIGVuIGNvbXB0ZS5cbiAgICAgKiAgTGEgZm9uY3Rpb24gZGUgY2FsbGJhY2sgZXN0IGNyw6nDqWUgZHluYW1pcXVlbWVudCBwYXIgbGEgZm9uY3Rpb24gSlNPTlAgO1xuICAgICAqICBlbGxlIGEgZGV1eCBmb25jdGlvbnMgOlxuICAgICAqICAgIGVsbGUgYW5udWxlIGxhIGNvbmRpdGlvbiBkZSB0aW1lT3V0XG4gICAgICogICAgcHVpcyBhcHBlbGxlIGxhIGZvbmN0aW9uIGZvdXJuaWUgcGFyIGwndXRpbGlzYXRldXIgdmlhIGxlIHBhcmFtw6h0cmUgb25SZXNwb25zZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uUmVzcG9uc2UgLSBOb20gZGUgbGEgZm9uY3Rpb24gcXVpIHNlcmEgYXBwZWzDqWUgbG9ycyBkZSBsYSByw6ljZXB0aW9uIGRlcyByw6lzdWx0YXRzIGR1IHNlcnZpY2UuXG4gICAgICogIENlIHBhcmFtw6h0cmUgc2VyYSBpZ25vcsOpIHNpIGwnVVJMIGNvbnRpZW50IGTDqWrDoCBsZSBwYXJhbcOodHJlIGNhbGxiYWNrLlxuICAgICAqICBMYSBmb25jdGlvbiBkZSByYXBwZWwgYXBwZWzDqWUgc2VyYSBhbG9ycyBjZWxsZSBheWFudCBwb3VyIG5vbSBsYSB2YWxldXIgZGUgY2UgcGFyYW3DqHRyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vblRpbWVPdXRdIC0gTm9tIGRlIGxhIGZvbmN0aW9uIHF1aSBzZXJhIGFwcGVsw6llIGVuIGNhcyBkZSBub24gcsOpcG9uc2UgZHUgc2VydmljZS5cbiAgICAgKiAgTGUgdGVtcHMgYXUgYm91dCBkdXF1ZWwgb24gY29uc2lkw6hyZSBxdWUgbGUgc2VydmljZSBuJ2EgcGFzIHLDqXBvbmR1IGVzdCBkw6l0ZXJtaW7DqSBwYXIgbGUgcGFyYW3DqHRyZSB0aW1lT3V0LlxuICAgICAqICBAZXhhbXBsZVxuICAgICAqICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICAgIHVybCA6ICdodHRwOi8vbG9jYWxob3N0L3NvbWUvdGVzdC5qc29uJmNhbGxiYWNrPW15UmVzdWx0cycsXG4gICAgICogICAgICB0aW1lT3V0IDogMTAwLFxuICAgICAqICAgICAgY2FsbGJhY2tOYW1lIDogJ215UmVzdWx0cycsXG4gICAgICogICAgICBjYWxsYmFja1N1ZmZpeCA6IFwiXCIsXG4gICAgICogICAgICBvblJlc3BvbnNlIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMgOiAnLCByZXNwb25zZSk7XG4gICAgICogICAgICB9LFxuICAgICAqXG4gICAgICogICB9O1xuICAgICAqICAgSlNPTlAuY2FsbChvcHRpb25zKTtcbiAgICAgKi9cbiAgICBjYWxsIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG4gICAgICAgIHZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiSlNPTlBcIik7XG4gICAgICAgIGxvZ2dlci50cmFjZShcIltKU09OUDo6Y2FsbCAoKV1cIik7XG5cbiAgICAgICAgLy8gYW5hbHlzZSBwYXJhbWV0cmVzXG5cbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJtaXNzaW5nIHBhcmFtZXRlciA6IG9wdGlvbnMgIVwiKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcGFyYW1ldGVyIDogb3B0aW9ucyAhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnVybCkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwibWlzc2luZyBwYXJhbWV0ZXIgOiBvcHRpb25zLnVybCAhXCIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBwYXJhbWV0ZXIgOiBvcHRpb25zLnVybCAhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnRpbWVPdXQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwic2V0dGluZyAnb3B0aW9ucy50aW1lT3V0JyBkZWZhdWx0IHZhbHVlXCIpO1xuICAgICAgICAgICAgb3B0aW9ucy50aW1lT3V0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FIHNpIHVuIGNhbGxiYWNrIGNvdMOpIGNsaWVudCBhIMOpdMOpIG1pcyBlbiBwbGFjZSxcbiAgICAgICAgLy8gY2V0dGUgY29uZGl0aW9uIHN1ciBjZXR0ZSBtZXRob2RlIG4nYSBwYXMgZGUgc2VucyAhP1xuICAgICAgICBpZiAoIW9wdGlvbnMub25SZXNwb25zZSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwibWlzc2luZyBwYXJhbWV0ZXIgOiBvcHRpb25zLm9uUmVzcG9uc2UgIVwiKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcGFyYW1ldGVyIDogb3B0aW9ucy5vblJlc3BvbnNlICFcIik7XG4gICAgICAgICAgICAvLyBGSVhNRSBkb2l0IG9uIGRlZmluaXIgdW4gY2FsbGJhY2sgaW50ZXJuZSBwYXIgZGVmYXV0ICE/XG4gICAgICAgICAgICAvLyBvcHRpb25zLm9uUmVzcG9uc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgLy8gICAgY29uc29sZS5sb2coXCJyZXNwb25zZSBjYWxsYmFjayAoaW5uZXIpIDogXCIsIGRhdGEpO1xuICAgICAgICAgICAgLy8gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElEIGR1IGNhbGxiYWNrIMOgIHV0aWxpc2VyIDogbnVsbCBvdSBzdHJpbmcuXG4gICAgICAgIC8vIHNpIGwndXRpbGlzYXRldXIgYSBzcMOpY2lmacOpIHVuIHN1ZmZpeGUgcG91ciBsZSBjYWxsYmFjaywgb24gbGUgcsOpY3Vww6hyZSBjb21tZSB1biBJRCAoZXg6IG9wdGlvbnMuY2FsbGJhY2tTdWZmaXggPSBcIlwiKVxuICAgICAgICAvLyBzaW5vbiwgb24gdXRpbGlzZSB1biB0aW1lc3RhbXAgOiB0aGlzLnV1aWQgKClcbiAgICAgICAgdmFyIGNhbGxiYWNrSWQgPSAodHlwZW9mIG9wdGlvbnMuY2FsbGJhY2tTdWZmaXggPT09IFwic3RyaW5nXCIpID8gb3B0aW9ucy5jYWxsYmFja1N1ZmZpeCA6IHRoaXMudXVpZCgpO1xuXG4gICAgICAgIC8vIG9uIHJlY2hlcmNoZSBsZSBwYXJhbWV0cmUgY2FsbGJhY2sgZXQgc29uIG5vbSBkZSBmb25jdGlvbiBkYW5zIGwndXJsXG4gICAgICAgIHZhciB1cmxIYXNDYWxsYmFja0tleSA9IGZhbHNlO1xuICAgICAgICB2YXIgdXJsSGFzQ2FsbGJhY2tOYW1lID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGlkeCA9IG9wdGlvbnMudXJsLmluZGV4T2YoXCJjYWxsYmFjaz1cIik7XG5cbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHVybEhhc0NhbGxiYWNrS2V5ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGV4dHJhY3Rpb24gY2FsbGJhY2tOYW1lIGRlIGwndXJsIDogZW50cmUgXCJjYWxsYmFjaz1cIiBldCBcIiZcIiBvdSBmaW4gZGUgbGlnbmVcbiAgICAgICAgICAgIHZhciBqID0gb3B0aW9ucy51cmwuaW5kZXhPZihcIiZcIiwgaWR4KTtcbiAgICAgICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGogPSBvcHRpb25zLnVybC5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9uIGVjcmFzZSBsZSBwYXJhbWV0cmUgb3B0aW9ucy5jYWxsYmFja05hbWUgcydpbCBhdmFpdCDDqXTDqSBkw6lmaW5pXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tOYW1lID0gb3B0aW9ucy51cmwuc3Vic3RyaW5nKGlkeCArIDksIGopO1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tOYW1lKSB7XG4gICAgICAgICAgICAgICAgdXJsSGFzQ2FsbGJhY2tOYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrTmFtZSA9IGNhbGxiYWNrTmFtZTtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhcInNldHRpbmcgJ29wdGlvbnMuY2FsbGJhY2tOYW1lJyB2YWx1ZSAoXCIgKyBvcHRpb25zLmNhbGxiYWNrTmFtZSArIFwiKSBmcm9tICdvcHRpb25zLnVybCcgcGFyYW1ldGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gb24gYWpvdXRlIGxlIHBhcmFtZXRyZSBjYWxsYmFjayBkYW5zIGwnVVJMIHMnaWwgbidleGlzdGUgcGFzXG4gICAgICAgIGlmICghdXJsSGFzQ2FsbGJhY2tLZXkpIHtcbiAgICAgICAgICAgIC8vIGdlc3Rpb24gZGVzIGF1dHJlcyBwYXJhbS4gZXQgXCI/XCJcbiAgICAgICAgICAgIHZhciBrID0gb3B0aW9ucy51cmwuaW5kZXhPZihcIj9cIik7XG4gICAgICAgICAgICBpZiAoayA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBhdWN1biBwYXJhbS4sIG5pIGRlICc/J1xuICAgICAgICAgICAgICAgIG9wdGlvbnMudXJsID0gb3B0aW9ucy51cmwgKyBcIj9cIiArIFwiY2FsbGJhY2s9XCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGsgPT09IG9wdGlvbnMudXJsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIHVuaXF1ZW1lbnQgbGUgJz8nXG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBvcHRpb25zLnVybCArIFwiY2FsbGJhY2s9XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGxlICc/JyBldCBsZXMgcGFyYW0uIGV4aXN0ZW50XG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBvcHRpb25zLnVybCArIFwiJlwiICsgXCJjYWxsYmFjaz1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwic2V0dGluZyBjYWxsYmFjayBkZWZhdWx0IGtleSBpbiAnb3B0aW9ucy51cmwnIDogXCIgKyBvcHRpb25zLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1dGlsaXNhdGlvbiBkZSBsYSBmb25jdGlvbiBjYWxsYmFjayBjb3TDqSBjbGllbnQgP1xuICAgICAgICB2YXIgSGFzQ2FsbGJhY2tOYW1lID0gb3B0aW9ucy5jYWxsYmFja05hbWUgPyB0cnVlIDogdXJsSGFzQ2FsbGJhY2tOYW1lO1xuXG4gICAgICAgIC8vIG9uIGFqb3V0ZSBsZSBub20gZGUgbGEgZm9uY3Rpb24gY2FsbGJhY2sgZGFucyBsJ1VSTCBzaSBlbGxlIG4nZXhpc3RlIHBhc1xuICAgICAgICBpZiAoIXVybEhhc0NhbGxiYWNrTmFtZSkge1xuICAgICAgICAgICAgLy8gZm9uY3Rpb24gY2FsbGJhY2sgcGFyIGRlZmF1dFxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmNhbGxiYWNrTmFtZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwic2V0dGluZyAnb3B0aW9ucy5jYWxsYmFja05hbWUnIGRlZmF1bHQgdmFsdWVcIik7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFja05hbWUgPSBcImNhbGxiYWNrXCI7IC8vIG91IFwiZ3AucHJvdG9jb2wuanNvbnBcIiA/XG4gICAgICAgICAgICAgICAgLy8gaW5mbyA6IHNpIG9uIG5lIHZldXQgcGFzIGdlcmVyIGQnSUQgZGFucyBsZSBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAvLyBvcHRpb25zLmNhbGxiYWNrU3VmZml4ID0gXCJcIlxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja0lkIHx8IGNhbGxiYWNrSWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFja05hbWUgKz0gY2FsbGJhY2tJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLnVybCA9IG9wdGlvbnMudXJsLnJlcGxhY2UoXCJjYWxsYmFjaz1cIiwgXCJjYWxsYmFjaz1cIiArIG9wdGlvbnMuY2FsbGJhY2tOYW1lKTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwic2V0dGluZyBjYWxsYmFjayBmdW5jdGlvbiBuYW1lIGluICdvcHRpb25zLnVybCcgOiBcIiArIG9wdGlvbnMudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWVPdXQgcGFyIGRlZmF1dFxuICAgICAgICBpZiAoIW9wdGlvbnMub25UaW1lT3V0KSB7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbyhcInNldHRpbmcgJ29wdGlvbnMub25UaW1lT3V0JyBkZWZhdWx0IHZhbHVlXCIpO1xuICAgICAgICAgICAgLyoqIGNhbGxiYWNrIHRpbWVvdXQgcGFyIGRlZmF1dCAqL1xuICAgICAgICAgICAgb3B0aW9ucy5vblRpbWVPdXQgPSBmdW5jdGlvbiAoLyogZXJyb3IgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWVPdXQgd2hpbGUgaW52b2tpbmcgdXJsIDogXCIgKyBvcHRpb25zLnVybCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFIYXNDYWxsYmFja05hbWUpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgLy8gZXZlbnQgZHUgdGltZW91dFxuICAgICAgICAgICAgdmFyIG9uVGltZU91dFRyaWdnZXIgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBkZWNsZW5jaGUgbGUgdGltZW91dCBzaSA+IMOgIDAgIVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudGltZU91dCA+IDApIHtcbiAgICAgICAgICAgICAgICBvblRpbWVPdXRUcmlnZ2VyID0gd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBmb25jdGlvbiBkZSByZXBvbnNlIGR1IHNlcnZpY2UgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tvcHRpb25zLmNhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25UaW1lT3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZWxldGVTY3JpcHQoY2FsbGJhY2tJZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZU91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZJWE1FIGxlIG5vbSBkZSBsYSBmb25jdGlvbiBuJ2FjY2VwdGUgcGFzIGRlIG5hbWVzcGFjZSAhXG4gICAgICAgICAgICAvLyBleC4gR3AuRnVuY3Rpb24uY2FsbGJhY2tcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgKiBmb25jdGlvbiBkZSByZXBvbnNlIGR1IHNlcnZpY2VcbiAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBkYXRhXG4gICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgd2luZG93W29wdGlvbnMuY2FsbGJhY2tOYW1lXSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChvblRpbWVPdXRUcmlnZ2VyKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VsZi5fZGVsZXRlU2NyaXB0KGNhbGxiYWNrSWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NyZWF0ZVNjcmlwdChjYWxsYmFja0lkLCBvcHRpb25zLnVybCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICogY3JlYXRlIFNjcmlwdFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGNhbGxiYWNrSWQgLSBjYWxsYmFjayBJZFxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIHVybFxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIF9jcmVhdGVTY3JpcHQgOiBmdW5jdGlvbiAoY2FsbGJhY2tJZCwgdXJsKSB7XG4gICAgICAgIHZhciBzY3JpcHR1O1xuICAgICAgICB2YXIgc2NyaXB0byA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c1wiICsgY2FsbGJhY2tJZCk7XG5cbiAgICAgICAgc2NyaXB0dSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgIHNjcmlwdHUuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHQvamF2YXNjcmlwdFwiKTtcbiAgICAgICAgc2NyaXB0dS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdXJsKTtcbiAgICAgICAgc2NyaXB0dS5zZXRBdHRyaWJ1dGUoXCJjaGFyc2V0XCIsIFwiVVRGLThcIik7XG4gICAgICAgIHNjcmlwdHUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJyZXN1bHRzXCIgKyBjYWxsYmFja0lkKTtcbiAgICAgICAgc2NyaXB0dS5zZXRBdHRyaWJ1dGUoXCJhc3luY1wiLCBcInRydWVcIik7IC8vIEZJWE1FIGFzeW5jID9cbiAgICAgICAgLy8gaGVhZCBvdSBib2R5IG91IGF1dHJlcyA/XG4gICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcbiAgICAgICAgaWYgKHNjcmlwdG8gPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoc2NyaXB0dSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzJ2lsIGV4aXN0ZSBkw6lqw6AsIG9uIGxlIHJlbXBsYWNlICFcbiAgICAgICAgICAgIG5vZGUucmVwbGFjZUNoaWxkKHNjcmlwdHUsIHNjcmlwdG8pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICogZGVsZXRlIFNjcmlwdFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGNhbGxiYWNrSWQgLSBjYWxsYmFjayBJZFxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIF9kZWxldGVTY3JpcHQgOiBmdW5jdGlvbiAoY2FsbGJhY2tJZCkge1xuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzXCIgKyBjYWxsYmFja0lkKTtcbiAgICAgICAgaWYgKHNjcmlwdCkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBzY3JpcHQucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBKU09OUDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Protocols/JSONP.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Protocols/Protocol.js":
/*!*********************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Protocols/Protocol.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/Helper */ \"./node_modules/geoportal-access-lib/src/Utils/Helper.js\");\n/* harmony import */ var _XHR__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./XHR */ \"./node_modules/geoportal-access-lib/src/Protocols/XHR.js\");\n/* harmony import */ var _JSONP__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./JSONP */ \"./node_modules/geoportal-access-lib/src/Protocols/JSONP.js\");\n/**\n * Interface de dialogue avec les webservices\n *\n * @module Protocols\n * @private\n * @alias Gp.Protocols\n */\n\n\n\n\nvar Protocol = {\n\n    /**\n     * Interface unique d\"envoi d\"une requête.\n     *\n     * @method send\n     * @static\n     * @param {Object} options - options generales\n     * @param {String} options.url      - url du service\n     * @param {String} options.method   - GET, POST, PUT, DELETE\n     * @param {String} options.protocol - XHR | JSONP\n     * @param {String} options.format   - format de la reponse du service : json, xml ou null (brute)...\n     * @param {String} options.wrap     - encapsuler la reponse du service dans du JSON : true|false (true par defaut sur le protocole JSONP)\n     * @param {String} options.callbackSuffix - suffixe de la fonction de callback (JSONP uniquement) (ex: si callbackSuffix=\"\", la fonction s'appellera \"callback\")\n     * @param {String} options.timeOut  - 0 ms\n     * @param {Boolean} options.nocache  - true|false\n     * @param {Object|String} options.data        - content (post) ou param (get)\n     * @param {Object|String} options.headers     - (post) ex. referer\n     * @param {Object|String} options.content - (post) ex. \"application/json\"\n     * @param {String} options.scope       - this (TODO)\n     * @param {Function} options.onResponse - callback\n     * @param {Function} options.onFailure - callback\n     * @param {Function} options.onTimeOut - callback\n     * @param {String} options.proxyUrl -  (TODO)\n     */\n    send : function (options) {\n        // INFO\n        // \"output\" - param est interne à la classe \"Protocol\" (parametrable via \"wrap\"), et à ajouter à l\"url\n        //      ce param est independant du service car il est géré par le filtre LUA :\n        //          ex. json|xml (json par defaut).\n        //          Ce param. permet d\"encapsuler du XML dans du JSON :\n        //              {http : {status:200, error:null},xml :\"réponse du service\"}\n        //          Utile pour les services qui ne repondent que du XML (ex. Geocodage)\n        //\n        // |-------------------------------------------------|\n        // |      \\service |      |     |                    |\n        // | output\\ format| json | xml |     remarques      |\n        // |--------\\------|------|-----|--------------------|\n        // |    json       | json | json| json/xml encapsulé |\n        // |    xml        | json | xml | param inactif      |\n        // |-------------------------------------------------|\n        // ex. le service demande une reponse native au \"format\" json et avec un \"output\" json.\n        // on a donc une reponse json encapsulé dans un json : ce qu'on ne souhaite pas !\n        // dans ce cas on ne renseigne pas output=json\n\n        // INFO\n        // \"wrap\" - choix d\"encapsuler ou non les reponses dans du JSON.\n        //      Par defaut, on encapsule uniquement les reponses sur le protocole JSONP (et qui sont en xml) !\n\n        // INFO\n        // \"callback\" - param est interne à la classe \"Protocol\" (non parametrable), et à ajouter à l\"url\n        //      ce param est independant du service car il est géré aussi par le filtre LUA :\n        //          ex. callback|null\n        //          Ce param. permet de renvoyer une reponse javascript :\n        //              callback ({http : {status:200, error:null},xml :\"réponse du service\"})\n        //          Ce param. est non renseigné par defaut car pour du JSONP, on utilise le\n        //          le protocol JSONP, et ce dernier implemente déjà le callback !\n\n        // settings par defaut\n        var settings = options || {\n            method : \"GET\",\n            // protocol : \"JSONP\",\n            protocol : \"XHR\",\n            timeOut : 0,\n            format : null,\n            wrap : true,\n            nocache : true,\n            output : \"json\",\n            callback : null,\n            callbackSuffix : null\n        };\n\n        // on determine l'environnement d'execution : browser ou non ?\n        // et on stoppe pour nodeJS... sur un protocole JSONP !\n        if (typeof window === \"undefined\" && options.protocol === \"JSONP\") {\n            console.log(\"Value (s) for parameter (s) 'protocol=JSONP (instead use XHR)' not supported to NodeJS\");\n            return;\n        }\n\n        if (options.protocol === \"XHR\" || options.format === \"json\") {\n            settings.wrap = false;\n        } else if (options.protocol === \"JSONP\" && options.format === \"xml\") {\n            settings.wrap = true;\n        }\n\n        settings.callback = (options.protocol === \"JSONP\") ? null : null; // FIXME non géré !?\n        settings.output = settings.wrap ? \"json\" : null;\n\n        // on encapsule les reponses dans un objet JSON\n        if (settings.wrap) {\n            var params = {};\n            params.output = settings.output;\n            params.callback = settings.callback;\n            delete params.callback; // FIXME non géré !?\n            settings.url = _Utils_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalyzeUrl(options.url, params);\n        }\n\n        // choix de l\"implementation :\n        // XHR ou JSONP\n        switch (settings.protocol) {\n            case \"XHR\":\n                // on normalise l'url (gestion du cache)\n                if (options.method === \"GET\" && options.nocache) {\n                    settings.url = _Utils_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalyzeUrl(settings.url, {\n                        t : new Date().getTime()\n                    });\n                }\n                // appel du service en XHR\n                _XHR__WEBPACK_IMPORTED_MODULE_1__[\"default\"].call(settings);\n                break;\n            case \"JSONP\":\n\n                // on normalise l'url si les params. sont renseignés dans la string|object \"data\"\n                if (settings.data) {\n                    settings.url = _Utils_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalyzeUrl(settings.url, settings.data);\n                }\n\n                // appel du service en JSONP\n                _JSONP__WEBPACK_IMPORTED_MODULE_2__[\"default\"].call(settings);\n                break;\n            default:\n                throw new Error(\"protocol not supported (XHR|JSONP) !\");\n        }\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Protocol);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvUHJvdG9jb2xzL1Byb3RvY29sLmpzPzIyNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNxQztBQUNiO0FBQ0k7O0FBRTVCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsUUFBUTtBQUN2QixlQUFlLGNBQWM7QUFDN0IsZUFBZSxjQUFjO0FBQzdCLGVBQWUsY0FBYztBQUM3QixlQUFlLE9BQU87QUFDdEIsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsU0FBUztBQUN4QixlQUFlLFNBQVM7QUFDeEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFFBQVEsdUJBQXVCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRLHVCQUF1QiwyQkFBMkI7QUFDN0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBLHlFQUF5RTtBQUN6RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLDJCQUEyQixxREFBTTtBQUNqQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMscURBQU07QUFDekM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGdCQUFnQiw0Q0FBRztBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUMscURBQU07QUFDekM7O0FBRUE7QUFDQSxnQkFBZ0IsOENBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFZSx1RUFBUSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Qcm90b2NvbHMvUHJvdG9jb2wuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVyZmFjZSBkZSBkaWFsb2d1ZSBhdmVjIGxlcyB3ZWJzZXJ2aWNlc1xuICpcbiAqIEBtb2R1bGUgUHJvdG9jb2xzXG4gKiBAcHJpdmF0ZVxuICogQGFsaWFzIEdwLlByb3RvY29sc1xuICovXG5pbXBvcnQgSGVscGVyIGZyb20gXCIuLi9VdGlscy9IZWxwZXJcIjtcbmltcG9ydCBYSFIgZnJvbSBcIi4vWEhSXCI7XG5pbXBvcnQgSlNPTlAgZnJvbSBcIi4vSlNPTlBcIjtcblxudmFyIFByb3RvY29sID0ge1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJmYWNlIHVuaXF1ZSBkXCJlbnZvaSBkXCJ1bmUgcmVxdcOqdGUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNlbmRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGdlbmVyYWxlc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnVybCAgICAgIC0gdXJsIGR1IHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5tZXRob2QgICAtIEdFVCwgUE9TVCwgUFVULCBERUxFVEVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5wcm90b2NvbCAtIFhIUiB8IEpTT05QXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZm9ybWF0ICAgLSBmb3JtYXQgZGUgbGEgcmVwb25zZSBkdSBzZXJ2aWNlIDoganNvbiwgeG1sIG91IG51bGwgKGJydXRlKS4uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLndyYXAgICAgIC0gZW5jYXBzdWxlciBsYSByZXBvbnNlIGR1IHNlcnZpY2UgZGFucyBkdSBKU09OIDogdHJ1ZXxmYWxzZSAodHJ1ZSBwYXIgZGVmYXV0IHN1ciBsZSBwcm90b2NvbGUgSlNPTlApXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuY2FsbGJhY2tTdWZmaXggLSBzdWZmaXhlIGRlIGxhIGZvbmN0aW9uIGRlIGNhbGxiYWNrIChKU09OUCB1bmlxdWVtZW50KSAoZXg6IHNpIGNhbGxiYWNrU3VmZml4PVwiXCIsIGxhIGZvbmN0aW9uIHMnYXBwZWxsZXJhIFwiY2FsbGJhY2tcIilcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy50aW1lT3V0ICAtIDAgbXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMubm9jYWNoZSAgLSB0cnVlfGZhbHNlXG4gICAgICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBvcHRpb25zLmRhdGEgICAgICAgIC0gY29udGVudCAocG9zdCkgb3UgcGFyYW0gKGdldClcbiAgICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IG9wdGlvbnMuaGVhZGVycyAgICAgLSAocG9zdCkgZXguIHJlZmVyZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IG9wdGlvbnMuY29udGVudCAtIChwb3N0KSBleC4gXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5zY29wZSAgICAgICAtIHRoaXMgKFRPRE8pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vblJlc3BvbnNlIC0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uRmFpbHVyZSAtIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vblRpbWVPdXQgLSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnByb3h5VXJsIC0gIChUT0RPKVxuICAgICAqL1xuICAgIHNlbmQgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBJTkZPXG4gICAgICAgIC8vIFwib3V0cHV0XCIgLSBwYXJhbSBlc3QgaW50ZXJuZSDDoCBsYSBjbGFzc2UgXCJQcm90b2NvbFwiIChwYXJhbWV0cmFibGUgdmlhIFwid3JhcFwiKSwgZXQgw6AgYWpvdXRlciDDoCBsXCJ1cmxcbiAgICAgICAgLy8gICAgICBjZSBwYXJhbSBlc3QgaW5kZXBlbmRhbnQgZHUgc2VydmljZSBjYXIgaWwgZXN0IGfDqXLDqSBwYXIgbGUgZmlsdHJlIExVQSA6XG4gICAgICAgIC8vICAgICAgICAgIGV4LiBqc29ufHhtbCAoanNvbiBwYXIgZGVmYXV0KS5cbiAgICAgICAgLy8gICAgICAgICAgQ2UgcGFyYW0uIHBlcm1ldCBkXCJlbmNhcHN1bGVyIGR1IFhNTCBkYW5zIGR1IEpTT04gOlxuICAgICAgICAvLyAgICAgICAgICAgICAge2h0dHAgOiB7c3RhdHVzOjIwMCwgZXJyb3I6bnVsbH0seG1sIDpcInLDqXBvbnNlIGR1IHNlcnZpY2VcIn1cbiAgICAgICAgLy8gICAgICAgICAgVXRpbGUgcG91ciBsZXMgc2VydmljZXMgcXVpIG5lIHJlcG9uZGVudCBxdWUgZHUgWE1MIChleC4gR2VvY29kYWdlKVxuICAgICAgICAvL1xuICAgICAgICAvLyB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAgICAgICAgLy8gfCAgICAgIFxcc2VydmljZSB8ICAgICAgfCAgICAgfCAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAvLyB8IG91dHB1dFxcIGZvcm1hdHwganNvbiB8IHhtbCB8ICAgICByZW1hcnF1ZXMgICAgICB8XG4gICAgICAgIC8vIHwtLS0tLS0tLVxcLS0tLS0tfC0tLS0tLXwtLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAgICAgICAgLy8gfCAgICBqc29uICAgICAgIHwganNvbiB8IGpzb258IGpzb24veG1sIGVuY2Fwc3Vsw6kgfFxuICAgICAgICAvLyB8ICAgIHhtbCAgICAgICAgfCBqc29uIHwgeG1sIHwgcGFyYW0gaW5hY3RpZiAgICAgIHxcbiAgICAgICAgLy8gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgIC8vIGV4LiBsZSBzZXJ2aWNlIGRlbWFuZGUgdW5lIHJlcG9uc2UgbmF0aXZlIGF1IFwiZm9ybWF0XCIganNvbiBldCBhdmVjIHVuIFwib3V0cHV0XCIganNvbi5cbiAgICAgICAgLy8gb24gYSBkb25jIHVuZSByZXBvbnNlIGpzb24gZW5jYXBzdWzDqSBkYW5zIHVuIGpzb24gOiBjZSBxdSdvbiBuZSBzb3VoYWl0ZSBwYXMgIVxuICAgICAgICAvLyBkYW5zIGNlIGNhcyBvbiBuZSByZW5zZWlnbmUgcGFzIG91dHB1dD1qc29uXG5cbiAgICAgICAgLy8gSU5GT1xuICAgICAgICAvLyBcIndyYXBcIiAtIGNob2l4IGRcImVuY2Fwc3VsZXIgb3Ugbm9uIGxlcyByZXBvbnNlcyBkYW5zIGR1IEpTT04uXG4gICAgICAgIC8vICAgICAgUGFyIGRlZmF1dCwgb24gZW5jYXBzdWxlIHVuaXF1ZW1lbnQgbGVzIHJlcG9uc2VzIHN1ciBsZSBwcm90b2NvbGUgSlNPTlAgKGV0IHF1aSBzb250IGVuIHhtbCkgIVxuXG4gICAgICAgIC8vIElORk9cbiAgICAgICAgLy8gXCJjYWxsYmFja1wiIC0gcGFyYW0gZXN0IGludGVybmUgw6AgbGEgY2xhc3NlIFwiUHJvdG9jb2xcIiAobm9uIHBhcmFtZXRyYWJsZSksIGV0IMOgIGFqb3V0ZXIgw6AgbFwidXJsXG4gICAgICAgIC8vICAgICAgY2UgcGFyYW0gZXN0IGluZGVwZW5kYW50IGR1IHNlcnZpY2UgY2FyIGlsIGVzdCBnw6lyw6kgYXVzc2kgcGFyIGxlIGZpbHRyZSBMVUEgOlxuICAgICAgICAvLyAgICAgICAgICBleC4gY2FsbGJhY2t8bnVsbFxuICAgICAgICAvLyAgICAgICAgICBDZSBwYXJhbS4gcGVybWV0IGRlIHJlbnZveWVyIHVuZSByZXBvbnNlIGphdmFzY3JpcHQgOlxuICAgICAgICAvLyAgICAgICAgICAgICAgY2FsbGJhY2sgKHtodHRwIDoge3N0YXR1czoyMDAsIGVycm9yOm51bGx9LHhtbCA6XCJyw6lwb25zZSBkdSBzZXJ2aWNlXCJ9KVxuICAgICAgICAvLyAgICAgICAgICBDZSBwYXJhbS4gZXN0IG5vbiByZW5zZWlnbsOpIHBhciBkZWZhdXQgY2FyIHBvdXIgZHUgSlNPTlAsIG9uIHV0aWxpc2UgbGVcbiAgICAgICAgLy8gICAgICAgICAgbGUgcHJvdG9jb2wgSlNPTlAsIGV0IGNlIGRlcm5pZXIgaW1wbGVtZW50ZSBkw6lqw6AgbGUgY2FsbGJhY2sgIVxuXG4gICAgICAgIC8vIHNldHRpbmdzIHBhciBkZWZhdXRcbiAgICAgICAgdmFyIHNldHRpbmdzID0gb3B0aW9ucyB8fCB7XG4gICAgICAgICAgICBtZXRob2QgOiBcIkdFVFwiLFxuICAgICAgICAgICAgLy8gcHJvdG9jb2wgOiBcIkpTT05QXCIsXG4gICAgICAgICAgICBwcm90b2NvbCA6IFwiWEhSXCIsXG4gICAgICAgICAgICB0aW1lT3V0IDogMCxcbiAgICAgICAgICAgIGZvcm1hdCA6IG51bGwsXG4gICAgICAgICAgICB3cmFwIDogdHJ1ZSxcbiAgICAgICAgICAgIG5vY2FjaGUgOiB0cnVlLFxuICAgICAgICAgICAgb3V0cHV0IDogXCJqc29uXCIsXG4gICAgICAgICAgICBjYWxsYmFjayA6IG51bGwsXG4gICAgICAgICAgICBjYWxsYmFja1N1ZmZpeCA6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBvbiBkZXRlcm1pbmUgbCdlbnZpcm9ubmVtZW50IGQnZXhlY3V0aW9uIDogYnJvd3NlciBvdSBub24gP1xuICAgICAgICAvLyBldCBvbiBzdG9wcGUgcG91ciBub2RlSlMuLi4gc3VyIHVuIHByb3RvY29sZSBKU09OUCAhXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiICYmIG9wdGlvbnMucHJvdG9jb2wgPT09IFwiSlNPTlBcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJWYWx1ZSAocykgZm9yIHBhcmFtZXRlciAocykgJ3Byb3RvY29sPUpTT05QIChpbnN0ZWFkIHVzZSBYSFIpJyBub3Qgc3VwcG9ydGVkIHRvIE5vZGVKU1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnByb3RvY29sID09PSBcIlhIUlwiIHx8IG9wdGlvbnMuZm9ybWF0ID09PSBcImpzb25cIikge1xuICAgICAgICAgICAgc2V0dGluZ3Mud3JhcCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucHJvdG9jb2wgPT09IFwiSlNPTlBcIiAmJiBvcHRpb25zLmZvcm1hdCA9PT0gXCJ4bWxcIikge1xuICAgICAgICAgICAgc2V0dGluZ3Mud3JhcCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR0aW5ncy5jYWxsYmFjayA9IChvcHRpb25zLnByb3RvY29sID09PSBcIkpTT05QXCIpID8gbnVsbCA6IG51bGw7IC8vIEZJWE1FIG5vbiBnw6lyw6kgIT9cbiAgICAgICAgc2V0dGluZ3Mub3V0cHV0ID0gc2V0dGluZ3Mud3JhcCA/IFwianNvblwiIDogbnVsbDtcblxuICAgICAgICAvLyBvbiBlbmNhcHN1bGUgbGVzIHJlcG9uc2VzIGRhbnMgdW4gb2JqZXQgSlNPTlxuICAgICAgICBpZiAoc2V0dGluZ3Mud3JhcCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgcGFyYW1zLm91dHB1dCA9IHNldHRpbmdzLm91dHB1dDtcbiAgICAgICAgICAgIHBhcmFtcy5jYWxsYmFjayA9IHNldHRpbmdzLmNhbGxiYWNrO1xuICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5jYWxsYmFjazsgLy8gRklYTUUgbm9uIGfDqXLDqSAhP1xuICAgICAgICAgICAgc2V0dGluZ3MudXJsID0gSGVscGVyLm5vcm1hbHl6ZVVybChvcHRpb25zLnVybCwgcGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNob2l4IGRlIGxcImltcGxlbWVudGF0aW9uIDpcbiAgICAgICAgLy8gWEhSIG91IEpTT05QXG4gICAgICAgIHN3aXRjaCAoc2V0dGluZ3MucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIGNhc2UgXCJYSFJcIjpcbiAgICAgICAgICAgICAgICAvLyBvbiBub3JtYWxpc2UgbCd1cmwgKGdlc3Rpb24gZHUgY2FjaGUpXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubWV0aG9kID09PSBcIkdFVFwiICYmIG9wdGlvbnMubm9jYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy51cmwgPSBIZWxwZXIubm9ybWFseXplVXJsKHNldHRpbmdzLnVybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhcHBlbCBkdSBzZXJ2aWNlIGVuIFhIUlxuICAgICAgICAgICAgICAgIFhIUi5jYWxsKHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJKU09OUFwiOlxuXG4gICAgICAgICAgICAgICAgLy8gb24gbm9ybWFsaXNlIGwndXJsIHNpIGxlcyBwYXJhbXMuIHNvbnQgcmVuc2VpZ27DqXMgZGFucyBsYSBzdHJpbmd8b2JqZWN0IFwiZGF0YVwiXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MudXJsID0gSGVscGVyLm5vcm1hbHl6ZVVybChzZXR0aW5ncy51cmwsIHNldHRpbmdzLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFwcGVsIGR1IHNlcnZpY2UgZW4gSlNPTlBcbiAgICAgICAgICAgICAgICBKU09OUC5jYWxsKHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJvdG9jb2wgbm90IHN1cHBvcnRlZCAoWEhSfEpTT05QKSAhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm90b2NvbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Protocols/Protocol.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Protocols/XHR.js":
/*!****************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Protocols/XHR.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/Helper */ \"./node_modules/geoportal-access-lib/src/Utils/Helper.js\");\n/* harmony import */ var es6_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! es6-promise */ \"./node_modules/es6-promise/dist/es6-promise.js\");\n/* harmony import */ var es6_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(es6_promise__WEBPACK_IMPORTED_MODULE_2__);\n/* global Promise, require */\n\n\n\n\n// import __request from \"request\";\n// import __xmldom from \"xmldom\";\n\n/**\n * Ajax Request (use of Promises)\n *\n * @module XHR\n * @alias Gp.Protocols.XHR\n * @see dependance 'es6-promise'\n */\n\n// cf. https://xhr.spec.whatwg.org/\n// cf. https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n\nvar XHR = {\n\n    /**\n     * Interface unique d'envoi d'une requête.\n     *\n     * @method call\n     * @static\n     * @param {Object} settings - options generales\n     * @param {String} settings.url    - url du service\n     * @param {String} settings.method - GET, POST, PUT, DELETE\n     * @param {String} settings.format - format de la reponse du service : json, xml ou null (brute)\n     * @param {String} settings.data   - content (post) ou param (get)\n     * @param {String} settings.proxy  - proxy url\n     * @param {Object|String} settings.headers - (post) ex. referer\n     * @param {Object|String} settings.content - (post) ex. 'application/json'\n     * @param {String} settings.timeOut - timeout = 0 par defaut\n     * @param {String} settings.scope - this\n     * @param {Function} settings.onResponse - callback\n     * @param {Function} settings.onFailure  - callback\n     */\n    call : function (settings) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"XHR\");\n        logger.trace(\"[XHR::call()]\");\n\n        // FIXME\n        // To polyfill the global environment\n        es6_promise__WEBPACK_IMPORTED_MODULE_2___default.a.polyfill();\n\n        // test sur les settings obligatoires\n        if (!settings.url) {\n            throw new Error(\"missing parameter : url is not defined !\");\n        }\n\n        if (!settings.method) {\n            throw new Error(\"missing parameter : method is not defined !\");\n        }\n\n        if (!settings.format) {\n            settings.format = \"text\"; // reponse brute !\n        }\n\n        var options = {};\n        options.url = settings.url;\n        options.data = settings.data ? settings.data : null;\n        options.method = settings.method;\n        options.timeOut = settings.timeOut || 0;\n        options.scope = settings.scope || this;\n        options.proxy = settings.proxy || null;\n        options.content = settings.content || null;\n        options.headers = settings.headers || {\n            referer : \"http://localhost\"\n        };\n\n        // test sur les valeurs de 'settings.method'\n        switch (settings.method) {\n            case \"DELETE\":\n            case \"GET\":\n                break;\n            case \"PUT\":\n            case \"POST\":\n                // on force sur ces params spécifiques au mode POST\n                options.content = settings.content ? settings.content : \"application/x-www-form-urlencoded\"; // FIXME en attente des services : bascule en \"application/xml\" ou \"application/json\"\n                options.headers = settings.headers ? settings.headers : {\n                    referer : \"http://localhost\" // todo ...\n                };\n                break;\n            case \"HEAD\":\n            case \"OPTIONS\":\n                throw new Error(\"HTTP method not yet supported !\");\n            default:\n                throw new Error(\"HTTP method unknown !\");\n        }\n\n        // test sur les valeurs de 'settings.format'\n        switch (settings.format) {\n            case \"text\":\n                this.__call(options)\n                    .then(function (response) {\n                        logger.trace(response);\n                        settings.onResponse.call(this, response);\n                    })\n                    .catch(function (error) {\n                        settings.onFailure.call(this, error);\n                    });\n                break;\n            case \"json\":\n                this.__callJSON(options)\n                    .then(function (response) {\n                        logger.trace(response);\n                        settings.onResponse.call(this, response);\n                    })\n                    .catch(function (error) {\n                        settings.onFailure.call(this, error);\n                    });\n                break;\n            case \"xml\":\n                this.__callXML(options)\n                    .then(function (response) {\n                        logger.trace(response);\n                        settings.onResponse.call(this, response);\n                    })\n                    .catch(function (error) {\n                        settings.onFailure.call(this, error);\n                    });\n                break;\n            default:\n                throw new Error(\"This output Format is not yet supported !\");\n        }\n    },\n\n    /**\n     * Requete\n     *\n     * @method __call\n     * @private\n     * @param  {Object} options - options\n     * @return {Object} promise\n     */\n    __call : function (options) {\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"XHR\");\n        logger.trace(\"[XHR::__call()]\");\n\n        var promise = new Promise(\n            function (resolve, reject) {\n                // traitement du corps de la requête\n                var corps = (options.method === \"POST\" || options.method === \"PUT\") ? 1 : 0;\n\n                // seulement si options.data n'est pas vide (peut être un objet ou une chaine de caractères)\n                if (options.data && ((typeof options.data === \"object\" && Object.keys(options.data).length) || (typeof options.data === \"string\" && options.data.length)) && !corps) {\n                    options.url = _Utils_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalyzeUrl(options.url, options.data);\n                }\n\n                logger.trace(\"URL = \", options.url);\n\n                var hXHR = null;\n\n                // test on env. nodejs or browser\n                if (typeof window === \"undefined\") {\n                    // Utilisation du module :\n                    // cf. http://blog.modulus.io/node.js-tutorial-how-to-use-request-module\n\n                    var req = __webpack_require__(/*! request */ \"request\");// __request\n\n                    // mapping data avec body param. pour le mode POST ou PUT (?)\n                    if (options.data && typeof options.data === \"string\" && corps) {\n                        options.body = options.data;\n                    }\n\n                    // FIXME ERROR : self signed certificate in certificate chain\n                    options.rejectUnauthorized = false;\n\n                    req(options, function (error, response, body) {\n                        if (!error && response.statusCode === 200 && body) {\n                            resolve(body);\n                        } else {\n                            reject(\"Errors Occured on Http Request (nodejs) : \" + error);\n                        }\n                    });\n                } else {\n                    if (window.XMLHttpRequest) {\n                        logger.trace(\"XMLHttpRequest\");\n\n                        hXHR = new XMLHttpRequest();\n                        hXHR.open(options.method, options.url, true); // async\n                        hXHR.overrideMimeType = options.content;\n\n                        // gestion du timeout\n                        var onTimeOutTrigger = null;\n                        if (options.timeOut > 0) {\n                            // FIXME le timeout interne ne me permet pas de declencher le bon message...\n                            // hXHR.timeout = options.timeOut;\n                            logger.trace(\"XHR - TimeOut actif !\");\n                            /**\n                             * Description\n                             *\n                             * @method onTimeOutTrigger\n                             * @private\n                             */\n                            onTimeOutTrigger = window.setTimeout(\n                                function () {\n                                    var message = \"TimeOut Occured on Http Request with XMLHttpRequest !\";\n                                    reject({\n                                        message : message,\n                                        status : -1\n                                    });\n                                }, options.timeOut);\n                        }\n\n                        if (corps) {\n                            // headers, data, content of data\n                            // cf. https://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html#dom-xmlhttprequest-setrequestheader\n                            logger.trace(\"data = \", options.data);\n                            hXHR.setRequestHeader(\"Content-type\", options.content);\n                            // FIXME refused to set unsafe header content-length javascript\n                            // hXHR.setRequestHeader (\"Content-length\", options.data.length);\n                            // hXHR.setRequestHeader (\"Referer\", options.headers.referer);\n                        }\n\n                        /**\n                         * On Error\n                         * FIXME ne se declenche pas !?\n                         *\n                         * @param {Object} e - Event\n                         * @method onerror\n                         * @private\n                         */\n                        hXHR.onerror = function (e) {\n                            console.log(e);\n                            reject(new Error(\"Errors Occured on Http Request with XMLHttpRequest !\"));\n                        };\n\n                        /**\n                         * On Timeout\n                         * FIXME ne se declenche pas !?\n                         *\n                         * @param {Object} e - Event\n                         * @method ontimeout\n                         * @private\n                         */\n                        hXHR.ontimeout = function (e) {\n                            console.log(e);\n                            reject(new Error(\"TimeOut Occured on Http Request with XMLHttpRequest !\"));\n                        };\n\n                        /**\n                         * Description\n                         *\n                         * @method onreadystatechange\n                         * @private\n                         */\n                        hXHR.onreadystatechange = function (e) {\n                            if (hXHR.readyState === 4) { // DONE\n                                if (hXHR.status === 200) {\n                                    window.clearTimeout(onTimeOutTrigger);\n                                    resolve(hXHR.response);\n                                } else {\n                                    var message = \"Errors Occured on Http Request (status : '\" + e.target.statusText + \"' | url : '\" + e.target.responseURL + \"')\";\n                                    var status = e.target.status;\n                                    reject({\n                                        message : message,\n                                        status : status\n                                    });\n                                }\n                            }\n                        };\n\n                        // gestion du content data\n                        var data4xhr = (options.data && corps) ? options.data : null;\n\n                        hXHR.send(data4xhr);\n                    } else if (window.XDomainRequest) {\n                        // worked in Internet Explorer 8–10 only !\n                        logger.trace(\"XDomainRequest\");\n\n                        hXHR = new XDomainRequest();\n                        hXHR.open(options.method, options.url);\n\n                        hXHR.overrideMimeType = options.content;\n\n                        if (options.timeOut > 0) {\n                            hXHR.timeout = options.timeout;\n                            logger.trace(\"XHR - TimeOut actif !\");\n                        }\n\n                        if (corps) {\n                            // headers, data, content of data\n                            // cf. https://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html#dom-xmlhttprequest-setrequestheader\n                            hXHR.setRequestHeader(\"Content-type\", options.content);\n                            // FIXME refused to set unsafe header content-length javascript\n                            // hXHR.setRequestHeader (\"Content-length\", options.data.length);\n                            // hXHR.setRequestHeader (\"Referer\", options.headers.referer);\n                        }\n\n                        /**\n                         * Description\n                         *\n                         * @method onerror\n                         * @private\n                         */\n                        hXHR.onerror = function () {\n                            reject(new Error(\"Errors Occured on Http Request with XMLHttpRequest !\"));\n                        };\n\n                        /**\n                         * Description\n                         *\n                         * @method ontimeout\n                         * @private\n                         */\n                        hXHR.ontimeout = function () {\n                            reject(new Error(\"TimeOut Occured on Http Request with XMLHttpRequest !\"));\n                        };\n\n                        /**\n                         * On Load\n                         *\n                         * @method onload\n                         * @private\n                         */\n                        hXHR.onload = function (e) {\n                            if (hXHR.status === 200) {\n                                resolve(hXHR.responseText);\n                            } else {\n                                var message = \"Errors Occured on Http Request (status : '\" + e.target.statusText + \"' | url : '\" + e.target.responseURL + \"')\";\n                                var status = e.target.status;\n                                reject({\n                                    message : message,\n                                    status : status\n                                });\n                            }\n                        };\n\n                        var data4xdr = (options.data && corps) ? options.data : null;\n\n                        hXHR.send(data4xdr);\n                    } else {\n                        throw new Error(\"CORS not supported\");\n                    }\n                }\n            }\n        );\n\n        return promise;\n    },\n\n    /**\n     * Requete avec parser JSON\n     *\n     * @method __callJSON\n     * @private\n     * @param  {Object} options - options\n     * @return {Object} promise\n     */\n    __callJSON : function (options) {\n        return this.__call(options)\n            .then(JSON.parse)\n            .catch(function (error) {\n                console.log(\"_callJSON failed on : \", options.url, error);\n                // FIXME pas d'exception, laissons le fil se derouler...\n                // throw error;\n            });\n    },\n\n    /**\n     * Requete avec parser XML\n     *\n     * @method __callXML\n     * @private\n     * @param  {Object} options - options\n     * @return {Object} promise\n     */\n    __callXML : function (options) {\n        return this.__call(options)\n            .then(function (response) {\n                var xmlDoc;\n\n                // test on env. nodejs or browser\n                if (typeof window === \"undefined\") {\n                    var DOMParser = __webpack_require__(/*! xmldom */ \"xmldom\").DOMParser; // __xmldom.DOMParser\n                    xmlDoc = new DOMParser().parseFromString(response, \"text/xml\");\n                } else {\n                    if (window.DOMParser) {\n                        var parser = new window.DOMParser();\n                        xmlDoc = parser.parseFromString(response, \"text/xml\");\n                    } else { // IE\n                        xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                        xmlDoc.async = false;\n                        xmlDoc.loadXML(response);\n                    }\n                }\n\n                return xmlDoc;\n            })\n            .catch(function (error) {\n                console.log(\"__callXML failed on : \", options.url, error);\n                // FIXME pas d'exception, laissons le fil se derouler...\n                // throw error;\n            });\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (XHR);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvUHJvdG9jb2xzL1hIUi5qcz8wYzViIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFOEM7QUFDVDtBQUNBO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxjQUFjO0FBQzdCLGVBQWUsY0FBYztBQUM3QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsU0FBUztBQUN4QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhEQUFNO0FBQzNCOztBQUVBO0FBQ0E7QUFDQSxRQUFRLGtEQUFVOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUM7QUFDckM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0EscUJBQXFCLDhEQUFNO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQ0FBa0MscURBQU07QUFDeEM7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLG1CQUFPLENBQUMsd0JBQVMsRUFBRTs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBLHFFQUFxRTtBQUNyRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckMsaUNBQWlDO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxPQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBOztBQUVBOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyxtQkFBTyxDQUFDLHNCQUFRLFlBQVk7QUFDaEU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLE9BQU87QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTs7QUFFZSxrRUFBRyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9Qcm90b2NvbHMvWEhSLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIFByb21pc2UsIHJlcXVpcmUgKi9cblxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgSGVscGVyIGZyb20gXCIuLi9VdGlscy9IZWxwZXJcIjtcbmltcG9ydCBFUzZQcm9taXNlIGZyb20gXCJlczYtcHJvbWlzZVwiO1xuLy8gaW1wb3J0IF9fcmVxdWVzdCBmcm9tIFwicmVxdWVzdFwiO1xuLy8gaW1wb3J0IF9feG1sZG9tIGZyb20gXCJ4bWxkb21cIjtcblxuLyoqXG4gKiBBamF4IFJlcXVlc3QgKHVzZSBvZiBQcm9taXNlcylcbiAqXG4gKiBAbW9kdWxlIFhIUlxuICogQGFsaWFzIEdwLlByb3RvY29scy5YSFJcbiAqIEBzZWUgZGVwZW5kYW5jZSAnZXM2LXByb21pc2UnXG4gKi9cblxuLy8gY2YuIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy9cbi8vIGNmLiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3RcblxudmFyIFhIUiA9IHtcblxuICAgIC8qKlxuICAgICAqIEludGVyZmFjZSB1bmlxdWUgZCdlbnZvaSBkJ3VuZSByZXF1w6p0ZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgY2FsbFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3MgLSBvcHRpb25zIGdlbmVyYWxlc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZXR0aW5ncy51cmwgICAgLSB1cmwgZHUgc2VydmljZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZXR0aW5ncy5tZXRob2QgLSBHRVQsIFBPU1QsIFBVVCwgREVMRVRFXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNldHRpbmdzLmZvcm1hdCAtIGZvcm1hdCBkZSBsYSByZXBvbnNlIGR1IHNlcnZpY2UgOiBqc29uLCB4bWwgb3UgbnVsbCAoYnJ1dGUpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNldHRpbmdzLmRhdGEgICAtIGNvbnRlbnQgKHBvc3QpIG91IHBhcmFtIChnZXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNldHRpbmdzLnByb3h5ICAtIHByb3h5IHVybFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gc2V0dGluZ3MuaGVhZGVycyAtIChwb3N0KSBleC4gcmVmZXJlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gc2V0dGluZ3MuY29udGVudCAtIChwb3N0KSBleC4gJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNldHRpbmdzLnRpbWVPdXQgLSB0aW1lb3V0ID0gMCBwYXIgZGVmYXV0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNldHRpbmdzLnNjb3BlIC0gdGhpc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRpbmdzLm9uUmVzcG9uc2UgLSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRpbmdzLm9uRmFpbHVyZSAgLSBjYWxsYmFja1xuICAgICAqL1xuICAgIGNhbGwgOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG4gICAgICAgIHZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiWEhSXCIpO1xuICAgICAgICBsb2dnZXIudHJhY2UoXCJbWEhSOjpjYWxsKCldXCIpO1xuXG4gICAgICAgIC8vIEZJWE1FXG4gICAgICAgIC8vIFRvIHBvbHlmaWxsIHRoZSBnbG9iYWwgZW52aXJvbm1lbnRcbiAgICAgICAgRVM2UHJvbWlzZS5wb2x5ZmlsbCgpO1xuXG4gICAgICAgIC8vIHRlc3Qgc3VyIGxlcyBzZXR0aW5ncyBvYmxpZ2F0b2lyZXNcbiAgICAgICAgaWYgKCFzZXR0aW5ncy51cmwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcGFyYW1ldGVyIDogdXJsIGlzIG5vdCBkZWZpbmVkICFcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNldHRpbmdzLm1ldGhvZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBwYXJhbWV0ZXIgOiBtZXRob2QgaXMgbm90IGRlZmluZWQgIVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2V0dGluZ3MuZm9ybWF0KSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5mb3JtYXQgPSBcInRleHRcIjsgLy8gcmVwb25zZSBicnV0ZSAhXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgICBvcHRpb25zLnVybCA9IHNldHRpbmdzLnVybDtcbiAgICAgICAgb3B0aW9ucy5kYXRhID0gc2V0dGluZ3MuZGF0YSA/IHNldHRpbmdzLmRhdGEgOiBudWxsO1xuICAgICAgICBvcHRpb25zLm1ldGhvZCA9IHNldHRpbmdzLm1ldGhvZDtcbiAgICAgICAgb3B0aW9ucy50aW1lT3V0ID0gc2V0dGluZ3MudGltZU91dCB8fCAwO1xuICAgICAgICBvcHRpb25zLnNjb3BlID0gc2V0dGluZ3Muc2NvcGUgfHwgdGhpcztcbiAgICAgICAgb3B0aW9ucy5wcm94eSA9IHNldHRpbmdzLnByb3h5IHx8IG51bGw7XG4gICAgICAgIG9wdGlvbnMuY29udGVudCA9IHNldHRpbmdzLmNvbnRlbnQgfHwgbnVsbDtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gc2V0dGluZ3MuaGVhZGVycyB8fCB7XG4gICAgICAgICAgICByZWZlcmVyIDogXCJodHRwOi8vbG9jYWxob3N0XCJcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB0ZXN0IHN1ciBsZXMgdmFsZXVycyBkZSAnc2V0dGluZ3MubWV0aG9kJ1xuICAgICAgICBzd2l0Y2ggKHNldHRpbmdzLm1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBcIkRFTEVURVwiOlxuICAgICAgICAgICAgY2FzZSBcIkdFVFwiOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlBVVFwiOlxuICAgICAgICAgICAgY2FzZSBcIlBPU1RcIjpcbiAgICAgICAgICAgICAgICAvLyBvbiBmb3JjZSBzdXIgY2VzIHBhcmFtcyBzcMOpY2lmaXF1ZXMgYXUgbW9kZSBQT1NUXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb250ZW50ID0gc2V0dGluZ3MuY29udGVudCA/IHNldHRpbmdzLmNvbnRlbnQgOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOyAvLyBGSVhNRSBlbiBhdHRlbnRlIGRlcyBzZXJ2aWNlcyA6IGJhc2N1bGUgZW4gXCJhcHBsaWNhdGlvbi94bWxcIiBvdSBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IHNldHRpbmdzLmhlYWRlcnMgPyBzZXR0aW5ncy5oZWFkZXJzIDoge1xuICAgICAgICAgICAgICAgICAgICByZWZlcmVyIDogXCJodHRwOi8vbG9jYWxob3N0XCIgLy8gdG9kbyAuLi5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkhFQURcIjpcbiAgICAgICAgICAgIGNhc2UgXCJPUFRJT05TXCI6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSFRUUCBtZXRob2Qgbm90IHlldCBzdXBwb3J0ZWQgIVwiKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSFRUUCBtZXRob2QgdW5rbm93biAhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGVzdCBzdXIgbGVzIHZhbGV1cnMgZGUgJ3NldHRpbmdzLmZvcm1hdCdcbiAgICAgICAgc3dpdGNoIChzZXR0aW5ncy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NhbGwob3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25SZXNwb25zZS5jYWxsKHRoaXMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25GYWlsdXJlLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJqc29uXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NhbGxKU09OKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uUmVzcG9uc2UuY2FsbCh0aGlzLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uRmFpbHVyZS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwieG1sXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NhbGxYTUwob3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25SZXNwb25zZS5jYWxsKHRoaXMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25GYWlsdXJlLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBvdXRwdXQgRm9ybWF0IGlzIG5vdCB5ZXQgc3VwcG9ydGVkICFcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVxdWV0ZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBfX2NhbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHByb21pc2VcbiAgICAgKi9cbiAgICBfX2NhbGwgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIlhIUlwiKTtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwiW1hIUjo6X19jYWxsKCldXCIpO1xuXG4gICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgLy8gdHJhaXRlbWVudCBkdSBjb3JwcyBkZSBsYSByZXF1w6p0ZVxuICAgICAgICAgICAgICAgIHZhciBjb3JwcyA9IChvcHRpb25zLm1ldGhvZCA9PT0gXCJQT1NUXCIgfHwgb3B0aW9ucy5tZXRob2QgPT09IFwiUFVUXCIpID8gMSA6IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBzZXVsZW1lbnQgc2kgb3B0aW9ucy5kYXRhIG4nZXN0IHBhcyB2aWRlIChwZXV0IMOqdHJlIHVuIG9iamV0IG91IHVuZSBjaGFpbmUgZGUgY2FyYWN0w6hyZXMpXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiAoKHR5cGVvZiBvcHRpb25zLmRhdGEgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMob3B0aW9ucy5kYXRhKS5sZW5ndGgpIHx8ICh0eXBlb2Ygb3B0aW9ucy5kYXRhID09PSBcInN0cmluZ1wiICYmIG9wdGlvbnMuZGF0YS5sZW5ndGgpKSAmJiAhY29ycHMpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBIZWxwZXIubm9ybWFseXplVXJsKG9wdGlvbnMudXJsLCBvcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcIlVSTCA9IFwiLCBvcHRpb25zLnVybCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaFhIUiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyB0ZXN0IG9uIGVudi4gbm9kZWpzIG9yIGJyb3dzZXJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBVdGlsaXNhdGlvbiBkdSBtb2R1bGUgOlxuICAgICAgICAgICAgICAgICAgICAvLyBjZi4gaHR0cDovL2Jsb2cubW9kdWx1cy5pby9ub2RlLmpzLXR1dG9yaWFsLWhvdy10by11c2UtcmVxdWVzdC1tb2R1bGVcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gcmVxdWlyZShcInJlcXVlc3RcIik7Ly8gX19yZXF1ZXN0XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbWFwcGluZyBkYXRhIGF2ZWMgYm9keSBwYXJhbS4gcG91ciBsZSBtb2RlIFBPU1Qgb3UgUFVUICg/KVxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kYXRhICYmIHR5cGVvZiBvcHRpb25zLmRhdGEgPT09IFwic3RyaW5nXCIgJiYgY29ycHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYm9keSA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FIEVSUk9SIDogc2VsZiBzaWduZWQgY2VydGlmaWNhdGUgaW4gY2VydGlmaWNhdGUgY2hhaW5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICByZXEob3B0aW9ucywgZnVuY3Rpb24gKGVycm9yLCByZXNwb25zZSwgYm9keSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvciAmJiByZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDAgJiYgYm9keSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcIkVycm9ycyBPY2N1cmVkIG9uIEh0dHAgUmVxdWVzdCAobm9kZWpzKSA6IFwiICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UoXCJYTUxIdHRwUmVxdWVzdFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaFhIUiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaFhIUi5vcGVuKG9wdGlvbnMubWV0aG9kLCBvcHRpb25zLnVybCwgdHJ1ZSk7IC8vIGFzeW5jXG4gICAgICAgICAgICAgICAgICAgICAgICBoWEhSLm92ZXJyaWRlTWltZVR5cGUgPSBvcHRpb25zLmNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdlc3Rpb24gZHUgdGltZW91dFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uVGltZU91dFRyaWdnZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudGltZU91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRSBsZSB0aW1lb3V0IGludGVybmUgbmUgbWUgcGVybWV0IHBhcyBkZSBkZWNsZW5jaGVyIGxlIGJvbiBtZXNzYWdlLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaFhIUi50aW1lb3V0ID0gb3B0aW9ucy50aW1lT3V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcIlhIUiAtIFRpbWVPdXQgYWN0aWYgIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBvblRpbWVPdXRUcmlnZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRpbWVPdXRUcmlnZ2VyID0gd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJUaW1lT3V0IE9jY3VyZWQgb24gSHR0cCBSZXF1ZXN0IHdpdGggWE1MSHR0cFJlcXVlc3QgIVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgOiAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZU91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3Jwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMsIGRhdGEsIGNvbnRlbnQgb2YgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNmLiBodHRwczovL2R2Y3MudzMub3JnL2hnL3hoci9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNkb20teG1saHR0cHJlcXVlc3Qtc2V0cmVxdWVzdGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcImRhdGEgPSBcIiwgb3B0aW9ucy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoWEhSLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgb3B0aW9ucy5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRSByZWZ1c2VkIHRvIHNldCB1bnNhZmUgaGVhZGVyIGNvbnRlbnQtbGVuZ3RoIGphdmFzY3JpcHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoWEhSLnNldFJlcXVlc3RIZWFkZXIgKFwiQ29udGVudC1sZW5ndGhcIiwgb3B0aW9ucy5kYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaFhIUi5zZXRSZXF1ZXN0SGVhZGVyIChcIlJlZmVyZXJcIiwgb3B0aW9ucy5oZWFkZXJzLnJlZmVyZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIE9uIEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBGSVhNRSBuZSBzZSBkZWNsZW5jaGUgcGFzICE/XG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGUgLSBFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBvbmVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBoWEhSLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJFcnJvcnMgT2NjdXJlZCBvbiBIdHRwIFJlcXVlc3Qgd2l0aCBYTUxIdHRwUmVxdWVzdCAhXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogT24gVGltZW91dFxuICAgICAgICAgICAgICAgICAgICAgICAgICogRklYTUUgbmUgc2UgZGVjbGVuY2hlIHBhcyAhP1xuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlIC0gRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2Qgb250aW1lb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBoWEhSLm9udGltZW91dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlRpbWVPdXQgT2NjdXJlZCBvbiBIdHRwIFJlcXVlc3Qgd2l0aCBYTUxIdHRwUmVxdWVzdCAhXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaFhIUi5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoWEhSLnJlYWR5U3RhdGUgPT09IDQpIHsgLy8gRE9ORVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaFhIUi5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChvblRpbWVPdXRUcmlnZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaFhIUi5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwiRXJyb3JzIE9jY3VyZWQgb24gSHR0cCBSZXF1ZXN0IChzdGF0dXMgOiAnXCIgKyBlLnRhcmdldC5zdGF0dXNUZXh0ICsgXCInIHwgdXJsIDogJ1wiICsgZS50YXJnZXQucmVzcG9uc2VVUkwgKyBcIicpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gZS50YXJnZXQuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgOiBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2VzdGlvbiBkdSBjb250ZW50IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhNHhociA9IChvcHRpb25zLmRhdGEgJiYgY29ycHMpID8gb3B0aW9ucy5kYXRhIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaFhIUi5zZW5kKGRhdGE0eGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuWERvbWFpblJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdvcmtlZCBpbiBJbnRlcm5ldCBFeHBsb3JlciA44oCTMTAgb25seSAhXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UoXCJYRG9tYWluUmVxdWVzdFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaFhIUiA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaFhIUi5vcGVuKG9wdGlvbnMubWV0aG9kLCBvcHRpb25zLnVybCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGhYSFIub3ZlcnJpZGVNaW1lVHlwZSA9IG9wdGlvbnMuY29udGVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudGltZU91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoWEhSLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiWEhSIC0gVGltZU91dCBhY3RpZiAhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ycHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoZWFkZXJzLCBkYXRhLCBjb250ZW50IG9mIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjZi4gaHR0cHM6Ly9kdmNzLnczLm9yZy9oZy94aHIvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjZG9tLXhtbGh0dHByZXF1ZXN0LXNldHJlcXVlc3RoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoWEhSLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgb3B0aW9ucy5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRSByZWZ1c2VkIHRvIHNldCB1bnNhZmUgaGVhZGVyIGNvbnRlbnQtbGVuZ3RoIGphdmFzY3JpcHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoWEhSLnNldFJlcXVlc3RIZWFkZXIgKFwiQ29udGVudC1sZW5ndGhcIiwgb3B0aW9ucy5kYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaFhIUi5zZXRSZXF1ZXN0SGVhZGVyIChcIlJlZmVyZXJcIiwgb3B0aW9ucy5oZWFkZXJzLnJlZmVyZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIERlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBvbmVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBoWEhSLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkVycm9ycyBPY2N1cmVkIG9uIEh0dHAgUmVxdWVzdCB3aXRoIFhNTEh0dHBSZXF1ZXN0ICFcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2Qgb250aW1lb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBoWEhSLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiVGltZU91dCBPY2N1cmVkIG9uIEh0dHAgUmVxdWVzdCB3aXRoIFhNTEh0dHBSZXF1ZXN0ICFcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBPbiBMb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBvbmxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGhYSFIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaFhIUi5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhYSFIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwiRXJyb3JzIE9jY3VyZWQgb24gSHR0cCBSZXF1ZXN0IChzdGF0dXMgOiAnXCIgKyBlLnRhcmdldC5zdGF0dXNUZXh0ICsgXCInIHwgdXJsIDogJ1wiICsgZS50YXJnZXQucmVzcG9uc2VVUkwgKyBcIicpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXMgPSBlLnRhcmdldC5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IHN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YTR4ZHIgPSAob3B0aW9ucy5kYXRhICYmIGNvcnBzKSA/IG9wdGlvbnMuZGF0YSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGhYSFIuc2VuZChkYXRhNHhkcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDT1JTIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVldGUgYXZlYyBwYXJzZXIgSlNPTlxuICAgICAqXG4gICAgICogQG1ldGhvZCBfX2NhbGxKU09OXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwcm9taXNlXG4gICAgICovXG4gICAgX19jYWxsSlNPTiA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fY2FsbChvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oSlNPTi5wYXJzZSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIl9jYWxsSlNPTiBmYWlsZWQgb24gOiBcIiwgb3B0aW9ucy51cmwsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRSBwYXMgZCdleGNlcHRpb24sIGxhaXNzb25zIGxlIGZpbCBzZSBkZXJvdWxlci4uLlxuICAgICAgICAgICAgICAgIC8vIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVldGUgYXZlYyBwYXJzZXIgWE1MXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9fY2FsbFhNTFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gcHJvbWlzZVxuICAgICAqL1xuICAgIF9fY2FsbFhNTCA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fY2FsbChvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHhtbERvYztcblxuICAgICAgICAgICAgICAgIC8vIHRlc3Qgb24gZW52LiBub2RlanMgb3IgYnJvd3NlclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBET01QYXJzZXIgPSByZXF1aXJlKFwieG1sZG9tXCIpLkRPTVBhcnNlcjsgLy8gX194bWxkb20uRE9NUGFyc2VyXG4gICAgICAgICAgICAgICAgICAgIHhtbERvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcocmVzcG9uc2UsIFwidGV4dC94bWxcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZSwgXCJ0ZXh0L3htbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gSUVcbiAgICAgICAgICAgICAgICAgICAgICAgIHhtbERvYyA9IG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB4bWxEb2MuYXN5bmMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhtbERvYy5sb2FkWE1MKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB4bWxEb2M7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiX19jYWxsWE1MIGZhaWxlZCBvbiA6IFwiLCBvcHRpb25zLnVybCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FIHBhcyBkJ2V4Y2VwdGlvbiwgbGFpc3NvbnMgbGUgZmlsIHNlIGRlcm91bGVyLi4uXG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFhIUjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Protocols/XHR.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Alti.js":
/*!*********************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Alti.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _CommonService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CommonService */ \"./node_modules/geoportal-access-lib/src/Services/CommonService.js\");\n/* harmony import */ var _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DefaultUrlService */ \"./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js\");\n/* harmony import */ var _Request_AltiRequestFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Request/AltiRequestFactory */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestFactory.js\");\n/* harmony import */ var _Response_AltiResponseFactory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Response/AltiResponseFactory */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Response/AltiResponseFactory.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @classdesc\n *\n * Appel du service d'altimétrie du Géoportail\n *\n * @todo gestion du parma. output et callback\n * @todo outputFormat (REST) et format (WPS)\n * @todo La reponse JSON peut encapsuler un XML !\n *\n * @constructor\n * @extends {Gp.Services.CommonService}\n * @alias Gp.Services.Alti\n * @param {Object} options - options spécifiques au service (+ les options heritées)\n *\n * @param {Array.<Object>} options.positions - Tableau ({lon:float,lat:float}) contenant les coordonnées des points (CRS:84)\n *      dont on veut connaître les altitudes (ou à partir desquelles on va calculer le profil).\n *      Chaque élément du tableau est un objet JavaScript avec deux attributs : lon et lat, qui sont des flottants.\n *      Minimum 2 éléments si on souhaite calculer un profil altimétrique (ElevationLine).\n *      Maximum 50 éléments.\n *\n * @param {String} options.outputFormat - Le format de la réponse du service alti : 'xml' ou 'json'.\n *      Ce paramètre déterminera l'extension '.xml' ou '.json' du service dans le cas de l'API REST,\n *      ou la valeur du paramètre 'format' dans le cas de la norme WPS.\n *      Nécessaire si serverUrl est renseigné, et qu'on souhaite passer par l'API REST,\n *      pour connaître le format dans lequel sera fournie la réponse (pour son traitement).\n *      Non nécessaire pour la norme WPS. Par défaut, ce paramètre vaut 'json'.\n *\n * @param {Number} [options.sampling] - Nombre de points à utiliser pour déterminer le tracé d'un profil altimétrique, compris entre 2 et 5000.\n *      A spécifier lorsqu'on souhaite accéder à cette fonctionnalité.\n *      Dans ce cas, les points fournis en entrée (au minimum de deux) servent à déterminer l'axe planimétrique\n *      le long duquel le profil doit être calculé.\n *      Si le paramètre sampling n'est pas spécifié ou moins de deux points sont fournis,\n *      c'est le service Elevation qui sera interrogé (altitudes simples calculées pour les points fournis).\n *      Une valeur de sampling strictement inférieure à 2 déclenchera un échantillonnage avec la valeur par défaut du service (3 points).\n *\n * @param {String} [options.api] - Manière d'accéder au service : 'REST' (via l'API REST) ou 'WPS' (via la norme WPS).\n *      Par défaut, on utilise l'API REST.\n *\n * @param {Boolean} [options.zonly] - Permet de ne récupérer que les altitudes en sortie s'il vaut 'true'.\n *      Vaut 'false' par défaut.\n *\n * @example\n *   var options = {\n *      apiKey : null,\n *      serverUrl : 'http://localhost/service/',\n *      protocol : 'JSONP', // JSONP|XHR\n *      proxyURL : null,\n *      httpMethod : 'GET', // GET|POST\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      // spécifique au service\n *      positions : [{lon:, lat:}, {lon:, lat:}],\n *      outputFormat : 'json' // json|xml\n *      sampling : 3,\n *      api : 'REST', // REST|WPS\n *      zonly : false // false|true\n *   };\n *\n * @private\n */\nfunction Alti (options) {\n    if (!(this instanceof Alti)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\", \"Alti\"));\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     * FIXME instance ou classe ?\n     */\n    this.CLASSNAME = \"Alti\";\n\n    // appel du constructeur par heritage\n    _CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Gp.Services.Alti\");\n    this.logger.trace(\"[Constructeur Alti (options)]\");\n\n    // #####################\n    // analyse des options\n    // #####################\n\n    if (!options.positions) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"positions\"));\n    }\n\n    if (options.positions.length === 0) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"positions\"));\n    }\n\n    // ajout des options spécifiques au service\n    this.options.positions = options.positions;\n\n    // format de réponse du service : \"json\" ou \"xml\" (valeur par défaut), en minuscule !\n    this.options.outputFormat = (typeof options.outputFormat === \"string\") ? options.outputFormat.toLowerCase() : \"xml\";\n\n    // sampling\n    this.options.sampling = options.sampling || null;\n\n    // type d'api utilisé pour requeter le service, en majuscule !\n    this.options.api = (typeof options.api === \"string\") ? options.api.toUpperCase() : \"REST\";\n\n    // l'api ne peut être interrogée qu'en GET.\n    if (this.options.api === \"REST\") {\n        this.options.httpMethod = \"GET\";\n    }\n\n    // param. zonly\n    this.options.zonly = options.zonly || false;\n\n    // gestion de l'url du service par defaut\n    // si l'url n'est pas renseignée, il faut utiliser les urls par defaut\n    // en fonction du type d'api, REST ou WPS, du format de reponse demandé (outputFormat)\n    // ainsi que sur le type de service (profil ou elevation)\n    if (!this.options.serverUrl) {\n        var lstUrlByDefault = _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Alti.url(this.options.apiKey);\n        var urlFound = null;\n        switch (this.options.api) {\n            case \"WPS\":\n                urlFound = lstUrlByDefault.wps;\n                break;\n            case \"REST\":\n                var key = (options.sampling ? \"profil\" : \"elevation\") + \"-\" + this.options.outputFormat;\n                urlFound = lstUrlByDefault[key];\n                break;\n            default:\n                throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_UNKNOWN\", \"api\"));\n        }\n\n        if (!urlFound) {\n            throw new Error(\"Url by default not found !\");\n        }\n        this.options.serverUrl = urlFound;\n        this.logger.trace(\"Server URL by default : \" + this.options.serverUrl);\n    }\n\n    // gestion du type de service\n    // si l'extension de l'url est .json ou .xml, on surcharge le format de sortie (outputFormat)\n    var idx = this.options.serverUrl.lastIndexOf(\".\");\n    if (idx !== -1) {\n        var extension = this.options.serverUrl.substring(idx + 1);\n        if (extension && extension.length < 5) { // FIXME extension de moins de 4 car. ...\n            this.logger.trace(\"Server Extension URL : \" + extension);\n            switch (extension.toLowerCase()) {\n                case \"json\":\n                case \"xml\":\n                    this.options.outputFormat = extension.toLowerCase();\n                    break;\n                default:\n                    throw new Error(\"type of service : unknown or unsupported (json or xml) !\");\n            }\n        }\n    }\n}\n\n/**\n * @lends module:Alti#\n */\nAlti.prototype = Object.create(_CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/**\n * Constructeur (alias)\n */\nAlti.prototype.constructor = Alti;\n\n/**\n * Création de la requête (overwrite)\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nAlti.prototype.buildRequest = function (error, success) {\n    // utilisation en mode callback\n    var options = {\n        httpMethod : this.options.httpMethod,\n        // callback\n        onSuccess : function (result) {\n            // sauvegarde de la requete !\n            this.request = result;\n            success.call(this, this.request);\n        },\n        onError : error,\n        scope : this,\n        // spécifique au service :\n        positions : this.options.positions,\n        outputFormat : this.options.outputFormat,\n        sampling : this.options.sampling,\n        api : this.options.api,\n        zonly : this.options.zonly\n    };\n\n    _Request_AltiRequestFactory__WEBPACK_IMPORTED_MODULE_5__[\"default\"].build(options);\n};\n\n/**\n * Analyse de la reponse (overwrite)\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nAlti.prototype.analyzeResponse = function (error, success) {\n    // INFO\n    // Factory pour masquer la complexité du retour du service qui renvoie soit\n    //  - une 'string' qui contient du XML ou JSON natif en mode XHR\n    //  - un objet JSON qui est natif ou encapsulé\n\n    if (this.response) {\n        var options = {\n            response : this.response,\n            outputFormat : this.options.outputFormat, // utile pour parser la string en mode XHR : JSON ou XML !\n            rawResponse : this.options.rawResponse,\n            onError : error,\n            onSuccess : success,\n            scope : this\n        };\n\n        _Response_AltiResponseFactory__WEBPACK_IMPORTED_MODULE_6__[\"default\"].build(options);\n    } else {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Alti);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9BbHRpLmpzPzJlNDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ2lEO0FBQ0g7QUFDVztBQUNaO0FBQ1E7QUFDUztBQUNHOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFdBQVcsZUFBZSwrQkFBK0Isb0JBQW9CO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLHVDQUF1QztBQUN2QztBQUNBLHNCQUFzQixXQUFXLEdBQUcsV0FBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnRUFBQztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxzREFBYTs7QUFFakIsa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwREFBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0VBQUM7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzREFBYTtBQUM1QztBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLG1FQUFrQjtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxxRUFBbUI7QUFDM0IsS0FBSztBQUNMLDZCQUE2QixnRUFBWSxDQUFDLGdFQUFDO0FBQzNDO0FBQ0E7O0FBRWUsbUVBQUksRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9BbHRpLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBfIGZyb20gXCIuLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gXCIuLi9Db21tb25TZXJ2aWNlXCI7XG5pbXBvcnQgRGVmYXVsdFVybFNlcnZpY2UgZnJvbSBcIi4uL0RlZmF1bHRVcmxTZXJ2aWNlXCI7XG5pbXBvcnQgQWx0aVJlcXVlc3RGYWN0b3J5IGZyb20gXCIuL1JlcXVlc3QvQWx0aVJlcXVlc3RGYWN0b3J5XCI7XG5pbXBvcnQgQWx0aVJlc3BvbnNlRmFjdG9yeSBmcm9tIFwiLi9SZXNwb25zZS9BbHRpUmVzcG9uc2VGYWN0b3J5XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIEFwcGVsIGR1IHNlcnZpY2UgZCdhbHRpbcOpdHJpZSBkdSBHw6lvcG9ydGFpbFxuICpcbiAqIEB0b2RvIGdlc3Rpb24gZHUgcGFybWEuIG91dHB1dCBldCBjYWxsYmFja1xuICogQHRvZG8gb3V0cHV0Rm9ybWF0IChSRVNUKSBldCBmb3JtYXQgKFdQUylcbiAqIEB0b2RvIExhIHJlcG9uc2UgSlNPTiBwZXV0IGVuY2Fwc3VsZXIgdW4gWE1MICFcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtHcC5TZXJ2aWNlcy5Db21tb25TZXJ2aWNlfVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkFsdGlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZSAoKyBsZXMgb3B0aW9ucyBoZXJpdMOpZXMpXG4gKlxuICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gb3B0aW9ucy5wb3NpdGlvbnMgLSBUYWJsZWF1ICh7bG9uOmZsb2F0LGxhdDpmbG9hdH0pIGNvbnRlbmFudCBsZXMgY29vcmRvbm7DqWVzIGRlcyBwb2ludHMgKENSUzo4NClcbiAqICAgICAgZG9udCBvbiB2ZXV0IGNvbm5hw650cmUgbGVzIGFsdGl0dWRlcyAob3Ugw6AgcGFydGlyIGRlc3F1ZWxsZXMgb24gdmEgY2FsY3VsZXIgbGUgcHJvZmlsKS5cbiAqICAgICAgQ2hhcXVlIMOpbMOpbWVudCBkdSB0YWJsZWF1IGVzdCB1biBvYmpldCBKYXZhU2NyaXB0IGF2ZWMgZGV1eCBhdHRyaWJ1dHMgOiBsb24gZXQgbGF0LCBxdWkgc29udCBkZXMgZmxvdHRhbnRzLlxuICogICAgICBNaW5pbXVtIDIgw6lsw6ltZW50cyBzaSBvbiBzb3VoYWl0ZSBjYWxjdWxlciB1biBwcm9maWwgYWx0aW3DqXRyaXF1ZSAoRWxldmF0aW9uTGluZSkuXG4gKiAgICAgIE1heGltdW0gNTAgw6lsw6ltZW50cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5vdXRwdXRGb3JtYXQgLSBMZSBmb3JtYXQgZGUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSBhbHRpIDogJ3htbCcgb3UgJ2pzb24nLlxuICogICAgICBDZSBwYXJhbcOodHJlIGTDqXRlcm1pbmVyYSBsJ2V4dGVuc2lvbiAnLnhtbCcgb3UgJy5qc29uJyBkdSBzZXJ2aWNlIGRhbnMgbGUgY2FzIGRlIGwnQVBJIFJFU1QsXG4gKiAgICAgIG91IGxhIHZhbGV1ciBkdSBwYXJhbcOodHJlICdmb3JtYXQnIGRhbnMgbGUgY2FzIGRlIGxhIG5vcm1lIFdQUy5cbiAqICAgICAgTsOpY2Vzc2FpcmUgc2kgc2VydmVyVXJsIGVzdCByZW5zZWlnbsOpLCBldCBxdSdvbiBzb3VoYWl0ZSBwYXNzZXIgcGFyIGwnQVBJIFJFU1QsXG4gKiAgICAgIHBvdXIgY29ubmHDrnRyZSBsZSBmb3JtYXQgZGFucyBsZXF1ZWwgc2VyYSBmb3VybmllIGxhIHLDqXBvbnNlIChwb3VyIHNvbiB0cmFpdGVtZW50KS5cbiAqICAgICAgTm9uIG7DqWNlc3NhaXJlIHBvdXIgbGEgbm9ybWUgV1BTLiBQYXIgZMOpZmF1dCwgY2UgcGFyYW3DqHRyZSB2YXV0ICdqc29uJy5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc2FtcGxpbmddIC0gTm9tYnJlIGRlIHBvaW50cyDDoCB1dGlsaXNlciBwb3VyIGTDqXRlcm1pbmVyIGxlIHRyYWPDqSBkJ3VuIHByb2ZpbCBhbHRpbcOpdHJpcXVlLCBjb21wcmlzIGVudHJlIDIgZXQgNTAwMC5cbiAqICAgICAgQSBzcMOpY2lmaWVyIGxvcnNxdSdvbiBzb3VoYWl0ZSBhY2PDqWRlciDDoCBjZXR0ZSBmb25jdGlvbm5hbGl0w6kuXG4gKiAgICAgIERhbnMgY2UgY2FzLCBsZXMgcG9pbnRzIGZvdXJuaXMgZW4gZW50csOpZSAoYXUgbWluaW11bSBkZSBkZXV4KSBzZXJ2ZW50IMOgIGTDqXRlcm1pbmVyIGwnYXhlIHBsYW5pbcOpdHJpcXVlXG4gKiAgICAgIGxlIGxvbmcgZHVxdWVsIGxlIHByb2ZpbCBkb2l0IMOqdHJlIGNhbGN1bMOpLlxuICogICAgICBTaSBsZSBwYXJhbcOodHJlIHNhbXBsaW5nIG4nZXN0IHBhcyBzcMOpY2lmacOpIG91IG1vaW5zIGRlIGRldXggcG9pbnRzIHNvbnQgZm91cm5pcyxcbiAqICAgICAgYydlc3QgbGUgc2VydmljZSBFbGV2YXRpb24gcXVpIHNlcmEgaW50ZXJyb2fDqSAoYWx0aXR1ZGVzIHNpbXBsZXMgY2FsY3Vsw6llcyBwb3VyIGxlcyBwb2ludHMgZm91cm5pcykuXG4gKiAgICAgIFVuZSB2YWxldXIgZGUgc2FtcGxpbmcgc3RyaWN0ZW1lbnQgaW5mw6lyaWV1cmUgw6AgMiBkw6ljbGVuY2hlcmEgdW4gw6ljaGFudGlsbG9ubmFnZSBhdmVjIGxhIHZhbGV1ciBwYXIgZMOpZmF1dCBkdSBzZXJ2aWNlICgzIHBvaW50cykuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFwaV0gLSBNYW5pw6hyZSBkJ2FjY8OpZGVyIGF1IHNlcnZpY2UgOiAnUkVTVCcgKHZpYSBsJ0FQSSBSRVNUKSBvdSAnV1BTJyAodmlhIGxhIG5vcm1lIFdQUykuXG4gKiAgICAgIFBhciBkw6lmYXV0LCBvbiB1dGlsaXNlIGwnQVBJIFJFU1QuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy56b25seV0gLSBQZXJtZXQgZGUgbmUgcsOpY3Vww6lyZXIgcXVlIGxlcyBhbHRpdHVkZXMgZW4gc29ydGllIHMnaWwgdmF1dCAndHJ1ZScuXG4gKiAgICAgIFZhdXQgJ2ZhbHNlJyBwYXIgZMOpZmF1dC5cbiAqXG4gKiBAZXhhbXBsZVxuICogICB2YXIgb3B0aW9ucyA9IHtcbiAqICAgICAgYXBpS2V5IDogbnVsbCxcbiAqICAgICAgc2VydmVyVXJsIDogJ2h0dHA6Ly9sb2NhbGhvc3Qvc2VydmljZS8nLFxuICogICAgICBwcm90b2NvbCA6ICdKU09OUCcsIC8vIEpTT05QfFhIUlxuICogICAgICBwcm94eVVSTCA6IG51bGwsXG4gKiAgICAgIGh0dHBNZXRob2QgOiAnR0VUJywgLy8gR0VUfFBPU1RcbiAqICAgICAgdGltZU91dCA6IDEwMDAwLCAvLyBtc1xuICogICAgICByYXdSZXNwb25zZSA6IGZhbHNlLCAvLyB0cnVlfGZhbHNlXG4gKiAgICAgIHNjb3BlIDogbnVsbCwgLy8gdGhpc1xuICogICAgICBvblN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHt9LFxuICogICAgICBvbkZhaWx1cmUgOiBmdW5jdGlvbiAoZXJyb3IpIHt9LFxuICogICAgICAvLyBzcMOpY2lmaXF1ZSBhdSBzZXJ2aWNlXG4gKiAgICAgIHBvc2l0aW9ucyA6IFt7bG9uOiwgbGF0On0sIHtsb246LCBsYXQ6fV0sXG4gKiAgICAgIG91dHB1dEZvcm1hdCA6ICdqc29uJyAvLyBqc29ufHhtbFxuICogICAgICBzYW1wbGluZyA6IDMsXG4gKiAgICAgIGFwaSA6ICdSRVNUJywgLy8gUkVTVHxXUFNcbiAqICAgICAgem9ubHkgOiBmYWxzZSAvLyBmYWxzZXx0cnVlXG4gKiAgIH07XG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gQWx0aSAob3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBbHRpKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKF8uZ2V0TWVzc2FnZShcIkNMQVNTX0NPTlNUUlVDVE9SXCIsIFwiQWx0aVwiKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm9tIGRlIGxhIGNsYXNzZSAoaGVyaXRhZ2UpXG4gICAgICogRklYTUUgaW5zdGFuY2Ugb3UgY2xhc3NlID9cbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiQWx0aVwiO1xuXG4gICAgLy8gYXBwZWwgZHUgY29uc3RydWN0ZXVyIHBhciBoZXJpdGFnZVxuICAgIENvbW1vblNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIkdwLlNlcnZpY2VzLkFsdGlcIik7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIEFsdGkgKG9wdGlvbnMpXVwiKTtcblxuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuICAgIC8vIGFuYWx5c2UgZGVzIG9wdGlvbnNcbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuICAgIGlmICghb3B0aW9ucy5wb3NpdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX01JU1NJTkdcIiwgXCJwb3NpdGlvbnNcIikpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBvc2l0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX0VNUFRZXCIsIFwicG9zaXRpb25zXCIpKTtcbiAgICB9XG5cbiAgICAvLyBham91dCBkZXMgb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZVxuICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbnMgPSBvcHRpb25zLnBvc2l0aW9ucztcblxuICAgIC8vIGZvcm1hdCBkZSByw6lwb25zZSBkdSBzZXJ2aWNlIDogXCJqc29uXCIgb3UgXCJ4bWxcIiAodmFsZXVyIHBhciBkw6lmYXV0KSwgZW4gbWludXNjdWxlICFcbiAgICB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0ID0gKHR5cGVvZiBvcHRpb25zLm91dHB1dEZvcm1hdCA9PT0gXCJzdHJpbmdcIikgPyBvcHRpb25zLm91dHB1dEZvcm1hdC50b0xvd2VyQ2FzZSgpIDogXCJ4bWxcIjtcblxuICAgIC8vIHNhbXBsaW5nXG4gICAgdGhpcy5vcHRpb25zLnNhbXBsaW5nID0gb3B0aW9ucy5zYW1wbGluZyB8fCBudWxsO1xuXG4gICAgLy8gdHlwZSBkJ2FwaSB1dGlsaXPDqSBwb3VyIHJlcXVldGVyIGxlIHNlcnZpY2UsIGVuIG1hanVzY3VsZSAhXG4gICAgdGhpcy5vcHRpb25zLmFwaSA9ICh0eXBlb2Ygb3B0aW9ucy5hcGkgPT09IFwic3RyaW5nXCIpID8gb3B0aW9ucy5hcGkudG9VcHBlckNhc2UoKSA6IFwiUkVTVFwiO1xuXG4gICAgLy8gbCdhcGkgbmUgcGV1dCDDqnRyZSBpbnRlcnJvZ8OpZSBxdSdlbiBHRVQuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hcGkgPT09IFwiUkVTVFwiKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5odHRwTWV0aG9kID0gXCJHRVRcIjtcbiAgICB9XG5cbiAgICAvLyBwYXJhbS4gem9ubHlcbiAgICB0aGlzLm9wdGlvbnMuem9ubHkgPSBvcHRpb25zLnpvbmx5IHx8IGZhbHNlO1xuXG4gICAgLy8gZ2VzdGlvbiBkZSBsJ3VybCBkdSBzZXJ2aWNlIHBhciBkZWZhdXRcbiAgICAvLyBzaSBsJ3VybCBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUsIGlsIGZhdXQgdXRpbGlzZXIgbGVzIHVybHMgcGFyIGRlZmF1dFxuICAgIC8vIGVuIGZvbmN0aW9uIGR1IHR5cGUgZCdhcGksIFJFU1Qgb3UgV1BTLCBkdSBmb3JtYXQgZGUgcmVwb25zZSBkZW1hbmTDqSAob3V0cHV0Rm9ybWF0KVxuICAgIC8vIGFpbnNpIHF1ZSBzdXIgbGUgdHlwZSBkZSBzZXJ2aWNlIChwcm9maWwgb3UgZWxldmF0aW9uKVxuICAgIGlmICghdGhpcy5vcHRpb25zLnNlcnZlclVybCkge1xuICAgICAgICB2YXIgbHN0VXJsQnlEZWZhdWx0ID0gRGVmYXVsdFVybFNlcnZpY2UuQWx0aS51cmwodGhpcy5vcHRpb25zLmFwaUtleSk7XG4gICAgICAgIHZhciB1cmxGb3VuZCA9IG51bGw7XG4gICAgICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLmFwaSkge1xuICAgICAgICAgICAgY2FzZSBcIldQU1wiOlxuICAgICAgICAgICAgICAgIHVybEZvdW5kID0gbHN0VXJsQnlEZWZhdWx0LndwcztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJSRVNUXCI6XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IChvcHRpb25zLnNhbXBsaW5nID8gXCJwcm9maWxcIiA6IFwiZWxldmF0aW9uXCIpICsgXCItXCIgKyB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0O1xuICAgICAgICAgICAgICAgIHVybEZvdW5kID0gbHN0VXJsQnlEZWZhdWx0W2tleV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9VTktOT1dOXCIsIFwiYXBpXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdXJsRm91bmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVybCBieSBkZWZhdWx0IG5vdCBmb3VuZCAhXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwgPSB1cmxGb3VuZDtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJTZXJ2ZXIgVVJMIGJ5IGRlZmF1bHQgOiBcIiArIHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwpO1xuICAgIH1cblxuICAgIC8vIGdlc3Rpb24gZHUgdHlwZSBkZSBzZXJ2aWNlXG4gICAgLy8gc2kgbCdleHRlbnNpb24gZGUgbCd1cmwgZXN0IC5qc29uIG91IC54bWwsIG9uIHN1cmNoYXJnZSBsZSBmb3JtYXQgZGUgc29ydGllIChvdXRwdXRGb3JtYXQpXG4gICAgdmFyIGlkeCA9IHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSB0aGlzLm9wdGlvbnMuc2VydmVyVXJsLnN1YnN0cmluZyhpZHggKyAxKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbiAmJiBleHRlbnNpb24ubGVuZ3RoIDwgNSkgeyAvLyBGSVhNRSBleHRlbnNpb24gZGUgbW9pbnMgZGUgNCBjYXIuIC4uLlxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJTZXJ2ZXIgRXh0ZW5zaW9uIFVSTCA6IFwiICsgZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgIHN3aXRjaCAoZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bWxcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm91dHB1dEZvcm1hdCA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0eXBlIG9mIHNlcnZpY2UgOiB1bmtub3duIG9yIHVuc3VwcG9ydGVkIChqc29uIG9yIHhtbCkgIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkFsdGkjXG4gKi9cbkFsdGkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21tb25TZXJ2aWNlLnByb3RvdHlwZSwge1xuICAgIC8vIHRvZG9cbiAgICAvLyBnZXR0ZXIvc2V0dGVyXG59KTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICovXG5BbHRpLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFsdGk7XG5cbi8qKlxuICogQ3LDqWF0aW9uIGRlIGxhIHJlcXXDqnRlIChvdmVyd3JpdGUpXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgICAtIGNhbGxiYWNrIGRlcyBlcnJldXJzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzIC0gY2FsbGJhY2tcbiAqL1xuQWx0aS5wcm90b3R5cGUuYnVpbGRSZXF1ZXN0ID0gZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgLy8gdXRpbGlzYXRpb24gZW4gbW9kZSBjYWxsYmFja1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBodHRwTWV0aG9kIDogdGhpcy5vcHRpb25zLmh0dHBNZXRob2QsXG4gICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIC8vIHNhdXZlZ2FyZGUgZGUgbGEgcmVxdWV0ZSAhXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXN1bHQ7XG4gICAgICAgICAgICBzdWNjZXNzLmNhbGwodGhpcywgdGhpcy5yZXF1ZXN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvciA6IGVycm9yLFxuICAgICAgICBzY29wZSA6IHRoaXMsXG4gICAgICAgIC8vIHNww6ljaWZpcXVlIGF1IHNlcnZpY2UgOlxuICAgICAgICBwb3NpdGlvbnMgOiB0aGlzLm9wdGlvbnMucG9zaXRpb25zLFxuICAgICAgICBvdXRwdXRGb3JtYXQgOiB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0LFxuICAgICAgICBzYW1wbGluZyA6IHRoaXMub3B0aW9ucy5zYW1wbGluZyxcbiAgICAgICAgYXBpIDogdGhpcy5vcHRpb25zLmFwaSxcbiAgICAgICAgem9ubHkgOiB0aGlzLm9wdGlvbnMuem9ubHlcbiAgICB9O1xuXG4gICAgQWx0aVJlcXVlc3RGYWN0b3J5LmJ1aWxkKG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBBbmFseXNlIGRlIGxhIHJlcG9uc2UgKG92ZXJ3cml0ZSlcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAgIC0gY2FsbGJhY2sgZGVzIGVycmV1cnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3MgLSBjYWxsYmFja1xuICovXG5BbHRpLnByb3RvdHlwZS5hbmFseXplUmVzcG9uc2UgPSBmdW5jdGlvbiAoZXJyb3IsIHN1Y2Nlc3MpIHtcbiAgICAvLyBJTkZPXG4gICAgLy8gRmFjdG9yeSBwb3VyIG1hc3F1ZXIgbGEgY29tcGxleGl0w6kgZHUgcmV0b3VyIGR1IHNlcnZpY2UgcXVpIHJlbnZvaWUgc29pdFxuICAgIC8vICAtIHVuZSAnc3RyaW5nJyBxdWkgY29udGllbnQgZHUgWE1MIG91IEpTT04gbmF0aWYgZW4gbW9kZSBYSFJcbiAgICAvLyAgLSB1biBvYmpldCBKU09OIHF1aSBlc3QgbmF0aWYgb3UgZW5jYXBzdWzDqVxuXG4gICAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByZXNwb25zZSA6IHRoaXMucmVzcG9uc2UsXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXQgOiB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0LCAvLyB1dGlsZSBwb3VyIHBhcnNlciBsYSBzdHJpbmcgZW4gbW9kZSBYSFIgOiBKU09OIG91IFhNTCAhXG4gICAgICAgICAgICByYXdSZXNwb25zZSA6IHRoaXMub3B0aW9ucy5yYXdSZXNwb25zZSxcbiAgICAgICAgICAgIG9uRXJyb3IgOiBlcnJvcixcbiAgICAgICAgICAgIG9uU3VjY2VzcyA6IHN1Y2Nlc3MsXG4gICAgICAgICAgICBzY29wZSA6IHRoaXNcbiAgICAgICAgfTtcblxuICAgICAgICBBbHRpUmVzcG9uc2VGYWN0b3J5LmJ1aWxkKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yLmNhbGwodGhpcywgbmV3IEVycm9yU2VydmljZShfLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VNUFRZXCIpKSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQWx0aTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Alti.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Formats/AltiResponseReader.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Formats/AltiResponseReader.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Response_model_AltiResponse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Response/model/AltiResponse */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/AltiResponse.js\");\n/* harmony import */ var _Response_model_Elevation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Response/model/Elevation */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/Elevation.js\");\n\n/**\n * Fonction retournant un objet contenant des clés de lecture (readers)\n *      qui permettent de parser des réponses XML du service Altimétrique du Géoportail\n *      (calcul altimétrique simple ou profil altimétrique d'une courbe),\n *      lorsque le paramètre output = xml,\n *      afin de récupérer les élévations retournées.\n *\n * @module AltiResponseReader\n * @alias Gp.Services.Alti.Formats.AltiResponseReader\n * @private\n */\n\n// import Logger from \"../../../Utils/LoggerByDefault\";\n\n\n\n/**\n *\n * Objet AltiResponseReader\n *\n * @member {Object} AltiResponseReader\n *\n * @property {Object} AltiResponseReader.READERS - Objet contenant des fonctions de lecture, appelées \"readers\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n *\n * @property {Method} AltiResponseReader.READERS.elevations -  Lecture d'un noeud \"elevations\" de la réponse XML\n *      du service alti, correspondant logiquement à la racine du document\n *      (contient un ou plusieurs childNodes correspondant chacun à une élévation retournée)\n *\n * @property {Method} AltiResponseReader.READERS.elevation - ecture d'un noeud \"elevation\" de la réponse xml du service alti.\n *      (contient un ou 4 childNode (s) correspondant à l'altitude (z) et éventuellement lat, lon, et acc)\n *\n * @property {Method} AltiResponseReader.READERS.lat - Lecture d'un noeud \"lat\" de la réponse xml du service alti.\n *      (contient une valeur de latitude, qui est un flottant)\n *\n * @property {Method} AltiResponseReader.READERS.lon - Lecture d'un noeud \"lon\" de la réponse xml du service alti.\n *      (contient une valeur de longitude, qui est un flottant)\n *\n * @property {Method} AltiResponseReader.READERS.z - Lecture d'un noeud \"z\" de la réponse xml du service alti.\n *      (contient une valeur d'altitude, qui est un flottant)\n *\n * @property {Method} AltiResponseReader.READERS.acc - Lecture d'un noeud \"acc\" de la réponse xml du service alti.\n *      (contient une valeur de précision, qui est un flottant)\n *\n * @property {Method} AltiResponseReader.READERS.exceptionreport - Lecture d'un noeud \"ExceptionReport\" de la réponse xml du service alti.\n *\n * @property {Method} AltiResponseReader.READERS.exception - Lecture d'un noeud \"Exception\" de la réponse xml du service alti.\n *\n * @property {Method} AltiResponseReader.read - Méthode permettant de lancer la lecture d'une réponse XML du service altimétrique,\n *      à l'aide des readers de la classe.\n *\n */\nvar AltiResponseReader = {};\n\nAltiResponseReader.READERS = {\n\n    /**\n     * Lecture d'un noeud \"elevations\" de la réponse XML du service alti, correspondant logiquement à la racine du document\n     *      (contient un ou plusieurs childNodes correspondant chacun à une élévation retournée)\n     *\n     * @param {DOMElement} root - racine de la réponse XML\n     * @static\n     * @memberof AltiResponseReader\n     * @returns {Object} Retourne un objet de type AltiResponse\n     */\n    elevations : function (root) {\n        // INFO : on passe en paramètre l'objet en entrée elevations, vide, à remplir.\n        var altiResponse = new _Response_model_AltiResponse__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n        if (root.hasChildNodes()) {\n            var children = root.childNodes;\n            var child;\n            var elevation;\n\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n\n                if (AltiResponseReader.READERS[child.nodeName]) {\n                    elevation = AltiResponseReader.READERS[child.nodeName](child);\n                    altiResponse.elevations.push(elevation);\n                }\n            }\n        }\n\n        return altiResponse;\n    },\n\n    /**\n     * Lecture d'un noeud \"elevation\" de la réponse xml du service alti.\n     *      (contient un ou 4 childNode (s) correspondant à l'altitude (z) et éventuellement lat, lon, et acc)\n     *\n     * @param {DOMElement} node - noeud elevation à lire pour récupérer les informations de l'élévation retournée (z [, lon, lat, acc])\n     * @return {Array} elevationResponse - format de la réponse en sortie, instance de AltiResponse\n     * @static\n     * @memberof AltiResponseReader\n     */\n    elevation : function (node) {\n        var elevation = new _Response_model_Elevation__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                if (AltiResponseReader.READERS[child.nodeName]) {\n                    // INFO : on passe en paramètre l'objet en entrée elevation, vide, à remplir.\n                    AltiResponseReader.READERS[child.nodeName](child, elevation);\n                }\n            }\n        }\n        return elevation;\n    },\n\n    /**\n     * Lecture d'un noeud \"lat\" de la réponse xml du service alti.\n     *      (contient une valeur de latitude, qui est un flottant)\n     *\n     * @param {DOMElement} node - noeud à lire pour récupérer la latitude\n     * @param {Object} elevation - objet dans lequel stocker la latitude retournée\n     * @static\n     * @memberof AltiResponseReader\n     */\n    lat : function (node, elevation) {\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            elevation.lat = parseFloat(textNode.nodeValue);\n        } else {\n            throw new Error(\"Erreur dans la lecture de la réponse du service : latitude attendue mais absente\");\n        }\n    },\n\n    /**\n     * Lecture d'un noeud \"lon\" de la réponse xml du service alti.\n     *      (contient une valeur de longitude, qui est un flottant)\n     *\n     * @param {DOMElement} node - noeud à lire pour récupérer la longitude\n     * @param {Object} elevation - objet dans lequel stocker la longitude retournée\n     * @static\n     * @memberof AltiResponseReader\n     */\n    lon : function (node, elevation) {\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            elevation.lon = parseFloat(textNode.nodeValue);\n        } else {\n            throw new Error(\"Erreur dans la lecture de la réponse du service : longitude attendue mais absente\");\n        }\n    },\n\n    /**\n     * Lecture d'un noeud \"z\" de la réponse xml du service alti.\n     *      (contient une valeur d'altitude, qui est un flottant)\n     *\n     * @param {DOMElement} node - noeud à lire pour récupérer l'altitude\n     * @param {Object} elevation - objet dans lequel stocker l'altitude retournée\n     * @static\n     * @memberof AltiResponseReader\n     */\n    z : function (node, elevation) {\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            if (elevation) {\n                elevation.z = parseFloat(textNode.nodeValue);\n            } else {\n                elevation = new _Response_model_Elevation__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n                elevation.z = parseFloat(textNode.nodeValue);\n                return elevation;\n            }\n        } else {\n            throw new Error(\"Erreur dans la lecture de la réponse du service : altitude attendue mais absente\");\n        }\n    },\n\n    /**\n     * Lecture d'un noeud \"acc\" de la réponse xml du service alti.\n     *      (contient une valeur de précision, qui est un flottant)\n     *\n     * @param {DOMElement} node - noeud à lire pour récupérer la précision\n     * @param {Object} elevation - objet dans lequel stocker la précision retournée\n     * @static\n     * @memberof AltiResponseReader\n     */\n    acc : function (node, elevation) {\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            elevation.acc = parseFloat(textNode.nodeValue);\n        } else {\n            throw new Error(\"Erreur dans la lecture de la réponse du service : précision (acc) attendue mais absente\");\n        }\n    },\n\n    /**\n     * Lecture d'un noeud \"ExceptionReport\" de la réponse xml du service alti.\n     *\n     * @param {DOMElement} node - noeud à lire pour récupérer l'exception\n     * @return {Object} exceptionReport - objet contenant l'exception\n     * @static\n     * @memberof AltiResponseReader\n     */\n    exceptionreport : function (node) {\n        var response = {};\n\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                if (child.nodeName === \"Exception\") {\n                    response.exceptionReport = AltiResponseReader.READERS.exception(child);\n                }\n            }\n        }\n\n        return response;\n    },\n\n    /**\n     * Lecture d'un noeud \"Exception\" de la réponse xml du service alti.\n     *\n     * @param {DOMElement} node - noeud à lire pour récupérer l'exception\n     * @return {Object} exceptionReport - objet contenant l'exception, avec deux attributs :\n     *      {String} exceptionReport.exceptionCode - qui contient l'identifiant du code de l'exception\n     *      {String} exceptionReport.exception - qui contient le message de l'exception\n     * @static\n     * @memberof AltiResponseReader\n     */\n    exception : function (node) {\n        var exceptionReport = {};\n\n        // get exception code\n        var exceptionCode = node.getAttribute(\"exceptionCode\");\n        if (exceptionCode) {\n            exceptionReport.exceptionCode = exceptionCode;\n        }\n\n        // get exception message\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            exceptionReport.exception = textNode.nodeValue;\n        }\n\n        return exceptionReport;\n    },\n\n    /**\n     * Lecture d'un noeud \"Error\" de la réponse xml du service alti.\n     *\n     * @param {DOMElement} node - noeud à lire pour récupérer l'exception\n     * @return {Object} error - objet contenant l'exception\n     * @static\n     */\n    error : function (node) {\n        var response = {\n            error : {}\n        };\n        // get error code and description\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                var textNode;\n                // get error code\n                if (child.nodeType === 1 && child.nodeName === \"code\") { // 1 === node.ELEMENT_NODE\n                    textNode = child.firstChild;\n                    if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n                        response.error.code = textNode.nodeValue;\n                    }\n                }\n                // get error description\n                if (child.nodeType === 1 && child.nodeName === \"description\") { // 1 === node.ELEMENT_NODE\n                    textNode = child.firstChild;\n                    if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n                        response.error.description = textNode.nodeValue;\n                    }\n                }\n            }\n        }\n        return response;\n    }\n\n};\n\n/**\n * Méthode permettant de lancer la lecture d'une réponse XML du service altimétrique,\n *      à l'aide des readers de la classe.\n *\n * @method AltiResponseReader.read\n * @param {DOMElement} root - racine de la réponse XML à lire\n * @static\n * @memberof AltiResponseReader\n */\nAltiResponseReader.read = function (root) {\n    if (root.nodeName === \"elevations\") {\n        var altiResponse = AltiResponseReader.READERS.elevations(root);\n        return altiResponse;\n    } else if (root.nodeName === \"ExceptionReport\") {\n        var exceptionReport = AltiResponseReader.READERS.exceptionreport(root);\n        return exceptionReport;\n    } else if (root.nodeName === \"error\") {\n        var error = AltiResponseReader.READERS.error(root);\n        return error;\n    } else {\n        throw new Error(\"Erreur lors de la lecture de la réponse : elle n'est pas au format attendu.\");\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiResponseReader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9Gb3JtYXRzL0FsdGlSZXNwb25zZVJlYWRlci5qcz8xNzViIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBEO0FBQ047O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQjtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9FQUFZOztBQUUzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIscUJBQXFCO0FBQ2hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUVBQVM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxQkFBcUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLGFBQWE7QUFDYixnQ0FBZ0MsaUVBQVM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxXQUFXO0FBQzFCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxQkFBcUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZ0JBQWdCLE9BQU87QUFDdkIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUJBQXFCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRTtBQUMvRTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRWUsaUZBQWtCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0FsdGkvRm9ybWF0cy9BbHRpUmVzcG9uc2VSZWFkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogRm9uY3Rpb24gcmV0b3VybmFudCB1biBvYmpldCBjb250ZW5hbnQgZGVzIGNsw6lzIGRlIGxlY3R1cmUgKHJlYWRlcnMpXG4gKiAgICAgIHF1aSBwZXJtZXR0ZW50IGRlIHBhcnNlciBkZXMgcsOpcG9uc2VzIFhNTCBkdSBzZXJ2aWNlIEFsdGltw6l0cmlxdWUgZHUgR8Opb3BvcnRhaWxcbiAqICAgICAgKGNhbGN1bCBhbHRpbcOpdHJpcXVlIHNpbXBsZSBvdSBwcm9maWwgYWx0aW3DqXRyaXF1ZSBkJ3VuZSBjb3VyYmUpLFxuICogICAgICBsb3JzcXVlIGxlIHBhcmFtw6h0cmUgb3V0cHV0ID0geG1sLFxuICogICAgICBhZmluIGRlIHLDqWN1cMOpcmVyIGxlcyDDqWzDqXZhdGlvbnMgcmV0b3VybsOpZXMuXG4gKlxuICogQG1vZHVsZSBBbHRpUmVzcG9uc2VSZWFkZXJcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5BbHRpLkZvcm1hdHMuQWx0aVJlc3BvbnNlUmVhZGVyXG4gKiBAcHJpdmF0ZVxuICovXG5cbi8vIGltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IEFsdGlSZXNwb25zZSBmcm9tIFwiLi4vUmVzcG9uc2UvbW9kZWwvQWx0aVJlc3BvbnNlXCI7XG5pbXBvcnQgRWxldmF0aW9uIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9FbGV2YXRpb25cIjtcblxuLyoqXG4gKlxuICogT2JqZXQgQWx0aVJlc3BvbnNlUmVhZGVyXG4gKlxuICogQG1lbWJlciB7T2JqZWN0fSBBbHRpUmVzcG9uc2VSZWFkZXJcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlMgLSBPYmpldCBjb250ZW5hbnQgZGVzIGZvbmN0aW9ucyBkZSBsZWN0dXJlLCBhcHBlbMOpZXMgXCJyZWFkZXJzXCJcbiAqICAgICAgZG9udCBjaGFxdWUgY2zDqSBjb3JyZXNwb25kIGF1IG5vbSBkJ3VuIHRhZyBkdSBYTUwgcXVlIGwnb24gc291aGFpdGUgbGlyZVxuICogICAgICBldCBsYSB2YWxldXIgYXNzb2Npw6llIGVzdCB1bmUgZm9uY3Rpb24gKG5vZGUsIGRhdGEpXG4gKiAgICAgIG/DuSBub2RlIGVzdCB1biBub2V1ZCBkdSBkb2N1bWVudCBET01cbiAqICAgICAgZXQgZGF0YSBlc3QgdW4gb2JqZXQgb8O5IGwnb24gc3RvY2tlIGxlcyBpbmZvcm1hdGlvbnMgbHVlcyBkYW5zIGxlIFhNTC5cbiAqXG4gKiBAcHJvcGVydHkge01ldGhvZH0gQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlMuZWxldmF0aW9ucyAtICBMZWN0dXJlIGQndW4gbm9ldWQgXCJlbGV2YXRpb25zXCIgZGUgbGEgcsOpcG9uc2UgWE1MXG4gKiAgICAgIGR1IHNlcnZpY2UgYWx0aSwgY29ycmVzcG9uZGFudCBsb2dpcXVlbWVudCDDoCBsYSByYWNpbmUgZHUgZG9jdW1lbnRcbiAqICAgICAgKGNvbnRpZW50IHVuIG91IHBsdXNpZXVycyBjaGlsZE5vZGVzIGNvcnJlc3BvbmRhbnQgY2hhY3VuIMOgIHVuZSDDqWzDqXZhdGlvbiByZXRvdXJuw6llKVxuICpcbiAqIEBwcm9wZXJ0eSB7TWV0aG9kfSBBbHRpUmVzcG9uc2VSZWFkZXIuUkVBREVSUy5lbGV2YXRpb24gLSBlY3R1cmUgZCd1biBub2V1ZCBcImVsZXZhdGlvblwiIGRlIGxhIHLDqXBvbnNlIHhtbCBkdSBzZXJ2aWNlIGFsdGkuXG4gKiAgICAgIChjb250aWVudCB1biBvdSA0IGNoaWxkTm9kZSAocykgY29ycmVzcG9uZGFudCDDoCBsJ2FsdGl0dWRlICh6KSBldCDDqXZlbnR1ZWxsZW1lbnQgbGF0LCBsb24sIGV0IGFjYylcbiAqXG4gKiBAcHJvcGVydHkge01ldGhvZH0gQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlMubGF0IC0gTGVjdHVyZSBkJ3VuIG5vZXVkIFwibGF0XCIgZGUgbGEgcsOpcG9uc2UgeG1sIGR1IHNlcnZpY2UgYWx0aS5cbiAqICAgICAgKGNvbnRpZW50IHVuZSB2YWxldXIgZGUgbGF0aXR1ZGUsIHF1aSBlc3QgdW4gZmxvdHRhbnQpXG4gKlxuICogQHByb3BlcnR5IHtNZXRob2R9IEFsdGlSZXNwb25zZVJlYWRlci5SRUFERVJTLmxvbiAtIExlY3R1cmUgZCd1biBub2V1ZCBcImxvblwiIGRlIGxhIHLDqXBvbnNlIHhtbCBkdSBzZXJ2aWNlIGFsdGkuXG4gKiAgICAgIChjb250aWVudCB1bmUgdmFsZXVyIGRlIGxvbmdpdHVkZSwgcXVpIGVzdCB1biBmbG90dGFudClcbiAqXG4gKiBAcHJvcGVydHkge01ldGhvZH0gQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlMueiAtIExlY3R1cmUgZCd1biBub2V1ZCBcInpcIiBkZSBsYSByw6lwb25zZSB4bWwgZHUgc2VydmljZSBhbHRpLlxuICogICAgICAoY29udGllbnQgdW5lIHZhbGV1ciBkJ2FsdGl0dWRlLCBxdWkgZXN0IHVuIGZsb3R0YW50KVxuICpcbiAqIEBwcm9wZXJ0eSB7TWV0aG9kfSBBbHRpUmVzcG9uc2VSZWFkZXIuUkVBREVSUy5hY2MgLSBMZWN0dXJlIGQndW4gbm9ldWQgXCJhY2NcIiBkZSBsYSByw6lwb25zZSB4bWwgZHUgc2VydmljZSBhbHRpLlxuICogICAgICAoY29udGllbnQgdW5lIHZhbGV1ciBkZSBwcsOpY2lzaW9uLCBxdWkgZXN0IHVuIGZsb3R0YW50KVxuICpcbiAqIEBwcm9wZXJ0eSB7TWV0aG9kfSBBbHRpUmVzcG9uc2VSZWFkZXIuUkVBREVSUy5leGNlcHRpb25yZXBvcnQgLSBMZWN0dXJlIGQndW4gbm9ldWQgXCJFeGNlcHRpb25SZXBvcnRcIiBkZSBsYSByw6lwb25zZSB4bWwgZHUgc2VydmljZSBhbHRpLlxuICpcbiAqIEBwcm9wZXJ0eSB7TWV0aG9kfSBBbHRpUmVzcG9uc2VSZWFkZXIuUkVBREVSUy5leGNlcHRpb24gLSBMZWN0dXJlIGQndW4gbm9ldWQgXCJFeGNlcHRpb25cIiBkZSBsYSByw6lwb25zZSB4bWwgZHUgc2VydmljZSBhbHRpLlxuICpcbiAqIEBwcm9wZXJ0eSB7TWV0aG9kfSBBbHRpUmVzcG9uc2VSZWFkZXIucmVhZCAtIE3DqXRob2RlIHBlcm1ldHRhbnQgZGUgbGFuY2VyIGxhIGxlY3R1cmUgZCd1bmUgcsOpcG9uc2UgWE1MIGR1IHNlcnZpY2UgYWx0aW3DqXRyaXF1ZSxcbiAqICAgICAgw6AgbCdhaWRlIGRlcyByZWFkZXJzIGRlIGxhIGNsYXNzZS5cbiAqXG4gKi9cbnZhciBBbHRpUmVzcG9uc2VSZWFkZXIgPSB7fTtcblxuQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlMgPSB7XG5cbiAgICAvKipcbiAgICAgKiBMZWN0dXJlIGQndW4gbm9ldWQgXCJlbGV2YXRpb25zXCIgZGUgbGEgcsOpcG9uc2UgWE1MIGR1IHNlcnZpY2UgYWx0aSwgY29ycmVzcG9uZGFudCBsb2dpcXVlbWVudCDDoCBsYSByYWNpbmUgZHUgZG9jdW1lbnRcbiAgICAgKiAgICAgIChjb250aWVudCB1biBvdSBwbHVzaWV1cnMgY2hpbGROb2RlcyBjb3JyZXNwb25kYW50IGNoYWN1biDDoCB1bmUgw6lsw6l2YXRpb24gcmV0b3VybsOpZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdCAtIHJhY2luZSBkZSBsYSByw6lwb25zZSBYTUxcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIEFsdGlSZXNwb25zZVJlYWRlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldG91cm5lIHVuIG9iamV0IGRlIHR5cGUgQWx0aVJlc3BvbnNlXG4gICAgICovXG4gICAgZWxldmF0aW9ucyA6IGZ1bmN0aW9uIChyb290KSB7XG4gICAgICAgIC8vIElORk8gOiBvbiBwYXNzZSBlbiBwYXJhbcOodHJlIGwnb2JqZXQgZW4gZW50csOpZSBlbGV2YXRpb25zLCB2aWRlLCDDoCByZW1wbGlyLlxuICAgICAgICB2YXIgYWx0aVJlc3BvbnNlID0gbmV3IEFsdGlSZXNwb25zZSgpO1xuXG4gICAgICAgIGlmIChyb290Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gcm9vdC5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICAgICAgdmFyIGVsZXZhdGlvbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICBpZiAoQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbY2hpbGQubm9kZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZXZhdGlvbiA9IEFsdGlSZXNwb25zZVJlYWRlci5SRUFERVJTW2NoaWxkLm5vZGVOYW1lXShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGFsdGlSZXNwb25zZS5lbGV2YXRpb25zLnB1c2goZWxldmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWx0aVJlc3BvbnNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMZWN0dXJlIGQndW4gbm9ldWQgXCJlbGV2YXRpb25cIiBkZSBsYSByw6lwb25zZSB4bWwgZHUgc2VydmljZSBhbHRpLlxuICAgICAqICAgICAgKGNvbnRpZW50IHVuIG91IDQgY2hpbGROb2RlIChzKSBjb3JyZXNwb25kYW50IMOgIGwnYWx0aXR1ZGUgKHopIGV0IMOpdmVudHVlbGxlbWVudCBsYXQsIGxvbiwgZXQgYWNjKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gbm9ldWQgZWxldmF0aW9uIMOgIGxpcmUgcG91ciByw6ljdXDDqXJlciBsZXMgaW5mb3JtYXRpb25zIGRlIGwnw6lsw6l2YXRpb24gcmV0b3VybsOpZSAoeiBbLCBsb24sIGxhdCwgYWNjXSlcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gZWxldmF0aW9uUmVzcG9uc2UgLSBmb3JtYXQgZGUgbGEgcsOpcG9uc2UgZW4gc29ydGllLCBpbnN0YW5jZSBkZSBBbHRpUmVzcG9uc2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIEFsdGlSZXNwb25zZVJlYWRlclxuICAgICAqL1xuICAgIGVsZXZhdGlvbiA6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBlbGV2YXRpb24gPSBuZXcgRWxldmF0aW9uKCk7XG5cbiAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgY2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbY2hpbGQubm9kZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElORk8gOiBvbiBwYXNzZSBlbiBwYXJhbcOodHJlIGwnb2JqZXQgZW4gZW50csOpZSBlbGV2YXRpb24sIHZpZGUsIMOgIHJlbXBsaXIuXG4gICAgICAgICAgICAgICAgICAgIEFsdGlSZXNwb25zZVJlYWRlci5SRUFERVJTW2NoaWxkLm5vZGVOYW1lXShjaGlsZCwgZWxldmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZXZhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTGVjdHVyZSBkJ3VuIG5vZXVkIFwibGF0XCIgZGUgbGEgcsOpcG9uc2UgeG1sIGR1IHNlcnZpY2UgYWx0aS5cbiAgICAgKiAgICAgIChjb250aWVudCB1bmUgdmFsZXVyIGRlIGxhdGl0dWRlLCBxdWkgZXN0IHVuIGZsb3R0YW50KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gbm9ldWQgw6AgbGlyZSBwb3VyIHLDqWN1cMOpcmVyIGxhIGxhdGl0dWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZXZhdGlvbiAtIG9iamV0IGRhbnMgbGVxdWVsIHN0b2NrZXIgbGEgbGF0aXR1ZGUgcmV0b3VybsOpZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgQWx0aVJlc3BvbnNlUmVhZGVyXG4gICAgICovXG4gICAgbGF0IDogZnVuY3Rpb24gKG5vZGUsIGVsZXZhdGlvbikge1xuICAgICAgICB2YXIgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh0ZXh0Tm9kZSAmJiB0ZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMykgeyAvLyAzID09PSBub2RlLlRFWFRfTk9ERVxuICAgICAgICAgICAgZWxldmF0aW9uLmxhdCA9IHBhcnNlRmxvYXQodGV4dE5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycmV1ciBkYW5zIGxhIGxlY3R1cmUgZGUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSA6IGxhdGl0dWRlIGF0dGVuZHVlIG1haXMgYWJzZW50ZVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMZWN0dXJlIGQndW4gbm9ldWQgXCJsb25cIiBkZSBsYSByw6lwb25zZSB4bWwgZHUgc2VydmljZSBhbHRpLlxuICAgICAqICAgICAgKGNvbnRpZW50IHVuZSB2YWxldXIgZGUgbG9uZ2l0dWRlLCBxdWkgZXN0IHVuIGZsb3R0YW50KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gbm9ldWQgw6AgbGlyZSBwb3VyIHLDqWN1cMOpcmVyIGxhIGxvbmdpdHVkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGV2YXRpb24gLSBvYmpldCBkYW5zIGxlcXVlbCBzdG9ja2VyIGxhIGxvbmdpdHVkZSByZXRvdXJuw6llXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBBbHRpUmVzcG9uc2VSZWFkZXJcbiAgICAgKi9cbiAgICBsb24gOiBmdW5jdGlvbiAobm9kZSwgZWxldmF0aW9uKSB7XG4gICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHRleHROb2RlICYmIHRleHROb2RlLm5vZGVUeXBlID09PSAzKSB7IC8vIDMgPT09IG5vZGUuVEVYVF9OT0RFXG4gICAgICAgICAgICBlbGV2YXRpb24ubG9uID0gcGFyc2VGbG9hdCh0ZXh0Tm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyZXVyIGRhbnMgbGEgbGVjdHVyZSBkZSBsYSByw6lwb25zZSBkdSBzZXJ2aWNlIDogbG9uZ2l0dWRlIGF0dGVuZHVlIG1haXMgYWJzZW50ZVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMZWN0dXJlIGQndW4gbm9ldWQgXCJ6XCIgZGUgbGEgcsOpcG9uc2UgeG1sIGR1IHNlcnZpY2UgYWx0aS5cbiAgICAgKiAgICAgIChjb250aWVudCB1bmUgdmFsZXVyIGQnYWx0aXR1ZGUsIHF1aSBlc3QgdW4gZmxvdHRhbnQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgLSBub2V1ZCDDoCBsaXJlIHBvdXIgcsOpY3Vww6lyZXIgbCdhbHRpdHVkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGV2YXRpb24gLSBvYmpldCBkYW5zIGxlcXVlbCBzdG9ja2VyIGwnYWx0aXR1ZGUgcmV0b3VybsOpZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgQWx0aVJlc3BvbnNlUmVhZGVyXG4gICAgICovXG4gICAgeiA6IGZ1bmN0aW9uIChub2RlLCBlbGV2YXRpb24pIHtcbiAgICAgICAgdmFyIHRleHROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICBpZiAodGV4dE5vZGUgJiYgdGV4dE5vZGUubm9kZVR5cGUgPT09IDMpIHsgLy8gMyA9PT0gbm9kZS5URVhUX05PREVcbiAgICAgICAgICAgIGlmIChlbGV2YXRpb24pIHtcbiAgICAgICAgICAgICAgICBlbGV2YXRpb24ueiA9IHBhcnNlRmxvYXQodGV4dE5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxldmF0aW9uID0gbmV3IEVsZXZhdGlvbigpO1xuICAgICAgICAgICAgICAgIGVsZXZhdGlvbi56ID0gcGFyc2VGbG9hdCh0ZXh0Tm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGV2YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJldXIgZGFucyBsYSBsZWN0dXJlIGRlIGxhIHLDqXBvbnNlIGR1IHNlcnZpY2UgOiBhbHRpdHVkZSBhdHRlbmR1ZSBtYWlzIGFic2VudGVcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTGVjdHVyZSBkJ3VuIG5vZXVkIFwiYWNjXCIgZGUgbGEgcsOpcG9uc2UgeG1sIGR1IHNlcnZpY2UgYWx0aS5cbiAgICAgKiAgICAgIChjb250aWVudCB1bmUgdmFsZXVyIGRlIHByw6ljaXNpb24sIHF1aSBlc3QgdW4gZmxvdHRhbnQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgLSBub2V1ZCDDoCBsaXJlIHBvdXIgcsOpY3Vww6lyZXIgbGEgcHLDqWNpc2lvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGV2YXRpb24gLSBvYmpldCBkYW5zIGxlcXVlbCBzdG9ja2VyIGxhIHByw6ljaXNpb24gcmV0b3VybsOpZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgQWx0aVJlc3BvbnNlUmVhZGVyXG4gICAgICovXG4gICAgYWNjIDogZnVuY3Rpb24gKG5vZGUsIGVsZXZhdGlvbikge1xuICAgICAgICB2YXIgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh0ZXh0Tm9kZSAmJiB0ZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMykgeyAvLyAzID09PSBub2RlLlRFWFRfTk9ERVxuICAgICAgICAgICAgZWxldmF0aW9uLmFjYyA9IHBhcnNlRmxvYXQodGV4dE5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycmV1ciBkYW5zIGxhIGxlY3R1cmUgZGUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSA6IHByw6ljaXNpb24gKGFjYykgYXR0ZW5kdWUgbWFpcyBhYnNlbnRlXCIpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExlY3R1cmUgZCd1biBub2V1ZCBcIkV4Y2VwdGlvblJlcG9ydFwiIGRlIGxhIHLDqXBvbnNlIHhtbCBkdSBzZXJ2aWNlIGFsdGkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgLSBub2V1ZCDDoCBsaXJlIHBvdXIgcsOpY3Vww6lyZXIgbCdleGNlcHRpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGV4Y2VwdGlvblJlcG9ydCAtIG9iamV0IGNvbnRlbmFudCBsJ2V4Y2VwdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgQWx0aVJlc3BvbnNlUmVhZGVyXG4gICAgICovXG4gICAgZXhjZXB0aW9ucmVwb3J0IDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0ge307XG5cbiAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgY2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZU5hbWUgPT09IFwiRXhjZXB0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZXhjZXB0aW9uUmVwb3J0ID0gQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlMuZXhjZXB0aW9uKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExlY3R1cmUgZCd1biBub2V1ZCBcIkV4Y2VwdGlvblwiIGRlIGxhIHLDqXBvbnNlIHhtbCBkdSBzZXJ2aWNlIGFsdGkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgLSBub2V1ZCDDoCBsaXJlIHBvdXIgcsOpY3Vww6lyZXIgbCdleGNlcHRpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGV4Y2VwdGlvblJlcG9ydCAtIG9iamV0IGNvbnRlbmFudCBsJ2V4Y2VwdGlvbiwgYXZlYyBkZXV4IGF0dHJpYnV0cyA6XG4gICAgICogICAgICB7U3RyaW5nfSBleGNlcHRpb25SZXBvcnQuZXhjZXB0aW9uQ29kZSAtIHF1aSBjb250aWVudCBsJ2lkZW50aWZpYW50IGR1IGNvZGUgZGUgbCdleGNlcHRpb25cbiAgICAgKiAgICAgIHtTdHJpbmd9IGV4Y2VwdGlvblJlcG9ydC5leGNlcHRpb24gLSBxdWkgY29udGllbnQgbGUgbWVzc2FnZSBkZSBsJ2V4Y2VwdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgQWx0aVJlc3BvbnNlUmVhZGVyXG4gICAgICovXG4gICAgZXhjZXB0aW9uIDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIGV4Y2VwdGlvblJlcG9ydCA9IHt9O1xuXG4gICAgICAgIC8vIGdldCBleGNlcHRpb24gY29kZVxuICAgICAgICB2YXIgZXhjZXB0aW9uQ29kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZXhjZXB0aW9uQ29kZVwiKTtcbiAgICAgICAgaWYgKGV4Y2VwdGlvbkNvZGUpIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvblJlcG9ydC5leGNlcHRpb25Db2RlID0gZXhjZXB0aW9uQ29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGNlcHRpb24gbWVzc2FnZVxuICAgICAgICB2YXIgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh0ZXh0Tm9kZSAmJiB0ZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMykgeyAvLyAzID09PSBub2RlLlRFWFRfTk9ERVxuICAgICAgICAgICAgZXhjZXB0aW9uUmVwb3J0LmV4Y2VwdGlvbiA9IHRleHROb2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleGNlcHRpb25SZXBvcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExlY3R1cmUgZCd1biBub2V1ZCBcIkVycm9yXCIgZGUgbGEgcsOpcG9uc2UgeG1sIGR1IHNlcnZpY2UgYWx0aS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSAtIG5vZXVkIMOgIGxpcmUgcG91ciByw6ljdXDDqXJlciBsJ2V4Y2VwdGlvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gZXJyb3IgLSBvYmpldCBjb250ZW5hbnQgbCdleGNlcHRpb25cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgZXJyb3IgOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBlcnJvciA6IHt9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGdldCBlcnJvciBjb2RlIGFuZCBkZXNjcmlwdGlvblxuICAgICAgICBpZiAobm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0Tm9kZTtcbiAgICAgICAgICAgICAgICAvLyBnZXQgZXJyb3IgY29kZVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSAmJiBjaGlsZC5ub2RlTmFtZSA9PT0gXCJjb2RlXCIpIHsgLy8gMSA9PT0gbm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICAgICAgICAgICAgdGV4dE5vZGUgPSBjaGlsZC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dE5vZGUgJiYgdGV4dE5vZGUubm9kZVR5cGUgPT09IDMpIHsgLy8gMyA9PT0gbm9kZS5URVhUX05PREVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmVycm9yLmNvZGUgPSB0ZXh0Tm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZ2V0IGVycm9yIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxICYmIGNoaWxkLm5vZGVOYW1lID09PSBcImRlc2NyaXB0aW9uXCIpIHsgLy8gMSA9PT0gbm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICAgICAgICAgICAgdGV4dE5vZGUgPSBjaGlsZC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dE5vZGUgJiYgdGV4dE5vZGUubm9kZVR5cGUgPT09IDMpIHsgLy8gMyA9PT0gbm9kZS5URVhUX05PREVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmVycm9yLmRlc2NyaXB0aW9uID0gdGV4dE5vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG5cbn07XG5cbi8qKlxuICogTcOpdGhvZGUgcGVybWV0dGFudCBkZSBsYW5jZXIgbGEgbGVjdHVyZSBkJ3VuZSByw6lwb25zZSBYTUwgZHUgc2VydmljZSBhbHRpbcOpdHJpcXVlLFxuICogICAgICDDoCBsJ2FpZGUgZGVzIHJlYWRlcnMgZGUgbGEgY2xhc3NlLlxuICpcbiAqIEBtZXRob2QgQWx0aVJlc3BvbnNlUmVhZGVyLnJlYWRcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdCAtIHJhY2luZSBkZSBsYSByw6lwb25zZSBYTUwgw6AgbGlyZVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIEFsdGlSZXNwb25zZVJlYWRlclxuICovXG5BbHRpUmVzcG9uc2VSZWFkZXIucmVhZCA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgaWYgKHJvb3Qubm9kZU5hbWUgPT09IFwiZWxldmF0aW9uc1wiKSB7XG4gICAgICAgIHZhciBhbHRpUmVzcG9uc2UgPSBBbHRpUmVzcG9uc2VSZWFkZXIuUkVBREVSUy5lbGV2YXRpb25zKHJvb3QpO1xuICAgICAgICByZXR1cm4gYWx0aVJlc3BvbnNlO1xuICAgIH0gZWxzZSBpZiAocm9vdC5ub2RlTmFtZSA9PT0gXCJFeGNlcHRpb25SZXBvcnRcIikge1xuICAgICAgICB2YXIgZXhjZXB0aW9uUmVwb3J0ID0gQWx0aVJlc3BvbnNlUmVhZGVyLlJFQURFUlMuZXhjZXB0aW9ucmVwb3J0KHJvb3QpO1xuICAgICAgICByZXR1cm4gZXhjZXB0aW9uUmVwb3J0O1xuICAgIH0gZWxzZSBpZiAocm9vdC5ub2RlTmFtZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIHZhciBlcnJvciA9IEFsdGlSZXNwb25zZVJlYWRlci5SRUFERVJTLmVycm9yKHJvb3QpO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyZXVyIGxvcnMgZGUgbGEgbGVjdHVyZSBkZSBsYSByw6lwb25zZSA6IGVsbGUgbidlc3QgcGFzIGF1IGZvcm1hdCBhdHRlbmR1LlwiKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBbHRpUmVzcG9uc2VSZWFkZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Formats/AltiResponseReader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestFactory.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestFactory.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _AltiRequestREST__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AltiRequestREST */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestREST.js\");\n/* harmony import */ var _AltiRequestWPS__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AltiRequestWPS */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestWPS.js\");\n/**\n * Creation d'une requête en REST ou WPS\n * (Factory)\n *\n * @module AltiRequestFactory\n * @alias Gp.Services.Alti.Request.AltiRequestFactory\n * @private\n */\n\n\n\n\n\nvar AltiRequestFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Alti\n     *\n     * @example\n     *   var options = {\n     *      httpMethod : 'GET', // GET|POST\n     *      onSuccess : function (response) {},\n     *      onError : function (error) {},\n     *      scope : this,\n     *      positions : [{lon:, lat:}, {lon:, lat:}],\n     *      outputFormat : 'json' // json|xml\n     *      sampling : 3,\n     *      api : 'REST', // REST|WPS\n     *      zonly : false // false|true\n     *   };\n     *\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"AltiRequestFactory\");\n        logger.trace([\"AltiRequestFactory::build()\"]);\n\n        var request = null;\n\n        // on factorise les options par groupe;\n        // - global,\n        // - param, les params pour les data inputs\n        // - wps, les param du service\n        // - callback\n\n        var settings = {\n            // ajout des valeurs par defaut spécifiques au service\n            type : options.sampling ? \"Profil\" : \"Elevation\",\n            method : options.httpMethod,\n            param : {\n                positions : null,\n                delimiter : null, // FIXME par defaut, on ne le met pas en place car ça fait planter la requête !?\n                indent : null, // par defaut\n                crs : null, // par defaut\n                format : null, // (only to POST)\n                sampling : null, // (only use by Profil)\n                zonly : null // (only use by Elevation)\n            }\n        };\n\n        // surcharge des valeurs obligatoires\n        settings.param.positions = options.positions;\n        settings.param.format = options.outputFormat;\n        settings.param.sampling = options.sampling;\n        settings.param.zonly = options.zonly;\n\n        // gestion des callback\n        var bOnError = !!((options.onError !== null && typeof options.onError === \"function\"));\n        var bOnSuccess = !!((options.onSuccess !== null && typeof options.onSuccess === \"function\"));\n\n        var message = null;\n        switch (options.api) {\n            case \"REST\":\n                // FIXME les exceptions ne sont pas 'catchées' sur le constructeur !\n                var myReq = new _AltiRequestREST__WEBPACK_IMPORTED_MODULE_2__[\"default\"](settings);\n                if (!myReq.processRequestString()) {\n                    message = \"Error in process request (rest) !\";\n                    if (bOnError) {\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"](message));\n                        return;\n                    }\n                    throw new Error(message);\n                }\n                request = myReq.requestString;\n                break;\n            case \"WPS\":\n                // ajout des valeurs par defaut spécifiques au service WPS\n                settings.wps = {\n                    service : null, // par defaut\n                    version : null, // par defaut\n                    identifier : null, // par defaut\n                    rawdataoutput : null, // par defaut\n                    request : null // par defaut\n                };\n\n                request = _AltiRequestWPS__WEBPACK_IMPORTED_MODULE_3__[\"default\"].build(settings);\n                if (!request) {\n                    message = \"Error in process request (wps) !\";\n                    if (bOnError) {\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"](message));\n                        return;\n                    }\n                    throw new Error(message);\n                }\n                break;\n            default:\n                message = \"Type of API is not supported by service (REST or WPS) !\";\n                if (bOnError) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"](message));\n                    return;\n                }\n                throw new Error(message);\n        }\n\n        if (bOnSuccess) {\n            options.onSuccess.call(options.scope, request);\n        }\n\n        return request;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiRequestFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXF1ZXN0L0FsdGlSZXF1ZXN0RmFjdG9yeS5qcz9kZDE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29EO0FBQ1E7QUFDWjtBQUNGOztBQUU5Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLHlDQUF5QztBQUN6QztBQUNBLDBCQUEwQixXQUFXLEdBQUcsV0FBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOERBQU07QUFDM0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdEQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnRUFBWTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLHVEQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnRUFBWTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGdFQUFZO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUsaUZBQWtCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0FsdGkvUmVxdWVzdC9BbHRpUmVxdWVzdEZhY3RvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0aW9uIGQndW5lIHJlcXXDqnRlIGVuIFJFU1Qgb3UgV1BTXG4gKiAoRmFjdG9yeSlcbiAqXG4gKiBAbW9kdWxlIEFsdGlSZXF1ZXN0RmFjdG9yeVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkFsdGkuUmVxdWVzdC5BbHRpUmVxdWVzdEZhY3RvcnlcbiAqIEBwcml2YXRlXG4gKi9cbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBBbHRpUmVxdWVzdFJFU1QgZnJvbSBcIi4vQWx0aVJlcXVlc3RSRVNUXCI7XG5pbXBvcnQgQWx0aVJlcXVlc3RXUFMgZnJvbSBcIi4vQWx0aVJlcXVlc3RXUFNcIjtcblxudmFyIEFsdGlSZXF1ZXN0RmFjdG9yeSA9IHtcblxuICAgIC8qKlxuICAgICAqIGludGVyZmFjZSB1bmlxdWVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgYnVpbGRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGRlZmluaWVzIGRhbnMgbGUgY29tcG9zYW50IEFsdGlcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICAgIGh0dHBNZXRob2QgOiAnR0VUJywgLy8gR0VUfFBPU1RcbiAgICAgKiAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uIChyZXNwb25zZSkge30sXG4gICAgICogICAgICBvbkVycm9yIDogZnVuY3Rpb24gKGVycm9yKSB7fSxcbiAgICAgKiAgICAgIHNjb3BlIDogdGhpcyxcbiAgICAgKiAgICAgIHBvc2l0aW9ucyA6IFt7bG9uOiwgbGF0On0sIHtsb246LCBsYXQ6fV0sXG4gICAgICogICAgICBvdXRwdXRGb3JtYXQgOiAnanNvbicgLy8ganNvbnx4bWxcbiAgICAgKiAgICAgIHNhbXBsaW5nIDogMyxcbiAgICAgKiAgICAgIGFwaSA6ICdSRVNUJywgLy8gUkVTVHxXUFNcbiAgICAgKiAgICAgIHpvbmx5IDogZmFsc2UgLy8gZmFsc2V8dHJ1ZVxuICAgICAqICAgfTtcbiAgICAgKlxuICAgICAqL1xuICAgIGJ1aWxkIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG4gICAgICAgIHZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiQWx0aVJlcXVlc3RGYWN0b3J5XCIpO1xuICAgICAgICBsb2dnZXIudHJhY2UoW1wiQWx0aVJlcXVlc3RGYWN0b3J5OjpidWlsZCgpXCJdKTtcblxuICAgICAgICB2YXIgcmVxdWVzdCA9IG51bGw7XG5cbiAgICAgICAgLy8gb24gZmFjdG9yaXNlIGxlcyBvcHRpb25zIHBhciBncm91cGU7XG4gICAgICAgIC8vIC0gZ2xvYmFsLFxuICAgICAgICAvLyAtIHBhcmFtLCBsZXMgcGFyYW1zIHBvdXIgbGVzIGRhdGEgaW5wdXRzXG4gICAgICAgIC8vIC0gd3BzLCBsZXMgcGFyYW0gZHUgc2VydmljZVxuICAgICAgICAvLyAtIGNhbGxiYWNrXG5cbiAgICAgICAgdmFyIHNldHRpbmdzID0ge1xuICAgICAgICAgICAgLy8gYWpvdXQgZGVzIHZhbGV1cnMgcGFyIGRlZmF1dCBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZVxuICAgICAgICAgICAgdHlwZSA6IG9wdGlvbnMuc2FtcGxpbmcgPyBcIlByb2ZpbFwiIDogXCJFbGV2YXRpb25cIixcbiAgICAgICAgICAgIG1ldGhvZCA6IG9wdGlvbnMuaHR0cE1ldGhvZCxcbiAgICAgICAgICAgIHBhcmFtIDoge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucyA6IG51bGwsXG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyIDogbnVsbCwgLy8gRklYTUUgcGFyIGRlZmF1dCwgb24gbmUgbGUgbWV0IHBhcyBlbiBwbGFjZSBjYXIgw6dhIGZhaXQgcGxhbnRlciBsYSByZXF1w6p0ZSAhP1xuICAgICAgICAgICAgICAgIGluZGVudCA6IG51bGwsIC8vIHBhciBkZWZhdXRcbiAgICAgICAgICAgICAgICBjcnMgOiBudWxsLCAvLyBwYXIgZGVmYXV0XG4gICAgICAgICAgICAgICAgZm9ybWF0IDogbnVsbCwgLy8gKG9ubHkgdG8gUE9TVClcbiAgICAgICAgICAgICAgICBzYW1wbGluZyA6IG51bGwsIC8vIChvbmx5IHVzZSBieSBQcm9maWwpXG4gICAgICAgICAgICAgICAgem9ubHkgOiBudWxsIC8vIChvbmx5IHVzZSBieSBFbGV2YXRpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc3VyY2hhcmdlIGRlcyB2YWxldXJzIG9ibGlnYXRvaXJlc1xuICAgICAgICBzZXR0aW5ncy5wYXJhbS5wb3NpdGlvbnMgPSBvcHRpb25zLnBvc2l0aW9ucztcbiAgICAgICAgc2V0dGluZ3MucGFyYW0uZm9ybWF0ID0gb3B0aW9ucy5vdXRwdXRGb3JtYXQ7XG4gICAgICAgIHNldHRpbmdzLnBhcmFtLnNhbXBsaW5nID0gb3B0aW9ucy5zYW1wbGluZztcbiAgICAgICAgc2V0dGluZ3MucGFyYW0uem9ubHkgPSBvcHRpb25zLnpvbmx5O1xuXG4gICAgICAgIC8vIGdlc3Rpb24gZGVzIGNhbGxiYWNrXG4gICAgICAgIHZhciBiT25FcnJvciA9ICEhKChvcHRpb25zLm9uRXJyb3IgIT09IG51bGwgJiYgdHlwZW9mIG9wdGlvbnMub25FcnJvciA9PT0gXCJmdW5jdGlvblwiKSk7XG4gICAgICAgIHZhciBiT25TdWNjZXNzID0gISEoKG9wdGlvbnMub25TdWNjZXNzICE9PSBudWxsICYmIHR5cGVvZiBvcHRpb25zLm9uU3VjY2VzcyA9PT0gXCJmdW5jdGlvblwiKSk7XG5cbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuYXBpKSB7XG4gICAgICAgICAgICBjYXNlIFwiUkVTVFwiOlxuICAgICAgICAgICAgICAgIC8vIEZJWE1FIGxlcyBleGNlcHRpb25zIG5lIHNvbnQgcGFzICdjYXRjaMOpZXMnIHN1ciBsZSBjb25zdHJ1Y3RldXIgIVxuICAgICAgICAgICAgICAgIHZhciBteVJlcSA9IG5ldyBBbHRpUmVxdWVzdFJFU1Qoc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIGlmICghbXlSZXEucHJvY2Vzc1JlcXVlc3RTdHJpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJFcnJvciBpbiBwcm9jZXNzIHJlcXVlc3QgKHJlc3QpICFcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBteVJlcS5yZXF1ZXN0U3RyaW5nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIldQU1wiOlxuICAgICAgICAgICAgICAgIC8vIGFqb3V0IGRlcyB2YWxldXJzIHBhciBkZWZhdXQgc3DDqWNpZmlxdWVzIGF1IHNlcnZpY2UgV1BTXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Mud3BzID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlIDogbnVsbCwgLy8gcGFyIGRlZmF1dFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uIDogbnVsbCwgLy8gcGFyIGRlZmF1dFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyIDogbnVsbCwgLy8gcGFyIGRlZmF1dFxuICAgICAgICAgICAgICAgICAgICByYXdkYXRhb3V0cHV0IDogbnVsbCwgLy8gcGFyIGRlZmF1dFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0IDogbnVsbCAvLyBwYXIgZGVmYXV0XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBBbHRpUmVxdWVzdFdQUy5idWlsZChzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkVycm9yIGluIHByb2Nlc3MgcmVxdWVzdCAod3BzKSAhXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZShtZXNzYWdlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiVHlwZSBvZiBBUEkgaXMgbm90IHN1cHBvcnRlZCBieSBzZXJ2aWNlIChSRVNUIG9yIFdQUykgIVwiO1xuICAgICAgICAgICAgICAgIGlmIChiT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYk9uU3VjY2Vzcykge1xuICAgICAgICAgICAgb3B0aW9ucy5vblN1Y2Nlc3MuY2FsbChvcHRpb25zLnNjb3BlLCByZXF1ZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFsdGlSZXF1ZXN0RmFjdG9yeTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestREST.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestREST.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _model_AltiElevationRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./model/AltiElevationRequest */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiElevationRequest.js\");\n/* harmony import */ var _model_AltiProfilRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./model/AltiProfilRequest */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiProfilRequest.js\");\n/* jshint multistr : true */\n\n\n\n\n\n\n/**\n * @classdesc\n * Classe de gestion des requêtes de type REST sur le service altimetrique.\n *\n * @todo Le service Alti n'implemente pas le POST !?\n * @constructor\n * @alias Gp.Services.Alti.Request.AltiRequestREST\n * @param {Object} options - options\n * @param {Object}   options.param.positions - tableau de coordonnées lon/lat\n * @param {String}   options.param.delimiter - '|'\n * @param {Boolean}  options.param.indent - false|true\n * @param {String}   options.param.crs - 'CRS:84'\n * @param {String}   options.param.sampling - 3\n * @param {Boolean}  options.param.zonly - false|true\n * @param {String}   options.param.format - \"JSON|XML\"\n * @param {String}   options.type - \"Profil|Elevation\"\n * @param {String}   options.method - GET|POST\n *\n * @example\n *      var options = {\n *           type : 'Profil', // Elevation\n *           method : 'GET',  // par defaut\n *           param : {\n *               positions : [\n *                   {lon:'1.11', lat:'1.11'},\n *                   {lon:'1.10', lat:'1.10'},\n *                   {lon:'1.12', lat:'1.12'}\n *               ],\n *               delimiter : \";\",         // par defaut\n *               indent    : true,        // par defaut\n *               crs       : 'EPSG:4326', // par defaut\n *               format    : 'json',      // par defaut (only to POST)\n *               sampling  : 3 ,          // par defaut (only use by Profil)\n *               zonly     : false        // par defaut (only use by Elevation)\n *           }\n *      };\n *\n *      var result;\n *      try {\n *          var obj = new AltiRequestREST (options);\n *          if (! obj.processRequestString ()) {\n *              throw new Error(\"Request empty !?\")\n *          }\n *          result = obj.requestString;\n *      } catch (e) {\n *          // exceptions...\n *      }\n * @private\n */\nfunction AltiRequestREST (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"AltiRequestREST\");\n    this.logger.trace(\"[Constructeur AltiRequestREST ()]\");\n\n    if (!(this instanceof AltiRequestREST)) {\n        throw new TypeError(\"AltiRequestREST constructor cannot be called as a function.\");\n    }\n\n    this.options = options || {};\n\n    // existance des options\n    if (!this.options) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"options\"));\n    }\n\n    // type de requete : Altitude ou Profil\n    // (param. à determiner en fonction des parametres d'entrée)\n    if (!this.options.type) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"type (Elevation or Profil)\"));\n    }\n\n    // construction du modele de requête\n    // (test du type d'objet candidat)\n    this.DataObject = null;\n    switch (this.options.type) {\n        case \"Elevation\":\n            this.DataObject = new _model_AltiElevationRequest__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.options.param);\n            break;\n        case \"Profil\":\n            this.DataObject = new _model_AltiProfilRequest__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.options.param);\n            break;\n        default:\n            throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_TYPE\", \"type (Elevation or Profil)\"));\n    }\n\n    /**\n     * methode.\n     * Par defaut, \"GET\".\n     */\n    this.method = this.options.method || \"GET\";\n}\n\nAltiRequestREST.prototype = {\n\n    /**\n     * request\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : AltiRequestREST,\n\n    /**\n     * Template de la requête.\n     */\n    template : {\n        get : {\n            // FIXME on retire le param 'delimiter' : &delimiter='__DELIMITER__'\n            value : \"lon=__LON__&lat=__LAT__&indent=__INDENT__&crs='__CRS__'\",\n            input : {\n                point : \"&zonly=__ZONLY__\",\n                profil : \"&sampling=__SAMPLING__\"\n            }\n        },\n        post : {\n            // FIXME on retire le param 'delimiter' : delimiter='__DELIMITER__'\\n\\\n            value : \"lon=__LON__\\n\" +\n                \"lat=__LAT__\\n\" +\n                \"indent=__INDENT__\\n\" +\n                \"crs='__CRS__'\\n\",\n            input : {\n                point : \"zonly=__ZONLY__\",\n                profil : \"sampling=__SAMPLING__\"\n            }\n        }\n    },\n\n    /**\n     * Construction de la requête.\n     *\n     * @example\n     * // GET  out : lon=0.2367,2.1570&lat=48.0551,46.6077&delimiter=,&indent=true&zonly=true&crs='CRS:84'\n     * // POST out : Not yet supported method POST !\n     * @returns {String}\n     */\n    processRequestString : function () {\n        this.logger.trace(\"AltiRequestREST::processRequestString ()\");\n\n        var template = \"\";\n        if (this.method === \"POST\") {\n            template = this.template.post.value;\n        } else if (this.method === \"GET\") {\n            template = this.template.get.value;\n        }\n\n        template = template.replace(/__LON__/g, this.DataObject.getLon());\n        template = template.replace(/__LAT__/g, this.DataObject.getLat());\n        // FIXME on retire le param 'delimiter'\n        // template = template.replace(/__DELIMITER__/g, this.DataObject.delimiter);\n        template = template.replace(/__INDENT__/g, this.DataObject.indent);\n        template = template.replace(/__CRS__/g, this.DataObject.crs);\n\n        // ajout +\n        template = template + this.__addDataInputs();\n        this.logger.trace(\"traduction tmpl\", template);\n\n        // sauvegarde\n        this.requestString = template;\n\n        return this.requestString;\n    },\n\n    /**\n     * Ajout de parametres spécifiques (ex. zonly)\n     *\n     * @returns {String}\n     */\n    __addDataInputs : function () {\n        this.logger.trace(\"AltiRequestREST::addDataInput ()\");\n\n        var myTemplate;\n        if (this.method === \"POST\") {\n            myTemplate = this.template.post;\n        } else if (this.method === \"GET\") {\n            myTemplate = this.template.get;\n        } else {\n            throw new Error(\"No other HTTP method supported by the service !\");\n        }\n\n        var tmpl = null;\n        if (this.DataObject.CLASSNAME === \"AltiElevationRequest\") {\n            tmpl = myTemplate.input.point;\n            return tmpl.replace(/__ZONLY__/g, this.DataObject.zonly);\n        } else if (this.DataObject.CLASSNAME === \"AltiProfilRequest\") {\n            tmpl = myTemplate.input.profil;\n            return tmpl.replace(/__SAMPLING__/g, this.DataObject.sampling);\n        } else {\n            throw new Error(\"No other object supported than elevation or profil !?\");\n        }\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiRequestREST);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXF1ZXN0L0FsdGlSZXF1ZXN0UkVTVC5qcz9kNzQ0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFb0Q7QUFDSDtBQUNlO0FBQ047O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVCQUF1QjtBQUM3QyxzQkFBc0IsdUJBQXVCO0FBQzdDLHNCQUFzQjtBQUN0QjtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtRUFBb0I7QUFDdEQ7QUFDQTtBQUNBLGtDQUFrQyxnRUFBaUI7QUFDbkQ7QUFDQTtBQUNBLDRCQUE0QixnRUFBQztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFZSw4RUFBZSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BbHRpL1JlcXVlc3QvQWx0aVJlcXVlc3RSRVNULmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoganNoaW50IG11bHRpc3RyIDogdHJ1ZSAqL1xuXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBfIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEFsdGlFbGV2YXRpb25SZXF1ZXN0IGZyb20gXCIuL21vZGVsL0FsdGlFbGV2YXRpb25SZXF1ZXN0XCI7XG5pbXBvcnQgQWx0aVByb2ZpbFJlcXVlc3QgZnJvbSBcIi4vbW9kZWwvQWx0aVByb2ZpbFJlcXVlc3RcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzc2UgZGUgZ2VzdGlvbiBkZXMgcmVxdcOqdGVzIGRlIHR5cGUgUkVTVCBzdXIgbGUgc2VydmljZSBhbHRpbWV0cmlxdWUuXG4gKlxuICogQHRvZG8gTGUgc2VydmljZSBBbHRpIG4naW1wbGVtZW50ZSBwYXMgbGUgUE9TVCAhP1xuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuQWx0aS5SZXF1ZXN0LkFsdGlSZXF1ZXN0UkVTVFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gICBvcHRpb25zLnBhcmFtLnBvc2l0aW9ucyAtIHRhYmxlYXUgZGUgY29vcmRvbm7DqWVzIGxvbi9sYXRcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucGFyYW0uZGVsaW1pdGVyIC0gJ3wnXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICBvcHRpb25zLnBhcmFtLmluZGVudCAtIGZhbHNlfHRydWVcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucGFyYW0uY3JzIC0gJ0NSUzo4NCdcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucGFyYW0uc2FtcGxpbmcgLSAzXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICBvcHRpb25zLnBhcmFtLnpvbmx5IC0gZmFsc2V8dHJ1ZVxuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5wYXJhbS5mb3JtYXQgLSBcIkpTT058WE1MXCJcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMudHlwZSAtIFwiUHJvZmlsfEVsZXZhdGlvblwiXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLm1ldGhvZCAtIEdFVHxQT1NUXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gKiAgICAgICAgICAgdHlwZSA6ICdQcm9maWwnLCAvLyBFbGV2YXRpb25cbiAqICAgICAgICAgICBtZXRob2QgOiAnR0VUJywgIC8vIHBhciBkZWZhdXRcbiAqICAgICAgICAgICBwYXJhbSA6IHtcbiAqICAgICAgICAgICAgICAgcG9zaXRpb25zIDogW1xuICogICAgICAgICAgICAgICAgICAge2xvbjonMS4xMScsIGxhdDonMS4xMSd9LFxuICogICAgICAgICAgICAgICAgICAge2xvbjonMS4xMCcsIGxhdDonMS4xMCd9LFxuICogICAgICAgICAgICAgICAgICAge2xvbjonMS4xMicsIGxhdDonMS4xMid9XG4gKiAgICAgICAgICAgICAgIF0sXG4gKiAgICAgICAgICAgICAgIGRlbGltaXRlciA6IFwiO1wiLCAgICAgICAgIC8vIHBhciBkZWZhdXRcbiAqICAgICAgICAgICAgICAgaW5kZW50ICAgIDogdHJ1ZSwgICAgICAgIC8vIHBhciBkZWZhdXRcbiAqICAgICAgICAgICAgICAgY3JzICAgICAgIDogJ0VQU0c6NDMyNicsIC8vIHBhciBkZWZhdXRcbiAqICAgICAgICAgICAgICAgZm9ybWF0ICAgIDogJ2pzb24nLCAgICAgIC8vIHBhciBkZWZhdXQgKG9ubHkgdG8gUE9TVClcbiAqICAgICAgICAgICAgICAgc2FtcGxpbmcgIDogMyAsICAgICAgICAgIC8vIHBhciBkZWZhdXQgKG9ubHkgdXNlIGJ5IFByb2ZpbClcbiAqICAgICAgICAgICAgICAgem9ubHkgICAgIDogZmFsc2UgICAgICAgIC8vIHBhciBkZWZhdXQgKG9ubHkgdXNlIGJ5IEVsZXZhdGlvbilcbiAqICAgICAgICAgICB9XG4gKiAgICAgIH07XG4gKlxuICogICAgICB2YXIgcmVzdWx0O1xuICogICAgICB0cnkge1xuICogICAgICAgICAgdmFyIG9iaiA9IG5ldyBBbHRpUmVxdWVzdFJFU1QgKG9wdGlvbnMpO1xuICogICAgICAgICAgaWYgKCEgb2JqLnByb2Nlc3NSZXF1ZXN0U3RyaW5nICgpKSB7XG4gKiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdCBlbXB0eSAhP1wiKVxuICogICAgICAgICAgfVxuICogICAgICAgICAgcmVzdWx0ID0gb2JqLnJlcXVlc3RTdHJpbmc7XG4gKiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAqICAgICAgICAgIC8vIGV4Y2VwdGlvbnMuLi5cbiAqICAgICAgfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gQWx0aVJlcXVlc3RSRVNUIChvcHRpb25zKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiQWx0aVJlcXVlc3RSRVNUXCIpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBBbHRpUmVxdWVzdFJFU1QgKCldXCIpO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFsdGlSZXF1ZXN0UkVTVCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFsdGlSZXF1ZXN0UkVTVCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBleGlzdGFuY2UgZGVzIG9wdGlvbnNcbiAgICBpZiAoIXRoaXMub3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fRU1QVFlcIiwgXCJvcHRpb25zXCIpKTtcbiAgICB9XG5cbiAgICAvLyB0eXBlIGRlIHJlcXVldGUgOiBBbHRpdHVkZSBvdSBQcm9maWxcbiAgICAvLyAocGFyYW0uIMOgIGRldGVybWluZXIgZW4gZm9uY3Rpb24gZGVzIHBhcmFtZXRyZXMgZCdlbnRyw6llKVxuICAgIGlmICghdGhpcy5vcHRpb25zLnR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX0VNUFRZXCIsIFwidHlwZSAoRWxldmF0aW9uIG9yIFByb2ZpbClcIikpO1xuICAgIH1cblxuICAgIC8vIGNvbnN0cnVjdGlvbiBkdSBtb2RlbGUgZGUgcmVxdcOqdGVcbiAgICAvLyAodGVzdCBkdSB0eXBlIGQnb2JqZXQgY2FuZGlkYXQpXG4gICAgdGhpcy5EYXRhT2JqZWN0ID0gbnVsbDtcbiAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJFbGV2YXRpb25cIjpcbiAgICAgICAgICAgIHRoaXMuRGF0YU9iamVjdCA9IG5ldyBBbHRpRWxldmF0aW9uUmVxdWVzdCh0aGlzLm9wdGlvbnMucGFyYW0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQcm9maWxcIjpcbiAgICAgICAgICAgIHRoaXMuRGF0YU9iamVjdCA9IG5ldyBBbHRpUHJvZmlsUmVxdWVzdCh0aGlzLm9wdGlvbnMucGFyYW0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fVFlQRVwiLCBcInR5cGUgKEVsZXZhdGlvbiBvciBQcm9maWwpXCIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtZXRob2RlLlxuICAgICAqIFBhciBkZWZhdXQsIFwiR0VUXCIuXG4gICAgICovXG4gICAgdGhpcy5tZXRob2QgPSB0aGlzLm9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCI7XG59XG5cbkFsdGlSZXF1ZXN0UkVTVC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiByZXF1ZXN0XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICByZXF1ZXN0U3RyaW5nIDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBBbHRpUmVxdWVzdFJFU1QsXG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBkZSBsYSByZXF1w6p0ZS5cbiAgICAgKi9cbiAgICB0ZW1wbGF0ZSA6IHtcbiAgICAgICAgZ2V0IDoge1xuICAgICAgICAgICAgLy8gRklYTUUgb24gcmV0aXJlIGxlIHBhcmFtICdkZWxpbWl0ZXInIDogJmRlbGltaXRlcj0nX19ERUxJTUlURVJfXydcbiAgICAgICAgICAgIHZhbHVlIDogXCJsb249X19MT05fXyZsYXQ9X19MQVRfXyZpbmRlbnQ9X19JTkRFTlRfXyZjcnM9J19fQ1JTX18nXCIsXG4gICAgICAgICAgICBpbnB1dCA6IHtcbiAgICAgICAgICAgICAgICBwb2ludCA6IFwiJnpvbmx5PV9fWk9OTFlfX1wiLFxuICAgICAgICAgICAgICAgIHByb2ZpbCA6IFwiJnNhbXBsaW5nPV9fU0FNUExJTkdfX1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3QgOiB7XG4gICAgICAgICAgICAvLyBGSVhNRSBvbiByZXRpcmUgbGUgcGFyYW0gJ2RlbGltaXRlcicgOiBkZWxpbWl0ZXI9J19fREVMSU1JVEVSX18nXFxuXFxcbiAgICAgICAgICAgIHZhbHVlIDogXCJsb249X19MT05fX1xcblwiICtcbiAgICAgICAgICAgICAgICBcImxhdD1fX0xBVF9fXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiaW5kZW50PV9fSU5ERU5UX19cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJjcnM9J19fQ1JTX18nXFxuXCIsXG4gICAgICAgICAgICBpbnB1dCA6IHtcbiAgICAgICAgICAgICAgICBwb2ludCA6IFwiem9ubHk9X19aT05MWV9fXCIsXG4gICAgICAgICAgICAgICAgcHJvZmlsIDogXCJzYW1wbGluZz1fX1NBTVBMSU5HX19cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGlvbiBkZSBsYSByZXF1w6p0ZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gR0VUICBvdXQgOiBsb249MC4yMzY3LDIuMTU3MCZsYXQ9NDguMDU1MSw0Ni42MDc3JmRlbGltaXRlcj0sJmluZGVudD10cnVlJnpvbmx5PXRydWUmY3JzPSdDUlM6ODQnXG4gICAgICogLy8gUE9TVCBvdXQgOiBOb3QgeWV0IHN1cHBvcnRlZCBtZXRob2QgUE9TVCAhXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBwcm9jZXNzUmVxdWVzdFN0cmluZyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJBbHRpUmVxdWVzdFJFU1Q6OnByb2Nlc3NSZXF1ZXN0U3RyaW5nICgpXCIpO1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZS5wb3N0LnZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUuZ2V0LnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX0xPTl9fL2csIHRoaXMuRGF0YU9iamVjdC5nZXRMb24oKSk7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19MQVRfXy9nLCB0aGlzLkRhdGFPYmplY3QuZ2V0TGF0KCkpO1xuICAgICAgICAvLyBGSVhNRSBvbiByZXRpcmUgbGUgcGFyYW0gJ2RlbGltaXRlcidcbiAgICAgICAgLy8gdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9fX0RFTElNSVRFUl9fL2csIHRoaXMuRGF0YU9iamVjdC5kZWxpbWl0ZXIpO1xuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL19fSU5ERU5UX18vZywgdGhpcy5EYXRhT2JqZWN0LmluZGVudCk7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvX19DUlNfXy9nLCB0aGlzLkRhdGFPYmplY3QuY3JzKTtcblxuICAgICAgICAvLyBham91dCArXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUgKyB0aGlzLl9fYWRkRGF0YUlucHV0cygpO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcInRyYWR1Y3Rpb24gdG1wbFwiLCB0ZW1wbGF0ZSk7XG5cbiAgICAgICAgLy8gc2F1dmVnYXJkZVxuICAgICAgICB0aGlzLnJlcXVlc3RTdHJpbmcgPSB0ZW1wbGF0ZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0U3RyaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBam91dCBkZSBwYXJhbWV0cmVzIHNww6ljaWZpcXVlcyAoZXguIHpvbmx5KVxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBfX2FkZERhdGFJbnB1dHMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQWx0aVJlcXVlc3RSRVNUOjphZGREYXRhSW5wdXQgKClcIik7XG5cbiAgICAgICAgdmFyIG15VGVtcGxhdGU7XG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgICAgIG15VGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlLnBvc3Q7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgICAgICAgIG15VGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlLmdldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG90aGVyIEhUVFAgbWV0aG9kIHN1cHBvcnRlZCBieSB0aGUgc2VydmljZSAhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRtcGwgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5EYXRhT2JqZWN0LkNMQVNTTkFNRSA9PT0gXCJBbHRpRWxldmF0aW9uUmVxdWVzdFwiKSB7XG4gICAgICAgICAgICB0bXBsID0gbXlUZW1wbGF0ZS5pbnB1dC5wb2ludDtcbiAgICAgICAgICAgIHJldHVybiB0bXBsLnJlcGxhY2UoL19fWk9OTFlfXy9nLCB0aGlzLkRhdGFPYmplY3Quem9ubHkpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuRGF0YU9iamVjdC5DTEFTU05BTUUgPT09IFwiQWx0aVByb2ZpbFJlcXVlc3RcIikge1xuICAgICAgICAgICAgdG1wbCA9IG15VGVtcGxhdGUuaW5wdXQucHJvZmlsO1xuICAgICAgICAgICAgcmV0dXJuIHRtcGwucmVwbGFjZSgvX19TQU1QTElOR19fL2csIHRoaXMuRGF0YU9iamVjdC5zYW1wbGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBvdGhlciBvYmplY3Qgc3VwcG9ydGVkIHRoYW4gZWxldmF0aW9uIG9yIHByb2ZpbCAhP1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFsdGlSZXF1ZXN0UkVTVDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestREST.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestWPS.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestWPS.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Formats_WPS__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Formats/WPS */ \"./node_modules/geoportal-access-lib/src/Formats/WPS.js\");\n/* harmony import */ var _model_AltiElevationRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./model/AltiElevationRequest */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiElevationRequest.js\");\n/* harmony import */ var _model_AltiProfilRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/AltiProfilRequest */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiProfilRequest.js\");\n/**\n * Classe d'interface des requêtes de type WPS sur le service altimetrique.\n * (Factory)\n *\n * @module Gp.Services.Alti.Request.AltiRequestWPS\n * @alias Gp.Services.Alti.Request.AltiRequestWPS\n * @private\n */\n\n\n\n\n\n\nvar AltiRequestWPS = {\n\n    /**\n     * Interface unique de construction de la requête.\n     *\n     * @method build\n     * @param {Object} options - options\n     * @param {Object}   options.param.positions - tableau de coordonnées lon/lat\n     * @param {String}   options.param.delimiter - '|'\n     * @param {Boolean}  options.param.indent - false|true\n     * @param {String}   options.param.crs - 'CRS:84'\n     * @param {String}   options.param.sampling - 3\n     * @param {Boolean}  options.param.zonly - false|true\n     * @param {String}   options.param.format - \"JSON|XML\" (only to POST)\n     * @param {String}   options.wps.service - \"WPS\"\n     * @param {String}   options.wps.version - \"1.0.0\"\n     * @param {String}   options.wps.identifier - \"gs:WPSElevation|gs:WPSLineElevation\"\n     * @param {String}   options.wps.rawdataoutput - \"result\"\n     * @param {String}   options.wps.request - \"Execute\"\n     * @param {String}   options.type - \"Profil|Elevation\"\n     * @param {String}   options.method - GET|POST\n     * @example\n     *      var options = {\n     *           type : 'Profil', // Elevation\n     *           method : 'GET',  // par defaut\n     *           param : {\n     *               positions : [\n     *                   {lon:'1.11', lat:'1.11'},\n     *                   {lon:'1.10', lat:'1.10'},\n     *                   {lon:'1.12', lat:'1.12'}\n     *               ],\n     *               delimiter : \";\",         // par defaut\n     *               indent    : true,        // par defaut\n     *               crs       : 'EPSG:4326', // par defaut\n     *               format    : 'json',      // par defaut (only to POST)\n     *               sampling  : 3 ,          // par defaut (only use by Profil)\n     *               zonly     : false,       // par defaut (only use by Elevation)\n     *           },\n     *           wps : {\n     *                 service : 'WPS',         // par defaut\n     *                 version : '1.0.0',       // par defaut\n     *                 identifier : 'gs:WPS',   // par defaut, Elevation = gs:WPSElevation, Profil = gs:WPSLineElevation\n     *                 rawdataoutput : 'result',// par defaut\n     *                 request : 'Execute'      // par defaut\n     *           }\n     *       };\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"AltiRequestWPS\");\n        logger.trace([\"AltiRequestWPS::build()\"]);\n\n        // existance des options\n        if (!options) {\n            throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"options\"));\n        }\n\n        // type de requete : Altitude ou Profil\n        // (param. à determiner en fonction des parametres d'entrée)\n        if (!options.type) {\n            throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"type (Elevation or Profil)\"));\n        }\n\n        // construction du modele de requête\n        // (test du type d'objet candidat)\n        var DataObject = null;\n        switch (options.type) {\n            case \"Elevation\":\n                // surcharge\n                options.wps.identifier = \"gs:WPSElevation\";\n                DataObject = new _model_AltiElevationRequest__WEBPACK_IMPORTED_MODULE_3__[\"default\"](options.param);\n                break;\n            case \"Profil\":\n                // surcharge\n                options.wps.identifier = \"gs:WPSLineElevation\";\n                DataObject = new _model_AltiProfilRequest__WEBPACK_IMPORTED_MODULE_4__[\"default\"](options.param);\n                break;\n            default:\n                throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_TYPE\", \"type (Elevation or Profil)\"));\n        }\n\n        // construction de la requête WPS\n        var settings = {\n            data : DataObject,\n            method : options.method,\n            param : options.wps\n        };\n\n        var rqstWPS = new _Formats_WPS__WEBPACK_IMPORTED_MODULE_2__[\"default\"](settings);\n\n        if (!rqstWPS.processRequestString()) {\n            throw new Error(\"Enable to process request !\");\n        }\n\n        return rqstWPS.requestString;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiRequestWPS);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXF1ZXN0L0FsdGlSZXF1ZXN0V1BTLmpzPzQzNzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvRDtBQUNIO0FBQ1Y7QUFDeUI7QUFDTjs7QUFFMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdUJBQXVCO0FBQ2pELDBCQUEwQix1QkFBdUI7QUFDakQsMEJBQTBCO0FBQzFCO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4REFBTTtBQUMzQjs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFDO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnRUFBQztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtRUFBb0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsZ0VBQWlCO0FBQ2xEO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0VBQUM7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQixvREFBRzs7QUFFN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSw2RUFBYyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BbHRpL1JlcXVlc3QvQWx0aVJlcXVlc3RXUFMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENsYXNzZSBkJ2ludGVyZmFjZSBkZXMgcmVxdcOqdGVzIGRlIHR5cGUgV1BTIHN1ciBsZSBzZXJ2aWNlIGFsdGltZXRyaXF1ZS5cbiAqIChGYWN0b3J5KVxuICpcbiAqIEBtb2R1bGUgR3AuU2VydmljZXMuQWx0aS5SZXF1ZXN0LkFsdGlSZXF1ZXN0V1BTXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuQWx0aS5SZXF1ZXN0LkFsdGlSZXF1ZXN0V1BTXG4gKiBAcHJpdmF0ZVxuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBfIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IFdQUyBmcm9tIFwiLi4vLi4vLi4vRm9ybWF0cy9XUFNcIjtcbmltcG9ydCBBbHRpRWxldmF0aW9uUmVxdWVzdCBmcm9tIFwiLi9tb2RlbC9BbHRpRWxldmF0aW9uUmVxdWVzdFwiO1xuaW1wb3J0IEFsdGlQcm9maWxSZXF1ZXN0IGZyb20gXCIuL21vZGVsL0FsdGlQcm9maWxSZXF1ZXN0XCI7XG5cbnZhciBBbHRpUmVxdWVzdFdQUyA9IHtcblxuICAgIC8qKlxuICAgICAqIEludGVyZmFjZSB1bmlxdWUgZGUgY29uc3RydWN0aW9uIGRlIGxhIHJlcXXDqnRlLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBidWlsZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMucGFyYW0ucG9zaXRpb25zIC0gdGFibGVhdSBkZSBjb29yZG9ubsOpZXMgbG9uL2xhdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucGFyYW0uZGVsaW1pdGVyIC0gJ3wnXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgb3B0aW9ucy5wYXJhbS5pbmRlbnQgLSBmYWxzZXx0cnVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5wYXJhbS5jcnMgLSAnQ1JTOjg0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMucGFyYW0uc2FtcGxpbmcgLSAzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgb3B0aW9ucy5wYXJhbS56b25seSAtIGZhbHNlfHRydWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLnBhcmFtLmZvcm1hdCAtIFwiSlNPTnxYTUxcIiAob25seSB0byBQT1NUKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMud3BzLnNlcnZpY2UgLSBcIldQU1wiXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy53cHMudmVyc2lvbiAtIFwiMS4wLjBcIlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMud3BzLmlkZW50aWZpZXIgLSBcImdzOldQU0VsZXZhdGlvbnxnczpXUFNMaW5lRWxldmF0aW9uXCJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLndwcy5yYXdkYXRhb3V0cHV0IC0gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMud3BzLnJlcXVlc3QgLSBcIkV4ZWN1dGVcIlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMudHlwZSAtIFwiUHJvZmlsfEVsZXZhdGlvblwiXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5tZXRob2QgLSBHRVR8UE9TVFxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICAgICAgICAgdHlwZSA6ICdQcm9maWwnLCAvLyBFbGV2YXRpb25cbiAgICAgKiAgICAgICAgICAgbWV0aG9kIDogJ0dFVCcsICAvLyBwYXIgZGVmYXV0XG4gICAgICogICAgICAgICAgIHBhcmFtIDoge1xuICAgICAqICAgICAgICAgICAgICAgcG9zaXRpb25zIDogW1xuICAgICAqICAgICAgICAgICAgICAgICAgIHtsb246JzEuMTEnLCBsYXQ6JzEuMTEnfSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICB7bG9uOicxLjEwJywgbGF0OicxLjEwJ30sXG4gICAgICogICAgICAgICAgICAgICAgICAge2xvbjonMS4xMicsIGxhdDonMS4xMid9XG4gICAgICogICAgICAgICAgICAgICBdLFxuICAgICAqICAgICAgICAgICAgICAgZGVsaW1pdGVyIDogXCI7XCIsICAgICAgICAgLy8gcGFyIGRlZmF1dFxuICAgICAqICAgICAgICAgICAgICAgaW5kZW50ICAgIDogdHJ1ZSwgICAgICAgIC8vIHBhciBkZWZhdXRcbiAgICAgKiAgICAgICAgICAgICAgIGNycyAgICAgICA6ICdFUFNHOjQzMjYnLCAvLyBwYXIgZGVmYXV0XG4gICAgICogICAgICAgICAgICAgICBmb3JtYXQgICAgOiAnanNvbicsICAgICAgLy8gcGFyIGRlZmF1dCAob25seSB0byBQT1NUKVxuICAgICAqICAgICAgICAgICAgICAgc2FtcGxpbmcgIDogMyAsICAgICAgICAgIC8vIHBhciBkZWZhdXQgKG9ubHkgdXNlIGJ5IFByb2ZpbClcbiAgICAgKiAgICAgICAgICAgICAgIHpvbmx5ICAgICA6IGZhbHNlLCAgICAgICAvLyBwYXIgZGVmYXV0IChvbmx5IHVzZSBieSBFbGV2YXRpb24pXG4gICAgICogICAgICAgICAgIH0sXG4gICAgICogICAgICAgICAgIHdwcyA6IHtcbiAgICAgKiAgICAgICAgICAgICAgICAgc2VydmljZSA6ICdXUFMnLCAgICAgICAgIC8vIHBhciBkZWZhdXRcbiAgICAgKiAgICAgICAgICAgICAgICAgdmVyc2lvbiA6ICcxLjAuMCcsICAgICAgIC8vIHBhciBkZWZhdXRcbiAgICAgKiAgICAgICAgICAgICAgICAgaWRlbnRpZmllciA6ICdnczpXUFMnLCAgIC8vIHBhciBkZWZhdXQsIEVsZXZhdGlvbiA9IGdzOldQU0VsZXZhdGlvbiwgUHJvZmlsID0gZ3M6V1BTTGluZUVsZXZhdGlvblxuICAgICAqICAgICAgICAgICAgICAgICByYXdkYXRhb3V0cHV0IDogJ3Jlc3VsdCcsLy8gcGFyIGRlZmF1dFxuICAgICAqICAgICAgICAgICAgICAgICByZXF1ZXN0IDogJ0V4ZWN1dGUnICAgICAgLy8gcGFyIGRlZmF1dFxuICAgICAqICAgICAgICAgICB9XG4gICAgICogICAgICAgfTtcbiAgICAgKi9cbiAgICBidWlsZCA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGxvZ2dlclxuICAgICAgICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIkFsdGlSZXF1ZXN0V1BTXCIpO1xuICAgICAgICBsb2dnZXIudHJhY2UoW1wiQWx0aVJlcXVlc3RXUFM6OmJ1aWxkKClcIl0pO1xuXG4gICAgICAgIC8vIGV4aXN0YW5jZSBkZXMgb3B0aW9uc1xuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9FTVBUWVwiLCBcIm9wdGlvbnNcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHlwZSBkZSByZXF1ZXRlIDogQWx0aXR1ZGUgb3UgUHJvZmlsXG4gICAgICAgIC8vIChwYXJhbS4gw6AgZGV0ZXJtaW5lciBlbiBmb25jdGlvbiBkZXMgcGFyYW1ldHJlcyBkJ2VudHLDqWUpXG4gICAgICAgIGlmICghb3B0aW9ucy50eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fRU1QVFlcIiwgXCJ0eXBlIChFbGV2YXRpb24gb3IgUHJvZmlsKVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zdHJ1Y3Rpb24gZHUgbW9kZWxlIGRlIHJlcXXDqnRlXG4gICAgICAgIC8vICh0ZXN0IGR1IHR5cGUgZCdvYmpldCBjYW5kaWRhdClcbiAgICAgICAgdmFyIERhdGFPYmplY3QgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIkVsZXZhdGlvblwiOlxuICAgICAgICAgICAgICAgIC8vIHN1cmNoYXJnZVxuICAgICAgICAgICAgICAgIG9wdGlvbnMud3BzLmlkZW50aWZpZXIgPSBcImdzOldQU0VsZXZhdGlvblwiO1xuICAgICAgICAgICAgICAgIERhdGFPYmplY3QgPSBuZXcgQWx0aUVsZXZhdGlvblJlcXVlc3Qob3B0aW9ucy5wYXJhbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUHJvZmlsXCI6XG4gICAgICAgICAgICAgICAgLy8gc3VyY2hhcmdlXG4gICAgICAgICAgICAgICAgb3B0aW9ucy53cHMuaWRlbnRpZmllciA9IFwiZ3M6V1BTTGluZUVsZXZhdGlvblwiO1xuICAgICAgICAgICAgICAgIERhdGFPYmplY3QgPSBuZXcgQWx0aVByb2ZpbFJlcXVlc3Qob3B0aW9ucy5wYXJhbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9UWVBFXCIsIFwidHlwZSAoRWxldmF0aW9uIG9yIFByb2ZpbClcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc3RydWN0aW9uIGRlIGxhIHJlcXXDqnRlIFdQU1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBkYXRhIDogRGF0YU9iamVjdCxcbiAgICAgICAgICAgIG1ldGhvZCA6IG9wdGlvbnMubWV0aG9kLFxuICAgICAgICAgICAgcGFyYW0gOiBvcHRpb25zLndwc1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBycXN0V1BTID0gbmV3IFdQUyhzZXR0aW5ncyk7XG5cbiAgICAgICAgaWYgKCFycXN0V1BTLnByb2Nlc3NSZXF1ZXN0U3RyaW5nKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuYWJsZSB0byBwcm9jZXNzIHJlcXVlc3QgIVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBycXN0V1BTLnJlcXVlc3RTdHJpbmc7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQWx0aVJlcXVlc3RXUFM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Request/AltiRequestWPS.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiElevationRequest.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiElevationRequest.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _AltiRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AltiRequest */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiRequest.js\");\n\n\n\n\n/**\n * @classdesc\n *\n * Classe de gestion des param. des requêtes de type POINT du service altimetrique.\n *\n * @constructor\n * @alias Gp.Services.Alti.Request.AltiElevationRequest\n * @param {Object} options - options\n * @param {Boolean}  options.zonly - false|true\n *\n * @private\n */\nfunction AltiElevationRequest (options) {\n    if (!(this instanceof AltiElevationRequest)) {\n        throw new TypeError(\"AltiElevationRequest constructor cannot be called as a function.\");\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     */\n    this.CLASSNAME = \"AltiElevationRequest\";\n\n    // appel du constructeur par heritage\n    _AltiRequest__WEBPACK_IMPORTED_MODULE_1__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur AltiElevationRequest ()]\");\n\n    /**\n     * Z uniquement.\n     * true|false\n     */\n    this.zonly = this.options.zonly || false; // test des options héritées !\n}\n\n/**\n * @lends module:AltiElevationRequest#\n */\n\nAltiElevationRequest.prototype = Object.create(_AltiRequest__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype, {\n\n    /**\n     * Setter/getter pour \"zonly\"\n     */\n    zonly : {\n        /** getter */\n        get : function () {\n            return this._zonly;\n        },\n        /** setter */\n        set : function (z) {\n            this._zonly = z;\n        }\n    }\n\n});\n\n/**\n * Constructeur (alias)\n */\nAltiElevationRequest.prototype.constructor = AltiElevationRequest;\n\n/**\n * Tableau de clefs/valeurs pour param.\n *\n * @returns {Array}\n */\nAltiElevationRequest.prototype.getData = function () {\n    // par glop..., appel de AltiRequest::getData () !\n    var map = [];\n    map.push({\n        k : \"lon\",\n        v : this.getLon()\n    });\n    map.push({\n        k : \"lat\",\n        v : this.getLat()\n    });\n    // map.push({k : \"delimiter\", v : this.delimiter}); // FIXME on retire le param \"delimiter\"\n    map.push({\n        k : \"indent\",\n        v : this.indent\n    });\n    map.push({\n        k : \"crs\",\n        v : this.crs\n    });\n    map.push({\n        k : \"zonly\",\n        v : this.zonly\n    });\n    map.push({\n        k : \"format\",\n        v : this.format\n    });\n\n    return map;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiElevationRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXF1ZXN0L21vZGVsL0FsdGlFbGV2YXRpb25SZXF1ZXN0LmpzPzNkM2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUN1RDtBQUNmOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLG9EQUFXOztBQUVmLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsK0NBQStDLG9EQUFXOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQkFBaUIsb0NBQW9DLEVBQUU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVlLG1GQUFvQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BbHRpL1JlcXVlc3QvbW9kZWwvQWx0aUVsZXZhdGlvblJlcXVlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IEFsdGlSZXF1ZXN0IGZyb20gXCIuL0FsdGlSZXF1ZXN0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIENsYXNzZSBkZSBnZXN0aW9uIGRlcyBwYXJhbS4gZGVzIHJlcXXDqnRlcyBkZSB0eXBlIFBPSU5UIGR1IHNlcnZpY2UgYWx0aW1ldHJpcXVlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkFsdGkuUmVxdWVzdC5BbHRpRWxldmF0aW9uUmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICBvcHRpb25zLnpvbmx5IC0gZmFsc2V8dHJ1ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEFsdGlFbGV2YXRpb25SZXF1ZXN0IChvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFsdGlFbGV2YXRpb25SZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWx0aUVsZXZhdGlvblJlcXVlc3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiQWx0aUVsZXZhdGlvblJlcXVlc3RcIjtcblxuICAgIC8vIGFwcGVsIGR1IGNvbnN0cnVjdGV1ciBwYXIgaGVyaXRhZ2VcbiAgICBBbHRpUmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKCk7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIEFsdGlFbGV2YXRpb25SZXF1ZXN0ICgpXVwiKTtcblxuICAgIC8qKlxuICAgICAqIFogdW5pcXVlbWVudC5cbiAgICAgKiB0cnVlfGZhbHNlXG4gICAgICovXG4gICAgdGhpcy56b25seSA9IHRoaXMub3B0aW9ucy56b25seSB8fCBmYWxzZTsgLy8gdGVzdCBkZXMgb3B0aW9ucyBow6lyaXTDqWVzICFcbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkFsdGlFbGV2YXRpb25SZXF1ZXN0I1xuICovXG5cbkFsdGlFbGV2YXRpb25SZXF1ZXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWx0aVJlcXVlc3QucHJvdG90eXBlLCB7XG5cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIvZ2V0dGVyIHBvdXIgXCJ6b25seVwiXG4gICAgICovXG4gICAgem9ubHkgOiB7XG4gICAgICAgIC8qKiBnZXR0ZXIgKi9cbiAgICAgICAgZ2V0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3pvbmx5O1xuICAgICAgICB9LFxuICAgICAgICAvKiogc2V0dGVyICovXG4gICAgICAgIHNldCA6IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgICAgICB0aGlzLl96b25seSA9IHo7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pO1xuXG4vKipcbiAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gKi9cbkFsdGlFbGV2YXRpb25SZXF1ZXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFsdGlFbGV2YXRpb25SZXF1ZXN0O1xuXG4vKipcbiAqIFRhYmxlYXUgZGUgY2xlZnMvdmFsZXVycyBwb3VyIHBhcmFtLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuQWx0aUVsZXZhdGlvblJlcXVlc3QucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcGFyIGdsb3AuLi4sIGFwcGVsIGRlIEFsdGlSZXF1ZXN0OjpnZXREYXRhICgpICFcbiAgICB2YXIgbWFwID0gW107XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJsb25cIixcbiAgICAgICAgdiA6IHRoaXMuZ2V0TG9uKClcbiAgICB9KTtcbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcImxhdFwiLFxuICAgICAgICB2IDogdGhpcy5nZXRMYXQoKVxuICAgIH0pO1xuICAgIC8vIG1hcC5wdXNoKHtrIDogXCJkZWxpbWl0ZXJcIiwgdiA6IHRoaXMuZGVsaW1pdGVyfSk7IC8vIEZJWE1FIG9uIHJldGlyZSBsZSBwYXJhbSBcImRlbGltaXRlclwiXG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJpbmRlbnRcIixcbiAgICAgICAgdiA6IHRoaXMuaW5kZW50XG4gICAgfSk7XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJjcnNcIixcbiAgICAgICAgdiA6IHRoaXMuY3JzXG4gICAgfSk7XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJ6b25seVwiLFxuICAgICAgICB2IDogdGhpcy56b25seVxuICAgIH0pO1xuICAgIG1hcC5wdXNoKHtcbiAgICAgICAgayA6IFwiZm9ybWF0XCIsXG4gICAgICAgIHYgOiB0aGlzLmZvcm1hdFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1hcDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFsdGlFbGV2YXRpb25SZXF1ZXN0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiElevationRequest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiProfilRequest.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiProfilRequest.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _AltiRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AltiRequest */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiRequest.js\");\n\n\n\n\n/**\n * @classdesc\n * Classe de gestion des param. des requêtes de type PROFIL du service altimetrique.\n *\n * @constructor\n * @alias Gp.Services.Alti.Request.AltiProfilRequest\n * @param {Object}   options - options\n * @param {String}   options.sampling - 3\n *\n * @private\n */\nfunction AltiProfilRequest (options) {\n    if (!(this instanceof AltiProfilRequest)) {\n        throw new TypeError(\"AltiProfilRequest constructor cannot be called as a function.\");\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     */\n    this.CLASSNAME = \"AltiProfilRequest\";\n\n    // appel du constructeur par heritage\n    _AltiRequest__WEBPACK_IMPORTED_MODULE_1__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur AltiProfilRequest ()]\");\n\n    /**\n     * Sampling\n     * Par defaut, 3\n     */\n    this.sampling = this.options.sampling || 3; // test des options héritées !\n}\n\n/**\n * @lends module:AltiProfilRequest#\n */\n\nAltiProfilRequest.prototype = Object.create(_AltiRequest__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype, {\n\n    /**\n     * Setter/getter pour \"sampling\"\n     */\n    sampling : {\n        /** getter */\n        get : function () {\n            return this._sampling;\n        },\n        /** setter */\n        set : function (value) {\n            this._sampling = value;\n        }\n    }\n});\n\n/**\n * Constructeur (alias)\n */\nAltiProfilRequest.prototype.constructor = AltiProfilRequest;\n\n/**\n * Tableau de clefs/valeurs pour param.\n *\n * @returns {Object[]}\n */\nAltiProfilRequest.prototype.getData = function () {\n    // par glop..., appel de AltiRequest::getData () !\n    var map = [];\n    map.push({\n        k : \"lon\",\n        v : this.getLon()\n    });\n    map.push({\n        k : \"lat\",\n        v : this.getLat()\n    });\n    // map.push({k : \"delimiter\", v : this.delimiter}); // FIXME on retire le param \"delimiter\"\n    map.push({\n        k : \"indent\",\n        v : this.indent\n    });\n    map.push({\n        k : \"crs\",\n        v : this.crs\n    });\n    map.push({\n        k : \"sampling\",\n        v : this.sampling\n    });\n    map.push({\n        k : \"format\",\n        v : this.format\n    });\n\n    return map;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiProfilRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXF1ZXN0L21vZGVsL0FsdGlQcm9maWxSZXF1ZXN0LmpzP2FmZjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUN1RDtBQUNmOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxvREFBVzs7QUFFZixrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDRDQUE0QyxvREFBVzs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQkFBaUIsb0NBQW9DLEVBQUU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVlLGdGQUFpQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BbHRpL1JlcXVlc3QvbW9kZWwvQWx0aVByb2ZpbFJlcXVlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IEFsdGlSZXF1ZXN0IGZyb20gXCIuL0FsdGlSZXF1ZXN0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3NlIGRlIGdlc3Rpb24gZGVzIHBhcmFtLiBkZXMgcmVxdcOqdGVzIGRlIHR5cGUgUFJPRklMIGR1IHNlcnZpY2UgYWx0aW1ldHJpcXVlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkFsdGkuUmVxdWVzdC5BbHRpUHJvZmlsUmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9ICAgb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMuc2FtcGxpbmcgLSAzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gQWx0aVByb2ZpbFJlcXVlc3QgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWx0aVByb2ZpbFJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHRpUHJvZmlsUmVxdWVzdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5vbSBkZSBsYSBjbGFzc2UgKGhlcml0YWdlKVxuICAgICAqL1xuICAgIHRoaXMuQ0xBU1NOQU1FID0gXCJBbHRpUHJvZmlsUmVxdWVzdFwiO1xuXG4gICAgLy8gYXBwZWwgZHUgY29uc3RydWN0ZXVyIHBhciBoZXJpdGFnZVxuICAgIEFsdGlSZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgQWx0aVByb2ZpbFJlcXVlc3QgKCldXCIpO1xuXG4gICAgLyoqXG4gICAgICogU2FtcGxpbmdcbiAgICAgKiBQYXIgZGVmYXV0LCAzXG4gICAgICovXG4gICAgdGhpcy5zYW1wbGluZyA9IHRoaXMub3B0aW9ucy5zYW1wbGluZyB8fCAzOyAvLyB0ZXN0IGRlcyBvcHRpb25zIGjDqXJpdMOpZXMgIVxufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6QWx0aVByb2ZpbFJlcXVlc3QjXG4gKi9cblxuQWx0aVByb2ZpbFJlcXVlc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBbHRpUmVxdWVzdC5wcm90b3R5cGUsIHtcblxuICAgIC8qKlxuICAgICAqIFNldHRlci9nZXR0ZXIgcG91ciBcInNhbXBsaW5nXCJcbiAgICAgKi9cbiAgICBzYW1wbGluZyA6IHtcbiAgICAgICAgLyoqIGdldHRlciAqL1xuICAgICAgICBnZXQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2FtcGxpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBzZXR0ZXIgKi9cbiAgICAgICAgc2V0IDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGluZyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAqL1xuQWx0aVByb2ZpbFJlcXVlc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWx0aVByb2ZpbFJlcXVlc3Q7XG5cbi8qKlxuICogVGFibGVhdSBkZSBjbGVmcy92YWxldXJzIHBvdXIgcGFyYW0uXG4gKlxuICogQHJldHVybnMge09iamVjdFtdfVxuICovXG5BbHRpUHJvZmlsUmVxdWVzdC5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwYXIgZ2xvcC4uLiwgYXBwZWwgZGUgQWx0aVJlcXVlc3Q6OmdldERhdGEgKCkgIVxuICAgIHZhciBtYXAgPSBbXTtcbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcImxvblwiLFxuICAgICAgICB2IDogdGhpcy5nZXRMb24oKVxuICAgIH0pO1xuICAgIG1hcC5wdXNoKHtcbiAgICAgICAgayA6IFwibGF0XCIsXG4gICAgICAgIHYgOiB0aGlzLmdldExhdCgpXG4gICAgfSk7XG4gICAgLy8gbWFwLnB1c2goe2sgOiBcImRlbGltaXRlclwiLCB2IDogdGhpcy5kZWxpbWl0ZXJ9KTsgLy8gRklYTUUgb24gcmV0aXJlIGxlIHBhcmFtIFwiZGVsaW1pdGVyXCJcbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcImluZGVudFwiLFxuICAgICAgICB2IDogdGhpcy5pbmRlbnRcbiAgICB9KTtcbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcImNyc1wiLFxuICAgICAgICB2IDogdGhpcy5jcnNcbiAgICB9KTtcbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcInNhbXBsaW5nXCIsXG4gICAgICAgIHYgOiB0aGlzLnNhbXBsaW5nXG4gICAgfSk7XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJmb3JtYXRcIixcbiAgICAgICAgdiA6IHRoaXMuZm9ybWF0XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWx0aVByb2ZpbFJlcXVlc3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiProfilRequest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiRequest.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiRequest.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n\n/**\n * @classdesc\n * Classe de gestion des param. des requêtes du service altimetrique.\n *\n * @constructor\n * @alias Gp.Services.Alti.Request.AltiRequest\n * @param {Object} options - options\n * @param {Object}   options.positions - tableau de coordonnées lon/lat\n * @param {String}   options.delimiter - \"|\"\n * @param {Boolean}  options.indent - false|true\n * @param {String}   options.crs - \"CRS:84\"\n * @param {String}   options.format - \"JSON|XML\"\n *\n * @private\n */\nfunction AltiRequest (options) {\n    if (!(this instanceof AltiRequest)) {\n        throw new TypeError(\"AltiRequest constructor cannot be called as a function.\");\n    }\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur AltiRequest ()]\");\n\n    /**\n     * Options en paramêtres du constructeur.\n     */\n    this.options = options || {};\n\n    /**\n     * Liste des coordonnées.\n     * @example\n     * var c = [{lon : \"\", lat : \"\"}, {lon : \"\", lat : \"\"}];\n     */\n    this.positions = this.options.positions || [];\n\n    /**\n     * Caractère de séparation.\n     * Par defaut, \"|\".\n     */\n    this.delimiter = this.options.delimiter || \"|\";\n\n    /**\n     * Indentation.\n     * true|false\n     */\n    this.indent = this.options.indent || false;\n\n    /**\n     * Projection.\n     * Par defaut, CRS:84.\n     */\n    this.crs = this.options.crs || \"CRS:84\";\n\n    /**\n     * format de sortie.\n     * Par defaut, \"json\".\n     */\n    this.format = this.options.format || \"json\";\n}\n\n/**\n * CLASSNAME\n */\nAltiRequest.CLASSNAME = \"AltiRequest\";\n\nAltiRequest.prototype = {\n\n    /**\n     * @lends module:AltiRequest#\n     */\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : AltiRequest,\n\n    /**\n     * Ajout d\"une liste de coordonnées.\n     *\n     * @param {Object[]} lstPosition - liste de positions\n     * @example\n     * obj.setPositions ([{lon : \"0.15\", lat : \"0.15\"}, {lon : \"1.15\", lat : \"1.15\"}]);\n     */\n    setPositions : function (lstPosition) {\n        var positions = [];\n        for (var i = 0; i < lstPosition.length; i++) {\n            var o = lstPosition[i];\n            if (o.lon && o.lat) {\n                positions.push(o);\n            }\n        }\n\n        this.positions = positions;\n    },\n\n    /**\n     * Liste des coordonnées.\n     *\n     * @param {Int} pos - position\n     * @returns {positions}\n     * @example\n     * obj.getPositions ();  // [{lon : \"\", lat : \"\"}, {lon : \"\", lat : \"\"}]\n     * obj.getPositions (0); // [{lon : \"\", lat : \"\"}]\n     */\n    getPositions : function (pos) {\n        // FIXME test if not a number !?\n        if (!pos) {\n            return this.positions;\n        }\n\n        var index = this.positions.length - 1;\n        if (pos > index || pos < index) {\n            this.logger.warn(\"index out of range !\");\n            return this.positions;\n        }\n\n        return this.positions[pos];\n    },\n\n    /**\n     * Ajout d\"une liste de coordonnées.\n     *\n     * @param {Object[]} lstPosition - liste de positions\n     * @example\n     * obj.addPositions ([{lon : \"0.15\", lat : \"0.15\"}, {lon : \"1.15\", lat : \"1.15\"}]);\n     */\n    addPositions : function (lstPosition) {\n        for (var i = 0; i < lstPosition.length; i++) {\n            var o = lstPosition[i];\n            if (o.lon && o.lat) {\n                this.positions.push(lstPosition[i]);\n            }\n        }\n    },\n\n    /**\n     * Retourne la liste des longitudes avec un caractère de séparation.\n     *\n     * @returns {String} - une liste de longitudes\n     * @example\n     * // out : 0.2367|2.1570|43.789|...\n     */\n    getLon : function () {\n        var lstLon = [];\n        for (var i = 0; i < this.positions.length; i++) {\n            lstLon.push(this.positions[i].lon);\n        }\n        this.logger.trace(lstLon);\n        return lstLon.join(this.delimiter);\n    },\n\n    /**\n     * Retourne la liste des lattitudes avec un caractère de séparation.\n     *\n     * @returns {String} - une liste de lattitudes\n     * @example\n     * // out : 0.2367|2.1570|43.789|...\n     */\n    getLat : function () {\n        var lstLat = [];\n        for (var i = 0; i < this.positions.length; i++) {\n            lstLat.push(this.positions[i].lat);\n        }\n        this.logger.trace(lstLat);\n        return lstLat.join(this.delimiter);\n    }\n\n};\n\n/**\n * Tableau de clefs/valeurs pour param.\n *\n * @returns {Object[]}\n */\nAltiRequest.prototype.getData = function () {\n    var map = [];\n\n    map.push({\n        k : \"lon\",\n        v : this.getLon()\n    });\n    map.push({\n        k : \"lat\",\n        v : this.getLat()\n    });\n    map.push({\n        k : \"delimiter\",\n        v : this.delimiter\n    });\n    map.push({\n        k : \"indent\",\n        v : this.indent\n    });\n    map.push({\n        k : \"crs\",\n        v : this.crs\n    });\n    map.push({\n        k : \"format\",\n        v : this.format\n    });\n\n    return map;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXF1ZXN0L21vZGVsL0FsdGlSZXF1ZXN0LmpzPzAyMmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ3VEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQixHQUFHLG1CQUFtQjtBQUMxRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0EsMkJBQTJCLDJCQUEyQixHQUFHLDJCQUEyQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0JBQXdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsSUFBSTtBQUNuQixpQkFBaUI7QUFDakI7QUFDQSwyQkFBMkIsT0FBTyxtQkFBbUIsR0FBRyxtQkFBbUI7QUFDM0UsNEJBQTRCLE1BQU0sbUJBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQSwyQkFBMkIsMkJBQTJCLEdBQUcsMkJBQTJCO0FBQ3BGO0FBQ0E7QUFDQSx1QkFBdUIsd0JBQXdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkJBQTJCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRWUsMEVBQVcsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXF1ZXN0L21vZGVsL0FsdGlSZXF1ZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzc2UgZGUgZ2VzdGlvbiBkZXMgcGFyYW0uIGRlcyByZXF1w6p0ZXMgZHUgc2VydmljZSBhbHRpbWV0cmlxdWUuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuQWx0aS5SZXF1ZXN0LkFsdGlSZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIG9wdGlvbnMucG9zaXRpb25zIC0gdGFibGVhdSBkZSBjb29yZG9ubsOpZXMgbG9uL2xhdFxuICogQHBhcmFtIHtTdHJpbmd9ICAgb3B0aW9ucy5kZWxpbWl0ZXIgLSBcInxcIlxuICogQHBhcmFtIHtCb29sZWFufSAgb3B0aW9ucy5pbmRlbnQgLSBmYWxzZXx0cnVlXG4gKiBAcGFyYW0ge1N0cmluZ30gICBvcHRpb25zLmNycyAtIFwiQ1JTOjg0XCJcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIG9wdGlvbnMuZm9ybWF0IC0gXCJKU09OfFhNTFwiXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gQWx0aVJlcXVlc3QgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWx0aVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHRpUmVxdWVzdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcigpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBBbHRpUmVxdWVzdCAoKV1cIik7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25zIGVuIHBhcmFtw6p0cmVzIGR1IGNvbnN0cnVjdGV1ci5cbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogTGlzdGUgZGVzIGNvb3Jkb25uw6llcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBjID0gW3tsb24gOiBcIlwiLCBsYXQgOiBcIlwifSwge2xvbiA6IFwiXCIsIGxhdCA6IFwiXCJ9XTtcbiAgICAgKi9cbiAgICB0aGlzLnBvc2l0aW9ucyA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbnMgfHwgW107XG5cbiAgICAvKipcbiAgICAgKiBDYXJhY3TDqHJlIGRlIHPDqXBhcmF0aW9uLlxuICAgICAqIFBhciBkZWZhdXQsIFwifFwiLlxuICAgICAqL1xuICAgIHRoaXMuZGVsaW1pdGVyID0gdGhpcy5vcHRpb25zLmRlbGltaXRlciB8fCBcInxcIjtcblxuICAgIC8qKlxuICAgICAqIEluZGVudGF0aW9uLlxuICAgICAqIHRydWV8ZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLmluZGVudCA9IHRoaXMub3B0aW9ucy5pbmRlbnQgfHwgZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBQcm9qZWN0aW9uLlxuICAgICAqIFBhciBkZWZhdXQsIENSUzo4NC5cbiAgICAgKi9cbiAgICB0aGlzLmNycyA9IHRoaXMub3B0aW9ucy5jcnMgfHwgXCJDUlM6ODRcIjtcblxuICAgIC8qKlxuICAgICAqIGZvcm1hdCBkZSBzb3J0aWUuXG4gICAgICogUGFyIGRlZmF1dCwgXCJqc29uXCIuXG4gICAgICovXG4gICAgdGhpcy5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuZm9ybWF0IHx8IFwianNvblwiO1xufVxuXG4vKipcbiAqIENMQVNTTkFNRVxuICovXG5BbHRpUmVxdWVzdC5DTEFTU05BTUUgPSBcIkFsdGlSZXF1ZXN0XCI7XG5cbkFsdGlSZXF1ZXN0LnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEBsZW5kcyBtb2R1bGU6QWx0aVJlcXVlc3QjXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogQWx0aVJlcXVlc3QsXG5cbiAgICAvKipcbiAgICAgKiBBam91dCBkXCJ1bmUgbGlzdGUgZGUgY29vcmRvbm7DqWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gbHN0UG9zaXRpb24gLSBsaXN0ZSBkZSBwb3NpdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG9iai5zZXRQb3NpdGlvbnMgKFt7bG9uIDogXCIwLjE1XCIsIGxhdCA6IFwiMC4xNVwifSwge2xvbiA6IFwiMS4xNVwiLCBsYXQgOiBcIjEuMTVcIn1dKTtcbiAgICAgKi9cbiAgICBzZXRQb3NpdGlvbnMgOiBmdW5jdGlvbiAobHN0UG9zaXRpb24pIHtcbiAgICAgICAgdmFyIHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxzdFBvc2l0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbyA9IGxzdFBvc2l0aW9uW2ldO1xuICAgICAgICAgICAgaWYgKG8ubG9uICYmIG8ubGF0KSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gobyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTGlzdGUgZGVzIGNvb3Jkb25uw6llcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SW50fSBwb3MgLSBwb3NpdGlvblxuICAgICAqIEByZXR1cm5zIHtwb3NpdGlvbnN9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBvYmouZ2V0UG9zaXRpb25zICgpOyAgLy8gW3tsb24gOiBcIlwiLCBsYXQgOiBcIlwifSwge2xvbiA6IFwiXCIsIGxhdCA6IFwiXCJ9XVxuICAgICAqIG9iai5nZXRQb3NpdGlvbnMgKDApOyAvLyBbe2xvbiA6IFwiXCIsIGxhdCA6IFwiXCJ9XVxuICAgICAqL1xuICAgIGdldFBvc2l0aW9ucyA6IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgLy8gRklYTUUgdGVzdCBpZiBub3QgYSBudW1iZXIgIT9cbiAgICAgICAgaWYgKCFwb3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMucG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChwb3MgPiBpbmRleCB8fCBwb3MgPCBpbmRleCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImluZGV4IG91dCBvZiByYW5nZSAhXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25zW3Bvc107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFqb3V0IGRcInVuZSBsaXN0ZSBkZSBjb29yZG9ubsOpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBsc3RQb3NpdGlvbiAtIGxpc3RlIGRlIHBvc2l0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogb2JqLmFkZFBvc2l0aW9ucyAoW3tsb24gOiBcIjAuMTVcIiwgbGF0IDogXCIwLjE1XCJ9LCB7bG9uIDogXCIxLjE1XCIsIGxhdCA6IFwiMS4xNVwifV0pO1xuICAgICAqL1xuICAgIGFkZFBvc2l0aW9ucyA6IGZ1bmN0aW9uIChsc3RQb3NpdGlvbikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxzdFBvc2l0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbyA9IGxzdFBvc2l0aW9uW2ldO1xuICAgICAgICAgICAgaWYgKG8ubG9uICYmIG8ubGF0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbnMucHVzaChsc3RQb3NpdGlvbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0b3VybmUgbGEgbGlzdGUgZGVzIGxvbmdpdHVkZXMgYXZlYyB1biBjYXJhY3TDqHJlIGRlIHPDqXBhcmF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSB1bmUgbGlzdGUgZGUgbG9uZ2l0dWRlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gb3V0IDogMC4yMzY3fDIuMTU3MHw0My43ODl8Li4uXG4gICAgICovXG4gICAgZ2V0TG9uIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbHN0TG9uID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxzdExvbi5wdXNoKHRoaXMucG9zaXRpb25zW2ldLmxvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UobHN0TG9uKTtcbiAgICAgICAgcmV0dXJuIGxzdExvbi5qb2luKHRoaXMuZGVsaW1pdGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0b3VybmUgbGEgbGlzdGUgZGVzIGxhdHRpdHVkZXMgYXZlYyB1biBjYXJhY3TDqHJlIGRlIHPDqXBhcmF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSB1bmUgbGlzdGUgZGUgbGF0dGl0dWRlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gb3V0IDogMC4yMzY3fDIuMTU3MHw0My43ODl8Li4uXG4gICAgICovXG4gICAgZ2V0TGF0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbHN0TGF0ID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxzdExhdC5wdXNoKHRoaXMucG9zaXRpb25zW2ldLmxhdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UobHN0TGF0KTtcbiAgICAgICAgcmV0dXJuIGxzdExhdC5qb2luKHRoaXMuZGVsaW1pdGVyKTtcbiAgICB9XG5cbn07XG5cbi8qKlxuICogVGFibGVhdSBkZSBjbGVmcy92YWxldXJzIHBvdXIgcGFyYW0uXG4gKlxuICogQHJldHVybnMge09iamVjdFtdfVxuICovXG5BbHRpUmVxdWVzdC5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFwID0gW107XG5cbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcImxvblwiLFxuICAgICAgICB2IDogdGhpcy5nZXRMb24oKVxuICAgIH0pO1xuICAgIG1hcC5wdXNoKHtcbiAgICAgICAgayA6IFwibGF0XCIsXG4gICAgICAgIHYgOiB0aGlzLmdldExhdCgpXG4gICAgfSk7XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJkZWxpbWl0ZXJcIixcbiAgICAgICAgdiA6IHRoaXMuZGVsaW1pdGVyXG4gICAgfSk7XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJpbmRlbnRcIixcbiAgICAgICAgdiA6IHRoaXMuaW5kZW50XG4gICAgfSk7XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJjcnNcIixcbiAgICAgICAgdiA6IHRoaXMuY3JzXG4gICAgfSk7XG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJmb3JtYXRcIixcbiAgICAgICAgdiA6IHRoaXMuZm9ybWF0XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWx0aVJlcXVlc3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Request/model/AltiRequest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Response/AltiResponseFactory.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Response/AltiResponseFactory.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Formats_XML__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Formats/XML */ \"./node_modules/geoportal-access-lib/src/Formats/XML.js\");\n/* harmony import */ var _Formats_AltiResponseReader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Formats/AltiResponseReader */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Formats/AltiResponseReader.js\");\n/* harmony import */ var _model_AltiResponse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./model/AltiResponse */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/AltiResponse.js\");\n/* harmony import */ var _model_Elevation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./model/Elevation */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/Elevation.js\");\n/**\n * Factory pour générer une reponse JSON à partir d'un XML ou d'un JSON\n * (Factory)\n *\n * @module AltiResponseFactory\n * @private\n * @alias Gp.Services.Alti.Response.AltiResponseFactory\n */\n\n\n\n\n\n\n\n\nvar AltiResponseFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Alti\n     *\n     * @example\n     *   var options = {\n     *      response :\n     *      outputFormat :\n     *      rawResponse :\n     *      scope :\n     *      onSuccess :\n     *      onError :\n     *   };\n     *\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"AltiResponseFactory\");\n        logger.trace([\"AltiResponseFactory::build()\"]);\n\n        var data = null;\n\n        if (options.response) {\n            if (options.rawResponse) {\n                logger.trace(\"analyze response : raw\");\n                data = options.response;\n            } else {\n                switch (options.outputFormat) {\n                    case \"xml\":\n                        logger.trace(\"analyze response : xml\");\n\n                        try {\n                            var p = new _Formats_XML__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                                reader : _Formats_AltiResponseReader__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n                            });\n\n                            if (typeof options.response === \"string\") {\n                                p.setXMLString(options.response);\n                            } else {\n                                p.setXMLDoc(options.response);\n                            }\n\n                            data = p.parse();\n\n                            if (!data) {\n                                throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION_2\"));\n                            }\n                        } catch (e) {\n                            var message = e.message;\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                                message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", message),\n                                status : 200,\n                                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n                            }));\n                            return;\n                        }\n\n                        break;\n\n                    case \"json\":\n                        logger.trace(\"analyze response : json\");\n                        logger.trace(\"analyze response : \", typeof options.response);\n\n                        var JSONResponse;\n                        if (typeof options.response === \"string\") {\n                            JSONResponse = JSON.parse(options.response);\n                        } else {\n                            JSONResponse = options.response;\n                        }\n\n                        // le service renvoie t il une erreur ?\n                        if (JSONResponse.error) {\n                            // ex. {\"error\": {\"code\": \"BAD_PARAMETER\",\"description\": \"The values () cannot be parsed as a valid longitude (double value such as -180 < lat < 180).\"}}\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                                message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", JSONResponse.error.description),\n                                status : 200,\n                                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n                            }));\n                            return;\n                        }\n\n                        // analyse de la reponse\n                        if (JSONResponse) {\n                            var elevations = JSONResponse.elevations;\n                            var altiResponse = new _model_AltiResponse__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n                            var elevation;\n                            if (Array.isArray(elevations) && elevations.length) {\n                                for (var i = 0; i < elevations.length; i++) {\n                                    elevation = new _model_Elevation__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\n                                    if (typeof elevations[i] === \"object\") {\n                                        // elevations[i] est un objet elevation\n                                        if (elevations[i].lon) {\n                                            elevation.lon = elevations[i].lon;\n                                        }\n                                        if (elevations[i].lat) {\n                                            elevation.lat = elevations[i].lat;\n                                        }\n                                        if (elevations[i].z) {\n                                            elevation.z = elevations[i].z;\n                                        }\n                                        if (elevations[i].acc) {\n                                            elevation.acc = elevations[i].acc;\n                                        }\n                                    } else if (typeof elevations[i] === \"number\") {\n                                        // elevations[i] est un nombre, dans le cas de zonly=true notamment\n                                        elevation.z = elevations[i];\n                                    }\n\n                                    if (Array.isArray(altiResponse.elevations)) {\n                                        altiResponse.elevations.push(elevation);\n                                    }\n                                }\n                            }\n                            data = altiResponse;\n                        }\n\n                        if (!data) {\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                                message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE_2\"),\n                                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_UNKERR,\n                                status : -1\n                            }));\n                            return;\n                        }\n                        break;\n\n                    default:\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                            message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_FORMAT_2\"),\n                            type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_UNKERR,\n                            status : -1\n                        }));\n                        return;\n                }\n\n                // Si la réponse contenait une exception renvoyée par le service\n                if (data.exceptionReport) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", data.exceptionReport),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR,\n                        status : 200\n                    }));\n                    return;\n                } else if (data.error) {\n                    var errorMess = data.error.description;\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", errorMess),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR,\n                        status : 200\n                    }));\n                    return;\n                }\n            }\n        } else {\n            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n            return;\n        }\n\n        options.onSuccess.call(options.scope, data);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiResponseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXNwb25zZS9BbHRpUmVzcG9uc2VGYWN0b3J5LmpzP2QwZWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDQTtBQUNRO0FBQ3JCO0FBQ3dCO0FBQ2Y7QUFDTjs7QUFFMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhEQUFNO0FBQzNCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxvREFBRztBQUMzQyx5Q0FBeUMsbUVBQWtCO0FBQzNELDZCQUE2Qjs7QUFFN0I7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsZ0RBQWdELGdFQUFJO0FBQ3BEO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0Esb0VBQW9FLGdFQUFZO0FBQ2hGLDBDQUEwQyxnRUFBSTtBQUM5QztBQUNBLHVDQUF1QyxnRUFBWTtBQUNuRCw2QkFBNkI7QUFDN0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyxVQUFVO0FBQzlDLG9FQUFvRSxnRUFBWTtBQUNoRiwwQ0FBMEMsZ0VBQUk7QUFDOUM7QUFDQSx1Q0FBdUMsZ0VBQVk7QUFDbkQsNkJBQTZCO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDJEQUFZO0FBQy9EO0FBQ0E7QUFDQSwrQ0FBK0MsdUJBQXVCO0FBQ3RFLG9EQUFvRCx3REFBUzs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvRUFBb0UsZ0VBQVk7QUFDaEYsMENBQTBDLGdFQUFJO0FBQzlDLHVDQUF1QyxnRUFBWTtBQUNuRDtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnRUFBZ0UsZ0VBQVk7QUFDNUUsc0NBQXNDLGdFQUFJO0FBQzFDLG1DQUFtQyxnRUFBWTtBQUMvQztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0REFBNEQsZ0VBQVk7QUFDeEUsa0NBQWtDLGdFQUFJO0FBQ3RDLCtCQUErQixnRUFBWTtBQUMzQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDREQUE0RCxnRUFBWTtBQUN4RSxrQ0FBa0MsZ0VBQUk7QUFDdEMsK0JBQStCLGdFQUFZO0FBQzNDO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxvREFBb0QsZ0VBQVksQ0FBQyxnRUFBSTtBQUNyRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSxrRkFBbUIsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXNwb25zZS9BbHRpUmVzcG9uc2VGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWN0b3J5IHBvdXIgZ8OpbsOpcmVyIHVuZSByZXBvbnNlIEpTT04gw6AgcGFydGlyIGQndW4gWE1MIG91IGQndW4gSlNPTlxuICogKEZhY3RvcnkpXG4gKlxuICogQG1vZHVsZSBBbHRpUmVzcG9uc2VGYWN0b3J5XG4gKiBAcHJpdmF0ZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkFsdGkuUmVzcG9uc2UuQWx0aVJlc3BvbnNlRmFjdG9yeVxuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBNUmVzIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBYTUwgZnJvbSBcIi4uLy4uLy4uL0Zvcm1hdHMvWE1MXCI7XG5pbXBvcnQgQWx0aVJlc3BvbnNlUmVhZGVyIGZyb20gXCIuLi9Gb3JtYXRzL0FsdGlSZXNwb25zZVJlYWRlclwiO1xuaW1wb3J0IEFsdGlSZXNwb25zZSBmcm9tIFwiLi9tb2RlbC9BbHRpUmVzcG9uc2VcIjtcbmltcG9ydCBFbGV2YXRpb24gZnJvbSBcIi4vbW9kZWwvRWxldmF0aW9uXCI7XG5cbnZhciBBbHRpUmVzcG9uc2VGYWN0b3J5ID0ge1xuXG4gICAgLyoqXG4gICAgICogaW50ZXJmYWNlIHVuaXF1ZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBidWlsZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZGVmaW5pZXMgZGFucyBsZSBjb21wb3NhbnQgQWx0aVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgICAgcmVzcG9uc2UgOlxuICAgICAqICAgICAgb3V0cHV0Rm9ybWF0IDpcbiAgICAgKiAgICAgIHJhd1Jlc3BvbnNlIDpcbiAgICAgKiAgICAgIHNjb3BlIDpcbiAgICAgKiAgICAgIG9uU3VjY2VzcyA6XG4gICAgICogICAgICBvbkVycm9yIDpcbiAgICAgKiAgIH07XG4gICAgICpcbiAgICAgKi9cbiAgICBidWlsZCA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGxvZ2dlclxuICAgICAgICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIkFsdGlSZXNwb25zZUZhY3RvcnlcIik7XG4gICAgICAgIGxvZ2dlci50cmFjZShbXCJBbHRpUmVzcG9uc2VGYWN0b3J5OjpidWlsZCgpXCJdKTtcblxuICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJhd1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiYW5hbHl6ZSByZXNwb25zZSA6IHJhd1wiKTtcbiAgICAgICAgICAgICAgICBkYXRhID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcHRpb25zLm91dHB1dEZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieG1sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UoXCJhbmFseXplIHJlc3BvbnNlIDogeG1sXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IFhNTCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA6IEFsdGlSZXNwb25zZVJlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MU3RyaW5nKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MRG9jKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBwLnBhcnNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXzJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA6IE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXCIsIG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiBFcnJvclNlcnZpY2UuVFlQRV9TUlZFUlJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiYW5hbHl6ZSByZXNwb25zZSA6IGpzb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UoXCJhbmFseXplIHJlc3BvbnNlIDogXCIsIHR5cGVvZiBvcHRpb25zLnJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEpTT05SZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT05SZXNwb25zZSA9IEpTT04ucGFyc2Uob3B0aW9ucy5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT05SZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlIHNlcnZpY2UgcmVudm9pZSB0IGlsIHVuZSBlcnJldXIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEpTT05SZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4LiB7XCJlcnJvclwiOiB7XCJjb2RlXCI6IFwiQkFEX1BBUkFNRVRFUlwiLFwiZGVzY3JpcHRpb25cIjogXCJUaGUgdmFsdWVzICgpIGNhbm5vdCBiZSBwYXJzZWQgYXMgYSB2YWxpZCBsb25naXR1ZGUgKGRvdWJsZSB2YWx1ZSBzdWNoIGFzIC0xODAgPCBsYXQgPCAxODApLlwifX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA6IE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXCIsIEpTT05SZXNwb25zZS5lcnJvci5kZXNjcmlwdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuYWx5c2UgZGUgbGEgcmVwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEpTT05SZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGV2YXRpb25zID0gSlNPTlJlc3BvbnNlLmVsZXZhdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdGlSZXNwb25zZSA9IG5ldyBBbHRpUmVzcG9uc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxldmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZXZhdGlvbnMpICYmIGVsZXZhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxldmF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxldmF0aW9uID0gbmV3IEVsZXZhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZXZhdGlvbnNbaV0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGV2YXRpb25zW2ldIGVzdCB1biBvYmpldCBlbGV2YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxldmF0aW9uc1tpXS5sb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxldmF0aW9uLmxvbiA9IGVsZXZhdGlvbnNbaV0ubG9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxldmF0aW9uc1tpXS5sYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxldmF0aW9uLmxhdCA9IGVsZXZhdGlvbnNbaV0ubGF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxldmF0aW9uc1tpXS56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZXZhdGlvbi56ID0gZWxldmF0aW9uc1tpXS56O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxldmF0aW9uc1tpXS5hY2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxldmF0aW9uLmFjYyA9IGVsZXZhdGlvbnNbaV0uYWNjO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZXZhdGlvbnNbaV0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGV2YXRpb25zW2ldIGVzdCB1biBub21icmUsIGRhbnMgbGUgY2FzIGRlIHpvbmx5PXRydWUgbm90YW1tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxldmF0aW9uLnogPSBlbGV2YXRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhbHRpUmVzcG9uc2UuZWxldmF0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRpUmVzcG9uc2UuZWxldmF0aW9ucy5wdXNoKGVsZXZhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGFsdGlSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0FOQUxZU0VfMlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1VOS0VSUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0ZPUk1BVF8yXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiBFcnJvclNlcnZpY2UuVFlQRV9VTktFUlIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogLTFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTaSBsYSByw6lwb25zZSBjb250ZW5haXQgdW5lIGV4Y2VwdGlvbiByZW52b3nDqWUgcGFyIGxlIHNlcnZpY2VcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5leGNlcHRpb25SZXBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FWENFUFRJT05cIiwgZGF0YS5leGNlcHRpb25SZXBvcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzcyA9IGRhdGEuZXJyb3IuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA6IE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXCIsIGVycm9yTWVzcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogRXJyb3JTZXJ2aWNlLlRZUEVfU1JWRVJSLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogMjAwXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FTVBUWVwiKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5vblN1Y2Nlc3MuY2FsbChvcHRpb25zLnNjb3BlLCBkYXRhKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBbHRpUmVzcG9uc2VGYWN0b3J5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Response/AltiResponseFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/AltiResponse.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/AltiResponse.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Response object for {@link module:Services~getAltitude Gp.Services.getAltitude ()} invocation when successful. Received as the argument of onSuccess callback function.\n *\n * @property {Array.<Gp.Services.Alti.Elevation>} elevations - Elevations array.\n *\n * @namespace\n * @alias Gp.Services.AltiResponse\n */\nfunction AltiResponse () {\n    if (!(this instanceof AltiResponse)) {\n        throw new TypeError(\"AltiResponse constructor cannot be called as a function.\");\n    }\n\n    this.elevations = [];\n}\n\nAltiResponse.prototype = {\n\n    constructor : AltiResponse\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AltiResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXNwb25zZS9tb2RlbC9BbHRpUmVzcG9uc2UuanM/NmY2MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0Esd0JBQXdCLDZEQUE2RDtBQUNyRjtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFZSwyRUFBWSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BbHRpL1Jlc3BvbnNlL21vZGVsL0FsdGlSZXNwb25zZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVzcG9uc2Ugb2JqZWN0IGZvciB7QGxpbmsgbW9kdWxlOlNlcnZpY2VzfmdldEFsdGl0dWRlIEdwLlNlcnZpY2VzLmdldEFsdGl0dWRlICgpfSBpbnZvY2F0aW9uIHdoZW4gc3VjY2Vzc2Z1bC4gUmVjZWl2ZWQgYXMgdGhlIGFyZ3VtZW50IG9mIG9uU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvbi5cbiAqXG4gKiBAcHJvcGVydHkge0FycmF5LjxHcC5TZXJ2aWNlcy5BbHRpLkVsZXZhdGlvbj59IGVsZXZhdGlvbnMgLSBFbGV2YXRpb25zIGFycmF5LlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5BbHRpUmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gQWx0aVJlc3BvbnNlICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWx0aVJlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWx0aVJlc3BvbnNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5lbGV2YXRpb25zID0gW107XG59XG5cbkFsdGlSZXNwb25zZS5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IEFsdGlSZXNwb25zZVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBbHRpUmVzcG9uc2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/AltiResponse.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/Elevation.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/Elevation.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Single elevation object returned by underlying web service. Contains at least, one elevation (z). May also contain point coordinates and elevation accuracy if \"zonly\" parameter wasn't set to true.\n *\n * @property {Float} lat - Point latitude. (only if zonly=false)\n * @property {Float} lon - Point longitude. (only if zonly=false)\n * @property {Float} z - Point elevation.\n * @property {Float} acc - Accuracy of elevation for this point. (only if zonly=false)\n *\n * @namespace\n * @alias Gp.Services.Alti.Elevation\n */\nfunction Elevation () {\n    if (!(this instanceof Elevation)) {\n        throw new TypeError(\"Elevation constructor cannot be called as a function.\");\n    }\n\n    this.z = null;\n}\n\nElevation.prototype = {\n\n    constructor : Elevation\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Elevation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXNwb25zZS9tb2RlbC9FbGV2YXRpb24uanM/YzY2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQixjQUFjLE1BQU07QUFDcEIsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRWUsd0VBQVMsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQWx0aS9SZXNwb25zZS9tb2RlbC9FbGV2YXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogU2luZ2xlIGVsZXZhdGlvbiBvYmplY3QgcmV0dXJuZWQgYnkgdW5kZXJseWluZyB3ZWIgc2VydmljZS4gQ29udGFpbnMgYXQgbGVhc3QsIG9uZSBlbGV2YXRpb24gKHopLiBNYXkgYWxzbyBjb250YWluIHBvaW50IGNvb3JkaW5hdGVzIGFuZCBlbGV2YXRpb24gYWNjdXJhY3kgaWYgXCJ6b25seVwiIHBhcmFtZXRlciB3YXNuJ3Qgc2V0IHRvIHRydWUuXG4gKlxuICogQHByb3BlcnR5IHtGbG9hdH0gbGF0IC0gUG9pbnQgbGF0aXR1ZGUuIChvbmx5IGlmIHpvbmx5PWZhbHNlKVxuICogQHByb3BlcnR5IHtGbG9hdH0gbG9uIC0gUG9pbnQgbG9uZ2l0dWRlLiAob25seSBpZiB6b25seT1mYWxzZSlcbiAqIEBwcm9wZXJ0eSB7RmxvYXR9IHogLSBQb2ludCBlbGV2YXRpb24uXG4gKiBAcHJvcGVydHkge0Zsb2F0fSBhY2MgLSBBY2N1cmFjeSBvZiBlbGV2YXRpb24gZm9yIHRoaXMgcG9pbnQuIChvbmx5IGlmIHpvbmx5PWZhbHNlKVxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5BbHRpLkVsZXZhdGlvblxuICovXG5mdW5jdGlvbiBFbGV2YXRpb24gKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBFbGV2YXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFbGV2YXRpb24gY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnogPSBudWxsO1xufVxuXG5FbGV2YXRpb24ucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBFbGV2YXRpb25cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgRWxldmF0aW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Alti/Response/model/Elevation.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoComplete/AutoComplete.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoComplete/AutoComplete.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CommonService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CommonService */ \"./node_modules/geoportal-access-lib/src/Services/CommonService.js\");\n/* harmony import */ var _Response_AutoCompleteResponseFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Response/AutoCompleteResponseFactory */ \"./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/AutoCompleteResponseFactory.js\");\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Utils/Helper */ \"./node_modules/geoportal-access-lib/src/Utils/Helper.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n\n\n\n\n\n\n\n/**\n * @classdesc\n * Appel du service d'autocomplétion du Géoportail :\n * envoi de la requête construite selon les paramètres en options,\n * éventuellement parsing et analyse  de la réponse,\n * retour d'une réponse en paramètre de la fonction onSuccess.\n * @constructor\n * @extends {Gp.Services.CommonService}\n * @alias Gp.Services.AutoComplete\n *\n * @param {Object} options - options spécifiques au service (+ les options heritées)\n *\n * @param {String} options.text - La chaîne de caractère à compléter.\n *      Cette chaîne n'est pas \"URL encodée\".\n *      C'est l'API qui s'occupe de l'encoder pour l'inclure dans la requête.\n *\n * @param {Array.<String>} [options.filterOptions.type = \"StreetAddress\"] - Type de l'objet recherché.\n *      Le service d'autocomplétion du Géoportail permet de rechercher des toponymes 'PostionOfInterest' et/ou des adresses postales 'StreetAddress'.\n *      D'autres types pourront être rajoutés selon l'évolution du service.\n *      Par défaut, type = ['StreetAddress'].\n *\n * @param {Array.<String>} [options.filterOptions.territory] - Limitation de la zone de recherche de localisants.\n *      Le service d'autocomplétion du Géoportail permet de limiter la recherche à la métropole et la Corse : options.filterOptions.territory = ['METROPOLE'],\n *      DOMS TOMS : options.filterOptions.territory = ['DOMTOM'], ou à une liste de départements : options.filterOptions.territory = ['31', '34']\n *      Pas de valeur par défaut.\n *      La valeur par défaut est donc celle du service.\n *      Le service d'autocomplétion du Géoportail renvoie toutes les informations quand aucun territoire n'est spécifié.\n *\n * @param {Number} [options.maximumResponses = 10] - Nombre de réponses maximal que l'on souhaite recevoir.\n *      Pas de valeur par défaut.\n *      La valeur par défaut sera donc celle du service : 10.\n *\n * @example\n *   var options = {\n *      // options communes aux services\n *      apiKey : null,\n *      serverUrl : 'http://localhost/service/',\n *      protocol : 'JSONP', // JSONP|XHR\n *      proxyURL : null,\n *      httpMethod : 'GET', // GET|POST\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      // spécifique au service\n *      text : \"\",\n *      filterOptions : {\n *          type : [\"StreetAddress\"],\n *          territory : ['METROPOLE', 'DOMTOM', '31']\n *      },\n *      maximumResponses : 10\n *   };\n * @private\n */\nfunction AutoComplete (options) {\n    if (!(this instanceof AutoComplete)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\", \"AutoComplete\"));\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     * FIXME instance ou classe ?\n     */\n    this.CLASSNAME = \"AutoComplete\";\n\n    // appel du constructeur par heritage\n    _CommonService__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLogger(\"Gp.Services.AutoComplete\");\n    this.logger.trace(\"[Constructeur AutoComplete (options)]\");\n\n    if (!options.text) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMessage(\"PARAM_MISSING\", \"text\"));\n    }\n\n    // ajout des options spécifiques au service\n    this.options.text = options.text;\n\n    // on definit des filtres par defaut\n    if (!options.filterOptions || typeof options.filterOptions !== \"object\") {\n        this.options.filterOptions = options.filterOptions = {\n            territory : [],\n            type : [\"StreetAddress\"]\n        };\n    }\n\n    // FIXME ECMAScript 5 support (valable pour un objet uniquement !)\n    // ceci permet de tester le cas où : object = {}\n    if (Object.keys(options.filterOptions).length === 0) {\n        this.options.filterOptions = {\n            territory : [],\n            type : [\"StreetAddress\"]\n        };\n    }\n\n    this.options.filterOptions.type = options.filterOptions.type || [\"StreetAddress\"];\n    this.options.filterOptions.territory = options.filterOptions.territory || [];\n    this.options.maximumResponses = options.maximumResponses || 10;\n\n    // INFO\n    // le service ne repond pas en mode POST (405 Method Not Allowed)\n    if (this.options.protocol === \"XHR\" && this.options.httpMethod === \"POST\") {\n        this.logger.warn(\"Le service ne gére pas le mode d'interrogation en POST, on bascule sur du GET !\");\n        this.options.httpMethod = \"GET\"; // on surcharge !\n    }\n\n    // attributs d'instances\n\n    /**\n     * Format forcé de la réponse du service : \"json\"\n     * sauf si l'on souhaite une reponse brute (options.rawResponse)\n     */\n    this.options.outputFormat = (this.options.rawResponse) ? \"\" : \"json\";\n}\n\n/**\n * @lends module:AutoComplete#\n */\n\nAutoComplete.prototype = Object.create(_CommonService__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/*\n * Constructeur (alias)\n */\nAutoComplete.prototype.constructor = AutoComplete;\n\n/**\n * (overwrite)\n * Création de la requête\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nAutoComplete.prototype.buildRequest = function (error, success) {\n    // ex.\n    // http://wxs.ign.fr/CLEF/ols/apis/completion?\n    // text=Brie-Comt&\n    // type=StreetAddress,PositionOfInterest&\n    // territory=METROPOLE&\n    // maximumResponses=10\n\n    // traitement des param KPV sous forme de tableau\n    var territories = \"\";\n    if (this.options.filterOptions.territory) {\n        territories = this.options.filterOptions.territory.join(\";\");\n    }\n\n    var types = \"\";\n    if (this.options.filterOptions.type) {\n        types = this.options.filterOptions.type.join(\",\");\n    }\n\n    // normalisation de la requete avec param KPV\n    this.request = _Utils_Helper__WEBPACK_IMPORTED_MODULE_4__[\"default\"].normalyzeParameters({\n        text : encodeURIComponent(this.options.text),\n        type : types,\n        terr : territories,\n        maximumResponses : this.options.maximumResponses\n    });\n\n    (!this.request)\n        ? error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_5__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMessage(\"SERVICE_REQUEST_BUILD\")))\n        : success.call(this, this.request);\n};\n\n/**\n * (overwrite)\n * Analyse de la reponse\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback de succès de l'analyse de la réponse\n */\nAutoComplete.prototype.analyzeResponse = function (error, success) {\n    if (this.response) {\n        var options = {\n            response : this.response,\n            rawResponse : this.options.rawResponse,\n            onSuccess : success,\n            onError : error,\n            scope : this\n        };\n\n        _Response_AutoCompleteResponseFactory__WEBPACK_IMPORTED_MODULE_1__[\"default\"].build(options);\n    } else {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_5__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoComplete);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbXBsZXRlL0F1dG9Db21wbGV0ZS5qcz84MmRjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTZDO0FBQ29DO0FBQ2hDO0FBQ0Y7QUFDUDtBQUNpQjs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFFO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLHNEQUFhOztBQUVqQixrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQSx3QkFBd0IsZ0VBQUU7QUFDMUI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4Qzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHVDQUF1QyxzREFBYTtBQUNwRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIscURBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsK0JBQStCLGdFQUFZLENBQUMsZ0VBQUU7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSw2RUFBMkI7QUFDbkMsS0FBSztBQUNMLDZCQUE2QixnRUFBWSxDQUFDLGdFQUFFO0FBQzVDO0FBQ0E7O0FBRWUsMkVBQVksRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbXBsZXRlL0F1dG9Db21wbGV0ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gXCIuLi9Db21tb25TZXJ2aWNlXCI7XG5pbXBvcnQgQXV0b0NvbXBsZXRlUmVzcG9uc2VGYWN0b3J5IGZyb20gXCIuL1Jlc3BvbnNlL0F1dG9Db21wbGV0ZVJlc3BvbnNlRmFjdG9yeVwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgTVIgZnJvbSBcIi4uLy4uL1V0aWxzL01lc3NhZ2VzUmVzb3VyY2VzXCI7XG5pbXBvcnQgSGVscGVyIGZyb20gXCIuLi8uLi9VdGlscy9IZWxwZXJcIjtcbmltcG9ydCBFcnJvclNlcnZpY2UgZnJvbSBcIi4uLy4uL0V4Y2VwdGlvbnMvRXJyb3JTZXJ2aWNlXCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQXBwZWwgZHUgc2VydmljZSBkJ2F1dG9jb21wbMOpdGlvbiBkdSBHw6lvcG9ydGFpbCA6XG4gKiBlbnZvaSBkZSBsYSByZXF1w6p0ZSBjb25zdHJ1aXRlIHNlbG9uIGxlcyBwYXJhbcOodHJlcyBlbiBvcHRpb25zLFxuICogw6l2ZW50dWVsbGVtZW50IHBhcnNpbmcgZXQgYW5hbHlzZSAgZGUgbGEgcsOpcG9uc2UsXG4gKiByZXRvdXIgZCd1bmUgcsOpcG9uc2UgZW4gcGFyYW3DqHRyZSBkZSBsYSBmb25jdGlvbiBvblN1Y2Nlc3MuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtHcC5TZXJ2aWNlcy5Db21tb25TZXJ2aWNlfVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkF1dG9Db21wbGV0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZSAoKyBsZXMgb3B0aW9ucyBoZXJpdMOpZXMpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMudGV4dCAtIExhIGNoYcOubmUgZGUgY2FyYWN0w6hyZSDDoCBjb21wbMOpdGVyLlxuICogICAgICBDZXR0ZSBjaGHDrm5lIG4nZXN0IHBhcyBcIlVSTCBlbmNvZMOpZVwiLlxuICogICAgICBDJ2VzdCBsJ0FQSSBxdWkgcydvY2N1cGUgZGUgbCdlbmNvZGVyIHBvdXIgbCdpbmNsdXJlIGRhbnMgbGEgcmVxdcOqdGUuXG4gKlxuICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gW29wdGlvbnMuZmlsdGVyT3B0aW9ucy50eXBlID0gXCJTdHJlZXRBZGRyZXNzXCJdIC0gVHlwZSBkZSBsJ29iamV0IHJlY2hlcmNow6kuXG4gKiAgICAgIExlIHNlcnZpY2UgZCdhdXRvY29tcGzDqXRpb24gZHUgR8Opb3BvcnRhaWwgcGVybWV0IGRlIHJlY2hlcmNoZXIgZGVzIHRvcG9ueW1lcyAnUG9zdGlvbk9mSW50ZXJlc3QnIGV0L291IGRlcyBhZHJlc3NlcyBwb3N0YWxlcyAnU3RyZWV0QWRkcmVzcycuXG4gKiAgICAgIEQnYXV0cmVzIHR5cGVzIHBvdXJyb250IMOqdHJlIHJham91dMOpcyBzZWxvbiBsJ8Opdm9sdXRpb24gZHUgc2VydmljZS5cbiAqICAgICAgUGFyIGTDqWZhdXQsIHR5cGUgPSBbJ1N0cmVldEFkZHJlc3MnXS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBbb3B0aW9ucy5maWx0ZXJPcHRpb25zLnRlcnJpdG9yeV0gLSBMaW1pdGF0aW9uIGRlIGxhIHpvbmUgZGUgcmVjaGVyY2hlIGRlIGxvY2FsaXNhbnRzLlxuICogICAgICBMZSBzZXJ2aWNlIGQnYXV0b2NvbXBsw6l0aW9uIGR1IEfDqW9wb3J0YWlsIHBlcm1ldCBkZSBsaW1pdGVyIGxhIHJlY2hlcmNoZSDDoCBsYSBtw6l0cm9wb2xlIGV0IGxhIENvcnNlIDogb3B0aW9ucy5maWx0ZXJPcHRpb25zLnRlcnJpdG9yeSA9IFsnTUVUUk9QT0xFJ10sXG4gKiAgICAgIERPTVMgVE9NUyA6IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy50ZXJyaXRvcnkgPSBbJ0RPTVRPTSddLCBvdSDDoCB1bmUgbGlzdGUgZGUgZMOpcGFydGVtZW50cyA6IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy50ZXJyaXRvcnkgPSBbJzMxJywgJzM0J11cbiAqICAgICAgUGFzIGRlIHZhbGV1ciBwYXIgZMOpZmF1dC5cbiAqICAgICAgTGEgdmFsZXVyIHBhciBkw6lmYXV0IGVzdCBkb25jIGNlbGxlIGR1IHNlcnZpY2UuXG4gKiAgICAgIExlIHNlcnZpY2UgZCdhdXRvY29tcGzDqXRpb24gZHUgR8Opb3BvcnRhaWwgcmVudm9pZSB0b3V0ZXMgbGVzIGluZm9ybWF0aW9ucyBxdWFuZCBhdWN1biB0ZXJyaXRvaXJlIG4nZXN0IHNww6ljaWZpw6kuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heGltdW1SZXNwb25zZXMgPSAxMF0gLSBOb21icmUgZGUgcsOpcG9uc2VzIG1heGltYWwgcXVlIGwnb24gc291aGFpdGUgcmVjZXZvaXIuXG4gKiAgICAgIFBhcyBkZSB2YWxldXIgcGFyIGTDqWZhdXQuXG4gKiAgICAgIExhIHZhbGV1ciBwYXIgZMOpZmF1dCBzZXJhIGRvbmMgY2VsbGUgZHUgc2VydmljZSA6IDEwLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgIHZhciBvcHRpb25zID0ge1xuICogICAgICAvLyBvcHRpb25zIGNvbW11bmVzIGF1eCBzZXJ2aWNlc1xuICogICAgICBhcGlLZXkgOiBudWxsLFxuICogICAgICBzZXJ2ZXJVcmwgOiAnaHR0cDovL2xvY2FsaG9zdC9zZXJ2aWNlLycsXG4gKiAgICAgIHByb3RvY29sIDogJ0pTT05QJywgLy8gSlNPTlB8WEhSXG4gKiAgICAgIHByb3h5VVJMIDogbnVsbCxcbiAqICAgICAgaHR0cE1ldGhvZCA6ICdHRVQnLCAvLyBHRVR8UE9TVFxuICogICAgICB0aW1lT3V0IDogMTAwMDAsIC8vIG1zXG4gKiAgICAgIHJhd1Jlc3BvbnNlIDogZmFsc2UsIC8vIHRydWV8ZmFsc2VcbiAqICAgICAgc2NvcGUgOiBudWxsLCAvLyB0aGlzXG4gKiAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uIChyZXNwb25zZSkge30sXG4gKiAgICAgIG9uRmFpbHVyZSA6IGZ1bmN0aW9uIChlcnJvcikge30sXG4gKiAgICAgIC8vIHNww6ljaWZpcXVlIGF1IHNlcnZpY2VcbiAqICAgICAgdGV4dCA6IFwiXCIsXG4gKiAgICAgIGZpbHRlck9wdGlvbnMgOiB7XG4gKiAgICAgICAgICB0eXBlIDogW1wiU3RyZWV0QWRkcmVzc1wiXSxcbiAqICAgICAgICAgIHRlcnJpdG9yeSA6IFsnTUVUUk9QT0xFJywgJ0RPTVRPTScsICczMSddXG4gKiAgICAgIH0sXG4gKiAgICAgIG1heGltdW1SZXNwb25zZXMgOiAxMFxuICogICB9O1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gQXV0b0NvbXBsZXRlIChvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEF1dG9Db21wbGV0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihNUi5nZXRNZXNzYWdlKFwiQ0xBU1NfQ09OU1RSVUNUT1JcIiwgXCJBdXRvQ29tcGxldGVcIikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5vbSBkZSBsYSBjbGFzc2UgKGhlcml0YWdlKVxuICAgICAqIEZJWE1FIGluc3RhbmNlIG91IGNsYXNzZSA/XG4gICAgICovXG4gICAgdGhpcy5DTEFTU05BTUUgPSBcIkF1dG9Db21wbGV0ZVwiO1xuXG4gICAgLy8gYXBwZWwgZHUgY29uc3RydWN0ZXVyIHBhciBoZXJpdGFnZVxuICAgIENvbW1vblNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIkdwLlNlcnZpY2VzLkF1dG9Db21wbGV0ZVwiKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgQXV0b0NvbXBsZXRlIChvcHRpb25zKV1cIik7XG5cbiAgICBpZiAoIW9wdGlvbnMudGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVIuZ2V0TWVzc2FnZShcIlBBUkFNX01JU1NJTkdcIiwgXCJ0ZXh0XCIpKTtcbiAgICB9XG5cbiAgICAvLyBham91dCBkZXMgb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZVxuICAgIHRoaXMub3B0aW9ucy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuXG4gICAgLy8gb24gZGVmaW5pdCBkZXMgZmlsdHJlcyBwYXIgZGVmYXV0XG4gICAgaWYgKCFvcHRpb25zLmZpbHRlck9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMuZmlsdGVyT3B0aW9ucyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucyA9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRlcnJpdG9yeSA6IFtdLFxuICAgICAgICAgICAgdHlwZSA6IFtcIlN0cmVldEFkZHJlc3NcIl1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGSVhNRSBFQ01BU2NyaXB0IDUgc3VwcG9ydCAodmFsYWJsZSBwb3VyIHVuIG9iamV0IHVuaXF1ZW1lbnQgISlcbiAgICAvLyBjZWNpIHBlcm1ldCBkZSB0ZXN0ZXIgbGUgY2FzIG/DuSA6IG9iamVjdCA9IHt9XG4gICAgaWYgKE9iamVjdC5rZXlzKG9wdGlvbnMuZmlsdGVyT3B0aW9ucykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgdGVycml0b3J5IDogW10sXG4gICAgICAgICAgICB0eXBlIDogW1wiU3RyZWV0QWRkcmVzc1wiXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLnR5cGUgPSBvcHRpb25zLmZpbHRlck9wdGlvbnMudHlwZSB8fCBbXCJTdHJlZXRBZGRyZXNzXCJdO1xuICAgIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLnRlcnJpdG9yeSA9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy50ZXJyaXRvcnkgfHwgW107XG4gICAgdGhpcy5vcHRpb25zLm1heGltdW1SZXNwb25zZXMgPSBvcHRpb25zLm1heGltdW1SZXNwb25zZXMgfHwgMTA7XG5cbiAgICAvLyBJTkZPXG4gICAgLy8gbGUgc2VydmljZSBuZSByZXBvbmQgcGFzIGVuIG1vZGUgUE9TVCAoNDA1IE1ldGhvZCBOb3QgQWxsb3dlZClcbiAgICBpZiAodGhpcy5vcHRpb25zLnByb3RvY29sID09PSBcIlhIUlwiICYmIHRoaXMub3B0aW9ucy5odHRwTWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTGUgc2VydmljZSBuZSBnw6lyZSBwYXMgbGUgbW9kZSBkJ2ludGVycm9nYXRpb24gZW4gUE9TVCwgb24gYmFzY3VsZSBzdXIgZHUgR0VUICFcIik7XG4gICAgICAgIHRoaXMub3B0aW9ucy5odHRwTWV0aG9kID0gXCJHRVRcIjsgLy8gb24gc3VyY2hhcmdlICFcbiAgICB9XG5cbiAgICAvLyBhdHRyaWJ1dHMgZCdpbnN0YW5jZXNcblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBmb3Jjw6kgZGUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSA6IFwianNvblwiXG4gICAgICogc2F1ZiBzaSBsJ29uIHNvdWhhaXRlIHVuZSByZXBvbnNlIGJydXRlIChvcHRpb25zLnJhd1Jlc3BvbnNlKVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucy5vdXRwdXRGb3JtYXQgPSAodGhpcy5vcHRpb25zLnJhd1Jlc3BvbnNlKSA/IFwiXCIgOiBcImpzb25cIjtcbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkF1dG9Db21wbGV0ZSNcbiAqL1xuXG5BdXRvQ29tcGxldGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21tb25TZXJ2aWNlLnByb3RvdHlwZSwge1xuICAgIC8vIHRvZG9cbiAgICAvLyBnZXR0ZXIvc2V0dGVyXG59KTtcblxuLypcbiAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gKi9cbkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBdXRvQ29tcGxldGU7XG5cbi8qKlxuICogKG92ZXJ3cml0ZSlcbiAqIENyw6lhdGlvbiBkZSBsYSByZXF1w6p0ZVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yICAgLSBjYWxsYmFjayBkZXMgZXJyZXVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyAtIGNhbGxiYWNrXG4gKi9cbkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuYnVpbGRSZXF1ZXN0ID0gZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgLy8gZXguXG4gICAgLy8gaHR0cDovL3d4cy5pZ24uZnIvQ0xFRi9vbHMvYXBpcy9jb21wbGV0aW9uP1xuICAgIC8vIHRleHQ9QnJpZS1Db210JlxuICAgIC8vIHR5cGU9U3RyZWV0QWRkcmVzcyxQb3NpdGlvbk9mSW50ZXJlc3QmXG4gICAgLy8gdGVycml0b3J5PU1FVFJPUE9MRSZcbiAgICAvLyBtYXhpbXVtUmVzcG9uc2VzPTEwXG5cbiAgICAvLyB0cmFpdGVtZW50IGRlcyBwYXJhbSBLUFYgc291cyBmb3JtZSBkZSB0YWJsZWF1XG4gICAgdmFyIHRlcnJpdG9yaWVzID0gXCJcIjtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMudGVycml0b3J5KSB7XG4gICAgICAgIHRlcnJpdG9yaWVzID0gdGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMudGVycml0b3J5LmpvaW4oXCI7XCIpO1xuICAgIH1cblxuICAgIHZhciB0eXBlcyA9IFwiXCI7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLnR5cGUpIHtcbiAgICAgICAgdHlwZXMgPSB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucy50eXBlLmpvaW4oXCIsXCIpO1xuICAgIH1cblxuICAgIC8vIG5vcm1hbGlzYXRpb24gZGUgbGEgcmVxdWV0ZSBhdmVjIHBhcmFtIEtQVlxuICAgIHRoaXMucmVxdWVzdCA9IEhlbHBlci5ub3JtYWx5emVQYXJhbWV0ZXJzKHtcbiAgICAgICAgdGV4dCA6IGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLm9wdGlvbnMudGV4dCksXG4gICAgICAgIHR5cGUgOiB0eXBlcyxcbiAgICAgICAgdGVyciA6IHRlcnJpdG9yaWVzLFxuICAgICAgICBtYXhpbXVtUmVzcG9uc2VzIDogdGhpcy5vcHRpb25zLm1heGltdW1SZXNwb25zZXNcbiAgICB9KTtcblxuICAgICghdGhpcy5yZXF1ZXN0KVxuICAgICAgICA/IGVycm9yLmNhbGwodGhpcywgbmV3IEVycm9yU2VydmljZShNUi5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVFVRVNUX0JVSUxEXCIpKSlcbiAgICAgICAgOiBzdWNjZXNzLmNhbGwodGhpcywgdGhpcy5yZXF1ZXN0KTtcbn07XG5cbi8qKlxuICogKG92ZXJ3cml0ZSlcbiAqIEFuYWx5c2UgZGUgbGEgcmVwb25zZVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yICAgLSBjYWxsYmFjayBkZXMgZXJyZXVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyAtIGNhbGxiYWNrIGRlIHN1Y2PDqHMgZGUgbCdhbmFseXNlIGRlIGxhIHLDqXBvbnNlXG4gKi9cbkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuYW5hbHl6ZVJlc3BvbnNlID0gZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByZXNwb25zZSA6IHRoaXMucmVzcG9uc2UsXG4gICAgICAgICAgICByYXdSZXNwb25zZSA6IHRoaXMub3B0aW9ucy5yYXdSZXNwb25zZSxcbiAgICAgICAgICAgIG9uU3VjY2VzcyA6IHN1Y2Nlc3MsXG4gICAgICAgICAgICBvbkVycm9yIDogZXJyb3IsXG4gICAgICAgICAgICBzY29wZSA6IHRoaXNcbiAgICAgICAgfTtcblxuICAgICAgICBBdXRvQ29tcGxldGVSZXNwb25zZUZhY3RvcnkuYnVpbGQob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IuY2FsbCh0aGlzLCBuZXcgRXJyb3JTZXJ2aWNlKE1SLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VNUFRZXCIpKSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQXV0b0NvbXBsZXRlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoComplete/AutoComplete.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/AutoCompleteResponseFactory.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/AutoCompleteResponseFactory.js ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _model_AutoCompleteResponse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./model/AutoCompleteResponse */ \"./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/AutoCompleteResponse.js\");\n/* harmony import */ var _model_SuggestedLocation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/SuggestedLocation */ \"./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/SuggestedLocation.js\");\n/**\n * Factory pour générer une reponse JSON à partir d'un XML ou d'un JSON\n * (Factory)\n *\n * @module AutoCompleteResponseFactory\n * @private\n * @alias Gp.Services.AutoComplete.Response.AutoCompleteResponseFactory\n */\n\n\n\n\n\n\nvar AutoCompleteResponseFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Alti\n     *\n     * @example\n     *   var options = {\n     *      response :\n     *      outputFormat :\n     *      rawResponse :\n     *      scope :\n     *      onSuccess :\n     *      onError :\n     *   };\n     *\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"AutoCompleteResponseFactory\");\n        logger.trace([\"AutoCompleteResponseFactory::build()\"]);\n\n        var data = null;\n\n        if (options.response) {\n            if (options.rawResponse) {\n                logger.trace(\"analyze response : raw\");\n                data = options.response;\n            } else {\n                var JSONResponse;\n                if (typeof options.response === \"string\") {\n                    JSONResponse = JSON.parse(options.response);\n                } else {\n                    JSONResponse = options.response;\n                }\n\n                // analyse de la réponse\n                if (JSONResponse) {\n                    // le service renvoie t il une erreur ?\n                    if (JSONResponse.error) {\n                        // ex. ?\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                            message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", JSONResponse.error.description),\n                            status : JSONResponse.error.code,\n                            type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n                        }));\n                        return;\n                    }\n\n                    // création de l'objet réponse\n                    data = new _model_AutoCompleteResponse__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n                    // boucle sur les résultats de l'autocomplétion\n                    if (JSONResponse.results && Array.isArray(JSONResponse.results)) {\n                        var suggestedLocation;\n\n                        for (var i = 0; i < JSONResponse.results.length; i++) {\n                            var result = JSONResponse.results[i];\n                            suggestedLocation = new _model_SuggestedLocation__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\n                            if (suggestedLocation) {\n                                if (result && result.country === \"StreetAddress\") {\n                                    suggestedLocation.street = result.street;\n                                    suggestedLocation.type = \"StreetAddress\";\n                                } else if (result && result.country === \"PositionOfInterest\") {\n                                    suggestedLocation.poi = result.street;\n                                    suggestedLocation.kind = result.kind;\n                                    suggestedLocation.type = \"PositionOfInterest\";\n                                }\n\n                                if (suggestedLocation.position) {\n                                    suggestedLocation.position.x = result.x;\n                                    suggestedLocation.position.y = result.y;\n                                }\n\n                                suggestedLocation.commune = result.city;\n                                suggestedLocation.fullText = result.fulltext;\n                                suggestedLocation.postalCode = result.zipcode;\n                                suggestedLocation.classification = result.classification;\n                            }\n                            // Ajout du résultat au tableau reverseGeocodedLocations de geocodedLocation\n                            data.suggestedLocations.push(suggestedLocation);\n                        }\n                    } else {\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_FORMAT_3\")));\n                        return;\n                    }\n\n                    if (!data.suggestedLocations.length) {\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_FORMAT_3\")));\n                        return;\n                    }\n                }\n\n                if (!data) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE_2\"),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_UNKERR,\n                        status : -1\n                    }));\n                    return;\n                }\n\n                // Si la réponse contenait une exception renvoyée par le service\n                if (data.exceptionReport) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", data.exceptionReport),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR,\n                        status : 200\n                    }));\n                    return;\n                }\n            }\n        } else {\n            // si la réponse (xmlString) est vide, on appelle le callback d'erreur\n            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n            return;\n        }\n\n        // si tout s'est bien passé, on appelle le callback de succès\n        options.onSuccess.call(options.scope, data);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoCompleteResponseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbXBsZXRlL1Jlc3BvbnNlL0F1dG9Db21wbGV0ZVJlc3BvbnNlRmFjdG9yeS5qcz8wYmIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDQTtBQUNRO0FBQ0k7QUFDTjs7QUFFMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhEQUFNO0FBQzNCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsZ0VBQVk7QUFDNUUsc0NBQXNDLGdFQUFJO0FBQzFDO0FBQ0EsbUNBQW1DLGdFQUFZO0FBQy9DLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLG1FQUFvQjs7QUFFbkQ7QUFDQTtBQUNBOztBQUVBLHVDQUF1QyxpQ0FBaUM7QUFDeEU7QUFDQSxvREFBb0QsZ0VBQWlCOztBQUVyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGdFQUFnRSxnRUFBWSxDQUFDLGdFQUFJO0FBQ2pGO0FBQ0E7O0FBRUE7QUFDQSxnRUFBZ0UsZ0VBQVksQ0FBQyxnRUFBSTtBQUNqRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0REFBNEQsZ0VBQVk7QUFDeEUsa0NBQWtDLGdFQUFJO0FBQ3RDLCtCQUErQixnRUFBWTtBQUMzQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0REFBNEQsZ0VBQVk7QUFDeEUsa0NBQWtDLGdFQUFJO0FBQ3RDLCtCQUErQixnRUFBWTtBQUMzQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvREFBb0QsZ0VBQVksQ0FBQyxnRUFBSTtBQUNyRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDBGQUEyQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BdXRvQ29tcGxldGUvUmVzcG9uc2UvQXV0b0NvbXBsZXRlUmVzcG9uc2VGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWN0b3J5IHBvdXIgZ8OpbsOpcmVyIHVuZSByZXBvbnNlIEpTT04gw6AgcGFydGlyIGQndW4gWE1MIG91IGQndW4gSlNPTlxuICogKEZhY3RvcnkpXG4gKlxuICogQG1vZHVsZSBBdXRvQ29tcGxldGVSZXNwb25zZUZhY3RvcnlcbiAqIEBwcml2YXRlXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuQXV0b0NvbXBsZXRlLlJlc3BvbnNlLkF1dG9Db21wbGV0ZVJlc3BvbnNlRmFjdG9yeVxuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBNUmVzIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBBdXRvQ29tcGxldGVSZXNwb25zZSBmcm9tIFwiLi9tb2RlbC9BdXRvQ29tcGxldGVSZXNwb25zZVwiO1xuaW1wb3J0IFN1Z2dlc3RlZExvY2F0aW9uIGZyb20gXCIuL21vZGVsL1N1Z2dlc3RlZExvY2F0aW9uXCI7XG5cbnZhciBBdXRvQ29tcGxldGVSZXNwb25zZUZhY3RvcnkgPSB7XG5cbiAgICAvKipcbiAgICAgKiBpbnRlcmZhY2UgdW5pcXVlXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGJ1aWxkXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBkZWZpbmllcyBkYW5zIGxlIGNvbXBvc2FudCBBbHRpXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICogICAgICByZXNwb25zZSA6XG4gICAgICogICAgICBvdXRwdXRGb3JtYXQgOlxuICAgICAqICAgICAgcmF3UmVzcG9uc2UgOlxuICAgICAqICAgICAgc2NvcGUgOlxuICAgICAqICAgICAgb25TdWNjZXNzIDpcbiAgICAgKiAgICAgIG9uRXJyb3IgOlxuICAgICAqICAgfTtcbiAgICAgKlxuICAgICAqL1xuICAgIGJ1aWxkIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG4gICAgICAgIHZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiQXV0b0NvbXBsZXRlUmVzcG9uc2VGYWN0b3J5XCIpO1xuICAgICAgICBsb2dnZXIudHJhY2UoW1wiQXV0b0NvbXBsZXRlUmVzcG9uc2VGYWN0b3J5OjpidWlsZCgpXCJdKTtcblxuICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJhd1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiYW5hbHl6ZSByZXNwb25zZSA6IHJhd1wiKTtcbiAgICAgICAgICAgICAgICBkYXRhID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIEpTT05SZXNwb25zZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVzcG9uc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgSlNPTlJlc3BvbnNlID0gSlNPTi5wYXJzZShvcHRpb25zLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBKU09OUmVzcG9uc2UgPSBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFuYWx5c2UgZGUgbGEgcsOpcG9uc2VcbiAgICAgICAgICAgICAgICBpZiAoSlNPTlJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxlIHNlcnZpY2UgcmVudm9pZSB0IGlsIHVuZSBlcnJldXIgP1xuICAgICAgICAgICAgICAgICAgICBpZiAoSlNPTlJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBleC4gP1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA6IE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXCIsIEpTT05SZXNwb25zZS5lcnJvci5kZXNjcmlwdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogSlNPTlJlc3BvbnNlLmVycm9yLmNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUlxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY3LDqWF0aW9uIGRlIGwnb2JqZXQgcsOpcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBBdXRvQ29tcGxldGVSZXNwb25zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdWNsZSBzdXIgbGVzIHLDqXN1bHRhdHMgZGUgbCdhdXRvY29tcGzDqXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKEpTT05SZXNwb25zZS5yZXN1bHRzICYmIEFycmF5LmlzQXJyYXkoSlNPTlJlc3BvbnNlLnJlc3VsdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VnZ2VzdGVkTG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgSlNPTlJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTlJlc3BvbnNlLnJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTG9jYXRpb24gPSBuZXcgU3VnZ2VzdGVkTG9jYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWdnZXN0ZWRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5jb3VudHJ5ID09PSBcIlN0cmVldEFkZHJlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTG9jYXRpb24uc3RyZWV0ID0gcmVzdWx0LnN0cmVldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZExvY2F0aW9uLnR5cGUgPSBcIlN0cmVldEFkZHJlc3NcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgJiYgcmVzdWx0LmNvdW50cnkgPT09IFwiUG9zaXRpb25PZkludGVyZXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZExvY2F0aW9uLnBvaSA9IHJlc3VsdC5zdHJlZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRMb2NhdGlvbi5raW5kID0gcmVzdWx0LmtpbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRMb2NhdGlvbi50eXBlID0gXCJQb3NpdGlvbk9mSW50ZXJlc3RcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWdnZXN0ZWRMb2NhdGlvbi5wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTG9jYXRpb24ucG9zaXRpb24ueCA9IHJlc3VsdC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTG9jYXRpb24ucG9zaXRpb24ueSA9IHJlc3VsdC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTG9jYXRpb24uY29tbXVuZSA9IHJlc3VsdC5jaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRMb2NhdGlvbi5mdWxsVGV4dCA9IHJlc3VsdC5mdWxsdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTG9jYXRpb24ucG9zdGFsQ29kZSA9IHJlc3VsdC56aXBjb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRMb2NhdGlvbi5jbGFzc2lmaWNhdGlvbiA9IHJlc3VsdC5jbGFzc2lmaWNhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWpvdXQgZHUgcsOpc3VsdGF0IGF1IHRhYmxlYXUgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb25zIGRlIGdlb2NvZGVkTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN1Z2dlc3RlZExvY2F0aW9ucy5wdXNoKHN1Z2dlc3RlZExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9GT1JNQVRfM1wiKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Z2dlc3RlZExvY2F0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9GT1JNQVRfM1wiKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA6IE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfQU5BTFlTRV8yXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1VOS0VSUixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IC0xXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNpIGxhIHLDqXBvbnNlIGNvbnRlbmFpdCB1bmUgZXhjZXB0aW9uIHJlbnZvecOpZSBwYXIgbGUgc2VydmljZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmV4Y2VwdGlvblJlcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VYQ0VQVElPTlwiLCBkYXRhLmV4Y2VwdGlvblJlcG9ydCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogRXJyb3JTZXJ2aWNlLlRZUEVfU1JWRVJSLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogMjAwXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNpIGxhIHLDqXBvbnNlICh4bWxTdHJpbmcpIGVzdCB2aWRlLCBvbiBhcHBlbGxlIGxlIGNhbGxiYWNrIGQnZXJyZXVyXG4gICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRU1QVFlcIikpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpIHRvdXQgcydlc3QgYmllbiBwYXNzw6ksIG9uIGFwcGVsbGUgbGUgY2FsbGJhY2sgZGUgc3VjY8Ooc1xuICAgICAgICBvcHRpb25zLm9uU3VjY2Vzcy5jYWxsKG9wdGlvbnMuc2NvcGUsIGRhdGEpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF1dG9Db21wbGV0ZVJlc3BvbnNlRmFjdG9yeTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/AutoCompleteResponseFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/AutoCompleteResponse.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/AutoCompleteResponse.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Response object for {@link module:Services~autoComplete Gp.Services.autoComplete ()} invocation when successful. Received as the argument of onSuccess callback function.\n *\n * @property {Array.<Gp.Services.AutoComplete.SuggestedLocation>} suggestedLocations - SuggestedLocations array.\n *\n * @namespace\n * @alias Gp.Services.AutoCompleteResponse\n */\nfunction AutoCompleteResponse () {\n    if (!(this instanceof AutoCompleteResponse)) {\n        throw new TypeError(\"AutoCompleteResponse constructor cannot be called as a function.\");\n    }\n\n    this.suggestedLocations = [];\n}\n\nAutoCompleteResponse.prototype = {\n\n    constructor : AutoCompleteResponse\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoCompleteResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbXBsZXRlL1Jlc3BvbnNlL21vZGVsL0F1dG9Db21wbGV0ZVJlc3BvbnNlLmpzPzA3ZjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBLHdCQUF3QiwrREFBK0Q7QUFDdkY7QUFDQSxjQUFjLG1EQUFtRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRWUsbUZBQW9CLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db21wbGV0ZS9SZXNwb25zZS9tb2RlbC9BdXRvQ29tcGxldGVSZXNwb25zZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVzcG9uc2Ugb2JqZWN0IGZvciB7QGxpbmsgbW9kdWxlOlNlcnZpY2VzfmF1dG9Db21wbGV0ZSBHcC5TZXJ2aWNlcy5hdXRvQ29tcGxldGUgKCl9IGludm9jYXRpb24gd2hlbiBzdWNjZXNzZnVsLiBSZWNlaXZlZCBhcyB0aGUgYXJndW1lbnQgb2Ygb25TdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEdwLlNlcnZpY2VzLkF1dG9Db21wbGV0ZS5TdWdnZXN0ZWRMb2NhdGlvbj59IHN1Z2dlc3RlZExvY2F0aW9ucyAtIFN1Z2dlc3RlZExvY2F0aW9ucyBhcnJheS5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuQXV0b0NvbXBsZXRlUmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gQXV0b0NvbXBsZXRlUmVzcG9uc2UgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBdXRvQ29tcGxldGVSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkF1dG9Db21wbGV0ZVJlc3BvbnNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5zdWdnZXN0ZWRMb2NhdGlvbnMgPSBbXTtcbn1cblxuQXV0b0NvbXBsZXRlUmVzcG9uc2UucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBBdXRvQ29tcGxldGVSZXNwb25zZVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdXRvQ29tcGxldGVSZXNwb25zZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/AutoCompleteResponse.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/SuggestedLocation.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/SuggestedLocation.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Single SuggestedLocation Object returned by underlying web service.\n * Each suggested location represents a street address (\"StreetAddress\") or a place name (\"PositionOfInterest\").\n *\n * @property {String} type - Suggested location type : \"StreetAddress\" ou \"PositionOfInterest\"\n * @property {Gp.Point} position - Position of the suggested location given in requested coordinates system.\n * @property {String} commune - Suggested municipality\n * @property {String} fullText - Full text representation of the suggested location.\n * @property {String} postalCode - Suggested location postcode\n * @property {Integer} classification - Number used to classify the importance of the place where is the suggested location from 1 (most important) to 7 (less important).\n * @property {String} street - Street name of the suggested location (\"StreetAddress\" only).\n * @property {String} kind - Nature of the suggested location : \"prefecture\", \"monument\", \"commune\", ... for instance (\"PositionOfInterest\" only).\n *\n * @namespace\n * @alias Gp.Services.AutoComplete.SuggestedLocation\n */\nfunction SuggestedLocation () {\n    if (!(this instanceof SuggestedLocation)) {\n        throw new TypeError(\"SuggestedLocation constructor cannot be called as a function.\");\n    }\n\n    /* REPONSE :\n        {\n           \"status\" : \"OK\",\n           \"results\" : [\n              {\n                 \"country\":\"PositionOfInterest\",\n                 \"x\":-1.559185,\n                 \"y\":47.952603,\n                 \"city\":\"Brie\",\n                 \"zipcode\":\"35150\",\n                 \"street\":\"corbe\",\n                 \"kind\":\"Lieu-dit habité\",\n                 \"fulltext\":\"corbe, 35150 Brie\",\n                 \"classification\":6\n              },\n              {\n                 \"country\":\"StreetAddress\",\n                 \"x\":1.538295,\n                 \"y\":43.19646,\n                 \"city\":\"Brie\",\n                 \"zipcode\":\"09700\",\n                 \"street\":\"courreste\",\n                 \"kind\":\"\",\n                 \"fulltext\":\"courreste, 09700 Brie\",\n                 \"classification\":7\n              }\n           ]\n        }\n    */\n\n    /* REPONSE EN ERREUR\n        {\n            status : \"ERROR\",\n            results : [ ]\n        }\n    */\n\n    /**\n     * Suggested location type : \"StreetAddress\" ou \"PositionOfInterest\"\n     * @type {String}\n     */\n    this.type = null;\n\n    /**\n     * Position of the suggested location given in requested coordinates system.\n     * @type {Gp.Point}\n     */\n    this.position = {\n        x : null,\n        y : null\n    };\n\n    /**\n     * Suggested municipality\n     * @type {String}\n     */\n    this.commune = null;\n\n    /**\n     * Full text representation of the suggested location.\n     * @type {String}\n     */\n    this.fullText = null;\n\n    /**\n     * Suggested location postcode\n     * @type {Number}\n     */\n    this.postalCode = null;\n\n    /**\n     * Number used to classify the importance of the place where is the suggested location from 1 (most important) to 7 (less important).\n     * @type {Integer}\n     */\n    this.classification = null;\n\n    /**\n     * Street name of the suggested location (\"StreetAddress\" only).\n     * @type {String}\n     */\n    this.street = null;\n\n    /**\n     * Place name of the suggested location (\"PositionOfInterest\" only).\n     * @type {String}\n     */\n    this.poi = null;\n\n    /**\n     * Nature of the suggested location : \"prefecture\", \"monument\", \"commune\", ... for instance (\"PositionOfInterest\" only).\n     * @type {String}\n     */\n    this.kind = null;\n}\n\nSuggestedLocation.prototype = {\n\n    constructor : SuggestedLocation\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SuggestedLocation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbXBsZXRlL1Jlc3BvbnNlL21vZGVsL1N1Z2dlc3RlZExvY2F0aW9uLmpzP2FjZjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLFNBQVM7QUFDdkIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFZSxnRkFBaUIsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbXBsZXRlL1Jlc3BvbnNlL21vZGVsL1N1Z2dlc3RlZExvY2F0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFNpbmdsZSBTdWdnZXN0ZWRMb2NhdGlvbiBPYmplY3QgcmV0dXJuZWQgYnkgdW5kZXJseWluZyB3ZWIgc2VydmljZS5cbiAqIEVhY2ggc3VnZ2VzdGVkIGxvY2F0aW9uIHJlcHJlc2VudHMgYSBzdHJlZXQgYWRkcmVzcyAoXCJTdHJlZXRBZGRyZXNzXCIpIG9yIGEgcGxhY2UgbmFtZSAoXCJQb3NpdGlvbk9mSW50ZXJlc3RcIikuXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IHR5cGUgLSBTdWdnZXN0ZWQgbG9jYXRpb24gdHlwZSA6IFwiU3RyZWV0QWRkcmVzc1wiIG91IFwiUG9zaXRpb25PZkludGVyZXN0XCJcbiAqIEBwcm9wZXJ0eSB7R3AuUG9pbnR9IHBvc2l0aW9uIC0gUG9zaXRpb24gb2YgdGhlIHN1Z2dlc3RlZCBsb2NhdGlvbiBnaXZlbiBpbiByZXF1ZXN0ZWQgY29vcmRpbmF0ZXMgc3lzdGVtLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGNvbW11bmUgLSBTdWdnZXN0ZWQgbXVuaWNpcGFsaXR5XG4gKiBAcHJvcGVydHkge1N0cmluZ30gZnVsbFRleHQgLSBGdWxsIHRleHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHN1Z2dlc3RlZCBsb2NhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBwb3N0YWxDb2RlIC0gU3VnZ2VzdGVkIGxvY2F0aW9uIHBvc3Rjb2RlXG4gKiBAcHJvcGVydHkge0ludGVnZXJ9IGNsYXNzaWZpY2F0aW9uIC0gTnVtYmVyIHVzZWQgdG8gY2xhc3NpZnkgdGhlIGltcG9ydGFuY2Ugb2YgdGhlIHBsYWNlIHdoZXJlIGlzIHRoZSBzdWdnZXN0ZWQgbG9jYXRpb24gZnJvbSAxIChtb3N0IGltcG9ydGFudCkgdG8gNyAobGVzcyBpbXBvcnRhbnQpLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IHN0cmVldCAtIFN0cmVldCBuYW1lIG9mIHRoZSBzdWdnZXN0ZWQgbG9jYXRpb24gKFwiU3RyZWV0QWRkcmVzc1wiIG9ubHkpLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtpbmQgLSBOYXR1cmUgb2YgdGhlIHN1Z2dlc3RlZCBsb2NhdGlvbiA6IFwicHJlZmVjdHVyZVwiLCBcIm1vbnVtZW50XCIsIFwiY29tbXVuZVwiLCAuLi4gZm9yIGluc3RhbmNlIChcIlBvc2l0aW9uT2ZJbnRlcmVzdFwiIG9ubHkpLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5BdXRvQ29tcGxldGUuU3VnZ2VzdGVkTG9jYXRpb25cbiAqL1xuZnVuY3Rpb24gU3VnZ2VzdGVkTG9jYXRpb24gKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdWdnZXN0ZWRMb2NhdGlvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1Z2dlc3RlZExvY2F0aW9uIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLyogUkVQT05TRSA6XG4gICAgICAgIHtcbiAgICAgICAgICAgXCJzdGF0dXNcIiA6IFwiT0tcIixcbiAgICAgICAgICAgXCJyZXN1bHRzXCIgOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgXCJjb3VudHJ5XCI6XCJQb3NpdGlvbk9mSW50ZXJlc3RcIixcbiAgICAgICAgICAgICAgICAgXCJ4XCI6LTEuNTU5MTg1LFxuICAgICAgICAgICAgICAgICBcInlcIjo0Ny45NTI2MDMsXG4gICAgICAgICAgICAgICAgIFwiY2l0eVwiOlwiQnJpZVwiLFxuICAgICAgICAgICAgICAgICBcInppcGNvZGVcIjpcIjM1MTUwXCIsXG4gICAgICAgICAgICAgICAgIFwic3RyZWV0XCI6XCJjb3JiZVwiLFxuICAgICAgICAgICAgICAgICBcImtpbmRcIjpcIkxpZXUtZGl0IGhhYml0w6lcIixcbiAgICAgICAgICAgICAgICAgXCJmdWxsdGV4dFwiOlwiY29yYmUsIDM1MTUwIEJyaWVcIixcbiAgICAgICAgICAgICAgICAgXCJjbGFzc2lmaWNhdGlvblwiOjZcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICBcImNvdW50cnlcIjpcIlN0cmVldEFkZHJlc3NcIixcbiAgICAgICAgICAgICAgICAgXCJ4XCI6MS41MzgyOTUsXG4gICAgICAgICAgICAgICAgIFwieVwiOjQzLjE5NjQ2LFxuICAgICAgICAgICAgICAgICBcImNpdHlcIjpcIkJyaWVcIixcbiAgICAgICAgICAgICAgICAgXCJ6aXBjb2RlXCI6XCIwOTcwMFwiLFxuICAgICAgICAgICAgICAgICBcInN0cmVldFwiOlwiY291cnJlc3RlXCIsXG4gICAgICAgICAgICAgICAgIFwia2luZFwiOlwiXCIsXG4gICAgICAgICAgICAgICAgIFwiZnVsbHRleHRcIjpcImNvdXJyZXN0ZSwgMDk3MDAgQnJpZVwiLFxuICAgICAgICAgICAgICAgICBcImNsYXNzaWZpY2F0aW9uXCI6N1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICovXG5cbiAgICAvKiBSRVBPTlNFIEVOIEVSUkVVUlxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0dXMgOiBcIkVSUk9SXCIsXG4gICAgICAgICAgICByZXN1bHRzIDogWyBdXG4gICAgICAgIH1cbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU3VnZ2VzdGVkIGxvY2F0aW9uIHR5cGUgOiBcIlN0cmVldEFkZHJlc3NcIiBvdSBcIlBvc2l0aW9uT2ZJbnRlcmVzdFwiXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUG9zaXRpb24gb2YgdGhlIHN1Z2dlc3RlZCBsb2NhdGlvbiBnaXZlbiBpbiByZXF1ZXN0ZWQgY29vcmRpbmF0ZXMgc3lzdGVtLlxuICAgICAqIEB0eXBlIHtHcC5Qb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLnBvc2l0aW9uID0ge1xuICAgICAgICB4IDogbnVsbCxcbiAgICAgICAgeSA6IG51bGxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3VnZ2VzdGVkIG11bmljaXBhbGl0eVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jb21tdW5lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEZ1bGwgdGV4dCByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3VnZ2VzdGVkIGxvY2F0aW9uLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mdWxsVGV4dCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTdWdnZXN0ZWQgbG9jYXRpb24gcG9zdGNvZGVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucG9zdGFsQ29kZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgdXNlZCB0byBjbGFzc2lmeSB0aGUgaW1wb3J0YW5jZSBvZiB0aGUgcGxhY2Ugd2hlcmUgaXMgdGhlIHN1Z2dlc3RlZCBsb2NhdGlvbiBmcm9tIDEgKG1vc3QgaW1wb3J0YW50KSB0byA3IChsZXNzIGltcG9ydGFudCkuXG4gICAgICogQHR5cGUge0ludGVnZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGFzc2lmaWNhdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTdHJlZXQgbmFtZSBvZiB0aGUgc3VnZ2VzdGVkIGxvY2F0aW9uIChcIlN0cmVldEFkZHJlc3NcIiBvbmx5KS5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuc3RyZWV0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBsYWNlIG5hbWUgb2YgdGhlIHN1Z2dlc3RlZCBsb2NhdGlvbiAoXCJQb3NpdGlvbk9mSW50ZXJlc3RcIiBvbmx5KS5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucG9pID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE5hdHVyZSBvZiB0aGUgc3VnZ2VzdGVkIGxvY2F0aW9uIDogXCJwcmVmZWN0dXJlXCIsIFwibW9udW1lbnRcIiwgXCJjb21tdW5lXCIsIC4uLiBmb3IgaW5zdGFuY2UgKFwiUG9zaXRpb25PZkludGVyZXN0XCIgb25seSkuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmtpbmQgPSBudWxsO1xufVxuXG5TdWdnZXN0ZWRMb2NhdGlvbi5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IFN1Z2dlc3RlZExvY2F0aW9uXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTdWdnZXN0ZWRMb2NhdGlvbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoComplete/Response/model/SuggestedLocation.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/AutoConf.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/AutoConf.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Utils/Helper */ \"./node_modules/geoportal-access-lib/src/Utils/Helper.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DefaultUrlService */ \"./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js\");\n/* harmony import */ var _CommonService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../CommonService */ \"./node_modules/geoportal-access-lib/src/Services/CommonService.js\");\n/* harmony import */ var _Response_AutoConfResponseFactory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Response/AutoConfResponseFactory */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/AutoConfResponseFactory.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @classdesc\n * Appel du service d'autoconfiguration du Géoportail\n *\n * @private\n * @constructor\n * @extends {Gp.Services.CommonService}\n * @alias Gp.Services.AutoConf\n *\n * @param {Object} options - options spécifiques au service (+ les options heritées)\n *\n * @param {String} [options.layerId] - Le nom de l'agrégat (couche) dont on veut connaître les informations détaillées.\n *      La présence de cette propriété implique l'utilisation de la deuxième opération du service pour accéder aux informations d'une couche aggrégée.\n *      Dans ce cas, la fonction effectuera quand même dans un premier temps la récupération des informations de l'auto-\n *      configuration complète, sauf si un premier appel à l'autoconf a déjà été fait avec cette clé (i.e. si la variable globale est définie\n *      pour la clé de contrat). Elle ira ensuite chercher les informations des couches agrégées, qui seront ajoutées à la variable globale Gp.Config.\n *\n * @example\n *   var options = {\n *      // options communes aux services\n *      apiKey : \"apikey\",\n *      protocol : 'JSONP', // JSONP|XHR\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      layerId : \"ORTHOIMAGERY.ORTHOPHOTOS.3D$GEOPORTAIL:OGC:WMTS@aggregate\"\n *   };\n */\nfunction AutoConf (options) {\n    if (!(this instanceof AutoConf)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\", \"AutoConf\"));\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     * FIXME instance ou classe ?\n     */\n    this.CLASSNAME = \"AutoConf\";\n\n    // Autoconf default protocol remains JSONP (#see http://ignf.github.io/geoportal-access-lib/latest/jsdoc/tutorial-optimize-getconfig.html)\n    if (!options) {\n        options = {};\n    }\n    options.protocol = options.protocol || \"JSONP\";\n\n    // appel du constructeur par heritage\n    _CommonService__WEBPACK_IMPORTED_MODULE_5__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Gp.Services.AutoConf\");\n    this.logger.trace(\"[Constructeur AutoConf (options)]\");\n\n    // #####################\n    // analyse des options\n    // #####################\n\n    // gestion de l'url du service par defaut\n    if (!this.options.serverUrl) {\n        // si l'url n'est pas renseignée, il faut utiliser les urls par defaut\n        // en fonction du nombre de clés en entrée et du paramètre layerId\n        if (!this.options.serverUrl) {\n            var lstUrlByDefault = _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].AutoConf.url(this.options.apiKey);\n\n            if (!this.options.layerId) {\n                // cas d'une autoconf simple\n                if (Array.isArray(this.options.apiKey) && this.options.apiKey.length > 0) {\n                    // cas d'un tableau de clés en entrée\n                    this.options.serverUrl = lstUrlByDefault.apiKeys;\n                } else {\n                    this.options.serverUrl = lstUrlByDefault.apiKey;\n                }\n            } else {\n                // cas d'une autoconf pour des couches aggrégées\n                this.options.serverUrl = lstUrlByDefault.aggregate + this.options.layerId;\n            }\n        }\n    }\n\n    // INFO\n    // le service ne repond pas en mode POST (405 Method Not Allowed)\n    if (this.options.protocol === \"XHR\" && this.options.httpMethod === \"POST\") {\n        this.logger.warn(\"Le service ne gére pas le mode d'interrogation en POST, on bascule sur du GET !\");\n        this.options.httpMethod = \"GET\"; // on surcharge !\n    }\n\n    // #####################\n    // attributs d'instances\n    // #####################\n\n    /**\n     * Format forcé de la réponse du service : \"xml\"\n     * sauf si l'on souhaite une reponse brute (options.rawResponse)\n     */\n    this.options.outputFormat = (this.options.rawResponse) ? \"\" : \"xml\";\n}\n\n/**\n * @lends module:AutoConf#\n */\n\nAutoConf.prototype = Object.create(_CommonService__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/*\n * Constructeur (alias)\n */\nAutoConf.prototype.constructor = AutoConf;\n\n/**\n * Création de la requête (overwrite)\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback de succès de la création de la requête\n */\nAutoConf.prototype.buildRequest = function (error, success) {\n    var scope = typeof window !== \"undefined\" ? window : {};\n\n    if (scope.Gp && scope.Gp.Config && scope.Gp.Config.generalOptions && scope.Gp.Config.layers) {\n        if (scope.Gp.Config.generalOptions.apiKeys[this.options.apiKey]) {\n            if (this.options.layerId) { // cas d'une autoconf + détaillée sur une couche agrégée\n                if (scope.Gp.Config.layers[this.options.layerId] && scope.Gp.Config.layers[this.options.layerId].aggregatedLayers) {\n                    this.logger.warn(\"Gp.Config existe déjà pour cette clé et cette couche\");\n                    this.options.onSuccess.call(this, scope.Gp.Config);\n                    return;\n                }\n            } else {\n                this.logger.warn(\"Gp.Config existe déjà pour cette clé\");\n                this.options.onSuccess.call(this, scope.Gp.Config);\n                return;\n            }\n        }\n    }\n\n    // requete par defaut\n    this.request = \"\";\n\n    // gestion de l'autoconf local\n    // Le fichier en local doit respecter le format de sortie du service.\n    //  - En XHR, le format est en xml\n    //  - En JSONP, le format est en xml encapsulé dans un json avec une fonction de callback\n    //    ex. callback ({\"http\":{\"status\":200,\"error\":null},\"xml\":\"...\"})\n    var bLocal;\n    if (this.options.serverUrl.indexOf(\"http://\") === -1) {\n        bLocal = true;\n    } else {\n        bLocal = false;\n    }\n\n    // FIXME param. KVP optionnel sur un service uniquement (pas sur un autoconf local !)\n    if (!bLocal && this.layerId) {\n        this.request = _Utils_Helper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].normalyzeParameters({\n            layerId : this.layerId\n        });\n    }\n\n    // normalement pas d'erreur d'autoconf...\n    (this.request || this.request === \"\")\n        ? success.call(this, this.request)\n        : error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_REQUEST_BUILD\")));\n};\n\n/**\n * Analyse de la reponse (overwrite)\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback de succès de l'analyse de la réponse\n */\nAutoConf.prototype.analyzeResponse = function (error, success) {\n    if (this.response) {\n        var options = {\n            layerId : this.options.layerId,\n            response : this.response,\n            rawResponse : this.options.rawResponse,\n            onSuccess : success,\n            onError : error,\n            scope : this\n        };\n\n        _Response_AutoConfResponseFactory__WEBPACK_IMPORTED_MODULE_6__[\"default\"].build(options);\n    } else {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoConf);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvQXV0b0NvbmYuanM/MTVkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDaUQ7QUFDSDtBQUNOO0FBQ2lCO0FBQ0o7QUFDUjtBQUM0Qjs7QUFFekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0VBQUM7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxzREFBYTs7QUFFakIsa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDBEQUFpQjs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLHNEQUFhO0FBQ2hEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixRQUFRLDBCQUEwQixhQUFhO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIscURBQU07QUFDN0I7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFZLENBQUMsZ0VBQUM7QUFDN0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEseUVBQXVCO0FBQy9CLEtBQUs7QUFDTCw2QkFBNkIsZ0VBQVksQ0FBQyxnRUFBQztBQUMzQztBQUNBOztBQUVlLHVFQUFRLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL0F1dG9Db25mLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBfIGZyb20gXCIuLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEhlbHBlciBmcm9tIFwiLi4vLi4vVXRpbHMvSGVscGVyXCI7XG5pbXBvcnQgRXJyb3JTZXJ2aWNlIGZyb20gXCIuLi8uLi9FeGNlcHRpb25zL0Vycm9yU2VydmljZVwiO1xuaW1wb3J0IERlZmF1bHRVcmxTZXJ2aWNlIGZyb20gXCIuLi9EZWZhdWx0VXJsU2VydmljZVwiO1xuaW1wb3J0IENvbW1vblNlcnZpY2UgZnJvbSBcIi4uL0NvbW1vblNlcnZpY2VcIjtcbmltcG9ydCBBdXRvQ29uZlJlc3BvbnNlRmFjdG9yeSBmcm9tIFwiLi9SZXNwb25zZS9BdXRvQ29uZlJlc3BvbnNlRmFjdG9yeVwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFwcGVsIGR1IHNlcnZpY2UgZCdhdXRvY29uZmlndXJhdGlvbiBkdSBHw6lvcG9ydGFpbFxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtHcC5TZXJ2aWNlcy5Db21tb25TZXJ2aWNlfVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkF1dG9Db25mXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIHNww6ljaWZpcXVlcyBhdSBzZXJ2aWNlICgrIGxlcyBvcHRpb25zIGhlcml0w6llcylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubGF5ZXJJZF0gLSBMZSBub20gZGUgbCdhZ3LDqWdhdCAoY291Y2hlKSBkb250IG9uIHZldXQgY29ubmHDrnRyZSBsZXMgaW5mb3JtYXRpb25zIGTDqXRhaWxsw6llcy5cbiAqICAgICAgTGEgcHLDqXNlbmNlIGRlIGNldHRlIHByb3ByacOpdMOpIGltcGxpcXVlIGwndXRpbGlzYXRpb24gZGUgbGEgZGV1eGnDqG1lIG9ww6lyYXRpb24gZHUgc2VydmljZSBwb3VyIGFjY8OpZGVyIGF1eCBpbmZvcm1hdGlvbnMgZCd1bmUgY291Y2hlIGFnZ3LDqWfDqWUuXG4gKiAgICAgIERhbnMgY2UgY2FzLCBsYSBmb25jdGlvbiBlZmZlY3R1ZXJhIHF1YW5kIG3Dqm1lIGRhbnMgdW4gcHJlbWllciB0ZW1wcyBsYSByw6ljdXDDqXJhdGlvbiBkZXMgaW5mb3JtYXRpb25zIGRlIGwnYXV0by1cbiAqICAgICAgY29uZmlndXJhdGlvbiBjb21wbMOodGUsIHNhdWYgc2kgdW4gcHJlbWllciBhcHBlbCDDoCBsJ2F1dG9jb25mIGEgZMOpasOgIMOpdMOpIGZhaXQgYXZlYyBjZXR0ZSBjbMOpIChpLmUuIHNpIGxhIHZhcmlhYmxlIGdsb2JhbGUgZXN0IGTDqWZpbmllXG4gKiAgICAgIHBvdXIgbGEgY2zDqSBkZSBjb250cmF0KS4gRWxsZSBpcmEgZW5zdWl0ZSBjaGVyY2hlciBsZXMgaW5mb3JtYXRpb25zIGRlcyBjb3VjaGVzIGFncsOpZ8OpZXMsIHF1aSBzZXJvbnQgYWpvdXTDqWVzIMOgIGxhIHZhcmlhYmxlIGdsb2JhbGUgR3AuQ29uZmlnLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgIHZhciBvcHRpb25zID0ge1xuICogICAgICAvLyBvcHRpb25zIGNvbW11bmVzIGF1eCBzZXJ2aWNlc1xuICogICAgICBhcGlLZXkgOiBcImFwaWtleVwiLFxuICogICAgICBwcm90b2NvbCA6ICdKU09OUCcsIC8vIEpTT05QfFhIUlxuICogICAgICB0aW1lT3V0IDogMTAwMDAsIC8vIG1zXG4gKiAgICAgIHJhd1Jlc3BvbnNlIDogZmFsc2UsIC8vIHRydWV8ZmFsc2VcbiAqICAgICAgc2NvcGUgOiBudWxsLCAvLyB0aGlzXG4gKiAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uIChyZXNwb25zZSkge30sXG4gKiAgICAgIG9uRmFpbHVyZSA6IGZ1bmN0aW9uIChlcnJvcikge30sXG4gKiAgICAgIGxheWVySWQgOiBcIk9SVEhPSU1BR0VSWS5PUlRIT1BIT1RPUy4zRCRHRU9QT1JUQUlMOk9HQzpXTVRTQGFnZ3JlZ2F0ZVwiXG4gKiAgIH07XG4gKi9cbmZ1bmN0aW9uIEF1dG9Db25mIChvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEF1dG9Db25mKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKF8uZ2V0TWVzc2FnZShcIkNMQVNTX0NPTlNUUlVDVE9SXCIsIFwiQXV0b0NvbmZcIikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5vbSBkZSBsYSBjbGFzc2UgKGhlcml0YWdlKVxuICAgICAqIEZJWE1FIGluc3RhbmNlIG91IGNsYXNzZSA/XG4gICAgICovXG4gICAgdGhpcy5DTEFTU05BTUUgPSBcIkF1dG9Db25mXCI7XG5cbiAgICAvLyBBdXRvY29uZiBkZWZhdWx0IHByb3RvY29sIHJlbWFpbnMgSlNPTlAgKCNzZWUgaHR0cDovL2lnbmYuZ2l0aHViLmlvL2dlb3BvcnRhbC1hY2Nlc3MtbGliL2xhdGVzdC9qc2RvYy90dXRvcmlhbC1vcHRpbWl6ZS1nZXRjb25maWcuaHRtbClcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBvcHRpb25zLnByb3RvY29sID0gb3B0aW9ucy5wcm90b2NvbCB8fCBcIkpTT05QXCI7XG5cbiAgICAvLyBhcHBlbCBkdSBjb25zdHJ1Y3RldXIgcGFyIGhlcml0YWdlXG4gICAgQ29tbW9uU2VydmljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiR3AuU2VydmljZXMuQXV0b0NvbmZcIik7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIEF1dG9Db25mIChvcHRpb25zKV1cIik7XG5cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAgICAvLyBhbmFseXNlIGRlcyBvcHRpb25zXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbiAgICAvLyBnZXN0aW9uIGRlIGwndXJsIGR1IHNlcnZpY2UgcGFyIGRlZmF1dFxuICAgIGlmICghdGhpcy5vcHRpb25zLnNlcnZlclVybCkge1xuICAgICAgICAvLyBzaSBsJ3VybCBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUsIGlsIGZhdXQgdXRpbGlzZXIgbGVzIHVybHMgcGFyIGRlZmF1dFxuICAgICAgICAvLyBlbiBmb25jdGlvbiBkdSBub21icmUgZGUgY2zDqXMgZW4gZW50csOpZSBldCBkdSBwYXJhbcOodHJlIGxheWVySWRcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuc2VydmVyVXJsKSB7XG4gICAgICAgICAgICB2YXIgbHN0VXJsQnlEZWZhdWx0ID0gRGVmYXVsdFVybFNlcnZpY2UuQXV0b0NvbmYudXJsKHRoaXMub3B0aW9ucy5hcGlLZXkpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5sYXllcklkKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FzIGQndW5lIGF1dG9jb25mIHNpbXBsZVxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5hcGlLZXkpICYmIHRoaXMub3B0aW9ucy5hcGlLZXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYXMgZCd1biB0YWJsZWF1IGRlIGNsw6lzIGVuIGVudHLDqWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNlcnZlclVybCA9IGxzdFVybEJ5RGVmYXVsdC5hcGlLZXlzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwgPSBsc3RVcmxCeURlZmF1bHQuYXBpS2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY2FzIGQndW5lIGF1dG9jb25mIHBvdXIgZGVzIGNvdWNoZXMgYWdncsOpZ8OpZXNcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2VydmVyVXJsID0gbHN0VXJsQnlEZWZhdWx0LmFnZ3JlZ2F0ZSArIHRoaXMub3B0aW9ucy5sYXllcklkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSU5GT1xuICAgIC8vIGxlIHNlcnZpY2UgbmUgcmVwb25kIHBhcyBlbiBtb2RlIFBPU1QgKDQwNSBNZXRob2QgTm90IEFsbG93ZWQpXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wcm90b2NvbCA9PT0gXCJYSFJcIiAmJiB0aGlzLm9wdGlvbnMuaHR0cE1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkxlIHNlcnZpY2UgbmUgZ8OpcmUgcGFzIGxlIG1vZGUgZCdpbnRlcnJvZ2F0aW9uIGVuIFBPU1QsIG9uIGJhc2N1bGUgc3VyIGR1IEdFVCAhXCIpO1xuICAgICAgICB0aGlzLm9wdGlvbnMuaHR0cE1ldGhvZCA9IFwiR0VUXCI7IC8vIG9uIHN1cmNoYXJnZSAhXG4gICAgfVxuXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gICAgLy8gYXR0cmlidXRzIGQnaW5zdGFuY2VzXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgZm9yY8OpIGRlIGxhIHLDqXBvbnNlIGR1IHNlcnZpY2UgOiBcInhtbFwiXG4gICAgICogc2F1ZiBzaSBsJ29uIHNvdWhhaXRlIHVuZSByZXBvbnNlIGJydXRlIChvcHRpb25zLnJhd1Jlc3BvbnNlKVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucy5vdXRwdXRGb3JtYXQgPSAodGhpcy5vcHRpb25zLnJhd1Jlc3BvbnNlKSA/IFwiXCIgOiBcInhtbFwiO1xufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6QXV0b0NvbmYjXG4gKi9cblxuQXV0b0NvbmYucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21tb25TZXJ2aWNlLnByb3RvdHlwZSwge1xuICAgIC8vIHRvZG9cbiAgICAvLyBnZXR0ZXIvc2V0dGVyXG59KTtcblxuLypcbiAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gKi9cbkF1dG9Db25mLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEF1dG9Db25mO1xuXG4vKipcbiAqIENyw6lhdGlvbiBkZSBsYSByZXF1w6p0ZSAob3ZlcndyaXRlKVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yICAgLSBjYWxsYmFjayBkZXMgZXJyZXVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyAtIGNhbGxiYWNrIGRlIHN1Y2PDqHMgZGUgbGEgY3LDqWF0aW9uIGRlIGxhIHJlcXXDqnRlXG4gKi9cbkF1dG9Db25mLnByb3RvdHlwZS5idWlsZFJlcXVlc3QgPSBmdW5jdGlvbiAoZXJyb3IsIHN1Y2Nlc3MpIHtcbiAgICB2YXIgc2NvcGUgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge307XG5cbiAgICBpZiAoc2NvcGUuR3AgJiYgc2NvcGUuR3AuQ29uZmlnICYmIHNjb3BlLkdwLkNvbmZpZy5nZW5lcmFsT3B0aW9ucyAmJiBzY29wZS5HcC5Db25maWcubGF5ZXJzKSB7XG4gICAgICAgIGlmIChzY29wZS5HcC5Db25maWcuZ2VuZXJhbE9wdGlvbnMuYXBpS2V5c1t0aGlzLm9wdGlvbnMuYXBpS2V5XSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYXllcklkKSB7IC8vIGNhcyBkJ3VuZSBhdXRvY29uZiArIGTDqXRhaWxsw6llIHN1ciB1bmUgY291Y2hlIGFncsOpZ8OpZVxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5HcC5Db25maWcubGF5ZXJzW3RoaXMub3B0aW9ucy5sYXllcklkXSAmJiBzY29wZS5HcC5Db25maWcubGF5ZXJzW3RoaXMub3B0aW9ucy5sYXllcklkXS5hZ2dyZWdhdGVkTGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJHcC5Db25maWcgZXhpc3RlIGTDqWrDoCBwb3VyIGNldHRlIGNsw6kgZXQgY2V0dGUgY291Y2hlXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TdWNjZXNzLmNhbGwodGhpcywgc2NvcGUuR3AuQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkdwLkNvbmZpZyBleGlzdGUgZMOpasOgIHBvdXIgY2V0dGUgY2zDqVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TdWNjZXNzLmNhbGwodGhpcywgc2NvcGUuR3AuQ29uZmlnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXF1ZXRlIHBhciBkZWZhdXRcbiAgICB0aGlzLnJlcXVlc3QgPSBcIlwiO1xuXG4gICAgLy8gZ2VzdGlvbiBkZSBsJ2F1dG9jb25mIGxvY2FsXG4gICAgLy8gTGUgZmljaGllciBlbiBsb2NhbCBkb2l0IHJlc3BlY3RlciBsZSBmb3JtYXQgZGUgc29ydGllIGR1IHNlcnZpY2UuXG4gICAgLy8gIC0gRW4gWEhSLCBsZSBmb3JtYXQgZXN0IGVuIHhtbFxuICAgIC8vICAtIEVuIEpTT05QLCBsZSBmb3JtYXQgZXN0IGVuIHhtbCBlbmNhcHN1bMOpIGRhbnMgdW4ganNvbiBhdmVjIHVuZSBmb25jdGlvbiBkZSBjYWxsYmFja1xuICAgIC8vICAgIGV4LiBjYWxsYmFjayAoe1wiaHR0cFwiOntcInN0YXR1c1wiOjIwMCxcImVycm9yXCI6bnVsbH0sXCJ4bWxcIjpcIi4uLlwifSlcbiAgICB2YXIgYkxvY2FsO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2VydmVyVXJsLmluZGV4T2YoXCJodHRwOi8vXCIpID09PSAtMSkge1xuICAgICAgICBiTG9jYWwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJMb2NhbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEZJWE1FIHBhcmFtLiBLVlAgb3B0aW9ubmVsIHN1ciB1biBzZXJ2aWNlIHVuaXF1ZW1lbnQgKHBhcyBzdXIgdW4gYXV0b2NvbmYgbG9jYWwgISlcbiAgICBpZiAoIWJMb2NhbCAmJiB0aGlzLmxheWVySWQpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gSGVscGVyLm5vcm1hbHl6ZVBhcmFtZXRlcnMoe1xuICAgICAgICAgICAgbGF5ZXJJZCA6IHRoaXMubGF5ZXJJZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWxlbWVudCBwYXMgZCdlcnJldXIgZCdhdXRvY29uZi4uLlxuICAgICh0aGlzLnJlcXVlc3QgfHwgdGhpcy5yZXF1ZXN0ID09PSBcIlwiKVxuICAgICAgICA/IHN1Y2Nlc3MuY2FsbCh0aGlzLCB0aGlzLnJlcXVlc3QpXG4gICAgICAgIDogZXJyb3IuY2FsbCh0aGlzLCBuZXcgRXJyb3JTZXJ2aWNlKF8uZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVRVUVTVF9CVUlMRFwiKSkpO1xufTtcblxuLyoqXG4gKiBBbmFseXNlIGRlIGxhIHJlcG9uc2UgKG92ZXJ3cml0ZSlcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAgIC0gY2FsbGJhY2sgZGVzIGVycmV1cnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3MgLSBjYWxsYmFjayBkZSBzdWNjw6hzIGRlIGwnYW5hbHlzZSBkZSBsYSByw6lwb25zZVxuICovXG5BdXRvQ29uZi5wcm90b3R5cGUuYW5hbHl6ZVJlc3BvbnNlID0gZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBsYXllcklkIDogdGhpcy5vcHRpb25zLmxheWVySWQsXG4gICAgICAgICAgICByZXNwb25zZSA6IHRoaXMucmVzcG9uc2UsXG4gICAgICAgICAgICByYXdSZXNwb25zZSA6IHRoaXMub3B0aW9ucy5yYXdSZXNwb25zZSxcbiAgICAgICAgICAgIG9uU3VjY2VzcyA6IHN1Y2Nlc3MsXG4gICAgICAgICAgICBvbkVycm9yIDogZXJyb3IsXG4gICAgICAgICAgICBzY29wZSA6IHRoaXNcbiAgICAgICAgfTtcblxuICAgICAgICBBdXRvQ29uZlJlc3BvbnNlRmFjdG9yeS5idWlsZChvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvci5jYWxsKHRoaXMsIG5ldyBFcnJvclNlcnZpY2UoXy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FTVBUWVwiKSkpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF1dG9Db25mO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/AutoConf.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Formats/AutoConfResponseReader.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Formats/AutoConfResponseReader.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Response_model_AutoConfResponse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Response/model/AutoConfResponse */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/AutoConfResponse.js\");\n/* harmony import */ var _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Response/model/Constraint */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Constraint.js\");\n/* harmony import */ var _Response_model_Format__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Response/model/Format */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Format.js\");\n/* harmony import */ var _Response_model_Layer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Response/model/Layer */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Layer.js\");\n/* harmony import */ var _Response_model_Legend__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Response/model/Legend */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Legend.js\");\n/* harmony import */ var _Response_model_Metadata__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Response/model/Metadata */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Metadata.js\");\n/* harmony import */ var _Response_model_Originator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Response/model/Originator */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Originator.js\");\n/* harmony import */ var _Response_model_Service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Response/model/Service */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Service.js\");\n/* harmony import */ var _Response_model_Style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Response/model/Style */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Style.js\");\n/* harmony import */ var _Response_model_Territory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Response/model/Territory */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Territory.js\");\n/* harmony import */ var _Response_model_Thematic__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Response/model/Thematic */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Thematic.js\");\n/* harmony import */ var _Response_model_TileMatrixSet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Response/model/TileMatrixSet */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixSet.js\");\n/* harmony import */ var _Response_model_TileMatrix__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Response/model/TileMatrix */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrix.js\");\n/* harmony import */ var _Response_model_TileMatrixLimit__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Response/model/TileMatrixLimit */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixLimit.js\");\n\n/**\n * Fonction retournant un objet contenant des clés de lecture (readers)\n *      qui permettent de parser des réponses XML du service d'autoconfiguration du Géoportail\n *      afin de récupérer les informations retournées.\n * @module AutoConfResponseReader\n * @private\n * @alias Gp.Services.AutoConf.Formats.AutoConfResponseReader\n */\n\n// import Logger from \"../../../Utils/LoggerByDefault\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar AutoConfResponseReader = {};\n\n/**\n * version du service d'autoconf\n */\nAutoConfResponseReader.VERSION = \"1.1.0\";\n\n/**\n * Objet stockant les différents namespaces et les URI associées\n */\nAutoConfResponseReader.NAMESPACES = {\n    xmlns : \"http://www.opengis.net/context\",\n    gpp : \"http://api.ign.fr/geoportail\",\n    ows : \"http://www.opengis.net/ows/1.1\",\n    sld : \"http://www.opengis.net/sld\",\n    wmts : \"http://www.opengis.net/wmts/1.0\",\n    xlink : \"http://www.w3.org/1999/xlink\",\n    xsi : \"http://www.w3.org/2001/XMLSchema-instance\"\n};\n\n/**\n * Localisation (URL) du schema de définition du XML (XSD)\n */\nAutoConfResponseReader.SCHEMALOCATION = [\n    \"http://www.opengis.net/context http://wxs.ign.fr/schemas/extContext.xsd http://api.ign.fr/geoportail http://wxs.ign.fr/schemas/autoconf/autoconf.xsd\",\n    \"http://www.opengis.net/context http://wxs.ign.fr/schemas/extContext.xsd http://api.ign.fr/geoportail http://wxs.ign.fr/schemas/autoconf.xsd\"\n];\n\n/**\n * Namespace par défaut du format\n */\nAutoConfResponseReader.DEFAULTPREFIX = \"context\";\n\n/**\n * Objet contenant des fonctions de lecture, appelées \"READERS\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n */\nAutoConfResponseReader.READERS = {\n\n    context : {\n\n        /** ViewContext */\n        ViewContext : function (viewContextNode) {\n            // info : balise \"racine\" de la réponse de l'autoconf\n\n            // vérification de la version du service, et des namespaces de l'en-tête\n            __checkServiceAttributes(viewContextNode);\n\n            // create AutoConfResponse\n            var config = new _Response_model_AutoConfResponse__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n            __getChildNodes(viewContextNode, config);\n\n            return config;\n        },\n\n        // info : /General/Title\n        // ou : /LayerList/Layer/Title\n        /** Title */\n        Title : function (titleNode, data) {\n            if (data && data.generalOptions) { // cas de la variable config générale\n                data.generalOptions.title = __getChildValue(titleNode);\n            } else if (data && data.lyr) { // cas d'une layer\n                data.lyr.title = __getChildValue(titleNode);\n            }\n        },\n\n        // info : /LayerList/Layer/Abstract\n        /** Abstract */\n        Abstract : function (node, data) {\n            if (data && data.lyr) {\n                data.lyr.description = __getChildValue(node);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Services/Server\n        // ou : /LayerList/Server\n        /** Server */\n        Server : function (node, data) {\n            var serverId = node.getAttribute(\"service\");\n            var title = node.getAttribute(\"title\");\n            var version = node.getAttribute(\"version\");\n            if (serverId) {\n                if (data && data.services && typeof data.services === \"object\" && !data.services[serverId]) {\n                    // on est dans la balise Services\n                    var s = new _Response_model_Service__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n                    s.title = title;\n                    s.version = version;\n                    // récupération de l'url du service, dans une balise enfant \"OnlineResource\"\n                    __getChildNodes(node, s);\n                    // ajout du service à la variable config\n                    data.services[serverId] = s;\n                } else if (data && data.lyr) {\n                    // on est dans la balise Layer\n                    if (!data.lyr.serviceParams) {\n                        // si l'objet serviceParams n'a pas encore été créé, on le crée.\n                        data.lyr.serviceParams = {};\n                    }\n                    data.lyr.serviceParams.id = serverId;\n                    data.lyr.serviceParams.version = version;\n                }\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Services/Server/OnlineResource\n        // ou : /LayerList/Layer/Server/OnlineResource\n        // ou : /LayerList/Layer/Extention/gpp:Layer/gpp:QuickLook/OnlineResource\n        // ou : /LayerList/Layer/Extension/gpp:Layer/gpp:Legends/gpp:Legend/gpp:LegendURL/OnlineResource\n        // ou : /LayerList/Layer/Extension/gpp:Layer/gpp:MetadataURL/OnlineResource\n        /** OnlineResource */\n        OnlineResource : function (node, service) {\n            if (service && service.hasOwnProperty(\"serverUrl\")) {\n                service.serverUrl = node.getAttribute(\"xlink:href\");\n            }\n        },\n\n        // info : /LayerList\n        /** LayerList */\n        LayerList : function (layerListNode, config) {\n            // liste de balises \"layer\"\n            __getChildNodes(layerListNode, config);\n\n            if (config && config.layers && config.generalOptions && config.services) {\n                // récupération des clés et des couches associées\n                for (var lyr in config.layers) {\n                    if (config.layers.hasOwnProperty(lyr)) {\n                        var layerConfig = config.layers[lyr];\n\n                        // récupération de la clé associée\n                        var apiKeys = layerConfig.apiKeys;\n                        if (apiKeys && Array.isArray(apiKeys)) {\n                            for (var i = 0; i < apiKeys.length; i++) {\n                                // pour chaque clé API, on ajoute la couche\n                                var key = apiKeys[i];\n                                if (config.generalOptions.apiKeys) {\n                                    if (!config.generalOptions.apiKeys[key] || !Array.isArray(config.generalOptions.apiKeys[key])) {\n                                        config.generalOptions.apiKeys[key] = [];\n                                    }\n                                    config.generalOptions.apiKeys[key].push(lyr);\n                                }\n                            }\n                        }\n\n                        // récupération du service associé\n                        var serviceParams = layerConfig.serviceParams;\n                        if (serviceParams && serviceParams.id) {\n                            if (!config.services[serviceParams.id]) {\n                                var s = new _Response_model_Service__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n                                if (serviceParams.serverUrl) {\n                                    s.serverUrl = serviceParams.serverUrl;\n                                }\n                                if (serviceParams.version) {\n                                    s.version = serviceParams.version;\n                                }\n                                config.services[serviceParams.id] = s;\n                            }\n                        }\n\n                        // récupération de la projection associée (dans le cas d'une couche WMTS)\n                        if (layerConfig.wmtsOptions && layerConfig.wmtsOptions.tileMatrixSetLink && config.tileMatrixSets) {\n                            var tmsLink = layerConfig.wmtsOptions.tileMatrixSetLink;\n                            var tileMatrixSets = config.tileMatrixSets;\n                            for (var tms in tileMatrixSets) {\n                                if (tileMatrixSets.hasOwnProperty(tms) && tms === tmsLink) {\n                                    layerConfig.defaultProjection = tileMatrixSets[tms].projection;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n\n        // info : /LayerList/Layer\n        /** Layer */\n        Layer : function (layerNode, config) {\n            if (config && config.layers) {\n                var lyrData = {\n                    lyr : new _Response_model_Layer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](),\n                    lyrId : null\n                };\n\n                var hidden = layerNode.getAttribute(\"hidden\");\n                if (hidden === \"1\") {\n                    lyrData.lyr.hidden = true;\n                } else {\n                    lyrData.lyr.hidden = false;\n                }\n\n                var queryable = layerNode.getAttribute(\"queryable\");\n                if (queryable === \"1\") {\n                    lyrData.lyr.queryable = true;\n                } else {\n                    lyrData.lyr.queryable = false;\n                }\n\n                // on peut avoir les balises : Server, Name, Title, Abstract, DataURL, MetadataURL,\n                // sld:MinScaleDenominator, sld:MaxScaleDenominator, SRS, FormatList, StyleList\n                // DimensionList, Extension\n                __getChildNodes(layerNode, lyrData);\n\n                // si on a bien récupéré l'identifiant de la couche, on s'en sert pour l'ajouter au tableau associatif des couches disponibles\n                if (lyrData.lyrId) {\n                    // Dans le cas des services, on modifie le contexte de l'identifiant.\n                    if (lyrData.lyr.serviceParams && lyrData.lyr.serviceParams.id) {\n                        var serviceid = lyrData.lyr.serviceParams.id;\n                        if (serviceid.toUpperCase().indexOf(\"OPENLS\") !== -1 || serviceid.toUpperCase().indexOf(\"ELEVATION\") !== -1) {\n                            // Il faut changer l'identifiant de la ressource.\n                            var resourceId = lyrData.lyrId.split(\"$\")[0];\n                            lyrData.lyrId = resourceId + \"$\" + serviceid;\n                        }\n                    }\n\n                    // on ajoute l'information dans les attributs de la couche\n                    lyrData.lyr.layerId = lyrData.lyrId;\n                    // et dans le tableau Gp.Config.layers\n                    config.layers[lyrData.lyrId] = lyrData.lyr;\n                }\n            }\n        },\n\n        // info : /LayerList/Layer/Name\n        /** TODO : jsdoc block */\n        Name : function (node, lyrData) {\n            if (lyrData && lyrData.lyr) {\n                lyrData.lyr.name = __getChildValue(node);\n            }\n        },\n\n        // info : /LayerList/Layer/SRS (dans le cas des couches WMS ou WFS)\n        /** TODO : jsdoc block */\n        SRS : function (node, lyrData) {\n            // on récupère la projection de la couche (SRS)\n            if (lyrData && lyrData.lyr) {\n                lyrData.lyr.defaultProjection = __getChildValue(node);\n            }\n        },\n\n        // info : /LayerList/Layer/FormatList/Format\n        /** TODO : jsdoc block */\n        Format : function (node, lyrData) {\n            if (lyrData && lyrData.lyr) {\n                var f = new _Response_model_Format__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n                var current = node.getAttribute(\"current\");\n                if (current === \"1\") {\n                    f.current = true;\n                } else {\n                    f.current = false;\n                }\n                f.name = __getChildValue(node);\n                // si on n'a pas encore ajouté de format, on crée le tableau vide\n                if (!lyrData.lyr.formats || !Array.isArray(lyrData.lyr.formats)) {\n                    lyrData.lyr.formats = [];\n                }\n                lyrData.lyr.formats.push(f);\n            }\n        },\n\n        // info : /LayerList/Layer/StyleList/Style\n        /** TODO : jsdoc block */\n        Style : function (node, lyrData) {\n            if (lyrData && lyrData.lyr) {\n                var s = new _Response_model_Style__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\n                var current = node.getAttribute(\"current\");\n                if (current === \"1\" || current === 1) {\n                    s.current = true;\n                } else {\n                    s.current = false;\n                }\n                if (node.hasChildNodes) {\n                    var children = node.childNodes;\n                    var child;\n                    var childName;\n                    for (var i = 0; i < children.length; i++) {\n                        child = children[i];\n                        if (child.nodeType === 1) { // 1 === node.ELEMENT_NODE\n                            childName = child.localName || child.baseName || child.nodeName;\n                            if (childName === \"Name\") {\n                                s.name = __getChildValue(child);\n                            } else if (childName === \"Title\") {\n                                s.title = __getChildValue(child);\n                            } else if (childName === \"URL\") {\n                                s.url = __getChildValue(child);\n                            }\n                        }\n                    }\n                }\n                // si on n'a pas encore ajouté de style, on crée le tableau vide\n                if (!lyrData.lyr.styles || !Array.isArray(lyrData.lyr.styles)) {\n                    lyrData.lyr.styles = [];\n                }\n                lyrData.lyr.styles.push(s);\n            }\n        },\n\n        // info : /LayerList/Layer/DimensionList/Dimension\n        /** TODO : jsdoc block */\n        Dimension : function (node, lyrData) {\n            // possède des attributs obligatoires : name, units, unitSymbol et userValue\n            // et d'autres attributs facultatifs : default, multipleValues, nearestValue, current\n            var name = node.getAttribute(\"name\");\n            var dim = __getChildValue(node);\n            if (lyrData && lyrData.lyr) {\n                // si on n'a pas encore ajouté de dimension, on crée l'objet vide\n                if (!lyrData.lyr.dimensions) {\n                    lyrData.lyr.dimensions = {};\n                }\n                if (name === \"Type\") {\n                    lyrData.lyr.dimensions.type = dim;\n                } else if (name === \"VisibilityRange\") {\n                    lyrData.lyr.dimensions.visibilityRange = dim;\n                } else if (name === \"VisibilityMode \") {\n                    lyrData.lyr.dimensions.visibilityMode = dim;\n                } else if (name === \"GeometricType\") {\n                    lyrData.lyr.dimensions.geometricType = dim;\n                } else if (name === \"NoDataValue\") {\n                    lyrData.lyr.dimensions.noDataValue = dim;\n                }\n            }\n        }\n\n    },\n\n    gpp : {\n\n        // info : /General/Extension/gpp:General/gpp:Theme\n        /** TODO : jsdoc block */\n        Theme : function (themeNode, config) {\n            if (config && config.generalOptions && config.generalOptions.hasOwnProperty(\"theme\")) {\n                config.generalOptions.theme = __getChildValue(themeNode);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:defaultGMLGFIStyleUrl\n        /** TODO : jsdoc block */\n        defaultGMLGFIStyleUrl : function (node, config) {\n            if (config && config.generalOptions && config.generalOptions.hasOwnProperty(\"defaultGMLGFIStyle\")) {\n                config.generalOptions.defaultGMLGFIStyle = __getChildValue(node);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory\n        /** TODO : jsdoc block */\n        Territory : function (territoryNode, config) {\n            // info : Information to configure the API for this territory\n            var tid = territoryNode.getAttribute(\"id\");\n            if (tid) {\n                // create a new Territory\n                var t = new _Response_model_Territory__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n\n                var isDefault = territoryNode.getAttribute(\"default\");\n                if (isDefault === \"1\") {\n                    t.isDefault = true;\n                } else {\n                    t.isDefault = false;\n                }\n                // read territory informations\n                __getChildNodes(territoryNode, t);\n                // add territory to config\n                if (config && config.territories && typeof config.territories === \"object\") {\n                    config.territories[tid] = t;\n                }\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/gpp:defaultCRS\n        /** TODO : jsdoc block */\n        defaultCRS : function (node, territory) {\n            // info : Identifier for the default Coordinate Reference System (CRS).\n            if (territory && territory.hasOwnProperty(\"defaultCRS\")) {\n                territory.defaultCRS = __getChildValue(node);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/gpp:AdditionalCRS\n        // ou : /LayerList/Extension/gpp:Layer/gpp:AdditionalCRS\n        /** TODO : jsdoc block */\n        AdditionalCRS : function (node, data) {\n            // info : Identifier for additional Coordinate Reference System (CRS).\n            // info : data peut être une instance de Territory.js, ou une instance de Layer.js\n            var addCRS = __getChildValue(node);\n            if (addCRS && data) {\n                if (Array.isArray(data.additionalCRS)) { // cas d'un territoire\n                    data.additionalCRS.push(addCRS);\n                } else { // cas d'une couche\n                    // si le tableau n'est pas encore créé\n                    if (!data.additionalProjections || !Array.isArray(data.additionalProjections)) {\n                        data.additionalProjections = [];\n                    }\n                    data.additionalProjections.push(addCRS);\n                }\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/gpp:DefaultLayer\n        /** TODO : jsdoc block */\n        DefaultLayer : function (node, territory) {\n            var lyr = node.getAttribute(\"layerId\");\n            if (lyr && territory && Array.isArray(territory.defaultLayers)) {\n                territory.defaultLayers.push(lyr);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/gpp:BoundingBox\n        // ou : /LayerList/Extension/gpp:Layer/gpp:BoundingBox\n        // ou : /LayerList/Layer/Extension/gpp:Layer/gpp:Constraints/gpp:Constraint/gpp:BoundingBox\n        // ou : /LayerList/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:Constraints/gpp:Constraint/gpp:BoundingBox\n        /** TODO : jsdoc block */\n        BoundingBox : function (node, data) {\n            if (data) {\n                var values = __getChildValue(node).split(\",\");\n                if (values.length === 4) {\n                    // get bbox coordinates (wgs84)\n                    var bbox = {\n                        left : parseFloat(values[0]),\n                        right : parseFloat(values[2]),\n                        top : parseFloat(values[3]),\n                        bottom : parseFloat(values[1])\n                    };\n                    // get temporal extent params (constraint or layer)\n                    var minT = node.getAttribute(\"minT\");\n                    var maxT = node.getAttribute(\"maxT\");\n\n                    if (data.hasOwnProperty(\"geoBBOX\")) { // cas d'un territoire\n                        data.geoBBOX = bbox;\n                    } else if (data.hasOwnProperty(\"bbox\")) { // cas d'une constraint\n                        if (data.bbox.left || data.bbox.right || data.bbox.top || data.bbox.bottom) {\n                            // si on a déjà une bbox, il faut stocker d'autres contraintes\n                            if (!data.multiConstraints) {\n                                data.multiConstraints = [];\n                            }\n                            var newConstraint = new _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n                            newConstraint.bbox = bbox;\n                            newConstraint.temporalExtent = [minT, maxT];\n                            data.multiConstraints.push(newConstraint);\n                        } else {\n                            // contrainte classique\n                            data.bbox = bbox;\n                            data.temporalExtent = [minT, maxT];\n                        }\n                    } else { // cas d'une layer\n                        if (!data.globalConstraint) {\n                            data.globalConstraint = new _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n                        }\n                        data.globalConstraint.bbox = bbox;\n                        data.globalConstraint.temporalExtent = [minT, maxT];\n                    }\n                }\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/gpp:Resolution\n        /** TODO : jsdoc block */\n        Resolution : function (node, territory) {\n            // info : The default resolution to display on this territory, in CRS coordinate system\n            var res = __getChildValue(node);\n            if (res && territory && territory.defaultOptions && territory.defaultOptions.hasOwnProperty(\"resolution\")) {\n                territory.defaultOptions.resolution = parseFloat(res);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/gpp:Center/gpp:x\n        /** TODO : jsdoc block */\n        x : function (node, territory) {\n            var lon = __getChildValue(node);\n            if (lon && territory && territory.geoCenter && territory.geoCenter.hasOwnProperty(\"lon\")) {\n                territory.geoCenter.lon = parseFloat(lon);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/gpp:Center/gpp:y\n        /** TODO : jsdoc block */\n        y : function (node, territory) {\n            var lat = __getChildValue(node);\n            if (lat && territory && territory.geoCenter && territory.geoCenter.hasOwnProperty(\"lat\")) {\n                territory.geoCenter.lat = parseFloat(lat);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Resolutions\n        /** TODO : jsdoc block */\n        Resolutions : function (resNode, config) {\n            // info : List of resolutions in CRS:84 (comma separated values)\n            if (config && config.generalOptions && config.generalOptions.hasOwnProperty(\"wgs84Resolutions\")) {\n                config.generalOptions.wgs84Resolutions = __getChildValue(resNode).split(\",\");\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer\n        /** TODO : jsdoc block */\n        Layer : function (node, lyrData) {\n            // attributs : id, opacity, order, visibleInCatalog, aggregate, more\n            if (lyrData && lyrData.hasOwnProperty(\"lyrId\") && lyrData.lyr) {\n                lyrData.lyrId = node.getAttribute(\"id\");\n                var aggregate = node.getAttribute(\"aggregate\");\n                var more = node.getAttribute(\"more\");\n                if (aggregate || more) {\n                    lyrData.lyr.isAggregate = true;\n                }\n                __getChildNodes(node, lyrData.lyr);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Constraints/gpp:Constraint\n        // ou : /LayerList/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:Constraints/gpp:Constraint\n        /** TODO : jsdoc block */\n        Constraint : function (node, data) {\n            var c = new _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n            __getChildNodes(node, c);\n            if (data) {\n                // on peut être dans le cas d'un originator ou d'une layer, tous les deux ont l'attribut constraints\n                if (!data.constraints || !Array.isArray(data.constraints)) {\n                    data.constraints = [];\n                }\n\n                // cas de plusieurs contraintes (par ex différents territoires)\n                if (c.multiConstraints && Array.isArray(c.multiConstraints)) {\n                    // on récupère la première contrainte, stockée normalement\n                    var constraint = new _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n                    constraint.crs = c.crs;\n                    constraint.bbox = c.bbox;\n                    constraint.minScaleDenominator = c.minScaleDenominator;\n                    constraint.maxScaleDenominator = c.maxScaleDenominator;\n                    constraint.temporalExtent = c.temporalExtent;\n                    data.constraints.push(constraint);\n\n                    // puis on récupère les autres contraintes, à partir de multiConstraints\n                    for (var i = 0; i < c.multiConstraints.length; i++) {\n                        constraint = new _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n                        constraint.crs = c.crs;\n                        constraint.minScaleDenominator = c.minScaleDenominator;\n                        constraint.maxScaleDenominator = c.maxScaleDenominator;\n                        constraint.bbox = c.multiConstraints[i].bbox;\n                        constraint.temporalExtent = c.multiConstraints[i].temporalExtent;\n                        data.constraints.push(constraint);\n                    }\n                } else {\n                    // cas d'une contrainte classique\n                    data.constraints.push(c);\n                }\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:Constraints/gpp:Constraint/gpp:CRS\n        // ou : /LayerList/Layer/Extension/gpp:Layer/gpp:Constraints/gpp:Constraint/gpp:CRS\n        /** TODO : jsdoc block */\n        CRS : function (node, data) {\n            // nothing to do.\n            if (data && data.hasOwnProperty(\"crs\")) {\n                data.crs = __getChildValue(node);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Thematics/gpp:Thematic\n        /** TODO : jsdoc block */\n        Thematic : function (node, lyr) {\n            if (lyr) {\n                var t = new _Response_model_Thematic__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n                t.inspire = false;\n                t.name = __getChildValue(node);\n                // si aucune thématique n'a été ajoutée, on crée le tableau vide\n                if (!lyr.thematics || !Array.isArray(lyr.thematics)) {\n                    lyr.thematics = [];\n                }\n                lyr.thematics.push(t);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Thematics/gpp:InspireThematic\n        /** TODO : jsdoc block */\n        InspireThematic : function (node, lyr) {\n            if (lyr) {\n                var t = new _Response_model_Thematic__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n                t.inspire = true;\n                t.name = __getChildValue(node);\n                // si aucune thématique n'a été ajoutée, on crée le tableau vide\n                if (!lyr.thematics || !Array.isArray(lyr.thematics)) {\n                    lyr.thematics = [];\n                }\n                lyr.thematics.push(t);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Originators/gpp:Originator\n        /** TODO : jsdoc block */\n        Originator : function (node, lyr) {\n            if (lyr) {\n                // info : contient des balises Attribution, Logo, URL, et Constraints\n                var o = new _Response_model_Originator__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n                o.name = node.getAttribute(\"name\");\n                __getChildNodes(node, o);\n                // si aucun originator n'a été ajouté, on crée le tableau vide\n                if (!lyr.originators || !Array.isArray(lyr.originators)) {\n                    lyr.originators = [];\n                }\n                lyr.originators.push(o);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:Attribution\n        /** TODO : jsdoc block */\n        Attribution : function (node, originator) {\n            if (originator && originator.hasOwnProperty(\"attribution\")) {\n                originator.attribution = __getChildValue(node);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:Logo\n        /** TODO : jsdoc block */\n        Logo : function (node, originator) {\n            if (originator && originator.hasOwnProperty(\"logo\")) {\n                originator.logo = __getChildValue(node);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:URL\n        /** TODO : jsdoc block */\n        URL : function (node, originator) {\n            if (originator && originator.hasOwnProperty(\"url\")) {\n                originator.url = __getChildValue(node);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Legends/gpp:Legend\n        /** TODO : jsdoc block */\n        Legend : function (node, lyr) {\n            // 2 balises : sld:MinScaleDenominator et gpp:LegendURL\n            var l = new _Response_model_Legend__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n            __getChildNodes(node, l);\n            if (lyr) {\n                // si aucune légende n'a encore été ajoutée, on crée le tableau vide\n                if (!lyr.legends || !Array.isArray(lyr.legends)) {\n                    lyr.legends = [];\n                }\n                lyr.legends.push(l);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Legends/gpp:Legend/gpp:LegendURL\n        /** TODO : jsdoc block */\n        LegendURL : function (node, legend) {\n            if (legend && legend.hasOwnProperty(\"format\")) {\n                legend.format = node.getAttribute(\"format\");\n                if (node.hasChildNodes) {\n                    var child = node.childNodes[0];\n                    var childName = child.localName || child.baseName || child.nodeName;\n                    if (childName === \"OnlineResource\" && legend.hasOwnProperty(\"url\")) {\n                        legend.url = child.getAttribute(\"xlink:href\");\n                    }\n                }\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:QuickLook\n        /** TODO : jsdoc block */\n        QuickLook : function (node, lyr) {\n            // info : contient une balise OnlineResource avec l'url dans l'attribut \"xlink:href\"\n            if (node.hasChildNodes) {\n                var child = node.childNodes[0];\n                var childName = child.localName || child.baseName || child.nodeName;\n                if (childName === \"OnlineResource\" && lyr) {\n                    lyr.quicklookUrl = child.getAttribute(\"xlink:href\");\n                }\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:MetadataURL\n        /** TODO : jsdoc block */\n        MetadataURL : function (node, lyr) {\n            if (lyr) {\n                // info : contient une balise OnlineResource avec l'url dans l'attribut \"xlink:href\"\n                var m = new _Response_model_Metadata__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n                m.format = node.getAttribute(\"format\");\n                if (node.hasChildNodes) {\n                    var child = node.childNodes[0];\n                    var childName = child.localName || child.baseName || child.nodeName;\n                    if (childName === \"OnlineResource\") {\n                        m.url = child.getAttribute(\"xlink:href\");\n                    }\n                }\n                // si aucune metadata n'a été ajoutée, on crée le tableau vide\n                if (!lyr.metadata && !Array.isArray(lyr.metadata)) {\n                    lyr.metadata = [];\n                }\n                lyr.metadata.push(m);\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/gpp:Keys/gpp:Key\n        /** TODO : jsdoc block */\n        Key : function (node, lyr) {\n            if (lyr) {\n                // récupération de la clé API\n                var key = node.getAttribute(\"id\");\n                // si on n'a pas encore ajouté de clé, on crée le tableau vide\n                if (!lyr.apiKeys || !Array.isArray(lyr.apiKeys)) {\n                    lyr.apiKeys = [];\n                }\n                lyr.apiKeys.push(key);\n\n                // récupération de l'url du service avec la clé API\n                var serverUrl = __getChildValue(node);\n                if (!lyr.serviceParams) {\n                    lyr.serviceParams = {};\n                }\n                if (!lyr.serviceParams.serverUrl) {\n                    lyr.serviceParams.serverUrl = {};\n                }\n                if (!lyr.serviceParams.serverUrl[key]) {\n                    lyr.serviceParams.serverUrl[key] = serverUrl;\n                }\n            }\n        }\n\n    },\n\n    ows : {\n        /** TODO : jsdoc block */\n        Identifier : function (node, data) {\n            if (data && data.hasOwnProperty(\"TMS\")) { // dans le cas d'un TileMatrixSet\n                data.identifier = __getChildValue(node);\n            } else if (data && data.hasOwnProperty(\"matrixId\")) { // dans le cas d'une TileMatrix\n                data.matrixId = __getChildValue(node);\n            }\n        },\n\n        /** TODO : jsdoc block */\n        SupportedCRS : function (node, tmsData) {\n            if (tmsData && tmsData.TMS && tmsData.TMS.hasOwnProperty(\"projection\")) {\n                tmsData.TMS.projection = __getChildValue(node);\n            }\n        }\n    },\n\n    sld : {\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/sld:MinScaleDenominator\n        // ou : /LayerList/Layer/sld:MinScaleDenominator\n        // ou : /LayerList/Layer/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:Constraints/sld:MinScaleDenominator\n        // ou : /LayerList/Layer/Extension/gpp:Layer/gpp:Legends/gpp:Legend/sld:MinScaleDenominator\n        /** TODO : jsdoc block */\n        MinScaleDenominator : function (node, data) {\n            var minScale = __getChildValue(node);\n            if (minScale && data) {\n                if (data.hasOwnProperty(\"defaultOptions\")) { // cas d'un territoire\n                    data.defaultOptions.minScaleDenominator = parseFloat(minScale);\n                } else if (data.lyr) { // cas d'une layer\n                    if (!data.lyr.globalConstraint) {\n                        data.lyr.globalConstraint = new _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n                    }\n                    data.lyr.globalConstraint.minScaleDenominator = parseFloat(minScale);\n                } else if (data.hasOwnProperty(\"minScaleDenominator\")) { // cas d'une contrainte ou d'une légende\n                    data.minScaleDenominator = parseFloat(minScale);\n                }\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:Territories/gpp:Territory/sld:MaxScaleDenominator\n        // ou : /LayerList/Layer/sld:MaxScaleDenominator\n        // ou : /LayerList/Layer/Extension/gpp:Layer/gpp:Originators/gpp:Originator/gpp:Constraints/sld:MaxScaleDenominator\n        /** TODO : jsdoc block */\n        MaxScaleDenominator : function (node, data) {\n            var maxScale = __getChildValue(node);\n            if (maxScale && data) {\n                if (data.hasOwnProperty(\"defaultOptions\")) { // cas d'un territoire\n                    data.defaultOptions.maxScaleDenominator = parseFloat(maxScale);\n                } else if (data.lyr) { // cas d'une layer\n                    if (!data.lyr.globalConstraint) {\n                        data.lyr.globalConstraint = new _Response_model_Constraint__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n                    }\n                    data.lyr.globalConstraint.maxScaleDenominator = parseFloat(maxScale);\n                } else if (data.hasOwnProperty(\"maxScaleDenominator\")) { // cas d'une contrainte\n                    data.maxScaleDenominator = parseFloat(maxScale);\n                }\n            }\n        }\n    },\n\n    wmts : {\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/wmts:TileMatrixSetLink/wmts:TileMatrixSetLimits\n        /** TODO : jsdoc block */\n        TileMatrixSetLimits : function (node, lyr) {\n            // info : contient des balises wmts:TileMatrixLimits\n            if (lyr) {\n                var limits = {};\n                // on récupère les limites dans les balises TileMatrixLimits\n                __getChildNodes(node, limits);\n\n                if (!lyr.wmtsOptions) {\n                    lyr.wmtsOptions = {};\n                }\n                lyr.wmtsOptions.tileMatrixSetLimits = limits;\n            }\n        },\n\n        // info : /LayerList/Layer/Extension/gpp:Layer/wmts:TileMatrixSetLink/wmts:TileMatrixSetLimits/wmts:TileMatrixLimits\n        /** TODO : jsdoc block */\n        TileMatrixLimits : function (node, limits) {\n            var limit = new _Response_model_TileMatrixLimit__WEBPACK_IMPORTED_MODULE_13__[\"default\"]();\n            var limitId;\n            if (node.hasChildNodes) {\n                var children = node.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    var child = children[i];\n                    var childName = child.localName || child.baseName || child.nodeName;\n                    if (childName === \"TileMatrix\") {\n                        limitId = __getChildValue(child);\n                    } else if (childName === \"MinTileRow\") {\n                        limit.minTileRow = __getChildValue(child);\n                    } else if (childName === \"MaxTileRow\") {\n                        limit.maxTileRow = __getChildValue(child);\n                    } else if (childName === \"MinTileCol\") {\n                        limit.minTileCol = __getChildValue(child);\n                    } else if (childName === \"MaxTileCol\") {\n                        limit.maxTileCol = __getChildValue(child);\n                    }\n                }\n                if (limitId && limits && !limits[limitId]) {\n                    limits[limitId] = limit;\n                }\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet\n        // ou : // info : /LayerList/Layer/Extension/gpp:Layer/wmts:TileMatrixSetLink/wmts:TileMatrixSet\n        /** TODO : jsdoc block */\n        TileMatrixSet : function (node, data) {\n            // info : Describes a particular set of tile matrices.\n\n            if (data && data.tileMatrixSets) { // les tileMatrixSets de General\n                // nouvel objet TileMatrixSet\n                var tmsData = {};\n                tmsData.TMS = new _Response_model_TileMatrixSet__WEBPACK_IMPORTED_MODULE_11__[\"default\"]();\n                tmsData.resolutions = [];\n\n                // lecture des informations du TMS\n                __getChildNodes(node, tmsData);\n\n                // récupération des identifiants des niveaux de matrice (pour faciliter l'accès au WMTS via les API carto)\n                var tileMatrices = tmsData.TMS.tileMatrices;\n                for (var tm in tileMatrices) {\n                    if (tileMatrices.hasOwnProperty(tm)) {\n                        tmsData.TMS.matrixIds.push(tm);\n                    }\n                }\n\n                if (tmsData.TMS.getProjection() === \"IGNF:WGS84G\" || tmsData.TMS.getProjection() === \"EPSG:4326\") {\n                    if (data.generalOptions && Array.isArray(data.generalOptions.wgs84Resolutions)) {\n                        var wgs84Resolutions = data.generalOptions.wgs84Resolutions;\n                        for (var i = 0; i < wgs84Resolutions.length; i++) {\n                            // info : les résolutions stockées dans wgs84Resolutions, issues de l'autoconf, sont des string\n                            tmsData.resolutions[i] = parseFloat(wgs84Resolutions[i]);\n                        }\n                    }\n                }\n\n                // tri des résolutions (par ordre décroissant cette fois)\n                if (Array.isArray(tmsData.resolutions) && tmsData.resolutions.sort !== undefined) {\n                    tmsData.resolutions.sort(\n                        function (x, y) {\n                            return y - x;\n                        }\n                    );\n                }\n                tmsData.TMS.nativeResolutions = tmsData.resolutions;\n\n                // ajout du TileMatrixSet à la variable config\n                data.tileMatrixSets[tmsData.identifier] = tmsData.TMS;\n            } else { // le TileMatrixSetLink d'une couche (layer)\n                if (data && !data.wmtsOptions) {\n                    data.wmtsOptions = {};\n                }\n                // ajout du lien vers le TMS\n                data.wmtsOptions.tileMatrixSetLink = __getChildValue(node);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet/wmts:TileMatrix\n        /** TODO : jsdoc block */\n        TileMatrix : function (node, tmsData) {\n            // info : Describes a particular tile matrix.\n\n            if (tmsData) {\n                // nouveau niveau de matrice : TileMatrix\n                var tileMatrix = new _Response_model_TileMatrix__WEBPACK_IMPORTED_MODULE_12__[\"default\"]();\n\n                // lecture des information du TileMatrix\n                __getChildNodes(node, tileMatrix);\n\n                // calcul de la résolution associée au dénominateur d'échelle du niveau de pyramide, selon la projection.\n                if (tmsData.TMS && tmsData.TMS.getProjection()) {\n                    var proj = tmsData.TMS.getProjection();\n                    if (proj === \"EPSG:3857\" || proj === \"EPSG:2154\") {\n                        // calcul de la résolution associée, en m/px\n                        // en se basant sur une \"taille standard de pixel\" de 0.28mm*0.28mm (standard WMTS 1.0)\n                        var r = tileMatrix.scaleDenominator * 0.00028;\n                        if (tmsData.resolutions && Array.isArray(tmsData.resolutions)) {\n                            tmsData.resolutions.push(r);\n                        }\n                    }\n                }\n\n                // ajout du TileMatrix au TileMatrixSet\n                if (tmsData.TMS && tmsData.TMS.tileMatrices) {\n                    tmsData.TMS.tileMatrices[tileMatrix.matrixId] = tileMatrix;\n                }\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet/wmts:TileMatrix/wmts:ScaleDenominator\n        /** TODO : jsdoc block */\n        ScaleDenominator : function (node, tileMatrix) {\n            var scale = __getChildValue(node);\n            if (scale && tileMatrix && tileMatrix.hasOwnProperty(\"scaleDenominator\")) {\n                tileMatrix.scaleDenominator = parseFloat(scale);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet/wmts:TileMatrix/wmts:TopLeftCorner\n        /** TODO : jsdoc block */\n        TopLeftCorner : function (node, tileMatrix) {\n            var values = __getChildValue(node).split(\" \");\n            if (values && tileMatrix) {\n                tileMatrix.topLeftCorner = {};\n                tileMatrix.topLeftCorner.x = parseFloat(values[0]);\n                tileMatrix.topLeftCorner.y = parseFloat(values[1]);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet/wmts:TileMatrix/wmts:TileWidth\n        /** TODO : jsdoc block */\n        TileWidth : function (node, tileMatrix) {\n            var value = __getChildValue(node);\n            if (value && tileMatrix && tileMatrix.hasOwnProperty(\"tileWidth\")) {\n                tileMatrix.tileWidth = parseInt(value, 10);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet/wmts:TileMatrix/wmts:TileHeight\n        /** TODO : jsdoc block */\n        TileHeight : function (node, tileMatrix) {\n            var value = __getChildValue(node);\n            if (value && tileMatrix && tileMatrix.hasOwnProperty(\"tileHeight\")) {\n                tileMatrix.tileHeight = parseInt(value, 10);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet/wmts:TileMatrix/wmts:MatrixWidth\n        /** TODO : jsdoc block */\n        MatrixWidth : function (node, tileMatrix) {\n            var value = __getChildValue(node);\n            if (value && tileMatrix && tileMatrix.hasOwnProperty(\"matrixWidth\")) {\n                tileMatrix.matrixWidth = parseInt(value, 10);\n            }\n        },\n\n        // info : /General/Extension/gpp:General/gpp:TileMatrixSets/wmts:TileMatrixSet/wmts:TileMatrix/wmts:MatrixHeight\n        /** TODO : jsdoc block */\n        MatrixHeight : function (node, tileMatrix) {\n            var value = __getChildValue(node);\n            if (value && tileMatrix && tileMatrix.hasOwnProperty(\"matrixHeight\")) {\n                tileMatrix.matrixHeight = parseInt(value, 10);\n            }\n        }\n    },\n\n    /** TODO : jsdoc block */\n    serviceException : function (node) {\n        var response = {};\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                if (child.nodeName === \"exception\") {\n                    response.exceptionReport = AutoConfResponseReader.READERS[\"exception\"](child);\n                }\n            }\n        }\n        return response;\n    },\n\n    /** TODO : jsdoc block */\n    exception : function (node) {\n        var exceptionReport = {};\n\n        // get exception code\n        var exceptionCode = node.getAttribute(\"code\");\n        if (exceptionCode) {\n            exceptionReport.exceptionCode = exceptionCode;\n        }\n\n        // get exception message\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            exceptionReport.exception = textNode.nodeValue;\n        }\n\n        return exceptionReport;\n    }\n\n};\n\n/**\n * Méthode permettant de lancer la lecture d'une réponse XML du service d'autoconf,\n *      à l'aide des READERS de la classe.\n *\n * @method AutoConfResponseReader.read\n * @param {DOMElement} root - racine de la réponse XML à lire\n * @return {Object} config|exceptionReport : l'objet contenant les informations de la réponse XML,\n *      sous la forme d'un objet AutoConfResponse, ou un objet littéral exceptionReport si le service a renvoyé une exception.\n * @static\n * @memberof AutoConfResponseReader\n */\nAutoConfResponseReader.read = function (root) {\n    if (root.nodeName === \"ViewContext\") {\n        var nsPrefix = root.prefix || AutoConfResponseReader.DEFAULTPREFIX;\n        var config = AutoConfResponseReader.READERS[nsPrefix][root.nodeName](root);\n        return config;\n    } else if (root.nodeName === \"serviceException\") {\n        var exceptionReport = AutoConfResponseReader.READERS[root.nodeName](root);\n        return exceptionReport;\n    } else {\n        throw new Error(\"Erreur lors de la lecture de la réponse : elle n'est pas au format attendu.\");\n    }\n};\n\n/**\n * Récupération des attributs d'un noeud élément\n *\n * @private\n * @memberof AutoConfResponseReader\n * @method __getAttributes\n * @param {DOMElement} node - noeud contenant l'attribut recherché\n * @return {Object} nodeAttributes - objet contenant les noms et valeurs des différents attributs\n */\nfunction __getAttributes (node) {\n    if (node.attributes.length > 0) {\n        var nodeAttributes = {};\n        var attributes = node.attributes;\n        for (var i = 0; i < attributes.length; i++) {\n            var attribute = attributes[i];\n            nodeAttributes[attribute.nodeName] = attribute.nodeValue;\n        }\n        return nodeAttributes;\n    }\n}\n\n/**\n * Récupération des noeuds enfants (seulement de type ELEMENT), à partir d'un noeud donné, pour lecture (readNode).\n *\n * @private\n * @memberof AutoConfResponseReader\n * @method __getChildNodes\n * @param {DOMElement} node - a DOM node\n * @param {Array|Object} [data] - an object to be filled with node data\n */\nfunction __getChildNodes (node, data) {\n    if (node.hasChildNodes()) {\n        var children = node.childNodes;\n        var child;\n        var childName;\n        var childPrefix;\n\n        for (var i = 0; i < children.length; i++) {\n            child = children[i];\n\n            if (child.nodeType === 1) { // 1 === node.ELEMENT_NODE\n                childName = child.localName || child.baseName || child.nodeName;\n                childPrefix = child.prefix || AutoConfResponseReader.DEFAULTPREFIX;\n\n                if (AutoConfResponseReader.READERS[childPrefix][childName]) {\n                    var reader = AutoConfResponseReader.READERS[childPrefix][childName];\n                    reader(child, data);\n                } else {\n                    __getChildNodes(child, data);\n                }\n            }\n        }\n    }\n}\n\n/**\n * Lecture de la valeur du premier child d'un noeud, si elle existe.\n *\n * @private\n * @memberof AutoConfResponseReader\n * @method __getChildValue\n * @param {DOMElement} node - a DOM node\n * @return {String} value - valeur du firstChild du noeud en entrée, ou chaîne vide.\n */\nfunction __getChildValue (node) {\n    var textNode;\n    var value = \"\";\n\n    if (node.hasChildNodes()) {\n        textNode = node.firstChild;\n        if (textNode.nodeType === 3 || textNode.nodeType === 4) { // 3 === node.TEXT_NODE\n            value = textNode.nodeValue;\n        }\n    }\n    return value;\n}\n\n/**\n * Vérification des attributs du service, dans la balise XLS de la réponse :\n *      version, namespaces, et namespace par défaut doivent correspondre à ceux attendus.\n *\n * @private\n * @memberof AutoConfResponseReader\n * @method __checkServiceAttributes\n * @param {DOMElement} viewContextNode - a DOM node, corresponding to XLS first tag.\n */\nfunction __checkServiceAttributes (viewContextNode) {\n    if (viewContextNode.attributes.length > 0) {\n        // on récupère et parcourt les attributs de la balise XLS de la réponse\n        var xlsAttributes = __getAttributes(viewContextNode);\n        for (var att in xlsAttributes) {\n            if (xlsAttributes.hasOwnProperty(att)) {\n                // vérification de la version\n                if (att === \"version\") {\n                    if (xlsAttributes[\"version\"] !== AutoConfResponseReader.VERSION) {\n                        console.log(\"[AutoConfResponseReader] autoconf version is not the expected one : there may be errors in parsing\");\n                        return;\n                    }\n                }\n\n                // on vérifie que l'uri du namespace par défaut est bien celle que l'on attend\n                if (att === \"xmlns\") {\n                    if (xlsAttributes[att] !== AutoConfResponseReader.NAMESPACES.xmlns) {\n                        console.log(\"[AutoConfResponseReader] autoconf response default namespace is not the expected one\");\n                        return;\n                    }\n                    continue;\n                }\n\n                var prefix = att.split(\":\")[0];\n                var ns = att.split(\":\")[1];\n\n                // si on a un autre xmlns, on vérifie aussi les URI\n                if (prefix === \"xmlns\" && ns) {\n                    // si l'attribut correspond à un namespace défini dans le reader\n                    if (AutoConfResponseReader.NAMESPACES[ns]) {\n                        // il faut que les URI correspondent aussi.\n                        if (AutoConfResponseReader.NAMESPACES[ns] !== xlsAttributes[att]) {\n                            console.log(\"[AutoConfResponseReader] autoconf response \" + att + \" namespace is not the expected one\");\n                            return;\n                        }\n                    }\n                }\n\n                // pour finir on vérifie la localisation du schema XSD du service\n                if (ns === \"schemaLocation\") {\n                    if (xlsAttributes[att] !== AutoConfResponseReader.SCHEMALOCATION[0] && xlsAttributes[att] !== AutoConfResponseReader.SCHEMALOCATION[1]) {\n                        console.log(\"[AutoConfResponseReader] autoconf response schema location is not the expected one\");\n                        return;\n                    }\n                }\n            }\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoConfResponseReader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvRm9ybWF0cy9BdXRvQ29uZlJlc3BvbnNlUmVhZGVyLmpzP2IzYjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0U7QUFDWjtBQUNSO0FBQ0Y7QUFDRTtBQUNJO0FBQ0k7QUFDTjtBQUNKO0FBQ1E7QUFDRjtBQUNVO0FBQ047QUFDVTs7QUFFaEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIsd0VBQWdCOztBQUU3Qzs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQSxhQUFhLDZCQUE2QjtBQUMxQztBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtEQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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eEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLHFCQUFxQjtBQUM1Qzs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxxRkFBc0IsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvRm9ybWF0cy9BdXRvQ29uZlJlc3BvbnNlUmVhZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIEZvbmN0aW9uIHJldG91cm5hbnQgdW4gb2JqZXQgY29udGVuYW50IGRlcyBjbMOpcyBkZSBsZWN0dXJlIChyZWFkZXJzKVxuICogICAgICBxdWkgcGVybWV0dGVudCBkZSBwYXJzZXIgZGVzIHLDqXBvbnNlcyBYTUwgZHUgc2VydmljZSBkJ2F1dG9jb25maWd1cmF0aW9uIGR1IEfDqW9wb3J0YWlsXG4gKiAgICAgIGFmaW4gZGUgcsOpY3Vww6lyZXIgbGVzIGluZm9ybWF0aW9ucyByZXRvdXJuw6llcy5cbiAqIEBtb2R1bGUgQXV0b0NvbmZSZXNwb25zZVJlYWRlclxuICogQHByaXZhdGVcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5BdXRvQ29uZi5Gb3JtYXRzLkF1dG9Db25mUmVzcG9uc2VSZWFkZXJcbiAqL1xuXG4vLyBpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBBdXRvQ29uZlJlc3BvbnNlIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9BdXRvQ29uZlJlc3BvbnNlXCI7XG5pbXBvcnQgQ29uc3RyYWludCBmcm9tIFwiLi4vUmVzcG9uc2UvbW9kZWwvQ29uc3RyYWludFwiO1xuaW1wb3J0IEZvcm1hdCBmcm9tIFwiLi4vUmVzcG9uc2UvbW9kZWwvRm9ybWF0XCI7XG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL0xheWVyXCI7XG5pbXBvcnQgTGVnZW5kIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9MZWdlbmRcIjtcbmltcG9ydCBNZXRhZGF0YSBmcm9tIFwiLi4vUmVzcG9uc2UvbW9kZWwvTWV0YWRhdGFcIjtcbmltcG9ydCBPcmlnaW5hdG9yIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9PcmlnaW5hdG9yXCI7XG5pbXBvcnQgU2VydmljZSBmcm9tIFwiLi4vUmVzcG9uc2UvbW9kZWwvU2VydmljZVwiO1xuaW1wb3J0IFN0eWxlIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9TdHlsZVwiO1xuaW1wb3J0IFRlcnJpdG9yeSBmcm9tIFwiLi4vUmVzcG9uc2UvbW9kZWwvVGVycml0b3J5XCI7XG5pbXBvcnQgVGhlbWF0aWMgZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL1RoZW1hdGljXCI7XG5pbXBvcnQgVGlsZU1hdHJpeFNldCBmcm9tIFwiLi4vUmVzcG9uc2UvbW9kZWwvVGlsZU1hdHJpeFNldFwiO1xuaW1wb3J0IFRpbGVNYXRyaXggZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL1RpbGVNYXRyaXhcIjtcbmltcG9ydCBUaWxlTWF0cml4TGltaXQgZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL1RpbGVNYXRyaXhMaW1pdFwiO1xuXG52YXIgQXV0b0NvbmZSZXNwb25zZVJlYWRlciA9IHt9O1xuXG4vKipcbiAqIHZlcnNpb24gZHUgc2VydmljZSBkJ2F1dG9jb25mXG4gKi9cbkF1dG9Db25mUmVzcG9uc2VSZWFkZXIuVkVSU0lPTiA9IFwiMS4xLjBcIjtcblxuLyoqXG4gKiBPYmpldCBzdG9ja2FudCBsZXMgZGlmZsOpcmVudHMgbmFtZXNwYWNlcyBldCBsZXMgVVJJIGFzc29jacOpZXNcbiAqL1xuQXV0b0NvbmZSZXNwb25zZVJlYWRlci5OQU1FU1BBQ0VTID0ge1xuICAgIHhtbG5zIDogXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2NvbnRleHRcIixcbiAgICBncHAgOiBcImh0dHA6Ly9hcGkuaWduLmZyL2dlb3BvcnRhaWxcIixcbiAgICBvd3MgOiBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLzEuMVwiLFxuICAgIHNsZCA6IFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zbGRcIixcbiAgICB3bXRzIDogXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dtdHMvMS4wXCIsXG4gICAgeGxpbmsgOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgICB4c2kgOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCJcbn07XG5cbi8qKlxuICogTG9jYWxpc2F0aW9uIChVUkwpIGR1IHNjaGVtYSBkZSBkw6lmaW5pdGlvbiBkdSBYTUwgKFhTRClcbiAqL1xuQXV0b0NvbmZSZXNwb25zZVJlYWRlci5TQ0hFTUFMT0NBVElPTiA9IFtcbiAgICBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvY29udGV4dCBodHRwOi8vd3hzLmlnbi5mci9zY2hlbWFzL2V4dENvbnRleHQueHNkIGh0dHA6Ly9hcGkuaWduLmZyL2dlb3BvcnRhaWwgaHR0cDovL3d4cy5pZ24uZnIvc2NoZW1hcy9hdXRvY29uZi9hdXRvY29uZi54c2RcIixcbiAgICBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvY29udGV4dCBodHRwOi8vd3hzLmlnbi5mci9zY2hlbWFzL2V4dENvbnRleHQueHNkIGh0dHA6Ly9hcGkuaWduLmZyL2dlb3BvcnRhaWwgaHR0cDovL3d4cy5pZ24uZnIvc2NoZW1hcy9hdXRvY29uZi54c2RcIlxuXTtcblxuLyoqXG4gKiBOYW1lc3BhY2UgcGFyIGTDqWZhdXQgZHUgZm9ybWF0XG4gKi9cbkF1dG9Db25mUmVzcG9uc2VSZWFkZXIuREVGQVVMVFBSRUZJWCA9IFwiY29udGV4dFwiO1xuXG4vKipcbiAqIE9iamV0IGNvbnRlbmFudCBkZXMgZm9uY3Rpb25zIGRlIGxlY3R1cmUsIGFwcGVsw6llcyBcIlJFQURFUlNcIlxuICogICAgICBkb250IGNoYXF1ZSBjbMOpIGNvcnJlc3BvbmQgYXUgbm9tIGQndW4gdGFnIGR1IFhNTCBxdWUgbCdvbiBzb3VoYWl0ZSBsaXJlXG4gKiAgICAgIGV0IGxhIHZhbGV1ciBhc3NvY2nDqWUgZXN0IHVuZSBmb25jdGlvbiAobm9kZSwgZGF0YSlcbiAqICAgICAgb8O5IG5vZGUgZXN0IHVuIG5vZXVkIGR1IGRvY3VtZW50IERPTVxuICogICAgICBldCBkYXRhIGVzdCB1biBvYmpldCBvw7kgbCdvbiBzdG9ja2UgbGVzIGluZm9ybWF0aW9ucyBsdWVzIGRhbnMgbGUgWE1MLlxuICovXG5BdXRvQ29uZlJlc3BvbnNlUmVhZGVyLlJFQURFUlMgPSB7XG5cbiAgICBjb250ZXh0IDoge1xuXG4gICAgICAgIC8qKiBWaWV3Q29udGV4dCAqL1xuICAgICAgICBWaWV3Q29udGV4dCA6IGZ1bmN0aW9uICh2aWV3Q29udGV4dE5vZGUpIHtcbiAgICAgICAgICAgIC8vIGluZm8gOiBiYWxpc2UgXCJyYWNpbmVcIiBkZSBsYSByw6lwb25zZSBkZSBsJ2F1dG9jb25mXG5cbiAgICAgICAgICAgIC8vIHbDqXJpZmljYXRpb24gZGUgbGEgdmVyc2lvbiBkdSBzZXJ2aWNlLCBldCBkZXMgbmFtZXNwYWNlcyBkZSBsJ2VuLXTDqnRlXG4gICAgICAgICAgICBfX2NoZWNrU2VydmljZUF0dHJpYnV0ZXModmlld0NvbnRleHROb2RlKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIEF1dG9Db25mUmVzcG9uc2VcbiAgICAgICAgICAgIHZhciBjb25maWcgPSBuZXcgQXV0b0NvbmZSZXNwb25zZSgpO1xuXG4gICAgICAgICAgICBfX2dldENoaWxkTm9kZXModmlld0NvbnRleHROb2RlLCBjb25maWcpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvR2VuZXJhbC9UaXRsZVxuICAgICAgICAvLyBvdSA6IC9MYXllckxpc3QvTGF5ZXIvVGl0bGVcbiAgICAgICAgLyoqIFRpdGxlICovXG4gICAgICAgIFRpdGxlIDogZnVuY3Rpb24gKHRpdGxlTm9kZSwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5nZW5lcmFsT3B0aW9ucykgeyAvLyBjYXMgZGUgbGEgdmFyaWFibGUgY29uZmlnIGfDqW7DqXJhbGVcbiAgICAgICAgICAgICAgICBkYXRhLmdlbmVyYWxPcHRpb25zLnRpdGxlID0gX19nZXRDaGlsZFZhbHVlKHRpdGxlTm9kZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEgJiYgZGF0YS5seXIpIHsgLy8gY2FzIGQndW5lIGxheWVyXG4gICAgICAgICAgICAgICAgZGF0YS5seXIudGl0bGUgPSBfX2dldENoaWxkVmFsdWUodGl0bGVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9BYnN0cmFjdFxuICAgICAgICAvKiogQWJzdHJhY3QgKi9cbiAgICAgICAgQWJzdHJhY3QgOiBmdW5jdGlvbiAobm9kZSwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5seXIpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmx5ci5kZXNjcmlwdGlvbiA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpTZXJ2aWNlcy9TZXJ2ZXJcbiAgICAgICAgLy8gb3UgOiAvTGF5ZXJMaXN0L1NlcnZlclxuICAgICAgICAvKiogU2VydmVyICovXG4gICAgICAgIFNlcnZlciA6IGZ1bmN0aW9uIChub2RlLCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgc2VydmVySWQgPSBub2RlLmdldEF0dHJpYnV0ZShcInNlcnZpY2VcIik7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBub2RlLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpO1xuICAgICAgICAgICAgdmFyIHZlcnNpb24gPSBub2RlLmdldEF0dHJpYnV0ZShcInZlcnNpb25cIik7XG4gICAgICAgICAgICBpZiAoc2VydmVySWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnNlcnZpY2VzICYmIHR5cGVvZiBkYXRhLnNlcnZpY2VzID09PSBcIm9iamVjdFwiICYmICFkYXRhLnNlcnZpY2VzW3NlcnZlcklkXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbiBlc3QgZGFucyBsYSBiYWxpc2UgU2VydmljZXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBuZXcgU2VydmljZSgpO1xuICAgICAgICAgICAgICAgICAgICBzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIHMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIC8vIHLDqWN1cMOpcmF0aW9uIGRlIGwndXJsIGR1IHNlcnZpY2UsIGRhbnMgdW5lIGJhbGlzZSBlbmZhbnQgXCJPbmxpbmVSZXNvdXJjZVwiXG4gICAgICAgICAgICAgICAgICAgIF9fZ2V0Q2hpbGROb2Rlcyhub2RlLCBzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWpvdXQgZHUgc2VydmljZSDDoCBsYSB2YXJpYWJsZSBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zZXJ2aWNlc1tzZXJ2ZXJJZF0gPSBzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBkYXRhLmx5cikge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbiBlc3QgZGFucyBsYSBiYWxpc2UgTGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmx5ci5zZXJ2aWNlUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaSBsJ29iamV0IHNlcnZpY2VQYXJhbXMgbidhIHBhcyBlbmNvcmUgw6l0w6kgY3LDqcOpLCBvbiBsZSBjcsOpZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubHlyLnNlcnZpY2VQYXJhbXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkYXRhLmx5ci5zZXJ2aWNlUGFyYW1zLmlkID0gc2VydmVySWQ7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubHlyLnNlcnZpY2VQYXJhbXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvR2VuZXJhbC9FeHRlbnNpb24vZ3BwOkdlbmVyYWwvZ3BwOlNlcnZpY2VzL1NlcnZlci9PbmxpbmVSZXNvdXJjZVxuICAgICAgICAvLyBvdSA6IC9MYXllckxpc3QvTGF5ZXIvU2VydmVyL09ubGluZVJlc291cmNlXG4gICAgICAgIC8vIG91IDogL0xheWVyTGlzdC9MYXllci9FeHRlbnRpb24vZ3BwOkxheWVyL2dwcDpRdWlja0xvb2svT25saW5lUmVzb3VyY2VcbiAgICAgICAgLy8gb3UgOiAvTGF5ZXJMaXN0L0xheWVyL0V4dGVuc2lvbi9ncHA6TGF5ZXIvZ3BwOkxlZ2VuZHMvZ3BwOkxlZ2VuZC9ncHA6TGVnZW5kVVJML09ubGluZVJlc291cmNlXG4gICAgICAgIC8vIG91IDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpNZXRhZGF0YVVSTC9PbmxpbmVSZXNvdXJjZVxuICAgICAgICAvKiogT25saW5lUmVzb3VyY2UgKi9cbiAgICAgICAgT25saW5lUmVzb3VyY2UgOiBmdW5jdGlvbiAobm9kZSwgc2VydmljZSkge1xuICAgICAgICAgICAgaWYgKHNlcnZpY2UgJiYgc2VydmljZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZlclVybFwiKSkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2Uuc2VydmVyVXJsID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvTGF5ZXJMaXN0XG4gICAgICAgIC8qKiBMYXllckxpc3QgKi9cbiAgICAgICAgTGF5ZXJMaXN0IDogZnVuY3Rpb24gKGxheWVyTGlzdE5vZGUsIGNvbmZpZykge1xuICAgICAgICAgICAgLy8gbGlzdGUgZGUgYmFsaXNlcyBcImxheWVyXCJcbiAgICAgICAgICAgIF9fZ2V0Q2hpbGROb2RlcyhsYXllckxpc3ROb2RlLCBjb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5sYXllcnMgJiYgY29uZmlnLmdlbmVyYWxPcHRpb25zICYmIGNvbmZpZy5zZXJ2aWNlcykge1xuICAgICAgICAgICAgICAgIC8vIHLDqWN1cMOpcmF0aW9uIGRlcyBjbMOpcyBldCBkZXMgY291Y2hlcyBhc3NvY2nDqWVzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbHlyIGluIGNvbmZpZy5sYXllcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5sYXllcnMuaGFzT3duUHJvcGVydHkobHlyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxheWVyQ29uZmlnID0gY29uZmlnLmxheWVyc1tseXJdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByw6ljdXDDqXJhdGlvbiBkZSBsYSBjbMOpIGFzc29jacOpZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFwaUtleXMgPSBsYXllckNvbmZpZy5hcGlLZXlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwaUtleXMgJiYgQXJyYXkuaXNBcnJheShhcGlLZXlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXBpS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3VyIGNoYXF1ZSBjbMOpIEFQSSwgb24gYWpvdXRlIGxhIGNvdWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gYXBpS2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5nZW5lcmFsT3B0aW9ucy5hcGlLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy5nZW5lcmFsT3B0aW9ucy5hcGlLZXlzW2tleV0gfHwgIUFycmF5LmlzQXJyYXkoY29uZmlnLmdlbmVyYWxPcHRpb25zLmFwaUtleXNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZ2VuZXJhbE9wdGlvbnMuYXBpS2V5c1trZXldID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZ2VuZXJhbE9wdGlvbnMuYXBpS2V5c1trZXldLnB1c2gobHlyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcsOpY3Vww6lyYXRpb24gZHUgc2VydmljZSBhc3NvY2nDqVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VQYXJhbXMgPSBsYXllckNvbmZpZy5zZXJ2aWNlUGFyYW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VQYXJhbXMgJiYgc2VydmljZVBhcmFtcy5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnNlcnZpY2VzW3NlcnZpY2VQYXJhbXMuaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gbmV3IFNlcnZpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VQYXJhbXMuc2VydmVyVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNlcnZlclVybCA9IHNlcnZpY2VQYXJhbXMuc2VydmVyVXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlUGFyYW1zLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMudmVyc2lvbiA9IHNlcnZpY2VQYXJhbXMudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc2VydmljZXNbc2VydmljZVBhcmFtcy5pZF0gPSBzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcsOpY3Vww6lyYXRpb24gZGUgbGEgcHJvamVjdGlvbiBhc3NvY2nDqWUgKGRhbnMgbGUgY2FzIGQndW5lIGNvdWNoZSBXTVRTKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyQ29uZmlnLndtdHNPcHRpb25zICYmIGxheWVyQ29uZmlnLndtdHNPcHRpb25zLnRpbGVNYXRyaXhTZXRMaW5rICYmIGNvbmZpZy50aWxlTWF0cml4U2V0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXNMaW5rID0gbGF5ZXJDb25maWcud210c09wdGlvbnMudGlsZU1hdHJpeFNldExpbms7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbGVNYXRyaXhTZXRzID0gY29uZmlnLnRpbGVNYXRyaXhTZXRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRtcyBpbiB0aWxlTWF0cml4U2V0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGlsZU1hdHJpeFNldHMuaGFzT3duUHJvcGVydHkodG1zKSAmJiB0bXMgPT09IHRtc0xpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyQ29uZmlnLmRlZmF1bHRQcm9qZWN0aW9uID0gdGlsZU1hdHJpeFNldHNbdG1zXS5wcm9qZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvTGF5ZXJMaXN0L0xheWVyXG4gICAgICAgIC8qKiBMYXllciAqL1xuICAgICAgICBMYXllciA6IGZ1bmN0aW9uIChsYXllck5vZGUsIGNvbmZpZykge1xuICAgICAgICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcubGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGx5ckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ciA6IG5ldyBMYXllcigpLFxuICAgICAgICAgICAgICAgICAgICBseXJJZCA6IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGhpZGRlbiA9IGxheWVyTm9kZS5nZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgaWYgKGhpZGRlbiA9PT0gXCIxXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbHlyRGF0YS5seXIuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlhYmxlID0gbGF5ZXJOb2RlLmdldEF0dHJpYnV0ZShcInF1ZXJ5YWJsZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAocXVlcnlhYmxlID09PSBcIjFcIikge1xuICAgICAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5xdWVyeWFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ckRhdGEubHlyLnF1ZXJ5YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG9uIHBldXQgYXZvaXIgbGVzIGJhbGlzZXMgOiBTZXJ2ZXIsIE5hbWUsIFRpdGxlLCBBYnN0cmFjdCwgRGF0YVVSTCwgTWV0YWRhdGFVUkwsXG4gICAgICAgICAgICAgICAgLy8gc2xkOk1pblNjYWxlRGVub21pbmF0b3IsIHNsZDpNYXhTY2FsZURlbm9taW5hdG9yLCBTUlMsIEZvcm1hdExpc3QsIFN0eWxlTGlzdFxuICAgICAgICAgICAgICAgIC8vIERpbWVuc2lvbkxpc3QsIEV4dGVuc2lvblxuICAgICAgICAgICAgICAgIF9fZ2V0Q2hpbGROb2RlcyhsYXllck5vZGUsIGx5ckRhdGEpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2kgb24gYSBiaWVuIHLDqWN1cMOpcsOpIGwnaWRlbnRpZmlhbnQgZGUgbGEgY291Y2hlLCBvbiBzJ2VuIHNlcnQgcG91ciBsJ2Fqb3V0ZXIgYXUgdGFibGVhdSBhc3NvY2lhdGlmIGRlcyBjb3VjaGVzIGRpc3BvbmlibGVzXG4gICAgICAgICAgICAgICAgaWYgKGx5ckRhdGEubHlySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGFucyBsZSBjYXMgZGVzIHNlcnZpY2VzLCBvbiBtb2RpZmllIGxlIGNvbnRleHRlIGRlIGwnaWRlbnRpZmlhbnQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChseXJEYXRhLmx5ci5zZXJ2aWNlUGFyYW1zICYmIGx5ckRhdGEubHlyLnNlcnZpY2VQYXJhbXMuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlaWQgPSBseXJEYXRhLmx5ci5zZXJ2aWNlUGFyYW1zLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VpZC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoXCJPUEVOTFNcIikgIT09IC0xIHx8IHNlcnZpY2VpZC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoXCJFTEVWQVRJT05cIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWwgZmF1dCBjaGFuZ2VyIGwnaWRlbnRpZmlhbnQgZGUgbGEgcmVzc291cmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZUlkID0gbHlyRGF0YS5seXJJZC5zcGxpdChcIiRcIilbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbHlyRGF0YS5seXJJZCA9IHJlc291cmNlSWQgKyBcIiRcIiArIHNlcnZpY2VpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGFqb3V0ZSBsJ2luZm9ybWF0aW9uIGRhbnMgbGVzIGF0dHJpYnV0cyBkZSBsYSBjb3VjaGVcbiAgICAgICAgICAgICAgICAgICAgbHlyRGF0YS5seXIubGF5ZXJJZCA9IGx5ckRhdGEubHlySWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV0IGRhbnMgbGUgdGFibGVhdSBHcC5Db25maWcubGF5ZXJzXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5sYXllcnNbbHlyRGF0YS5seXJJZF0gPSBseXJEYXRhLmx5cjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvTmFtZVxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIE5hbWUgOiBmdW5jdGlvbiAobm9kZSwgbHlyRGF0YSkge1xuICAgICAgICAgICAgaWYgKGx5ckRhdGEgJiYgbHlyRGF0YS5seXIpIHtcbiAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5uYW1lID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvTGF5ZXJMaXN0L0xheWVyL1NSUyAoZGFucyBsZSBjYXMgZGVzIGNvdWNoZXMgV01TIG91IFdGUylcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBTUlMgOiBmdW5jdGlvbiAobm9kZSwgbHlyRGF0YSkge1xuICAgICAgICAgICAgLy8gb24gcsOpY3Vww6hyZSBsYSBwcm9qZWN0aW9uIGRlIGxhIGNvdWNoZSAoU1JTKVxuICAgICAgICAgICAgaWYgKGx5ckRhdGEgJiYgbHlyRGF0YS5seXIpIHtcbiAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5kZWZhdWx0UHJvamVjdGlvbiA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9Gb3JtYXRMaXN0L0Zvcm1hdFxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEZvcm1hdCA6IGZ1bmN0aW9uIChub2RlLCBseXJEYXRhKSB7XG4gICAgICAgICAgICBpZiAobHlyRGF0YSAmJiBseXJEYXRhLmx5cikge1xuICAgICAgICAgICAgICAgIHZhciBmID0gbmV3IEZvcm1hdCgpO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJjdXJyZW50XCIpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBcIjFcIikge1xuICAgICAgICAgICAgICAgICAgICBmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmLm5hbWUgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICAgICAgLy8gc2kgb24gbidhIHBhcyBlbmNvcmUgYWpvdXTDqSBkZSBmb3JtYXQsIG9uIGNyw6llIGxlIHRhYmxlYXUgdmlkZVxuICAgICAgICAgICAgICAgIGlmICghbHlyRGF0YS5seXIuZm9ybWF0cyB8fCAhQXJyYXkuaXNBcnJheShseXJEYXRhLmx5ci5mb3JtYXRzKSkge1xuICAgICAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5mb3JtYXRzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGx5ckRhdGEubHlyLmZvcm1hdHMucHVzaChmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9TdHlsZUxpc3QvU3R5bGVcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBTdHlsZSA6IGZ1bmN0aW9uIChub2RlLCBseXJEYXRhKSB7XG4gICAgICAgICAgICBpZiAobHlyRGF0YSAmJiBseXJEYXRhLmx5cikge1xuICAgICAgICAgICAgICAgIHZhciBzID0gbmV3IFN0eWxlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBub2RlLmdldEF0dHJpYnV0ZShcImN1cnJlbnRcIik7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IFwiMVwiIHx8IGN1cnJlbnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgeyAvLyAxID09PSBub2RlLkVMRU1FTlRfTk9ERVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTmFtZSA9IGNoaWxkLmxvY2FsTmFtZSB8fCBjaGlsZC5iYXNlTmFtZSB8fCBjaGlsZC5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROYW1lID09PSBcIk5hbWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm5hbWUgPSBfX2dldENoaWxkVmFsdWUoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGROYW1lID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy50aXRsZSA9IF9fZ2V0Q2hpbGRWYWx1ZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5hbWUgPT09IFwiVVJMXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy51cmwgPSBfX2dldENoaWxkVmFsdWUoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzaSBvbiBuJ2EgcGFzIGVuY29yZSBham91dMOpIGRlIHN0eWxlLCBvbiBjcsOpZSBsZSB0YWJsZWF1IHZpZGVcbiAgICAgICAgICAgICAgICBpZiAoIWx5ckRhdGEubHlyLnN0eWxlcyB8fCAhQXJyYXkuaXNBcnJheShseXJEYXRhLmx5ci5zdHlsZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ckRhdGEubHlyLnN0eWxlcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5zdHlsZXMucHVzaChzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9EaW1lbnNpb25MaXN0L0RpbWVuc2lvblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIERpbWVuc2lvbiA6IGZ1bmN0aW9uIChub2RlLCBseXJEYXRhKSB7XG4gICAgICAgICAgICAvLyBwb3Nzw6hkZSBkZXMgYXR0cmlidXRzIG9ibGlnYXRvaXJlcyA6IG5hbWUsIHVuaXRzLCB1bml0U3ltYm9sIGV0IHVzZXJWYWx1ZVxuICAgICAgICAgICAgLy8gZXQgZCdhdXRyZXMgYXR0cmlidXRzIGZhY3VsdGF0aWZzIDogZGVmYXVsdCwgbXVsdGlwbGVWYWx1ZXMsIG5lYXJlc3RWYWx1ZSwgY3VycmVudFxuICAgICAgICAgICAgdmFyIG5hbWUgPSBub2RlLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICAgICAgICB2YXIgZGltID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGx5ckRhdGEgJiYgbHlyRGF0YS5seXIpIHtcbiAgICAgICAgICAgICAgICAvLyBzaSBvbiBuJ2EgcGFzIGVuY29yZSBham91dMOpIGRlIGRpbWVuc2lvbiwgb24gY3LDqWUgbCdvYmpldCB2aWRlXG4gICAgICAgICAgICAgICAgaWYgKCFseXJEYXRhLmx5ci5kaW1lbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ckRhdGEubHlyLmRpbWVuc2lvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwiVHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ckRhdGEubHlyLmRpbWVuc2lvbnMudHlwZSA9IGRpbTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT09IFwiVmlzaWJpbGl0eVJhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbHlyRGF0YS5seXIuZGltZW5zaW9ucy52aXNpYmlsaXR5UmFuZ2UgPSBkaW07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcIlZpc2liaWxpdHlNb2RlIFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ckRhdGEubHlyLmRpbWVuc2lvbnMudmlzaWJpbGl0eU1vZGUgPSBkaW07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcIkdlb21ldHJpY1R5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5kaW1lbnNpb25zLmdlb21ldHJpY1R5cGUgPSBkaW07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcIk5vRGF0YVZhbHVlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbHlyRGF0YS5seXIuZGltZW5zaW9ucy5ub0RhdGFWYWx1ZSA9IGRpbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICBncHAgOiB7XG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGhlbWVcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBUaGVtZSA6IGZ1bmN0aW9uICh0aGVtZU5vZGUsIGNvbmZpZykge1xuICAgICAgICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcuZ2VuZXJhbE9wdGlvbnMgJiYgY29uZmlnLmdlbmVyYWxPcHRpb25zLmhhc093blByb3BlcnR5KFwidGhlbWVcIikpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuZ2VuZXJhbE9wdGlvbnMudGhlbWUgPSBfX2dldENoaWxkVmFsdWUodGhlbWVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpkZWZhdWx0R01MR0ZJU3R5bGVVcmxcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBkZWZhdWx0R01MR0ZJU3R5bGVVcmwgOiBmdW5jdGlvbiAobm9kZSwgY29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5nZW5lcmFsT3B0aW9ucyAmJiBjb25maWcuZ2VuZXJhbE9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0R01MR0ZJU3R5bGVcIikpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuZ2VuZXJhbE9wdGlvbnMuZGVmYXVsdEdNTEdGSVN0eWxlID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvR2VuZXJhbC9FeHRlbnNpb24vZ3BwOkdlbmVyYWwvZ3BwOlRlcnJpdG9yaWVzL2dwcDpUZXJyaXRvcnlcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBUZXJyaXRvcnkgOiBmdW5jdGlvbiAodGVycml0b3J5Tm9kZSwgY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBpbmZvIDogSW5mb3JtYXRpb24gdG8gY29uZmlndXJlIHRoZSBBUEkgZm9yIHRoaXMgdGVycml0b3J5XG4gICAgICAgICAgICB2YXIgdGlkID0gdGVycml0b3J5Tm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgICAgIGlmICh0aWQpIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgVGVycml0b3J5XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBuZXcgVGVycml0b3J5KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaXNEZWZhdWx0ID0gdGVycml0b3J5Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkZWZhdWx0XCIpO1xuICAgICAgICAgICAgICAgIGlmIChpc0RlZmF1bHQgPT09IFwiMVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHQuaXNEZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0LmlzRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZWFkIHRlcnJpdG9yeSBpbmZvcm1hdGlvbnNcbiAgICAgICAgICAgICAgICBfX2dldENoaWxkTm9kZXModGVycml0b3J5Tm9kZSwgdCk7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHRlcnJpdG9yeSB0byBjb25maWdcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy50ZXJyaXRvcmllcyAmJiB0eXBlb2YgY29uZmlnLnRlcnJpdG9yaWVzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy50ZXJyaXRvcmllc1t0aWRdID0gdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGVycml0b3JpZXMvZ3BwOlRlcnJpdG9yeS9ncHA6ZGVmYXVsdENSU1xuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIGRlZmF1bHRDUlMgOiBmdW5jdGlvbiAobm9kZSwgdGVycml0b3J5KSB7XG4gICAgICAgICAgICAvLyBpbmZvIDogSWRlbnRpZmllciBmb3IgdGhlIGRlZmF1bHQgQ29vcmRpbmF0ZSBSZWZlcmVuY2UgU3lzdGVtIChDUlMpLlxuICAgICAgICAgICAgaWYgKHRlcnJpdG9yeSAmJiB0ZXJyaXRvcnkuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0Q1JTXCIpKSB7XG4gICAgICAgICAgICAgICAgdGVycml0b3J5LmRlZmF1bHRDUlMgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGVycml0b3JpZXMvZ3BwOlRlcnJpdG9yeS9ncHA6QWRkaXRpb25hbENSU1xuICAgICAgICAvLyBvdSA6IC9MYXllckxpc3QvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6QWRkaXRpb25hbENSU1xuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEFkZGl0aW9uYWxDUlMgOiBmdW5jdGlvbiAobm9kZSwgZGF0YSkge1xuICAgICAgICAgICAgLy8gaW5mbyA6IElkZW50aWZpZXIgZm9yIGFkZGl0aW9uYWwgQ29vcmRpbmF0ZSBSZWZlcmVuY2UgU3lzdGVtIChDUlMpLlxuICAgICAgICAgICAgLy8gaW5mbyA6IGRhdGEgcGV1dCDDqnRyZSB1bmUgaW5zdGFuY2UgZGUgVGVycml0b3J5LmpzLCBvdSB1bmUgaW5zdGFuY2UgZGUgTGF5ZXIuanNcbiAgICAgICAgICAgIHZhciBhZGRDUlMgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICBpZiAoYWRkQ1JTICYmIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmFkZGl0aW9uYWxDUlMpKSB7IC8vIGNhcyBkJ3VuIHRlcnJpdG9pcmVcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hZGRpdGlvbmFsQ1JTLnB1c2goYWRkQ1JTKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBjYXMgZCd1bmUgY291Y2hlXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpIGxlIHRhYmxlYXUgbidlc3QgcGFzIGVuY29yZSBjcsOpw6lcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmFkZGl0aW9uYWxQcm9qZWN0aW9ucyB8fCAhQXJyYXkuaXNBcnJheShkYXRhLmFkZGl0aW9uYWxQcm9qZWN0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYWRkaXRpb25hbFByb2plY3Rpb25zID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hZGRpdGlvbmFsUHJvamVjdGlvbnMucHVzaChhZGRDUlMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUZXJyaXRvcmllcy9ncHA6VGVycml0b3J5L2dwcDpEZWZhdWx0TGF5ZXJcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBEZWZhdWx0TGF5ZXIgOiBmdW5jdGlvbiAobm9kZSwgdGVycml0b3J5KSB7XG4gICAgICAgICAgICB2YXIgbHlyID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJsYXllcklkXCIpO1xuICAgICAgICAgICAgaWYgKGx5ciAmJiB0ZXJyaXRvcnkgJiYgQXJyYXkuaXNBcnJheSh0ZXJyaXRvcnkuZGVmYXVsdExheWVycykpIHtcbiAgICAgICAgICAgICAgICB0ZXJyaXRvcnkuZGVmYXVsdExheWVycy5wdXNoKGx5cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGVycml0b3JpZXMvZ3BwOlRlcnJpdG9yeS9ncHA6Qm91bmRpbmdCb3hcbiAgICAgICAgLy8gb3UgOiAvTGF5ZXJMaXN0L0V4dGVuc2lvbi9ncHA6TGF5ZXIvZ3BwOkJvdW5kaW5nQm94XG4gICAgICAgIC8vIG91IDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpDb25zdHJhaW50cy9ncHA6Q29uc3RyYWludC9ncHA6Qm91bmRpbmdCb3hcbiAgICAgICAgLy8gb3UgOiAvTGF5ZXJMaXN0L0V4dGVuc2lvbi9ncHA6TGF5ZXIvZ3BwOk9yaWdpbmF0b3JzL2dwcDpPcmlnaW5hdG9yL2dwcDpDb25zdHJhaW50cy9ncHA6Q29uc3RyYWludC9ncHA6Qm91bmRpbmdCb3hcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBCb3VuZGluZ0JveCA6IGZ1bmN0aW9uIChub2RlLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBfX2dldENoaWxkVmFsdWUobm9kZSkuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBiYm94IGNvb3JkaW5hdGVzICh3Z3M4NClcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJib3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0IDogcGFyc2VGbG9hdCh2YWx1ZXNbMF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgOiBwYXJzZUZsb2F0KHZhbHVlc1syXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgOiBwYXJzZUZsb2F0KHZhbHVlc1szXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b20gOiBwYXJzZUZsb2F0KHZhbHVlc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHRlbXBvcmFsIGV4dGVudCBwYXJhbXMgKGNvbnN0cmFpbnQgb3IgbGF5ZXIpXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5UID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJtaW5UXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4VCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwibWF4VFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcImdlb0JCT1hcIikpIHsgLy8gY2FzIGQndW4gdGVycml0b2lyZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5nZW9CQk9YID0gYmJveDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiYmJveFwiKSkgeyAvLyBjYXMgZCd1bmUgY29uc3RyYWludFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuYmJveC5sZWZ0IHx8IGRhdGEuYmJveC5yaWdodCB8fCBkYXRhLmJib3gudG9wIHx8IGRhdGEuYmJveC5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaSBvbiBhIGTDqWrDoCB1bmUgYmJveCwgaWwgZmF1dCBzdG9ja2VyIGQnYXV0cmVzIGNvbnRyYWludGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLm11bHRpQ29uc3RyYWludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tdWx0aUNvbnN0cmFpbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdDb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb25zdHJhaW50LmJib3ggPSBiYm94O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnN0cmFpbnQudGVtcG9yYWxFeHRlbnQgPSBbbWluVCwgbWF4VF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tdWx0aUNvbnN0cmFpbnRzLnB1c2gobmV3Q29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyYWludGUgY2xhc3NpcXVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5iYm94ID0gYmJveDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRlbXBvcmFsRXh0ZW50ID0gW21pblQsIG1heFRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBjYXMgZCd1bmUgbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5nbG9iYWxDb25zdHJhaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5nbG9iYWxDb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZ2xvYmFsQ29uc3RyYWludC5iYm94ID0gYmJveDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZ2xvYmFsQ29uc3RyYWludC50ZW1wb3JhbEV4dGVudCA9IFttaW5ULCBtYXhUXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUZXJyaXRvcmllcy9ncHA6VGVycml0b3J5L2dwcDpSZXNvbHV0aW9uXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgUmVzb2x1dGlvbiA6IGZ1bmN0aW9uIChub2RlLCB0ZXJyaXRvcnkpIHtcbiAgICAgICAgICAgIC8vIGluZm8gOiBUaGUgZGVmYXVsdCByZXNvbHV0aW9uIHRvIGRpc3BsYXkgb24gdGhpcyB0ZXJyaXRvcnksIGluIENSUyBjb29yZGluYXRlIHN5c3RlbVxuICAgICAgICAgICAgdmFyIHJlcyA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIGlmIChyZXMgJiYgdGVycml0b3J5ICYmIHRlcnJpdG9yeS5kZWZhdWx0T3B0aW9ucyAmJiB0ZXJyaXRvcnkuZGVmYXVsdE9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyZXNvbHV0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgdGVycml0b3J5LmRlZmF1bHRPcHRpb25zLnJlc29sdXRpb24gPSBwYXJzZUZsb2F0KHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGVycml0b3JpZXMvZ3BwOlRlcnJpdG9yeS9ncHA6Q2VudGVyL2dwcDp4XG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgeCA6IGZ1bmN0aW9uIChub2RlLCB0ZXJyaXRvcnkpIHtcbiAgICAgICAgICAgIHZhciBsb24gPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICBpZiAobG9uICYmIHRlcnJpdG9yeSAmJiB0ZXJyaXRvcnkuZ2VvQ2VudGVyICYmIHRlcnJpdG9yeS5nZW9DZW50ZXIuaGFzT3duUHJvcGVydHkoXCJsb25cIikpIHtcbiAgICAgICAgICAgICAgICB0ZXJyaXRvcnkuZ2VvQ2VudGVyLmxvbiA9IHBhcnNlRmxvYXQobG9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUZXJyaXRvcmllcy9ncHA6VGVycml0b3J5L2dwcDpDZW50ZXIvZ3BwOnlcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICB5IDogZnVuY3Rpb24gKG5vZGUsIHRlcnJpdG9yeSkge1xuICAgICAgICAgICAgdmFyIGxhdCA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIGlmIChsYXQgJiYgdGVycml0b3J5ICYmIHRlcnJpdG9yeS5nZW9DZW50ZXIgJiYgdGVycml0b3J5Lmdlb0NlbnRlci5oYXNPd25Qcm9wZXJ0eShcImxhdFwiKSkge1xuICAgICAgICAgICAgICAgIHRlcnJpdG9yeS5nZW9DZW50ZXIubGF0ID0gcGFyc2VGbG9hdChsYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvR2VuZXJhbC9FeHRlbnNpb24vZ3BwOkdlbmVyYWwvZ3BwOlJlc29sdXRpb25zXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgUmVzb2x1dGlvbnMgOiBmdW5jdGlvbiAocmVzTm9kZSwgY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBpbmZvIDogTGlzdCBvZiByZXNvbHV0aW9ucyBpbiBDUlM6ODQgKGNvbW1hIHNlcGFyYXRlZCB2YWx1ZXMpXG4gICAgICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5nZW5lcmFsT3B0aW9ucyAmJiBjb25maWcuZ2VuZXJhbE9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJ3Z3M4NFJlc29sdXRpb25zXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmdlbmVyYWxPcHRpb25zLndnczg0UmVzb2x1dGlvbnMgPSBfX2dldENoaWxkVmFsdWUocmVzTm9kZSkuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvTGF5ZXJMaXN0L0xheWVyL0V4dGVuc2lvbi9ncHA6TGF5ZXJcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBMYXllciA6IGZ1bmN0aW9uIChub2RlLCBseXJEYXRhKSB7XG4gICAgICAgICAgICAvLyBhdHRyaWJ1dHMgOiBpZCwgb3BhY2l0eSwgb3JkZXIsIHZpc2libGVJbkNhdGFsb2csIGFnZ3JlZ2F0ZSwgbW9yZVxuICAgICAgICAgICAgaWYgKGx5ckRhdGEgJiYgbHlyRGF0YS5oYXNPd25Qcm9wZXJ0eShcImx5cklkXCIpICYmIGx5ckRhdGEubHlyKSB7XG4gICAgICAgICAgICAgICAgbHlyRGF0YS5seXJJZCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgdmFyIGFnZ3JlZ2F0ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiYWdncmVnYXRlXCIpO1xuICAgICAgICAgICAgICAgIHZhciBtb3JlID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJtb3JlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChhZ2dyZWdhdGUgfHwgbW9yZSkge1xuICAgICAgICAgICAgICAgICAgICBseXJEYXRhLmx5ci5pc0FnZ3JlZ2F0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9fZ2V0Q2hpbGROb2Rlcyhub2RlLCBseXJEYXRhLmx5cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6Q29uc3RyYWludHMvZ3BwOkNvbnN0cmFpbnRcbiAgICAgICAgLy8gb3UgOiAvTGF5ZXJMaXN0L0V4dGVuc2lvbi9ncHA6TGF5ZXIvZ3BwOk9yaWdpbmF0b3JzL2dwcDpPcmlnaW5hdG9yL2dwcDpDb25zdHJhaW50cy9ncHA6Q29uc3RyYWludFxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIENvbnN0cmFpbnQgOiBmdW5jdGlvbiAobm9kZSwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIGMgPSBuZXcgQ29uc3RyYWludCgpO1xuICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKG5vZGUsIGMpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBvbiBwZXV0IMOqdHJlIGRhbnMgbGUgY2FzIGQndW4gb3JpZ2luYXRvciBvdSBkJ3VuZSBsYXllciwgdG91cyBsZXMgZGV1eCBvbnQgbCdhdHRyaWJ1dCBjb25zdHJhaW50c1xuICAgICAgICAgICAgICAgIGlmICghZGF0YS5jb25zdHJhaW50cyB8fCAhQXJyYXkuaXNBcnJheShkYXRhLmNvbnN0cmFpbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmNvbnN0cmFpbnRzID0gW107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FzIGRlIHBsdXNpZXVycyBjb250cmFpbnRlcyAocGFyIGV4IGRpZmbDqXJlbnRzIHRlcnJpdG9pcmVzKVxuICAgICAgICAgICAgICAgIGlmIChjLm11bHRpQ29uc3RyYWludHMgJiYgQXJyYXkuaXNBcnJheShjLm11bHRpQ29uc3RyYWludHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIHLDqWN1cMOocmUgbGEgcHJlbWnDqHJlIGNvbnRyYWludGUsIHN0b2Nrw6llIG5vcm1hbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludC5jcnMgPSBjLmNycztcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludC5iYm94ID0gYy5iYm94O1xuICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50Lm1pblNjYWxlRGVub21pbmF0b3IgPSBjLm1pblNjYWxlRGVub21pbmF0b3I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQubWF4U2NhbGVEZW5vbWluYXRvciA9IGMubWF4U2NhbGVEZW5vbWluYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludC50ZW1wb3JhbEV4dGVudCA9IGMudGVtcG9yYWxFeHRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY29uc3RyYWludHMucHVzaChjb25zdHJhaW50KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBwdWlzIG9uIHLDqWN1cMOocmUgbGVzIGF1dHJlcyBjb250cmFpbnRlcywgw6AgcGFydGlyIGRlIG11bHRpQ29uc3RyYWludHNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjLm11bHRpQ29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludC5jcnMgPSBjLmNycztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQubWluU2NhbGVEZW5vbWluYXRvciA9IGMubWluU2NhbGVEZW5vbWluYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQubWF4U2NhbGVEZW5vbWluYXRvciA9IGMubWF4U2NhbGVEZW5vbWluYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYmJveCA9IGMubXVsdGlDb25zdHJhaW50c1tpXS5iYm94O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludC50ZW1wb3JhbEV4dGVudCA9IGMubXVsdGlDb25zdHJhaW50c1tpXS50ZW1wb3JhbEV4dGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY29uc3RyYWludHMucHVzaChjb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhcyBkJ3VuZSBjb250cmFpbnRlIGNsYXNzaXF1ZVxuICAgICAgICAgICAgICAgICAgICBkYXRhLmNvbnN0cmFpbnRzLnB1c2goYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGluZm8gOiAvTGF5ZXJMaXN0L0xheWVyL0V4dGVuc2lvbi9ncHA6TGF5ZXIvZ3BwOk9yaWdpbmF0b3JzL2dwcDpPcmlnaW5hdG9yL2dwcDpDb25zdHJhaW50cy9ncHA6Q29uc3RyYWludC9ncHA6Q1JTXG4gICAgICAgIC8vIG91IDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpDb25zdHJhaW50cy9ncHA6Q29uc3RyYWludC9ncHA6Q1JTXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgQ1JTIDogZnVuY3Rpb24gKG5vZGUsIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG8uXG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmhhc093blByb3BlcnR5KFwiY3JzXCIpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jcnMgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6VGhlbWF0aWNzL2dwcDpUaGVtYXRpY1xuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFRoZW1hdGljIDogZnVuY3Rpb24gKG5vZGUsIGx5cikge1xuICAgICAgICAgICAgaWYgKGx5cikge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gbmV3IFRoZW1hdGljKCk7XG4gICAgICAgICAgICAgICAgdC5pbnNwaXJlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdC5uYW1lID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgICAgIC8vIHNpIGF1Y3VuZSB0aMOpbWF0aXF1ZSBuJ2Egw6l0w6kgYWpvdXTDqWUsIG9uIGNyw6llIGxlIHRhYmxlYXUgdmlkZVxuICAgICAgICAgICAgICAgIGlmICghbHlyLnRoZW1hdGljcyB8fCAhQXJyYXkuaXNBcnJheShseXIudGhlbWF0aWNzKSkge1xuICAgICAgICAgICAgICAgICAgICBseXIudGhlbWF0aWNzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGx5ci50aGVtYXRpY3MucHVzaCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpUaGVtYXRpY3MvZ3BwOkluc3BpcmVUaGVtYXRpY1xuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEluc3BpcmVUaGVtYXRpYyA6IGZ1bmN0aW9uIChub2RlLCBseXIpIHtcbiAgICAgICAgICAgIGlmIChseXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IG5ldyBUaGVtYXRpYygpO1xuICAgICAgICAgICAgICAgIHQuaW5zcGlyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdC5uYW1lID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgICAgIC8vIHNpIGF1Y3VuZSB0aMOpbWF0aXF1ZSBuJ2Egw6l0w6kgYWpvdXTDqWUsIG9uIGNyw6llIGxlIHRhYmxlYXUgdmlkZVxuICAgICAgICAgICAgICAgIGlmICghbHlyLnRoZW1hdGljcyB8fCAhQXJyYXkuaXNBcnJheShseXIudGhlbWF0aWNzKSkge1xuICAgICAgICAgICAgICAgICAgICBseXIudGhlbWF0aWNzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGx5ci50aGVtYXRpY3MucHVzaCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpPcmlnaW5hdG9ycy9ncHA6T3JpZ2luYXRvclxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIE9yaWdpbmF0b3IgOiBmdW5jdGlvbiAobm9kZSwgbHlyKSB7XG4gICAgICAgICAgICBpZiAobHlyKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5mbyA6IGNvbnRpZW50IGRlcyBiYWxpc2VzIEF0dHJpYnV0aW9uLCBMb2dvLCBVUkwsIGV0IENvbnN0cmFpbnRzXG4gICAgICAgICAgICAgICAgdmFyIG8gPSBuZXcgT3JpZ2luYXRvcigpO1xuICAgICAgICAgICAgICAgIG8ubmFtZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcbiAgICAgICAgICAgICAgICBfX2dldENoaWxkTm9kZXMobm9kZSwgbyk7XG4gICAgICAgICAgICAgICAgLy8gc2kgYXVjdW4gb3JpZ2luYXRvciBuJ2Egw6l0w6kgYWpvdXTDqSwgb24gY3LDqWUgbGUgdGFibGVhdSB2aWRlXG4gICAgICAgICAgICAgICAgaWYgKCFseXIub3JpZ2luYXRvcnMgfHwgIUFycmF5LmlzQXJyYXkobHlyLm9yaWdpbmF0b3JzKSkge1xuICAgICAgICAgICAgICAgICAgICBseXIub3JpZ2luYXRvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbHlyLm9yaWdpbmF0b3JzLnB1c2gobyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6T3JpZ2luYXRvcnMvZ3BwOk9yaWdpbmF0b3IvZ3BwOkF0dHJpYnV0aW9uXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgQXR0cmlidXRpb24gOiBmdW5jdGlvbiAobm9kZSwgb3JpZ2luYXRvcikge1xuICAgICAgICAgICAgaWYgKG9yaWdpbmF0b3IgJiYgb3JpZ2luYXRvci5oYXNPd25Qcm9wZXJ0eShcImF0dHJpYnV0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYXRvci5hdHRyaWJ1dGlvbiA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpPcmlnaW5hdG9ycy9ncHA6T3JpZ2luYXRvci9ncHA6TG9nb1xuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIExvZ28gOiBmdW5jdGlvbiAobm9kZSwgb3JpZ2luYXRvcikge1xuICAgICAgICAgICAgaWYgKG9yaWdpbmF0b3IgJiYgb3JpZ2luYXRvci5oYXNPd25Qcm9wZXJ0eShcImxvZ29cIikpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hdG9yLmxvZ28gPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6T3JpZ2luYXRvcnMvZ3BwOk9yaWdpbmF0b3IvZ3BwOlVSTFxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFVSTCA6IGZ1bmN0aW9uIChub2RlLCBvcmlnaW5hdG9yKSB7XG4gICAgICAgICAgICBpZiAob3JpZ2luYXRvciAmJiBvcmlnaW5hdG9yLmhhc093blByb3BlcnR5KFwidXJsXCIpKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYXRvci51cmwgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6TGVnZW5kcy9ncHA6TGVnZW5kXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgTGVnZW5kIDogZnVuY3Rpb24gKG5vZGUsIGx5cikge1xuICAgICAgICAgICAgLy8gMiBiYWxpc2VzIDogc2xkOk1pblNjYWxlRGVub21pbmF0b3IgZXQgZ3BwOkxlZ2VuZFVSTFxuICAgICAgICAgICAgdmFyIGwgPSBuZXcgTGVnZW5kKCk7XG4gICAgICAgICAgICBfX2dldENoaWxkTm9kZXMobm9kZSwgbCk7XG4gICAgICAgICAgICBpZiAobHlyKSB7XG4gICAgICAgICAgICAgICAgLy8gc2kgYXVjdW5lIGzDqWdlbmRlIG4nYSBlbmNvcmUgw6l0w6kgYWpvdXTDqWUsIG9uIGNyw6llIGxlIHRhYmxlYXUgdmlkZVxuICAgICAgICAgICAgICAgIGlmICghbHlyLmxlZ2VuZHMgfHwgIUFycmF5LmlzQXJyYXkobHlyLmxlZ2VuZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ci5sZWdlbmRzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGx5ci5sZWdlbmRzLnB1c2gobCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6TGVnZW5kcy9ncHA6TGVnZW5kL2dwcDpMZWdlbmRVUkxcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBMZWdlbmRVUkwgOiBmdW5jdGlvbiAobm9kZSwgbGVnZW5kKSB7XG4gICAgICAgICAgICBpZiAobGVnZW5kICYmIGxlZ2VuZC5oYXNPd25Qcm9wZXJ0eShcImZvcm1hdFwiKSkge1xuICAgICAgICAgICAgICAgIGxlZ2VuZC5mb3JtYXQgPSBub2RlLmdldEF0dHJpYnV0ZShcImZvcm1hdFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5oYXNDaGlsZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkTmFtZSA9IGNoaWxkLmxvY2FsTmFtZSB8fCBjaGlsZC5iYXNlTmFtZSB8fCBjaGlsZC5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkTmFtZSA9PT0gXCJPbmxpbmVSZXNvdXJjZVwiICYmIGxlZ2VuZC5oYXNPd25Qcm9wZXJ0eShcInVybFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kLnVybCA9IGNoaWxkLmdldEF0dHJpYnV0ZShcInhsaW5rOmhyZWZcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6UXVpY2tMb29rXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgUXVpY2tMb29rIDogZnVuY3Rpb24gKG5vZGUsIGx5cikge1xuICAgICAgICAgICAgLy8gaW5mbyA6IGNvbnRpZW50IHVuZSBiYWxpc2UgT25saW5lUmVzb3VyY2UgYXZlYyBsJ3VybCBkYW5zIGwnYXR0cmlidXQgXCJ4bGluazpocmVmXCJcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkTmFtZSA9IGNoaWxkLmxvY2FsTmFtZSB8fCBjaGlsZC5iYXNlTmFtZSB8fCBjaGlsZC5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGROYW1lID09PSBcIk9ubGluZVJlc291cmNlXCIgJiYgbHlyKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ci5xdWlja2xvb2tVcmwgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpNZXRhZGF0YVVSTFxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIE1ldGFkYXRhVVJMIDogZnVuY3Rpb24gKG5vZGUsIGx5cikge1xuICAgICAgICAgICAgaWYgKGx5cikge1xuICAgICAgICAgICAgICAgIC8vIGluZm8gOiBjb250aWVudCB1bmUgYmFsaXNlIE9ubGluZVJlc291cmNlIGF2ZWMgbCd1cmwgZGFucyBsJ2F0dHJpYnV0IFwieGxpbms6aHJlZlwiXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBuZXcgTWV0YWRhdGEoKTtcbiAgICAgICAgICAgICAgICBtLmZvcm1hdCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZm9ybWF0XCIpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZE5vZGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGROYW1lID0gY2hpbGQubG9jYWxOYW1lIHx8IGNoaWxkLmJhc2VOYW1lIHx8IGNoaWxkLm5vZGVOYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROYW1lID09PSBcIk9ubGluZVJlc291cmNlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0udXJsID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwieGxpbms6aHJlZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzaSBhdWN1bmUgbWV0YWRhdGEgbidhIMOpdMOpIGFqb3V0w6llLCBvbiBjcsOpZSBsZSB0YWJsZWF1IHZpZGVcbiAgICAgICAgICAgICAgICBpZiAoIWx5ci5tZXRhZGF0YSAmJiAhQXJyYXkuaXNBcnJheShseXIubWV0YWRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ci5tZXRhZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBseXIubWV0YWRhdGEucHVzaChtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpLZXlzL2dwcDpLZXlcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBLZXkgOiBmdW5jdGlvbiAobm9kZSwgbHlyKSB7XG4gICAgICAgICAgICBpZiAobHlyKSB7XG4gICAgICAgICAgICAgICAgLy8gcsOpY3Vww6lyYXRpb24gZGUgbGEgY2zDqSBBUElcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAvLyBzaSBvbiBuJ2EgcGFzIGVuY29yZSBham91dMOpIGRlIGNsw6ksIG9uIGNyw6llIGxlIHRhYmxlYXUgdmlkZVxuICAgICAgICAgICAgICAgIGlmICghbHlyLmFwaUtleXMgfHwgIUFycmF5LmlzQXJyYXkobHlyLmFwaUtleXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGx5ci5hcGlLZXlzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGx5ci5hcGlLZXlzLnB1c2goa2V5KTtcblxuICAgICAgICAgICAgICAgIC8vIHLDqWN1cMOpcmF0aW9uIGRlIGwndXJsIGR1IHNlcnZpY2UgYXZlYyBsYSBjbMOpIEFQSVxuICAgICAgICAgICAgICAgIHZhciBzZXJ2ZXJVcmwgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFseXIuc2VydmljZVBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICBseXIuc2VydmljZVBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWx5ci5zZXJ2aWNlUGFyYW1zLnNlcnZlclVybCkge1xuICAgICAgICAgICAgICAgICAgICBseXIuc2VydmljZVBhcmFtcy5zZXJ2ZXJVcmwgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFseXIuc2VydmljZVBhcmFtcy5zZXJ2ZXJVcmxba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBseXIuc2VydmljZVBhcmFtcy5zZXJ2ZXJVcmxba2V5XSA9IHNlcnZlclVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICBvd3MgOiB7XG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgSWRlbnRpZmllciA6IGZ1bmN0aW9uIChub2RlLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmhhc093blByb3BlcnR5KFwiVE1TXCIpKSB7IC8vIGRhbnMgbGUgY2FzIGQndW4gVGlsZU1hdHJpeFNldFxuICAgICAgICAgICAgICAgIGRhdGEuaWRlbnRpZmllciA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBkYXRhLmhhc093blByb3BlcnR5KFwibWF0cml4SWRcIikpIHsgLy8gZGFucyBsZSBjYXMgZCd1bmUgVGlsZU1hdHJpeFxuICAgICAgICAgICAgICAgIGRhdGEubWF0cml4SWQgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBTdXBwb3J0ZWRDUlMgOiBmdW5jdGlvbiAobm9kZSwgdG1zRGF0YSkge1xuICAgICAgICAgICAgaWYgKHRtc0RhdGEgJiYgdG1zRGF0YS5UTVMgJiYgdG1zRGF0YS5UTVMuaGFzT3duUHJvcGVydHkoXCJwcm9qZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgdG1zRGF0YS5UTVMucHJvamVjdGlvbiA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzbGQgOiB7XG4gICAgICAgIC8vIGluZm8gOiAvR2VuZXJhbC9FeHRlbnNpb24vZ3BwOkdlbmVyYWwvZ3BwOlRlcnJpdG9yaWVzL2dwcDpUZXJyaXRvcnkvc2xkOk1pblNjYWxlRGVub21pbmF0b3JcbiAgICAgICAgLy8gb3UgOiAvTGF5ZXJMaXN0L0xheWVyL3NsZDpNaW5TY2FsZURlbm9taW5hdG9yXG4gICAgICAgIC8vIG91IDogL0xheWVyTGlzdC9MYXllci9FeHRlbnNpb24vZ3BwOkxheWVyL2dwcDpPcmlnaW5hdG9ycy9ncHA6T3JpZ2luYXRvci9ncHA6Q29uc3RyYWludHMvc2xkOk1pblNjYWxlRGVub21pbmF0b3JcbiAgICAgICAgLy8gb3UgOiAvTGF5ZXJMaXN0L0xheWVyL0V4dGVuc2lvbi9ncHA6TGF5ZXIvZ3BwOkxlZ2VuZHMvZ3BwOkxlZ2VuZC9zbGQ6TWluU2NhbGVEZW5vbWluYXRvclxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIE1pblNjYWxlRGVub21pbmF0b3IgOiBmdW5jdGlvbiAobm9kZSwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIG1pblNjYWxlID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKG1pblNjYWxlICYmIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRPcHRpb25zXCIpKSB7IC8vIGNhcyBkJ3VuIHRlcnJpdG9pcmVcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kZWZhdWx0T3B0aW9ucy5taW5TY2FsZURlbm9taW5hdG9yID0gcGFyc2VGbG9hdChtaW5TY2FsZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmx5cikgeyAvLyBjYXMgZCd1bmUgbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmx5ci5nbG9iYWxDb25zdHJhaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmx5ci5nbG9iYWxDb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkYXRhLmx5ci5nbG9iYWxDb25zdHJhaW50Lm1pblNjYWxlRGVub21pbmF0b3IgPSBwYXJzZUZsb2F0KG1pblNjYWxlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJtaW5TY2FsZURlbm9taW5hdG9yXCIpKSB7IC8vIGNhcyBkJ3VuZSBjb250cmFpbnRlIG91IGQndW5lIGzDqWdlbmRlXG4gICAgICAgICAgICAgICAgICAgIGRhdGEubWluU2NhbGVEZW5vbWluYXRvciA9IHBhcnNlRmxvYXQobWluU2NhbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUZXJyaXRvcmllcy9ncHA6VGVycml0b3J5L3NsZDpNYXhTY2FsZURlbm9taW5hdG9yXG4gICAgICAgIC8vIG91IDogL0xheWVyTGlzdC9MYXllci9zbGQ6TWF4U2NhbGVEZW5vbWluYXRvclxuICAgICAgICAvLyBvdSA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci9ncHA6T3JpZ2luYXRvcnMvZ3BwOk9yaWdpbmF0b3IvZ3BwOkNvbnN0cmFpbnRzL3NsZDpNYXhTY2FsZURlbm9taW5hdG9yXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgTWF4U2NhbGVEZW5vbWluYXRvciA6IGZ1bmN0aW9uIChub2RlLCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgbWF4U2NhbGUgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICBpZiAobWF4U2NhbGUgJiYgZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiZGVmYXVsdE9wdGlvbnNcIikpIHsgLy8gY2FzIGQndW4gdGVycml0b2lyZVxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRlZmF1bHRPcHRpb25zLm1heFNjYWxlRGVub21pbmF0b3IgPSBwYXJzZUZsb2F0KG1heFNjYWxlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEubHlyKSB7IC8vIGNhcyBkJ3VuZSBsYXllclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEubHlyLmdsb2JhbENvbnN0cmFpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubHlyLmdsb2JhbENvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubHlyLmdsb2JhbENvbnN0cmFpbnQubWF4U2NhbGVEZW5vbWluYXRvciA9IHBhcnNlRmxvYXQobWF4U2NhbGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcIm1heFNjYWxlRGVub21pbmF0b3JcIikpIHsgLy8gY2FzIGQndW5lIGNvbnRyYWludGVcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXhTY2FsZURlbm9taW5hdG9yID0gcGFyc2VGbG9hdChtYXhTY2FsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHdtdHMgOiB7XG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci93bXRzOlRpbGVNYXRyaXhTZXRMaW5rL3dtdHM6VGlsZU1hdHJpeFNldExpbWl0c1xuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFRpbGVNYXRyaXhTZXRMaW1pdHMgOiBmdW5jdGlvbiAobm9kZSwgbHlyKSB7XG4gICAgICAgICAgICAvLyBpbmZvIDogY29udGllbnQgZGVzIGJhbGlzZXMgd210czpUaWxlTWF0cml4TGltaXRzXG4gICAgICAgICAgICBpZiAobHlyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbWl0cyA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIG9uIHLDqWN1cMOocmUgbGVzIGxpbWl0ZXMgZGFucyBsZXMgYmFsaXNlcyBUaWxlTWF0cml4TGltaXRzXG4gICAgICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKG5vZGUsIGxpbWl0cyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWx5ci53bXRzT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBseXIud210c09wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbHlyLndtdHNPcHRpb25zLnRpbGVNYXRyaXhTZXRMaW1pdHMgPSBsaW1pdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci93bXRzOlRpbGVNYXRyaXhTZXRMaW5rL3dtdHM6VGlsZU1hdHJpeFNldExpbWl0cy93bXRzOlRpbGVNYXRyaXhMaW1pdHNcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBUaWxlTWF0cml4TGltaXRzIDogZnVuY3Rpb24gKG5vZGUsIGxpbWl0cykge1xuICAgICAgICAgICAgdmFyIGxpbWl0ID0gbmV3IFRpbGVNYXRyaXhMaW1pdCgpO1xuICAgICAgICAgICAgdmFyIGxpbWl0SWQ7XG4gICAgICAgICAgICBpZiAobm9kZS5oYXNDaGlsZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE5hbWUgPSBjaGlsZC5sb2NhbE5hbWUgfHwgY2hpbGQuYmFzZU5hbWUgfHwgY2hpbGQubm9kZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE5hbWUgPT09IFwiVGlsZU1hdHJpeFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdElkID0gX19nZXRDaGlsZFZhbHVlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5hbWUgPT09IFwiTWluVGlsZVJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC5taW5UaWxlUm93ID0gX19nZXRDaGlsZFZhbHVlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5hbWUgPT09IFwiTWF4VGlsZVJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC5tYXhUaWxlUm93ID0gX19nZXRDaGlsZFZhbHVlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5hbWUgPT09IFwiTWluVGlsZUNvbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC5taW5UaWxlQ29sID0gX19nZXRDaGlsZFZhbHVlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5hbWUgPT09IFwiTWF4VGlsZUNvbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC5tYXhUaWxlQ29sID0gX19nZXRDaGlsZFZhbHVlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGltaXRJZCAmJiBsaW1pdHMgJiYgIWxpbWl0c1tsaW1pdElkXSkge1xuICAgICAgICAgICAgICAgICAgICBsaW1pdHNbbGltaXRJZF0gPSBsaW1pdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGlsZU1hdHJpeFNldHMvd210czpUaWxlTWF0cml4U2V0XG4gICAgICAgIC8vIG91IDogLy8gaW5mbyA6IC9MYXllckxpc3QvTGF5ZXIvRXh0ZW5zaW9uL2dwcDpMYXllci93bXRzOlRpbGVNYXRyaXhTZXRMaW5rL3dtdHM6VGlsZU1hdHJpeFNldFxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFRpbGVNYXRyaXhTZXQgOiBmdW5jdGlvbiAobm9kZSwgZGF0YSkge1xuICAgICAgICAgICAgLy8gaW5mbyA6IERlc2NyaWJlcyBhIHBhcnRpY3VsYXIgc2V0IG9mIHRpbGUgbWF0cmljZXMuXG5cbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEudGlsZU1hdHJpeFNldHMpIHsgLy8gbGVzIHRpbGVNYXRyaXhTZXRzIGRlIEdlbmVyYWxcbiAgICAgICAgICAgICAgICAvLyBub3V2ZWwgb2JqZXQgVGlsZU1hdHJpeFNldFxuICAgICAgICAgICAgICAgIHZhciB0bXNEYXRhID0ge307XG4gICAgICAgICAgICAgICAgdG1zRGF0YS5UTVMgPSBuZXcgVGlsZU1hdHJpeFNldCgpO1xuICAgICAgICAgICAgICAgIHRtc0RhdGEucmVzb2x1dGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIC8vIGxlY3R1cmUgZGVzIGluZm9ybWF0aW9ucyBkdSBUTVNcbiAgICAgICAgICAgICAgICBfX2dldENoaWxkTm9kZXMobm9kZSwgdG1zRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAvLyByw6ljdXDDqXJhdGlvbiBkZXMgaWRlbnRpZmlhbnRzIGRlcyBuaXZlYXV4IGRlIG1hdHJpY2UgKHBvdXIgZmFjaWxpdGVyIGwnYWNjw6hzIGF1IFdNVFMgdmlhIGxlcyBBUEkgY2FydG8pXG4gICAgICAgICAgICAgICAgdmFyIHRpbGVNYXRyaWNlcyA9IHRtc0RhdGEuVE1TLnRpbGVNYXRyaWNlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB0bSBpbiB0aWxlTWF0cmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbGVNYXRyaWNlcy5oYXNPd25Qcm9wZXJ0eSh0bSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtc0RhdGEuVE1TLm1hdHJpeElkcy5wdXNoKHRtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0bXNEYXRhLlRNUy5nZXRQcm9qZWN0aW9uKCkgPT09IFwiSUdORjpXR1M4NEdcIiB8fCB0bXNEYXRhLlRNUy5nZXRQcm9qZWN0aW9uKCkgPT09IFwiRVBTRzo0MzI2XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZ2VuZXJhbE9wdGlvbnMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmdlbmVyYWxPcHRpb25zLndnczg0UmVzb2x1dGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2dzODRSZXNvbHV0aW9ucyA9IGRhdGEuZ2VuZXJhbE9wdGlvbnMud2dzODRSZXNvbHV0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2dzODRSZXNvbHV0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluZm8gOiBsZXMgcsOpc29sdXRpb25zIHN0b2Nrw6llcyBkYW5zIHdnczg0UmVzb2x1dGlvbnMsIGlzc3VlcyBkZSBsJ2F1dG9jb25mLCBzb250IGRlcyBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXNEYXRhLnJlc29sdXRpb25zW2ldID0gcGFyc2VGbG9hdCh3Z3M4NFJlc29sdXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHRyaSBkZXMgcsOpc29sdXRpb25zIChwYXIgb3JkcmUgZMOpY3JvaXNzYW50IGNldHRlIGZvaXMpXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG1zRGF0YS5yZXNvbHV0aW9ucykgJiYgdG1zRGF0YS5yZXNvbHV0aW9ucy5zb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdG1zRGF0YS5yZXNvbHV0aW9ucy5zb3J0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geSAtIHg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRtc0RhdGEuVE1TLm5hdGl2ZVJlc29sdXRpb25zID0gdG1zRGF0YS5yZXNvbHV0aW9ucztcblxuICAgICAgICAgICAgICAgIC8vIGFqb3V0IGR1IFRpbGVNYXRyaXhTZXQgw6AgbGEgdmFyaWFibGUgY29uZmlnXG4gICAgICAgICAgICAgICAgZGF0YS50aWxlTWF0cml4U2V0c1t0bXNEYXRhLmlkZW50aWZpZXJdID0gdG1zRGF0YS5UTVM7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBsZSBUaWxlTWF0cml4U2V0TGluayBkJ3VuZSBjb3VjaGUgKGxheWVyKVxuICAgICAgICAgICAgICAgIGlmIChkYXRhICYmICFkYXRhLndtdHNPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEud210c09wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYWpvdXQgZHUgbGllbiB2ZXJzIGxlIFRNU1xuICAgICAgICAgICAgICAgIGRhdGEud210c09wdGlvbnMudGlsZU1hdHJpeFNldExpbmsgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGlsZU1hdHJpeFNldHMvd210czpUaWxlTWF0cml4U2V0L3dtdHM6VGlsZU1hdHJpeFxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFRpbGVNYXRyaXggOiBmdW5jdGlvbiAobm9kZSwgdG1zRGF0YSkge1xuICAgICAgICAgICAgLy8gaW5mbyA6IERlc2NyaWJlcyBhIHBhcnRpY3VsYXIgdGlsZSBtYXRyaXguXG5cbiAgICAgICAgICAgIGlmICh0bXNEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gbm91dmVhdSBuaXZlYXUgZGUgbWF0cmljZSA6IFRpbGVNYXRyaXhcbiAgICAgICAgICAgICAgICB2YXIgdGlsZU1hdHJpeCA9IG5ldyBUaWxlTWF0cml4KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZWN0dXJlIGRlcyBpbmZvcm1hdGlvbiBkdSBUaWxlTWF0cml4XG4gICAgICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKG5vZGUsIHRpbGVNYXRyaXgpO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsIGRlIGxhIHLDqXNvbHV0aW9uIGFzc29jacOpZSBhdSBkw6lub21pbmF0ZXVyIGQnw6ljaGVsbGUgZHUgbml2ZWF1IGRlIHB5cmFtaWRlLCBzZWxvbiBsYSBwcm9qZWN0aW9uLlxuICAgICAgICAgICAgICAgIGlmICh0bXNEYXRhLlRNUyAmJiB0bXNEYXRhLlRNUy5nZXRQcm9qZWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2ogPSB0bXNEYXRhLlRNUy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9qID09PSBcIkVQU0c6Mzg1N1wiIHx8IHByb2ogPT09IFwiRVBTRzoyMTU0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bCBkZSBsYSByw6lzb2x1dGlvbiBhc3NvY2nDqWUsIGVuIG0vcHhcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuIHNlIGJhc2FudCBzdXIgdW5lIFwidGFpbGxlIHN0YW5kYXJkIGRlIHBpeGVsXCIgZGUgMC4yOG1tKjAuMjhtbSAoc3RhbmRhcmQgV01UUyAxLjApXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IHRpbGVNYXRyaXguc2NhbGVEZW5vbWluYXRvciAqIDAuMDAwMjg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1zRGF0YS5yZXNvbHV0aW9ucyAmJiBBcnJheS5pc0FycmF5KHRtc0RhdGEucmVzb2x1dGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1zRGF0YS5yZXNvbHV0aW9ucy5wdXNoKHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWpvdXQgZHUgVGlsZU1hdHJpeCBhdSBUaWxlTWF0cml4U2V0XG4gICAgICAgICAgICAgICAgaWYgKHRtc0RhdGEuVE1TICYmIHRtc0RhdGEuVE1TLnRpbGVNYXRyaWNlcykge1xuICAgICAgICAgICAgICAgICAgICB0bXNEYXRhLlRNUy50aWxlTWF0cmljZXNbdGlsZU1hdHJpeC5tYXRyaXhJZF0gPSB0aWxlTWF0cml4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUaWxlTWF0cml4U2V0cy93bXRzOlRpbGVNYXRyaXhTZXQvd210czpUaWxlTWF0cml4L3dtdHM6U2NhbGVEZW5vbWluYXRvclxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFNjYWxlRGVub21pbmF0b3IgOiBmdW5jdGlvbiAobm9kZSwgdGlsZU1hdHJpeCkge1xuICAgICAgICAgICAgdmFyIHNjYWxlID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKHNjYWxlICYmIHRpbGVNYXRyaXggJiYgdGlsZU1hdHJpeC5oYXNPd25Qcm9wZXJ0eShcInNjYWxlRGVub21pbmF0b3JcIikpIHtcbiAgICAgICAgICAgICAgICB0aWxlTWF0cml4LnNjYWxlRGVub21pbmF0b3IgPSBwYXJzZUZsb2F0KHNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUaWxlTWF0cml4U2V0cy93bXRzOlRpbGVNYXRyaXhTZXQvd210czpUaWxlTWF0cml4L3dtdHM6VG9wTGVmdENvcm5lclxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFRvcExlZnRDb3JuZXIgOiBmdW5jdGlvbiAobm9kZSwgdGlsZU1hdHJpeCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKS5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICBpZiAodmFsdWVzICYmIHRpbGVNYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB0aWxlTWF0cml4LnRvcExlZnRDb3JuZXIgPSB7fTtcbiAgICAgICAgICAgICAgICB0aWxlTWF0cml4LnRvcExlZnRDb3JuZXIueCA9IHBhcnNlRmxvYXQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICB0aWxlTWF0cml4LnRvcExlZnRDb3JuZXIueSA9IHBhcnNlRmxvYXQodmFsdWVzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUaWxlTWF0cml4U2V0cy93bXRzOlRpbGVNYXRyaXhTZXQvd210czpUaWxlTWF0cml4L3dtdHM6VGlsZVdpZHRoXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgVGlsZVdpZHRoIDogZnVuY3Rpb24gKG5vZGUsIHRpbGVNYXRyaXgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0aWxlTWF0cml4ICYmIHRpbGVNYXRyaXguaGFzT3duUHJvcGVydHkoXCJ0aWxlV2lkdGhcIikpIHtcbiAgICAgICAgICAgICAgICB0aWxlTWF0cml4LnRpbGVXaWR0aCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaW5mbyA6IC9HZW5lcmFsL0V4dGVuc2lvbi9ncHA6R2VuZXJhbC9ncHA6VGlsZU1hdHJpeFNldHMvd210czpUaWxlTWF0cml4U2V0L3dtdHM6VGlsZU1hdHJpeC93bXRzOlRpbGVIZWlnaHRcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBUaWxlSGVpZ2h0IDogZnVuY3Rpb24gKG5vZGUsIHRpbGVNYXRyaXgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0aWxlTWF0cml4ICYmIHRpbGVNYXRyaXguaGFzT3duUHJvcGVydHkoXCJ0aWxlSGVpZ2h0XCIpKSB7XG4gICAgICAgICAgICAgICAgdGlsZU1hdHJpeC50aWxlSGVpZ2h0ID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUaWxlTWF0cml4U2V0cy93bXRzOlRpbGVNYXRyaXhTZXQvd210czpUaWxlTWF0cml4L3dtdHM6TWF0cml4V2lkdGhcbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBNYXRyaXhXaWR0aCA6IGZ1bmN0aW9uIChub2RlLCB0aWxlTWF0cml4KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdGlsZU1hdHJpeCAmJiB0aWxlTWF0cml4Lmhhc093blByb3BlcnR5KFwibWF0cml4V2lkdGhcIikpIHtcbiAgICAgICAgICAgICAgICB0aWxlTWF0cml4Lm1hdHJpeFdpZHRoID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBpbmZvIDogL0dlbmVyYWwvRXh0ZW5zaW9uL2dwcDpHZW5lcmFsL2dwcDpUaWxlTWF0cml4U2V0cy93bXRzOlRpbGVNYXRyaXhTZXQvd210czpUaWxlTWF0cml4L3dtdHM6TWF0cml4SGVpZ2h0XG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgTWF0cml4SGVpZ2h0IDogZnVuY3Rpb24gKG5vZGUsIHRpbGVNYXRyaXgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0aWxlTWF0cml4ICYmIHRpbGVNYXRyaXguaGFzT3duUHJvcGVydHkoXCJtYXRyaXhIZWlnaHRcIikpIHtcbiAgICAgICAgICAgICAgICB0aWxlTWF0cml4Lm1hdHJpeEhlaWdodCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgIHNlcnZpY2VFeGNlcHRpb24gOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgY2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZU5hbWUgPT09IFwiZXhjZXB0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZXhjZXB0aW9uUmVwb3J0ID0gQXV0b0NvbmZSZXNwb25zZVJlYWRlci5SRUFERVJTW1wiZXhjZXB0aW9uXCJdKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sXG5cbiAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgZXhjZXB0aW9uIDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIGV4Y2VwdGlvblJlcG9ydCA9IHt9O1xuXG4gICAgICAgIC8vIGdldCBleGNlcHRpb24gY29kZVxuICAgICAgICB2YXIgZXhjZXB0aW9uQ29kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiY29kZVwiKTtcbiAgICAgICAgaWYgKGV4Y2VwdGlvbkNvZGUpIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvblJlcG9ydC5leGNlcHRpb25Db2RlID0gZXhjZXB0aW9uQ29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGNlcHRpb24gbWVzc2FnZVxuICAgICAgICB2YXIgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh0ZXh0Tm9kZSAmJiB0ZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMykgeyAvLyAzID09PSBub2RlLlRFWFRfTk9ERVxuICAgICAgICAgICAgZXhjZXB0aW9uUmVwb3J0LmV4Y2VwdGlvbiA9IHRleHROb2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleGNlcHRpb25SZXBvcnQ7XG4gICAgfVxuXG59O1xuXG4vKipcbiAqIE3DqXRob2RlIHBlcm1ldHRhbnQgZGUgbGFuY2VyIGxhIGxlY3R1cmUgZCd1bmUgcsOpcG9uc2UgWE1MIGR1IHNlcnZpY2UgZCdhdXRvY29uZixcbiAqICAgICAgw6AgbCdhaWRlIGRlcyBSRUFERVJTIGRlIGxhIGNsYXNzZS5cbiAqXG4gKiBAbWV0aG9kIEF1dG9Db25mUmVzcG9uc2VSZWFkZXIucmVhZFxuICogQHBhcmFtIHtET01FbGVtZW50fSByb290IC0gcmFjaW5lIGRlIGxhIHLDqXBvbnNlIFhNTCDDoCBsaXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9IGNvbmZpZ3xleGNlcHRpb25SZXBvcnQgOiBsJ29iamV0IGNvbnRlbmFudCBsZXMgaW5mb3JtYXRpb25zIGRlIGxhIHLDqXBvbnNlIFhNTCxcbiAqICAgICAgc291cyBsYSBmb3JtZSBkJ3VuIG9iamV0IEF1dG9Db25mUmVzcG9uc2UsIG91IHVuIG9iamV0IGxpdHTDqXJhbCBleGNlcHRpb25SZXBvcnQgc2kgbGUgc2VydmljZSBhIHJlbnZvecOpIHVuZSBleGNlcHRpb24uXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgQXV0b0NvbmZSZXNwb25zZVJlYWRlclxuICovXG5BdXRvQ29uZlJlc3BvbnNlUmVhZGVyLnJlYWQgPSBmdW5jdGlvbiAocm9vdCkge1xuICAgIGlmIChyb290Lm5vZGVOYW1lID09PSBcIlZpZXdDb250ZXh0XCIpIHtcbiAgICAgICAgdmFyIG5zUHJlZml4ID0gcm9vdC5wcmVmaXggfHwgQXV0b0NvbmZSZXNwb25zZVJlYWRlci5ERUZBVUxUUFJFRklYO1xuICAgICAgICB2YXIgY29uZmlnID0gQXV0b0NvbmZSZXNwb25zZVJlYWRlci5SRUFERVJTW25zUHJlZml4XVtyb290Lm5vZGVOYW1lXShyb290KTtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9IGVsc2UgaWYgKHJvb3Qubm9kZU5hbWUgPT09IFwic2VydmljZUV4Y2VwdGlvblwiKSB7XG4gICAgICAgIHZhciBleGNlcHRpb25SZXBvcnQgPSBBdXRvQ29uZlJlc3BvbnNlUmVhZGVyLlJFQURFUlNbcm9vdC5ub2RlTmFtZV0ocm9vdCk7XG4gICAgICAgIHJldHVybiBleGNlcHRpb25SZXBvcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyZXVyIGxvcnMgZGUgbGEgbGVjdHVyZSBkZSBsYSByw6lwb25zZSA6IGVsbGUgbidlc3QgcGFzIGF1IGZvcm1hdCBhdHRlbmR1LlwiKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFLDqWN1cMOpcmF0aW9uIGRlcyBhdHRyaWJ1dHMgZCd1biBub2V1ZCDDqWzDqW1lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIEF1dG9Db25mUmVzcG9uc2VSZWFkZXJcbiAqIEBtZXRob2QgX19nZXRBdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgLSBub2V1ZCBjb250ZW5hbnQgbCdhdHRyaWJ1dCByZWNoZXJjaMOpXG4gKiBAcmV0dXJuIHtPYmplY3R9IG5vZGVBdHRyaWJ1dGVzIC0gb2JqZXQgY29udGVuYW50IGxlcyBub21zIGV0IHZhbGV1cnMgZGVzIGRpZmbDqXJlbnRzIGF0dHJpYnV0c1xuICovXG5mdW5jdGlvbiBfX2dldEF0dHJpYnV0ZXMgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIG5vZGVBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgbm9kZUF0dHJpYnV0ZXNbYXR0cmlidXRlLm5vZGVOYW1lXSA9IGF0dHJpYnV0ZS5ub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVBdHRyaWJ1dGVzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSw6ljdXDDqXJhdGlvbiBkZXMgbm9ldWRzIGVuZmFudHMgKHNldWxlbWVudCBkZSB0eXBlIEVMRU1FTlQpLCDDoCBwYXJ0aXIgZCd1biBub2V1ZCBkb25uw6ksIHBvdXIgbGVjdHVyZSAocmVhZE5vZGUpLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgQXV0b0NvbmZSZXNwb25zZVJlYWRlclxuICogQG1ldGhvZCBfX2dldENoaWxkTm9kZXNcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSAtIGEgRE9NIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBbZGF0YV0gLSBhbiBvYmplY3QgdG8gYmUgZmlsbGVkIHdpdGggbm9kZSBkYXRhXG4gKi9cbmZ1bmN0aW9uIF9fZ2V0Q2hpbGROb2RlcyAobm9kZSwgZGF0YSkge1xuICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgdmFyIGNoaWxkTmFtZTtcbiAgICAgICAgdmFyIGNoaWxkUHJlZml4O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgeyAvLyAxID09PSBub2RlLkVMRU1FTlRfTk9ERVxuICAgICAgICAgICAgICAgIGNoaWxkTmFtZSA9IGNoaWxkLmxvY2FsTmFtZSB8fCBjaGlsZC5iYXNlTmFtZSB8fCBjaGlsZC5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICBjaGlsZFByZWZpeCA9IGNoaWxkLnByZWZpeCB8fCBBdXRvQ29uZlJlc3BvbnNlUmVhZGVyLkRFRkFVTFRQUkVGSVg7XG5cbiAgICAgICAgICAgICAgICBpZiAoQXV0b0NvbmZSZXNwb25zZVJlYWRlci5SRUFERVJTW2NoaWxkUHJlZml4XVtjaGlsZE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBBdXRvQ29uZlJlc3BvbnNlUmVhZGVyLlJFQURFUlNbY2hpbGRQcmVmaXhdW2NoaWxkTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlcihjaGlsZCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKGNoaWxkLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogTGVjdHVyZSBkZSBsYSB2YWxldXIgZHUgcHJlbWllciBjaGlsZCBkJ3VuIG5vZXVkLCBzaSBlbGxlIGV4aXN0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIEF1dG9Db25mUmVzcG9uc2VSZWFkZXJcbiAqIEBtZXRob2QgX19nZXRDaGlsZFZhbHVlXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgLSBhIERPTSBub2RlXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHZhbHVlIC0gdmFsZXVyIGR1IGZpcnN0Q2hpbGQgZHUgbm9ldWQgZW4gZW50csOpZSwgb3UgY2hhw65uZSB2aWRlLlxuICovXG5mdW5jdGlvbiBfX2dldENoaWxkVmFsdWUgKG5vZGUpIHtcbiAgICB2YXIgdGV4dE5vZGU7XG4gICAgdmFyIHZhbHVlID0gXCJcIjtcblxuICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHRleHROb2RlLm5vZGVUeXBlID09PSAzIHx8IHRleHROb2RlLm5vZGVUeXBlID09PSA0KSB7IC8vIDMgPT09IG5vZGUuVEVYVF9OT0RFXG4gICAgICAgICAgICB2YWx1ZSA9IHRleHROb2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogVsOpcmlmaWNhdGlvbiBkZXMgYXR0cmlidXRzIGR1IHNlcnZpY2UsIGRhbnMgbGEgYmFsaXNlIFhMUyBkZSBsYSByw6lwb25zZSA6XG4gKiAgICAgIHZlcnNpb24sIG5hbWVzcGFjZXMsIGV0IG5hbWVzcGFjZSBwYXIgZMOpZmF1dCBkb2l2ZW50IGNvcnJlc3BvbmRyZSDDoCBjZXV4IGF0dGVuZHVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgQXV0b0NvbmZSZXNwb25zZVJlYWRlclxuICogQG1ldGhvZCBfX2NoZWNrU2VydmljZUF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gdmlld0NvbnRleHROb2RlIC0gYSBET00gbm9kZSwgY29ycmVzcG9uZGluZyB0byBYTFMgZmlyc3QgdGFnLlxuICovXG5mdW5jdGlvbiBfX2NoZWNrU2VydmljZUF0dHJpYnV0ZXMgKHZpZXdDb250ZXh0Tm9kZSkge1xuICAgIGlmICh2aWV3Q29udGV4dE5vZGUuYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIG9uIHLDqWN1cMOocmUgZXQgcGFyY291cnQgbGVzIGF0dHJpYnV0cyBkZSBsYSBiYWxpc2UgWExTIGRlIGxhIHLDqXBvbnNlXG4gICAgICAgIHZhciB4bHNBdHRyaWJ1dGVzID0gX19nZXRBdHRyaWJ1dGVzKHZpZXdDb250ZXh0Tm9kZSk7XG4gICAgICAgIGZvciAodmFyIGF0dCBpbiB4bHNBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoeGxzQXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gdsOpcmlmaWNhdGlvbiBkZSBsYSB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgaWYgKGF0dCA9PT0gXCJ2ZXJzaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhsc0F0dHJpYnV0ZXNbXCJ2ZXJzaW9uXCJdICE9PSBBdXRvQ29uZlJlc3BvbnNlUmVhZGVyLlZFUlNJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0F1dG9Db25mUmVzcG9uc2VSZWFkZXJdIGF1dG9jb25mIHZlcnNpb24gaXMgbm90IHRoZSBleHBlY3RlZCBvbmUgOiB0aGVyZSBtYXkgYmUgZXJyb3JzIGluIHBhcnNpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBvbiB2w6lyaWZpZSBxdWUgbCd1cmkgZHUgbmFtZXNwYWNlIHBhciBkw6lmYXV0IGVzdCBiaWVuIGNlbGxlIHF1ZSBsJ29uIGF0dGVuZFxuICAgICAgICAgICAgICAgIGlmIChhdHQgPT09IFwieG1sbnNcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGxzQXR0cmlidXRlc1thdHRdICE9PSBBdXRvQ29uZlJlc3BvbnNlUmVhZGVyLk5BTUVTUEFDRVMueG1sbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0F1dG9Db25mUmVzcG9uc2VSZWFkZXJdIGF1dG9jb25mIHJlc3BvbnNlIGRlZmF1bHQgbmFtZXNwYWNlIGlzIG5vdCB0aGUgZXhwZWN0ZWQgb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSBhdHQuc3BsaXQoXCI6XCIpWzBdO1xuICAgICAgICAgICAgICAgIHZhciBucyA9IGF0dC5zcGxpdChcIjpcIilbMV07XG5cbiAgICAgICAgICAgICAgICAvLyBzaSBvbiBhIHVuIGF1dHJlIHhtbG5zLCBvbiB2w6lyaWZpZSBhdXNzaSBsZXMgVVJJXG4gICAgICAgICAgICAgICAgaWYgKHByZWZpeCA9PT0gXCJ4bWxuc1wiICYmIG5zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNpIGwnYXR0cmlidXQgY29ycmVzcG9uZCDDoCB1biBuYW1lc3BhY2UgZMOpZmluaSBkYW5zIGxlIHJlYWRlclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXV0b0NvbmZSZXNwb25zZVJlYWRlci5OQU1FU1BBQ0VTW25zXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWwgZmF1dCBxdWUgbGVzIFVSSSBjb3JyZXNwb25kZW50IGF1c3NpLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEF1dG9Db25mUmVzcG9uc2VSZWFkZXIuTkFNRVNQQUNFU1tuc10gIT09IHhsc0F0dHJpYnV0ZXNbYXR0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0F1dG9Db25mUmVzcG9uc2VSZWFkZXJdIGF1dG9jb25mIHJlc3BvbnNlIFwiICsgYXR0ICsgXCIgbmFtZXNwYWNlIGlzIG5vdCB0aGUgZXhwZWN0ZWQgb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHBvdXIgZmluaXIgb24gdsOpcmlmaWUgbGEgbG9jYWxpc2F0aW9uIGR1IHNjaGVtYSBYU0QgZHUgc2VydmljZVxuICAgICAgICAgICAgICAgIGlmIChucyA9PT0gXCJzY2hlbWFMb2NhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4bHNBdHRyaWJ1dGVzW2F0dF0gIT09IEF1dG9Db25mUmVzcG9uc2VSZWFkZXIuU0NIRU1BTE9DQVRJT05bMF0gJiYgeGxzQXR0cmlidXRlc1thdHRdICE9PSBBdXRvQ29uZlJlc3BvbnNlUmVhZGVyLlNDSEVNQUxPQ0FUSU9OWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltBdXRvQ29uZlJlc3BvbnNlUmVhZGVyXSBhdXRvY29uZiByZXNwb25zZSBzY2hlbWEgbG9jYXRpb24gaXMgbm90IHRoZSBleHBlY3RlZCBvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEF1dG9Db25mUmVzcG9uc2VSZWFkZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Formats/AutoConfResponseReader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/AutoConfResponseFactory.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/AutoConfResponseFactory.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Formats_XML__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Formats/XML */ \"./node_modules/geoportal-access-lib/src/Formats/XML.js\");\n/* harmony import */ var _Formats_AutoConfResponseReader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Formats/AutoConfResponseReader */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/Formats/AutoConfResponseReader.js\");\n/**\n * Factory pour générer une reponse JSON à partir d'un XML\n *\n * @module AutoConfReponseFactory\n * @private\n * @alias Gp.Services.AutoConf.Response.AutoConfResponseFactory\n * @todo gérer le cas du JSONP qui encapsule du XML ?\n */\n\n\n\n\n\n\nvar AutoConfReponseFactory = {\n\n    /**\n     * interface unique\n     * Fabrique d'analyse des réponses (xml) du service d'autoconfiguration.\n     * Création d'un format XML, auquel on associe un reader et une chaîne XML, et qui renverra un objet JavaScript correspondant.\n     * Si une erreur est levée lors de l'analyse, ou si l'objet est vide ou contient une exception : appel de la fonction de callback onError\n     * Sinon, appel de la fonction de callback onSuccess (définies dans Autoconf.analyzeResponse)\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant AutoConf\n     *\n     * @example\n     *   var options = {\n     *      layerId :\n     *      response :\n     *      rawResponse :\n     *      scope :\n     *      onSuccess :\n     *      onError :\n     *   };\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"AutoConfResponseFactory\");\n        logger.trace([\"AutoConfResponseFactory::build()\"]);\n\n        // data de type AutoConfResponse\n        var data = null;\n\n        if (options.response) {\n            if (options.rawResponse) {\n                data = options.response;\n            } else {\n                try {\n                    var p = new _Formats_XML__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                        reader : _Formats_AutoConfResponseReader__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n                    });\n\n                    if (typeof options.response === \"string\") {\n                        p.setXMLString(options.response);\n                    } else {\n                        p.setXMLDoc(options.response);\n                    }\n\n                    data = p.parse();\n                } catch (e) {\n                    // si une exception a été levée, on appelle le callback d'erreur avec le message renvoyé\n                    var message = e.message;\n                    if (typeof options.response === \"string\") {\n                        message += \"\\n (raw response service'\" + options.response + \"')\";\n                    } else {\n                        message += \"\\n (raw response service'\" + options.response.documentElement.innerHTML + \"')\";\n                    }\n\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", message),\n                        status : 200,\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n                    }));\n                    return;\n                }\n\n                // Si la réponse est vide, on appelle le callback d'erreur\n                var isEmpty = true;\n                for (var key in data) {\n                    if (data.hasOwnProperty(key)) {\n                        isEmpty = false;\n                    }\n                }\n                if (isEmpty) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY_2\")));\n                    return;\n                }\n\n                // Si la réponse contenait une exception renvoyée par le service, on appelle le callback d'erreur\n                if (data.exceptionReport) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", data.exceptionReport),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR,\n                        status : 200\n                    }));\n                    return;\n                }\n            }\n        } else {\n            // si la réponse (xmlString) est vide, on appelle le callback d'erreur\n            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n            return;\n        }\n\n        // définition de la variable globale Gp.Config à partir de la réponse\n        var scope = typeof window !== \"undefined\" ? window : {};\n\n        if (!scope.Gp) {\n            scope.Gp = {};\n        }\n        if (!scope.Gp.Config) {\n            scope.Gp.Config = data;\n        } else {\n            this.mergeConfig(scope.Gp.Config, data, options.layerId);\n        }\n\n        // si tout s'est bien passé, on appelle le callback de succès\n        options.onSuccess.call(options.scope, scope.Gp.Config);\n    },\n\n    /**\n     * Fonction utilisée dans le cas où l'autoconfiguration est appelée plusieurs fois\n     * (par exemple pour des clés différentes ou pour des infos sur une couche agrégée)\n     *\n     * @method mergeConfig\n     * @static\n     * @param {Object} GpConfig - Variable Gp.Config préexistante\n     * @param {Object} data - la nouvelle réponse de l'autoconf, à fusionner avec GpConfig\n     * @param {String} [layerId] - l'identifiant d'une couche agrégée dans le cas d'une 2è opération de l'autoconf\n     */\n    mergeConfig : function (GpConfig, data, layerId) {\n        if (data && GpConfig) {\n            // on boucle sur les propriétés (generalOptions, layers, projections, services, tileMatrixSets, territories)\n            for (var prop in data) {\n                if (data.hasOwnProperty(prop)) {\n                    // on récupère la nouvelle clé dans generalOptions\n                    if (prop === \"generalOptions\") {\n                        for (var key in data[prop].apiKeys) {\n                            if (data[prop].apiKeys.hasOwnProperty(key) && !GpConfig.generalOptions.apiKeys[key]) {\n                                GpConfig.generalOptions.apiKeys[key] = data[prop].apiKeys[key];\n                            }\n                        }\n                        // on récupère les nouveaux objets (TMS, layers, projections...)\n                    } else {\n                        if (GpConfig[prop]) {\n                            for (var obj in data[prop]) {\n                                if (data[prop].hasOwnProperty(obj) && !GpConfig[prop][obj]) {\n                                    GpConfig[prop][obj] = data[prop][obj];\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            // dans le cas d'une autoconf pour une couche agrégée, on récupère l'info\n            if (layerId) {\n                var aggregatedLayers = [];\n\n                for (var lyr in data.layers) {\n                    if (data.layers.hasOwnProperty(lyr)) {\n                        aggregatedLayers.push(lyr);\n                    }\n                }\n\n                if (GpConfig.layers[layerId]) {\n                    GpConfig.layers[layerId].aggregatedLayers = aggregatedLayers;\n                }\n            }\n        }\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoConfReponseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvQXV0b0NvbmZSZXNwb25zZUZhY3RvcnkuanM/ZjJiZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29EO0FBQ0E7QUFDUTtBQUNyQjtBQUNnQzs7QUFFdkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhEQUFNO0FBQzNCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZ0NBQWdDLG9EQUFHO0FBQ25DLGlDQUFpQyx1RUFBc0I7QUFDdkQscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQSw0REFBNEQsZ0VBQVk7QUFDeEUsa0NBQWtDLGdFQUFJO0FBQ3RDO0FBQ0EsK0JBQStCLGdFQUFZO0FBQzNDLHFCQUFxQjtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsZ0VBQVksQ0FBQyxnRUFBSTtBQUM3RTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0REFBNEQsZ0VBQVk7QUFDeEUsa0NBQWtDLGdFQUFJO0FBQ3RDLCtCQUErQixnRUFBWTtBQUMzQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvREFBb0QsZ0VBQVksQ0FBQyxnRUFBSTtBQUNyRTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUscUZBQXNCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL0F1dG9Db25mUmVzcG9uc2VGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWN0b3J5IHBvdXIgZ8OpbsOpcmVyIHVuZSByZXBvbnNlIEpTT04gw6AgcGFydGlyIGQndW4gWE1MXG4gKlxuICogQG1vZHVsZSBBdXRvQ29uZlJlcG9uc2VGYWN0b3J5XG4gKiBAcHJpdmF0ZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkF1dG9Db25mLlJlc3BvbnNlLkF1dG9Db25mUmVzcG9uc2VGYWN0b3J5XG4gKiBAdG9kbyBnw6lyZXIgbGUgY2FzIGR1IEpTT05QIHF1aSBlbmNhcHN1bGUgZHUgWE1MID9cbiAqL1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgTVJlcyBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXNcIjtcbmltcG9ydCBFcnJvclNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL0V4Y2VwdGlvbnMvRXJyb3JTZXJ2aWNlXCI7XG5pbXBvcnQgWE1MIGZyb20gXCIuLi8uLi8uLi9Gb3JtYXRzL1hNTFwiO1xuaW1wb3J0IEF1dG9Db25mUmVzcG9uc2VSZWFkZXIgZnJvbSBcIi4uL0Zvcm1hdHMvQXV0b0NvbmZSZXNwb25zZVJlYWRlclwiO1xuXG52YXIgQXV0b0NvbmZSZXBvbnNlRmFjdG9yeSA9IHtcblxuICAgIC8qKlxuICAgICAqIGludGVyZmFjZSB1bmlxdWVcbiAgICAgKiBGYWJyaXF1ZSBkJ2FuYWx5c2UgZGVzIHLDqXBvbnNlcyAoeG1sKSBkdSBzZXJ2aWNlIGQnYXV0b2NvbmZpZ3VyYXRpb24uXG4gICAgICogQ3LDqWF0aW9uIGQndW4gZm9ybWF0IFhNTCwgYXVxdWVsIG9uIGFzc29jaWUgdW4gcmVhZGVyIGV0IHVuZSBjaGHDrm5lIFhNTCwgZXQgcXVpIHJlbnZlcnJhIHVuIG9iamV0IEphdmFTY3JpcHQgY29ycmVzcG9uZGFudC5cbiAgICAgKiBTaSB1bmUgZXJyZXVyIGVzdCBsZXbDqWUgbG9ycyBkZSBsJ2FuYWx5c2UsIG91IHNpIGwnb2JqZXQgZXN0IHZpZGUgb3UgY29udGllbnQgdW5lIGV4Y2VwdGlvbiA6IGFwcGVsIGRlIGxhIGZvbmN0aW9uIGRlIGNhbGxiYWNrIG9uRXJyb3JcbiAgICAgKiBTaW5vbiwgYXBwZWwgZGUgbGEgZm9uY3Rpb24gZGUgY2FsbGJhY2sgb25TdWNjZXNzIChkw6lmaW5pZXMgZGFucyBBdXRvY29uZi5hbmFseXplUmVzcG9uc2UpXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGJ1aWxkXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBkZWZpbmllcyBkYW5zIGxlIGNvbXBvc2FudCBBdXRvQ29uZlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgICAgbGF5ZXJJZCA6XG4gICAgICogICAgICByZXNwb25zZSA6XG4gICAgICogICAgICByYXdSZXNwb25zZSA6XG4gICAgICogICAgICBzY29wZSA6XG4gICAgICogICAgICBvblN1Y2Nlc3MgOlxuICAgICAqICAgICAgb25FcnJvciA6XG4gICAgICogICB9O1xuICAgICAqL1xuICAgIGJ1aWxkIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG4gICAgICAgIHZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiQXV0b0NvbmZSZXNwb25zZUZhY3RvcnlcIik7XG4gICAgICAgIGxvZ2dlci50cmFjZShbXCJBdXRvQ29uZlJlc3BvbnNlRmFjdG9yeTo6YnVpbGQoKVwiXSk7XG5cbiAgICAgICAgLy8gZGF0YSBkZSB0eXBlIEF1dG9Db25mUmVzcG9uc2VcbiAgICAgICAgdmFyIGRhdGEgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBYTUwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyIDogQXV0b0NvbmZSZXNwb25zZVJlYWRlclxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVzcG9uc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MU3RyaW5nKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcC5zZXRYTUxEb2Mob3B0aW9ucy5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gcC5wYXJzZSgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2kgdW5lIGV4Y2VwdGlvbiBhIMOpdMOpIGxldsOpZSwgb24gYXBwZWxsZSBsZSBjYWxsYmFjayBkJ2VycmV1ciBhdmVjIGxlIG1lc3NhZ2UgcmVudm95w6lcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIlxcbiAocmF3IHJlc3BvbnNlIHNlcnZpY2UnXCIgKyBvcHRpb25zLnJlc3BvbnNlICsgXCInKVwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIlxcbiAocmF3IHJlc3BvbnNlIHNlcnZpY2UnXCIgKyBvcHRpb25zLnJlc3BvbnNlLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUwgKyBcIicpXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VYQ0VQVElPTlwiLCBtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiBFcnJvclNlcnZpY2UuVFlQRV9TUlZFUlJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU2kgbGEgcsOpcG9uc2UgZXN0IHZpZGUsIG9uIGFwcGVsbGUgbGUgY2FsbGJhY2sgZCdlcnJldXJcbiAgICAgICAgICAgICAgICB2YXIgaXNFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FTVBUWV8yXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTaSBsYSByw6lwb25zZSBjb250ZW5haXQgdW5lIGV4Y2VwdGlvbiByZW52b3nDqWUgcGFyIGxlIHNlcnZpY2UsIG9uIGFwcGVsbGUgbGUgY2FsbGJhY2sgZCdlcnJldXJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5leGNlcHRpb25SZXBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FWENFUFRJT05cIiwgZGF0YS5leGNlcHRpb25SZXBvcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzaSBsYSByw6lwb25zZSAoeG1sU3RyaW5nKSBlc3QgdmlkZSwgb24gYXBwZWxsZSBsZSBjYWxsYmFjayBkJ2VycmV1clxuICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZShNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VNUFRZXCIpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkw6lmaW5pdGlvbiBkZSBsYSB2YXJpYWJsZSBnbG9iYWxlIEdwLkNvbmZpZyDDoCBwYXJ0aXIgZGUgbGEgcsOpcG9uc2VcbiAgICAgICAgdmFyIHNjb3BlID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9O1xuXG4gICAgICAgIGlmICghc2NvcGUuR3ApIHtcbiAgICAgICAgICAgIHNjb3BlLkdwID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzY29wZS5HcC5Db25maWcpIHtcbiAgICAgICAgICAgIHNjb3BlLkdwLkNvbmZpZyA9IGRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lcmdlQ29uZmlnKHNjb3BlLkdwLkNvbmZpZywgZGF0YSwgb3B0aW9ucy5sYXllcklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpIHRvdXQgcydlc3QgYmllbiBwYXNzw6ksIG9uIGFwcGVsbGUgbGUgY2FsbGJhY2sgZGUgc3VjY8Ooc1xuICAgICAgICBvcHRpb25zLm9uU3VjY2Vzcy5jYWxsKG9wdGlvbnMuc2NvcGUsIHNjb3BlLkdwLkNvbmZpZyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZvbmN0aW9uIHV0aWxpc8OpZSBkYW5zIGxlIGNhcyBvw7kgbCdhdXRvY29uZmlndXJhdGlvbiBlc3QgYXBwZWzDqWUgcGx1c2lldXJzIGZvaXNcbiAgICAgKiAocGFyIGV4ZW1wbGUgcG91ciBkZXMgY2zDqXMgZGlmZsOpcmVudGVzIG91IHBvdXIgZGVzIGluZm9zIHN1ciB1bmUgY291Y2hlIGFncsOpZ8OpZSlcbiAgICAgKlxuICAgICAqIEBtZXRob2QgbWVyZ2VDb25maWdcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IEdwQ29uZmlnIC0gVmFyaWFibGUgR3AuQ29uZmlnIHByw6lleGlzdGFudGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIGxhIG5vdXZlbGxlIHLDqXBvbnNlIGRlIGwnYXV0b2NvbmYsIMOgIGZ1c2lvbm5lciBhdmVjIEdwQ29uZmlnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtsYXllcklkXSAtIGwnaWRlbnRpZmlhbnQgZCd1bmUgY291Y2hlIGFncsOpZ8OpZSBkYW5zIGxlIGNhcyBkJ3VuZSAyw6ggb3DDqXJhdGlvbiBkZSBsJ2F1dG9jb25mXG4gICAgICovXG4gICAgbWVyZ2VDb25maWcgOiBmdW5jdGlvbiAoR3BDb25maWcsIGRhdGEsIGxheWVySWQpIHtcbiAgICAgICAgaWYgKGRhdGEgJiYgR3BDb25maWcpIHtcbiAgICAgICAgICAgIC8vIG9uIGJvdWNsZSBzdXIgbGVzIHByb3ByacOpdMOpcyAoZ2VuZXJhbE9wdGlvbnMsIGxheWVycywgcHJvamVjdGlvbnMsIHNlcnZpY2VzLCB0aWxlTWF0cml4U2V0cywgdGVycml0b3JpZXMpXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbiByw6ljdXDDqHJlIGxhIG5vdXZlbGxlIGNsw6kgZGFucyBnZW5lcmFsT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gXCJnZW5lcmFsT3B0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVtwcm9wXS5hcGlLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbcHJvcF0uYXBpS2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFHcENvbmZpZy5nZW5lcmFsT3B0aW9ucy5hcGlLZXlzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3BDb25maWcuZ2VuZXJhbE9wdGlvbnMuYXBpS2V5c1trZXldID0gZGF0YVtwcm9wXS5hcGlLZXlzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gcsOpY3Vww6hyZSBsZXMgbm91dmVhdXggb2JqZXRzIChUTVMsIGxheWVycywgcHJvamVjdGlvbnMuLi4pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoR3BDb25maWdbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvYmogaW4gZGF0YVtwcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtwcm9wXS5oYXNPd25Qcm9wZXJ0eShvYmopICYmICFHcENvbmZpZ1twcm9wXVtvYmpdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcENvbmZpZ1twcm9wXVtvYmpdID0gZGF0YVtwcm9wXVtvYmpdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkYW5zIGxlIGNhcyBkJ3VuZSBhdXRvY29uZiBwb3VyIHVuZSBjb3VjaGUgYWdyw6lnw6llLCBvbiByw6ljdXDDqHJlIGwnaW5mb1xuICAgICAgICAgICAgaWYgKGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWdncmVnYXRlZExheWVycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbHlyIGluIGRhdGEubGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxheWVycy5oYXNPd25Qcm9wZXJ0eShseXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkTGF5ZXJzLnB1c2gobHlyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChHcENvbmZpZy5sYXllcnNbbGF5ZXJJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgR3BDb25maWcubGF5ZXJzW2xheWVySWRdLmFnZ3JlZ2F0ZWRMYXllcnMgPSBhZ2dyZWdhdGVkTGF5ZXJzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF1dG9Db25mUmVwb25zZUZhY3Rvcnk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/AutoConfResponseFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/AutoConfResponse.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/AutoConfResponse.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Response object for {@link module:Services~getConfig Gp.Services.getConfig ()} invocation when successful. Received as the argument of onSuccess callback function.\n *\n * @property {Object} generalOptions - General properties for default map configuration resources.\n * @property {Object} generalOptions.apiKeys - Object that associates apiKey (s) with an array of resources IDs availables with that key.\n * @property {String} generalOptions.title - Underlying web service Title.\n * @property {String} generalOptions.defaultGMLGFIStyle - XSL URL used by default to translate an XML GetFeatureInfo response into an HTML array.\n * @property {String} generalOptions.theme - default theme (FIXME : for what ?)\n * @property {Array.<Float>} generalOptions.wgs84Resolutions - geographical resolutions Array for each [zoom level of the Geoportal platform]{@link http://api.ign.fr/tech-docs-js/webmaster/layers.html#Geoportal_resolutions} from 0 to 21. Expressed in degrees/pixel.\n * @property {Object} layers - Associative array mapping resources availables IDs (keys) with their properties (values given as {@link Gp.Services.Config.Layer}).\n * @property {Object} territories - Associative array mapping french territories IDs (keys) with their properties (values given as {@link Gp.Services.Config.Territory}).\n * @property {Object} tileMatrixSets - Associative Array mapping TileMatrixSets IDs (keys) availables with their properties (values given as {@link Gp.Services.Config.TileMatrixSet}).\n * @property {Object} services - Associative Array mapping Geoportal web services IDs (keys) availables with their properties (values given as {@link Gp.Services.Config.Service}).\n *\n * @namespace\n * @alias Gp.Services.GetConfigResponse\n */\nfunction AutoConfResponse () {\n    if (!(this instanceof AutoConfResponse)) {\n        throw new TypeError(\"AutoConfResponse constructor cannot be called as a function.\");\n    }\n\n    this.generalOptions = {\n        apiKeys : {},\n        title : null,\n        defaultGMLGFIStyle : null,\n        theme : null,\n        wgs84Resolutions : []\n    };\n\n    this.layers = {};\n\n    this.territories = {};\n\n    this.tileMatrixSets = {};\n\n    this.services = {};\n}\n\nAutoConfResponse.prototype = {\n\n    /*\n     * Constructor (alias)\n     */\n    constructor : AutoConfResponse,\n\n    /**\n     * Check if config is loaded for a given key\n     *\n     * @param {String} apiKey - Access key to Geoportal platform\n     * @returns {Boolean} isConfLoaded - true if config is already loaded, false otherwise\n     */\n    isConfLoaded : function (apiKey) {\n        if (!apiKey) {\n            return;\n        }\n        if (this.generalOptions.apiKeys[apiKey]) {\n            return true;\n        }\n        return false;\n    },\n\n    /**\n     * Returns an array of Geoportal layers identifiers, corresponding to an API contract key.\n     *\n     * @param {String} apiKey - Access key to Geoportal platform\n     * @returns {Array} apiKeys - Array of geoportal layers identifiers\n     */\n    getLayersId : function (apiKey) {\n        return this.generalOptions.apiKeys[apiKey];\n    },\n\n    /**\n     * Returns an associative array of Geoportal layers configurations, corresponding to an API contract key.\n     * If no key is specified, all layers from configuration are returned.\n     *\n     * @param {String} apiKey - Access key to Geoportal platform\n     * @returns {Object} layers - Object which properties are layers identifiers, and corresponding\n     *      values are instances of <Gp.Services.Config.Layer>.\n     */\n    getLayersConf : function (apiKey) {\n        var layers = {};\n        var layersIdArray = this.getLayersId(apiKey);\n        if (layersIdArray) {\n            for (var i = 0; i < layersIdArray.length; i++) {\n                var lyrId = layersIdArray[i];\n                layers[lyrId] = this.layers[lyrId];\n            }\n        }\n        return layers;\n    },\n\n    /**\n     * Returns a geoportal layer configuration, given its identifier\n     *\n     * @param {String} layerId - Geoportal layer identifier (e.g. \"GEOGRAPHICALGRIDSYSTEMS.MAPS$GEOPORTAIL:OGC:WMTS\")\n     * @return {Object} layer - Layer configuration : instance of {@link Gp.Services.Config.Layer}\n     */\n    getLayerConf : function (layerId) {\n        if (!this.layers) {\n            return;\n        }\n        return this.layers[layerId];\n    },\n\n    /**\n     * Returns an associative array of Tile Matrix Sets configurations.\n     *\n     * @return {Object} tileMatrixSets - Object which properties are TMS identifiers,\n     *      and corresponding values are instances of {@link Gp.Services.Config.TileMatrixSet}.\n     */\n    getTileMatrixSets : function () {\n        return this.tileMatrixSets;\n    },\n\n    /**\n     * Returns a Tile Matrix Sets configuration, given its identifier.\n     *\n     * @param {String} tmsID - Tile Matrix Set identifier (e.g. : \"PM\")\n     * @return {Object} tileMatrixSet - Tile Matrix Set configuration, instance of {@link Gp.Services.Config.TileMatrixSet}\n     */\n    getTMSConf : function (tmsID) {\n        if (!this.tileMatrixSets) {\n            return;\n        }\n        return this.tileMatrixSets[tmsID];\n    },\n\n    /**\n     * Returns an associative array of territories configurations.\n     *\n     * @return {Object} territories - Object which properties are territory identifiers,\n     *      and corresponding values are instances of {@link Gp.Services.Config.Territory}.\n     */\n    getTerritories : function () {\n        return this.territories;\n    },\n\n    /**\n     * Returns a territory configuration, given its identifier.\n     *\n     * @param {String} territoryID - territory identifier (e.g. \"FXX\")\n     * @return {Object} territory - Territory configuration, instance of {@link Gp.Services.Config.Territory}\n     */\n    getTerritoryConf : function (territoryID) {\n        if (!this.territories) {\n            return;\n        }\n        return this.territories[territoryID];\n    },\n\n    /**\n     * Returns an associative array of services configurations.\n     *\n     * @return {Object} services - Object which properties are services identifiers,\n     *      and corresponding values are instances of {@link Gp.Services.Config.Service}.\n     */\n    getServices : function () {\n        return this.services;\n    },\n\n    /**\n     * Returns a service configuration, given its identifier.\n     *\n     * @param {String} serviceID - service identifier (e.g. \"OGC:WMTS\")\n     * @return {Object} service - service configuration, instance of {@link Gp.Services.Config.Service}\n     */\n    getServiceConf : function (serviceID) {\n        if (!this.services) {\n            return;\n        }\n        return this.services[serviceID];\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AutoConfResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvQXV0b0NvbmZSZXNwb25zZS5qcz8yZTVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQSx3QkFBd0IseURBQXlEO0FBQ2pGO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLGNBQWMsa0hBQWtILGlGQUFpRjtBQUMvTixjQUFjLE9BQU8sNEdBQTRHLCtCQUErQjtBQUNoSyxjQUFjLE9BQU8sK0dBQStHLG1DQUFtQztBQUN2SyxjQUFjLE9BQU8seUhBQXlILHVDQUF1QztBQUNyTCxjQUFjLE9BQU8sMkhBQTJILGlDQUFpQztBQUNqTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsT0FBTyw0Q0FBNEM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2Qix1REFBdUQsdUNBQXVDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixPQUFPLDZEQUE2RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCLHVEQUF1RCxtQ0FBbUM7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLE9BQU8sbURBQW1EO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsdURBQXVELGlDQUFpQztBQUN4RjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsT0FBTywrQ0FBK0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRWUsK0VBQWdCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL0F1dG9Db25mUmVzcG9uc2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogUmVzcG9uc2Ugb2JqZWN0IGZvciB7QGxpbmsgbW9kdWxlOlNlcnZpY2VzfmdldENvbmZpZyBHcC5TZXJ2aWNlcy5nZXRDb25maWcgKCl9IGludm9jYXRpb24gd2hlbiBzdWNjZXNzZnVsLiBSZWNlaXZlZCBhcyB0aGUgYXJndW1lbnQgb2Ygb25TdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnZW5lcmFsT3B0aW9ucyAtIEdlbmVyYWwgcHJvcGVydGllcyBmb3IgZGVmYXVsdCBtYXAgY29uZmlndXJhdGlvbiByZXNvdXJjZXMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gZ2VuZXJhbE9wdGlvbnMuYXBpS2V5cyAtIE9iamVjdCB0aGF0IGFzc29jaWF0ZXMgYXBpS2V5IChzKSB3aXRoIGFuIGFycmF5IG9mIHJlc291cmNlcyBJRHMgYXZhaWxhYmxlcyB3aXRoIHRoYXQga2V5LlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGdlbmVyYWxPcHRpb25zLnRpdGxlIC0gVW5kZXJseWluZyB3ZWIgc2VydmljZSBUaXRsZS5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBnZW5lcmFsT3B0aW9ucy5kZWZhdWx0R01MR0ZJU3R5bGUgLSBYU0wgVVJMIHVzZWQgYnkgZGVmYXVsdCB0byB0cmFuc2xhdGUgYW4gWE1MIEdldEZlYXR1cmVJbmZvIHJlc3BvbnNlIGludG8gYW4gSFRNTCBhcnJheS5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBnZW5lcmFsT3B0aW9ucy50aGVtZSAtIGRlZmF1bHQgdGhlbWUgKEZJWE1FIDogZm9yIHdoYXQgPylcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZsb2F0Pn0gZ2VuZXJhbE9wdGlvbnMud2dzODRSZXNvbHV0aW9ucyAtIGdlb2dyYXBoaWNhbCByZXNvbHV0aW9ucyBBcnJheSBmb3IgZWFjaCBbem9vbSBsZXZlbCBvZiB0aGUgR2VvcG9ydGFsIHBsYXRmb3JtXXtAbGluayBodHRwOi8vYXBpLmlnbi5mci90ZWNoLWRvY3MtanMvd2VibWFzdGVyL2xheWVycy5odG1sI0dlb3BvcnRhbF9yZXNvbHV0aW9uc30gZnJvbSAwIHRvIDIxLiBFeHByZXNzZWQgaW4gZGVncmVlcy9waXhlbC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBsYXllcnMgLSBBc3NvY2lhdGl2ZSBhcnJheSBtYXBwaW5nIHJlc291cmNlcyBhdmFpbGFibGVzIElEcyAoa2V5cykgd2l0aCB0aGVpciBwcm9wZXJ0aWVzICh2YWx1ZXMgZ2l2ZW4gYXMge0BsaW5rIEdwLlNlcnZpY2VzLkNvbmZpZy5MYXllcn0pLlxuICogQHByb3BlcnR5IHtPYmplY3R9IHRlcnJpdG9yaWVzIC0gQXNzb2NpYXRpdmUgYXJyYXkgbWFwcGluZyBmcmVuY2ggdGVycml0b3JpZXMgSURzIChrZXlzKSB3aXRoIHRoZWlyIHByb3BlcnRpZXMgKHZhbHVlcyBnaXZlbiBhcyB7QGxpbmsgR3AuU2VydmljZXMuQ29uZmlnLlRlcnJpdG9yeX0pLlxuICogQHByb3BlcnR5IHtPYmplY3R9IHRpbGVNYXRyaXhTZXRzIC0gQXNzb2NpYXRpdmUgQXJyYXkgbWFwcGluZyBUaWxlTWF0cml4U2V0cyBJRHMgKGtleXMpIGF2YWlsYWJsZXMgd2l0aCB0aGVpciBwcm9wZXJ0aWVzICh2YWx1ZXMgZ2l2ZW4gYXMge0BsaW5rIEdwLlNlcnZpY2VzLkNvbmZpZy5UaWxlTWF0cml4U2V0fSkuXG4gKiBAcHJvcGVydHkge09iamVjdH0gc2VydmljZXMgLSBBc3NvY2lhdGl2ZSBBcnJheSBtYXBwaW5nIEdlb3BvcnRhbCB3ZWIgc2VydmljZXMgSURzIChrZXlzKSBhdmFpbGFibGVzIHdpdGggdGhlaXIgcHJvcGVydGllcyAodmFsdWVzIGdpdmVuIGFzIHtAbGluayBHcC5TZXJ2aWNlcy5Db25maWcuU2VydmljZX0pLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5HZXRDb25maWdSZXNwb25zZVxuICovXG5mdW5jdGlvbiBBdXRvQ29uZlJlc3BvbnNlICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQXV0b0NvbmZSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkF1dG9Db25mUmVzcG9uc2UgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmdlbmVyYWxPcHRpb25zID0ge1xuICAgICAgICBhcGlLZXlzIDoge30sXG4gICAgICAgIHRpdGxlIDogbnVsbCxcbiAgICAgICAgZGVmYXVsdEdNTEdGSVN0eWxlIDogbnVsbCxcbiAgICAgICAgdGhlbWUgOiBudWxsLFxuICAgICAgICB3Z3M4NFJlc29sdXRpb25zIDogW11cbiAgICB9O1xuXG4gICAgdGhpcy5sYXllcnMgPSB7fTtcblxuICAgIHRoaXMudGVycml0b3JpZXMgPSB7fTtcblxuICAgIHRoaXMudGlsZU1hdHJpeFNldHMgPSB7fTtcblxuICAgIHRoaXMuc2VydmljZXMgPSB7fTtcbn1cblxuQXV0b0NvbmZSZXNwb25zZS5wcm90b3R5cGUgPSB7XG5cbiAgICAvKlxuICAgICAqIENvbnN0cnVjdG9yIChhbGlhcylcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciA6IEF1dG9Db25mUmVzcG9uc2UsXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjb25maWcgaXMgbG9hZGVkIGZvciBhIGdpdmVuIGtleVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFwaUtleSAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IGlzQ29uZkxvYWRlZCAtIHRydWUgaWYgY29uZmlnIGlzIGFscmVhZHkgbG9hZGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc0NvbmZMb2FkZWQgOiBmdW5jdGlvbiAoYXBpS2V5KSB7XG4gICAgICAgIGlmICghYXBpS2V5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhbE9wdGlvbnMuYXBpS2V5c1thcGlLZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgR2VvcG9ydGFsIGxheWVycyBpZGVudGlmaWVycywgY29ycmVzcG9uZGluZyB0byBhbiBBUEkgY29udHJhY3Qga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFwaUtleSAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtXG4gICAgICogQHJldHVybnMge0FycmF5fSBhcGlLZXlzIC0gQXJyYXkgb2YgZ2VvcG9ydGFsIGxheWVycyBpZGVudGlmaWVyc1xuICAgICAqL1xuICAgIGdldExheWVyc0lkIDogZnVuY3Rpb24gKGFwaUtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmFsT3B0aW9ucy5hcGlLZXlzW2FwaUtleV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXNzb2NpYXRpdmUgYXJyYXkgb2YgR2VvcG9ydGFsIGxheWVycyBjb25maWd1cmF0aW9ucywgY29ycmVzcG9uZGluZyB0byBhbiBBUEkgY29udHJhY3Qga2V5LlxuICAgICAqIElmIG5vIGtleSBpcyBzcGVjaWZpZWQsIGFsbCBsYXllcnMgZnJvbSBjb25maWd1cmF0aW9uIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhcGlLZXkgLSBBY2Nlc3Mga2V5IHRvIEdlb3BvcnRhbCBwbGF0Zm9ybVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGxheWVycyAtIE9iamVjdCB3aGljaCBwcm9wZXJ0aWVzIGFyZSBsYXllcnMgaWRlbnRpZmllcnMsIGFuZCBjb3JyZXNwb25kaW5nXG4gICAgICogICAgICB2YWx1ZXMgYXJlIGluc3RhbmNlcyBvZiA8R3AuU2VydmljZXMuQ29uZmlnLkxheWVyPi5cbiAgICAgKi9cbiAgICBnZXRMYXllcnNDb25mIDogZnVuY3Rpb24gKGFwaUtleSkge1xuICAgICAgICB2YXIgbGF5ZXJzID0ge307XG4gICAgICAgIHZhciBsYXllcnNJZEFycmF5ID0gdGhpcy5nZXRMYXllcnNJZChhcGlLZXkpO1xuICAgICAgICBpZiAobGF5ZXJzSWRBcnJheSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnNJZEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGx5cklkID0gbGF5ZXJzSWRBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBsYXllcnNbbHlySWRdID0gdGhpcy5sYXllcnNbbHlySWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBnZW9wb3J0YWwgbGF5ZXIgY29uZmlndXJhdGlvbiwgZ2l2ZW4gaXRzIGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIC0gR2VvcG9ydGFsIGxheWVyIGlkZW50aWZpZXIgKGUuZy4gXCJHRU9HUkFQSElDQUxHUklEU1lTVEVNUy5NQVBTJEdFT1BPUlRBSUw6T0dDOldNVFNcIilcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGxheWVyIC0gTGF5ZXIgY29uZmlndXJhdGlvbiA6IGluc3RhbmNlIG9mIHtAbGluayBHcC5TZXJ2aWNlcy5Db25maWcuTGF5ZXJ9XG4gICAgICovXG4gICAgZ2V0TGF5ZXJDb25mIDogZnVuY3Rpb24gKGxheWVySWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxheWVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyc1tsYXllcklkXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhc3NvY2lhdGl2ZSBhcnJheSBvZiBUaWxlIE1hdHJpeCBTZXRzIGNvbmZpZ3VyYXRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aWxlTWF0cml4U2V0cyAtIE9iamVjdCB3aGljaCBwcm9wZXJ0aWVzIGFyZSBUTVMgaWRlbnRpZmllcnMsXG4gICAgICogICAgICBhbmQgY29ycmVzcG9uZGluZyB2YWx1ZXMgYXJlIGluc3RhbmNlcyBvZiB7QGxpbmsgR3AuU2VydmljZXMuQ29uZmlnLlRpbGVNYXRyaXhTZXR9LlxuICAgICAqL1xuICAgIGdldFRpbGVNYXRyaXhTZXRzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlTWF0cml4U2V0cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFRpbGUgTWF0cml4IFNldHMgY29uZmlndXJhdGlvbiwgZ2l2ZW4gaXRzIGlkZW50aWZpZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG1zSUQgLSBUaWxlIE1hdHJpeCBTZXQgaWRlbnRpZmllciAoZS5nLiA6IFwiUE1cIilcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRpbGVNYXRyaXhTZXQgLSBUaWxlIE1hdHJpeCBTZXQgY29uZmlndXJhdGlvbiwgaW5zdGFuY2Ugb2Yge0BsaW5rIEdwLlNlcnZpY2VzLkNvbmZpZy5UaWxlTWF0cml4U2V0fVxuICAgICAqL1xuICAgIGdldFRNU0NvbmYgOiBmdW5jdGlvbiAodG1zSUQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbGVNYXRyaXhTZXRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZU1hdHJpeFNldHNbdG1zSURdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFzc29jaWF0aXZlIGFycmF5IG9mIHRlcnJpdG9yaWVzIGNvbmZpZ3VyYXRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0ZXJyaXRvcmllcyAtIE9iamVjdCB3aGljaCBwcm9wZXJ0aWVzIGFyZSB0ZXJyaXRvcnkgaWRlbnRpZmllcnMsXG4gICAgICogICAgICBhbmQgY29ycmVzcG9uZGluZyB2YWx1ZXMgYXJlIGluc3RhbmNlcyBvZiB7QGxpbmsgR3AuU2VydmljZXMuQ29uZmlnLlRlcnJpdG9yeX0uXG4gICAgICovXG4gICAgZ2V0VGVycml0b3JpZXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcnJpdG9yaWVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdGVycml0b3J5IGNvbmZpZ3VyYXRpb24sIGdpdmVuIGl0cyBpZGVudGlmaWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRlcnJpdG9yeUlEIC0gdGVycml0b3J5IGlkZW50aWZpZXIgKGUuZy4gXCJGWFhcIilcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRlcnJpdG9yeSAtIFRlcnJpdG9yeSBjb25maWd1cmF0aW9uLCBpbnN0YW5jZSBvZiB7QGxpbmsgR3AuU2VydmljZXMuQ29uZmlnLlRlcnJpdG9yeX1cbiAgICAgKi9cbiAgICBnZXRUZXJyaXRvcnlDb25mIDogZnVuY3Rpb24gKHRlcnJpdG9yeUlEKSB7XG4gICAgICAgIGlmICghdGhpcy50ZXJyaXRvcmllcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRlcnJpdG9yaWVzW3RlcnJpdG9yeUlEXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhc3NvY2lhdGl2ZSBhcnJheSBvZiBzZXJ2aWNlcyBjb25maWd1cmF0aW9ucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gc2VydmljZXMgLSBPYmplY3Qgd2hpY2ggcHJvcGVydGllcyBhcmUgc2VydmljZXMgaWRlbnRpZmllcnMsXG4gICAgICogICAgICBhbmQgY29ycmVzcG9uZGluZyB2YWx1ZXMgYXJlIGluc3RhbmNlcyBvZiB7QGxpbmsgR3AuU2VydmljZXMuQ29uZmlnLlNlcnZpY2V9LlxuICAgICAqL1xuICAgIGdldFNlcnZpY2VzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHNlcnZpY2UgY29uZmlndXJhdGlvbiwgZ2l2ZW4gaXRzIGlkZW50aWZpZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2VydmljZUlEIC0gc2VydmljZSBpZGVudGlmaWVyIChlLmcuIFwiT0dDOldNVFNcIilcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHNlcnZpY2UgLSBzZXJ2aWNlIGNvbmZpZ3VyYXRpb24sIGluc3RhbmNlIG9mIHtAbGluayBHcC5TZXJ2aWNlcy5Db25maWcuU2VydmljZX1cbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlQ29uZiA6IGZ1bmN0aW9uIChzZXJ2aWNlSUQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlcnZpY2VzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZXNbc2VydmljZUlEXTtcbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF1dG9Db25mUmVzcG9uc2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/AutoConfResponse.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Constraint.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Constraint.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n *\n * Object used to express a geographical (BBOX, scale) and temporal constraint.\n *\n * @property {String} crs - Coordinates System ID used to express coordinates contraints.\n * @property {Gp.BBox} bbox - Constraint Bounding Box.\n * @property {Number} minScaleDenominator - Minimum scale denominator where constraint applies.\n * @property {Number} maxScaleDenominator - Maximum scale denominator where constraint applies.\n * @property {Array.<String>} temporalExtent - Array expressing the time interval of the constraint [minT, maxT]. Dates are expressed in the [ISO-8601]{@link https://en.wikipedia.org/wiki/ISO_8601} way.\n *\n * @namespace\n * @alias Gp.Services.Config.Constraint\n */\n\nfunction Constraint () {\n    if (!(this instanceof Constraint)) {\n        throw new TypeError(\"Constraint constructor cannot be called as a function.\");\n    }\n\n    this.crs = null;\n\n    this.bbox = {\n        left : null,\n        right : null,\n        top : null,\n        bottom : null\n    };\n\n    this.minScaleDenominator = null;\n\n    this.maxScaleDenominator = null;\n\n    this.temporalExtent = [null, null];\n}\n\nConstraint.prototype = {\n\n    constructor : Constraint\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Constraint);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvQ29uc3RyYWludC5qcz82NWZkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxlQUFlLDJIQUEySCw2Q0FBNkM7QUFDck07QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRWUseUVBQVUsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvQ29uc3RyYWludC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKlxuICogT2JqZWN0IHVzZWQgdG8gZXhwcmVzcyBhIGdlb2dyYXBoaWNhbCAoQkJPWCwgc2NhbGUpIGFuZCB0ZW1wb3JhbCBjb25zdHJhaW50LlxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBjcnMgLSBDb29yZGluYXRlcyBTeXN0ZW0gSUQgdXNlZCB0byBleHByZXNzIGNvb3JkaW5hdGVzIGNvbnRyYWludHMuXG4gKiBAcHJvcGVydHkge0dwLkJCb3h9IGJib3ggLSBDb25zdHJhaW50IEJvdW5kaW5nIEJveC5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBtaW5TY2FsZURlbm9taW5hdG9yIC0gTWluaW11bSBzY2FsZSBkZW5vbWluYXRvciB3aGVyZSBjb25zdHJhaW50IGFwcGxpZXMuXG4gKiBAcHJvcGVydHkge051bWJlcn0gbWF4U2NhbGVEZW5vbWluYXRvciAtIE1heGltdW0gc2NhbGUgZGVub21pbmF0b3Igd2hlcmUgY29uc3RyYWludCBhcHBsaWVzLlxuICogQHByb3BlcnR5IHtBcnJheS48U3RyaW5nPn0gdGVtcG9yYWxFeHRlbnQgLSBBcnJheSBleHByZXNzaW5nIHRoZSB0aW1lIGludGVydmFsIG9mIHRoZSBjb25zdHJhaW50IFttaW5ULCBtYXhUXS4gRGF0ZXMgYXJlIGV4cHJlc3NlZCBpbiB0aGUgW0lTTy04NjAxXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMX0gd2F5LlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Db25maWcuQ29uc3RyYWludFxuICovXG5cbmZ1bmN0aW9uIENvbnN0cmFpbnQgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25zdHJhaW50KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RyYWludCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMuY3JzID0gbnVsbDtcblxuICAgIHRoaXMuYmJveCA9IHtcbiAgICAgICAgbGVmdCA6IG51bGwsXG4gICAgICAgIHJpZ2h0IDogbnVsbCxcbiAgICAgICAgdG9wIDogbnVsbCxcbiAgICAgICAgYm90dG9tIDogbnVsbFxuICAgIH07XG5cbiAgICB0aGlzLm1pblNjYWxlRGVub21pbmF0b3IgPSBudWxsO1xuXG4gICAgdGhpcy5tYXhTY2FsZURlbm9taW5hdG9yID0gbnVsbDtcblxuICAgIHRoaXMudGVtcG9yYWxFeHRlbnQgPSBbbnVsbCwgbnVsbF07XG59XG5cbkNvbnN0cmFpbnQucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBDb25zdHJhaW50XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbnN0cmFpbnQ7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Constraint.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Format.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Format.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a format to use with Geoportal resources.\n *\n * @property {Boolean} current - If true, then this format is used by default.\n * @property {String} name - Format mime-type.\n *\n * @namespace\n * @alias Gp.Services.Config.Format\n */\n\nfunction Format () {\n    if (!(this instanceof Format)) {\n        throw new TypeError(\"Format constructor cannot be called as a function.\");\n    }\n\n    this.current = null;\n\n    this.name = null;\n}\n\nFormat.prototype = {\n\n    constructor : Format\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Format);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvRm9ybWF0LmpzPzgxZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRWUscUVBQU0sRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvRm9ybWF0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIE9iamVjdCB1c2VkIHRvIGRlc2NyaWJlIGEgZm9ybWF0IHRvIHVzZSB3aXRoIEdlb3BvcnRhbCByZXNvdXJjZXMuXG4gKlxuICogQHByb3BlcnR5IHtCb29sZWFufSBjdXJyZW50IC0gSWYgdHJ1ZSwgdGhlbiB0aGlzIGZvcm1hdCBpcyB1c2VkIGJ5IGRlZmF1bHQuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gbmFtZSAtIEZvcm1hdCBtaW1lLXR5cGUuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkNvbmZpZy5Gb3JtYXRcbiAqL1xuXG5mdW5jdGlvbiBGb3JtYXQgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGb3JtYXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGb3JtYXQgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcbn1cblxuRm9ybWF0LnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0cnVjdG9yIDogRm9ybWF0XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1hdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Format.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Layer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Layer.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe geoportal resource (WMTS, WMS, WFS layers, geocoding resources or elevation service) parameters. Properties may be used or not depending on the resource type.\n *\n * @property {String} name - name of the resource to use with the webservice that serves it (eg : \"GEOGRAPHICALGRIDSYSTEMS.MAPS\").\n * @property {String} title - Human readable name for the resource.\n * @property {String} description - Resource description.\n * @property {String} layerId - Unique resource Identifier (eg : \"GEOGRAPHICALGRIDSYSTEMS.MAPS$GEOPORTAIL:OGC:WMTS\")\n * @property {String} quicklookUrl - Image URL for the resource.\n * @property {Object} serviceParams - Informations about the webservice that serves the resource (OpenLS, WFS, WMTS)\n * @property {String} serviceParams.id - Web Service identifier (\"OGC:WMTS\", \"OGC:OPENLS;ReverseGeocode\", etc...)\n * @property {Object} serviceParams.serverUrl - Associative array mapping geoportal access key (keys) with their properties (URLs of the web service, with the geoportal access key).\n * @property {String} serviceParams.version - webservice version.\n * @property {String} defaultProjection - coordinates system ID used by default for the resource (WMS or WFS layer) or of the TileMatrixSet used by the WMTS layer.\n * @property {Array.<String>} additionalProjections - additional coordinates systems IDs availables for the resource, others than the default one (see defaultProjection) (WMS and WFS layers only).\n * @property {Array.<Gp.Services.Config.Format>} formats - Formats availables for the resource.\n * @property {Array.<Gp.Services.Config.Legend>} legends - Informations about legends associated to the resource.\n * @property {Array.<Gp.Services.Config.Metadata>} metadata - Informations about metadata associated to the resource.\n * @property {Array.<Gp.Services.Config.Style>} styles - Informations about styles availables for the resources (WMS, WFS and WMTS only).\n * @property {Array.<Gp.Services.Config.Thematic>} thematics - Informations about thematics associated to the resource.\n * @property {Gp.Services.Config.Constraint} globalConstraint - geographical constraint for the resource.\n * @property {Array.<Gp.Services.Config.Constraint>} constraints - additionnal geographical constraints for the resource.\n * @property {Array.<Gp.Services.Config.Originator>} originators - Informations about originator of the resource.\n * @property {Object} wmtsOptions - Informations associated to WMTS resources.\n * @property {String} wmtsOptions.tileMatrixSetLink - TileMatrixSet identifier used by the resource (see {@link Gp.Services.Config.TileMatrixSet})\n * @property {Gp.Services.Config.TileMatrixLimit} wmtsOptions.tileMatrixSetLimits - limits of the resource for that TileMAtrixSet.\n * @property {Boolean} queryable - true if a getFeatureInfo request may be done for the resource (WMS or WMTS only).\n * @property {Boolean} hidden - true if the resource is not visible.\n * @property {Boolean} isAggregate - true if the resource is an aggregate of other resources (@see aggregatedLayers).\n * @property {Array.<String>} aggregatedLayers - Layers IDs composing the being described aggregated layer.\n * @property {Array.<String>} apiKeys - Array of access keys that grant access to that resource.\n * @property {Object} dimensions - Dimensions informations associated with the resource.\n * @property {String} dimensions.type\n * @property {String} dimensions.visibilityRange\n * @property {String} dimensions.visibilityMode\n * @property {String} dimensions.noDataValue\n * @property {String} dimensions.geometricType\n *\n * @namespace\n * @alias Gp.Services.Config.Layer\n */\nfunction Layer () {\n    if (!(this instanceof Layer)) {\n        throw new TypeError(\"Layer constructor cannot be called as a function.\");\n    }\n\n    // info : une instance de la classe Layer n'a aucune propriété au départ,.\n    // les attributs possibles sont documentés ci-dessus,\n    // et seront implémentés au fur et à mesure de la lecture de la réponse de l'autoconf, lorsque l'information est rencontrée.\n}\n\nLayer.prototype = {\n\n    constructor : Layer,\n\n    /**\n     * Returns the layer name\n     *\n     * @returns {String} name - name of the resource to use with the webservice that serves it (eg : \"GEOGRAPHICALGRIDSYSTEMS.MAPS\").\n     */\n    getName : function () {\n        return this.name;\n    },\n\n    /**\n     * Returns the layer title\n     *\n     * @returns {String} title - Human readable name for the resource.\n     */\n    getTitle : function () {\n        return this.title;\n    },\n\n    /**\n     * Returns the layer description\n     *\n     * @returns {String} description - Resource description.\n     */\n    getDescription : function () {\n        return this.description;\n    },\n\n    /**\n     * Returns the layer identifier\n     *\n     * @returns {String} layerId - Unique resource Identifier (eg : \"GEOGRAPHICALGRIDSYSTEMS.MAPS$GEOPORTAIL:OGC:WMTS\")\n     */\n    getLayerId : function () {\n        return this.layerId;\n    },\n\n    /**\n     * Returns the layer quicklookUrl\n     *\n     * @returns {String} quicklookUrl - Image URL for the resource.\n     */\n    getQuicklookUrl : function () {\n        return this.quicklookUrl;\n    },\n\n    /**\n     * Returns the layer default projection\n     *\n     * @returns {String} defaultProjection - coordinates system ID used by default for the resource (WMS or WFS layer) or of the TileMatrixSet used by the WMTS layer.\n     */\n    getDefaultProjection : function () {\n        return this.defaultProjection;\n    },\n\n    /**\n     * Returns the layer projections\n     *\n     * @returns {Array.<String>} projections - coordinates systems IDs availables for the resource, including the default one.\n     */\n    getProjections : function () {\n        var projections = [];\n        projections.push(this.defaultProjection);\n        var proj = projections.concat(this.additionalProjections);\n        return proj;\n    },\n\n    /**\n     * Returns the global BBOX\n     *\n     * @returns {Gp.BBox} bbox - the layer global bounding box, expressed in CRS system.\n     */\n    getBBOX : function () {\n        if (!this.globalConstraint) {\n            return;\n        }\n        return this.globalConstraint.bbox;\n    },\n\n    /**\n     * Returns the layer minimum scale denominator\n     *\n     * @returns {Number} minScaleDenominator - minimum scale denominator for this layer\n     */\n    getMinScaleDenominator : function () {\n        if (!this.globalConstraint) {\n            return;\n        }\n        return this.globalConstraint.minScaleDenominator;\n    },\n\n    /**\n     * Returns the layer maximum scale denominator\n     *\n     * @returns {Number} maxScaleDenominator - maximum scale denominator for this layer\n     */\n    getMaxScaleDenominator : function () {\n        if (!this.globalConstraint) {\n            return;\n        }\n        return this.globalConstraint.maxScaleDenominator;\n    },\n\n    /**\n     * Returns layer Tile Matrix Set identifier if exists\n     *\n     * @returns {String} tileMatrixSetLink - Tile Matrix Set identifier (for instance : \"PM\")\n     */\n    getTMSID : function () {\n        if (this.wmtsOptions) {\n            return this.wmtsOptions.tileMatrixSetLink;\n        }\n    },\n\n    /**\n     * Returns information about the webservice that serves the resource\n     *\n     * @returns {Object} serviceParams - Information about the webservice that serves the resource (OpenLS, WFS, WMTS)\n     */\n    getServiceParams : function () {\n        return this.serviceParams;\n    },\n\n    /**\n     * Returns Geoportal server url for a given key\n     *\n     * @param {String} apiKey - Access key to Geoportal platform\n     * @returns {String} serverUrl - general URL of the web service (with the geoportal access key)\n     */\n    getServerUrl : function (apiKey) {\n        if (!apiKey || !this.serviceParams || !this.serviceParams.serverUrl) {\n            return;\n        }\n        return this.serviceParams.serverUrl[apiKey];\n    },\n\n    /**\n     * Returns information about legends associated to the resource.\n     *\n     * @returns {Array.<Gp.Services.Config.Legend>} legends - Informations about legends associated to the resource.\n     */\n    getLegends : function () {\n        return this.legends;\n    },\n\n    /**\n     * Returns information about metadata associated to the resource.\n     *\n     * @returns {Array.<Gp.Services.Config.Metadata>} metadata - Informations about metadata associated to the resource.\n     */\n    getMetadata : function () {\n        return this.metadata;\n    },\n\n    /**\n     * Returns information about styles availables for the resources (WMS, WFS and WMTS only).\n     *\n     * @returns {Array.<Gp.Services.Config.Style>} styles - Informations about styles availables for the resources (WMS, WFS and WMTS only).\n     */\n    getStyles : function () {\n        return this.styles;\n    },\n\n    /**\n     * Returns layer default style\n     *\n     * @returns {String} styleName - style identifier (eg : \"normal\", \"bdparcellaire\", ...)\n     */\n    getDefaultStyle : function () {\n        if (!this.styles) {\n            return;\n        }\n        var style;\n        var s = this.styles;\n        for (var i = 0; i < s.length; i++) {\n            if (s[i].current === true) {\n                style = s[i].name;\n                break;\n            }\n        }\n        return style;\n    },\n\n    /**\n     * Returns information about thematics associated to the resource.\n     *\n     * @returns {Array.<Gp.Services.Config.Thematic>} thematics - Informations about thematics associated to the resource.\n     */\n    getThematics : function () {\n        return this.thematics;\n    },\n\n    /**\n     * Returns layer default format\n     *\n     * @returns {String} formatName - Format mime-type. (eg. \"image/jpeg\")\n     */\n    getDefaultFormat : function () {\n        if (!this.formats) {\n            return;\n        }\n        var format;\n        var f = this.formats;\n        for (var i = 0; i < f.length; i++) {\n            if (f[i].current === true) {\n                format = f[i].name;\n                break;\n            }\n        }\n        return format;\n    },\n\n    /**\n     * Returns information about geographical or temporal constraints for the resource\n     *\n     * @returns {Array.<Gp.Services.Config.Constraint>} constraints - Informations about geographical or temporal constraints for the resource\n     */\n    getConstraints : function () {\n        return this.constraints;\n    },\n\n    /**\n     * Returns information about originators of this resource\n     *\n     * @returns {Array.<Gp.Services.Config.Originator>} originators - Informations about originators of this resource\n     */\n    getOriginators : function () {\n        return this.originators;\n    },\n\n    /**\n     * Returns information about dimensions associated with this resource\n     *\n     * @returns {Object} dimensions - Dimensions informations associated with the resource.\n     */\n    getDimensions : function () {\n        return this.dimensions;\n    },\n\n    /**\n     * Returns information about aggregated layers composing the being described layer, in case the resource is an aggregate of other resources.\n     *\n     * @returns {Object} aggregatedLayers - Layers IDs composing the being described aggregated layer.\n     */\n    getAggregatedLayers : function () {\n        if (this.isAggregate) {\n            return this.aggregatedLayers;\n        } else {\n\n        }\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvTGF5ZXIuanM/YWVmYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTyxvRUFBb0U7QUFDekYsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxlQUFlO0FBQzdCLGNBQWMsa0NBQWtDO0FBQ2hELGNBQWMsa0NBQWtDO0FBQ2hELGNBQWMsb0NBQW9DO0FBQ2xELGNBQWMsaUNBQWlDO0FBQy9DLGNBQWMsb0NBQW9DO0FBQ2xELGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsc0NBQXNDO0FBQ3BELGNBQWMsc0NBQXNDO0FBQ3BELGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU8scUZBQXFGLHVDQUF1QztBQUNqSixjQUFjLG1DQUFtQztBQUNqRCxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLGVBQWU7QUFDN0IsY0FBYyxlQUFlO0FBQzdCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQ0FBa0M7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0NBQW9DO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlDQUFpQztBQUNsRDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGNBQWM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0NBQW9DO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsY0FBYztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQ0FBc0M7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0NBQXNDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTs7QUFFZSxvRUFBSyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BdXRvQ29uZi9SZXNwb25zZS9tb2RlbC9MYXllci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBPYmplY3QgdXNlZCB0byBkZXNjcmliZSBnZW9wb3J0YWwgcmVzb3VyY2UgKFdNVFMsIFdNUywgV0ZTIGxheWVycywgZ2VvY29kaW5nIHJlc291cmNlcyBvciBlbGV2YXRpb24gc2VydmljZSkgcGFyYW1ldGVycy4gUHJvcGVydGllcyBtYXkgYmUgdXNlZCBvciBub3QgZGVwZW5kaW5nIG9uIHRoZSByZXNvdXJjZSB0eXBlLlxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBuYW1lIC0gbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gdXNlIHdpdGggdGhlIHdlYnNlcnZpY2UgdGhhdCBzZXJ2ZXMgaXQgKGVnIDogXCJHRU9HUkFQSElDQUxHUklEU1lTVEVNUy5NQVBTXCIpLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IHRpdGxlIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHJlc291cmNlLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRlc2NyaXB0aW9uIC0gUmVzb3VyY2UgZGVzY3JpcHRpb24uXG4gKiBAcHJvcGVydHkge1N0cmluZ30gbGF5ZXJJZCAtIFVuaXF1ZSByZXNvdXJjZSBJZGVudGlmaWVyIChlZyA6IFwiR0VPR1JBUEhJQ0FMR1JJRFNZU1RFTVMuTUFQUyRHRU9QT1JUQUlMOk9HQzpXTVRTXCIpXG4gKiBAcHJvcGVydHkge1N0cmluZ30gcXVpY2tsb29rVXJsIC0gSW1hZ2UgVVJMIGZvciB0aGUgcmVzb3VyY2UuXG4gKiBAcHJvcGVydHkge09iamVjdH0gc2VydmljZVBhcmFtcyAtIEluZm9ybWF0aW9ucyBhYm91dCB0aGUgd2Vic2VydmljZSB0aGF0IHNlcnZlcyB0aGUgcmVzb3VyY2UgKE9wZW5MUywgV0ZTLCBXTVRTKVxuICogQHByb3BlcnR5IHtTdHJpbmd9IHNlcnZpY2VQYXJhbXMuaWQgLSBXZWIgU2VydmljZSBpZGVudGlmaWVyIChcIk9HQzpXTVRTXCIsIFwiT0dDOk9QRU5MUztSZXZlcnNlR2VvY29kZVwiLCBldGMuLi4pXG4gKiBAcHJvcGVydHkge09iamVjdH0gc2VydmljZVBhcmFtcy5zZXJ2ZXJVcmwgLSBBc3NvY2lhdGl2ZSBhcnJheSBtYXBwaW5nIGdlb3BvcnRhbCBhY2Nlc3Mga2V5IChrZXlzKSB3aXRoIHRoZWlyIHByb3BlcnRpZXMgKFVSTHMgb2YgdGhlIHdlYiBzZXJ2aWNlLCB3aXRoIHRoZSBnZW9wb3J0YWwgYWNjZXNzIGtleSkuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gc2VydmljZVBhcmFtcy52ZXJzaW9uIC0gd2Vic2VydmljZSB2ZXJzaW9uLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRlZmF1bHRQcm9qZWN0aW9uIC0gY29vcmRpbmF0ZXMgc3lzdGVtIElEIHVzZWQgYnkgZGVmYXVsdCBmb3IgdGhlIHJlc291cmNlIChXTVMgb3IgV0ZTIGxheWVyKSBvciBvZiB0aGUgVGlsZU1hdHJpeFNldCB1c2VkIGJ5IHRoZSBXTVRTIGxheWVyLlxuICogQHByb3BlcnR5IHtBcnJheS48U3RyaW5nPn0gYWRkaXRpb25hbFByb2plY3Rpb25zIC0gYWRkaXRpb25hbCBjb29yZGluYXRlcyBzeXN0ZW1zIElEcyBhdmFpbGFibGVzIGZvciB0aGUgcmVzb3VyY2UsIG90aGVycyB0aGFuIHRoZSBkZWZhdWx0IG9uZSAoc2VlIGRlZmF1bHRQcm9qZWN0aW9uKSAoV01TIGFuZCBXRlMgbGF5ZXJzIG9ubHkpLlxuICogQHByb3BlcnR5IHtBcnJheS48R3AuU2VydmljZXMuQ29uZmlnLkZvcm1hdD59IGZvcm1hdHMgLSBGb3JtYXRzIGF2YWlsYWJsZXMgZm9yIHRoZSByZXNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEdwLlNlcnZpY2VzLkNvbmZpZy5MZWdlbmQ+fSBsZWdlbmRzIC0gSW5mb3JtYXRpb25zIGFib3V0IGxlZ2VuZHMgYXNzb2NpYXRlZCB0byB0aGUgcmVzb3VyY2UuXG4gKiBAcHJvcGVydHkge0FycmF5LjxHcC5TZXJ2aWNlcy5Db25maWcuTWV0YWRhdGE+fSBtZXRhZGF0YSAtIEluZm9ybWF0aW9ucyBhYm91dCBtZXRhZGF0YSBhc3NvY2lhdGVkIHRvIHRoZSByZXNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEdwLlNlcnZpY2VzLkNvbmZpZy5TdHlsZT59IHN0eWxlcyAtIEluZm9ybWF0aW9ucyBhYm91dCBzdHlsZXMgYXZhaWxhYmxlcyBmb3IgdGhlIHJlc291cmNlcyAoV01TLCBXRlMgYW5kIFdNVFMgb25seSkuXG4gKiBAcHJvcGVydHkge0FycmF5LjxHcC5TZXJ2aWNlcy5Db25maWcuVGhlbWF0aWM+fSB0aGVtYXRpY3MgLSBJbmZvcm1hdGlvbnMgYWJvdXQgdGhlbWF0aWNzIGFzc29jaWF0ZWQgdG8gdGhlIHJlc291cmNlLlxuICogQHByb3BlcnR5IHtHcC5TZXJ2aWNlcy5Db25maWcuQ29uc3RyYWludH0gZ2xvYmFsQ29uc3RyYWludCAtIGdlb2dyYXBoaWNhbCBjb25zdHJhaW50IGZvciB0aGUgcmVzb3VyY2UuXG4gKiBAcHJvcGVydHkge0FycmF5LjxHcC5TZXJ2aWNlcy5Db25maWcuQ29uc3RyYWludD59IGNvbnN0cmFpbnRzIC0gYWRkaXRpb25uYWwgZ2VvZ3JhcGhpY2FsIGNvbnN0cmFpbnRzIGZvciB0aGUgcmVzb3VyY2UuXG4gKiBAcHJvcGVydHkge0FycmF5LjxHcC5TZXJ2aWNlcy5Db25maWcuT3JpZ2luYXRvcj59IG9yaWdpbmF0b3JzIC0gSW5mb3JtYXRpb25zIGFib3V0IG9yaWdpbmF0b3Igb2YgdGhlIHJlc291cmNlLlxuICogQHByb3BlcnR5IHtPYmplY3R9IHdtdHNPcHRpb25zIC0gSW5mb3JtYXRpb25zIGFzc29jaWF0ZWQgdG8gV01UUyByZXNvdXJjZXMuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gd210c09wdGlvbnMudGlsZU1hdHJpeFNldExpbmsgLSBUaWxlTWF0cml4U2V0IGlkZW50aWZpZXIgdXNlZCBieSB0aGUgcmVzb3VyY2UgKHNlZSB7QGxpbmsgR3AuU2VydmljZXMuQ29uZmlnLlRpbGVNYXRyaXhTZXR9KVxuICogQHByb3BlcnR5IHtHcC5TZXJ2aWNlcy5Db25maWcuVGlsZU1hdHJpeExpbWl0fSB3bXRzT3B0aW9ucy50aWxlTWF0cml4U2V0TGltaXRzIC0gbGltaXRzIG9mIHRoZSByZXNvdXJjZSBmb3IgdGhhdCBUaWxlTUF0cml4U2V0LlxuICogQHByb3BlcnR5IHtCb29sZWFufSBxdWVyeWFibGUgLSB0cnVlIGlmIGEgZ2V0RmVhdHVyZUluZm8gcmVxdWVzdCBtYXkgYmUgZG9uZSBmb3IgdGhlIHJlc291cmNlIChXTVMgb3IgV01UUyBvbmx5KS5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaGlkZGVuIC0gdHJ1ZSBpZiB0aGUgcmVzb3VyY2UgaXMgbm90IHZpc2libGUuXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzQWdncmVnYXRlIC0gdHJ1ZSBpZiB0aGUgcmVzb3VyY2UgaXMgYW4gYWdncmVnYXRlIG9mIG90aGVyIHJlc291cmNlcyAoQHNlZSBhZ2dyZWdhdGVkTGF5ZXJzKS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPFN0cmluZz59IGFnZ3JlZ2F0ZWRMYXllcnMgLSBMYXllcnMgSURzIGNvbXBvc2luZyB0aGUgYmVpbmcgZGVzY3JpYmVkIGFnZ3JlZ2F0ZWQgbGF5ZXIuXG4gKiBAcHJvcGVydHkge0FycmF5LjxTdHJpbmc+fSBhcGlLZXlzIC0gQXJyYXkgb2YgYWNjZXNzIGtleXMgdGhhdCBncmFudCBhY2Nlc3MgdG8gdGhhdCByZXNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkaW1lbnNpb25zIC0gRGltZW5zaW9ucyBpbmZvcm1hdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkaW1lbnNpb25zLnR5cGVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkaW1lbnNpb25zLnZpc2liaWxpdHlSYW5nZVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRpbWVuc2lvbnMudmlzaWJpbGl0eU1vZGVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkaW1lbnNpb25zLm5vRGF0YVZhbHVlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZGltZW5zaW9ucy5nZW9tZXRyaWNUeXBlXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkNvbmZpZy5MYXllclxuICovXG5mdW5jdGlvbiBMYXllciAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIExheWVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTGF5ZXIgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICAvLyBpbmZvIDogdW5lIGluc3RhbmNlIGRlIGxhIGNsYXNzZSBMYXllciBuJ2EgYXVjdW5lIHByb3ByacOpdMOpIGF1IGTDqXBhcnQsLlxuICAgIC8vIGxlcyBhdHRyaWJ1dHMgcG9zc2libGVzIHNvbnQgZG9jdW1lbnTDqXMgY2ktZGVzc3VzLFxuICAgIC8vIGV0IHNlcm9udCBpbXBsw6ltZW50w6lzIGF1IGZ1ciBldCDDoCBtZXN1cmUgZGUgbGEgbGVjdHVyZSBkZSBsYSByw6lwb25zZSBkZSBsJ2F1dG9jb25mLCBsb3JzcXVlIGwnaW5mb3JtYXRpb24gZXN0IHJlbmNvbnRyw6llLlxufVxuXG5MYXllci5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IExheWVyLFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF5ZXIgbmFtZVxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gbmFtZSAtIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIHVzZSB3aXRoIHRoZSB3ZWJzZXJ2aWNlIHRoYXQgc2VydmVzIGl0IChlZyA6IFwiR0VPR1JBUEhJQ0FMR1JJRFNZU1RFTVMuTUFQU1wiKS5cbiAgICAgKi9cbiAgICBnZXROYW1lIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXllciB0aXRsZVxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdGl0bGUgLSBIdW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgcmVzb3VyY2UuXG4gICAgICovXG4gICAgZ2V0VGl0bGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpdGxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXllciBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gZGVzY3JpcHRpb24gLSBSZXNvdXJjZSBkZXNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBnZXREZXNjcmlwdGlvbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb247XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxheWVyIGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGxheWVySWQgLSBVbmlxdWUgcmVzb3VyY2UgSWRlbnRpZmllciAoZWcgOiBcIkdFT0dSQVBISUNBTEdSSURTWVNURU1TLk1BUFMkR0VPUE9SVEFJTDpPR0M6V01UU1wiKVxuICAgICAqL1xuICAgIGdldExheWVySWQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxheWVyIHF1aWNrbG9va1VybFxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcXVpY2tsb29rVXJsIC0gSW1hZ2UgVVJMIGZvciB0aGUgcmVzb3VyY2UuXG4gICAgICovXG4gICAgZ2V0UXVpY2tsb29rVXJsIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWlja2xvb2tVcmw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxheWVyIGRlZmF1bHQgcHJvamVjdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gZGVmYXVsdFByb2plY3Rpb24gLSBjb29yZGluYXRlcyBzeXN0ZW0gSUQgdXNlZCBieSBkZWZhdWx0IGZvciB0aGUgcmVzb3VyY2UgKFdNUyBvciBXRlMgbGF5ZXIpIG9yIG9mIHRoZSBUaWxlTWF0cml4U2V0IHVzZWQgYnkgdGhlIFdNVFMgbGF5ZXIuXG4gICAgICovXG4gICAgZ2V0RGVmYXVsdFByb2plY3Rpb24gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm9qZWN0aW9uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXllciBwcm9qZWN0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5LjxTdHJpbmc+fSBwcm9qZWN0aW9ucyAtIGNvb3JkaW5hdGVzIHN5c3RlbXMgSURzIGF2YWlsYWJsZXMgZm9yIHRoZSByZXNvdXJjZSwgaW5jbHVkaW5nIHRoZSBkZWZhdWx0IG9uZS5cbiAgICAgKi9cbiAgICBnZXRQcm9qZWN0aW9ucyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb2plY3Rpb25zID0gW107XG4gICAgICAgIHByb2plY3Rpb25zLnB1c2godGhpcy5kZWZhdWx0UHJvamVjdGlvbik7XG4gICAgICAgIHZhciBwcm9qID0gcHJvamVjdGlvbnMuY29uY2F0KHRoaXMuYWRkaXRpb25hbFByb2plY3Rpb25zKTtcbiAgICAgICAgcmV0dXJuIHByb2o7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGdsb2JhbCBCQk9YXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7R3AuQkJveH0gYmJveCAtIHRoZSBsYXllciBnbG9iYWwgYm91bmRpbmcgYm94LCBleHByZXNzZWQgaW4gQ1JTIHN5c3RlbS5cbiAgICAgKi9cbiAgICBnZXRCQk9YIDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2xvYmFsQ29uc3RyYWludCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdsb2JhbENvbnN0cmFpbnQuYmJveDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF5ZXIgbWluaW11bSBzY2FsZSBkZW5vbWluYXRvclxuICAgICAqXG4gICAgICogQHJldHVybnMge051bWJlcn0gbWluU2NhbGVEZW5vbWluYXRvciAtIG1pbmltdW0gc2NhbGUgZGVub21pbmF0b3IgZm9yIHRoaXMgbGF5ZXJcbiAgICAgKi9cbiAgICBnZXRNaW5TY2FsZURlbm9taW5hdG9yIDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2xvYmFsQ29uc3RyYWludCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdsb2JhbENvbnN0cmFpbnQubWluU2NhbGVEZW5vbWluYXRvcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF5ZXIgbWF4aW11bSBzY2FsZSBkZW5vbWluYXRvclxuICAgICAqXG4gICAgICogQHJldHVybnMge051bWJlcn0gbWF4U2NhbGVEZW5vbWluYXRvciAtIG1heGltdW0gc2NhbGUgZGVub21pbmF0b3IgZm9yIHRoaXMgbGF5ZXJcbiAgICAgKi9cbiAgICBnZXRNYXhTY2FsZURlbm9taW5hdG9yIDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2xvYmFsQ29uc3RyYWludCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdsb2JhbENvbnN0cmFpbnQubWF4U2NhbGVEZW5vbWluYXRvcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBsYXllciBUaWxlIE1hdHJpeCBTZXQgaWRlbnRpZmllciBpZiBleGlzdHNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRpbGVNYXRyaXhTZXRMaW5rIC0gVGlsZSBNYXRyaXggU2V0IGlkZW50aWZpZXIgKGZvciBpbnN0YW5jZSA6IFwiUE1cIilcbiAgICAgKi9cbiAgICBnZXRUTVNJRCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMud210c09wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndtdHNPcHRpb25zLnRpbGVNYXRyaXhTZXRMaW5rO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHdlYnNlcnZpY2UgdGhhdCBzZXJ2ZXMgdGhlIHJlc291cmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBzZXJ2aWNlUGFyYW1zIC0gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHdlYnNlcnZpY2UgdGhhdCBzZXJ2ZXMgdGhlIHJlc291cmNlIChPcGVuTFMsIFdGUywgV01UUylcbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlUGFyYW1zIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlUGFyYW1zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIEdlb3BvcnRhbCBzZXJ2ZXIgdXJsIGZvciBhIGdpdmVuIGtleVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFwaUtleSAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtXG4gICAgICogQHJldHVybnMge1N0cmluZ30gc2VydmVyVXJsIC0gZ2VuZXJhbCBVUkwgb2YgdGhlIHdlYiBzZXJ2aWNlICh3aXRoIHRoZSBnZW9wb3J0YWwgYWNjZXNzIGtleSlcbiAgICAgKi9cbiAgICBnZXRTZXJ2ZXJVcmwgOiBmdW5jdGlvbiAoYXBpS2V5KSB7XG4gICAgICAgIGlmICghYXBpS2V5IHx8ICF0aGlzLnNlcnZpY2VQYXJhbXMgfHwgIXRoaXMuc2VydmljZVBhcmFtcy5zZXJ2ZXJVcmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlUGFyYW1zLnNlcnZlclVybFthcGlLZXldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGxlZ2VuZHMgYXNzb2NpYXRlZCB0byB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPEdwLlNlcnZpY2VzLkNvbmZpZy5MZWdlbmQ+fSBsZWdlbmRzIC0gSW5mb3JtYXRpb25zIGFib3V0IGxlZ2VuZHMgYXNzb2NpYXRlZCB0byB0aGUgcmVzb3VyY2UuXG4gICAgICovXG4gICAgZ2V0TGVnZW5kcyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVnZW5kcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBtZXRhZGF0YSBhc3NvY2lhdGVkIHRvIHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheS48R3AuU2VydmljZXMuQ29uZmlnLk1ldGFkYXRhPn0gbWV0YWRhdGEgLSBJbmZvcm1hdGlvbnMgYWJvdXQgbWV0YWRhdGEgYXNzb2NpYXRlZCB0byB0aGUgcmVzb3VyY2UuXG4gICAgICovXG4gICAgZ2V0TWV0YWRhdGEgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHN0eWxlcyBhdmFpbGFibGVzIGZvciB0aGUgcmVzb3VyY2VzIChXTVMsIFdGUyBhbmQgV01UUyBvbmx5KS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheS48R3AuU2VydmljZXMuQ29uZmlnLlN0eWxlPn0gc3R5bGVzIC0gSW5mb3JtYXRpb25zIGFib3V0IHN0eWxlcyBhdmFpbGFibGVzIGZvciB0aGUgcmVzb3VyY2VzIChXTVMsIFdGUyBhbmQgV01UUyBvbmx5KS5cbiAgICAgKi9cbiAgICBnZXRTdHlsZXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBsYXllciBkZWZhdWx0IHN0eWxlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBzdHlsZU5hbWUgLSBzdHlsZSBpZGVudGlmaWVyIChlZyA6IFwibm9ybWFsXCIsIFwiYmRwYXJjZWxsYWlyZVwiLCAuLi4pXG4gICAgICovXG4gICAgZ2V0RGVmYXVsdFN0eWxlIDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlO1xuICAgICAgICB2YXIgcyA9IHRoaXMuc3R5bGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzW2ldLmN1cnJlbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlbWF0aWNzIGFzc29jaWF0ZWQgdG8gdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5LjxHcC5TZXJ2aWNlcy5Db25maWcuVGhlbWF0aWM+fSB0aGVtYXRpY3MgLSBJbmZvcm1hdGlvbnMgYWJvdXQgdGhlbWF0aWNzIGFzc29jaWF0ZWQgdG8gdGhlIHJlc291cmNlLlxuICAgICAqL1xuICAgIGdldFRoZW1hdGljcyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbWF0aWNzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGxheWVyIGRlZmF1bHQgZm9ybWF0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBmb3JtYXROYW1lIC0gRm9ybWF0IG1pbWUtdHlwZS4gKGVnLiBcImltYWdlL2pwZWdcIilcbiAgICAgKi9cbiAgICBnZXREZWZhdWx0Rm9ybWF0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZm9ybWF0cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb3JtYXQ7XG4gICAgICAgIHZhciBmID0gdGhpcy5mb3JtYXRzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmW2ldLmN1cnJlbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBmW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBnZW9ncmFwaGljYWwgb3IgdGVtcG9yYWwgY29uc3RyYWludHMgZm9yIHRoZSByZXNvdXJjZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5LjxHcC5TZXJ2aWNlcy5Db25maWcuQ29uc3RyYWludD59IGNvbnN0cmFpbnRzIC0gSW5mb3JtYXRpb25zIGFib3V0IGdlb2dyYXBoaWNhbCBvciB0ZW1wb3JhbCBjb25zdHJhaW50cyBmb3IgdGhlIHJlc291cmNlXG4gICAgICovXG4gICAgZ2V0Q29uc3RyYWludHMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IG9yaWdpbmF0b3JzIG9mIHRoaXMgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheS48R3AuU2VydmljZXMuQ29uZmlnLk9yaWdpbmF0b3I+fSBvcmlnaW5hdG9ycyAtIEluZm9ybWF0aW9ucyBhYm91dCBvcmlnaW5hdG9ycyBvZiB0aGlzIHJlc291cmNlXG4gICAgICovXG4gICAgZ2V0T3JpZ2luYXRvcnMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmF0b3JzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGRpbWVuc2lvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGRpbWVuc2lvbnMgLSBEaW1lbnNpb25zIGluZm9ybWF0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIHJlc291cmNlLlxuICAgICAqL1xuICAgIGdldERpbWVuc2lvbnMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgYWdncmVnYXRlZCBsYXllcnMgY29tcG9zaW5nIHRoZSBiZWluZyBkZXNjcmliZWQgbGF5ZXIsIGluIGNhc2UgdGhlIHJlc291cmNlIGlzIGFuIGFnZ3JlZ2F0ZSBvZiBvdGhlciByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBhZ2dyZWdhdGVkTGF5ZXJzIC0gTGF5ZXJzIElEcyBjb21wb3NpbmcgdGhlIGJlaW5nIGRlc2NyaWJlZCBhZ2dyZWdhdGVkIGxheWVyLlxuICAgICAqL1xuICAgIGdldEFnZ3JlZ2F0ZWRMYXllcnMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQWdncmVnYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVkTGF5ZXJzO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Layer.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Legend.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Legend.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a legend file associated with a geoportal resource (WMTS, WMS, WFS layers).\n *\n * @property {String} format - mime-type of the legend file.\n * @property {String} url - legend file URL\n * @property {Number} minScaleDenominator - minimum scale denominator where this legend applies.\n *\n * @namespace\n * @alias Gp.Services.Config.Legend\n */\n\nfunction Legend () {\n    if (!(this instanceof Legend)) {\n        throw new TypeError(\"Legend constructor cannot be called as a function.\");\n    }\n\n    this.format = null;\n\n    this.url = null;\n\n    this.minScaleDenominator = null;\n}\n\nLegend.prototype = {\n\n    constructor : Legend\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Legend);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvTGVnZW5kLmpzPzMxMzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVlLHFFQUFNLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL0xlZ2VuZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBPYmplY3QgdXNlZCB0byBkZXNjcmliZSBhIGxlZ2VuZCBmaWxlIGFzc29jaWF0ZWQgd2l0aCBhIGdlb3BvcnRhbCByZXNvdXJjZSAoV01UUywgV01TLCBXRlMgbGF5ZXJzKS5cbiAqXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZm9ybWF0IC0gbWltZS10eXBlIG9mIHRoZSBsZWdlbmQgZmlsZS5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB1cmwgLSBsZWdlbmQgZmlsZSBVUkxcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBtaW5TY2FsZURlbm9taW5hdG9yIC0gbWluaW11bSBzY2FsZSBkZW5vbWluYXRvciB3aGVyZSB0aGlzIGxlZ2VuZCBhcHBsaWVzLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Db25maWcuTGVnZW5kXG4gKi9cblxuZnVuY3Rpb24gTGVnZW5kICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTGVnZW5kKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTGVnZW5kIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5mb3JtYXQgPSBudWxsO1xuXG4gICAgdGhpcy51cmwgPSBudWxsO1xuXG4gICAgdGhpcy5taW5TY2FsZURlbm9taW5hdG9yID0gbnVsbDtcbn1cblxuTGVnZW5kLnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0cnVjdG9yIDogTGVnZW5kXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IExlZ2VuZDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Legend.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Metadata.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Metadata.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a metadata file associated with a geoportal resource.\n *\n * @property {String} format - mime-type of the metadata file.\n * @property {String} url - metadata file URL\n *\n * @namespace\n * @alias Gp.Services.Config.Metadata\n */\n\nfunction Metadata () {\n    if (!(this instanceof Metadata)) {\n        throw new TypeError(\"Metadata constructor cannot be called as a function.\");\n    }\n\n    this.format = null;\n\n    this.url = null;\n}\n\nMetadata.prototype = {\n\n    constructor : Metadata\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Metadata);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvTWV0YWRhdGEuanM/MjUyZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFZSx1RUFBUSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9BdXRvQ29uZi9SZXNwb25zZS9tb2RlbC9NZXRhZGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBPYmplY3QgdXNlZCB0byBkZXNjcmliZSBhIG1ldGFkYXRhIGZpbGUgYXNzb2NpYXRlZCB3aXRoIGEgZ2VvcG9ydGFsIHJlc291cmNlLlxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBmb3JtYXQgLSBtaW1lLXR5cGUgb2YgdGhlIG1ldGFkYXRhIGZpbGUuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdXJsIC0gbWV0YWRhdGEgZmlsZSBVUkxcbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuQ29uZmlnLk1ldGFkYXRhXG4gKi9cblxuZnVuY3Rpb24gTWV0YWRhdGEgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNZXRhZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk1ldGFkYXRhIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5mb3JtYXQgPSBudWxsO1xuXG4gICAgdGhpcy51cmwgPSBudWxsO1xufVxuXG5NZXRhZGF0YS5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IE1ldGFkYXRhXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1ldGFkYXRhO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Metadata.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Originator.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Originator.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe an Originator of geoportal resource.\n *\n * @property {String} name - originator name\n * @property {String} attribution - originator full name\n * @property {String} logo - originator logo file URL\n * @property {String} url - originator web site URL\n * @property {Array.<Gp.Services.Config.Constraint>} constraints - where and when the originator applies for the ressource.\n *\n * @namespace\n * @alias Gp.Services.Config.Originator\n */\n\nfunction Originator () {\n    if (!(this instanceof Originator)) {\n        throw new TypeError(\"Originator constructor cannot be called as a function.\");\n    }\n\n    this.name = null;\n\n    this.attribution = null;\n\n    this.logo = null;\n\n    this.url = null;\n\n    this.constraints = [];\n}\n\nOriginator.prototype = {\n\n    constructor : Originator\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Originator);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvT3JpZ2luYXRvci5qcz81ZTYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsc0NBQXNDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRWUseUVBQVUsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvT3JpZ2luYXRvci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBPYmplY3QgdXNlZCB0byBkZXNjcmliZSBhbiBPcmlnaW5hdG9yIG9mIGdlb3BvcnRhbCByZXNvdXJjZS5cbiAqXG4gKiBAcHJvcGVydHkge1N0cmluZ30gbmFtZSAtIG9yaWdpbmF0b3IgbmFtZVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGF0dHJpYnV0aW9uIC0gb3JpZ2luYXRvciBmdWxsIG5hbWVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBsb2dvIC0gb3JpZ2luYXRvciBsb2dvIGZpbGUgVVJMXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdXJsIC0gb3JpZ2luYXRvciB3ZWIgc2l0ZSBVUkxcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEdwLlNlcnZpY2VzLkNvbmZpZy5Db25zdHJhaW50Pn0gY29uc3RyYWludHMgLSB3aGVyZSBhbmQgd2hlbiB0aGUgb3JpZ2luYXRvciBhcHBsaWVzIGZvciB0aGUgcmVzc291cmNlLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Db25maWcuT3JpZ2luYXRvclxuICovXG5cbmZ1bmN0aW9uIE9yaWdpbmF0b3IgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPcmlnaW5hdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT3JpZ2luYXRvciBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG51bGw7XG5cbiAgICB0aGlzLmF0dHJpYnV0aW9uID0gbnVsbDtcblxuICAgIHRoaXMubG9nbyA9IG51bGw7XG5cbiAgICB0aGlzLnVybCA9IG51bGw7XG5cbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG59XG5cbk9yaWdpbmF0b3IucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBPcmlnaW5hdG9yXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9yaWdpbmF0b3I7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Originator.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Service.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Service.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a web service of the geoportal platform.\n *\n * @property {String} title - Web service name\n * @property {Object} serverUrl - Associative array mapping geoportal access key (keys) with their properties (URLs of the web service, with the geoportal access key).\n * @property {String} version - web service version.\n *\n * @namespace\n * @alias Gp.Services.Config.Service\n */\nfunction Service () {\n    if (!(this instanceof Service)) {\n        throw new TypeError(\"Service constructor cannot be called as a function.\");\n    }\n\n    this.title = null;\n\n    this.serverUrl = null;\n\n    this.version = null;\n}\n\nService.prototype = {\n\n    constructor : Service\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Service);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvU2VydmljZS5qcz9hZmU1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVlLHNFQUFPLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1NlcnZpY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogT2JqZWN0IHVzZWQgdG8gZGVzY3JpYmUgYSB3ZWIgc2VydmljZSBvZiB0aGUgZ2VvcG9ydGFsIHBsYXRmb3JtLlxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB0aXRsZSAtIFdlYiBzZXJ2aWNlIG5hbWVcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBzZXJ2ZXJVcmwgLSBBc3NvY2lhdGl2ZSBhcnJheSBtYXBwaW5nIGdlb3BvcnRhbCBhY2Nlc3Mga2V5IChrZXlzKSB3aXRoIHRoZWlyIHByb3BlcnRpZXMgKFVSTHMgb2YgdGhlIHdlYiBzZXJ2aWNlLCB3aXRoIHRoZSBnZW9wb3J0YWwgYWNjZXNzIGtleSkuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdmVyc2lvbiAtIHdlYiBzZXJ2aWNlIHZlcnNpb24uXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkNvbmZpZy5TZXJ2aWNlXG4gKi9cbmZ1bmN0aW9uIFNlcnZpY2UgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTZXJ2aWNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2VydmljZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMudGl0bGUgPSBudWxsO1xuXG4gICAgdGhpcy5zZXJ2ZXJVcmwgPSBudWxsO1xuXG4gICAgdGhpcy52ZXJzaW9uID0gbnVsbDtcbn1cblxuU2VydmljZS5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IFNlcnZpY2VcblxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VydmljZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Service.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Style.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Style.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a style that may be used for a geoportal resource.\n *\n * @property {String} name - Style identifier (eg : \"normal\", \"bdparcellaire\", ...)\n * @property {String} title - human readable name of the style.\n * @property {Boolean} current - true if this is the default style.\n * @property {String} url - Url Style (eg: vectortile).\n *\n * @namespace\n * @alias Gp.Services.Config.Style\n */\n\nfunction Style () {\n    if (!(this instanceof Style)) {\n        throw new TypeError(\"Style constructor cannot be called as a function.\");\n    }\n\n    this.name = null;\n\n    this.title = null;\n\n    this.current = null;\n\n    this.url = null;\n}\n\nStyle.prototype = {\n\n    constructor : Style\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Style);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvU3R5bGUuanM/MDFkZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVlLG9FQUFLLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1N0eWxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIE9iamVjdCB1c2VkIHRvIGRlc2NyaWJlIGEgc3R5bGUgdGhhdCBtYXkgYmUgdXNlZCBmb3IgYSBnZW9wb3J0YWwgcmVzb3VyY2UuXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IG5hbWUgLSBTdHlsZSBpZGVudGlmaWVyIChlZyA6IFwibm9ybWFsXCIsIFwiYmRwYXJjZWxsYWlyZVwiLCAuLi4pXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdGl0bGUgLSBodW1hbiByZWFkYWJsZSBuYW1lIG9mIHRoZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gY3VycmVudCAtIHRydWUgaWYgdGhpcyBpcyB0aGUgZGVmYXVsdCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB1cmwgLSBVcmwgU3R5bGUgKGVnOiB2ZWN0b3J0aWxlKS5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuQ29uZmlnLlN0eWxlXG4gKi9cblxuZnVuY3Rpb24gU3R5bGUgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdHlsZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN0eWxlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcblxuICAgIHRoaXMudGl0bGUgPSBudWxsO1xuXG4gICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgIHRoaXMudXJsID0gbnVsbDtcbn1cblxuU3R5bGUucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBTdHlsZVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Style.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Territory.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Territory.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe properties of a french territory covered by geoportal resources.\n *\n * @property {Boolean} isDefault - if this territory is to use by default.\n * @property {String} defaultCRS - Identifier of the coordinates system to use by default for that territory.\n * @property {Array.<String>} additionalCRS - Identifiers of additional coordinates systems availables for that territory.\n * @property {Array.<String>} defaultLayers - Identifiers of layers to load by default for that territory.\n * @property {Object} defaultOptions - options to use by default for that territory.\n * @property {Number} defaultOptions.resolution - resolution to use by default for that territory (in meter per pixel).\n * @property {Number} defaultOptions.minScaleDenominator - minimum scaleDenominator accessible for that territory.\n * @property {Number} defaultOptions.maxScaleDenominator - maximum scaleDenominator accessible for that territory.\n * @property {Gp.BBox} geoBBox - Bounding Box of the territory (expressed in geographical coordinates)\n * @property {Object} geoCenter - center of the territory (expressed in geographical coordinates)\n * @property {Float} geoCenter.lon - center longitude\n * @property {Float} geoCenter.lat - center latitude\n *\n * @namespace\n * @alias Gp.Services.Config.Territory\n */\nfunction Territory () {\n    if (!(this instanceof Territory)) {\n        throw new TypeError(\"Territory constructor cannot be called as a function.\");\n    }\n\n    this.isDefault = null;\n\n    this.defaultCRS = null;\n\n    this.additionalCRS = [];\n\n    this.geoBBOX = {\n        left : null,\n        right : null,\n        top : null,\n        bottom : null\n    };\n\n    this.geoCenter = {\n        lon : null,\n        lat : null\n    };\n\n    this.defaultOptions = {\n        resolution : null,\n        minScaleDenominator : null,\n        maxScaleDenominator : null\n    };\n\n    this.defaultLayers = [];\n}\n\nTerritory.prototype = {\n\n    constructor : Territory\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Territory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGVycml0b3J5LmpzPzI4ZWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsZUFBZTtBQUM3QixjQUFjLGVBQWU7QUFDN0IsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsUUFBUTtBQUN0QixjQUFjLE9BQU87QUFDckIsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRWUsd0VBQVMsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGVycml0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIE9iamVjdCB1c2VkIHRvIGRlc2NyaWJlIHByb3BlcnRpZXMgb2YgYSBmcmVuY2ggdGVycml0b3J5IGNvdmVyZWQgYnkgZ2VvcG9ydGFsIHJlc291cmNlcy5cbiAqXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzRGVmYXVsdCAtIGlmIHRoaXMgdGVycml0b3J5IGlzIHRvIHVzZSBieSBkZWZhdWx0LlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRlZmF1bHRDUlMgLSBJZGVudGlmaWVyIG9mIHRoZSBjb29yZGluYXRlcyBzeXN0ZW0gdG8gdXNlIGJ5IGRlZmF1bHQgZm9yIHRoYXQgdGVycml0b3J5LlxuICogQHByb3BlcnR5IHtBcnJheS48U3RyaW5nPn0gYWRkaXRpb25hbENSUyAtIElkZW50aWZpZXJzIG9mIGFkZGl0aW9uYWwgY29vcmRpbmF0ZXMgc3lzdGVtcyBhdmFpbGFibGVzIGZvciB0aGF0IHRlcnJpdG9yeS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPFN0cmluZz59IGRlZmF1bHRMYXllcnMgLSBJZGVudGlmaWVycyBvZiBsYXllcnMgdG8gbG9hZCBieSBkZWZhdWx0IGZvciB0aGF0IHRlcnJpdG9yeS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkZWZhdWx0T3B0aW9ucyAtIG9wdGlvbnMgdG8gdXNlIGJ5IGRlZmF1bHQgZm9yIHRoYXQgdGVycml0b3J5LlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGRlZmF1bHRPcHRpb25zLnJlc29sdXRpb24gLSByZXNvbHV0aW9uIHRvIHVzZSBieSBkZWZhdWx0IGZvciB0aGF0IHRlcnJpdG9yeSAoaW4gbWV0ZXIgcGVyIHBpeGVsKS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBkZWZhdWx0T3B0aW9ucy5taW5TY2FsZURlbm9taW5hdG9yIC0gbWluaW11bSBzY2FsZURlbm9taW5hdG9yIGFjY2Vzc2libGUgZm9yIHRoYXQgdGVycml0b3J5LlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGRlZmF1bHRPcHRpb25zLm1heFNjYWxlRGVub21pbmF0b3IgLSBtYXhpbXVtIHNjYWxlRGVub21pbmF0b3IgYWNjZXNzaWJsZSBmb3IgdGhhdCB0ZXJyaXRvcnkuXG4gKiBAcHJvcGVydHkge0dwLkJCb3h9IGdlb0JCb3ggLSBCb3VuZGluZyBCb3ggb2YgdGhlIHRlcnJpdG9yeSAoZXhwcmVzc2VkIGluIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcylcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnZW9DZW50ZXIgLSBjZW50ZXIgb2YgdGhlIHRlcnJpdG9yeSAoZXhwcmVzc2VkIGluIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcylcbiAqIEBwcm9wZXJ0eSB7RmxvYXR9IGdlb0NlbnRlci5sb24gLSBjZW50ZXIgbG9uZ2l0dWRlXG4gKiBAcHJvcGVydHkge0Zsb2F0fSBnZW9DZW50ZXIubGF0IC0gY2VudGVyIGxhdGl0dWRlXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkNvbmZpZy5UZXJyaXRvcnlcbiAqL1xuZnVuY3Rpb24gVGVycml0b3J5ICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVGVycml0b3J5KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGVycml0b3J5IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5pc0RlZmF1bHQgPSBudWxsO1xuXG4gICAgdGhpcy5kZWZhdWx0Q1JTID0gbnVsbDtcblxuICAgIHRoaXMuYWRkaXRpb25hbENSUyA9IFtdO1xuXG4gICAgdGhpcy5nZW9CQk9YID0ge1xuICAgICAgICBsZWZ0IDogbnVsbCxcbiAgICAgICAgcmlnaHQgOiBudWxsLFxuICAgICAgICB0b3AgOiBudWxsLFxuICAgICAgICBib3R0b20gOiBudWxsXG4gICAgfTtcblxuICAgIHRoaXMuZ2VvQ2VudGVyID0ge1xuICAgICAgICBsb24gOiBudWxsLFxuICAgICAgICBsYXQgOiBudWxsXG4gICAgfTtcblxuICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHJlc29sdXRpb24gOiBudWxsLFxuICAgICAgICBtaW5TY2FsZURlbm9taW5hdG9yIDogbnVsbCxcbiAgICAgICAgbWF4U2NhbGVEZW5vbWluYXRvciA6IG51bGxcbiAgICB9O1xuXG4gICAgdGhpcy5kZWZhdWx0TGF5ZXJzID0gW107XG59XG5cblRlcnJpdG9yeS5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IFRlcnJpdG9yeVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUZXJyaXRvcnk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Territory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Thematic.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Thematic.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a thematic\n *\n * @property {String} name - Thematic name\n * @property {Boolean} inspire - true if the thematic name is an [INSPIRE one]{@link http://inspire.ec.europa.eu/index.cfm/pageid/2/list/7}.\n *\n * @namespace\n * @alias Gp.Services.Config.Thematic\n */\n\nfunction Thematic () {\n    if (!(this instanceof Thematic)) {\n        throw new TypeError(\"Thematic constructor cannot be called as a function.\");\n    }\n\n    this.inspire = null;\n\n    this.name = null;\n}\n\nThematic.prototype = {\n\n    constructor : Thematic\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Thematic);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGhlbWF0aWMuanM/YTJhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLFFBQVEseURBQXlELDREQUE0RDtBQUMzSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVlLHVFQUFRLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1RoZW1hdGljLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIE9iamVjdCB1c2VkIHRvIGRlc2NyaWJlIGEgdGhlbWF0aWNcbiAqXG4gKiBAcHJvcGVydHkge1N0cmluZ30gbmFtZSAtIFRoZW1hdGljIG5hbWVcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaW5zcGlyZSAtIHRydWUgaWYgdGhlIHRoZW1hdGljIG5hbWUgaXMgYW4gW0lOU1BJUkUgb25lXXtAbGluayBodHRwOi8vaW5zcGlyZS5lYy5ldXJvcGEuZXUvaW5kZXguY2ZtL3BhZ2VpZC8yL2xpc3QvN30uXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkNvbmZpZy5UaGVtYXRpY1xuICovXG5cbmZ1bmN0aW9uIFRoZW1hdGljICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVGhlbWF0aWMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGVtYXRpYyBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMuaW5zcGlyZSA9IG51bGw7XG5cbiAgICB0aGlzLm5hbWUgPSBudWxsO1xufVxuXG5UaGVtYXRpYy5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IFRoZW1hdGljXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRoZW1hdGljO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/Thematic.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrix.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrix.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a TileMatrix.\n *\n * @property {String} matrixId - matrix Identifier\n * @property {Number} matrixHeight - Number of tiles from the top to the bottom of the matrix.\n * @property {Number} matrixWidth - Number of tiles from the left to the right of the matrix.\n * @property {Number} scaleDenominator - Scale denominator associated to that matrix.\n * @property {Number} tileHeight - tile height in number of pixels\n * @property {Number} tileWidth - tile width in number of pixels\n * @property {Gp.Point} topLeftCorner - Top Left Corner Point of the matrix expressed in the tileMatrixSet coordinates system.\n *\n * @namespace\n * @alias Gp.Services.Config.TileMatrix\n */\n\nfunction TileMatrix () {\n    if (!(this instanceof TileMatrix)) {\n        throw new TypeError(\"TileMatrix constructor cannot be called as a function.\");\n    }\n\n    this.matrixId = null;\n\n    this.matrixHeight = null;\n\n    this.matrixWidth = null;\n\n    this.scaleDenominator = null;\n\n    this.tileHeight = null;\n\n    this.tileWidth = null;\n\n    this.topLeftCorner = null;\n}\n\nTileMatrix.prototype = {\n\n    constructor : TileMatrix,\n\n    /**\n     * Returns top left corner point of the matrix\n     *\n     * @returns {Gp.Point} topLeftCorner - Top Left Corner Point of the matrix expressed in the tileMatrixSet coordinates system.\n     */\n    getTopLeftCorner : function () {\n        return this.topLeftCorner;\n    },\n\n    /**\n     * Returns Scale denominator associated to that matrix.\n     *\n     * @returns {Number} scaleDenominator - Scale denominator associated to that matrix.\n     */\n    getScaleDenominator : function () {\n        return this.scaleDenominator;\n    },\n\n    /**\n     * Returns tile height of matrix\n     *\n     * @returns {Number} tileHeight - tile height in number of pixels\n     */\n    getTileHeight : function () {\n        return this.tileHeight;\n    },\n\n    /**\n     * Returns tile width of matrix\n     *\n     * @returns {Number} tileWidth - tile width in number of pixels\n     */\n    getTileWidth : function () {\n        return this.tileWidth;\n    },\n\n    /**\n     * Returns matrix height (number of tiles)\n     *\n     * @returns {Number} matrixHeight - Number of tiles from the top to the bottom of the matrix.\n     */\n    getMatrixHeight : function () {\n        return this.matrixHeight;\n    },\n\n    /**\n     * Returns matrix width (number of tiles)\n     *\n     * @returns {Number} matrixWidth - Number of tiles from the left to the right of the matrix.\n     */\n    getMatrixWidth : function () {\n        return this.matrixWidth;\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TileMatrix);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGlsZU1hdHJpeC5qcz9hMWZmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVlLHlFQUFVLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1RpbGVNYXRyaXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogT2JqZWN0IHVzZWQgdG8gZGVzY3JpYmUgYSBUaWxlTWF0cml4LlxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBtYXRyaXhJZCAtIG1hdHJpeCBJZGVudGlmaWVyXG4gKiBAcHJvcGVydHkge051bWJlcn0gbWF0cml4SGVpZ2h0IC0gTnVtYmVyIG9mIHRpbGVzIGZyb20gdGhlIHRvcCB0byB0aGUgYm90dG9tIG9mIHRoZSBtYXRyaXguXG4gKiBAcHJvcGVydHkge051bWJlcn0gbWF0cml4V2lkdGggLSBOdW1iZXIgb2YgdGlsZXMgZnJvbSB0aGUgbGVmdCB0byB0aGUgcmlnaHQgb2YgdGhlIG1hdHJpeC5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzY2FsZURlbm9taW5hdG9yIC0gU2NhbGUgZGVub21pbmF0b3IgYXNzb2NpYXRlZCB0byB0aGF0IG1hdHJpeC5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB0aWxlSGVpZ2h0IC0gdGlsZSBoZWlnaHQgaW4gbnVtYmVyIG9mIHBpeGVsc1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IHRpbGVXaWR0aCAtIHRpbGUgd2lkdGggaW4gbnVtYmVyIG9mIHBpeGVsc1xuICogQHByb3BlcnR5IHtHcC5Qb2ludH0gdG9wTGVmdENvcm5lciAtIFRvcCBMZWZ0IENvcm5lciBQb2ludCBvZiB0aGUgbWF0cml4IGV4cHJlc3NlZCBpbiB0aGUgdGlsZU1hdHJpeFNldCBjb29yZGluYXRlcyBzeXN0ZW0uXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkNvbmZpZy5UaWxlTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gVGlsZU1hdHJpeCAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFRpbGVNYXRyaXgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUaWxlTWF0cml4IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5tYXRyaXhJZCA9IG51bGw7XG5cbiAgICB0aGlzLm1hdHJpeEhlaWdodCA9IG51bGw7XG5cbiAgICB0aGlzLm1hdHJpeFdpZHRoID0gbnVsbDtcblxuICAgIHRoaXMuc2NhbGVEZW5vbWluYXRvciA9IG51bGw7XG5cbiAgICB0aGlzLnRpbGVIZWlnaHQgPSBudWxsO1xuXG4gICAgdGhpcy50aWxlV2lkdGggPSBudWxsO1xuXG4gICAgdGhpcy50b3BMZWZ0Q29ybmVyID0gbnVsbDtcbn1cblxuVGlsZU1hdHJpeC5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IFRpbGVNYXRyaXgsXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRvcCBsZWZ0IGNvcm5lciBwb2ludCBvZiB0aGUgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7R3AuUG9pbnR9IHRvcExlZnRDb3JuZXIgLSBUb3AgTGVmdCBDb3JuZXIgUG9pbnQgb2YgdGhlIG1hdHJpeCBleHByZXNzZWQgaW4gdGhlIHRpbGVNYXRyaXhTZXQgY29vcmRpbmF0ZXMgc3lzdGVtLlxuICAgICAqL1xuICAgIGdldFRvcExlZnRDb3JuZXIgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvcExlZnRDb3JuZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgU2NhbGUgZGVub21pbmF0b3IgYXNzb2NpYXRlZCB0byB0aGF0IG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IHNjYWxlRGVub21pbmF0b3IgLSBTY2FsZSBkZW5vbWluYXRvciBhc3NvY2lhdGVkIHRvIHRoYXQgbWF0cml4LlxuICAgICAqL1xuICAgIGdldFNjYWxlRGVub21pbmF0b3IgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlRGVub21pbmF0b3I7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGlsZSBoZWlnaHQgb2YgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSB0aWxlSGVpZ2h0IC0gdGlsZSBoZWlnaHQgaW4gbnVtYmVyIG9mIHBpeGVsc1xuICAgICAqL1xuICAgIGdldFRpbGVIZWlnaHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVIZWlnaHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGlsZSB3aWR0aCBvZiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IHRpbGVXaWR0aCAtIHRpbGUgd2lkdGggaW4gbnVtYmVyIG9mIHBpeGVsc1xuICAgICAqL1xuICAgIGdldFRpbGVXaWR0aCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVdpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG1hdHJpeCBoZWlnaHQgKG51bWJlciBvZiB0aWxlcylcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IG1hdHJpeEhlaWdodCAtIE51bWJlciBvZiB0aWxlcyBmcm9tIHRoZSB0b3AgdG8gdGhlIGJvdHRvbSBvZiB0aGUgbWF0cml4LlxuICAgICAqL1xuICAgIGdldE1hdHJpeEhlaWdodCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4SGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG1hdHJpeCB3aWR0aCAobnVtYmVyIG9mIHRpbGVzKVxuICAgICAqXG4gICAgICogQHJldHVybnMge051bWJlcn0gbWF0cml4V2lkdGggLSBOdW1iZXIgb2YgdGlsZXMgZnJvbSB0aGUgbGVmdCB0byB0aGUgcmlnaHQgb2YgdGhlIG1hdHJpeC5cbiAgICAgKi9cbiAgICBnZXRNYXRyaXhXaWR0aCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4V2lkdGg7XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaWxlTWF0cml4O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrix.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixLimit.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixLimit.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Object used to describe a layer extent on a Tile Matrix.\n *\n * @property {Number} minTileCol - minimum column index where tile can be found on the Tile matrix.\n * @property {Number} maxTileCol - maximum column index where tile can be found on the Tile matrix.\n * @property {Number} minTileRow - minimum row index where tile can be found on the Tile matrix.\n * @property {Number} maxTileCol - maximum row index where tile can be found on the Tile matrix.\n *\n * @namespace\n * @alias Gp.Services.Config.TileMatrixLimit\n */\n\nfunction TileMatrixLimit () {\n    if (!(this instanceof TileMatrixLimit)) {\n        throw new TypeError(\"TileMatrixLimit constructor cannot be called as a function.\");\n    }\n\n    this.minTileRow = null;\n\n    this.maxTileRow = null;\n\n    this.minTileCol = null;\n\n    this.maxTileCol = null;\n}\n\n/**\n * @lends module:Autoconf/Response/TileMatrixLimit\n */\nTileMatrixLimit.prototype = {\n\n    constructor : TileMatrixLimit\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TileMatrixLimit);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGlsZU1hdHJpeExpbWl0LmpzP2QwMjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVlLDhFQUFlLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0F1dG9Db25mL1Jlc3BvbnNlL21vZGVsL1RpbGVNYXRyaXhMaW1pdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBPYmplY3QgdXNlZCB0byBkZXNjcmliZSBhIGxheWVyIGV4dGVudCBvbiBhIFRpbGUgTWF0cml4LlxuICpcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBtaW5UaWxlQ29sIC0gbWluaW11bSBjb2x1bW4gaW5kZXggd2hlcmUgdGlsZSBjYW4gYmUgZm91bmQgb24gdGhlIFRpbGUgbWF0cml4LlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IG1heFRpbGVDb2wgLSBtYXhpbXVtIGNvbHVtbiBpbmRleCB3aGVyZSB0aWxlIGNhbiBiZSBmb3VuZCBvbiB0aGUgVGlsZSBtYXRyaXguXG4gKiBAcHJvcGVydHkge051bWJlcn0gbWluVGlsZVJvdyAtIG1pbmltdW0gcm93IGluZGV4IHdoZXJlIHRpbGUgY2FuIGJlIGZvdW5kIG9uIHRoZSBUaWxlIG1hdHJpeC5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBtYXhUaWxlQ29sIC0gbWF4aW11bSByb3cgaW5kZXggd2hlcmUgdGlsZSBjYW4gYmUgZm91bmQgb24gdGhlIFRpbGUgbWF0cml4LlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Db25maWcuVGlsZU1hdHJpeExpbWl0XG4gKi9cblxuZnVuY3Rpb24gVGlsZU1hdHJpeExpbWl0ICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVGlsZU1hdHJpeExpbWl0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGlsZU1hdHJpeExpbWl0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5taW5UaWxlUm93ID0gbnVsbDtcblxuICAgIHRoaXMubWF4VGlsZVJvdyA9IG51bGw7XG5cbiAgICB0aGlzLm1pblRpbGVDb2wgPSBudWxsO1xuXG4gICAgdGhpcy5tYXhUaWxlQ29sID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkF1dG9jb25mL1Jlc3BvbnNlL1RpbGVNYXRyaXhMaW1pdFxuICovXG5UaWxlTWF0cml4TGltaXQucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBUaWxlTWF0cml4TGltaXRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVNYXRyaXhMaW1pdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixLimit.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixSet.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixSet.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n *\n * Object used to describe a TileMatrix set (for WMTS use).\n *\n * @property {Array.<String>} matrixIds - Array of IDs for each TileMatrix of the set.\n * @property {Array.<Gp.Services.Config.TileMatrix>} tileMatrices - Array of TileMatrix descriptions.\n * @property {Array.<Float>} nativeResolutions - Array of resolutions (in meter per pixel) applying for each TileMatrix of the set.\n * @property {String} projection - Identifier of the Cordinates System used for the tileMatrixSet.\n *\n * @namespace\n * @alias Gp.Services.Config.TileMatrixSet\n */\nfunction TileMatrixSet () {\n    if (!(this instanceof TileMatrixSet)) {\n        throw new TypeError(\"TileMatrixSet constructor cannot be called as a function.\");\n    }\n\n    this.projection = null;\n\n    this.nativeResolutions = [];\n\n    this.matrixIds = [];\n\n    this.tileMatrices = {};\n}\n\nTileMatrixSet.prototype = {\n\n    constructor : TileMatrixSet,\n\n    /**\n     * Returns Tile Matrix Set resolutions\n     *\n     * @returns {Array} nativeResolutions - Array of resolutions (in meter per pixel) applying for each TileMatrix of the set.\n     */\n    getResolutions : function () {\n        return this.nativeResolutions;\n    },\n\n    /**\n     * Returns Tile Matrix Set identifiers\n     *\n     * @returns {Array} matrixIds - Array of IDs for each TileMatrix of the set.\n     */\n    getMatrixIds : function () {\n        return this.matrixIds;\n    },\n\n    /**\n     * Returns Tile Matrix Set projection\n     *\n     * @returns {String} projection - Identifier of the Cordinates System used for the tileMatrixSet.\n     */\n    getProjection : function () {\n        return this.projection;\n    },\n\n    /**\n     * Returns Tile Matrices descriptions.\n     *\n     * @returns {Array.<Gp.Services.Config.TileMatrix>} tileMatrices - Array of TileMatrix descriptions.\n     */\n    getTileMatrices : function () {\n        return this.tileMatrices;\n    },\n\n    /**\n     * Returns top left corner point of matrices\n     *\n     * @returns {Gp.Point} topLeftCorner - Top Left Corner Point of TMS matrices, expressed in the tileMatrixSet coordinates system.\n     */\n    getTopLeftCorner : function () {\n        var topLeftCorner;\n        var matrices = this.getTileMatrices();\n        if (matrices) {\n            for (var id in matrices) {\n                if (matrices.hasOwnProperty(id)) {\n                    topLeftCorner = matrices[id].topLeftCorner;\n                    break;\n                }\n            }\n        }\n        return topLeftCorner;\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TileMatrixSet);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGlsZU1hdHJpeFNldC5qcz82NDI2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGVBQWU7QUFDN0IsY0FBYyxzQ0FBc0M7QUFDcEQsY0FBYyxjQUFjO0FBQzVCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNDQUFzQztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRWUsNEVBQWEsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQXV0b0NvbmYvUmVzcG9uc2UvbW9kZWwvVGlsZU1hdHJpeFNldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKlxuICogT2JqZWN0IHVzZWQgdG8gZGVzY3JpYmUgYSBUaWxlTWF0cml4IHNldCAoZm9yIFdNVFMgdXNlKS5cbiAqXG4gKiBAcHJvcGVydHkge0FycmF5LjxTdHJpbmc+fSBtYXRyaXhJZHMgLSBBcnJheSBvZiBJRHMgZm9yIGVhY2ggVGlsZU1hdHJpeCBvZiB0aGUgc2V0LlxuICogQHByb3BlcnR5IHtBcnJheS48R3AuU2VydmljZXMuQ29uZmlnLlRpbGVNYXRyaXg+fSB0aWxlTWF0cmljZXMgLSBBcnJheSBvZiBUaWxlTWF0cml4IGRlc2NyaXB0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZsb2F0Pn0gbmF0aXZlUmVzb2x1dGlvbnMgLSBBcnJheSBvZiByZXNvbHV0aW9ucyAoaW4gbWV0ZXIgcGVyIHBpeGVsKSBhcHBseWluZyBmb3IgZWFjaCBUaWxlTWF0cml4IG9mIHRoZSBzZXQuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gcHJvamVjdGlvbiAtIElkZW50aWZpZXIgb2YgdGhlIENvcmRpbmF0ZXMgU3lzdGVtIHVzZWQgZm9yIHRoZSB0aWxlTWF0cml4U2V0LlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Db25maWcuVGlsZU1hdHJpeFNldFxuICovXG5mdW5jdGlvbiBUaWxlTWF0cml4U2V0ICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVGlsZU1hdHJpeFNldCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRpbGVNYXRyaXhTZXQgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb2plY3Rpb24gPSBudWxsO1xuXG4gICAgdGhpcy5uYXRpdmVSZXNvbHV0aW9ucyA9IFtdO1xuXG4gICAgdGhpcy5tYXRyaXhJZHMgPSBbXTtcblxuICAgIHRoaXMudGlsZU1hdHJpY2VzID0ge307XG59XG5cblRpbGVNYXRyaXhTZXQucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBUaWxlTWF0cml4U2V0LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBUaWxlIE1hdHJpeCBTZXQgcmVzb2x1dGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gbmF0aXZlUmVzb2x1dGlvbnMgLSBBcnJheSBvZiByZXNvbHV0aW9ucyAoaW4gbWV0ZXIgcGVyIHBpeGVsKSBhcHBseWluZyBmb3IgZWFjaCBUaWxlTWF0cml4IG9mIHRoZSBzZXQuXG4gICAgICovXG4gICAgZ2V0UmVzb2x1dGlvbnMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVJlc29sdXRpb25zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFRpbGUgTWF0cml4IFNldCBpZGVudGlmaWVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5fSBtYXRyaXhJZHMgLSBBcnJheSBvZiBJRHMgZm9yIGVhY2ggVGlsZU1hdHJpeCBvZiB0aGUgc2V0LlxuICAgICAqL1xuICAgIGdldE1hdHJpeElkcyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4SWRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFRpbGUgTWF0cml4IFNldCBwcm9qZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBwcm9qZWN0aW9uIC0gSWRlbnRpZmllciBvZiB0aGUgQ29yZGluYXRlcyBTeXN0ZW0gdXNlZCBmb3IgdGhlIHRpbGVNYXRyaXhTZXQuXG4gICAgICovXG4gICAgZ2V0UHJvamVjdGlvbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBUaWxlIE1hdHJpY2VzIGRlc2NyaXB0aW9ucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheS48R3AuU2VydmljZXMuQ29uZmlnLlRpbGVNYXRyaXg+fSB0aWxlTWF0cmljZXMgLSBBcnJheSBvZiBUaWxlTWF0cml4IGRlc2NyaXB0aW9ucy5cbiAgICAgKi9cbiAgICBnZXRUaWxlTWF0cmljZXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVNYXRyaWNlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0b3AgbGVmdCBjb3JuZXIgcG9pbnQgb2YgbWF0cmljZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtHcC5Qb2ludH0gdG9wTGVmdENvcm5lciAtIFRvcCBMZWZ0IENvcm5lciBQb2ludCBvZiBUTVMgbWF0cmljZXMsIGV4cHJlc3NlZCBpbiB0aGUgdGlsZU1hdHJpeFNldCBjb29yZGluYXRlcyBzeXN0ZW0uXG4gICAgICovXG4gICAgZ2V0VG9wTGVmdENvcm5lciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRvcExlZnRDb3JuZXI7XG4gICAgICAgIHZhciBtYXRyaWNlcyA9IHRoaXMuZ2V0VGlsZU1hdHJpY2VzKCk7XG4gICAgICAgIGlmIChtYXRyaWNlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaWQgaW4gbWF0cmljZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0cmljZXMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcExlZnRDb3JuZXIgPSBtYXRyaWNlc1tpZF0udG9wTGVmdENvcm5lcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BMZWZ0Q29ybmVyO1xuICAgIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgVGlsZU1hdHJpeFNldDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/AutoConf/Response/model/TileMatrixSet.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/CommonService.js":
/*!*************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/CommonService.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/Helper */ \"./node_modules/geoportal-access-lib/src/Utils/Helper.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Protocols_Protocol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Protocols/Protocol */ \"./node_modules/geoportal-access-lib/src/Protocols/Protocol.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _DefaultUrlService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DefaultUrlService */ \"./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../package.json */ \"./node_modules/geoportal-access-lib/package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_6___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../package.json */ \"./node_modules/geoportal-access-lib/package.json\", 1);\n\n\n\n\n\n\n// package.json (extract version)\n\n\n/**\n * @classdesc\n * Composant Service\n *\n * @constructor\n * @alias Gp.Services.CommonService\n * @param {Object} options - options communes à tous les services\n *\n * @param {String} options.apiKey - Clef d'accès à la plateforme Géoportail,\n *      nécessaire pour franchir la couche de contrôle des accès pour avoir une réponse du service invoqué.\n *      Plusieurs clefs peuvent être passées dans le cas de l'invocation du service d'autoconfiguration.\n *      Si ce paramètre n'est pas renseigné, alors le paramètre serverUrl doit être renseigné (comprenant alors, si nécessaire la clef API).\n *\n * @param {String} options.serverUrl - URL d'accès au service.\n *      Permet de forcer l'utilisation d'un service équivalent déployé derrière une éventuelle autre URL d'accès.\n *      Si ce paramètre est renseigné alors, le paramètre apiKey est ignoré.\n *\n * @param {String} [options.protocol] - Le protocole à utiliser pour récupérer les informations du service :\n *      peut valoir 'JSONP' ou 'XHR'.\n *      Par défaut, c'est le protocole XHR qui sera utilisé.\n *      Attention, le protocole JSONP n'est pas valide dans un environnement NodeJS (Utilisation du mode XHR).\n *\n * @param {Boolean} [options.ssl] - Indique si l'on souhaite intérroger les services en https.\n *      Ce paramètre ne fonctionne que pour une utilisation hors navigateur (ex. NodeJS).\n *      Sur un navigateur, le protocole est automatiquement extrait de l'url du site...\n *      Par défaut, on utilise le protocole http (ssl=false).\n *\n * @param {String} [options.proxyURL] - Le proxy à utiliser pour pallier au problème de cross-domain dans le cas d'une requête XHR.\n *      Utile si le paramètre 'protocol' vaut 'XHR', il ne sera pas pris en compte si protocol vaut JSONP.\n *\n * @param {String} [options.callbackSuffix] - Suffixe de la fonction de callback à utiliser, dans le cas du protocole JSONP.\n *      Par défaut, la fonction de callback portera un nom du type \"callback\"+ID, où ID est soit un identifiant unique généré à chaque requête,\n *      soit le paramètre callbackSuffix s'il est spécifié. Par exemple, si callbackSuffix=\"_2\", la fonction sera \"callback_2 ()\".\n *      Utile pour utiliser une réponse déjà encapsulée dans une fonction de callback, dont le nom est connu (ex : chargement de l'autoconfiguration en local)\n *      Utile seulement si le paramètre 'protocol' vaut 'JSONP', il ne sera pas pris en compte si protocol vaut 'XHR'.\n *\n * @param {String} [options.httpMethod] - La méthode HTTP\n *      à utiliser dans le cas d'une requête XHR : peut valoir 'GET' ou 'POST'.\n *      Non pris en compte si 'protocol' vaut JSONP qui fonctionne obligatoirement en GET.\n *      Par défaut, c'est la méthode GET qui est utilisée.\n *\n * @param {String} [options.contentType] - Content-Type de la requete\n *      à utiliser dans le cas d'une requête XHR en mode POST.\n *      Non pris en compte si 'protocol' vaut JSONP et/ou la méthode HTTP vaut GET.\n *      Par défaut, c'est la méthode GET qui est utilisée donc on n'utilise pas de Content-Type.\n *\n * @param {Number} [options.timeOut] - Délai d'attente maximal (en ms) de la réponse du service (à partir de l'envoi de la requête).\n *      Par défaut, aucun timeOut n'est pris en compte (timeoutDelay= 0).\n *\n * @param {Boolean} [options.rawResponse] - Indique si l'on souhaite que la réponse du service ne soit pas parsée par l'API avant d'être restituée.\n *      (Cf. paramètre « onSuccess » pour plus de détails).\n *\n * @param {Function} [options.onSuccess] - Fonction appelée lorsque le service répond correctement à la requête\n *      (code HTTP 200, sans message d'erreur).\n *      Cette fonction prend en paramètre la réponse du service,\n *      soit sous la forme d'un Object Javascript formaté par le parseur dédié à la syntaxe du service (comportement par défaut) ;\n *      soit brute au format String non prétraité si le paramètre « rawResponse » a été précisé avec la valeur « true ».\n *\n * @param {Function} [options.onFailure] - Fonction appelée lorsque le service ne répond pas correctement\n *      (code HTTP de retour différent de 200 ou pas de réponse).\n *\n * @param {Function} [options.onBeforeParse] - Fonction appelée avant le parsing de la réponse\n *      Permet de modifier la réponse avant parsing et la fonction doit retourner une String.\n *      Cette fonction prend en paramètre la réponse telle que renvoyée par le service\n *      (cad au format json ou xml).\n *      Pour le JSONP, si le paramètre \"rawResponse\" a été précisé avec la valeur \"true\",\n *      la fonction prend en paramètre un Object JavaScript contenant la réponse XML.\n *\n * @example\n *   var options = {\n *      apiKey : null,\n *      serverUrl : 'http://localhost/service/',\n *      protocol : 'JSONP', // JSONP|XHR\n *      ssl : false,\n *      proxyURL : null,\n *      callbackName : null,\n *      httpMethod : 'GET', // GET|POST\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      onBeforeParse : function (rawResponse) {}\n *   };\n * @private\n */\nfunction CommonService (options) {\n    if (!(this instanceof CommonService)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\"));\n    }\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"CommonService\");\n    this.logger.trace(\"[Constructeur CommonService (options)]\");\n\n    // #####################\n    // récupération des options par défaut pour les paramètres optionnels\n    // #####################\n\n    /**\n     * Options du service\n     * @type {Object}\n     */\n    this.options = {\n        // protocol : \"JSONP\",\n        protocol : \"XHR\",\n        ssl : true,\n        proxyURL : \"\",\n        // callbackName : \"\",\n        callbackSuffix : null,\n        httpMethod : \"GET\",\n        timeOut : 0,\n        rawResponse : false,\n        scope : this,\n        /**\n        * callback par defaut pour la reponse\n        * @param {Object} response - response\n        * @private\n        */\n        onSuccess : function (response) {\n            console.log(\"onSuccess - la reponse est la suivante : \", response);\n        },\n        /**\n        * callback par defaut pour les erreurs\n        * @param {Object} error - error\n        * @private\n        */\n        onFailure : function (error) {\n            if (error.status === 200 || !error.status) {\n                console.log(\"onFailure : \", error.message);\n            } else {\n                console.log(\"onFailure - Erreur (\", error.status, \") : \", error.message);\n            }\n        }\n    };\n\n    // et on ajoute les options en paramètre aux options par défaut\n    for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n            this.options[opt] = options[opt];\n        }\n    }\n\n    // #####################\n    // analyse des options\n    // #####################\n\n    // gestion des clefs API\n    if (!this.options.apiKey && !this.options.serverUrl) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessage(\"PARAM_MISSING\", \"apiKey\", \"serverUrl\"));\n    }\n\n    // modification de la fonction de callback onSuccess dans le cas où la réponse brute est demandée\n    if (this.options.rawResponse && !this.options.onSuccess) {\n        /**\n        * callback par defaut pour la reponse\n        * @param {Object} response - response\n        * @private\n        */\n        this.options.onSuccess = function (response) {\n            console.log(\"onSuccess - la réponse brute du service est la suivante : \", response);\n        };\n    }\n\n    // gestion du callback onSuccess\n    var bOnSuccess = !!((this.options.onSuccess !== null && typeof this.options.onSuccess === \"function\"));\n    if (!bOnSuccess) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessage(\"PARAM_MISSING\", \"onSuccess()\"));\n    }\n\n    // gestion de l'url du service par defaut\n    if (!this.options.serverUrl) {\n        // INFO\n        // gestion de l'url du service par defaut pour les services qui ne possèdent qu'une seul url par defaut\n        // les cas particuliers des services avec plusieurs urls (ex. Alti) devront être traité dans la classe du composant\n        // donc si l'url n'est pas renseignée, il faut utiliser les urls par defaut\n        _DefaultUrlService__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ssl = this.options.ssl;\n        var urlByDefault = _DefaultUrlService__WEBPACK_IMPORTED_MODULE_5__[\"default\"][this.CLASSNAME].url(this.options.apiKey);\n        if (typeof urlByDefault === \"string\") {\n            this.options.serverUrl = urlByDefault;\n        } else {\n            this.logger.trace(\"URL par defaut à determiner au niveau du composant...\");\n        }\n    }\n\n    // FIXME nettoyage des KVP dans l'url du service\n    // if (this.options.serverUrl) {\n    //     // INFO\n    //     // si l'url est renseignée, il faut la nettoyer de tous ses KVP\n    //     // ex. on ne veut pas de params. 'callback' ou 'output' car ceci declencherait\n    //     // des opérations d'encapsulations des reponses légèrement farfelues ...\n    //     var urlsource = this.options.serverUrl;\n    //     var urlparts = urlsource.split(\"?\");\n    //     this.options.serverUrl = urlparts[0];\n    // }\n\n    // gestion de la methode HTTP\n    this.options.httpMethod = (typeof options.httpMethod === \"string\") ? options.httpMethod.toUpperCase() : \"GET\";\n\n    switch (this.options.httpMethod) {\n        case \"POST\":\n        case \"GET\":\n            break;\n        case \"PUT\":\n        case \"DELETE\":\n        case \"HEAD\":\n        case \"OPTIONS\":\n            throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessage(\"PARAM_NOT_SUPPORT\", \"httpMethod\"));\n        default:\n            throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessage(\"PARAM_UNKNOWN\", \"httpMethod\"));\n    }\n\n    // gestion du protocole\n    // this.options.protocol = (typeof options.protocol === \"string\" ) ? options.protocol.toUpperCase() : \"JSONP\";\n    this.options.protocol = (typeof options.protocol === \"string\") ? options.protocol.toUpperCase() : \"XHR\";\n\n    switch (this.options.protocol) {\n        case \"JSONP\":\n        case \"XHR\":\n            break;\n        default:\n            throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessage(\"PARAM_UNKNOWN\", \"protocol\"));\n    }\n\n    // on determine l'environnement d'execution : browser ou non ?\n    // et on lance une exception sur l'utilisation du protocole JSONP pour nodeJS...\n    if (typeof window === \"undefined\" && this.options.protocol === \"JSONP\") {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessage(\"PARAM_NOT_SUPPORT_NODEJS\", \"protocol=JSONP (instead use XHR)\"));\n    }\n\n    // le protocole JSONP ne fonctionne qu'en GET.\n    if (this.options.protocol === \"JSONP\") {\n        this.options.httpMethod = \"GET\";\n    }\n\n    // gestion du cache\n    this.options.nocache = options.nocache || false;\n\n    // #####################\n    // attributs d'instances\n    // #####################\n\n    /**\n     * Format de réponse du service\n     */\n    this.options.outputFormat = null;\n    /**\n     * Requête envoyée au service\n     */\n    this.request = null;\n    /**\n     * Reponse du service\n     */\n    this.response = null;\n}\n\n/**\n * @lends module:CommonService\n */\nCommonService.prototype = {\n\n    /*\n     * Constructeur (alias)\n     */\n    constructor : CommonService,\n\n    /**\n     * Appel du service Géoportail\n     */\n    call : function () {\n        /* jshint validthis : true */\n        this.logger.trace(\"CommonService::call ()\");\n\n        var context = this;\n        /** fonction d'execution */\n        function run () {\n            this.logger.trace(\"CommonService::run ()\");\n            this.buildRequest.call(context, onError, onBuildRequest);\n        }\n\n        run.call(context);\n\n        // callback de fin de construction de la requête\n        function onBuildRequest (result) {\n            this.logger.trace(\"CommonService::onBuildRequest : \", result);\n            this.callService.call(context, onError, onCallService);\n        }\n\n        // callback de fin d'appel au service\n        function onCallService (result) {\n            this.logger.trace(\"CommonService::onCallService : \", result);\n            this.analyzeResponse.call(context, onError, onAnalyzeResponse);\n        }\n\n        // callback de fin de lecture de la reponse\n        function onAnalyzeResponse (result) {\n            this.logger.trace(\"CommonService::onAnalyzeResponse : \", result);\n            if (result) {\n                this.options.onSuccess.call(this, result);\n            } else {\n                return onError.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"Analyse de la reponse en échec !?\"));\n            }\n        }\n\n        // callback de gestion des erreurs : renvoit un objet de type ErrorService\n        function onError (error) {\n            this.logger.trace(\"CommonService::onError()\");\n            // error : l'objet est du type ErrorService ou Error\n            var e = error;\n            if (!(e instanceof _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"])) {\n                e = new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"](error.message);\n            }\n            this.options.onFailure.call(this, e);\n        }\n    },\n\n    /**\n     * Création de la requête\n     * @param {Function} error - callback\n     * @param {Function} success - callback\n     */\n    buildRequest : function (error, success) {\n        // INFO\n        this.logger.error(\"overwritten method !\");\n        // retourne l'objet 'this.request'\n        if (error) {\n            error.call(this, \"This method must be overwritten !\");\n        }\n        success.call(this, \"This method must be overwritten !\");\n    },\n\n    /**\n     * Appel du service\n     * @param {Function} error - callback\n     * @param {Function} success - callback\n     */\n    callService : function (error, success) {\n        // INFO\n        // retourne l'objet 'this.response'\n\n        // NOTES\n        //  Pour le mode XHR, on recupère une reponse sous forme d'un json ou xml (#document).\n        //  Pour le mode JSONP, on a toujours un objet JSON mais sous 2 formes :\n        //      - natif\n        //      - XML encapsulé :\n        //          {http : {status:200, error:null},xml :'réponse du service'}\n        //          {http : {status:400, error:'reponse du service'},xml :null}\n        //  En XHR, la reponse est directement sauvegardée dans 'this.response'.\n        //  Par contre, en JSONP, on doit analyser la reponse (status ou non vide),\n        //  et ne renvoyer que le contenu (xml ou l'objet)\n\n        // gestion de la proxification du service\n        var strUrlProxified = null;\n        var strData = this.request;\n\n        // a t on mis en place un proxy ?\n        // la proxyfication est valable uniquement en mode XHR !\n        var bUrlProxified = !!((this.options.proxyURL && this.options.protocol === \"XHR\"));\n\n        // rajout de l'option gpbibaccess\n        // INFO : acces au numero de version de package.conf aprés compilation !\n        this.options.serverUrl = _Utils_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalyzeUrl(this.options.serverUrl, {\n            \"gp-access-lib\" : _package_json__WEBPACK_IMPORTED_MODULE_6__.version\n        }, false);\n\n        // si le proxy est renseigné, on proxifie l'url du service\n        if (bUrlProxified) {\n            if (this.options.httpMethod === \"GET\") {\n                strUrlProxified = this.options.proxyURL + _Utils_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalyzeUrl(this.options.serverUrl, this.request, true);\n                strData = null;\n            }\n\n            if (this.options.httpMethod === \"POST\") {\n                strUrlProxified = this.options.proxyURL + _Utils_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalyzeUrl(this.options.serverUrl, null, true);\n                strData = this.request;\n            }\n        }\n\n        // contexte du composant spécifique !\n        var self = this;\n\n        var options = {\n            url : strUrlProxified || this.options.serverUrl,\n            method : this.options.httpMethod,\n            protocol : this.options.protocol,\n            timeOut : this.options.timeOut || 0,\n            format : this.options.outputFormat, // ceci declenche le parsing de la reponse du service, mais on souhaite toujours une reponse brute (string) !\n            nocache : this.options.nocache || false, // ceci permet d'ajouter un timestamp dans la requête\n            wrap : this.options.protocol !== \"XHR\", // ceci declenche l'encapsulation de la reponse XML du service dans du JSON, mais pas en mode XHR !\n            callbackSuffix : this.options.callbackSuffix,\n            // callbackName : this.options.callbackName || null,\n            data : strData,\n            headers : null, // TODO...\n            content : this.options.contentType || \"application/xml\",\n            scope : this.options.scope || this,\n            // callback de reponse\n            onResponse : function (response) {\n                self.logger.trace(\"callService::onResponse()\");\n\n                // le contenu de la reponse à renvoyer !\n                var content = null;\n\n                // XHR : on renvoie toujours la reponse brute du service (json ou xml)\n                // au parser du composant...\n                if (self.options.protocol === \"XHR\") {\n                    self.logger.trace(\"Response XHR\", response);\n                    content = response; // par defaut, la reponse du service  !\n                }\n\n                // JSONP : on pre-analyse la reponse brute du service (encapsuler ou pas)\n                // avant de l'envoyer au parser du composant...\n                if (self.options.protocol === \"JSONP\") {\n                    self.logger.trace(\"Response JSON\", response);\n                    if (response) {\n                        if (response.http) {\n                            // reponse encapsulée :\n                            // ex. reponse du service en xml\n                            // > {http : {status:200, error:null},xml :'réponse du service'}\n                            if (response.http.status !== 200) {\n                                error.call(self, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n                                    status : response.http.status,\n                                    message : response.http.error,\n                                    type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].TYPE_SRVERR\n                                }));\n                                return;\n                            } else {\n                                content = response.xml; // par defaut !\n                                if (self.options.rawResponse) {\n                                    content = response;\n                                }\n                            }\n                        } else {\n                            // reponse non encapsulée :\n                            // ex. reponse du service en json ou xml\n                            content = response;\n                        }\n                    } else {\n                        error.call(self, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"Le contenu de la reponse est vide !?\"));\n                        return;\n                    }\n                }\n\n                // si on souhaite parser la reponse du service\n                if (typeof self.options.onBeforeParse === \"function\") {\n                    var newResponse = self.options.onBeforeParse(content);\n                    if (typeof newResponse === \"string\") {\n                        // la reponse parsée par l'utilisateur est retournée sous\n                        // forme de string !\n                        content = newResponse;\n                    }\n                }\n                // sauvegarde de la reponse dans l'objet parent (CommonService)\n                self.response = content;\n                // on renvoie la reponse...\n                success.call(self, content);\n            },\n            // callback des erreurs\n            onFailure : function (e) {\n                self.logger.trace(\"callService::onFailure()\");\n                // on est forcement sur une erreur levée par un service !\n                e.type = _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].TYPE_SRVERR;\n                error.call(self, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"](e));\n            },\n            // callback de timeOut\n            onTimeOut : function () {\n                self.logger.trace(\"callService::onTimeOut()\");\n                error.call(self, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"TimeOut!\"));\n            }\n        };\n\n        _Protocols_Protocol__WEBPACK_IMPORTED_MODULE_3__[\"default\"].send(options);\n    },\n\n    /**\n     * Analyse de la réponse\n     * @param {Function} error - callback\n     * @param {Function} success - callback\n     */\n    analyzeResponse : function (error, success) {\n        // INFO\n        this.logger.error(\"overwritten method !\");\n        // retourne l'objet spécifique au type de composant (json)\n        if (error) {\n            error.call(this, \"This method must be overwritten !\");\n        }\n        success.call(this, \"This method must be overwritten !\");\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommonService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvQ29tbW9uU2VydmljZS5qcz8xYjIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE4QztBQUNUO0FBQ007QUFDRTtBQUNTO0FBQ0Y7QUFDcEQ7QUFDcUM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0VBQUM7QUFDN0I7O0FBRUEsa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFFBQVEsdUJBQXVCO0FBQ2pFO0FBQ0EscURBQXFELGdFQUFZO0FBQ2pFO0FBQ0E7QUFDQSwyQ0FBMkMsZ0VBQVk7QUFDdkQsaUNBQWlDO0FBQ2pDO0FBQ0EsNkJBQTZCO0FBQzdCLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiw2Q0FBNkMsZ0VBQVk7QUFDekQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdFQUFZO0FBQ3JDLHFDQUFxQyxnRUFBWTtBQUNqRCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGdFQUFZO0FBQ2pEO0FBQ0E7O0FBRUEsUUFBUSwyREFBUTtBQUNoQixLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVlLDRFQUFhLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0NvbW1vblNlcnZpY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBIZWxwZXIgZnJvbSBcIi4uL1V0aWxzL0hlbHBlclwiO1xuaW1wb3J0IF8gZnJvbSBcIi4uL1V0aWxzL01lc3NhZ2VzUmVzb3VyY2VzXCI7XG5pbXBvcnQgUHJvdG9jb2wgZnJvbSBcIi4uL1Byb3RvY29scy9Qcm90b2NvbFwiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBEZWZhdWx0VXJsU2VydmljZSBmcm9tIFwiLi9EZWZhdWx0VXJsU2VydmljZVwiO1xuLy8gcGFja2FnZS5qc29uIChleHRyYWN0IHZlcnNpb24pXG5pbXBvcnQgUGtnIGZyb20gXCIuLi8uLi9wYWNrYWdlLmpzb25cIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb21wb3NhbnQgU2VydmljZVxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkNvbW1vblNlcnZpY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBjb21tdW5lcyDDoCB0b3VzIGxlcyBzZXJ2aWNlc1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmFwaUtleSAtIENsZWYgZCdhY2PDqHMgw6AgbGEgcGxhdGVmb3JtZSBHw6lvcG9ydGFpbCxcbiAqICAgICAgbsOpY2Vzc2FpcmUgcG91ciBmcmFuY2hpciBsYSBjb3VjaGUgZGUgY29udHLDtGxlIGRlcyBhY2PDqHMgcG91ciBhdm9pciB1bmUgcsOpcG9uc2UgZHUgc2VydmljZSBpbnZvcXXDqS5cbiAqICAgICAgUGx1c2lldXJzIGNsZWZzIHBldXZlbnQgw6p0cmUgcGFzc8OpZXMgZGFucyBsZSBjYXMgZGUgbCdpbnZvY2F0aW9uIGR1IHNlcnZpY2UgZCdhdXRvY29uZmlndXJhdGlvbi5cbiAqICAgICAgU2kgY2UgcGFyYW3DqHRyZSBuJ2VzdCBwYXMgcmVuc2VpZ27DqSwgYWxvcnMgbGUgcGFyYW3DqHRyZSBzZXJ2ZXJVcmwgZG9pdCDDqnRyZSByZW5zZWlnbsOpIChjb21wcmVuYW50IGFsb3JzLCBzaSBuw6ljZXNzYWlyZSBsYSBjbGVmIEFQSSkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuc2VydmVyVXJsIC0gVVJMIGQnYWNjw6hzIGF1IHNlcnZpY2UuXG4gKiAgICAgIFBlcm1ldCBkZSBmb3JjZXIgbCd1dGlsaXNhdGlvbiBkJ3VuIHNlcnZpY2Ugw6lxdWl2YWxlbnQgZMOpcGxvecOpIGRlcnJpw6hyZSB1bmUgw6l2ZW50dWVsbGUgYXV0cmUgVVJMIGQnYWNjw6hzLlxuICogICAgICBTaSBjZSBwYXJhbcOodHJlIGVzdCByZW5zZWlnbsOpIGFsb3JzLCBsZSBwYXJhbcOodHJlIGFwaUtleSBlc3QgaWdub3LDqS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucHJvdG9jb2xdIC0gTGUgcHJvdG9jb2xlIMOgIHV0aWxpc2VyIHBvdXIgcsOpY3Vww6lyZXIgbGVzIGluZm9ybWF0aW9ucyBkdSBzZXJ2aWNlIDpcbiAqICAgICAgcGV1dCB2YWxvaXIgJ0pTT05QJyBvdSAnWEhSJy5cbiAqICAgICAgUGFyIGTDqWZhdXQsIGMnZXN0IGxlIHByb3RvY29sZSBYSFIgcXVpIHNlcmEgdXRpbGlzw6kuXG4gKiAgICAgIEF0dGVudGlvbiwgbGUgcHJvdG9jb2xlIEpTT05QIG4nZXN0IHBhcyB2YWxpZGUgZGFucyB1biBlbnZpcm9ubmVtZW50IE5vZGVKUyAoVXRpbGlzYXRpb24gZHUgbW9kZSBYSFIpLlxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3NsXSAtIEluZGlxdWUgc2kgbCdvbiBzb3VoYWl0ZSBpbnTDqXJyb2dlciBsZXMgc2VydmljZXMgZW4gaHR0cHMuXG4gKiAgICAgIENlIHBhcmFtw6h0cmUgbmUgZm9uY3Rpb25uZSBxdWUgcG91ciB1bmUgdXRpbGlzYXRpb24gaG9ycyBuYXZpZ2F0ZXVyIChleC4gTm9kZUpTKS5cbiAqICAgICAgU3VyIHVuIG5hdmlnYXRldXIsIGxlIHByb3RvY29sZSBlc3QgYXV0b21hdGlxdWVtZW50IGV4dHJhaXQgZGUgbCd1cmwgZHUgc2l0ZS4uLlxuICogICAgICBQYXIgZMOpZmF1dCwgb24gdXRpbGlzZSBsZSBwcm90b2NvbGUgaHR0cCAoc3NsPWZhbHNlKS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucHJveHlVUkxdIC0gTGUgcHJveHkgw6AgdXRpbGlzZXIgcG91ciBwYWxsaWVyIGF1IHByb2Jsw6htZSBkZSBjcm9zcy1kb21haW4gZGFucyBsZSBjYXMgZCd1bmUgcmVxdcOqdGUgWEhSLlxuICogICAgICBVdGlsZSBzaSBsZSBwYXJhbcOodHJlICdwcm90b2NvbCcgdmF1dCAnWEhSJywgaWwgbmUgc2VyYSBwYXMgcHJpcyBlbiBjb21wdGUgc2kgcHJvdG9jb2wgdmF1dCBKU09OUC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY2FsbGJhY2tTdWZmaXhdIC0gU3VmZml4ZSBkZSBsYSBmb25jdGlvbiBkZSBjYWxsYmFjayDDoCB1dGlsaXNlciwgZGFucyBsZSBjYXMgZHUgcHJvdG9jb2xlIEpTT05QLlxuICogICAgICBQYXIgZMOpZmF1dCwgbGEgZm9uY3Rpb24gZGUgY2FsbGJhY2sgcG9ydGVyYSB1biBub20gZHUgdHlwZSBcImNhbGxiYWNrXCIrSUQsIG/DuSBJRCBlc3Qgc29pdCB1biBpZGVudGlmaWFudCB1bmlxdWUgZ8OpbsOpcsOpIMOgIGNoYXF1ZSByZXF1w6p0ZSxcbiAqICAgICAgc29pdCBsZSBwYXJhbcOodHJlIGNhbGxiYWNrU3VmZml4IHMnaWwgZXN0IHNww6ljaWZpw6kuIFBhciBleGVtcGxlLCBzaSBjYWxsYmFja1N1ZmZpeD1cIl8yXCIsIGxhIGZvbmN0aW9uIHNlcmEgXCJjYWxsYmFja18yICgpXCIuXG4gKiAgICAgIFV0aWxlIHBvdXIgdXRpbGlzZXIgdW5lIHLDqXBvbnNlIGTDqWrDoCBlbmNhcHN1bMOpZSBkYW5zIHVuZSBmb25jdGlvbiBkZSBjYWxsYmFjaywgZG9udCBsZSBub20gZXN0IGNvbm51IChleCA6IGNoYXJnZW1lbnQgZGUgbCdhdXRvY29uZmlndXJhdGlvbiBlbiBsb2NhbClcbiAqICAgICAgVXRpbGUgc2V1bGVtZW50IHNpIGxlIHBhcmFtw6h0cmUgJ3Byb3RvY29sJyB2YXV0ICdKU09OUCcsIGlsIG5lIHNlcmEgcGFzIHByaXMgZW4gY29tcHRlIHNpIHByb3RvY29sIHZhdXQgJ1hIUicuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmh0dHBNZXRob2RdIC0gTGEgbcOpdGhvZGUgSFRUUFxuICogICAgICDDoCB1dGlsaXNlciBkYW5zIGxlIGNhcyBkJ3VuZSByZXF1w6p0ZSBYSFIgOiBwZXV0IHZhbG9pciAnR0VUJyBvdSAnUE9TVCcuXG4gKiAgICAgIE5vbiBwcmlzIGVuIGNvbXB0ZSBzaSAncHJvdG9jb2wnIHZhdXQgSlNPTlAgcXVpIGZvbmN0aW9ubmUgb2JsaWdhdG9pcmVtZW50IGVuIEdFVC5cbiAqICAgICAgUGFyIGTDqWZhdXQsIGMnZXN0IGxhIG3DqXRob2RlIEdFVCBxdWkgZXN0IHV0aWxpc8OpZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29udGVudFR5cGVdIC0gQ29udGVudC1UeXBlIGRlIGxhIHJlcXVldGVcbiAqICAgICAgw6AgdXRpbGlzZXIgZGFucyBsZSBjYXMgZCd1bmUgcmVxdcOqdGUgWEhSIGVuIG1vZGUgUE9TVC5cbiAqICAgICAgTm9uIHByaXMgZW4gY29tcHRlIHNpICdwcm90b2NvbCcgdmF1dCBKU09OUCBldC9vdSBsYSBtw6l0aG9kZSBIVFRQIHZhdXQgR0VULlxuICogICAgICBQYXIgZMOpZmF1dCwgYydlc3QgbGEgbcOpdGhvZGUgR0VUIHF1aSBlc3QgdXRpbGlzw6llIGRvbmMgb24gbid1dGlsaXNlIHBhcyBkZSBDb250ZW50LVR5cGUuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRpbWVPdXRdIC0gRMOpbGFpIGQnYXR0ZW50ZSBtYXhpbWFsIChlbiBtcykgZGUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSAow6AgcGFydGlyIGRlIGwnZW52b2kgZGUgbGEgcmVxdcOqdGUpLlxuICogICAgICBQYXIgZMOpZmF1dCwgYXVjdW4gdGltZU91dCBuJ2VzdCBwcmlzIGVuIGNvbXB0ZSAodGltZW91dERlbGF5PSAwKS5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJhd1Jlc3BvbnNlXSAtIEluZGlxdWUgc2kgbCdvbiBzb3VoYWl0ZSBxdWUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSBuZSBzb2l0IHBhcyBwYXJzw6llIHBhciBsJ0FQSSBhdmFudCBkJ8OqdHJlIHJlc3RpdHXDqWUuXG4gKiAgICAgIChDZi4gcGFyYW3DqHRyZSDCqyBvblN1Y2Nlc3MgwrsgcG91ciBwbHVzIGRlIGTDqXRhaWxzKS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vblN1Y2Nlc3NdIC0gRm9uY3Rpb24gYXBwZWzDqWUgbG9yc3F1ZSBsZSBzZXJ2aWNlIHLDqXBvbmQgY29ycmVjdGVtZW50IMOgIGxhIHJlcXXDqnRlXG4gKiAgICAgIChjb2RlIEhUVFAgMjAwLCBzYW5zIG1lc3NhZ2UgZCdlcnJldXIpLlxuICogICAgICBDZXR0ZSBmb25jdGlvbiBwcmVuZCBlbiBwYXJhbcOodHJlIGxhIHLDqXBvbnNlIGR1IHNlcnZpY2UsXG4gKiAgICAgIHNvaXQgc291cyBsYSBmb3JtZSBkJ3VuIE9iamVjdCBKYXZhc2NyaXB0IGZvcm1hdMOpIHBhciBsZSBwYXJzZXVyIGTDqWRpw6kgw6AgbGEgc3ludGF4ZSBkdSBzZXJ2aWNlIChjb21wb3J0ZW1lbnQgcGFyIGTDqWZhdXQpIDtcbiAqICAgICAgc29pdCBicnV0ZSBhdSBmb3JtYXQgU3RyaW5nIG5vbiBwcsOpdHJhaXTDqSBzaSBsZSBwYXJhbcOodHJlIMKrIHJhd1Jlc3BvbnNlIMK7IGEgw6l0w6kgcHLDqWNpc8OpIGF2ZWMgbGEgdmFsZXVyIMKrIHRydWUgwrsuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25GYWlsdXJlXSAtIEZvbmN0aW9uIGFwcGVsw6llIGxvcnNxdWUgbGUgc2VydmljZSBuZSByw6lwb25kIHBhcyBjb3JyZWN0ZW1lbnRcbiAqICAgICAgKGNvZGUgSFRUUCBkZSByZXRvdXIgZGlmZsOpcmVudCBkZSAyMDAgb3UgcGFzIGRlIHLDqXBvbnNlKS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vbkJlZm9yZVBhcnNlXSAtIEZvbmN0aW9uIGFwcGVsw6llIGF2YW50IGxlIHBhcnNpbmcgZGUgbGEgcsOpcG9uc2VcbiAqICAgICAgUGVybWV0IGRlIG1vZGlmaWVyIGxhIHLDqXBvbnNlIGF2YW50IHBhcnNpbmcgZXQgbGEgZm9uY3Rpb24gZG9pdCByZXRvdXJuZXIgdW5lIFN0cmluZy5cbiAqICAgICAgQ2V0dGUgZm9uY3Rpb24gcHJlbmQgZW4gcGFyYW3DqHRyZSBsYSByw6lwb25zZSB0ZWxsZSBxdWUgcmVudm95w6llIHBhciBsZSBzZXJ2aWNlXG4gKiAgICAgIChjYWQgYXUgZm9ybWF0IGpzb24gb3UgeG1sKS5cbiAqICAgICAgUG91ciBsZSBKU09OUCwgc2kgbGUgcGFyYW3DqHRyZSBcInJhd1Jlc3BvbnNlXCIgYSDDqXTDqSBwcsOpY2lzw6kgYXZlYyBsYSB2YWxldXIgXCJ0cnVlXCIsXG4gKiAgICAgIGxhIGZvbmN0aW9uIHByZW5kIGVuIHBhcmFtw6h0cmUgdW4gT2JqZWN0IEphdmFTY3JpcHQgY29udGVuYW50IGxhIHLDqXBvbnNlIFhNTC5cbiAqXG4gKiBAZXhhbXBsZVxuICogICB2YXIgb3B0aW9ucyA9IHtcbiAqICAgICAgYXBpS2V5IDogbnVsbCxcbiAqICAgICAgc2VydmVyVXJsIDogJ2h0dHA6Ly9sb2NhbGhvc3Qvc2VydmljZS8nLFxuICogICAgICBwcm90b2NvbCA6ICdKU09OUCcsIC8vIEpTT05QfFhIUlxuICogICAgICBzc2wgOiBmYWxzZSxcbiAqICAgICAgcHJveHlVUkwgOiBudWxsLFxuICogICAgICBjYWxsYmFja05hbWUgOiBudWxsLFxuICogICAgICBodHRwTWV0aG9kIDogJ0dFVCcsIC8vIEdFVHxQT1NUXG4gKiAgICAgIHRpbWVPdXQgOiAxMDAwMCwgLy8gbXNcbiAqICAgICAgcmF3UmVzcG9uc2UgOiBmYWxzZSwgLy8gdHJ1ZXxmYWxzZVxuICogICAgICBzY29wZSA6IG51bGwsIC8vIHRoaXNcbiAqICAgICAgb25TdWNjZXNzIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7fSxcbiAqICAgICAgb25GYWlsdXJlIDogZnVuY3Rpb24gKGVycm9yKSB7fSxcbiAqICAgICAgb25CZWZvcmVQYXJzZSA6IGZ1bmN0aW9uIChyYXdSZXNwb25zZSkge31cbiAqICAgfTtcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIENvbW1vblNlcnZpY2UgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29tbW9uU2VydmljZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihfLmdldE1lc3NhZ2UoXCJDTEFTU19DT05TVFJVQ1RPUlwiKSk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiQ29tbW9uU2VydmljZVwiKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgQ29tbW9uU2VydmljZSAob3B0aW9ucyldXCIpO1xuXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gICAgLy8gcsOpY3Vww6lyYXRpb24gZGVzIG9wdGlvbnMgcGFyIGTDqWZhdXQgcG91ciBsZXMgcGFyYW3DqHRyZXMgb3B0aW9ubmVsc1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucyBkdSBzZXJ2aWNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgIC8vIHByb3RvY29sIDogXCJKU09OUFwiLFxuICAgICAgICBwcm90b2NvbCA6IFwiWEhSXCIsXG4gICAgICAgIHNzbCA6IHRydWUsXG4gICAgICAgIHByb3h5VVJMIDogXCJcIixcbiAgICAgICAgLy8gY2FsbGJhY2tOYW1lIDogXCJcIixcbiAgICAgICAgY2FsbGJhY2tTdWZmaXggOiBudWxsLFxuICAgICAgICBodHRwTWV0aG9kIDogXCJHRVRcIixcbiAgICAgICAgdGltZU91dCA6IDAsXG4gICAgICAgIHJhd1Jlc3BvbnNlIDogZmFsc2UsXG4gICAgICAgIHNjb3BlIDogdGhpcyxcbiAgICAgICAgLyoqXG4gICAgICAgICogY2FsbGJhY2sgcGFyIGRlZmF1dCBwb3VyIGxhIHJlcG9uc2VcbiAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgLSByZXNwb25zZVxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovXG4gICAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJvblN1Y2Nlc3MgLSBsYSByZXBvbnNlIGVzdCBsYSBzdWl2YW50ZSA6IFwiLCByZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIGNhbGxiYWNrIHBhciBkZWZhdXQgcG91ciBsZXMgZXJyZXVyc1xuICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlcnJvciAtIGVycm9yXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi9cbiAgICAgICAgb25GYWlsdXJlIDogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSAyMDAgfHwgIWVycm9yLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib25GYWlsdXJlIDogXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9uRmFpbHVyZSAtIEVycmV1ciAoXCIsIGVycm9yLnN0YXR1cywgXCIpIDogXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGV0IG9uIGFqb3V0ZSBsZXMgb3B0aW9ucyBlbiBwYXJhbcOodHJlIGF1eCBvcHRpb25zIHBhciBkw6lmYXV0XG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zW29wdF0gPSBvcHRpb25zW29wdF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAgICAvLyBhbmFseXNlIGRlcyBvcHRpb25zXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbiAgICAvLyBnZXN0aW9uIGRlcyBjbGVmcyBBUElcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hcGlLZXkgJiYgIXRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX01JU1NJTkdcIiwgXCJhcGlLZXlcIiwgXCJzZXJ2ZXJVcmxcIikpO1xuICAgIH1cblxuICAgIC8vIG1vZGlmaWNhdGlvbiBkZSBsYSBmb25jdGlvbiBkZSBjYWxsYmFjayBvblN1Y2Nlc3MgZGFucyBsZSBjYXMgb8O5IGxhIHLDqXBvbnNlIGJydXRlIGVzdCBkZW1hbmTDqWVcbiAgICBpZiAodGhpcy5vcHRpb25zLnJhd1Jlc3BvbnNlICYmICF0aGlzLm9wdGlvbnMub25TdWNjZXNzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAqIGNhbGxiYWNrIHBhciBkZWZhdXQgcG91ciBsYSByZXBvbnNlXG4gICAgICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIC0gcmVzcG9uc2VcbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMub25TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9uU3VjY2VzcyAtIGxhIHLDqXBvbnNlIGJydXRlIGR1IHNlcnZpY2UgZXN0IGxhIHN1aXZhbnRlIDogXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBnZXN0aW9uIGR1IGNhbGxiYWNrIG9uU3VjY2Vzc1xuICAgIHZhciBiT25TdWNjZXNzID0gISEoKHRoaXMub3B0aW9ucy5vblN1Y2Nlc3MgIT09IG51bGwgJiYgdHlwZW9mIHRoaXMub3B0aW9ucy5vblN1Y2Nlc3MgPT09IFwiZnVuY3Rpb25cIikpO1xuICAgIGlmICghYk9uU3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fTUlTU0lOR1wiLCBcIm9uU3VjY2VzcygpXCIpKTtcbiAgICB9XG5cbiAgICAvLyBnZXN0aW9uIGRlIGwndXJsIGR1IHNlcnZpY2UgcGFyIGRlZmF1dFxuICAgIGlmICghdGhpcy5vcHRpb25zLnNlcnZlclVybCkge1xuICAgICAgICAvLyBJTkZPXG4gICAgICAgIC8vIGdlc3Rpb24gZGUgbCd1cmwgZHUgc2VydmljZSBwYXIgZGVmYXV0IHBvdXIgbGVzIHNlcnZpY2VzIHF1aSBuZSBwb3Nzw6hkZW50IHF1J3VuZSBzZXVsIHVybCBwYXIgZGVmYXV0XG4gICAgICAgIC8vIGxlcyBjYXMgcGFydGljdWxpZXJzIGRlcyBzZXJ2aWNlcyBhdmVjIHBsdXNpZXVycyB1cmxzIChleC4gQWx0aSkgZGV2cm9udCDDqnRyZSB0cmFpdMOpIGRhbnMgbGEgY2xhc3NlIGR1IGNvbXBvc2FudFxuICAgICAgICAvLyBkb25jIHNpIGwndXJsIG4nZXN0IHBhcyByZW5zZWlnbsOpZSwgaWwgZmF1dCB1dGlsaXNlciBsZXMgdXJscyBwYXIgZGVmYXV0XG4gICAgICAgIERlZmF1bHRVcmxTZXJ2aWNlLnNzbCA9IHRoaXMub3B0aW9ucy5zc2w7XG4gICAgICAgIHZhciB1cmxCeURlZmF1bHQgPSBEZWZhdWx0VXJsU2VydmljZVt0aGlzLkNMQVNTTkFNRV0udXJsKHRoaXMub3B0aW9ucy5hcGlLZXkpO1xuICAgICAgICBpZiAodHlwZW9mIHVybEJ5RGVmYXVsdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNlcnZlclVybCA9IHVybEJ5RGVmYXVsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiVVJMIHBhciBkZWZhdXQgw6AgZGV0ZXJtaW5lciBhdSBuaXZlYXUgZHUgY29tcG9zYW50Li4uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRklYTUUgbmV0dG95YWdlIGRlcyBLVlAgZGFucyBsJ3VybCBkdSBzZXJ2aWNlXG4gICAgLy8gaWYgKHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwpIHtcbiAgICAvLyAgICAgLy8gSU5GT1xuICAgIC8vICAgICAvLyBzaSBsJ3VybCBlc3QgcmVuc2VpZ27DqWUsIGlsIGZhdXQgbGEgbmV0dG95ZXIgZGUgdG91cyBzZXMgS1ZQXG4gICAgLy8gICAgIC8vIGV4LiBvbiBuZSB2ZXV0IHBhcyBkZSBwYXJhbXMuICdjYWxsYmFjaycgb3UgJ291dHB1dCcgY2FyIGNlY2kgZGVjbGVuY2hlcmFpdFxuICAgIC8vICAgICAvLyBkZXMgb3DDqXJhdGlvbnMgZCdlbmNhcHN1bGF0aW9ucyBkZXMgcmVwb25zZXMgbMOpZ8OocmVtZW50IGZhcmZlbHVlcyAuLi5cbiAgICAvLyAgICAgdmFyIHVybHNvdXJjZSA9IHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmw7XG4gICAgLy8gICAgIHZhciB1cmxwYXJ0cyA9IHVybHNvdXJjZS5zcGxpdChcIj9cIik7XG4gICAgLy8gICAgIHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwgPSB1cmxwYXJ0c1swXTtcbiAgICAvLyB9XG5cbiAgICAvLyBnZXN0aW9uIGRlIGxhIG1ldGhvZGUgSFRUUFxuICAgIHRoaXMub3B0aW9ucy5odHRwTWV0aG9kID0gKHR5cGVvZiBvcHRpb25zLmh0dHBNZXRob2QgPT09IFwic3RyaW5nXCIpID8gb3B0aW9ucy5odHRwTWV0aG9kLnRvVXBwZXJDYXNlKCkgOiBcIkdFVFwiO1xuXG4gICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuaHR0cE1ldGhvZCkge1xuICAgICAgICBjYXNlIFwiUE9TVFwiOlxuICAgICAgICBjYXNlIFwiR0VUXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlBVVFwiOlxuICAgICAgICBjYXNlIFwiREVMRVRFXCI6XG4gICAgICAgIGNhc2UgXCJIRUFEXCI6XG4gICAgICAgIGNhc2UgXCJPUFRJT05TXCI6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fTk9UX1NVUFBPUlRcIiwgXCJodHRwTWV0aG9kXCIpKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9VTktOT1dOXCIsIFwiaHR0cE1ldGhvZFwiKSk7XG4gICAgfVxuXG4gICAgLy8gZ2VzdGlvbiBkdSBwcm90b2NvbGVcbiAgICAvLyB0aGlzLm9wdGlvbnMucHJvdG9jb2wgPSAodHlwZW9mIG9wdGlvbnMucHJvdG9jb2wgPT09IFwic3RyaW5nXCIgKSA/IG9wdGlvbnMucHJvdG9jb2wudG9VcHBlckNhc2UoKSA6IFwiSlNPTlBcIjtcbiAgICB0aGlzLm9wdGlvbnMucHJvdG9jb2wgPSAodHlwZW9mIG9wdGlvbnMucHJvdG9jb2wgPT09IFwic3RyaW5nXCIpID8gb3B0aW9ucy5wcm90b2NvbC50b1VwcGVyQ2FzZSgpIDogXCJYSFJcIjtcblxuICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLnByb3RvY29sKSB7XG4gICAgICAgIGNhc2UgXCJKU09OUFwiOlxuICAgICAgICBjYXNlIFwiWEhSXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9VTktOT1dOXCIsIFwicHJvdG9jb2xcIikpO1xuICAgIH1cblxuICAgIC8vIG9uIGRldGVybWluZSBsJ2Vudmlyb25uZW1lbnQgZCdleGVjdXRpb24gOiBicm93c2VyIG91IG5vbiA/XG4gICAgLy8gZXQgb24gbGFuY2UgdW5lIGV4Y2VwdGlvbiBzdXIgbCd1dGlsaXNhdGlvbiBkdSBwcm90b2NvbGUgSlNPTlAgcG91ciBub2RlSlMuLi5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiAmJiB0aGlzLm9wdGlvbnMucHJvdG9jb2wgPT09IFwiSlNPTlBcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fTk9UX1NVUFBPUlRfTk9ERUpTXCIsIFwicHJvdG9jb2w9SlNPTlAgKGluc3RlYWQgdXNlIFhIUilcIikpO1xuICAgIH1cblxuICAgIC8vIGxlIHByb3RvY29sZSBKU09OUCBuZSBmb25jdGlvbm5lIHF1J2VuIEdFVC5cbiAgICBpZiAodGhpcy5vcHRpb25zLnByb3RvY29sID09PSBcIkpTT05QXCIpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmh0dHBNZXRob2QgPSBcIkdFVFwiO1xuICAgIH1cblxuICAgIC8vIGdlc3Rpb24gZHUgY2FjaGVcbiAgICB0aGlzLm9wdGlvbnMubm9jYWNoZSA9IG9wdGlvbnMubm9jYWNoZSB8fCBmYWxzZTtcblxuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuICAgIC8vIGF0dHJpYnV0cyBkJ2luc3RhbmNlc1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IGRlIHLDqXBvbnNlIGR1IHNlcnZpY2VcbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0ID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBSZXF1w6p0ZSBlbnZvecOpZSBhdSBzZXJ2aWNlXG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0ID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBSZXBvbnNlIGR1IHNlcnZpY2VcbiAgICAgKi9cbiAgICB0aGlzLnJlc3BvbnNlID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkNvbW1vblNlcnZpY2VcbiAqL1xuQ29tbW9uU2VydmljZS5wcm90b3R5cGUgPSB7XG5cbiAgICAvKlxuICAgICAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgOiBDb21tb25TZXJ2aWNlLFxuXG4gICAgLyoqXG4gICAgICogQXBwZWwgZHUgc2VydmljZSBHw6lvcG9ydGFpbFxuICAgICAqL1xuICAgIGNhbGwgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXMgOiB0cnVlICovXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQ29tbW9uU2VydmljZTo6Y2FsbCAoKVwiKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIC8qKiBmb25jdGlvbiBkJ2V4ZWN1dGlvbiAqL1xuICAgICAgICBmdW5jdGlvbiBydW4gKCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJDb21tb25TZXJ2aWNlOjpydW4gKClcIik7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkUmVxdWVzdC5jYWxsKGNvbnRleHQsIG9uRXJyb3IsIG9uQnVpbGRSZXF1ZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJ1bi5jYWxsKGNvbnRleHQpO1xuXG4gICAgICAgIC8vIGNhbGxiYWNrIGRlIGZpbiBkZSBjb25zdHJ1Y3Rpb24gZGUgbGEgcmVxdcOqdGVcbiAgICAgICAgZnVuY3Rpb24gb25CdWlsZFJlcXVlc3QgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJDb21tb25TZXJ2aWNlOjpvbkJ1aWxkUmVxdWVzdCA6IFwiLCByZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5jYWxsU2VydmljZS5jYWxsKGNvbnRleHQsIG9uRXJyb3IsIG9uQ2FsbFNlcnZpY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsbGJhY2sgZGUgZmluIGQnYXBwZWwgYXUgc2VydmljZVxuICAgICAgICBmdW5jdGlvbiBvbkNhbGxTZXJ2aWNlIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQ29tbW9uU2VydmljZTo6b25DYWxsU2VydmljZSA6IFwiLCByZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5hbmFseXplUmVzcG9uc2UuY2FsbChjb250ZXh0LCBvbkVycm9yLCBvbkFuYWx5emVSZXNwb25zZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWxsYmFjayBkZSBmaW4gZGUgbGVjdHVyZSBkZSBsYSByZXBvbnNlXG4gICAgICAgIGZ1bmN0aW9uIG9uQW5hbHl6ZVJlc3BvbnNlIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQ29tbW9uU2VydmljZTo6b25BbmFseXplUmVzcG9uc2UgOiBcIiwgcmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TdWNjZXNzLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IuY2FsbCh0aGlzLCBuZXcgRXJyb3JTZXJ2aWNlKFwiQW5hbHlzZSBkZSBsYSByZXBvbnNlIGVuIMOpY2hlYyAhP1wiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWxsYmFjayBkZSBnZXN0aW9uIGRlcyBlcnJldXJzIDogcmVudm9pdCB1biBvYmpldCBkZSB0eXBlIEVycm9yU2VydmljZVxuICAgICAgICBmdW5jdGlvbiBvbkVycm9yIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJDb21tb25TZXJ2aWNlOjpvbkVycm9yKClcIik7XG4gICAgICAgICAgICAvLyBlcnJvciA6IGwnb2JqZXQgZXN0IGR1IHR5cGUgRXJyb3JTZXJ2aWNlIG91IEVycm9yXG4gICAgICAgICAgICB2YXIgZSA9IGVycm9yO1xuICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIEVycm9yU2VydmljZSkpIHtcbiAgICAgICAgICAgICAgICBlID0gbmV3IEVycm9yU2VydmljZShlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkZhaWx1cmUuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcsOpYXRpb24gZGUgbGEgcmVxdcOqdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAtIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyAtIGNhbGxiYWNrXG4gICAgICovXG4gICAgYnVpbGRSZXF1ZXN0IDogZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgICAgIC8vIElORk9cbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJvdmVyd3JpdHRlbiBtZXRob2QgIVwiKTtcbiAgICAgICAgLy8gcmV0b3VybmUgbCdvYmpldCAndGhpcy5yZXF1ZXN0J1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yLmNhbGwodGhpcywgXCJUaGlzIG1ldGhvZCBtdXN0IGJlIG92ZXJ3cml0dGVuICFcIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VjY2Vzcy5jYWxsKHRoaXMsIFwiVGhpcyBtZXRob2QgbXVzdCBiZSBvdmVyd3JpdHRlbiAhXCIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbCBkdSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgLSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3MgLSBjYWxsYmFja1xuICAgICAqL1xuICAgIGNhbGxTZXJ2aWNlIDogZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgICAgIC8vIElORk9cbiAgICAgICAgLy8gcmV0b3VybmUgbCdvYmpldCAndGhpcy5yZXNwb25zZSdcblxuICAgICAgICAvLyBOT1RFU1xuICAgICAgICAvLyAgUG91ciBsZSBtb2RlIFhIUiwgb24gcmVjdXDDqHJlIHVuZSByZXBvbnNlIHNvdXMgZm9ybWUgZCd1biBqc29uIG91IHhtbCAoI2RvY3VtZW50KS5cbiAgICAgICAgLy8gIFBvdXIgbGUgbW9kZSBKU09OUCwgb24gYSB0b3Vqb3VycyB1biBvYmpldCBKU09OIG1haXMgc291cyAyIGZvcm1lcyA6XG4gICAgICAgIC8vICAgICAgLSBuYXRpZlxuICAgICAgICAvLyAgICAgIC0gWE1MIGVuY2Fwc3Vsw6kgOlxuICAgICAgICAvLyAgICAgICAgICB7aHR0cCA6IHtzdGF0dXM6MjAwLCBlcnJvcjpudWxsfSx4bWwgOidyw6lwb25zZSBkdSBzZXJ2aWNlJ31cbiAgICAgICAgLy8gICAgICAgICAge2h0dHAgOiB7c3RhdHVzOjQwMCwgZXJyb3I6J3JlcG9uc2UgZHUgc2VydmljZSd9LHhtbCA6bnVsbH1cbiAgICAgICAgLy8gIEVuIFhIUiwgbGEgcmVwb25zZSBlc3QgZGlyZWN0ZW1lbnQgc2F1dmVnYXJkw6llIGRhbnMgJ3RoaXMucmVzcG9uc2UnLlxuICAgICAgICAvLyAgUGFyIGNvbnRyZSwgZW4gSlNPTlAsIG9uIGRvaXQgYW5hbHlzZXIgbGEgcmVwb25zZSAoc3RhdHVzIG91IG5vbiB2aWRlKSxcbiAgICAgICAgLy8gIGV0IG5lIHJlbnZveWVyIHF1ZSBsZSBjb250ZW51ICh4bWwgb3UgbCdvYmpldClcblxuICAgICAgICAvLyBnZXN0aW9uIGRlIGxhIHByb3hpZmljYXRpb24gZHUgc2VydmljZVxuICAgICAgICB2YXIgc3RyVXJsUHJveGlmaWVkID0gbnVsbDtcbiAgICAgICAgdmFyIHN0ckRhdGEgPSB0aGlzLnJlcXVlc3Q7XG5cbiAgICAgICAgLy8gYSB0IG9uIG1pcyBlbiBwbGFjZSB1biBwcm94eSA/XG4gICAgICAgIC8vIGxhIHByb3h5ZmljYXRpb24gZXN0IHZhbGFibGUgdW5pcXVlbWVudCBlbiBtb2RlIFhIUiAhXG4gICAgICAgIHZhciBiVXJsUHJveGlmaWVkID0gISEoKHRoaXMub3B0aW9ucy5wcm94eVVSTCAmJiB0aGlzLm9wdGlvbnMucHJvdG9jb2wgPT09IFwiWEhSXCIpKTtcblxuICAgICAgICAvLyByYWpvdXQgZGUgbCdvcHRpb24gZ3BiaWJhY2Nlc3NcbiAgICAgICAgLy8gSU5GTyA6IGFjY2VzIGF1IG51bWVybyBkZSB2ZXJzaW9uIGRlIHBhY2thZ2UuY29uZiBhcHLDqXMgY29tcGlsYXRpb24gIVxuICAgICAgICB0aGlzLm9wdGlvbnMuc2VydmVyVXJsID0gSGVscGVyLm5vcm1hbHl6ZVVybCh0aGlzLm9wdGlvbnMuc2VydmVyVXJsLCB7XG4gICAgICAgICAgICBcImdwLWFjY2Vzcy1saWJcIiA6IFBrZy52ZXJzaW9uXG4gICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAvLyBzaSBsZSBwcm94eSBlc3QgcmVuc2VpZ27DqSwgb24gcHJveGlmaWUgbCd1cmwgZHUgc2VydmljZVxuICAgICAgICBpZiAoYlVybFByb3hpZmllZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5odHRwTWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgICAgICAgICAgc3RyVXJsUHJveGlmaWVkID0gdGhpcy5vcHRpb25zLnByb3h5VVJMICsgSGVscGVyLm5vcm1hbHl6ZVVybCh0aGlzLm9wdGlvbnMuc2VydmVyVXJsLCB0aGlzLnJlcXVlc3QsIHRydWUpO1xuICAgICAgICAgICAgICAgIHN0ckRhdGEgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmh0dHBNZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgICAgICAgICAgICAgc3RyVXJsUHJveGlmaWVkID0gdGhpcy5vcHRpb25zLnByb3h5VVJMICsgSGVscGVyLm5vcm1hbHl6ZVVybCh0aGlzLm9wdGlvbnMuc2VydmVyVXJsLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzdHJEYXRhID0gdGhpcy5yZXF1ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udGV4dGUgZHUgY29tcG9zYW50IHNww6ljaWZpcXVlICFcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgdXJsIDogc3RyVXJsUHJveGlmaWVkIHx8IHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwsXG4gICAgICAgICAgICBtZXRob2QgOiB0aGlzLm9wdGlvbnMuaHR0cE1ldGhvZCxcbiAgICAgICAgICAgIHByb3RvY29sIDogdGhpcy5vcHRpb25zLnByb3RvY29sLFxuICAgICAgICAgICAgdGltZU91dCA6IHRoaXMub3B0aW9ucy50aW1lT3V0IHx8IDAsXG4gICAgICAgICAgICBmb3JtYXQgOiB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0LCAvLyBjZWNpIGRlY2xlbmNoZSBsZSBwYXJzaW5nIGRlIGxhIHJlcG9uc2UgZHUgc2VydmljZSwgbWFpcyBvbiBzb3VoYWl0ZSB0b3Vqb3VycyB1bmUgcmVwb25zZSBicnV0ZSAoc3RyaW5nKSAhXG4gICAgICAgICAgICBub2NhY2hlIDogdGhpcy5vcHRpb25zLm5vY2FjaGUgfHwgZmFsc2UsIC8vIGNlY2kgcGVybWV0IGQnYWpvdXRlciB1biB0aW1lc3RhbXAgZGFucyBsYSByZXF1w6p0ZVxuICAgICAgICAgICAgd3JhcCA6IHRoaXMub3B0aW9ucy5wcm90b2NvbCAhPT0gXCJYSFJcIiwgLy8gY2VjaSBkZWNsZW5jaGUgbCdlbmNhcHN1bGF0aW9uIGRlIGxhIHJlcG9uc2UgWE1MIGR1IHNlcnZpY2UgZGFucyBkdSBKU09OLCBtYWlzIHBhcyBlbiBtb2RlIFhIUiAhXG4gICAgICAgICAgICBjYWxsYmFja1N1ZmZpeCA6IHRoaXMub3B0aW9ucy5jYWxsYmFja1N1ZmZpeCxcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrTmFtZSA6IHRoaXMub3B0aW9ucy5jYWxsYmFja05hbWUgfHwgbnVsbCxcbiAgICAgICAgICAgIGRhdGEgOiBzdHJEYXRhLFxuICAgICAgICAgICAgaGVhZGVycyA6IG51bGwsIC8vIFRPRE8uLi5cbiAgICAgICAgICAgIGNvbnRlbnQgOiB0aGlzLm9wdGlvbnMuY29udGVudFR5cGUgfHwgXCJhcHBsaWNhdGlvbi94bWxcIixcbiAgICAgICAgICAgIHNjb3BlIDogdGhpcy5vcHRpb25zLnNjb3BlIHx8IHRoaXMsXG4gICAgICAgICAgICAvLyBjYWxsYmFjayBkZSByZXBvbnNlXG4gICAgICAgICAgICBvblJlc3BvbnNlIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIudHJhY2UoXCJjYWxsU2VydmljZTo6b25SZXNwb25zZSgpXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gbGUgY29udGVudSBkZSBsYSByZXBvbnNlIMOgIHJlbnZveWVyICFcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyBYSFIgOiBvbiByZW52b2llIHRvdWpvdXJzIGxhIHJlcG9uc2UgYnJ1dGUgZHUgc2VydmljZSAoanNvbiBvdSB4bWwpXG4gICAgICAgICAgICAgICAgLy8gYXUgcGFyc2VyIGR1IGNvbXBvc2FudC4uLlxuICAgICAgICAgICAgICAgIGlmIChzZWxmLm9wdGlvbnMucHJvdG9jb2wgPT09IFwiWEhSXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIudHJhY2UoXCJSZXNwb25zZSBYSFJcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gcmVzcG9uc2U7IC8vIHBhciBkZWZhdXQsIGxhIHJlcG9uc2UgZHUgc2VydmljZSAgIVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEpTT05QIDogb24gcHJlLWFuYWx5c2UgbGEgcmVwb25zZSBicnV0ZSBkdSBzZXJ2aWNlIChlbmNhcHN1bGVyIG91IHBhcylcbiAgICAgICAgICAgICAgICAvLyBhdmFudCBkZSBsJ2Vudm95ZXIgYXUgcGFyc2VyIGR1IGNvbXBvc2FudC4uLlxuICAgICAgICAgICAgICAgIGlmIChzZWxmLm9wdGlvbnMucHJvdG9jb2wgPT09IFwiSlNPTlBcIikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlci50cmFjZShcIlJlc3BvbnNlIEpTT05cIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5odHRwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVwb25zZSBlbmNhcHN1bMOpZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXguIHJlcG9uc2UgZHUgc2VydmljZSBlbiB4bWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA+IHtodHRwIDoge3N0YXR1czoyMDAsIGVycm9yOm51bGx9LHhtbCA6J3LDqXBvbnNlIGR1IHNlcnZpY2UnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5odHRwLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmNhbGwoc2VsZiwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgOiByZXNwb25zZS5odHRwLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiByZXNwb25zZS5odHRwLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gcmVzcG9uc2UueG1sOyAvLyBwYXIgZGVmYXV0ICFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5yYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXBvbnNlIG5vbiBlbmNhcHN1bMOpZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXguIHJlcG9uc2UgZHUgc2VydmljZSBlbiBqc29uIG91IHhtbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmNhbGwoc2VsZiwgbmV3IEVycm9yU2VydmljZShcIkxlIGNvbnRlbnUgZGUgbGEgcmVwb25zZSBlc3QgdmlkZSAhP1wiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzaSBvbiBzb3VoYWl0ZSBwYXJzZXIgbGEgcmVwb25zZSBkdSBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLm9wdGlvbnMub25CZWZvcmVQYXJzZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdSZXNwb25zZSA9IHNlbGYub3B0aW9ucy5vbkJlZm9yZVBhcnNlKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5ld1Jlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYSByZXBvbnNlIHBhcnPDqWUgcGFyIGwndXRpbGlzYXRldXIgZXN0IHJldG91cm7DqWUgc291c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9ybWUgZGUgc3RyaW5nICFcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBuZXdSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzYXV2ZWdhcmRlIGRlIGxhIHJlcG9uc2UgZGFucyBsJ29iamV0IHBhcmVudCAoQ29tbW9uU2VydmljZSlcbiAgICAgICAgICAgICAgICBzZWxmLnJlc3BvbnNlID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAvLyBvbiByZW52b2llIGxhIHJlcG9uc2UuLi5cbiAgICAgICAgICAgICAgICBzdWNjZXNzLmNhbGwoc2VsZiwgY29udGVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gY2FsbGJhY2sgZGVzIGVycmV1cnNcbiAgICAgICAgICAgIG9uRmFpbHVyZSA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIudHJhY2UoXCJjYWxsU2VydmljZTo6b25GYWlsdXJlKClcIik7XG4gICAgICAgICAgICAgICAgLy8gb24gZXN0IGZvcmNlbWVudCBzdXIgdW5lIGVycmV1ciBsZXbDqWUgcGFyIHVuIHNlcnZpY2UgIVxuICAgICAgICAgICAgICAgIGUudHlwZSA9IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUjtcbiAgICAgICAgICAgICAgICBlcnJvci5jYWxsKHNlbGYsIG5ldyBFcnJvclNlcnZpY2UoZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrIGRlIHRpbWVPdXRcbiAgICAgICAgICAgIG9uVGltZU91dCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlci50cmFjZShcImNhbGxTZXJ2aWNlOjpvblRpbWVPdXQoKVwiKTtcbiAgICAgICAgICAgICAgICBlcnJvci5jYWxsKHNlbGYsIG5ldyBFcnJvclNlcnZpY2UoXCJUaW1lT3V0IVwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgUHJvdG9jb2wuc2VuZChvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQW5hbHlzZSBkZSBsYSByw6lwb25zZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yIC0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzIC0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBhbmFseXplUmVzcG9uc2UgOiBmdW5jdGlvbiAoZXJyb3IsIHN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gSU5GT1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIm92ZXJ3cml0dGVuIG1ldGhvZCAhXCIpO1xuICAgICAgICAvLyByZXRvdXJuZSBsJ29iamV0IHNww6ljaWZpcXVlIGF1IHR5cGUgZGUgY29tcG9zYW50IChqc29uKVxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yLmNhbGwodGhpcywgXCJUaGlzIG1ldGhvZCBtdXN0IGJlIG92ZXJ3cml0dGVuICFcIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VjY2Vzcy5jYWxsKHRoaXMsIFwiVGhpcyBtZXRob2QgbXVzdCBiZSBvdmVyd3JpdHRlbiAhXCIpO1xuICAgIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29tbW9uU2VydmljZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/CommonService.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// cette classe contient les URLs par defaut des services.\n//  DefaultUrlService.Alti.url(key)[elevation-json]\n//  DefaultUrlService.Alti.url(key)[elevation-xml]\n//  DefaultUrlService.Alti.url(key)[profil-json]\n//  DefaultUrlService.Alti.url(key)[profil-xml]\n//  DefaultUrlService.Alti.url(key)[wps]\n//  DefaultUrlService.ProcessIsoCurve.url(key)\n//  DefaultUrlService.AutoComplete.url(key)\n//  DefaultUrlService.ReverseGeocode.url(key)\n//  DefaultUrlService.AutoConf.url(key)[apiKey]\n//  DefaultUrlService.AutoConf.url(key)[apiKeys]\n//  DefaultUrlService.AutoConf.url(key)[aggregate]\n//  DefaultUrlService.Geocode.url(key)\n//  DefaultUrlService.Route.url(key)\n\n// Example :\n//\n// DefaultUrlService.Alti.url('efe4r54tj4uy5i78o7545eaz7e87a')[elevation-json]\n//  output {String} -> http://wxs.ign.fr/efe4r54tj4uy5i78o7545eaz7e87a/alti/rest/elevation.json\n//\n// DefaultUrlService.Alti.url('efe4r54tj4uy5i78o7545eaz7e87a')\n// output {Object|String}\n// -> http://wxs.ign.fr/efe4r54tj4uy5i78o7545eaz7e87a/alti/rest/elevation.json\n// -> http://wxs.ign.fr/efe4r54tj4uy5i78o7545eaz7e87a/alti/rest/elevation.xml\n// -> http://wxs.ign.fr/efe4r54tj4uy5i78o7545eaz7e87a/alti/rest/elevationLine.json\n// -> http://wxs.ign.fr/efe4r54tj4uy5i78o7545eaz7e87a/alti/rest/elevationLine.xml\n// -> http://wxs.ign.fr/efe4r54tj4uy5i78o7545eaz7e87a/alti/wps\n//\n// ssl by default.\n//\n// Force to not do ssl :\n// DefaultUrlService.ssl = false;\n//\n// DefaultUrlService.AutoComplete.url('efe4r54tj4uy5i78o7545eaz7e87a')\n// output {Object|String}\n// -> https://wxs.ign.fr/efe4r54tj4uy5i78o7545eaz7e87a/ols/apis/completion\n\n// constantes internes\nvar HOSTNAME = \"wxs.ign.fr\";\n\n/**\n * Default Geoportal web services URLs access.\n *\n * @namespace\n * @alias Gp.Services.DefaultUrl\n */\nvar DefaultUrlService = {\n\n    /** if set true, require the use of https protocol */\n    ssl : true,\n\n    /**\n    * base url of services (ssl protocol management)\n    * @param {String} key - key\n    * @param {String} path - path\n    * @returns {String} url\n    */\n    url : function (key, path) {\n        // comportement par défaut => https\n        // sinon, il est fixé par l'option 'ssl' (false => http)\n        var _protocol;\n        if (DefaultUrlService.ssl === false) {\n            _protocol = \"http://\";\n        } else {\n            _protocol = \"https://\";\n        }\n\n        return _protocol + HOSTNAME.concat(\"/\", key, path);\n    },\n\n    /**\n     * Elevation web service access\n     *\n     * @member {Object}\n     * @property {Function} url (key) - Returns elevation service default urls with or without geoportal access key given as a parameter. The result is a javascript object with different urls given used protocols (\"elevation-json\", \"elevation-xml\", \"profil-json\" or \"profil-xml\").\n     */\n    Alti : {\n        _key : {\n            // rest\n            \"elevation-json\" : \"/alti/rest/elevation.json\",\n            \"elevation-xml\" : \"/alti/rest/elevation.xml\",\n            \"profil-json\" : \"/alti/rest/elevationLine.json\",\n            \"profil-xml\" : \"/alti/rest/elevationLine.xml\",\n            // other\n            wps : \"/alti/wps\"\n        },\n        /**\n        * url\n        * @param {String} key - key\n        * @returns {String} url\n        */\n        url : function (key) {\n            return {\n                // rest\n                \"elevation-json\" : DefaultUrlService.url(key, this._key[\"elevation-json\"]),\n                \"elevation-xml\" : DefaultUrlService.url(key, this._key[\"elevation-xml\"]),\n                \"profil-json\" : DefaultUrlService.url(key, this._key[\"profil-json\"]),\n                \"profil-xml\" : DefaultUrlService.url(key, this._key[\"profil-xml\"]),\n                // other\n                wps : DefaultUrlService.url(key, this._key[\"wps\"])\n            };\n        }\n    },\n    /**\n     * IsoCurve web service access\n     *\n     * @member {Object}\n     * @property {Function} url (key) - Returns isocurve service default urls with or without geoportal access key given as a parameter. The result is a javascript object with different urls given used protocols (\"iso-json\" or \"iso-xml\").\n     */\n    ProcessIsoCurve : {\n        _key : {\n            \"iso-json\" : \"/isochrone/isochrone.json\", // rest (geoconcept)\n            \"iso-xml\" : \"/isochrone/isochrone.xml\" // rest (geoconcept)\n        },\n        /**\n        * url\n        * @param {String} key - key\n        * @returns {String} url\n        */\n        url : function (key) {\n            return {\n                \"iso-json\" : DefaultUrlService.url(key, this._key[\"iso-json\"]),\n                \"iso-xml\" : DefaultUrlService.url(key, this._key[\"iso-xml\"])\n            };\n        }\n    },\n    /**\n     * Autocompletion web service access\n     *\n     * @member {Object}\n     * @property {Function} url (key) - Returns autocomplete service default urls with or without geoportal access key given as a parameter. The result is a String.\n     */\n    AutoComplete : {\n        _key : \"/ols/apis/completion\",\n        /**\n        * url\n        * @param {String} key - key\n        * @returns {String} url\n        */\n        url : function (key) {\n            return DefaultUrlService.url(key, this._key);\n        }\n    },\n    /**\n     * Reverse geocoding web service access\n     *\n     * @member {Object}\n     * @property {Function} url (key) - Returns reverse geocoding service default urls with or without geoportal access key given as a parameter. The result is a String.\n     */\n    ReverseGeocode : {\n        _key : \"/geoportail/ols\",\n        /**\n        * url\n        * @param {String} key - key\n        * @returns {String} url\n        */\n        url : function (key) {\n            return DefaultUrlService.url(key, this._key);\n        }\n    },\n    /**\n     * Autoconfiguration web service access\n     *\n     * @member {Object}\n     * @property {Function} url ([key1,...]) - Returns autoconfiguration service default urls with geoportal access key (s) given as a String array parameter. The result is a javascript object with different urls given the access mode (\"apiKey\", \"apiKeys\" or \"aggregate\").\n     */\n    AutoConf : {\n        _key : {\n            apiKey : \"/autoconf\",\n            apiKeys : \"/autoconf?keys=%KEYS%\",\n            aggregate : \"/autoconf/id/\"\n        },\n        /**\n        * url\n        * @param {String} key - key\n        * @returns {String} url\n        */\n        url : function (key) {\n            var keys = \"\";\n            if (Array.isArray(key) && key.length > 0) {\n                keys = key[0];\n                for (var i = 1; i < key.length; i++) {\n                    keys += \",\" + key[i];\n                }\n            }\n            return {\n                apiKey : DefaultUrlService.url(key, this._key[\"apiKey\"]), // une seule clé\n                apiKeys : DefaultUrlService.url(key[0], this._key[\"apiKeys\"]).replace(\"%KEYS%\", keys), // autoconf de plusieurs clés\n                aggregate : DefaultUrlService.url(key, this._key[\"aggregate\"])\n            };\n        }\n    },\n    /**\n     * Geocoding web service access\n     *\n     * @member {Object}\n     * @property {Function} url (key) - Returns geocoding service default urls with or without geoportal access key given as a parameter. The result is a String.\n     */\n    Geocode : {\n        _key : \"/geoportail/ols\",\n        /**\n        * url\n        * @param {String} key - key\n        * @returns {String} url\n        */\n        url : function (key) {\n            return DefaultUrlService.url(key, this._key);\n        }\n    },\n    /**\n     * Routing web service access\n     *\n     * @member {Object}\n     * @property {Function} url (key) - Returns routing service default urls with or without geoportal access key given as a parameter. The result is a javascript object with different urls given used protocols (\"route-json\" or \"route-xml\").\n     */\n    Route : {\n        _key : {\n            ols : \"/itineraire/ols\", // openLS\n            \"route-json\" : \"/itineraire/rest/route.json\", // rest (geoconcept)\n            \"route-xml\" : \"/itineraire/rest/route.xml\" // rest (geoconcept)\n        },\n        /**\n        * url\n        * @param {String} key - key\n        * @returns {String} url\n        */\n        url : function (key) {\n            return {\n                ols : DefaultUrlService.url(key, this._key[\"ols\"]),\n                \"route-json\" : DefaultUrlService.url(key, this._key[\"route-json\"]),\n                \"route-xml\" : DefaultUrlService.url(key, this._key[\"route-xml\"])\n            };\n        }\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DefaultUrlService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvRGVmYXVsdFVybFNlcnZpY2UuanM/MzE5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekIsb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QixvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLGdGQUFpQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9EZWZhdWx0VXJsU2VydmljZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNldHRlIGNsYXNzZSBjb250aWVudCBsZXMgVVJMcyBwYXIgZGVmYXV0IGRlcyBzZXJ2aWNlcy5cbi8vICBEZWZhdWx0VXJsU2VydmljZS5BbHRpLnVybChrZXkpW2VsZXZhdGlvbi1qc29uXVxuLy8gIERlZmF1bHRVcmxTZXJ2aWNlLkFsdGkudXJsKGtleSlbZWxldmF0aW9uLXhtbF1cbi8vICBEZWZhdWx0VXJsU2VydmljZS5BbHRpLnVybChrZXkpW3Byb2ZpbC1qc29uXVxuLy8gIERlZmF1bHRVcmxTZXJ2aWNlLkFsdGkudXJsKGtleSlbcHJvZmlsLXhtbF1cbi8vICBEZWZhdWx0VXJsU2VydmljZS5BbHRpLnVybChrZXkpW3dwc11cbi8vICBEZWZhdWx0VXJsU2VydmljZS5Qcm9jZXNzSXNvQ3VydmUudXJsKGtleSlcbi8vICBEZWZhdWx0VXJsU2VydmljZS5BdXRvQ29tcGxldGUudXJsKGtleSlcbi8vICBEZWZhdWx0VXJsU2VydmljZS5SZXZlcnNlR2VvY29kZS51cmwoa2V5KVxuLy8gIERlZmF1bHRVcmxTZXJ2aWNlLkF1dG9Db25mLnVybChrZXkpW2FwaUtleV1cbi8vICBEZWZhdWx0VXJsU2VydmljZS5BdXRvQ29uZi51cmwoa2V5KVthcGlLZXlzXVxuLy8gIERlZmF1bHRVcmxTZXJ2aWNlLkF1dG9Db25mLnVybChrZXkpW2FnZ3JlZ2F0ZV1cbi8vICBEZWZhdWx0VXJsU2VydmljZS5HZW9jb2RlLnVybChrZXkpXG4vLyAgRGVmYXVsdFVybFNlcnZpY2UuUm91dGUudXJsKGtleSlcblxuLy8gRXhhbXBsZSA6XG4vL1xuLy8gRGVmYXVsdFVybFNlcnZpY2UuQWx0aS51cmwoJ2VmZTRyNTR0ajR1eTVpNzhvNzU0NWVhejdlODdhJylbZWxldmF0aW9uLWpzb25dXG4vLyAgb3V0cHV0IHtTdHJpbmd9IC0+IGh0dHA6Ly93eHMuaWduLmZyL2VmZTRyNTR0ajR1eTVpNzhvNzU0NWVhejdlODdhL2FsdGkvcmVzdC9lbGV2YXRpb24uanNvblxuLy9cbi8vIERlZmF1bHRVcmxTZXJ2aWNlLkFsdGkudXJsKCdlZmU0cjU0dGo0dXk1aTc4bzc1NDVlYXo3ZTg3YScpXG4vLyBvdXRwdXQge09iamVjdHxTdHJpbmd9XG4vLyAtPiBodHRwOi8vd3hzLmlnbi5mci9lZmU0cjU0dGo0dXk1aTc4bzc1NDVlYXo3ZTg3YS9hbHRpL3Jlc3QvZWxldmF0aW9uLmpzb25cbi8vIC0+IGh0dHA6Ly93eHMuaWduLmZyL2VmZTRyNTR0ajR1eTVpNzhvNzU0NWVhejdlODdhL2FsdGkvcmVzdC9lbGV2YXRpb24ueG1sXG4vLyAtPiBodHRwOi8vd3hzLmlnbi5mci9lZmU0cjU0dGo0dXk1aTc4bzc1NDVlYXo3ZTg3YS9hbHRpL3Jlc3QvZWxldmF0aW9uTGluZS5qc29uXG4vLyAtPiBodHRwOi8vd3hzLmlnbi5mci9lZmU0cjU0dGo0dXk1aTc4bzc1NDVlYXo3ZTg3YS9hbHRpL3Jlc3QvZWxldmF0aW9uTGluZS54bWxcbi8vIC0+IGh0dHA6Ly93eHMuaWduLmZyL2VmZTRyNTR0ajR1eTVpNzhvNzU0NWVhejdlODdhL2FsdGkvd3BzXG4vL1xuLy8gc3NsIGJ5IGRlZmF1bHQuXG4vL1xuLy8gRm9yY2UgdG8gbm90IGRvIHNzbCA6XG4vLyBEZWZhdWx0VXJsU2VydmljZS5zc2wgPSBmYWxzZTtcbi8vXG4vLyBEZWZhdWx0VXJsU2VydmljZS5BdXRvQ29tcGxldGUudXJsKCdlZmU0cjU0dGo0dXk1aTc4bzc1NDVlYXo3ZTg3YScpXG4vLyBvdXRwdXQge09iamVjdHxTdHJpbmd9XG4vLyAtPiBodHRwczovL3d4cy5pZ24uZnIvZWZlNHI1NHRqNHV5NWk3OG83NTQ1ZWF6N2U4N2Evb2xzL2FwaXMvY29tcGxldGlvblxuXG4vLyBjb25zdGFudGVzIGludGVybmVzXG52YXIgSE9TVE5BTUUgPSBcInd4cy5pZ24uZnJcIjtcblxuLyoqXG4gKiBEZWZhdWx0IEdlb3BvcnRhbCB3ZWIgc2VydmljZXMgVVJMcyBhY2Nlc3MuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkRlZmF1bHRVcmxcbiAqL1xudmFyIERlZmF1bHRVcmxTZXJ2aWNlID0ge1xuXG4gICAgLyoqIGlmIHNldCB0cnVlLCByZXF1aXJlIHRoZSB1c2Ugb2YgaHR0cHMgcHJvdG9jb2wgKi9cbiAgICBzc2wgOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgKiBiYXNlIHVybCBvZiBzZXJ2aWNlcyAoc3NsIHByb3RvY29sIG1hbmFnZW1lbnQpXG4gICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0ga2V5XG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCAtIHBhdGhcbiAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHVybFxuICAgICovXG4gICAgdXJsIDogZnVuY3Rpb24gKGtleSwgcGF0aCkge1xuICAgICAgICAvLyBjb21wb3J0ZW1lbnQgcGFyIGTDqWZhdXQgPT4gaHR0cHNcbiAgICAgICAgLy8gc2lub24sIGlsIGVzdCBmaXjDqSBwYXIgbCdvcHRpb24gJ3NzbCcgKGZhbHNlID0+IGh0dHApXG4gICAgICAgIHZhciBfcHJvdG9jb2w7XG4gICAgICAgIGlmIChEZWZhdWx0VXJsU2VydmljZS5zc2wgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfcHJvdG9jb2wgPSBcImh0dHA6Ly9cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9wcm90b2NvbCA9IFwiaHR0cHM6Ly9cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcHJvdG9jb2wgKyBIT1NUTkFNRS5jb25jYXQoXCIvXCIsIGtleSwgcGF0aCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVsZXZhdGlvbiB3ZWIgc2VydmljZSBhY2Nlc3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSB1cmwgKGtleSkgLSBSZXR1cm5zIGVsZXZhdGlvbiBzZXJ2aWNlIGRlZmF1bHQgdXJscyB3aXRoIG9yIHdpdGhvdXQgZ2VvcG9ydGFsIGFjY2VzcyBrZXkgZ2l2ZW4gYXMgYSBwYXJhbWV0ZXIuIFRoZSByZXN1bHQgaXMgYSBqYXZhc2NyaXB0IG9iamVjdCB3aXRoIGRpZmZlcmVudCB1cmxzIGdpdmVuIHVzZWQgcHJvdG9jb2xzIChcImVsZXZhdGlvbi1qc29uXCIsIFwiZWxldmF0aW9uLXhtbFwiLCBcInByb2ZpbC1qc29uXCIgb3IgXCJwcm9maWwteG1sXCIpLlxuICAgICAqL1xuICAgIEFsdGkgOiB7XG4gICAgICAgIF9rZXkgOiB7XG4gICAgICAgICAgICAvLyByZXN0XG4gICAgICAgICAgICBcImVsZXZhdGlvbi1qc29uXCIgOiBcIi9hbHRpL3Jlc3QvZWxldmF0aW9uLmpzb25cIixcbiAgICAgICAgICAgIFwiZWxldmF0aW9uLXhtbFwiIDogXCIvYWx0aS9yZXN0L2VsZXZhdGlvbi54bWxcIixcbiAgICAgICAgICAgIFwicHJvZmlsLWpzb25cIiA6IFwiL2FsdGkvcmVzdC9lbGV2YXRpb25MaW5lLmpzb25cIixcbiAgICAgICAgICAgIFwicHJvZmlsLXhtbFwiIDogXCIvYWx0aS9yZXN0L2VsZXZhdGlvbkxpbmUueG1sXCIsXG4gICAgICAgICAgICAvLyBvdGhlclxuICAgICAgICAgICAgd3BzIDogXCIvYWx0aS93cHNcIlxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiB1cmxcbiAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0ga2V5XG4gICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsXG4gICAgICAgICovXG4gICAgICAgIHVybCA6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLy8gcmVzdFxuICAgICAgICAgICAgICAgIFwiZWxldmF0aW9uLWpzb25cIiA6IERlZmF1bHRVcmxTZXJ2aWNlLnVybChrZXksIHRoaXMuX2tleVtcImVsZXZhdGlvbi1qc29uXCJdKSxcbiAgICAgICAgICAgICAgICBcImVsZXZhdGlvbi14bWxcIiA6IERlZmF1bHRVcmxTZXJ2aWNlLnVybChrZXksIHRoaXMuX2tleVtcImVsZXZhdGlvbi14bWxcIl0pLFxuICAgICAgICAgICAgICAgIFwicHJvZmlsLWpzb25cIiA6IERlZmF1bHRVcmxTZXJ2aWNlLnVybChrZXksIHRoaXMuX2tleVtcInByb2ZpbC1qc29uXCJdKSxcbiAgICAgICAgICAgICAgICBcInByb2ZpbC14bWxcIiA6IERlZmF1bHRVcmxTZXJ2aWNlLnVybChrZXksIHRoaXMuX2tleVtcInByb2ZpbC14bWxcIl0pLFxuICAgICAgICAgICAgICAgIC8vIG90aGVyXG4gICAgICAgICAgICAgICAgd3BzIDogRGVmYXVsdFVybFNlcnZpY2UudXJsKGtleSwgdGhpcy5fa2V5W1wid3BzXCJdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogSXNvQ3VydmUgd2ViIHNlcnZpY2UgYWNjZXNzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gdXJsIChrZXkpIC0gUmV0dXJucyBpc29jdXJ2ZSBzZXJ2aWNlIGRlZmF1bHQgdXJscyB3aXRoIG9yIHdpdGhvdXQgZ2VvcG9ydGFsIGFjY2VzcyBrZXkgZ2l2ZW4gYXMgYSBwYXJhbWV0ZXIuIFRoZSByZXN1bHQgaXMgYSBqYXZhc2NyaXB0IG9iamVjdCB3aXRoIGRpZmZlcmVudCB1cmxzIGdpdmVuIHVzZWQgcHJvdG9jb2xzIChcImlzby1qc29uXCIgb3IgXCJpc28teG1sXCIpLlxuICAgICAqL1xuICAgIFByb2Nlc3NJc29DdXJ2ZSA6IHtcbiAgICAgICAgX2tleSA6IHtcbiAgICAgICAgICAgIFwiaXNvLWpzb25cIiA6IFwiL2lzb2Nocm9uZS9pc29jaHJvbmUuanNvblwiLCAvLyByZXN0IChnZW9jb25jZXB0KVxuICAgICAgICAgICAgXCJpc28teG1sXCIgOiBcIi9pc29jaHJvbmUvaXNvY2hyb25lLnhtbFwiIC8vIHJlc3QgKGdlb2NvbmNlcHQpXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIHVybFxuICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBrZXlcbiAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB1cmxcbiAgICAgICAgKi9cbiAgICAgICAgdXJsIDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBcImlzby1qc29uXCIgOiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5LCB0aGlzLl9rZXlbXCJpc28tanNvblwiXSksXG4gICAgICAgICAgICAgICAgXCJpc28teG1sXCIgOiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5LCB0aGlzLl9rZXlbXCJpc28teG1sXCJdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQXV0b2NvbXBsZXRpb24gd2ViIHNlcnZpY2UgYWNjZXNzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gdXJsIChrZXkpIC0gUmV0dXJucyBhdXRvY29tcGxldGUgc2VydmljZSBkZWZhdWx0IHVybHMgd2l0aCBvciB3aXRob3V0IGdlb3BvcnRhbCBhY2Nlc3Mga2V5IGdpdmVuIGFzIGEgcGFyYW1ldGVyLiBUaGUgcmVzdWx0IGlzIGEgU3RyaW5nLlxuICAgICAqL1xuICAgIEF1dG9Db21wbGV0ZSA6IHtcbiAgICAgICAgX2tleSA6IFwiL29scy9hcGlzL2NvbXBsZXRpb25cIixcbiAgICAgICAgLyoqXG4gICAgICAgICogdXJsXG4gICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIGtleVxuICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHVybFxuICAgICAgICAqL1xuICAgICAgICB1cmwgOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gRGVmYXVsdFVybFNlcnZpY2UudXJsKGtleSwgdGhpcy5fa2V5KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSBnZW9jb2Rpbmcgd2ViIHNlcnZpY2UgYWNjZXNzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gdXJsIChrZXkpIC0gUmV0dXJucyByZXZlcnNlIGdlb2NvZGluZyBzZXJ2aWNlIGRlZmF1bHQgdXJscyB3aXRoIG9yIHdpdGhvdXQgZ2VvcG9ydGFsIGFjY2VzcyBrZXkgZ2l2ZW4gYXMgYSBwYXJhbWV0ZXIuIFRoZSByZXN1bHQgaXMgYSBTdHJpbmcuXG4gICAgICovXG4gICAgUmV2ZXJzZUdlb2NvZGUgOiB7XG4gICAgICAgIF9rZXkgOiBcIi9nZW9wb3J0YWlsL29sc1wiLFxuICAgICAgICAvKipcbiAgICAgICAgKiB1cmxcbiAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0ga2V5XG4gICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsXG4gICAgICAgICovXG4gICAgICAgIHVybCA6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5LCB0aGlzLl9rZXkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBBdXRvY29uZmlndXJhdGlvbiB3ZWIgc2VydmljZSBhY2Nlc3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSB1cmwgKFtrZXkxLC4uLl0pIC0gUmV0dXJucyBhdXRvY29uZmlndXJhdGlvbiBzZXJ2aWNlIGRlZmF1bHQgdXJscyB3aXRoIGdlb3BvcnRhbCBhY2Nlc3Mga2V5IChzKSBnaXZlbiBhcyBhIFN0cmluZyBhcnJheSBwYXJhbWV0ZXIuIFRoZSByZXN1bHQgaXMgYSBqYXZhc2NyaXB0IG9iamVjdCB3aXRoIGRpZmZlcmVudCB1cmxzIGdpdmVuIHRoZSBhY2Nlc3MgbW9kZSAoXCJhcGlLZXlcIiwgXCJhcGlLZXlzXCIgb3IgXCJhZ2dyZWdhdGVcIikuXG4gICAgICovXG4gICAgQXV0b0NvbmYgOiB7XG4gICAgICAgIF9rZXkgOiB7XG4gICAgICAgICAgICBhcGlLZXkgOiBcIi9hdXRvY29uZlwiLFxuICAgICAgICAgICAgYXBpS2V5cyA6IFwiL2F1dG9jb25mP2tleXM9JUtFWVMlXCIsXG4gICAgICAgICAgICBhZ2dyZWdhdGUgOiBcIi9hdXRvY29uZi9pZC9cIlxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiB1cmxcbiAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0ga2V5XG4gICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsXG4gICAgICAgICovXG4gICAgICAgIHVybCA6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkgJiYga2V5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBrZXlzID0ga2V5WzBdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwga2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMgKz0gXCIsXCIgKyBrZXlbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhcGlLZXkgOiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5LCB0aGlzLl9rZXlbXCJhcGlLZXlcIl0pLCAvLyB1bmUgc2V1bGUgY2zDqVxuICAgICAgICAgICAgICAgIGFwaUtleXMgOiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5WzBdLCB0aGlzLl9rZXlbXCJhcGlLZXlzXCJdKS5yZXBsYWNlKFwiJUtFWVMlXCIsIGtleXMpLCAvLyBhdXRvY29uZiBkZSBwbHVzaWV1cnMgY2zDqXNcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGUgOiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5LCB0aGlzLl9rZXlbXCJhZ2dyZWdhdGVcIl0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZW9jb2Rpbmcgd2ViIHNlcnZpY2UgYWNjZXNzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gdXJsIChrZXkpIC0gUmV0dXJucyBnZW9jb2Rpbmcgc2VydmljZSBkZWZhdWx0IHVybHMgd2l0aCBvciB3aXRob3V0IGdlb3BvcnRhbCBhY2Nlc3Mga2V5IGdpdmVuIGFzIGEgcGFyYW1ldGVyLiBUaGUgcmVzdWx0IGlzIGEgU3RyaW5nLlxuICAgICAqL1xuICAgIEdlb2NvZGUgOiB7XG4gICAgICAgIF9rZXkgOiBcIi9nZW9wb3J0YWlsL29sc1wiLFxuICAgICAgICAvKipcbiAgICAgICAgKiB1cmxcbiAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0ga2V5XG4gICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsXG4gICAgICAgICovXG4gICAgICAgIHVybCA6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5LCB0aGlzLl9rZXkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSb3V0aW5nIHdlYiBzZXJ2aWNlIGFjY2Vzc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IHVybCAoa2V5KSAtIFJldHVybnMgcm91dGluZyBzZXJ2aWNlIGRlZmF1bHQgdXJscyB3aXRoIG9yIHdpdGhvdXQgZ2VvcG9ydGFsIGFjY2VzcyBrZXkgZ2l2ZW4gYXMgYSBwYXJhbWV0ZXIuIFRoZSByZXN1bHQgaXMgYSBqYXZhc2NyaXB0IG9iamVjdCB3aXRoIGRpZmZlcmVudCB1cmxzIGdpdmVuIHVzZWQgcHJvdG9jb2xzIChcInJvdXRlLWpzb25cIiBvciBcInJvdXRlLXhtbFwiKS5cbiAgICAgKi9cbiAgICBSb3V0ZSA6IHtcbiAgICAgICAgX2tleSA6IHtcbiAgICAgICAgICAgIG9scyA6IFwiL2l0aW5lcmFpcmUvb2xzXCIsIC8vIG9wZW5MU1xuICAgICAgICAgICAgXCJyb3V0ZS1qc29uXCIgOiBcIi9pdGluZXJhaXJlL3Jlc3Qvcm91dGUuanNvblwiLCAvLyByZXN0IChnZW9jb25jZXB0KVxuICAgICAgICAgICAgXCJyb3V0ZS14bWxcIiA6IFwiL2l0aW5lcmFpcmUvcmVzdC9yb3V0ZS54bWxcIiAvLyByZXN0IChnZW9jb25jZXB0KVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiB1cmxcbiAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0ga2V5XG4gICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsXG4gICAgICAgICovXG4gICAgICAgIHVybCA6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb2xzIDogRGVmYXVsdFVybFNlcnZpY2UudXJsKGtleSwgdGhpcy5fa2V5W1wib2xzXCJdKSxcbiAgICAgICAgICAgICAgICBcInJvdXRlLWpzb25cIiA6IERlZmF1bHRVcmxTZXJ2aWNlLnVybChrZXksIHRoaXMuX2tleVtcInJvdXRlLWpzb25cIl0pLFxuICAgICAgICAgICAgICAgIFwicm91dGUteG1sXCIgOiBEZWZhdWx0VXJsU2VydmljZS51cmwoa2V5LCB0aGlzLl9rZXlbXCJyb3V0ZS14bWxcIl0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRGVmYXVsdFVybFNlcnZpY2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/DirectGeocodeResponseReader.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/DirectGeocodeResponseReader.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Response_model_GeocodeResponse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Response/model/GeocodeResponse */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodeResponse.js\");\n/* harmony import */ var _Response_model_DirectGeocodedLocation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Response/model/DirectGeocodedLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/DirectGeocodedLocation.js\");\n\n/**\n * Fonction retournant un objet contenant des clés de lecture (readers)\n *      qui permettent de parser des réponses XML du service de géocodage direct du Géoportail\n *      afin de récupérer les résultats retournés.\n * @module DirectGeocodeResponseReader\n * @alias Gp.Services.Geocode.Formats.DirectGeocodeResponseReader\n * @private\n */\n\n// import Logger from \"../../../Utils/LoggerByDefault\";\n\n\n\n\n\n/**\n * @member DirectGeocodeResponseReader\n */\nvar DirectGeocodeResponseReader = {};\n\n/**\n * @property {String} DirectGeocodeResponseReader.VERSION - version du service de géocodage\n */\nDirectGeocodeResponseReader.VERSION = \"1.2\";\n\n/**\n * Objet stockant les différents namespaces et les URI associées\n */\nDirectGeocodeResponseReader.NAMESPACES = {\n    xmlns : \"http://www.opengis.net/xls\",\n    gml : \"http://www.opengis.net/gml\",\n    xls : \"http://www.opengis.net/xls\",\n    xlsext : \"http://www.opengis.net/xlsext\",\n    xsi : \"http://www.w3.org/2001/XMLSchema-instance\"\n};\n\n/**\n * Localisation (URL) du schema de définition du XML (XSD)\n */\nDirectGeocodeResponseReader.SCHEMALOCATION = \"http://wxs.ign.fr/schemas/olsAll.xsd\";\n\n/**\n * Namespace par défaut du format\n */\nDirectGeocodeResponseReader.DEFAULTPREFIX = \"xls\";\n\n/**\n * Objet contenant des fonctions de lecture, appelées \"READERS\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n */\nDirectGeocodeResponseReader.READERS = {\n\n    xls : {\n\n        /** TODO : jsdoc block */\n        XLS : function (root) {\n            var geocodeResponse = new _Response_model_GeocodeResponse__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n            // vérification de la version du service, et des namespaces de l'en-tête\n            __checkServiceAttributes(root);\n\n            // puis lancement de la lecture de l'ensemble des noeuds, en bouclant sur les childNodes\n            __getChildNodes(root, geocodeResponse);\n\n            return geocodeResponse;\n        },\n\n        /** TODO : jsdoc block */\n        GeocodedAddress : function (node, geocodeResponse) {\n            var geocodedLocation = new _Response_model_DirectGeocodedLocation__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n            __getChildNodes(node, geocodedLocation);\n\n            // Ajout du résultat au tableau geocodedLocations de geocodeReponse\n            if (geocodeResponse && Array.isArray(geocodeResponse.locations)) {\n                geocodeResponse.locations.push(geocodedLocation);\n            }\n        },\n\n        /** TODO : jsdoc block */\n        GeocodeMatchCode : function (node, geocodedLocation) {\n            var acc = node.getAttribute(\"accuracy\");\n            if (acc && geocodedLocation) {\n                geocodedLocation.accuracy = parseFloat(acc);\n            }\n            var matchType = node.getAttribute(\"matchType\");\n            if (matchType && geocodedLocation) {\n                geocodedLocation.matchType = matchType;\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Address : function (node, geocodedLocation) {\n            var countrycode = node.getAttribute(\"countryCode\");\n            if (geocodedLocation && countrycode) {\n                geocodedLocation.type = countrycode;\n            }\n            // on va récupérer les autres informations (StreetAddress, place, postalCode...)\n            __getChildNodes(node, geocodedLocation);\n        },\n\n        /** TODO : jsdoc block */\n        freeFormAddress : function (node, geocodedLocation) {\n            if (geocodedLocation && geocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                geocodedLocation.placeAttributes.freeform = __getChildValue(node);\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Building : function (node, geocodedLocation) {\n            var num = node.getAttribute(\"number\");\n            if (geocodedLocation && geocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                if (num) {\n                    geocodedLocation.placeAttributes.number = num;\n                } else if (node.getAttribute(\"buildingName\")) {\n                    geocodedLocation.placeAttributes.number = node.getAttribute(\"buildingName\");\n                } else if (node.getAttribute(\"subdivision\")) {\n                    geocodedLocation.placeAttributes.number = node.getAttribute(\"subdivision\");\n                }\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Street : function (node, geocodedLocation) {\n            if (geocodedLocation && geocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                // in case of a streetAddress result : street represents the street name\n                if (geocodedLocation.type === \"StreetAddress\") {\n                    geocodedLocation.placeAttributes.street = __getChildValue(node);\n\n                    // in case of a cadastral parcel result : street represents the cadastral parcel identifier\n                } else if (geocodedLocation.type === \"CadastralParcel\") {\n                    geocodedLocation.placeAttributes.cadastralParcel = __getChildValue(node);\n                }\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Place : function (node, geocodedLocation) {\n            var placeType = node.getAttribute(\"type\");\n            var placeName = __getChildValue(node);\n\n            if (geocodedLocation && geocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                if (placeType === \"Municipality\") {\n                    geocodedLocation.placeAttributes.municipality = placeName;\n                } else if (placeType === \"Bbox\") {\n                    var values = placeName.split(\";\");\n                    if (values.length === 4) {\n                        geocodedLocation.placeAttributes.bbox = {\n                            left : parseFloat(values[0]),\n                            right : parseFloat(values[2]),\n                            top : parseFloat(values[1]),\n                            bottom : parseFloat(values[3])\n                        };\n                    }\n                } else if (placeType === \"Commune\") {\n                    geocodedLocation.placeAttributes.commune = placeName;\n                } else if (placeType === \"Departement\") {\n                    geocodedLocation.placeAttributes.department = placeName;\n                } else if (placeType === \"INSEE\") {\n                    geocodedLocation.placeAttributes.insee = placeName;\n                } else if (placeType === \"Qualite\") {\n                    geocodedLocation.placeAttributes.quality = placeName;\n                } else if (placeType === \"Territoire\") {\n                    geocodedLocation.placeAttributes.territory = placeName;\n                } else if (placeType === \"ID\") {\n                    geocodedLocation.placeAttributes.ID = placeName;\n                } else if (placeType === \"ID_TR\") {\n                    geocodedLocation.placeAttributes.IDTR = placeName;\n                } else if (placeType === \"Importance\") {\n                    geocodedLocation.placeAttributes.importance = parseInt(placeName, 10);\n                } else if (placeType === \"Nature\") {\n                    geocodedLocation.placeAttributes.nature = placeName;\n                } else if (placeType === \"Numero\") {\n                    geocodedLocation.placeAttributes.number = placeName;\n                } else if (placeType === \"Feuille\") {\n                    geocodedLocation.placeAttributes.sheet = placeName;\n                } else if (placeType === \"Section\") {\n                    geocodedLocation.placeAttributes.section = placeName;\n                } else if (placeType === \"CommuneAbsorbee\") {\n                    geocodedLocation.placeAttributes.absorbedCity = placeName;\n                } else if (placeType === \"Arrondissement\") {\n                    if (placeName) {\n                        geocodedLocation.placeAttributes.arrondissement = placeName;\n                    }\n                } else if (placeType === \"Type\") {\n                    geocodedLocation.placeAttributes.origin = placeName;\n                } else if (placeType === \"Prefecture\") {\n                    geocodedLocation.placeAttributes.prefecture = placeName;\n                } else if (placeType === \"InseeRegion\") {\n                    geocodedLocation.placeAttributes.inseeRegion = placeName;\n                } else if (placeType === \"InseeDepartment\") {\n                    geocodedLocation.placeAttributes.inseeDepartment = placeName;\n                }\n            }\n        },\n\n        /** TODO : jsdoc block */\n        PostalCode : function (node, geocodedLocation) {\n            if (geocodedLocation && geocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                geocodedLocation.placeAttributes.postalCode = __getChildValue(node);\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Error : function (node) {\n            // on imagine qu'on a une balise ainsi :\n            // <Error message=\"Message...\" errorCode=\"InternalServerError\"/>\n            var srvMess = node.getAttribute(\"message\");\n            var errorCode = node.getAttribute(\"errorCode\");\n            var message = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\",\n                \"(\" + errorCode + \") : \" + srvMess);\n            throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                message : message,\n                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE_SRVERR\n            });\n        }\n    },\n\n    gml : {\n\n        /** TODO : jsdoc block */\n        pos : function (node, geocodedLocation) {\n            var pos = __getChildValue(node);\n            if (geocodedLocation && pos) {\n                geocodedLocation.position = {\n                    x : parseFloat(pos.split(\" \")[0]),\n                    y : parseFloat(pos.split(\" \")[1])\n                };\n            }\n        }\n    },\n\n    /** TODO : jsdoc block */\n    ExceptionReport : function (node) {\n        var response = {};\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                if (child.nodeName === \"Exception\") {\n                    response.exceptionReport = DirectGeocodeResponseReader.READERS[\"Exception\"](child);\n                }\n            }\n        }\n        return response;\n    },\n\n    /** TODO : jsdoc block */\n    Exception : function (node) {\n        var exceptionReport = {};\n\n        // get exception code\n        var exceptionCode = node.getAttribute(\"exceptionCode\");\n        if (exceptionCode) {\n            exceptionReport.exceptionCode = exceptionCode;\n        }\n\n        // get exception message\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            exceptionReport.exception = textNode.nodeValue;\n        }\n\n        return exceptionReport;\n    }\n\n};\n\n/**\n * Méthode permettant de lancer la lecture d'une réponse XML du service de géocodage,\n *      à l'aide des READERS de la classe.\n *\n * @method DirectGeocodeResponseReader.read\n * @param {DOMElement} root - racine de la réponse XML à lire\n * @return {Object} geocodeResponse|exceptionReport : l'objet contenant les informations de la réponse XML,\n *      sous la forme d'un objet GeocodeResponse, ou un objet littéral exceptionReport si le service a renvoyé une exception.\n * @static\n * @memberof DirectGeocodeResponseReader\n */\nDirectGeocodeResponseReader.read = function (root) {\n    if (root.nodeName === \"XLS\") {\n        var nsPrefix = root.prefix;\n        if (!nsPrefix) {\n            nsPrefix = DirectGeocodeResponseReader.DEFAULTPREFIX;\n        }\n        var geocodeResponse = DirectGeocodeResponseReader.READERS[nsPrefix][root.nodeName](root);\n        return geocodeResponse;\n    } else if (root.nodeName === \"ExceptionReport\") {\n        var exceptionReport = DirectGeocodeResponseReader.READERS[root.nodeName](root);\n        return exceptionReport;\n    } else {\n        var mess = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE\", root.nodeName);\n        throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            message : mess,\n            type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE_UNKERR,\n            status : 200\n        });\n    }\n};\n\n/**\n * Récupération des attributs d'un noeud élément\n *\n * @private\n * @memberof DirectGeocodeResponseReader\n * @method __getAttributes\n * @param {DOMElement} node - noeud contenant l'attribut recherché\n * @return {Object} nodeAttributes - objet contenant les noms et valeurs des différents attributs\n */\nfunction __getAttributes (node) {\n    if (node.attributes.length > 0) {\n        var nodeAttributes = {};\n        var attributes = node.attributes;\n        for (var i = 0; i < attributes.length; i++) {\n            var attribute = attributes[i];\n            nodeAttributes[attribute.nodeName] = attribute.nodeValue;\n        }\n        return nodeAttributes;\n    }\n}\n\n/**\n * Récupération des noeuds enfants à partir d'un noeud donné, pour lecture (readNode).\n *\n * @private\n * @memberof DirectGeocodeResponseReader\n * @method __getChildNodes\n * @param {DOMElement} node - a DOM node\n * @param {Array|Object} [data] - an object to be filled with node data\n */\nfunction __getChildNodes (node, data) {\n    if (node.hasChildNodes()) {\n        var children = node.childNodes;\n        var child;\n        var childName;\n        var childPrefix;\n\n        for (var i = 0; i < children.length; i++) {\n            child = children[i];\n\n            if (child.nodeType === 1) { // 1 === node.ELEMENT_NODE\n                childName = child.localName || child.baseName || child.nodeName;\n                childPrefix = child.prefix || DirectGeocodeResponseReader.DEFAULTPREFIX;\n\n                if (DirectGeocodeResponseReader.READERS[childPrefix][childName]) {\n                    var reader = DirectGeocodeResponseReader.READERS[childPrefix][childName];\n                    reader(child, data);\n                } else {\n                    __getChildNodes(child, data);\n                }\n            }\n        }\n    }\n}\n\n/**\n * Lecture de la valeur du premier child d'un noeud, si elle existe.\n *\n * @private\n * @memberof DirectGeocodeResponseReader\n * @method __getChildValue\n * @param {DOMElement} node - a DOM node\n * @return {String} value - valeur du firstChild du noeud en entrée, ou chaîne vide.\n */\nfunction __getChildValue (node) {\n    var textNode;\n    var value = \"\";\n\n    if (node.hasChildNodes()) {\n        textNode = node.firstChild;\n        if (textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            value = textNode.nodeValue;\n        }\n    }\n    return value;\n}\n\n/**\n * Vérification des attributs du service, dans la balise XLS de la réponse :\n *      version, namespaces, et namespace par défaut doivent correspondre à ceux attendus.\n *\n * @private\n * @memberof DirectGeocodeResponseReader\n * @method __checkServiceAttributes\n * @param {DOMElement} XLSNode - a DOM node, corresponding to XLS first tag.\n */\nfunction __checkServiceAttributes (XLSNode) {\n    if (XLSNode.attributes.length > 0) {\n        // on récupère et parcourt les attributs de la balise XLS de la réponse\n        var xlsAttributes = __getAttributes(XLSNode);\n        for (var att in xlsAttributes) {\n            if (xlsAttributes.hasOwnProperty(att)) {\n                // vérification de la version\n                if (att === \"version\") {\n                    if (xlsAttributes[\"version\"] !== DirectGeocodeResponseReader.VERSION) {\n                        console.log(\"[DirectGeocodeResponseReader] geocode version is not the expected one : there may be errors in parsing\");\n                        return;\n                    }\n                }\n\n                // on vérifie que l'uri du namespace par défaut est bien celle que l'on attend\n                if (att === \"xmlns\") {\n                    if (xlsAttributes[att] !== DirectGeocodeResponseReader.NAMESPACES[DirectGeocodeResponseReader.DEFAULTPREFIX]) {\n                        console.log(\"[DirectGeocodeResponseReader] geocode response default namespace is not the expected one\");\n                        return;\n                    }\n                    continue;\n                }\n\n                var prefix = att.split(\":\")[0];\n                var ns = att.split(\":\")[1];\n\n                // si on a un autre xmlns, on vérifie aussi les URI\n                if (prefix === \"xmlns\" && ns) {\n                    // si l'attribut correspond à un namespace défini dans le reader\n                    if (DirectGeocodeResponseReader.NAMESPACES[ns]) {\n                        // il faut que les URI correspondent aussi.\n                        if (DirectGeocodeResponseReader.NAMESPACES[ns] !== xlsAttributes[att]) {\n                            console.log(\"[DirectGeocodeResponseReader] geocode response \" + att + \" namespace is not the expected one\");\n                            return;\n                        }\n                    }\n                }\n\n                // pour finir on vérifie la localisation du schema XSD du service\n                if (ns === \"schemaLocation\") {\n                    if (DirectGeocodeResponseReader.SCHEMALOCATION !== xlsAttributes[att]) {\n                        console.log(\"[DirectGeocodeResponseReader] geocode response schema location is not the expected one\");\n                        return;\n                    }\n                }\n            }\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DirectGeocodeResponseReader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9Gb3JtYXRzL0RpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlci5qcz8yNGMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0Q7QUFDSTtBQUNVO0FBQ2M7O0FBRTlFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLHVFQUFlOztBQUVyRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSx1Q0FBdUMsOEVBQXNCOztBQUU3RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0VBQUU7QUFDNUI7QUFDQSxzQkFBc0IsZ0VBQU07QUFDNUI7QUFDQSx1QkFBdUIsZ0VBQU07QUFDN0IsYUFBYTtBQUNiO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFCQUFxQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLGdFQUFFO0FBQ3JCLGtCQUFrQixnRUFBTTtBQUN4QjtBQUNBLG1CQUFtQixnRUFBTTtBQUN6QjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLHFCQUFxQjtBQUM1Qzs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSwwRkFBMkIsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9Gb3JtYXRzL0RpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBGb25jdGlvbiByZXRvdXJuYW50IHVuIG9iamV0IGNvbnRlbmFudCBkZXMgY2zDqXMgZGUgbGVjdHVyZSAocmVhZGVycylcbiAqICAgICAgcXVpIHBlcm1ldHRlbnQgZGUgcGFyc2VyIGRlcyByw6lwb25zZXMgWE1MIGR1IHNlcnZpY2UgZGUgZ8Opb2NvZGFnZSBkaXJlY3QgZHUgR8Opb3BvcnRhaWxcbiAqICAgICAgYWZpbiBkZSByw6ljdXDDqXJlciBsZXMgcsOpc3VsdGF0cyByZXRvdXJuw6lzLlxuICogQG1vZHVsZSBEaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXJcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5HZW9jb2RlLkZvcm1hdHMuRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKiBAcHJpdmF0ZVxuICovXG5cbi8vIGltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IE1SIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEVyclNydiBmcm9tIFwiLi4vLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBHZW9jb2RlUmVzcG9uc2UgZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL0dlb2NvZGVSZXNwb25zZVwiO1xuaW1wb3J0IERpcmVjdEdlb2NvZGVkTG9jYXRpb24gZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL0RpcmVjdEdlb2NvZGVkTG9jYXRpb25cIjtcblxuLyoqXG4gKiBAbWVtYmVyIERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlclxuICovXG52YXIgRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyID0ge307XG5cbi8qKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlci5WRVJTSU9OIC0gdmVyc2lvbiBkdSBzZXJ2aWNlIGRlIGfDqW9jb2RhZ2VcbiAqL1xuRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlZFUlNJT04gPSBcIjEuMlwiO1xuXG4vKipcbiAqIE9iamV0IHN0b2NrYW50IGxlcyBkaWZmw6lyZW50cyBuYW1lc3BhY2VzIGV0IGxlcyBVUkkgYXNzb2Npw6llc1xuICovXG5EaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXIuTkFNRVNQQUNFUyA9IHtcbiAgICB4bWxucyA6IFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHNcIixcbiAgICBnbWwgOiBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsXG4gICAgeGxzIDogXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3hsc1wiLFxuICAgIHhsc2V4dCA6IFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHNleHRcIixcbiAgICB4c2kgOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCJcbn07XG5cbi8qKlxuICogTG9jYWxpc2F0aW9uIChVUkwpIGR1IHNjaGVtYSBkZSBkw6lmaW5pdGlvbiBkdSBYTUwgKFhTRClcbiAqL1xuRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlNDSEVNQUxPQ0FUSU9OID0gXCJodHRwOi8vd3hzLmlnbi5mci9zY2hlbWFzL29sc0FsbC54c2RcIjtcblxuLyoqXG4gKiBOYW1lc3BhY2UgcGFyIGTDqWZhdXQgZHUgZm9ybWF0XG4gKi9cbkRpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlci5ERUZBVUxUUFJFRklYID0gXCJ4bHNcIjtcblxuLyoqXG4gKiBPYmpldCBjb250ZW5hbnQgZGVzIGZvbmN0aW9ucyBkZSBsZWN0dXJlLCBhcHBlbMOpZXMgXCJSRUFERVJTXCJcbiAqICAgICAgZG9udCBjaGFxdWUgY2zDqSBjb3JyZXNwb25kIGF1IG5vbSBkJ3VuIHRhZyBkdSBYTUwgcXVlIGwnb24gc291aGFpdGUgbGlyZVxuICogICAgICBldCBsYSB2YWxldXIgYXNzb2Npw6llIGVzdCB1bmUgZm9uY3Rpb24gKG5vZGUsIGRhdGEpXG4gKiAgICAgIG/DuSBub2RlIGVzdCB1biBub2V1ZCBkdSBkb2N1bWVudCBET01cbiAqICAgICAgZXQgZGF0YSBlc3QgdW4gb2JqZXQgb8O5IGwnb24gc3RvY2tlIGxlcyBpbmZvcm1hdGlvbnMgbHVlcyBkYW5zIGxlIFhNTC5cbiAqL1xuRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlJFQURFUlMgPSB7XG5cbiAgICB4bHMgOiB7XG5cbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBYTFMgOiBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICAgICAgdmFyIGdlb2NvZGVSZXNwb25zZSA9IG5ldyBHZW9jb2RlUmVzcG9uc2UoKTtcblxuICAgICAgICAgICAgLy8gdsOpcmlmaWNhdGlvbiBkZSBsYSB2ZXJzaW9uIGR1IHNlcnZpY2UsIGV0IGRlcyBuYW1lc3BhY2VzIGRlIGwnZW4tdMOqdGVcbiAgICAgICAgICAgIF9fY2hlY2tTZXJ2aWNlQXR0cmlidXRlcyhyb290KTtcblxuICAgICAgICAgICAgLy8gcHVpcyBsYW5jZW1lbnQgZGUgbGEgbGVjdHVyZSBkZSBsJ2Vuc2VtYmxlIGRlcyBub2V1ZHMsIGVuIGJvdWNsYW50IHN1ciBsZXMgY2hpbGROb2Rlc1xuICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKHJvb3QsIGdlb2NvZGVSZXNwb25zZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9jb2RlUmVzcG9uc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBHZW9jb2RlZEFkZHJlc3MgOiBmdW5jdGlvbiAobm9kZSwgZ2VvY29kZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgZ2VvY29kZWRMb2NhdGlvbiA9IG5ldyBEaXJlY3RHZW9jb2RlZExvY2F0aW9uKCk7XG5cbiAgICAgICAgICAgIF9fZ2V0Q2hpbGROb2Rlcyhub2RlLCBnZW9jb2RlZExvY2F0aW9uKTtcblxuICAgICAgICAgICAgLy8gQWpvdXQgZHUgcsOpc3VsdGF0IGF1IHRhYmxlYXUgZ2VvY29kZWRMb2NhdGlvbnMgZGUgZ2VvY29kZVJlcG9uc2VcbiAgICAgICAgICAgIGlmIChnZW9jb2RlUmVzcG9uc2UgJiYgQXJyYXkuaXNBcnJheShnZW9jb2RlUmVzcG9uc2UubG9jYXRpb25zKSkge1xuICAgICAgICAgICAgICAgIGdlb2NvZGVSZXNwb25zZS5sb2NhdGlvbnMucHVzaChnZW9jb2RlZExvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEdlb2NvZGVNYXRjaENvZGUgOiBmdW5jdGlvbiAobm9kZSwgZ2VvY29kZWRMb2NhdGlvbikge1xuICAgICAgICAgICAgdmFyIGFjYyA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiYWNjdXJhY3lcIik7XG4gICAgICAgICAgICBpZiAoYWNjICYmIGdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLmFjY3VyYWN5ID0gcGFyc2VGbG9hdChhY2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1hdGNoVHlwZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwibWF0Y2hUeXBlXCIpO1xuICAgICAgICAgICAgaWYgKG1hdGNoVHlwZSAmJiBnZW9jb2RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgZ2VvY29kZWRMb2NhdGlvbi5tYXRjaFR5cGUgPSBtYXRjaFR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBBZGRyZXNzIDogZnVuY3Rpb24gKG5vZGUsIGdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBjb3VudHJ5Y29kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiY291bnRyeUNvZGVcIik7XG4gICAgICAgICAgICBpZiAoZ2VvY29kZWRMb2NhdGlvbiAmJiBjb3VudHJ5Y29kZSkge1xuICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24udHlwZSA9IGNvdW50cnljb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb24gdmEgcsOpY3Vww6lyZXIgbGVzIGF1dHJlcyBpbmZvcm1hdGlvbnMgKFN0cmVldEFkZHJlc3MsIHBsYWNlLCBwb3N0YWxDb2RlLi4uKVxuICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKG5vZGUsIGdlb2NvZGVkTG9jYXRpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgZnJlZUZvcm1BZGRyZXNzIDogZnVuY3Rpb24gKG5vZGUsIGdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChnZW9jb2RlZExvY2F0aW9uICYmIGdlb2NvZGVkTG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJwbGFjZUF0dHJpYnV0ZXNcIikpIHtcbiAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5mcmVlZm9ybSA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEJ1aWxkaW5nIDogZnVuY3Rpb24gKG5vZGUsIGdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBudW0gPSBub2RlLmdldEF0dHJpYnV0ZShcIm51bWJlclwiKTtcbiAgICAgICAgICAgIGlmIChnZW9jb2RlZExvY2F0aW9uICYmIGdlb2NvZGVkTG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJwbGFjZUF0dHJpYnV0ZXNcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAobnVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLm51bWJlciA9IG51bTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiYnVpbGRpbmdOYW1lXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLm51bWJlciA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiYnVpbGRpbmdOYW1lXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoXCJzdWJkaXZpc2lvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5udW1iZXIgPSBub2RlLmdldEF0dHJpYnV0ZShcInN1YmRpdmlzaW9uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFN0cmVldCA6IGZ1bmN0aW9uIChub2RlLCBnZW9jb2RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZ2VvY29kZWRMb2NhdGlvbiAmJiBnZW9jb2RlZExvY2F0aW9uLmhhc093blByb3BlcnR5KFwicGxhY2VBdHRyaWJ1dGVzXCIpKSB7XG4gICAgICAgICAgICAgICAgLy8gaW4gY2FzZSBvZiBhIHN0cmVldEFkZHJlc3MgcmVzdWx0IDogc3RyZWV0IHJlcHJlc2VudHMgdGhlIHN0cmVldCBuYW1lXG4gICAgICAgICAgICAgICAgaWYgKGdlb2NvZGVkTG9jYXRpb24udHlwZSA9PT0gXCJTdHJlZXRBZGRyZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuc3RyZWV0ID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugb2YgYSBjYWRhc3RyYWwgcGFyY2VsIHJlc3VsdCA6IHN0cmVldCByZXByZXNlbnRzIHRoZSBjYWRhc3RyYWwgcGFyY2VsIGlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdlb2NvZGVkTG9jYXRpb24udHlwZSA9PT0gXCJDYWRhc3RyYWxQYXJjZWxcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5jYWRhc3RyYWxQYXJjZWwgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgUGxhY2UgOiBmdW5jdGlvbiAobm9kZSwgZ2VvY29kZWRMb2NhdGlvbikge1xuICAgICAgICAgICAgdmFyIHBsYWNlVHlwZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtcbiAgICAgICAgICAgIHZhciBwbGFjZU5hbWUgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG5cbiAgICAgICAgICAgIGlmIChnZW9jb2RlZExvY2F0aW9uICYmIGdlb2NvZGVkTG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJwbGFjZUF0dHJpYnV0ZXNcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VUeXBlID09PSBcIk11bmljaXBhbGl0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLm11bmljaXBhbGl0eSA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJCYm94XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHBsYWNlTmFtZS5zcGxpdChcIjtcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5iYm94ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgOiBwYXJzZUZsb2F0KHZhbHVlc1swXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgOiBwYXJzZUZsb2F0KHZhbHVlc1syXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wIDogcGFyc2VGbG9hdCh2YWx1ZXNbMV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA6IHBhcnNlRmxvYXQodmFsdWVzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIkNvbW11bmVcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5jb21tdW5lID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIkRlcGFydGVtZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuZGVwYXJ0bWVudCA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJJTlNFRVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLmluc2VlID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIlF1YWxpdGVcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5xdWFsaXR5ID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIlRlcnJpdG9pcmVcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy50ZXJyaXRvcnkgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiSURcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5JRCA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJJRF9UUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLklEVFIgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiSW1wb3J0YW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLmltcG9ydGFuY2UgPSBwYXJzZUludChwbGFjZU5hbWUsIDEwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJOYXR1cmVcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5uYXR1cmUgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiTnVtZXJvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMubnVtYmVyID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIkZldWlsbGVcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5zaGVldCA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJTZWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuc2VjdGlvbiA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJDb21tdW5lQWJzb3JiZWVcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5hYnNvcmJlZENpdHkgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiQXJyb25kaXNzZW1lbnRcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5hcnJvbmRpc3NlbWVudCA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIlR5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5vcmlnaW4gPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiUHJlZmVjdHVyZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLnByZWZlY3R1cmUgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiSW5zZWVSZWdpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5pbnNlZVJlZ2lvbiA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJJbnNlZURlcGFydG1lbnRcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5pbnNlZURlcGFydG1lbnQgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgUG9zdGFsQ29kZSA6IGZ1bmN0aW9uIChub2RlLCBnZW9jb2RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZ2VvY29kZWRMb2NhdGlvbiAmJiBnZW9jb2RlZExvY2F0aW9uLmhhc093blByb3BlcnR5KFwicGxhY2VBdHRyaWJ1dGVzXCIpKSB7XG4gICAgICAgICAgICAgICAgZ2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMucG9zdGFsQ29kZSA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEVycm9yIDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIC8vIG9uIGltYWdpbmUgcXUnb24gYSB1bmUgYmFsaXNlIGFpbnNpIDpcbiAgICAgICAgICAgIC8vIDxFcnJvciBtZXNzYWdlPVwiTWVzc2FnZS4uLlwiIGVycm9yQ29kZT1cIkludGVybmFsU2VydmVyRXJyb3JcIi8+XG4gICAgICAgICAgICB2YXIgc3J2TWVzcyA9IG5vZGUuZ2V0QXR0cmlidXRlKFwibWVzc2FnZVwiKTtcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBub2RlLmdldEF0dHJpYnV0ZShcImVycm9yQ29kZVwiKTtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gTVIuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXCIsXG4gICAgICAgICAgICAgICAgXCIoXCIgKyBlcnJvckNvZGUgKyBcIikgOiBcIiArIHNydk1lc3MpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVyclNydih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdHlwZSA6IEVyclNydi5UWVBFX1NSVkVSUlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ21sIDoge1xuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgcG9zIDogZnVuY3Rpb24gKG5vZGUsIGdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICBpZiAoZ2VvY29kZWRMb2NhdGlvbiAmJiBwb3MpIHtcbiAgICAgICAgICAgICAgICBnZW9jb2RlZExvY2F0aW9uLnBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB4IDogcGFyc2VGbG9hdChwb3Muc3BsaXQoXCIgXCIpWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgeSA6IHBhcnNlRmxvYXQocG9zLnNwbGl0KFwiIFwiKVsxXSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICBFeGNlcHRpb25SZXBvcnQgOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgY2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZU5hbWUgPT09IFwiRXhjZXB0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZXhjZXB0aW9uUmVwb3J0ID0gRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbXCJFeGNlcHRpb25cIl0oY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSxcblxuICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICBFeGNlcHRpb24gOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgZXhjZXB0aW9uUmVwb3J0ID0ge307XG5cbiAgICAgICAgLy8gZ2V0IGV4Y2VwdGlvbiBjb2RlXG4gICAgICAgIHZhciBleGNlcHRpb25Db2RlID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJleGNlcHRpb25Db2RlXCIpO1xuICAgICAgICBpZiAoZXhjZXB0aW9uQ29kZSkge1xuICAgICAgICAgICAgZXhjZXB0aW9uUmVwb3J0LmV4Y2VwdGlvbkNvZGUgPSBleGNlcHRpb25Db2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4Y2VwdGlvbiBtZXNzYWdlXG4gICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHRleHROb2RlICYmIHRleHROb2RlLm5vZGVUeXBlID09PSAzKSB7IC8vIDMgPT09IG5vZGUuVEVYVF9OT0RFXG4gICAgICAgICAgICBleGNlcHRpb25SZXBvcnQuZXhjZXB0aW9uID0gdGV4dE5vZGUubm9kZVZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4Y2VwdGlvblJlcG9ydDtcbiAgICB9XG5cbn07XG5cbi8qKlxuICogTcOpdGhvZGUgcGVybWV0dGFudCBkZSBsYW5jZXIgbGEgbGVjdHVyZSBkJ3VuZSByw6lwb25zZSBYTUwgZHUgc2VydmljZSBkZSBnw6lvY29kYWdlLFxuICogICAgICDDoCBsJ2FpZGUgZGVzIFJFQURFUlMgZGUgbGEgY2xhc3NlLlxuICpcbiAqIEBtZXRob2QgRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLnJlYWRcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdCAtIHJhY2luZSBkZSBsYSByw6lwb25zZSBYTUwgw6AgbGlyZVxuICogQHJldHVybiB7T2JqZWN0fSBnZW9jb2RlUmVzcG9uc2V8ZXhjZXB0aW9uUmVwb3J0IDogbCdvYmpldCBjb250ZW5hbnQgbGVzIGluZm9ybWF0aW9ucyBkZSBsYSByw6lwb25zZSBYTUwsXG4gKiAgICAgIHNvdXMgbGEgZm9ybWUgZCd1biBvYmpldCBHZW9jb2RlUmVzcG9uc2UsIG91IHVuIG9iamV0IGxpdHTDqXJhbCBleGNlcHRpb25SZXBvcnQgc2kgbGUgc2VydmljZSBhIHJlbnZvecOpIHVuZSBleGNlcHRpb24uXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKi9cbkRpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlci5yZWFkID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICBpZiAocm9vdC5ub2RlTmFtZSA9PT0gXCJYTFNcIikge1xuICAgICAgICB2YXIgbnNQcmVmaXggPSByb290LnByZWZpeDtcbiAgICAgICAgaWYgKCFuc1ByZWZpeCkge1xuICAgICAgICAgICAgbnNQcmVmaXggPSBEaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXIuREVGQVVMVFBSRUZJWDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2VvY29kZVJlc3BvbnNlID0gRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbbnNQcmVmaXhdW3Jvb3Qubm9kZU5hbWVdKHJvb3QpO1xuICAgICAgICByZXR1cm4gZ2VvY29kZVJlc3BvbnNlO1xuICAgIH0gZWxzZSBpZiAocm9vdC5ub2RlTmFtZSA9PT0gXCJFeGNlcHRpb25SZXBvcnRcIikge1xuICAgICAgICB2YXIgZXhjZXB0aW9uUmVwb3J0ID0gRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbcm9vdC5ub2RlTmFtZV0ocm9vdCk7XG4gICAgICAgIHJldHVybiBleGNlcHRpb25SZXBvcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1lc3MgPSBNUi5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9BTkFMWVNFXCIsIHJvb3Qubm9kZU5hbWUpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyU3J2KHtcbiAgICAgICAgICAgIG1lc3NhZ2UgOiBtZXNzLFxuICAgICAgICAgICAgdHlwZSA6IEVyclNydi5UWVBFX1VOS0VSUixcbiAgICAgICAgICAgIHN0YXR1cyA6IDIwMFxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFLDqWN1cMOpcmF0aW9uIGRlcyBhdHRyaWJ1dHMgZCd1biBub2V1ZCDDqWzDqW1lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlclxuICogQG1ldGhvZCBfX2dldEF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSAtIG5vZXVkIGNvbnRlbmFudCBsJ2F0dHJpYnV0IHJlY2hlcmNow6lcbiAqIEByZXR1cm4ge09iamVjdH0gbm9kZUF0dHJpYnV0ZXMgLSBvYmpldCBjb250ZW5hbnQgbGVzIG5vbXMgZXQgdmFsZXVycyBkZXMgZGlmZsOpcmVudHMgYXR0cmlidXRzXG4gKi9cbmZ1bmN0aW9uIF9fZ2V0QXR0cmlidXRlcyAobm9kZSkge1xuICAgIGlmIChub2RlLmF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgbm9kZUF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBub2RlQXR0cmlidXRlc1thdHRyaWJ1dGUubm9kZU5hbWVdID0gYXR0cmlidXRlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZUF0dHJpYnV0ZXM7XG4gICAgfVxufVxuXG4vKipcbiAqIFLDqWN1cMOpcmF0aW9uIGRlcyBub2V1ZHMgZW5mYW50cyDDoCBwYXJ0aXIgZCd1biBub2V1ZCBkb25uw6ksIHBvdXIgbGVjdHVyZSAocmVhZE5vZGUpLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKiBAbWV0aG9kIF9fZ2V0Q2hpbGROb2Rlc1xuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gYSBET00gbm9kZVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IFtkYXRhXSAtIGFuIG9iamVjdCB0byBiZSBmaWxsZWQgd2l0aCBub2RlIGRhdGFcbiAqL1xuZnVuY3Rpb24gX19nZXRDaGlsZE5vZGVzIChub2RlLCBkYXRhKSB7XG4gICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICB2YXIgY2hpbGROYW1lO1xuICAgICAgICB2YXIgY2hpbGRQcmVmaXg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSB7IC8vIDEgPT09IG5vZGUuRUxFTUVOVF9OT0RFXG4gICAgICAgICAgICAgICAgY2hpbGROYW1lID0gY2hpbGQubG9jYWxOYW1lIHx8IGNoaWxkLmJhc2VOYW1lIHx8IGNoaWxkLm5vZGVOYW1lO1xuICAgICAgICAgICAgICAgIGNoaWxkUHJlZml4ID0gY2hpbGQucHJlZml4IHx8IERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlci5ERUZBVUxUUFJFRklYO1xuXG4gICAgICAgICAgICAgICAgaWYgKERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlci5SRUFERVJTW2NoaWxkUHJlZml4XVtjaGlsZE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBEaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXIuUkVBREVSU1tjaGlsZFByZWZpeF1bY2hpbGROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyKGNoaWxkLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfX2dldENoaWxkTm9kZXMoY2hpbGQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBMZWN0dXJlIGRlIGxhIHZhbGV1ciBkdSBwcmVtaWVyIGNoaWxkIGQndW4gbm9ldWQsIHNpIGVsbGUgZXhpc3RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKiBAbWV0aG9kIF9fZ2V0Q2hpbGRWYWx1ZVxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gYSBET00gbm9kZVxuICogQHJldHVybiB7U3RyaW5nfSB2YWx1ZSAtIHZhbGV1ciBkdSBmaXJzdENoaWxkIGR1IG5vZXVkIGVuIGVudHLDqWUsIG91IGNoYcOubmUgdmlkZS5cbiAqL1xuZnVuY3Rpb24gX19nZXRDaGlsZFZhbHVlIChub2RlKSB7XG4gICAgdmFyIHRleHROb2RlO1xuICAgIHZhciB2YWx1ZSA9IFwiXCI7XG5cbiAgICBpZiAobm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh0ZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMykgeyAvLyAzID09PSBub2RlLlRFWFRfTk9ERVxuICAgICAgICAgICAgdmFsdWUgPSB0ZXh0Tm9kZS5ub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFbDqXJpZmljYXRpb24gZGVzIGF0dHJpYnV0cyBkdSBzZXJ2aWNlLCBkYW5zIGxhIGJhbGlzZSBYTFMgZGUgbGEgcsOpcG9uc2UgOlxuICogICAgICB2ZXJzaW9uLCBuYW1lc3BhY2VzLCBldCBuYW1lc3BhY2UgcGFyIGTDqWZhdXQgZG9pdmVudCBjb3JyZXNwb25kcmUgw6AgY2V1eCBhdHRlbmR1cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlclxuICogQG1ldGhvZCBfX2NoZWNrU2VydmljZUF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gWExTTm9kZSAtIGEgRE9NIG5vZGUsIGNvcnJlc3BvbmRpbmcgdG8gWExTIGZpcnN0IHRhZy5cbiAqL1xuZnVuY3Rpb24gX19jaGVja1NlcnZpY2VBdHRyaWJ1dGVzIChYTFNOb2RlKSB7XG4gICAgaWYgKFhMU05vZGUuYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIG9uIHLDqWN1cMOocmUgZXQgcGFyY291cnQgbGVzIGF0dHJpYnV0cyBkZSBsYSBiYWxpc2UgWExTIGRlIGxhIHLDqXBvbnNlXG4gICAgICAgIHZhciB4bHNBdHRyaWJ1dGVzID0gX19nZXRBdHRyaWJ1dGVzKFhMU05vZGUpO1xuICAgICAgICBmb3IgKHZhciBhdHQgaW4geGxzQXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKHhsc0F0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0KSkge1xuICAgICAgICAgICAgICAgIC8vIHbDqXJpZmljYXRpb24gZGUgbGEgdmVyc2lvblxuICAgICAgICAgICAgICAgIGlmIChhdHQgPT09IFwidmVyc2lvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4bHNBdHRyaWJ1dGVzW1widmVyc2lvblwiXSAhPT0gRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlZFUlNJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0RpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlcl0gZ2VvY29kZSB2ZXJzaW9uIGlzIG5vdCB0aGUgZXhwZWN0ZWQgb25lIDogdGhlcmUgbWF5IGJlIGVycm9ycyBpbiBwYXJzaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gb24gdsOpcmlmaWUgcXVlIGwndXJpIGR1IG5hbWVzcGFjZSBwYXIgZMOpZmF1dCBlc3QgYmllbiBjZWxsZSBxdWUgbCdvbiBhdHRlbmRcbiAgICAgICAgICAgICAgICBpZiAoYXR0ID09PSBcInhtbG5zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhsc0F0dHJpYnV0ZXNbYXR0XSAhPT0gRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLk5BTUVTUEFDRVNbRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLkRFRkFVTFRQUkVGSVhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltEaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXJdIGdlb2NvZGUgcmVzcG9uc2UgZGVmYXVsdCBuYW1lc3BhY2UgaXMgbm90IHRoZSBleHBlY3RlZCBvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHByZWZpeCA9IGF0dC5zcGxpdChcIjpcIilbMF07XG4gICAgICAgICAgICAgICAgdmFyIG5zID0gYXR0LnNwbGl0KFwiOlwiKVsxXTtcblxuICAgICAgICAgICAgICAgIC8vIHNpIG9uIGEgdW4gYXV0cmUgeG1sbnMsIG9uIHbDqXJpZmllIGF1c3NpIGxlcyBVUklcbiAgICAgICAgICAgICAgICBpZiAocHJlZml4ID09PSBcInhtbG5zXCIgJiYgbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2kgbCdhdHRyaWJ1dCBjb3JyZXNwb25kIMOgIHVuIG5hbWVzcGFjZSBkw6lmaW5pIGRhbnMgbGUgcmVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChEaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXIuTkFNRVNQQUNFU1tuc10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlsIGZhdXQgcXVlIGxlcyBVUkkgY29ycmVzcG9uZGVudCBhdXNzaS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChEaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXIuTkFNRVNQQUNFU1tuc10gIT09IHhsc0F0dHJpYnV0ZXNbYXR0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0RpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlcl0gZ2VvY29kZSByZXNwb25zZSBcIiArIGF0dCArIFwiIG5hbWVzcGFjZSBpcyBub3QgdGhlIGV4cGVjdGVkIG9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBwb3VyIGZpbmlyIG9uIHbDqXJpZmllIGxhIGxvY2FsaXNhdGlvbiBkdSBzY2hlbWEgWFNEIGR1IHNlcnZpY2VcbiAgICAgICAgICAgICAgICBpZiAobnMgPT09IFwic2NoZW1hTG9jYXRpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyLlNDSEVNQUxPQ0FUSU9OICE9PSB4bHNBdHRyaWJ1dGVzW2F0dF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0RpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlcl0gZ2VvY29kZSByZXNwb25zZSBzY2hlbWEgbG9jYXRpb24gaXMgbm90IHRoZSBleHBlY3RlZCBvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/DirectGeocodeResponseReader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/ReverseGeocodeResponseReader.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/ReverseGeocodeResponseReader.js ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Response_model_GeocodeResponse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Response/model/GeocodeResponse */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodeResponse.js\");\n/* harmony import */ var _Response_model_ReverseGeocodedLocation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Response/model/ReverseGeocodedLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/ReverseGeocodedLocation.js\");\n\n/**\n * Fonction retournant un objet contenant des clés de lecture (readers)\n *      qui permettent de parser des réponses XML du service de géocodage inverse du Géoportail\n *      afin de récupérer les résultats retournés.\n * @module ReverseGeocodeResponseReader\n * @alias Gp.Services.Geocode.Formats.ReverseGeocodeResponseReader\n * @private\n */\n\n// import Logger from \"../../../Utils/LoggerByDefault\";\n\n\n\n\n\n/**\n * Objet ReverseGeocodeResponseReader\n * @member {Object} ReverseGeocodeResponseReader\n *\n * @property {String} ReverseGeocodeResponseReader.VERSION - Version du service de géocodage\n *\n * @property {Object} ReverseGeocodeResponseReader.NAMESPACES - Objet stockant les différents namespaces et les URI associées\n *\n * @property {String} ReverseGeocodeResponseReader.SCHEMALOCATION - Localisation (URL) du schema de définition du XML (XSD)\n *\n * @property {String} ReverseGeocodeResponseReader.DEFAULTPREFIX - Namespace par défaut du format\n *\n * @property {Object} ReverseGeocodeResponseReader.READERS - Objet contenant des fonctions de lecture, appelées \"READERS\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n *\n * @property {Method} ReverseGeocodeResponseReader.read - Méthode permettant de lancer la lecture d'une réponse XML du service de géocodage,\n *      à l'aide des READERS de la classe.\n *\n */\n\nvar ReverseGeocodeResponseReader = {};\n\n/**\n * version du service de géocodage\n */\nReverseGeocodeResponseReader.VERSION = \"1.2\";\n\n/**\n * Objet stockant les différents namespaces et les URI associées\n */\nReverseGeocodeResponseReader.NAMESPACES = {\n    xmlns : \"http://www.opengis.net/xls\",\n    gml : \"http://www.opengis.net/gml\",\n    xls : \"http://www.opengis.net/xls\",\n    xlsext : \"http://www.opengis.net/xlsext\",\n    xsi : \"http://www.w3.org/2001/XMLSchema-instance\"\n};\n\n/**\n * Localisation (URL) du schema de définition du XML (XSD)\n */\nReverseGeocodeResponseReader.SCHEMALOCATION = \"http://wxs.ign.fr/schemas/olsAll.xsd\";\n\n/**\n * Namespace par défaut du format\n */\nReverseGeocodeResponseReader.DEFAULTPREFIX = \"xls\";\n\n/**\n * Objet contenant des fonctions de lecture, appelées \"READERS\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n */\nReverseGeocodeResponseReader.READERS = {\n\n    xls : {\n\n        /** TODO : jsdoc block */\n        XLS : function (root) {\n            var reverseGeocodeResponse = new _Response_model_GeocodeResponse__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n            // vérification de la version du service, et des namespaces de l'en-tête\n            __checkServiceAttributes(root);\n\n            // puis lancement de la lecture de l'ensemble des noeuds, en bouclant sur les childNodes\n            __getChildNodes(root, reverseGeocodeResponse);\n\n            return reverseGeocodeResponse;\n        },\n\n        /** TODO : jsdoc block */\n        ReverseGeocodedLocation : function (node, reverseGeocodeResponse) {\n            var reverseGeocodedLocation = new _Response_model_ReverseGeocodedLocation__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n            __getChildNodes(node, reverseGeocodedLocation);\n\n            // Ajout du résultat au tableau locations de reverseGeocodeResponse\n            if (reverseGeocodeResponse && Array.isArray(reverseGeocodeResponse.locations)) {\n                reverseGeocodeResponse.locations.push(reverseGeocodedLocation);\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Address : function (node, reverseGeocodedLocation) {\n            var countrycode = node.getAttribute(\"countryCode\");\n            if (reverseGeocodedLocation && countrycode) {\n                reverseGeocodedLocation.type = countrycode;\n            }\n            // on va récupérer les autres informations (StreetAddress, place, postalCode...)\n            __getChildNodes(node, reverseGeocodedLocation);\n        },\n\n        /** TODO : jsdoc block */\n        Building : function (node, reverseGeocodedLocation) {\n            var num = node.getAttribute(\"number\");\n            if (reverseGeocodedLocation && reverseGeocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                if (num) {\n                    reverseGeocodedLocation.placeAttributes.number = num;\n                } else if (node.getAttribute(\"buildingName\")) {\n                    reverseGeocodedLocation.placeAttributes.number = node.getAttribute(\"buildingName\");\n                } else if (node.getAttribute(\"subdivision\")) {\n                    reverseGeocodedLocation.placeAttributes.number = node.getAttribute(\"subdivision\");\n                }\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Street : function (node, reverseGeocodedLocation) {\n            // in case of a streetAddress result : street represents the street name\n            if (reverseGeocodedLocation.type === \"StreetAddress\") {\n                reverseGeocodedLocation.placeAttributes.street = __getChildValue(node);\n\n                // in case of a cadastral parcel result : street represents the cadastral parcel identifier\n            } else if (reverseGeocodedLocation.type === \"CadastralParcel\") {\n                reverseGeocodedLocation.placeAttributes.cadastralParcel = __getChildValue(node);\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Place : function (node, reverseGeocodedLocation) {\n            var placeType = node.getAttribute(\"type\");\n            var placeName = __getChildValue(node);\n\n            if (reverseGeocodedLocation && reverseGeocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                if (placeType === \"Municipality\") {\n                    reverseGeocodedLocation.placeAttributes.municipality = placeName;\n                } else if (placeType === \"Bbox\") {\n                    var values = placeName.split(\";\");\n                    if (values.length === 4) {\n                        reverseGeocodedLocation.placeAttributes.bbox = {\n                            left : parseFloat(values[0]),\n                            right : parseFloat(values[2]),\n                            top : parseFloat(values[1]),\n                            bottom : parseFloat(values[3])\n                        };\n                    }\n                } else if (placeType === \"Commune\") {\n                    reverseGeocodedLocation.placeAttributes.commune = placeName;\n                } else if (placeType === \"Departement\") {\n                    reverseGeocodedLocation.placeAttributes.department = placeName;\n                } else if (placeType === \"INSEE\") {\n                    reverseGeocodedLocation.placeAttributes.insee = placeName;\n                } else if (placeType === \"Qualite\") {\n                    reverseGeocodedLocation.placeAttributes.quality = placeName;\n                } else if (placeType === \"Territoire\") {\n                    reverseGeocodedLocation.placeAttributes.territory = placeName;\n                } else if (placeType === \"ID\") {\n                    reverseGeocodedLocation.placeAttributes.ID = placeName;\n                } else if (placeType === \"ID_TR\") {\n                    reverseGeocodedLocation.placeAttributes.IDTR = placeName;\n                } else if (placeType === \"Importance\") {\n                    reverseGeocodedLocation.placeAttributes.importance = parseInt(placeName, 10);\n                } else if (placeType === \"Nature\") {\n                    reverseGeocodedLocation.placeAttributes.nature = placeName;\n                } else if (placeType === \"Numero\") {\n                    reverseGeocodedLocation.placeAttributes.number = placeName;\n                } else if (placeType === \"Feuille\") {\n                    reverseGeocodedLocation.placeAttributes.sheet = placeName;\n                } else if (placeType === \"Section\") {\n                    reverseGeocodedLocation.placeAttributes.section = placeName;\n                } else if (placeType === \"CommuneAbsorbee\") {\n                    reverseGeocodedLocation.placeAttributes.absorbedCity = placeName;\n                } else if (placeType === \"Arrondissement\") {\n                    if (placeName) {\n                        reverseGeocodedLocation.placeAttributes.arrondissement = placeName;\n                    }\n                } else if (placeType === \"Type\") {\n                    reverseGeocodedLocation.placeAttributes.origin = placeName;\n                } else if (placeType === \"Prefecture\") {\n                    reverseGeocodedLocation.placeAttributes.prefecture = placeName;\n                } else if (placeType === \"InseeRegion\") {\n                    reverseGeocodedLocation.placeAttributes.inseeRegion = placeName;\n                } else if (placeType === \"InseeDepartment\") {\n                    reverseGeocodedLocation.placeAttributes.inseeDepartment = placeName;\n                }\n            }\n        },\n\n        /** TODO : jsdoc block */\n        PostalCode : function (node, reverseGeocodedLocation) {\n            if (reverseGeocodedLocation && reverseGeocodedLocation.hasOwnProperty(\"placeAttributes\")) {\n                reverseGeocodedLocation.placeAttributes.postalCode = __getChildValue(node);\n            }\n        },\n\n        /** TODO : jsdoc block */\n        SearchCentreDistance : function (node, reverseGeocodedLocation) {\n            if (reverseGeocodedLocation) {\n                reverseGeocodedLocation.searchCenterDistance = parseFloat(node.getAttribute(\"value\"));\n            }\n        },\n\n        /** TODO : jsdoc block */\n        Error : function (node) {\n            // <Error message=\"For input string : &quot;2,45&quot;\" errorCode=\"InternalServerError\"/>\n            var srvMess = node.getAttribute(\"message\");\n            var errorCode = node.getAttribute(\"errorCode\");\n            var message = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\",\n                \"(\" + errorCode + \") : \" + srvMess);\n            throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                message : message,\n                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE_SRVERR\n            });\n        }\n    },\n\n    gml : {\n\n        /** TODO : jsdoc block */\n        pos : function (node, reverseGeocodedLocation) {\n            var pos = __getChildValue(node);\n            if (reverseGeocodedLocation && pos) {\n                reverseGeocodedLocation.position = {\n                    x : parseFloat(pos.split(\" \")[0]),\n                    y : parseFloat(pos.split(\" \")[1])\n                };\n            }\n        }\n    },\n\n    xlsext : {\n        /** TODO : jsdoc block */\n        ExtendedGeocodeMatchCode : function (node, reverseGeocodedLocation) {\n            if (reverseGeocodedLocation) {\n                reverseGeocodedLocation.matchType = __getChildValue(node);\n            }\n        }\n    },\n\n    /** TODO : jsdoc block */\n    ExceptionReport : function (node) {\n        var response = {};\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                if (child.nodeName === \"Exception\") {\n                    response.exceptionReport = ReverseGeocodeResponseReader.READERS[\"Exception\"](child);\n                }\n            }\n        }\n        return response;\n    },\n\n    /** TODO : jsdoc block */\n    Exception : function (node) {\n        var exceptionReport = {};\n\n        // get exception code\n        var exceptionCode = node.getAttribute(\"exceptionCode\");\n        if (exceptionCode) {\n            exceptionReport.exceptionCode = exceptionCode;\n        }\n\n        // get exception message\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            exceptionReport.exception = textNode.nodeValue;\n        }\n\n        return exceptionReport;\n    }\n\n};\n\n/**\n * Méthode permettant de lancer la lecture d'une réponse XML du service de géocodage,\n *      à l'aide des READERS de la classe.\n *\n * @method ReverseGeocodeResponseReader.read\n * @param {DOMElement} root - racine de la réponse XML à lire\n * @return {Object} geocodeResponse|exceptionReport : l'objet contenant les informations de la réponse XML,\n *      sous la forme d'un objet GeocodeResponse, ou un objet littéral exceptionReport si le service a renvoyé une exception.\n * @static\n * @memberof ReverseGeocodeResponseReader\n */\nReverseGeocodeResponseReader.read = function (root) {\n    if (root.nodeName === \"XLS\") {\n        var nsPrefix = root.prefix;\n        if (!nsPrefix) {\n            nsPrefix = ReverseGeocodeResponseReader.DEFAULTPREFIX;\n        }\n        var geocodeResponse = ReverseGeocodeResponseReader.READERS[nsPrefix][root.nodeName](root);\n        return geocodeResponse;\n    } else if (root.nodeName === \"ExceptionReport\") {\n        var exceptionReport = ReverseGeocodeResponseReader.READERS[root.nodeName](root);\n        return exceptionReport;\n    } else {\n        throw new Error(\"Erreur lors de la lecture de la réponse : elle n'est pas au format attendu.\");\n    }\n};\n\n/**\n * Récupération des attributs d'un noeud élément\n *\n * @private\n * @memberof ReverseGeocodeResponseReader\n * @method __getAttributes\n * @param {DOMElement} node - noeud contenant l'attribut recherché\n * @return {Object} nodeAttributes - objet contenant les noms et valeurs des différents attributs\n */\nfunction __getAttributes (node) {\n    if (node.attributes.length > 0) {\n        var nodeAttributes = {};\n        var attributes = node.attributes;\n        for (var i = 0; i < attributes.length; i++) {\n            var attribute = attributes[i];\n            nodeAttributes[attribute.nodeName] = attribute.nodeValue;\n        }\n        return nodeAttributes;\n    }\n}\n\n/**\n * Récupération des noeuds enfants à partir d'un noeud donné, pour lecture (readNode).\n *\n * @private\n * @memberof ReverseGeocodeResponseReader\n * @method __getChildNodes\n * @param {DOMElement} node - a DOM node\n * @param {Array|Object} [data] - an object to be filled with node data\n */\nfunction __getChildNodes (node, data) {\n    if (node.hasChildNodes()) {\n        var children = node.childNodes;\n        var child;\n        var childName;\n        var childPrefix;\n\n        for (var i = 0; i < children.length; i++) {\n            child = children[i];\n\n            if (child.nodeType === 1) { // 1 === node.ELEMENT_NODE\n                childName = child.localName || child.baseName || child.nodeName;\n                childPrefix = child.prefix || ReverseGeocodeResponseReader.DEFAULTPREFIX;\n\n                if (ReverseGeocodeResponseReader.READERS[childPrefix][childName]) {\n                    var reader = ReverseGeocodeResponseReader.READERS[childPrefix][childName];\n                    reader(child, data);\n                } else {\n                    __getChildNodes(child, data);\n                }\n            }\n        }\n    }\n}\n\n/**\n * Lecture de la valeur du premier child d'un noeud, si elle existe.\n *\n * @private\n * @memberof ReverseGeocodeResponseReader\n * @method __getChildValue\n * @param {DOMElement} node - a DOM node\n * @return {String} value - valeur du firstChild du noeud en entrée, ou chaîne vide.\n */\nfunction __getChildValue (node) {\n    var textNode;\n    var value = \"\";\n\n    if (node.hasChildNodes()) {\n        textNode = node.firstChild;\n        if (textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            value = textNode.nodeValue;\n        }\n    }\n    return value;\n}\n\n/**\n * Vérification des attributs du service, dans la balise XLS de la réponse :\n *      version, namespaces, et namespace par défaut doivent correspondre à ceux attendus.\n *\n * @private\n * @memberof ReverseGeocodeResponseReader\n * @method __checkServiceAttributes\n * @param {DOMElement} XLSNode - a DOM node, corresponding to XLS first tag.\n */\nfunction __checkServiceAttributes (XLSNode) {\n    if (XLSNode.attributes.length > 0) {\n        // on récupère et parcourt les attributs de la balise XLS de la réponse\n        var xlsAttributes = __getAttributes(XLSNode);\n        for (var att in xlsAttributes) {\n            if (xlsAttributes.hasOwnProperty(att)) {\n                // vérification de la version\n                if (att === \"version\") {\n                    if (xlsAttributes[\"version\"] !== ReverseGeocodeResponseReader.VERSION) {\n                        console.log(\"[ReverseGeocodeResponseReader] geocode version is not the expected one : there may be errors in parsing\");\n                        return;\n                    }\n                }\n\n                // on vérifie que l'uri du namespace par défaut est bien celle que l'on attend\n                if (att === \"xmlns\") {\n                    if (xlsAttributes[att] !== ReverseGeocodeResponseReader.NAMESPACES[ReverseGeocodeResponseReader.DEFAULTPREFIX]) {\n                        console.log(\"[ReverseGeocodeResponseReader] geocode response default namespace is not the expected one\");\n                        return;\n                    }\n                    continue;\n                }\n\n                var prefix = att.split(\":\")[0];\n                var ns = att.split(\":\")[1];\n\n                // si on a un autre xmlns, on vérifie aussi les URI\n                if (prefix === \"xmlns\" && ns) {\n                    // si l'attribut correspond à un namespace défini dans le reader\n                    if (ReverseGeocodeResponseReader.NAMESPACES[ns]) {\n                        // il faut que les URI correspondent aussi.\n                        if (ReverseGeocodeResponseReader.NAMESPACES[ns] !== xlsAttributes[att]) {\n                            console.log(\"[ReverseGeocodeResponseReader] geocode response \" + att + \" namespace is not the expected one\");\n                            return;\n                        }\n                    }\n                }\n\n                // pour finir on vérifie la localisation du schema XSD du service\n                if (ns === \"schemaLocation\") {\n                    if (ReverseGeocodeResponseReader.SCHEMALOCATION !== xlsAttributes[att]) {\n                        console.log(\"[ReverseGeocodeResponseReader] geocode response schema location is not the expected one\");\n                        return;\n                    }\n                }\n            }\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReverseGeocodeResponseReader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9Gb3JtYXRzL1JldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuanM/YjZkNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2tEO0FBQ0k7QUFDaUI7QUFDUzs7QUFFaEY7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMsdUVBQXNCOztBQUVuRTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSw4Q0FBOEMsK0VBQXVCOztBQUVyRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFF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RUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsMkZBQTRCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0dlb2NvZGUvRm9ybWF0cy9SZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIEZvbmN0aW9uIHJldG91cm5hbnQgdW4gb2JqZXQgY29udGVuYW50IGRlcyBjbMOpcyBkZSBsZWN0dXJlIChyZWFkZXJzKVxuICogICAgICBxdWkgcGVybWV0dGVudCBkZSBwYXJzZXIgZGVzIHLDqXBvbnNlcyBYTUwgZHUgc2VydmljZSBkZSBnw6lvY29kYWdlIGludmVyc2UgZHUgR8Opb3BvcnRhaWxcbiAqICAgICAgYWZpbiBkZSByw6ljdXDDqXJlciBsZXMgcsOpc3VsdGF0cyByZXRvdXJuw6lzLlxuICogQG1vZHVsZSBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZS5Gb3JtYXRzLlJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXJcbiAqIEBwcml2YXRlXG4gKi9cblxuLy8gaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgTVIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL01lc3NhZ2VzUmVzb3VyY2VzXCI7XG5pbXBvcnQgRXJyU3J2IGZyb20gXCIuLi8uLi8uLi9FeGNlcHRpb25zL0Vycm9yU2VydmljZVwiO1xuaW1wb3J0IFJldmVyc2VHZW9jb2RlUmVzcG9uc2UgZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL0dlb2NvZGVSZXNwb25zZVwiO1xuaW1wb3J0IFJldmVyc2VHZW9jb2RlZExvY2F0aW9uIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9SZXZlcnNlR2VvY29kZWRMb2NhdGlvblwiO1xuXG4vKipcbiAqIE9iamV0IFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXJcbiAqIEBtZW1iZXIge09iamVjdH0gUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlclxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLlZFUlNJT04gLSBWZXJzaW9uIGR1IHNlcnZpY2UgZGUgZ8Opb2NvZGFnZVxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLk5BTUVTUEFDRVMgLSBPYmpldCBzdG9ja2FudCBsZXMgZGlmZsOpcmVudHMgbmFtZXNwYWNlcyBldCBsZXMgVVJJIGFzc29jacOpZXNcbiAqXG4gKiBAcHJvcGVydHkge1N0cmluZ30gUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5TQ0hFTUFMT0NBVElPTiAtIExvY2FsaXNhdGlvbiAoVVJMKSBkdSBzY2hlbWEgZGUgZMOpZmluaXRpb24gZHUgWE1MIChYU0QpXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuREVGQVVMVFBSRUZJWCAtIE5hbWVzcGFjZSBwYXIgZMOpZmF1dCBkdSBmb3JtYXRcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5SRUFERVJTIC0gT2JqZXQgY29udGVuYW50IGRlcyBmb25jdGlvbnMgZGUgbGVjdHVyZSwgYXBwZWzDqWVzIFwiUkVBREVSU1wiXG4gKiAgICAgIGRvbnQgY2hhcXVlIGNsw6kgY29ycmVzcG9uZCBhdSBub20gZCd1biB0YWcgZHUgWE1MIHF1ZSBsJ29uIHNvdWhhaXRlIGxpcmVcbiAqICAgICAgZXQgbGEgdmFsZXVyIGFzc29jacOpZSBlc3QgdW5lIGZvbmN0aW9uIChub2RlLCBkYXRhKVxuICogICAgICBvw7kgbm9kZSBlc3QgdW4gbm9ldWQgZHUgZG9jdW1lbnQgRE9NXG4gKiAgICAgIGV0IGRhdGEgZXN0IHVuIG9iamV0IG/DuSBsJ29uIHN0b2NrZSBsZXMgaW5mb3JtYXRpb25zIGx1ZXMgZGFucyBsZSBYTUwuXG4gKlxuICogQHByb3BlcnR5IHtNZXRob2R9IFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIucmVhZCAtIE3DqXRob2RlIHBlcm1ldHRhbnQgZGUgbGFuY2VyIGxhIGxlY3R1cmUgZCd1bmUgcsOpcG9uc2UgWE1MIGR1IHNlcnZpY2UgZGUgZ8Opb2NvZGFnZSxcbiAqICAgICAgw6AgbCdhaWRlIGRlcyBSRUFERVJTIGRlIGxhIGNsYXNzZS5cbiAqXG4gKi9cblxudmFyIFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIgPSB7fTtcblxuLyoqXG4gKiB2ZXJzaW9uIGR1IHNlcnZpY2UgZGUgZ8Opb2NvZGFnZVxuICovXG5SZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLlZFUlNJT04gPSBcIjEuMlwiO1xuXG4vKipcbiAqIE9iamV0IHN0b2NrYW50IGxlcyBkaWZmw6lyZW50cyBuYW1lc3BhY2VzIGV0IGxlcyBVUkkgYXNzb2Npw6llc1xuICovXG5SZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLk5BTUVTUEFDRVMgPSB7XG4gICAgeG1sbnMgOiBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzXCIsXG4gICAgZ21sIDogXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiLFxuICAgIHhscyA6IFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHNcIixcbiAgICB4bHNleHQgOiBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzZXh0XCIsXG4gICAgeHNpIDogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiXG59O1xuXG4vKipcbiAqIExvY2FsaXNhdGlvbiAoVVJMKSBkdSBzY2hlbWEgZGUgZMOpZmluaXRpb24gZHUgWE1MIChYU0QpXG4gKi9cblJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuU0NIRU1BTE9DQVRJT04gPSBcImh0dHA6Ly93eHMuaWduLmZyL3NjaGVtYXMvb2xzQWxsLnhzZFwiO1xuXG4vKipcbiAqIE5hbWVzcGFjZSBwYXIgZMOpZmF1dCBkdSBmb3JtYXRcbiAqL1xuUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5ERUZBVUxUUFJFRklYID0gXCJ4bHNcIjtcblxuLyoqXG4gKiBPYmpldCBjb250ZW5hbnQgZGVzIGZvbmN0aW9ucyBkZSBsZWN0dXJlLCBhcHBlbMOpZXMgXCJSRUFERVJTXCJcbiAqICAgICAgZG9udCBjaGFxdWUgY2zDqSBjb3JyZXNwb25kIGF1IG5vbSBkJ3VuIHRhZyBkdSBYTUwgcXVlIGwnb24gc291aGFpdGUgbGlyZVxuICogICAgICBldCBsYSB2YWxldXIgYXNzb2Npw6llIGVzdCB1bmUgZm9uY3Rpb24gKG5vZGUsIGRhdGEpXG4gKiAgICAgIG/DuSBub2RlIGVzdCB1biBub2V1ZCBkdSBkb2N1bWVudCBET01cbiAqICAgICAgZXQgZGF0YSBlc3QgdW4gb2JqZXQgb8O5IGwnb24gc3RvY2tlIGxlcyBpbmZvcm1hdGlvbnMgbHVlcyBkYW5zIGxlIFhNTC5cbiAqL1xuUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5SRUFERVJTID0ge1xuXG4gICAgeGxzIDoge1xuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgWExTIDogZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgICAgIHZhciByZXZlcnNlR2VvY29kZVJlc3BvbnNlID0gbmV3IFJldmVyc2VHZW9jb2RlUmVzcG9uc2UoKTtcblxuICAgICAgICAgICAgLy8gdsOpcmlmaWNhdGlvbiBkZSBsYSB2ZXJzaW9uIGR1IHNlcnZpY2UsIGV0IGRlcyBuYW1lc3BhY2VzIGRlIGwnZW4tdMOqdGVcbiAgICAgICAgICAgIF9fY2hlY2tTZXJ2aWNlQXR0cmlidXRlcyhyb290KTtcblxuICAgICAgICAgICAgLy8gcHVpcyBsYW5jZW1lbnQgZGUgbGEgbGVjdHVyZSBkZSBsJ2Vuc2VtYmxlIGRlcyBub2V1ZHMsIGVuIGJvdWNsYW50IHN1ciBsZXMgY2hpbGROb2Rlc1xuICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKHJvb3QsIHJldmVyc2VHZW9jb2RlUmVzcG9uc2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmV2ZXJzZUdlb2NvZGVSZXNwb25zZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFJldmVyc2VHZW9jb2RlZExvY2F0aW9uIDogZnVuY3Rpb24gKG5vZGUsIHJldmVyc2VHZW9jb2RlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXZlcnNlR2VvY29kZWRMb2NhdGlvbiA9IG5ldyBSZXZlcnNlR2VvY29kZWRMb2NhdGlvbigpO1xuXG4gICAgICAgICAgICBfX2dldENoaWxkTm9kZXMobm9kZSwgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24pO1xuXG4gICAgICAgICAgICAvLyBBam91dCBkdSByw6lzdWx0YXQgYXUgdGFibGVhdSBsb2NhdGlvbnMgZGUgcmV2ZXJzZUdlb2NvZGVSZXNwb25zZVxuICAgICAgICAgICAgaWYgKHJldmVyc2VHZW9jb2RlUmVzcG9uc2UgJiYgQXJyYXkuaXNBcnJheShyZXZlcnNlR2VvY29kZVJlc3BvbnNlLmxvY2F0aW9ucykpIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZVJlc3BvbnNlLmxvY2F0aW9ucy5wdXNoKHJldmVyc2VHZW9jb2RlZExvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEFkZHJlc3MgOiBmdW5jdGlvbiAobm9kZSwgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBjb3VudHJ5Y29kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiY291bnRyeUNvZGVcIik7XG4gICAgICAgICAgICBpZiAocmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24gJiYgY291bnRyeWNvZGUpIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi50eXBlID0gY291bnRyeWNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbiB2YSByw6ljdXDDqXJlciBsZXMgYXV0cmVzIGluZm9ybWF0aW9ucyAoU3RyZWV0QWRkcmVzcywgcGxhY2UsIHBvc3RhbENvZGUuLi4pXG4gICAgICAgICAgICBfX2dldENoaWxkTm9kZXMobm9kZSwgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgQnVpbGRpbmcgOiBmdW5jdGlvbiAobm9kZSwgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBudW0gPSBub2RlLmdldEF0dHJpYnV0ZShcIm51bWJlclwiKTtcbiAgICAgICAgICAgIGlmIChyZXZlcnNlR2VvY29kZWRMb2NhdGlvbiAmJiByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInBsYWNlQXR0cmlidXRlc1wiKSkge1xuICAgICAgICAgICAgICAgIGlmIChudW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLm51bWJlciA9IG51bTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiYnVpbGRpbmdOYW1lXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5udW1iZXIgPSBub2RlLmdldEF0dHJpYnV0ZShcImJ1aWxkaW5nTmFtZVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwic3ViZGl2aXNpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLm51bWJlciA9IG5vZGUuZ2V0QXR0cmlidXRlKFwic3ViZGl2aXNpb25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgU3RyZWV0IDogZnVuY3Rpb24gKG5vZGUsIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBpbiBjYXNlIG9mIGEgc3RyZWV0QWRkcmVzcyByZXN1bHQgOiBzdHJlZXQgcmVwcmVzZW50cyB0aGUgc3RyZWV0IG5hbWVcbiAgICAgICAgICAgIGlmIChyZXZlcnNlR2VvY29kZWRMb2NhdGlvbi50eXBlID09PSBcIlN0cmVldEFkZHJlc3NcIikge1xuICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5zdHJlZXQgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIG9mIGEgY2FkYXN0cmFsIHBhcmNlbCByZXN1bHQgOiBzdHJlZXQgcmVwcmVzZW50cyB0aGUgY2FkYXN0cmFsIHBhcmNlbCBpZGVudGlmaWVyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnR5cGUgPT09IFwiQ2FkYXN0cmFsUGFyY2VsXCIpIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuY2FkYXN0cmFsUGFyY2VsID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgUGxhY2UgOiBmdW5jdGlvbiAobm9kZSwgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBwbGFjZVR5cGUgPSBub2RlLmdldEF0dHJpYnV0ZShcInR5cGVcIik7XG4gICAgICAgICAgICB2YXIgcGxhY2VOYW1lID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuXG4gICAgICAgICAgICBpZiAocmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24gJiYgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJwbGFjZUF0dHJpYnV0ZXNcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VUeXBlID09PSBcIk11bmljaXBhbGl0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5tdW5pY2lwYWxpdHkgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiQmJveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBwbGFjZU5hbWUuc3BsaXQoXCI7XCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLmJib3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA6IHBhcnNlRmxvYXQodmFsdWVzWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodCA6IHBhcnNlRmxvYXQodmFsdWVzWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3AgOiBwYXJzZUZsb2F0KHZhbHVlc1sxXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tIDogcGFyc2VGbG9hdCh2YWx1ZXNbM10pXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiQ29tbXVuZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5jb21tdW5lID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIkRlcGFydGVtZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLmRlcGFydG1lbnQgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiSU5TRUVcIikge1xuICAgICAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuaW5zZWUgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiUXVhbGl0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5xdWFsaXR5ID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIlRlcnJpdG9pcmVcIikge1xuICAgICAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMudGVycml0b3J5ID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIklEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLklEID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIklEX1RSXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLklEVFIgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiSW1wb3J0YW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5pbXBvcnRhbmNlID0gcGFyc2VJbnQocGxhY2VOYW1lLCAxMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiTmF0dXJlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLm5hdHVyZSA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJOdW1lcm9cIikge1xuICAgICAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMubnVtYmVyID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIkZldWlsbGVcIikge1xuICAgICAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuc2hlZXQgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiU2VjdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5zZWN0aW9uID0gcGxhY2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhY2VUeXBlID09PSBcIkNvbW11bmVBYnNvcmJlZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uLnBsYWNlQXR0cmlidXRlcy5hYnNvcmJlZENpdHkgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiQXJyb25kaXNzZW1lbnRcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuYXJyb25kaXNzZW1lbnQgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJUeXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLm9yaWdpbiA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYWNlVHlwZSA9PT0gXCJQcmVmZWN0dXJlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLnByZWZlY3R1cmUgPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiSW5zZWVSZWdpb25cIikge1xuICAgICAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMuaW5zZWVSZWdpb24gPSBwbGFjZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFjZVR5cGUgPT09IFwiSW5zZWVEZXBhcnRtZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucGxhY2VBdHRyaWJ1dGVzLmluc2VlRGVwYXJ0bWVudCA9IHBsYWNlTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBQb3N0YWxDb2RlIDogZnVuY3Rpb24gKG5vZGUsIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAocmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24gJiYgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJwbGFjZUF0dHJpYnV0ZXNcIikpIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wbGFjZUF0dHJpYnV0ZXMucG9zdGFsQ29kZSA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIFNlYXJjaENlbnRyZURpc3RhbmNlIDogZnVuY3Rpb24gKG5vZGUsIHJldmVyc2VHZW9jb2RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAocmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5zZWFyY2hDZW50ZXJEaXN0YW5jZSA9IHBhcnNlRmxvYXQobm9kZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBFcnJvciA6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAvLyA8RXJyb3IgbWVzc2FnZT1cIkZvciBpbnB1dCBzdHJpbmcgOiAmcXVvdDsyLDQ1JnF1b3Q7XCIgZXJyb3JDb2RlPVwiSW50ZXJuYWxTZXJ2ZXJFcnJvclwiLz5cbiAgICAgICAgICAgIHZhciBzcnZNZXNzID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJtZXNzYWdlXCIpO1xuICAgICAgICAgICAgdmFyIGVycm9yQ29kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZXJyb3JDb2RlXCIpO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBNUi5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FWENFUFRJT05cIixcbiAgICAgICAgICAgICAgICBcIihcIiArIGVycm9yQ29kZSArIFwiKSA6IFwiICsgc3J2TWVzcyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyU3J2KHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlIDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0eXBlIDogRXJyU3J2LlRZUEVfU1JWRVJSXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnbWwgOiB7XG5cbiAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICBwb3MgOiBmdW5jdGlvbiAobm9kZSwgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgICAgICBpZiAocmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24gJiYgcG9zKSB7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIHggOiBwYXJzZUZsb2F0KHBvcy5zcGxpdChcIiBcIilbMF0pLFxuICAgICAgICAgICAgICAgICAgICB5IDogcGFyc2VGbG9hdChwb3Muc3BsaXQoXCIgXCIpWzFdKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgeGxzZXh0IDoge1xuICAgICAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgICAgIEV4dGVuZGVkR2VvY29kZU1hdGNoQ29kZSA6IGZ1bmN0aW9uIChub2RlLCByZXZlcnNlR2VvY29kZWRMb2NhdGlvbikge1xuICAgICAgICAgICAgaWYgKHJldmVyc2VHZW9jb2RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ubWF0Y2hUeXBlID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICBFeGNlcHRpb25SZXBvcnQgOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgY2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZU5hbWUgPT09IFwiRXhjZXB0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZXhjZXB0aW9uUmVwb3J0ID0gUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5SRUFERVJTW1wiRXhjZXB0aW9uXCJdKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sXG5cbiAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgRXhjZXB0aW9uIDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIGV4Y2VwdGlvblJlcG9ydCA9IHt9O1xuXG4gICAgICAgIC8vIGdldCBleGNlcHRpb24gY29kZVxuICAgICAgICB2YXIgZXhjZXB0aW9uQ29kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZXhjZXB0aW9uQ29kZVwiKTtcbiAgICAgICAgaWYgKGV4Y2VwdGlvbkNvZGUpIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvblJlcG9ydC5leGNlcHRpb25Db2RlID0gZXhjZXB0aW9uQ29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGNlcHRpb24gbWVzc2FnZVxuICAgICAgICB2YXIgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh0ZXh0Tm9kZSAmJiB0ZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMykgeyAvLyAzID09PSBub2RlLlRFWFRfTk9ERVxuICAgICAgICAgICAgZXhjZXB0aW9uUmVwb3J0LmV4Y2VwdGlvbiA9IHRleHROb2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleGNlcHRpb25SZXBvcnQ7XG4gICAgfVxuXG59O1xuXG4vKipcbiAqIE3DqXRob2RlIHBlcm1ldHRhbnQgZGUgbGFuY2VyIGxhIGxlY3R1cmUgZCd1bmUgcsOpcG9uc2UgWE1MIGR1IHNlcnZpY2UgZGUgZ8Opb2NvZGFnZSxcbiAqICAgICAgw6AgbCdhaWRlIGRlcyBSRUFERVJTIGRlIGxhIGNsYXNzZS5cbiAqXG4gKiBAbWV0aG9kIFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIucmVhZFxuICogQHBhcmFtIHtET01FbGVtZW50fSByb290IC0gcmFjaW5lIGRlIGxhIHLDqXBvbnNlIFhNTCDDoCBsaXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9IGdlb2NvZGVSZXNwb25zZXxleGNlcHRpb25SZXBvcnQgOiBsJ29iamV0IGNvbnRlbmFudCBsZXMgaW5mb3JtYXRpb25zIGRlIGxhIHLDqXBvbnNlIFhNTCxcbiAqICAgICAgc291cyBsYSBmb3JtZSBkJ3VuIG9iamV0IEdlb2NvZGVSZXNwb25zZSwgb3UgdW4gb2JqZXQgbGl0dMOpcmFsIGV4Y2VwdGlvblJlcG9ydCBzaSBsZSBzZXJ2aWNlIGEgcmVudm95w6kgdW5lIGV4Y2VwdGlvbi5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKi9cblJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIucmVhZCA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgaWYgKHJvb3Qubm9kZU5hbWUgPT09IFwiWExTXCIpIHtcbiAgICAgICAgdmFyIG5zUHJlZml4ID0gcm9vdC5wcmVmaXg7XG4gICAgICAgIGlmICghbnNQcmVmaXgpIHtcbiAgICAgICAgICAgIG5zUHJlZml4ID0gUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5ERUZBVUxUUFJFRklYO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZW9jb2RlUmVzcG9uc2UgPSBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbbnNQcmVmaXhdW3Jvb3Qubm9kZU5hbWVdKHJvb3QpO1xuICAgICAgICByZXR1cm4gZ2VvY29kZVJlc3BvbnNlO1xuICAgIH0gZWxzZSBpZiAocm9vdC5ub2RlTmFtZSA9PT0gXCJFeGNlcHRpb25SZXBvcnRcIikge1xuICAgICAgICB2YXIgZXhjZXB0aW9uUmVwb3J0ID0gUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5SRUFERVJTW3Jvb3Qubm9kZU5hbWVdKHJvb3QpO1xuICAgICAgICByZXR1cm4gZXhjZXB0aW9uUmVwb3J0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycmV1ciBsb3JzIGRlIGxhIGxlY3R1cmUgZGUgbGEgcsOpcG9uc2UgOiBlbGxlIG4nZXN0IHBhcyBhdSBmb3JtYXQgYXR0ZW5kdS5cIik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSw6ljdXDDqXJhdGlvbiBkZXMgYXR0cmlidXRzIGQndW4gbm9ldWQgw6lsw6ltZW50XG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKiBAbWV0aG9kIF9fZ2V0QXR0cmlidXRlc1xuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gbm9ldWQgY29udGVuYW50IGwnYXR0cmlidXQgcmVjaGVyY2jDqVxuICogQHJldHVybiB7T2JqZWN0fSBub2RlQXR0cmlidXRlcyAtIG9iamV0IGNvbnRlbmFudCBsZXMgbm9tcyBldCB2YWxldXJzIGRlcyBkaWZmw6lyZW50cyBhdHRyaWJ1dHNcbiAqL1xuZnVuY3Rpb24gX19nZXRBdHRyaWJ1dGVzIChub2RlKSB7XG4gICAgaWYgKG5vZGUuYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBub2RlQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIG5vZGVBdHRyaWJ1dGVzW2F0dHJpYnV0ZS5ub2RlTmFtZV0gPSBhdHRyaWJ1dGUubm9kZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlQXR0cmlidXRlcztcbiAgICB9XG59XG5cbi8qKlxuICogUsOpY3Vww6lyYXRpb24gZGVzIG5vZXVkcyBlbmZhbnRzIMOgIHBhcnRpciBkJ3VuIG5vZXVkIGRvbm7DqSwgcG91ciBsZWN0dXJlIChyZWFkTm9kZSkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKiBAbWV0aG9kIF9fZ2V0Q2hpbGROb2Rlc1xuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gYSBET00gbm9kZVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IFtkYXRhXSAtIGFuIG9iamVjdCB0byBiZSBmaWxsZWQgd2l0aCBub2RlIGRhdGFcbiAqL1xuZnVuY3Rpb24gX19nZXRDaGlsZE5vZGVzIChub2RlLCBkYXRhKSB7XG4gICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICB2YXIgY2hpbGROYW1lO1xuICAgICAgICB2YXIgY2hpbGRQcmVmaXg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSB7IC8vIDEgPT09IG5vZGUuRUxFTUVOVF9OT0RFXG4gICAgICAgICAgICAgICAgY2hpbGROYW1lID0gY2hpbGQubG9jYWxOYW1lIHx8IGNoaWxkLmJhc2VOYW1lIHx8IGNoaWxkLm5vZGVOYW1lO1xuICAgICAgICAgICAgICAgIGNoaWxkUHJlZml4ID0gY2hpbGQucHJlZml4IHx8IFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuREVGQVVMVFBSRUZJWDtcblxuICAgICAgICAgICAgICAgIGlmIChSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbY2hpbGRQcmVmaXhdW2NoaWxkTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuUkVBREVSU1tjaGlsZFByZWZpeF1bY2hpbGROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyKGNoaWxkLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfX2dldENoaWxkTm9kZXMoY2hpbGQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBMZWN0dXJlIGRlIGxhIHZhbGV1ciBkdSBwcmVtaWVyIGNoaWxkIGQndW4gbm9ldWQsIHNpIGVsbGUgZXhpc3RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlclxuICogQG1ldGhvZCBfX2dldENoaWxkVmFsdWVcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSAtIGEgRE9NIG5vZGVcbiAqIEByZXR1cm4ge1N0cmluZ30gdmFsdWUgLSB2YWxldXIgZHUgZmlyc3RDaGlsZCBkdSBub2V1ZCBlbiBlbnRyw6llLCBvdSBjaGHDrm5lIHZpZGUuXG4gKi9cbmZ1bmN0aW9uIF9fZ2V0Q2hpbGRWYWx1ZSAobm9kZSkge1xuICAgIHZhciB0ZXh0Tm9kZTtcbiAgICB2YXIgdmFsdWUgPSBcIlwiO1xuXG4gICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIHRleHROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICBpZiAodGV4dE5vZGUubm9kZVR5cGUgPT09IDMpIHsgLy8gMyA9PT0gbm9kZS5URVhUX05PREVcbiAgICAgICAgICAgIHZhbHVlID0gdGV4dE5vZGUubm9kZVZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBWw6lyaWZpY2F0aW9uIGRlcyBhdHRyaWJ1dHMgZHUgc2VydmljZSwgZGFucyBsYSBiYWxpc2UgWExTIGRlIGxhIHLDqXBvbnNlIDpcbiAqICAgICAgdmVyc2lvbiwgbmFtZXNwYWNlcywgZXQgbmFtZXNwYWNlIHBhciBkw6lmYXV0IGRvaXZlbnQgY29ycmVzcG9uZHJlIMOgIGNldXggYXR0ZW5kdXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gKiBAbWV0aG9kIF9fY2hlY2tTZXJ2aWNlQXR0cmlidXRlc1xuICogQHBhcmFtIHtET01FbGVtZW50fSBYTFNOb2RlIC0gYSBET00gbm9kZSwgY29ycmVzcG9uZGluZyB0byBYTFMgZmlyc3QgdGFnLlxuICovXG5mdW5jdGlvbiBfX2NoZWNrU2VydmljZUF0dHJpYnV0ZXMgKFhMU05vZGUpIHtcbiAgICBpZiAoWExTTm9kZS5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gb24gcsOpY3Vww6hyZSBldCBwYXJjb3VydCBsZXMgYXR0cmlidXRzIGRlIGxhIGJhbGlzZSBYTFMgZGUgbGEgcsOpcG9uc2VcbiAgICAgICAgdmFyIHhsc0F0dHJpYnV0ZXMgPSBfX2dldEF0dHJpYnV0ZXMoWExTTm9kZSk7XG4gICAgICAgIGZvciAodmFyIGF0dCBpbiB4bHNBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoeGxzQXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gdsOpcmlmaWNhdGlvbiBkZSBsYSB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgaWYgKGF0dCA9PT0gXCJ2ZXJzaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhsc0F0dHJpYnV0ZXNbXCJ2ZXJzaW9uXCJdICE9PSBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLlZFUlNJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1JldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXJdIGdlb2NvZGUgdmVyc2lvbiBpcyBub3QgdGhlIGV4cGVjdGVkIG9uZSA6IHRoZXJlIG1heSBiZSBlcnJvcnMgaW4gcGFyc2luZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG9uIHbDqXJpZmllIHF1ZSBsJ3VyaSBkdSBuYW1lc3BhY2UgcGFyIGTDqWZhdXQgZXN0IGJpZW4gY2VsbGUgcXVlIGwnb24gYXR0ZW5kXG4gICAgICAgICAgICAgICAgaWYgKGF0dCA9PT0gXCJ4bWxuc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4bHNBdHRyaWJ1dGVzW2F0dF0gIT09IFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuTkFNRVNQQUNFU1tSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyLkRFRkFVTFRQUkVGSVhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyXSBnZW9jb2RlIHJlc3BvbnNlIGRlZmF1bHQgbmFtZXNwYWNlIGlzIG5vdCB0aGUgZXhwZWN0ZWQgb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSBhdHQuc3BsaXQoXCI6XCIpWzBdO1xuICAgICAgICAgICAgICAgIHZhciBucyA9IGF0dC5zcGxpdChcIjpcIilbMV07XG5cbiAgICAgICAgICAgICAgICAvLyBzaSBvbiBhIHVuIGF1dHJlIHhtbG5zLCBvbiB2w6lyaWZpZSBhdXNzaSBsZXMgVVJJXG4gICAgICAgICAgICAgICAgaWYgKHByZWZpeCA9PT0gXCJ4bWxuc1wiICYmIG5zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNpIGwnYXR0cmlidXQgY29ycmVzcG9uZCDDoCB1biBuYW1lc3BhY2UgZMOpZmluaSBkYW5zIGxlIHJlYWRlclxuICAgICAgICAgICAgICAgICAgICBpZiAoUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlci5OQU1FU1BBQ0VTW25zXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWwgZmF1dCBxdWUgbGVzIFVSSSBjb3JyZXNwb25kZW50IGF1c3NpLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuTkFNRVNQQUNFU1tuc10gIT09IHhsc0F0dHJpYnV0ZXNbYXR0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1JldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXJdIGdlb2NvZGUgcmVzcG9uc2UgXCIgKyBhdHQgKyBcIiBuYW1lc3BhY2UgaXMgbm90IHRoZSBleHBlY3RlZCBvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcG91ciBmaW5pciBvbiB2w6lyaWZpZSBsYSBsb2NhbGlzYXRpb24gZHUgc2NoZW1hIFhTRCBkdSBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgaWYgKG5zID09PSBcInNjaGVtYUxvY2F0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXIuU0NIRU1BTE9DQVRJT04gIT09IHhsc0F0dHJpYnV0ZXNbYXR0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlcl0gZ2VvY29kZSByZXNwb25zZSBzY2hlbWEgbG9jYXRpb24gaXMgbm90IHRoZSBleHBlY3RlZCBvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/ReverseGeocodeResponseReader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Geocode.js":
/*!***************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Geocode.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _CommonService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CommonService */ \"./node_modules/geoportal-access-lib/src/Services/CommonService.js\");\n/* harmony import */ var _Request_DirectGeocodeRequestFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Request/DirectGeocodeRequestFactory */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/DirectGeocodeRequestFactory.js\");\n/* harmony import */ var _Response_DirectGeocodeResponseFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Response/DirectGeocodeResponseFactory */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/DirectGeocodeResponseFactory.js\");\n\n\n\n\n\n\n\n\n/**\n * @classdesc\n * Appel du service de géocodage direct du Géoportail :\n *     envoi de la requête construite selon les paramètres en options,\n *     éventuellement parsing et analyse  de la réponse,\n *     retour d'une réponse en paramètre de la fonction onSuccess.\n *\n *\n * @constructor\n * @extends {Gp.Services.CommonService}\n * @alias Gp.Services.Geocode\n *\n * @param {Object} options - options spécifiques au service (+ les options heritées)\n *\n * @param {String|Object} options.location - Nom de l'adresse, du toponyme, de l'unité administrative ou de la parcelle cadastrale recherchée.\n *      Sous forme de String, la propriété permet de faire une recherche déstructurée.\n *      Sous forme d'objet, la propriété permet de structurer la recherche.\n *      Dans ce cas, les propriétés possibles de cet objet sont décrites ci-après.\n *      @param {Number} [options.location.number] - Numéro du bâtiment de l'adresse recherchée, dans le cas d'une recherche structurée\n *      (si options.location est un objet Javascript).\n *      @param {String} [options.location.street] - Nom de la rue de l'adresse recherchée, dans le cas d'une recherche structurée\n *      (si options.location est un objet Javascript).\n *      @param {String} [options.location.city] - Nom de la ville de l'adresse recherchée, dans le cas d'une recherche structurée\n *      (si options.location est un objet Javascript).\n *      @param {Number} [options.location.postalCode] - Numéro du code postal de l'adresse recherchée, dans le cas d'une recherche structurée\n *      (si options.location est un objet Javascript).\n *\n * @param {Object} [options.filterOptions] - Les propriétés possibles de cet objet sont décrites ci-après.\n * @param {Object} [options.filterOptions.bbox] - Emprise dans laquelle on souhaite effectuer la recherche.\n *      Les propriétés possibles de cet objet sont décrites ci-après.\n *      @param {Float} options.filterOptions.bbox.left - Abscisse du côté gauche de la BBOX\n *      @param {Float} options.filterOptions.bbox.right - Abscisse du côté droit de la BBOX\n *      @param {Float} options.filterOptions.bbox.top - Ordonnée supérieure de la BBOX\n *      @param {Float} options.filterOptions.bbox.bottom - Ordonnée inférieure de la BBOX\n *\n * @param {Array.<String>} [options.filterOptions.type = \"StreetAddress\"] - Type de l'objet recherché.\n *      Le service de géocodage du Géoportail permet de rechercher des 'PostionOfInterest' pour des toponymes, des 'StreetAddress'\n *      pour des adresses postales, et/ou des 'CadastralParcel' pour des parcelles cadastrales.\n *      D'autres types pourront être rajoutés selon l'évolution du service.\n *      Par défaut, type = ['StreetAddress'].\n *\n * @param {String} [options.filterOptions.[proprietes du filtre]] - Critère supplémentaire pour filtrer la recherche sous la forme\n *      d'un couple clé/valeur à définir selon les possibilités du serveur ajouté à la requête.\n *      Le service de géocodage du Géoportail permet de filtrer tous les résultats avec les propriétés :\n *          \"municipality\", \"insee\", et \"department\".\n *      Il permet aussi de filtrer les adresses postales avec les propriétés :\n *          \"quality\", \"ID\", \"ID_TR\" et \"territory\".\n *      Il permet de filtrer les toponymes avec les propriétés :\n *          \"importance\", \"nature\" et \"territory\".\n *      Enfin, il permet de filtrer les parcelles cadastrales avec les propriétés :\n *          \"sheet\", \"section\", et \"absorbedcity\". Pas de valeur par défaut.\n *\n * @param {Number} [options.maximumResponses] - Nombre de réponses maximal que l'on souhaite recevoir.\n *      Pas de valeur par défaut.\n *      Si le serveur consulté est celui du Géoportail, la valeur par défaut sera donc celle du service : 25.\n *\n * @param {Boolean} [options.returnFreeForm] - Indique si l'on souhaite en réponse un localisant concaténée plutôt que structuré.\n *      Pas de valeur par défaut. Si le serveur consulté est celui du Géoportail, la valeur par défaut sera donc celle du service : 'false'.\n *\n * @param {String} [options.srs] - Système de coordonnées dans lequel les paramètres géographiques en entrée et la réponse du service sont exprimés.\n *      Pas de valeur par défaut. Si le serveur consulté est celui du Géoportail, la valeur par défaut sera donc celle du service : 'EPSG:4326'.\n *\n * @example\n *   var options = {\n *      apiKey : null,\n *      serverUrl : 'http://localhost/service/',\n *      protocol : 'JSONP', // JSONP|XHR\n *      proxyURL : null,\n *      httpMethod : 'GET', // GET|POST\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      // spécifique au service\n *      positions : [{lon:, lat:}, {lon:, lat:}],\n *      (...)\n *   };\n * @private\n */\nfunction Geocode (options) {\n    if (!(this instanceof Geocode)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\", \"Geocode\"));\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     * FIXME instance ou classe ?\n     */\n    this.CLASSNAME = \"Geocode\";\n\n    // appel du constructeur par heritage\n    _CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Gp.Services.Geocode\");\n    this.logger.trace(\"[Constructeur Geocode (options)]\");\n\n    if (!options.location) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"location\"));\n    }\n\n    // FIXME ECMAScript 5 support\n    if (typeof options.location === \"object\" && Object.keys(options.location).length === 0) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"location\"));\n    } else if (typeof options.location === \"string\" && options.location.length === 0) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"location\"));\n    }\n\n    // ajout des options spécifiques au service\n    this.options.location = options.location;\n\n    // on definit des filtres apr defaut\n    if (!options.filterOptions || typeof options.filterOptions !== \"object\") {\n        this.options.filterOptions = options.filterOptions = {\n            type : [\"StreetAddress\"]\n        };\n    }\n\n    // FIXME ECMAScript 5 support (valable pour un objet uniquement !)\n    // ceci permet de tester le cas où 'options.filterOptions' : {}\n    if (Object.keys(options.filterOptions).length === 0) {\n        this.options.filterOptions = {\n            type : [\"StreetAddress\"]\n        };\n    }\n\n    var filter = Object.keys(options.filterOptions);\n    for (var i = 0; i < filter.length; i++) {\n        var key = filter[i];\n        // on transforme certains filtres qui pourraient être numériques en string\n        var filtersCouldBeNumberList = [\"department\", \"number\", \"postalCode\", \"insee\", \"importance\", \"ID\", \"IDTR\", \"absorbedCity\", \"sheet\", \"section\", \"inseeRegion\", \"inseeDepartment\"];\n        if (filtersCouldBeNumberList.indexOf(key) !== -1 && typeof options.filterOptions[key] !== \"string\") {\n            options.filterOptions[key] = options.filterOptions[key].toString();\n        }\n        // on supprime les filtres vides\n        if (!options.filterOptions[key]) {\n            delete this.options.filterOptions[key];\n        }\n    }\n\n    this.options.filterOptions.type = options.filterOptions.type || [\"StreetAddress\"];\n    this.options.maximumResponses = options.maximumResponses || 25;\n    this.options.returnFreeForm = options.returnFreeForm || false;\n    this.options.srs = options.srs || \"EPSG:4326\";\n\n    // attributs d'instances\n\n    /**\n     * Format forcé de la réponse du service : \"xml\"\n     * sauf si l'on souhaite une reponse brute (options.rawResponse)\n     */\n    this.options.outputFormat = (this.options.rawResponse) ? \"\" : \"xml\";\n}\n\n/**\n * @lends module:Geocode#\n */\nGeocode.prototype = Object.create(_CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/*\n * Constructeur (alias)\n */\nGeocode.prototype.constructor = Geocode;\n\n/**\n * Création de la requête (overwrite)\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nGeocode.prototype.buildRequest = function (error, success) {\n    var options = {\n        httpMethod : this.options.httpMethod,\n        // options specifiques du service\n        location : this.options.location,\n        returnFreeForm : this.options.returnFreeForm,\n        filterOptions : this.options.filterOptions,\n        srs : this.options.srs,\n        maximumResponses : this.options.maximumResponses\n    };\n\n    this.request = _Request_DirectGeocodeRequestFactory__WEBPACK_IMPORTED_MODULE_4__[\"default\"].build(options);\n\n    // on teste si la requete a bien été construite !\n    (!this.request)\n        ? error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_REQUEST_BUILD\")))\n        : success.call(this, this.request);\n};\n\n/**\n * Analyse de la reponse (overwrite)\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nGeocode.prototype.analyzeResponse = function (error, success) {\n    /* INFO :\n         Etape 1 : Création de la requête\n            -> Appel du format OpenLS pour créer une requête à partir des paramètres (par exemple)\n              (soit directement une URL si GET, soit une requête XML si POST)\n            /!\\ tester si apiKey && serverUrl => on ne garde que serverUrl\n            -> stockage de la requête dans this.request\n         Etape 2 : Envoi de la requête selon le bon protocole\n            -> appel du protocol JSONP ou XHR, et envoi (par ex send ()) (this.protocol)\n            -> récupération de la réponse xml dans la fonction onSuccess () (this.response)\n            -> si code HTTP 200 et pas de message d'erreur : etape 3\n            -> si code HTTP != 200 : lancement de la fonction de callback onFailure avec le message d'erreur\n         Etape 3 : Analyse de la réponse xml et construction du JSON (si rawResponse === false )\n            -> appel du parser pour récupérer le xmlDocument\n            -> appel du reader OpenLS pour lire les éléments et récupérer l'objet JSON\n               correspondant au type de géocodage (défini dans les specs)\n         Etape 4 : Lancement de la fonction de callback onSuccess avec la réponse :\n            -> xmlResponse (si rawResponse === true)\n            -> ou geocodedLocations\n    */\n\n    if (this.response) {\n        var options = {\n            response : this.response,\n            rawResponse : this.options.rawResponse,\n            onError : error,\n            onSuccess : success,\n            scope : this\n        };\n\n        _Response_DirectGeocodeResponseFactory__WEBPACK_IMPORTED_MODULE_5__[\"default\"].build(options);\n    } else {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Geocode);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9HZW9jb2RlLmpzP2Q1NWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDaUQ7QUFDSDtBQUNXO0FBQ1o7QUFDbUM7QUFDRzs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQSxnQkFBZ0IsTUFBTTtBQUN0QixnQkFBZ0IsTUFBTTtBQUN0QixnQkFBZ0IsTUFBTTtBQUN0QixnQkFBZ0IsTUFBTTtBQUN0QjtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyx1Q0FBdUM7QUFDdkM7QUFDQSxzQkFBc0IsV0FBVyxHQUFHLFdBQVc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFDO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLHNEQUFhOztBQUVqQixrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6QixLQUFLO0FBQ0wsd0JBQXdCLGdFQUFDO0FBQ3pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0RBQWE7QUFDL0M7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQiw0RUFBMkI7O0FBRTlDO0FBQ0E7QUFDQSwrQkFBK0IsZ0VBQVksQ0FBQyxnRUFBQztBQUM3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSw4RUFBNEI7QUFDcEMsS0FBSztBQUNMLDZCQUE2QixnRUFBWSxDQUFDLGdFQUFDO0FBQzNDO0FBQ0E7O0FBRWUsc0VBQU8sRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9HZW9jb2RlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBfIGZyb20gXCIuLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gXCIuLi9Db21tb25TZXJ2aWNlXCI7XG5pbXBvcnQgRGlyZWN0R2VvY29kZVJlcXVlc3RGYWN0b3J5IGZyb20gXCIuL1JlcXVlc3QvRGlyZWN0R2VvY29kZVJlcXVlc3RGYWN0b3J5XCI7XG5pbXBvcnQgRGlyZWN0R2VvY29kZVJlc3BvbnNlRmFjdG9yeSBmcm9tIFwiLi9SZXNwb25zZS9EaXJlY3RHZW9jb2RlUmVzcG9uc2VGYWN0b3J5XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQXBwZWwgZHUgc2VydmljZSBkZSBnw6lvY29kYWdlIGRpcmVjdCBkdSBHw6lvcG9ydGFpbCA6XG4gKiAgICAgZW52b2kgZGUgbGEgcmVxdcOqdGUgY29uc3RydWl0ZSBzZWxvbiBsZXMgcGFyYW3DqHRyZXMgZW4gb3B0aW9ucyxcbiAqICAgICDDqXZlbnR1ZWxsZW1lbnQgcGFyc2luZyBldCBhbmFseXNlICBkZSBsYSByw6lwb25zZSxcbiAqICAgICByZXRvdXIgZCd1bmUgcsOpcG9uc2UgZW4gcGFyYW3DqHRyZSBkZSBsYSBmb25jdGlvbiBvblN1Y2Nlc3MuXG4gKlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge0dwLlNlcnZpY2VzLkNvbW1vblNlcnZpY2V9XG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZSAoKyBsZXMgb3B0aW9ucyBoZXJpdMOpZXMpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBvcHRpb25zLmxvY2F0aW9uIC0gTm9tIGRlIGwnYWRyZXNzZSwgZHUgdG9wb255bWUsIGRlIGwndW5pdMOpIGFkbWluaXN0cmF0aXZlIG91IGRlIGxhIHBhcmNlbGxlIGNhZGFzdHJhbGUgcmVjaGVyY2jDqWUuXG4gKiAgICAgIFNvdXMgZm9ybWUgZGUgU3RyaW5nLCBsYSBwcm9wcmnDqXTDqSBwZXJtZXQgZGUgZmFpcmUgdW5lIHJlY2hlcmNoZSBkw6lzdHJ1Y3R1csOpZS5cbiAqICAgICAgU291cyBmb3JtZSBkJ29iamV0LCBsYSBwcm9wcmnDqXTDqSBwZXJtZXQgZGUgc3RydWN0dXJlciBsYSByZWNoZXJjaGUuXG4gKiAgICAgIERhbnMgY2UgY2FzLCBsZXMgcHJvcHJpw6l0w6lzIHBvc3NpYmxlcyBkZSBjZXQgb2JqZXQgc29udCBkw6ljcml0ZXMgY2ktYXByw6hzLlxuICogICAgICBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubG9jYXRpb24ubnVtYmVyXSAtIE51bcOpcm8gZHUgYsOidGltZW50IGRlIGwnYWRyZXNzZSByZWNoZXJjaMOpZSwgZGFucyBsZSBjYXMgZCd1bmUgcmVjaGVyY2hlIHN0cnVjdHVyw6llXG4gKiAgICAgIChzaSBvcHRpb25zLmxvY2F0aW9uIGVzdCB1biBvYmpldCBKYXZhc2NyaXB0KS5cbiAqICAgICAgQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmxvY2F0aW9uLnN0cmVldF0gLSBOb20gZGUgbGEgcnVlIGRlIGwnYWRyZXNzZSByZWNoZXJjaMOpZSwgZGFucyBsZSBjYXMgZCd1bmUgcmVjaGVyY2hlIHN0cnVjdHVyw6llXG4gKiAgICAgIChzaSBvcHRpb25zLmxvY2F0aW9uIGVzdCB1biBvYmpldCBKYXZhc2NyaXB0KS5cbiAqICAgICAgQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmxvY2F0aW9uLmNpdHldIC0gTm9tIGRlIGxhIHZpbGxlIGRlIGwnYWRyZXNzZSByZWNoZXJjaMOpZSwgZGFucyBsZSBjYXMgZCd1bmUgcmVjaGVyY2hlIHN0cnVjdHVyw6llXG4gKiAgICAgIChzaSBvcHRpb25zLmxvY2F0aW9uIGVzdCB1biBvYmpldCBKYXZhc2NyaXB0KS5cbiAqICAgICAgQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxvY2F0aW9uLnBvc3RhbENvZGVdIC0gTnVtw6lybyBkdSBjb2RlIHBvc3RhbCBkZSBsJ2FkcmVzc2UgcmVjaGVyY2jDqWUsIGRhbnMgbGUgY2FzIGQndW5lIHJlY2hlcmNoZSBzdHJ1Y3R1csOpZVxuICogICAgICAoc2kgb3B0aW9ucy5sb2NhdGlvbiBlc3QgdW4gb2JqZXQgSmF2YXNjcmlwdCkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpbHRlck9wdGlvbnNdIC0gTGVzIHByb3ByacOpdMOpcyBwb3NzaWJsZXMgZGUgY2V0IG9iamV0IHNvbnQgZMOpY3JpdGVzIGNpLWFwcsOocy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5maWx0ZXJPcHRpb25zLmJib3hdIC0gRW1wcmlzZSBkYW5zIGxhcXVlbGxlIG9uIHNvdWhhaXRlIGVmZmVjdHVlciBsYSByZWNoZXJjaGUuXG4gKiAgICAgIExlcyBwcm9wcmnDqXTDqXMgcG9zc2libGVzIGRlIGNldCBvYmpldCBzb250IGTDqWNyaXRlcyBjaS1hcHLDqHMuXG4gKiAgICAgIEBwYXJhbSB7RmxvYXR9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy5iYm94LmxlZnQgLSBBYnNjaXNzZSBkdSBjw7R0w6kgZ2F1Y2hlIGRlIGxhIEJCT1hcbiAqICAgICAgQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5maWx0ZXJPcHRpb25zLmJib3gucmlnaHQgLSBBYnNjaXNzZSBkdSBjw7R0w6kgZHJvaXQgZGUgbGEgQkJPWFxuICogICAgICBAcGFyYW0ge0Zsb2F0fSBvcHRpb25zLmZpbHRlck9wdGlvbnMuYmJveC50b3AgLSBPcmRvbm7DqWUgc3Vww6lyaWV1cmUgZGUgbGEgQkJPWFxuICogICAgICBAcGFyYW0ge0Zsb2F0fSBvcHRpb25zLmZpbHRlck9wdGlvbnMuYmJveC5ib3R0b20gLSBPcmRvbm7DqWUgaW5mw6lyaWV1cmUgZGUgbGEgQkJPWFxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtvcHRpb25zLmZpbHRlck9wdGlvbnMudHlwZSA9IFwiU3RyZWV0QWRkcmVzc1wiXSAtIFR5cGUgZGUgbCdvYmpldCByZWNoZXJjaMOpLlxuICogICAgICBMZSBzZXJ2aWNlIGRlIGfDqW9jb2RhZ2UgZHUgR8Opb3BvcnRhaWwgcGVybWV0IGRlIHJlY2hlcmNoZXIgZGVzICdQb3N0aW9uT2ZJbnRlcmVzdCcgcG91ciBkZXMgdG9wb255bWVzLCBkZXMgJ1N0cmVldEFkZHJlc3MnXG4gKiAgICAgIHBvdXIgZGVzIGFkcmVzc2VzIHBvc3RhbGVzLCBldC9vdSBkZXMgJ0NhZGFzdHJhbFBhcmNlbCcgcG91ciBkZXMgcGFyY2VsbGVzIGNhZGFzdHJhbGVzLlxuICogICAgICBEJ2F1dHJlcyB0eXBlcyBwb3Vycm9udCDDqnRyZSByYWpvdXTDqXMgc2Vsb24gbCfDqXZvbHV0aW9uIGR1IHNlcnZpY2UuXG4gKiAgICAgIFBhciBkw6lmYXV0LCB0eXBlID0gWydTdHJlZXRBZGRyZXNzJ10uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZpbHRlck9wdGlvbnMuW3Byb3ByaWV0ZXMgZHUgZmlsdHJlXV0gLSBDcml0w6hyZSBzdXBwbMOpbWVudGFpcmUgcG91ciBmaWx0cmVyIGxhIHJlY2hlcmNoZSBzb3VzIGxhIGZvcm1lXG4gKiAgICAgIGQndW4gY291cGxlIGNsw6kvdmFsZXVyIMOgIGTDqWZpbmlyIHNlbG9uIGxlcyBwb3NzaWJpbGl0w6lzIGR1IHNlcnZldXIgYWpvdXTDqSDDoCBsYSByZXF1w6p0ZS5cbiAqICAgICAgTGUgc2VydmljZSBkZSBnw6lvY29kYWdlIGR1IEfDqW9wb3J0YWlsIHBlcm1ldCBkZSBmaWx0cmVyIHRvdXMgbGVzIHLDqXN1bHRhdHMgYXZlYyBsZXMgcHJvcHJpw6l0w6lzIDpcbiAqICAgICAgICAgIFwibXVuaWNpcGFsaXR5XCIsIFwiaW5zZWVcIiwgZXQgXCJkZXBhcnRtZW50XCIuXG4gKiAgICAgIElsIHBlcm1ldCBhdXNzaSBkZSBmaWx0cmVyIGxlcyBhZHJlc3NlcyBwb3N0YWxlcyBhdmVjIGxlcyBwcm9wcmnDqXTDqXMgOlxuICogICAgICAgICAgXCJxdWFsaXR5XCIsIFwiSURcIiwgXCJJRF9UUlwiIGV0IFwidGVycml0b3J5XCIuXG4gKiAgICAgIElsIHBlcm1ldCBkZSBmaWx0cmVyIGxlcyB0b3BvbnltZXMgYXZlYyBsZXMgcHJvcHJpw6l0w6lzIDpcbiAqICAgICAgICAgIFwiaW1wb3J0YW5jZVwiLCBcIm5hdHVyZVwiIGV0IFwidGVycml0b3J5XCIuXG4gKiAgICAgIEVuZmluLCBpbCBwZXJtZXQgZGUgZmlsdHJlciBsZXMgcGFyY2VsbGVzIGNhZGFzdHJhbGVzIGF2ZWMgbGVzIHByb3ByacOpdMOpcyA6XG4gKiAgICAgICAgICBcInNoZWV0XCIsIFwic2VjdGlvblwiLCBldCBcImFic29yYmVkY2l0eVwiLiBQYXMgZGUgdmFsZXVyIHBhciBkw6lmYXV0LlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhpbXVtUmVzcG9uc2VzXSAtIE5vbWJyZSBkZSByw6lwb25zZXMgbWF4aW1hbCBxdWUgbCdvbiBzb3VoYWl0ZSByZWNldm9pci5cbiAqICAgICAgUGFzIGRlIHZhbGV1ciBwYXIgZMOpZmF1dC5cbiAqICAgICAgU2kgbGUgc2VydmV1ciBjb25zdWx0w6kgZXN0IGNlbHVpIGR1IEfDqW9wb3J0YWlsLCBsYSB2YWxldXIgcGFyIGTDqWZhdXQgc2VyYSBkb25jIGNlbGxlIGR1IHNlcnZpY2UgOiAyNS5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJldHVybkZyZWVGb3JtXSAtIEluZGlxdWUgc2kgbCdvbiBzb3VoYWl0ZSBlbiByw6lwb25zZSB1biBsb2NhbGlzYW50IGNvbmNhdMOpbsOpZSBwbHV0w7R0IHF1ZSBzdHJ1Y3R1csOpLlxuICogICAgICBQYXMgZGUgdmFsZXVyIHBhciBkw6lmYXV0LiBTaSBsZSBzZXJ2ZXVyIGNvbnN1bHTDqSBlc3QgY2VsdWkgZHUgR8Opb3BvcnRhaWwsIGxhIHZhbGV1ciBwYXIgZMOpZmF1dCBzZXJhIGRvbmMgY2VsbGUgZHUgc2VydmljZSA6ICdmYWxzZScuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNyc10gLSBTeXN0w6htZSBkZSBjb29yZG9ubsOpZXMgZGFucyBsZXF1ZWwgbGVzIHBhcmFtw6h0cmVzIGfDqW9ncmFwaGlxdWVzIGVuIGVudHLDqWUgZXQgbGEgcsOpcG9uc2UgZHUgc2VydmljZSBzb250IGV4cHJpbcOpcy5cbiAqICAgICAgUGFzIGRlIHZhbGV1ciBwYXIgZMOpZmF1dC4gU2kgbGUgc2VydmV1ciBjb25zdWx0w6kgZXN0IGNlbHVpIGR1IEfDqW9wb3J0YWlsLCBsYSB2YWxldXIgcGFyIGTDqWZhdXQgc2VyYSBkb25jIGNlbGxlIGR1IHNlcnZpY2UgOiAnRVBTRzo0MzI2Jy5cbiAqXG4gKiBAZXhhbXBsZVxuICogICB2YXIgb3B0aW9ucyA9IHtcbiAqICAgICAgYXBpS2V5IDogbnVsbCxcbiAqICAgICAgc2VydmVyVXJsIDogJ2h0dHA6Ly9sb2NhbGhvc3Qvc2VydmljZS8nLFxuICogICAgICBwcm90b2NvbCA6ICdKU09OUCcsIC8vIEpTT05QfFhIUlxuICogICAgICBwcm94eVVSTCA6IG51bGwsXG4gKiAgICAgIGh0dHBNZXRob2QgOiAnR0VUJywgLy8gR0VUfFBPU1RcbiAqICAgICAgdGltZU91dCA6IDEwMDAwLCAvLyBtc1xuICogICAgICByYXdSZXNwb25zZSA6IGZhbHNlLCAvLyB0cnVlfGZhbHNlXG4gKiAgICAgIHNjb3BlIDogbnVsbCwgLy8gdGhpc1xuICogICAgICBvblN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHt9LFxuICogICAgICBvbkZhaWx1cmUgOiBmdW5jdGlvbiAoZXJyb3IpIHt9LFxuICogICAgICAvLyBzcMOpY2lmaXF1ZSBhdSBzZXJ2aWNlXG4gKiAgICAgIHBvc2l0aW9ucyA6IFt7bG9uOiwgbGF0On0sIHtsb246LCBsYXQ6fV0sXG4gKiAgICAgICguLi4pXG4gKiAgIH07XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBHZW9jb2RlIChvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEdlb2NvZGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXy5nZXRNZXNzYWdlKFwiQ0xBU1NfQ09OU1RSVUNUT1JcIiwgXCJHZW9jb2RlXCIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKiBGSVhNRSBpbnN0YW5jZSBvdSBjbGFzc2UgP1xuICAgICAqL1xuICAgIHRoaXMuQ0xBU1NOQU1FID0gXCJHZW9jb2RlXCI7XG5cbiAgICAvLyBhcHBlbCBkdSBjb25zdHJ1Y3RldXIgcGFyIGhlcml0YWdlXG4gICAgQ29tbW9uU2VydmljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiR3AuU2VydmljZXMuR2VvY29kZVwiKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgR2VvY29kZSAob3B0aW9ucyldXCIpO1xuXG4gICAgaWYgKCFvcHRpb25zLmxvY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9NSVNTSU5HXCIsIFwibG9jYXRpb25cIikpO1xuICAgIH1cblxuICAgIC8vIEZJWE1FIEVDTUFTY3JpcHQgNSBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmxvY2F0aW9uID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKG9wdGlvbnMubG9jYXRpb24pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fRU1QVFlcIiwgXCJsb2NhdGlvblwiKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5sb2NhdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiBvcHRpb25zLmxvY2F0aW9uLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fRU1QVFlcIiwgXCJsb2NhdGlvblwiKSk7XG4gICAgfVxuXG4gICAgLy8gYWpvdXQgZGVzIG9wdGlvbnMgc3DDqWNpZmlxdWVzIGF1IHNlcnZpY2VcbiAgICB0aGlzLm9wdGlvbnMubG9jYXRpb24gPSBvcHRpb25zLmxvY2F0aW9uO1xuXG4gICAgLy8gb24gZGVmaW5pdCBkZXMgZmlsdHJlcyBhcHIgZGVmYXV0XG4gICAgaWYgKCFvcHRpb25zLmZpbHRlck9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMuZmlsdGVyT3B0aW9ucyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucyA9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHR5cGUgOiBbXCJTdHJlZXRBZGRyZXNzXCJdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRklYTUUgRUNNQVNjcmlwdCA1IHN1cHBvcnQgKHZhbGFibGUgcG91ciB1biBvYmpldCB1bmlxdWVtZW50ICEpXG4gICAgLy8gY2VjaSBwZXJtZXQgZGUgdGVzdGVyIGxlIGNhcyBvw7kgJ29wdGlvbnMuZmlsdGVyT3B0aW9ucycgOiB7fVxuICAgIGlmIChPYmplY3Qua2V5cyhvcHRpb25zLmZpbHRlck9wdGlvbnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHR5cGUgOiBbXCJTdHJlZXRBZGRyZXNzXCJdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlciA9IE9iamVjdC5rZXlzKG9wdGlvbnMuZmlsdGVyT3B0aW9ucyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGZpbHRlcltpXTtcbiAgICAgICAgLy8gb24gdHJhbnNmb3JtZSBjZXJ0YWlucyBmaWx0cmVzIHF1aSBwb3VycmFpZW50IMOqdHJlIG51bcOpcmlxdWVzIGVuIHN0cmluZ1xuICAgICAgICB2YXIgZmlsdGVyc0NvdWxkQmVOdW1iZXJMaXN0ID0gW1wiZGVwYXJ0bWVudFwiLCBcIm51bWJlclwiLCBcInBvc3RhbENvZGVcIiwgXCJpbnNlZVwiLCBcImltcG9ydGFuY2VcIiwgXCJJRFwiLCBcIklEVFJcIiwgXCJhYnNvcmJlZENpdHlcIiwgXCJzaGVldFwiLCBcInNlY3Rpb25cIiwgXCJpbnNlZVJlZ2lvblwiLCBcImluc2VlRGVwYXJ0bWVudFwiXTtcbiAgICAgICAgaWYgKGZpbHRlcnNDb3VsZEJlTnVtYmVyTGlzdC5pbmRleE9mKGtleSkgIT09IC0xICYmIHR5cGVvZiBvcHRpb25zLmZpbHRlck9wdGlvbnNba2V5XSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgb3B0aW9ucy5maWx0ZXJPcHRpb25zW2tleV0gPSBvcHRpb25zLmZpbHRlck9wdGlvbnNba2V5XS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9uIHN1cHByaW1lIGxlcyBmaWx0cmVzIHZpZGVzXG4gICAgICAgIGlmICghb3B0aW9ucy5maWx0ZXJPcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9uc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMudHlwZSA9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy50eXBlIHx8IFtcIlN0cmVldEFkZHJlc3NcIl07XG4gICAgdGhpcy5vcHRpb25zLm1heGltdW1SZXNwb25zZXMgPSBvcHRpb25zLm1heGltdW1SZXNwb25zZXMgfHwgMjU7XG4gICAgdGhpcy5vcHRpb25zLnJldHVybkZyZWVGb3JtID0gb3B0aW9ucy5yZXR1cm5GcmVlRm9ybSB8fCBmYWxzZTtcbiAgICB0aGlzLm9wdGlvbnMuc3JzID0gb3B0aW9ucy5zcnMgfHwgXCJFUFNHOjQzMjZcIjtcblxuICAgIC8vIGF0dHJpYnV0cyBkJ2luc3RhbmNlc1xuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IGZvcmPDqSBkZSBsYSByw6lwb25zZSBkdSBzZXJ2aWNlIDogXCJ4bWxcIlxuICAgICAqIHNhdWYgc2kgbCdvbiBzb3VoYWl0ZSB1bmUgcmVwb25zZSBicnV0ZSAob3B0aW9ucy5yYXdSZXNwb25zZSlcbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0ID0gKHRoaXMub3B0aW9ucy5yYXdSZXNwb25zZSkgPyBcIlwiIDogXCJ4bWxcIjtcbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkdlb2NvZGUjXG4gKi9cbkdlb2NvZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21tb25TZXJ2aWNlLnByb3RvdHlwZSwge1xuICAgIC8vIHRvZG9cbiAgICAvLyBnZXR0ZXIvc2V0dGVyXG59KTtcblxuLypcbiAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gKi9cbkdlb2NvZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VvY29kZTtcblxuLyoqXG4gKiBDcsOpYXRpb24gZGUgbGEgcmVxdcOqdGUgKG92ZXJ3cml0ZSlcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAgIC0gY2FsbGJhY2sgZGVzIGVycmV1cnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3MgLSBjYWxsYmFja1xuICovXG5HZW9jb2RlLnByb3RvdHlwZS5idWlsZFJlcXVlc3QgPSBmdW5jdGlvbiAoZXJyb3IsIHN1Y2Nlc3MpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgaHR0cE1ldGhvZCA6IHRoaXMub3B0aW9ucy5odHRwTWV0aG9kLFxuICAgICAgICAvLyBvcHRpb25zIHNwZWNpZmlxdWVzIGR1IHNlcnZpY2VcbiAgICAgICAgbG9jYXRpb24gOiB0aGlzLm9wdGlvbnMubG9jYXRpb24sXG4gICAgICAgIHJldHVybkZyZWVGb3JtIDogdGhpcy5vcHRpb25zLnJldHVybkZyZWVGb3JtLFxuICAgICAgICBmaWx0ZXJPcHRpb25zIDogdGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMsXG4gICAgICAgIHNycyA6IHRoaXMub3B0aW9ucy5zcnMsXG4gICAgICAgIG1heGltdW1SZXNwb25zZXMgOiB0aGlzLm9wdGlvbnMubWF4aW11bVJlc3BvbnNlc1xuICAgIH07XG5cbiAgICB0aGlzLnJlcXVlc3QgPSBEaXJlY3RHZW9jb2RlUmVxdWVzdEZhY3RvcnkuYnVpbGQob3B0aW9ucyk7XG5cbiAgICAvLyBvbiB0ZXN0ZSBzaSBsYSByZXF1ZXRlIGEgYmllbiDDqXTDqSBjb25zdHJ1aXRlICFcbiAgICAoIXRoaXMucmVxdWVzdClcbiAgICAgICAgPyBlcnJvci5jYWxsKHRoaXMsIG5ldyBFcnJvclNlcnZpY2UoXy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVFVRVNUX0JVSUxEXCIpKSlcbiAgICAgICAgOiBzdWNjZXNzLmNhbGwodGhpcywgdGhpcy5yZXF1ZXN0KTtcbn07XG5cbi8qKlxuICogQW5hbHlzZSBkZSBsYSByZXBvbnNlIChvdmVyd3JpdGUpXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgICAtIGNhbGxiYWNrIGRlcyBlcnJldXJzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzIC0gY2FsbGJhY2tcbiAqL1xuR2VvY29kZS5wcm90b3R5cGUuYW5hbHl6ZVJlc3BvbnNlID0gZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgLyogSU5GTyA6XG4gICAgICAgICBFdGFwZSAxIDogQ3LDqWF0aW9uIGRlIGxhIHJlcXXDqnRlXG4gICAgICAgICAgICAtPiBBcHBlbCBkdSBmb3JtYXQgT3BlbkxTIHBvdXIgY3LDqWVyIHVuZSByZXF1w6p0ZSDDoCBwYXJ0aXIgZGVzIHBhcmFtw6h0cmVzIChwYXIgZXhlbXBsZSlcbiAgICAgICAgICAgICAgKHNvaXQgZGlyZWN0ZW1lbnQgdW5lIFVSTCBzaSBHRVQsIHNvaXQgdW5lIHJlcXXDqnRlIFhNTCBzaSBQT1NUKVxuICAgICAgICAgICAgLyFcXCB0ZXN0ZXIgc2kgYXBpS2V5ICYmIHNlcnZlclVybCA9PiBvbiBuZSBnYXJkZSBxdWUgc2VydmVyVXJsXG4gICAgICAgICAgICAtPiBzdG9ja2FnZSBkZSBsYSByZXF1w6p0ZSBkYW5zIHRoaXMucmVxdWVzdFxuICAgICAgICAgRXRhcGUgMiA6IEVudm9pIGRlIGxhIHJlcXXDqnRlIHNlbG9uIGxlIGJvbiBwcm90b2NvbGVcbiAgICAgICAgICAgIC0+IGFwcGVsIGR1IHByb3RvY29sIEpTT05QIG91IFhIUiwgZXQgZW52b2kgKHBhciBleCBzZW5kICgpKSAodGhpcy5wcm90b2NvbClcbiAgICAgICAgICAgIC0+IHLDqWN1cMOpcmF0aW9uIGRlIGxhIHLDqXBvbnNlIHhtbCBkYW5zIGxhIGZvbmN0aW9uIG9uU3VjY2VzcyAoKSAodGhpcy5yZXNwb25zZSlcbiAgICAgICAgICAgIC0+IHNpIGNvZGUgSFRUUCAyMDAgZXQgcGFzIGRlIG1lc3NhZ2UgZCdlcnJldXIgOiBldGFwZSAzXG4gICAgICAgICAgICAtPiBzaSBjb2RlIEhUVFAgIT0gMjAwIDogbGFuY2VtZW50IGRlIGxhIGZvbmN0aW9uIGRlIGNhbGxiYWNrIG9uRmFpbHVyZSBhdmVjIGxlIG1lc3NhZ2UgZCdlcnJldXJcbiAgICAgICAgIEV0YXBlIDMgOiBBbmFseXNlIGRlIGxhIHLDqXBvbnNlIHhtbCBldCBjb25zdHJ1Y3Rpb24gZHUgSlNPTiAoc2kgcmF3UmVzcG9uc2UgPT09IGZhbHNlIClcbiAgICAgICAgICAgIC0+IGFwcGVsIGR1IHBhcnNlciBwb3VyIHLDqWN1cMOpcmVyIGxlIHhtbERvY3VtZW50XG4gICAgICAgICAgICAtPiBhcHBlbCBkdSByZWFkZXIgT3BlbkxTIHBvdXIgbGlyZSBsZXMgw6lsw6ltZW50cyBldCByw6ljdXDDqXJlciBsJ29iamV0IEpTT05cbiAgICAgICAgICAgICAgIGNvcnJlc3BvbmRhbnQgYXUgdHlwZSBkZSBnw6lvY29kYWdlIChkw6lmaW5pIGRhbnMgbGVzIHNwZWNzKVxuICAgICAgICAgRXRhcGUgNCA6IExhbmNlbWVudCBkZSBsYSBmb25jdGlvbiBkZSBjYWxsYmFjayBvblN1Y2Nlc3MgYXZlYyBsYSByw6lwb25zZSA6XG4gICAgICAgICAgICAtPiB4bWxSZXNwb25zZSAoc2kgcmF3UmVzcG9uc2UgPT09IHRydWUpXG4gICAgICAgICAgICAtPiBvdSBnZW9jb2RlZExvY2F0aW9uc1xuICAgICovXG5cbiAgICBpZiAodGhpcy5yZXNwb25zZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJlc3BvbnNlIDogdGhpcy5yZXNwb25zZSxcbiAgICAgICAgICAgIHJhd1Jlc3BvbnNlIDogdGhpcy5vcHRpb25zLnJhd1Jlc3BvbnNlLFxuICAgICAgICAgICAgb25FcnJvciA6IGVycm9yLFxuICAgICAgICAgICAgb25TdWNjZXNzIDogc3VjY2VzcyxcbiAgICAgICAgICAgIHNjb3BlIDogdGhpc1xuICAgICAgICB9O1xuXG4gICAgICAgIERpcmVjdEdlb2NvZGVSZXNwb25zZUZhY3RvcnkuYnVpbGQob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IuY2FsbCh0aGlzLCBuZXcgRXJyb3JTZXJ2aWNlKF8uZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRU1QVFlcIikpKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHZW9jb2RlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Geocode.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Request/DirectGeocodeRequestFactory.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Request/DirectGeocodeRequestFactory.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Formats_XLS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Formats/XLS */ \"./node_modules/geoportal-access-lib/src/Formats/XLS.js\");\n/* harmony import */ var _Formats_XLS_LocationUtilityService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Formats/XLS/LocationUtilityService */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService.js\");\n/* harmony import */ var _Formats_XLS_LocationUtilityService_GeocodeFilterExtension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Formats/XLS/LocationUtilityService/GeocodeFilterExtension */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService/GeocodeFilterExtension.js\");\n/* harmony import */ var _Request_model_StreetAddress__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Request/model/StreetAddress */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/StreetAddress.js\");\n/* harmony import */ var _Request_model_PositionOfInterest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Request/model/PositionOfInterest */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/PositionOfInterest.js\");\n/* harmony import */ var _Request_model_CadastralParcel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Request/model/CadastralParcel */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/CadastralParcel.js\");\n/* harmony import */ var _Request_model_Administratif__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Request/model/Administratif */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/Administratif.js\");\n/**\n * Creation d'une requête OpenLS en mode POST ou GET\n * (Factory)\n *\n * @module DirectGeocodeRequestFactory\n * @alias Gp.Services.Geocode.Request.DirectGeocodeRequestFactory\n * @private\n */\n\n\n\n\n\n\n\n\n\nvar DirectGeocodeRequestFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Geocode\n     *\n     * @example\n     *   var options = {\n     *      httpMethod:\n     *      // options specifiques du service\n     *      location:\n     *      returnFreeForm:\n     *      filterOptions:\n     *      srs:\n     *      maximumResponses:\n     *   };\n     *   var result = DirectGeocodeRequestFactory.build(options);\n     *   if (!result) {\n     *       // error...\n     *   }\n     * @returns {String} request\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"DirectGeocodeRequestFactory\");\n        logger.trace([\"DirectGeocodeRequestFactory::build()\"]);\n\n        var request = null;\n\n        // gestion des filtres (table de geocodage) !\n        // par defaut, on les ajoute toute ...\n        var oFilter = new _Formats_XLS_LocationUtilityService_GeocodeFilterExtension__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n        oFilter.addFilterExtensions(new _Request_model_Administratif__WEBPACK_IMPORTED_MODULE_7__[\"default\"]());\n        oFilter.addFilterExtensions(new _Request_model_StreetAddress__WEBPACK_IMPORTED_MODULE_4__[\"default\"]());\n        oFilter.addFilterExtensions(new _Request_model_PositionOfInterest__WEBPACK_IMPORTED_MODULE_5__[\"default\"]());\n        oFilter.addFilterExtensions(new _Request_model_CadastralParcel__WEBPACK_IMPORTED_MODULE_6__[\"default\"]());\n\n        // objet LUS\n        // on peut aussi par un objet XLS::GeocodeRequest\n        var oLUS = new _Formats_XLS_LocationUtilityService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n            location : options.location,\n            returnFreeForm : options.returnFreeForm,\n            filterOptions : options.filterOptions\n        });\n        oLUS.addFilter(oFilter);\n\n        // Format XLS\n        var oXLS = new _Formats_XLS__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            srsName : options.srs,\n            maximumResponses : options.maximumResponses\n        });\n        oXLS.namespace = true;\n        oXLS.setService(oLUS);\n\n        // request brute !\n        request = oXLS.build();\n\n        // en mode GET, la requête est encodée\n        // et le param. 'qxml' est ajouté\n        if (options.httpMethod === \"GET\") {\n            var myRequest = \"qxml=\" +\n                encodeURIComponent(request)\n                    .replace(/-/g, \"%2D\")\n                    .replace(/_/g, \"%5F\")\n                    .replace(/\\./g, \"%2E\")\n                    .replace(/!/g, \"%21\")\n                    .replace(/~/g, \"%7E\")\n                    .replace(/\\*/g, \"%2A\")\n                    .replace(/'/g, \"%27\")\n                    .replace(/\\(/g, \"%28\")\n                    .replace(/\\)/g, \"%29\");\n            request = myRequest;\n        }\n\n        logger.trace(request);\n\n        return request;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DirectGeocodeRequestFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L0RpcmVjdEdlb2NvZGVSZXF1ZXN0RmFjdG9yeS5qcz8zZWFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDYjtBQUMwQztBQUN1QjtBQUM3QztBQUNVO0FBQ047QUFDSjs7QUFFM0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOERBQU07QUFDM0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQixrR0FBc0I7QUFDaEQsd0NBQXdDLG9FQUFhO0FBQ3JELHdDQUF3QyxvRUFBYTtBQUNyRCx3Q0FBd0MseUVBQWtCO0FBQzFELHdDQUF3QyxzRUFBZTs7QUFFdkQ7QUFDQTtBQUNBLHVCQUF1QiwyRUFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsdUJBQXVCLG9EQUFHO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSwwRkFBMkIsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L0RpcmVjdEdlb2NvZGVSZXF1ZXN0RmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRpb24gZCd1bmUgcmVxdcOqdGUgT3BlbkxTIGVuIG1vZGUgUE9TVCBvdSBHRVRcbiAqIChGYWN0b3J5KVxuICpcbiAqIEBtb2R1bGUgRGlyZWN0R2VvY29kZVJlcXVlc3RGYWN0b3J5XG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZS5SZXF1ZXN0LkRpcmVjdEdlb2NvZGVSZXF1ZXN0RmFjdG9yeVxuICogQHByaXZhdGVcbiAqL1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgWExTIGZyb20gXCIuLi8uLi8uLi9Gb3JtYXRzL1hMU1wiO1xuaW1wb3J0IExvY2F0aW9uVXRpbGl0eVNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL0Zvcm1hdHMvWExTL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2VcIjtcbmltcG9ydCBHZW9jb2RlRmlsdGVyRXh0ZW5zaW9uIGZyb20gXCIuLi8uLi8uLi9Gb3JtYXRzL1hMUy9Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlL0dlb2NvZGVGaWx0ZXJFeHRlbnNpb25cIjtcbmltcG9ydCBTdHJlZXRBZGRyZXNzIGZyb20gXCIuLi9SZXF1ZXN0L21vZGVsL1N0cmVldEFkZHJlc3NcIjtcbmltcG9ydCBQb3NpdGlvbk9mSW50ZXJlc3QgZnJvbSBcIi4uL1JlcXVlc3QvbW9kZWwvUG9zaXRpb25PZkludGVyZXN0XCI7XG5pbXBvcnQgQ2FkYXN0cmFsUGFyY2VsIGZyb20gXCIuLi9SZXF1ZXN0L21vZGVsL0NhZGFzdHJhbFBhcmNlbFwiO1xuaW1wb3J0IEFkbWluaXN0cmF0aWYgZnJvbSBcIi4uL1JlcXVlc3QvbW9kZWwvQWRtaW5pc3RyYXRpZlwiO1xuXG52YXIgRGlyZWN0R2VvY29kZVJlcXVlc3RGYWN0b3J5ID0ge1xuXG4gICAgLyoqXG4gICAgICogaW50ZXJmYWNlIHVuaXF1ZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBidWlsZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZGVmaW5pZXMgZGFucyBsZSBjb21wb3NhbnQgR2VvY29kZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgICAgaHR0cE1ldGhvZDpcbiAgICAgKiAgICAgIC8vIG9wdGlvbnMgc3BlY2lmaXF1ZXMgZHUgc2VydmljZVxuICAgICAqICAgICAgbG9jYXRpb246XG4gICAgICogICAgICByZXR1cm5GcmVlRm9ybTpcbiAgICAgKiAgICAgIGZpbHRlck9wdGlvbnM6XG4gICAgICogICAgICBzcnM6XG4gICAgICogICAgICBtYXhpbXVtUmVzcG9uc2VzOlxuICAgICAqICAgfTtcbiAgICAgKiAgIHZhciByZXN1bHQgPSBEaXJlY3RHZW9jb2RlUmVxdWVzdEZhY3RvcnkuYnVpbGQob3B0aW9ucyk7XG4gICAgICogICBpZiAoIXJlc3VsdCkge1xuICAgICAqICAgICAgIC8vIGVycm9yLi4uXG4gICAgICogICB9XG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmVxdWVzdFxuICAgICAqL1xuICAgIGJ1aWxkIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG4gICAgICAgIHZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiRGlyZWN0R2VvY29kZVJlcXVlc3RGYWN0b3J5XCIpO1xuICAgICAgICBsb2dnZXIudHJhY2UoW1wiRGlyZWN0R2VvY29kZVJlcXVlc3RGYWN0b3J5OjpidWlsZCgpXCJdKTtcblxuICAgICAgICB2YXIgcmVxdWVzdCA9IG51bGw7XG5cbiAgICAgICAgLy8gZ2VzdGlvbiBkZXMgZmlsdHJlcyAodGFibGUgZGUgZ2VvY29kYWdlKSAhXG4gICAgICAgIC8vIHBhciBkZWZhdXQsIG9uIGxlcyBham91dGUgdG91dGUgLi4uXG4gICAgICAgIHZhciBvRmlsdGVyID0gbmV3IEdlb2NvZGVGaWx0ZXJFeHRlbnNpb24oKTtcbiAgICAgICAgb0ZpbHRlci5hZGRGaWx0ZXJFeHRlbnNpb25zKG5ldyBBZG1pbmlzdHJhdGlmKCkpO1xuICAgICAgICBvRmlsdGVyLmFkZEZpbHRlckV4dGVuc2lvbnMobmV3IFN0cmVldEFkZHJlc3MoKSk7XG4gICAgICAgIG9GaWx0ZXIuYWRkRmlsdGVyRXh0ZW5zaW9ucyhuZXcgUG9zaXRpb25PZkludGVyZXN0KCkpO1xuICAgICAgICBvRmlsdGVyLmFkZEZpbHRlckV4dGVuc2lvbnMobmV3IENhZGFzdHJhbFBhcmNlbCgpKTtcblxuICAgICAgICAvLyBvYmpldCBMVVNcbiAgICAgICAgLy8gb24gcGV1dCBhdXNzaSBwYXIgdW4gb2JqZXQgWExTOjpHZW9jb2RlUmVxdWVzdFxuICAgICAgICB2YXIgb0xVUyA9IG5ldyBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlKHtcbiAgICAgICAgICAgIGxvY2F0aW9uIDogb3B0aW9ucy5sb2NhdGlvbixcbiAgICAgICAgICAgIHJldHVybkZyZWVGb3JtIDogb3B0aW9ucy5yZXR1cm5GcmVlRm9ybSxcbiAgICAgICAgICAgIGZpbHRlck9wdGlvbnMgOiBvcHRpb25zLmZpbHRlck9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIG9MVVMuYWRkRmlsdGVyKG9GaWx0ZXIpO1xuXG4gICAgICAgIC8vIEZvcm1hdCBYTFNcbiAgICAgICAgdmFyIG9YTFMgPSBuZXcgWExTKHtcbiAgICAgICAgICAgIHNyc05hbWUgOiBvcHRpb25zLnNycyxcbiAgICAgICAgICAgIG1heGltdW1SZXNwb25zZXMgOiBvcHRpb25zLm1heGltdW1SZXNwb25zZXNcbiAgICAgICAgfSk7XG4gICAgICAgIG9YTFMubmFtZXNwYWNlID0gdHJ1ZTtcbiAgICAgICAgb1hMUy5zZXRTZXJ2aWNlKG9MVVMpO1xuXG4gICAgICAgIC8vIHJlcXVlc3QgYnJ1dGUgIVxuICAgICAgICByZXF1ZXN0ID0gb1hMUy5idWlsZCgpO1xuXG4gICAgICAgIC8vIGVuIG1vZGUgR0VULCBsYSByZXF1w6p0ZSBlc3QgZW5jb2TDqWVcbiAgICAgICAgLy8gZXQgbGUgcGFyYW0uICdxeG1sJyBlc3QgYWpvdXTDqVxuICAgICAgICBpZiAob3B0aW9ucy5odHRwTWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgICAgICB2YXIgbXlSZXF1ZXN0ID0gXCJxeG1sPVwiICtcbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQocmVxdWVzdClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCIlMkRcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgXCIlNUZcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcLi9nLCBcIiUyRVwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvIS9nLCBcIiUyMVwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvfi9nLCBcIiU3RVwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwqL2csIFwiJTJBXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiJTI3XCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCgvZywgXCIlMjhcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKS9nLCBcIiUyOVwiKTtcbiAgICAgICAgICAgIHJlcXVlc3QgPSBteVJlcXVlc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBsb2dnZXIudHJhY2UocmVxdWVzdCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRGlyZWN0R2VvY29kZVJlcXVlc3RGYWN0b3J5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Request/DirectGeocodeRequestFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Request/GeocodeLocation.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Request/GeocodeLocation.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * @classdesc\n *\n * Liste des attributs des tables de geocodage\n * @constructor\n * @alias Gp.Services.Geocode.Request.GeocodeLocation\n * @private\n */\nfunction GeocodeLocation () {\n    if (!(this instanceof GeocodeLocation)) {\n        throw new TypeError(\"GeocodeLocation constructor cannot be called as a function.\");\n    }\n\n    /**\n     * Objet qui peut prendre comme propriétés les valeurs du tableau serviceAttributes\n     * @type {Object}\n     */\n    this.placeAttributes = {};\n\n    /**\n     * Tableau qui liste les attributs spécifiques selon le type de la GeocodeLocation.\n     * Ces attributs correspondent à ceux saisis par l'utilisateur (légèrement différents de ceux du service)\n     * @type {String[]}\n     */\n    this.attributesList = [];\n\n    /**\n     * Tableau qui liste les attributs spécifiques selon le type de la GeocodeLocation\n     * Ces attributs correspondent à ceux interprétés par le service (balises Place).\n     * @type {String[]}\n     */\n    this.serviceAttributes = [];\n}\n\n/**\n * @lends module:GeocodeLocation\n */\nGeocodeLocation.prototype = {\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : GeocodeLocation\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GeocodeLocation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L0dlb2NvZGVMb2NhdGlvbi5qcz85NjZhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVlLDhFQUFlLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0dlb2NvZGUvUmVxdWVzdC9HZW9jb2RlTG9jYXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIExpc3RlIGRlcyBhdHRyaWJ1dHMgZGVzIHRhYmxlcyBkZSBnZW9jb2RhZ2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkdlb2NvZGUuUmVxdWVzdC5HZW9jb2RlTG9jYXRpb25cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEdlb2NvZGVMb2NhdGlvbiAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEdlb2NvZGVMb2NhdGlvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlb2NvZGVMb2NhdGlvbiBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9iamV0IHF1aSBwZXV0IHByZW5kcmUgY29tbWUgcHJvcHJpw6l0w6lzIGxlcyB2YWxldXJzIGR1IHRhYmxlYXUgc2VydmljZUF0dHJpYnV0ZXNcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMucGxhY2VBdHRyaWJ1dGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBUYWJsZWF1IHF1aSBsaXN0ZSBsZXMgYXR0cmlidXRzIHNww6ljaWZpcXVlcyBzZWxvbiBsZSB0eXBlIGRlIGxhIEdlb2NvZGVMb2NhdGlvbi5cbiAgICAgKiBDZXMgYXR0cmlidXRzIGNvcnJlc3BvbmRlbnQgw6AgY2V1eCBzYWlzaXMgcGFyIGwndXRpbGlzYXRldXIgKGzDqWfDqHJlbWVudCBkaWZmw6lyZW50cyBkZSBjZXV4IGR1IHNlcnZpY2UpXG4gICAgICogQHR5cGUge1N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMuYXR0cmlidXRlc0xpc3QgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRhYmxlYXUgcXVpIGxpc3RlIGxlcyBhdHRyaWJ1dHMgc3DDqWNpZmlxdWVzIHNlbG9uIGxlIHR5cGUgZGUgbGEgR2VvY29kZUxvY2F0aW9uXG4gICAgICogQ2VzIGF0dHJpYnV0cyBjb3JyZXNwb25kZW50IMOgIGNldXggaW50ZXJwcsOpdMOpcyBwYXIgbGUgc2VydmljZSAoYmFsaXNlcyBQbGFjZSkuXG4gICAgICogQHR5cGUge1N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMuc2VydmljZUF0dHJpYnV0ZXMgPSBbXTtcbn1cblxuLyoqXG4gKiBAbGVuZHMgbW9kdWxlOkdlb2NvZGVMb2NhdGlvblxuICovXG5HZW9jb2RlTG9jYXRpb24ucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciA6IEdlb2NvZGVMb2NhdGlvblxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHZW9jb2RlTG9jYXRpb247XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Request/GeocodeLocation.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Request/ReverseGeocodeRequestFactory.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Request/ReverseGeocodeRequestFactory.js ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Formats_XLS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Formats/XLS */ \"./node_modules/geoportal-access-lib/src/Formats/XLS.js\");\n/* harmony import */ var _Formats_XLS_LocationUtilityService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Formats/XLS/LocationUtilityService */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/LocationUtilityService.js\");\n/**\n * Creation d'une requête OpenLS en mode POST ou GET\n * (Factory)\n *\n * @module ReverseGeocodeRequestFactory\n * @alias Gp.Services.Geocode.Request.ReverseGeocodeRequestFactory\n * @private\n */\n\n\n\n\nvar ReverseGeocodeRequestFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Geocode\n     *\n     * @example\n     *   var options = {\n     *      httpMethod :\n     *      // options specifiques du service\n     *      position :\n     *      returnFreeForm :\n     *      filterOptions :\n     *      srs :\n     *      maximumResponses :\n     *   };\n     *   var result = ReverseGeocodeRequestFactory.build(options);\n     *   if (!result) {\n     *       // error...\n     *   }\n     * @returns {String} request\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"ReverseGeocodeRequestFactory\");\n        logger.trace([\"ReverseGeocodeRequestFactory::build()\"]);\n\n        // options non definies\n        var settings = options || {};\n\n        var request = null;\n\n        // objet LUS\n        var oLUS = new _Formats_XLS_LocationUtilityService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n            position : settings.position,\n            returnFreeForm : settings.returnFreeForm,\n            filterOptions : settings.filterOptions\n        });\n\n        // Format XLS\n        var oXLS = new _Formats_XLS__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            srsName : settings.srs,\n            maximumResponses : settings.maximumResponses\n        });\n        oXLS.namespace = true;\n        oXLS.setService(oLUS);\n\n        // request brute !\n        request = oXLS.build();\n\n        // en mode GET, la requête est encodée\n        // et le param. 'qxml' est ajouté\n        if (settings.httpMethod === \"GET\") {\n            var myRequest = \"qxml=\" +\n                encodeURIComponent(request)\n                    .replace(/-/g, \"%2D\")\n                    .replace(/_/g, \"%5F\")\n                    .replace(/\\./g, \"%2E\")\n                    .replace(/!/g, \"%21\")\n                    .replace(/~/g, \"%7E\")\n                    .replace(/\\*/g, \"%2A\")\n                    .replace(/'/g, \"%27\")\n                    .replace(/\\(/g, \"%28\")\n                    .replace(/\\)/g, \"%29\");\n            request = myRequest;\n        }\n\n        logger.trace(request);\n\n        return request;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReverseGeocodeRequestFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L1JldmVyc2VHZW9jb2RlUmVxdWVzdEZhY3RvcnkuanM/MDRmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDYjtBQUMwQzs7QUFFakY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOERBQU07QUFDM0I7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHVCQUF1QiwyRUFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBLHVCQUF1QixvREFBRztBQUMxQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUsMkZBQTRCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0dlb2NvZGUvUmVxdWVzdC9SZXZlcnNlR2VvY29kZVJlcXVlc3RGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGlvbiBkJ3VuZSByZXF1w6p0ZSBPcGVuTFMgZW4gbW9kZSBQT1NUIG91IEdFVFxuICogKEZhY3RvcnkpXG4gKlxuICogQG1vZHVsZSBSZXZlcnNlR2VvY29kZVJlcXVlc3RGYWN0b3J5XG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZS5SZXF1ZXN0LlJldmVyc2VHZW9jb2RlUmVxdWVzdEZhY3RvcnlcbiAqIEBwcml2YXRlXG4gKi9cbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IFhMUyBmcm9tIFwiLi4vLi4vLi4vRm9ybWF0cy9YTFNcIjtcbmltcG9ydCBMb2NhdGlvblV0aWxpdHlTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9Gb3JtYXRzL1hMUy9Mb2NhdGlvblV0aWxpdHlTZXJ2aWNlXCI7XG5cbnZhciBSZXZlcnNlR2VvY29kZVJlcXVlc3RGYWN0b3J5ID0ge1xuXG4gICAgLyoqXG4gICAgICogaW50ZXJmYWNlIHVuaXF1ZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBidWlsZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZGVmaW5pZXMgZGFucyBsZSBjb21wb3NhbnQgR2VvY29kZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgICAgaHR0cE1ldGhvZCA6XG4gICAgICogICAgICAvLyBvcHRpb25zIHNwZWNpZmlxdWVzIGR1IHNlcnZpY2VcbiAgICAgKiAgICAgIHBvc2l0aW9uIDpcbiAgICAgKiAgICAgIHJldHVybkZyZWVGb3JtIDpcbiAgICAgKiAgICAgIGZpbHRlck9wdGlvbnMgOlxuICAgICAqICAgICAgc3JzIDpcbiAgICAgKiAgICAgIG1heGltdW1SZXNwb25zZXMgOlxuICAgICAqICAgfTtcbiAgICAgKiAgIHZhciByZXN1bHQgPSBSZXZlcnNlR2VvY29kZVJlcXVlc3RGYWN0b3J5LmJ1aWxkKG9wdGlvbnMpO1xuICAgICAqICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgKiAgICAgICAvLyBlcnJvci4uLlxuICAgICAqICAgfVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHJlcXVlc3RcbiAgICAgKi9cbiAgICBidWlsZCA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGxvZ2dlclxuICAgICAgICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIlJldmVyc2VHZW9jb2RlUmVxdWVzdEZhY3RvcnlcIik7XG4gICAgICAgIGxvZ2dlci50cmFjZShbXCJSZXZlcnNlR2VvY29kZVJlcXVlc3RGYWN0b3J5OjpidWlsZCgpXCJdKTtcblxuICAgICAgICAvLyBvcHRpb25zIG5vbiBkZWZpbmllc1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciByZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICAvLyBvYmpldCBMVVNcbiAgICAgICAgdmFyIG9MVVMgPSBuZXcgTG9jYXRpb25VdGlsaXR5U2VydmljZSh7XG4gICAgICAgICAgICBwb3NpdGlvbiA6IHNldHRpbmdzLnBvc2l0aW9uLFxuICAgICAgICAgICAgcmV0dXJuRnJlZUZvcm0gOiBzZXR0aW5ncy5yZXR1cm5GcmVlRm9ybSxcbiAgICAgICAgICAgIGZpbHRlck9wdGlvbnMgOiBzZXR0aW5ncy5maWx0ZXJPcHRpb25zXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZvcm1hdCBYTFNcbiAgICAgICAgdmFyIG9YTFMgPSBuZXcgWExTKHtcbiAgICAgICAgICAgIHNyc05hbWUgOiBzZXR0aW5ncy5zcnMsXG4gICAgICAgICAgICBtYXhpbXVtUmVzcG9uc2VzIDogc2V0dGluZ3MubWF4aW11bVJlc3BvbnNlc1xuICAgICAgICB9KTtcbiAgICAgICAgb1hMUy5uYW1lc3BhY2UgPSB0cnVlO1xuICAgICAgICBvWExTLnNldFNlcnZpY2Uob0xVUyk7XG5cbiAgICAgICAgLy8gcmVxdWVzdCBicnV0ZSAhXG4gICAgICAgIHJlcXVlc3QgPSBvWExTLmJ1aWxkKCk7XG5cbiAgICAgICAgLy8gZW4gbW9kZSBHRVQsIGxhIHJlcXXDqnRlIGVzdCBlbmNvZMOpZVxuICAgICAgICAvLyBldCBsZSBwYXJhbS4gJ3F4bWwnIGVzdCBham91dMOpXG4gICAgICAgIGlmIChzZXR0aW5ncy5odHRwTWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgICAgICB2YXIgbXlSZXF1ZXN0ID0gXCJxeG1sPVwiICtcbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQocmVxdWVzdClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCIlMkRcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgXCIlNUZcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcLi9nLCBcIiUyRVwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvIS9nLCBcIiUyMVwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvfi9nLCBcIiU3RVwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwqL2csIFwiJTJBXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiJTI3XCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCgvZywgXCIlMjhcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKS9nLCBcIiUyOVwiKTtcbiAgICAgICAgICAgIHJlcXVlc3QgPSBteVJlcXVlc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBsb2dnZXIudHJhY2UocmVxdWVzdCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2ZXJzZUdlb2NvZGVSZXF1ZXN0RmFjdG9yeTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Request/ReverseGeocodeRequestFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/Administratif.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/Administratif.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GeocodeLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/GeocodeLocation.js\");\n\n\n\n/**\n * @classdesc\n * Format des attributs d'un filtre de géocodage de type Administratif.\n * @constructor\n * @alias Gp.Services.Geocode.Request.Administratif\n * @private\n */\nfunction Administratif () {\n    if (!(this instanceof Administratif)) {\n        throw new TypeError(\"Administratif constructor cannot be called as a function.\");\n    }\n\n    // INFO\n    // appel du constructeur de la classe mère\n    // avec passage de param.\n    _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apply(this, arguments);\n\n    /**\n     * Nom de la classe (heritage)\n     * @type {String}\n     */\n    this.CLASSNAME = \"Administratif\";\n\n    /**\n     * Liste des attributs possibles pour une GeocodedLocation de type Administratif\n     * - **bbox** : Emprise de l'unité administrative dans le système de coordonnées demandé *{left, right, top, bottom}*\n     * - **prefecture** - Nom de la préfécture de la région ou du département *{String}*\n     * - **inseeRegion** - Numéro INSEE de la région *{String}*\n     * - **inseeDepartment** - Numéro INSEE du département *{String}*\n     * - **municipality** - Nom de l'unité administrative *{String}*\n     *\n     */\n\n    this.attributesList = [\"bbox\", \"prefecture\", \"inseeRegion\", \"inseeDepartment\", \"municipality\"];\n\n    this.serviceAttributes = [\"bbox\", \"Prefecture\", \"InseeRegion\", \"InseeDepartement\", \"Municipality\"];\n}\n\n/**\n * @lends module:Administratif#\n */\nAdministratif.prototype = Object.create(_GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\n/**\n * Constructeur (alias)\n */\nAdministratif.prototype.constructor = Administratif;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Administratif);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L21vZGVsL0FkbWluaXN0cmF0aWYuanM/YjA5YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDaUQ7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3REFBZTs7QUFFbkI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrRkFBK0YseUJBQXlCO0FBQ3hILGdGQUFnRixPQUFPO0FBQ3ZGLHVEQUF1RCxPQUFPO0FBQzlELDZEQUE2RCxPQUFPO0FBQ3BFLDREQUE0RCxPQUFPO0FBQ25FO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msd0RBQWU7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDRFQUFhLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0dlb2NvZGUvUmVxdWVzdC9tb2RlbC9BZG1pbmlzdHJhdGlmLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgR2VvY29kZUxvY2F0aW9uIGZyb20gXCIuLi9HZW9jb2RlTG9jYXRpb25cIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBGb3JtYXQgZGVzIGF0dHJpYnV0cyBkJ3VuIGZpbHRyZSBkZSBnw6lvY29kYWdlIGRlIHR5cGUgQWRtaW5pc3RyYXRpZi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkdlb2NvZGUuUmVxdWVzdC5BZG1pbmlzdHJhdGlmXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBBZG1pbmlzdHJhdGlmICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWRtaW5pc3RyYXRpZikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFkbWluaXN0cmF0aWYgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICAvLyBJTkZPXG4gICAgLy8gYXBwZWwgZHUgY29uc3RydWN0ZXVyIGRlIGxhIGNsYXNzZSBtw6hyZVxuICAgIC8vIGF2ZWMgcGFzc2FnZSBkZSBwYXJhbS5cbiAgICBHZW9jb2RlTG9jYXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8qKlxuICAgICAqIE5vbSBkZSBsYSBjbGFzc2UgKGhlcml0YWdlKVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5DTEFTU05BTUUgPSBcIkFkbWluaXN0cmF0aWZcIjtcblxuICAgIC8qKlxuICAgICAqIExpc3RlIGRlcyBhdHRyaWJ1dHMgcG9zc2libGVzIHBvdXIgdW5lIEdlb2NvZGVkTG9jYXRpb24gZGUgdHlwZSBBZG1pbmlzdHJhdGlmXG4gICAgICogLSAqKmJib3gqKiA6IEVtcHJpc2UgZGUgbCd1bml0w6kgYWRtaW5pc3RyYXRpdmUgZGFucyBsZSBzeXN0w6htZSBkZSBjb29yZG9ubsOpZXMgZGVtYW5kw6kgKntsZWZ0LCByaWdodCwgdG9wLCBib3R0b219KlxuICAgICAqIC0gKipwcmVmZWN0dXJlKiogLSBOb20gZGUgbGEgcHLDqWbDqWN0dXJlIGRlIGxhIHLDqWdpb24gb3UgZHUgZMOpcGFydGVtZW50ICp7U3RyaW5nfSpcbiAgICAgKiAtICoqaW5zZWVSZWdpb24qKiAtIE51bcOpcm8gSU5TRUUgZGUgbGEgcsOpZ2lvbiAqe1N0cmluZ30qXG4gICAgICogLSAqKmluc2VlRGVwYXJ0bWVudCoqIC0gTnVtw6lybyBJTlNFRSBkdSBkw6lwYXJ0ZW1lbnQgKntTdHJpbmd9KlxuICAgICAqIC0gKiptdW5pY2lwYWxpdHkqKiAtIE5vbSBkZSBsJ3VuaXTDqSBhZG1pbmlzdHJhdGl2ZSAqe1N0cmluZ30qXG4gICAgICpcbiAgICAgKi9cblxuICAgIHRoaXMuYXR0cmlidXRlc0xpc3QgPSBbXCJiYm94XCIsIFwicHJlZmVjdHVyZVwiLCBcImluc2VlUmVnaW9uXCIsIFwiaW5zZWVEZXBhcnRtZW50XCIsIFwibXVuaWNpcGFsaXR5XCJdO1xuXG4gICAgdGhpcy5zZXJ2aWNlQXR0cmlidXRlcyA9IFtcImJib3hcIiwgXCJQcmVmZWN0dXJlXCIsIFwiSW5zZWVSZWdpb25cIiwgXCJJbnNlZURlcGFydGVtZW50XCIsIFwiTXVuaWNpcGFsaXR5XCJdO1xufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6QWRtaW5pc3RyYXRpZiNcbiAqL1xuQWRtaW5pc3RyYXRpZi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdlb2NvZGVMb2NhdGlvbi5wcm90b3R5cGUpO1xuXG4vKipcbiAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gKi9cbkFkbWluaXN0cmF0aWYucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWRtaW5pc3RyYXRpZjtcblxuZXhwb3J0IGRlZmF1bHQgQWRtaW5pc3RyYXRpZjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/Administratif.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/CadastralParcel.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/CadastralParcel.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GeocodeLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/GeocodeLocation.js\");\n\n\n\n/**\n * @classdesc\n * Format des attributs d'un filtre de géocodage de type CadastralParcel.\n *\n * @constructor\n * @alias Gp.Services.Geocode.Request.CadastralParcel\n * @private\n */\nfunction CadastralParcel () {\n    if (!(this instanceof CadastralParcel)) {\n        throw new TypeError(\"CadastralParcel constructor cannot be called as a function.\");\n    }\n\n    // INFO\n    // appel du constructeur de la classe mère\n    // avec passage de param.\n    _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apply(this, arguments);\n\n    /**\n     * Nom de la classe (heritage)\n     */\n    this.CLASSNAME = \"CadastralParcel\";\n\n    /**\n     * Liste des attributs possibles pour une GeocodeLocation de type CadastralParcel\n     * - **absorbedCity** : Code commune absorbée de la parcelle :\n     *      lorsqu'une parcelle est issue p d'une ancienne commune qui a fusionné avec une autre.\n     *      Sinon, le code vaut '000'. *{String}*\n     * - **sheet** : Feuille de la parcelle (ex 1). *{String}*\n     * - **number** : Numéro de la parcelle (ex. 0041) *{String}*\n     * - **section** : Section de la parcelle (ex 0D). *{String}*\n     * - **commune** : Ville du filtre. *{String}*\n     * - **department** : Département du filtre. *{String}*\n     * - **insee** : Code INSEE du filtre. *{Number}*\n     * - **municipality** : Municipalité du filtre. *{String}*\n     * - **origin** : L'origine de l'objet parcellaire renvoyé\n     *      (correspond à l'attribut \"type\" dans la réponse XML)\n     *      Pour plus d'informations : http://api.ign.fr/tech-docs-js/fr/developpeur/search.html#Recherche_par_parcelles_cadastrales *{Number}*\n     *\n     */\n\n    this.attributesList = [\"absorbedCity\", \"sheet\", \"number\", \"section\", \"commune\", \"department\", \"insee\", \"municipality\", \"origin\"];\n\n    this.serviceAttributes = [\"CommuneAbsorbee\", \"Feuille\", \"Numero\", \"Section\", \"Commune\", \"Departement\", \"INSEE\", \"Municipality\", \"Type\"];\n}\n\n/**\n * @lends module:CadastralParcel#\n */\nCadastralParcel.prototype = Object.create(_GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\n/**\n * Constructeur (alias)\n */\nCadastralParcel.prototype.constructor = CadastralParcel;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CadastralParcel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L21vZGVsL0NhZGFzdHJhbFBhcmNlbC5qcz9jYjYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0RBQWU7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLE9BQU87QUFDaEQsc0RBQXNELE9BQU87QUFDN0QseURBQXlELE9BQU87QUFDaEUseURBQXlELE9BQU87QUFDaEUsMENBQTBDLE9BQU87QUFDakQsbURBQW1ELE9BQU87QUFDMUQsNkNBQTZDLE9BQU87QUFDcEQsc0RBQXNELE9BQU87QUFDN0Q7QUFDQTtBQUNBLHVJQUF1SSxPQUFPO0FBQzlJO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsd0RBQWU7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDhFQUFlLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL0dlb2NvZGUvUmVxdWVzdC9tb2RlbC9DYWRhc3RyYWxQYXJjZWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBHZW9jb2RlTG9jYXRpb24gZnJvbSBcIi4uL0dlb2NvZGVMb2NhdGlvblwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEZvcm1hdCBkZXMgYXR0cmlidXRzIGQndW4gZmlsdHJlIGRlIGfDqW9jb2RhZ2UgZGUgdHlwZSBDYWRhc3RyYWxQYXJjZWwuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZS5SZXF1ZXN0LkNhZGFzdHJhbFBhcmNlbFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gQ2FkYXN0cmFsUGFyY2VsICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ2FkYXN0cmFsUGFyY2VsKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2FkYXN0cmFsUGFyY2VsIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gSU5GT1xuICAgIC8vIGFwcGVsIGR1IGNvbnN0cnVjdGV1ciBkZSBsYSBjbGFzc2UgbcOocmVcbiAgICAvLyBhdmVjIHBhc3NhZ2UgZGUgcGFyYW0uXG4gICAgR2VvY29kZUxvY2F0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiQ2FkYXN0cmFsUGFyY2VsXCI7XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZSBkZXMgYXR0cmlidXRzIHBvc3NpYmxlcyBwb3VyIHVuZSBHZW9jb2RlTG9jYXRpb24gZGUgdHlwZSBDYWRhc3RyYWxQYXJjZWxcbiAgICAgKiAtICoqYWJzb3JiZWRDaXR5KiogOiBDb2RlIGNvbW11bmUgYWJzb3Jiw6llIGRlIGxhIHBhcmNlbGxlIDpcbiAgICAgKiAgICAgIGxvcnNxdSd1bmUgcGFyY2VsbGUgZXN0IGlzc3VlIHAgZCd1bmUgYW5jaWVubmUgY29tbXVuZSBxdWkgYSBmdXNpb25uw6kgYXZlYyB1bmUgYXV0cmUuXG4gICAgICogICAgICBTaW5vbiwgbGUgY29kZSB2YXV0ICcwMDAnLiAqe1N0cmluZ30qXG4gICAgICogLSAqKnNoZWV0KiogOiBGZXVpbGxlIGRlIGxhIHBhcmNlbGxlIChleCAxKS4gKntTdHJpbmd9KlxuICAgICAqIC0gKipudW1iZXIqKiA6IE51bcOpcm8gZGUgbGEgcGFyY2VsbGUgKGV4LiAwMDQxKSAqe1N0cmluZ30qXG4gICAgICogLSAqKnNlY3Rpb24qKiA6IFNlY3Rpb24gZGUgbGEgcGFyY2VsbGUgKGV4IDBEKS4gKntTdHJpbmd9KlxuICAgICAqIC0gKipjb21tdW5lKiogOiBWaWxsZSBkdSBmaWx0cmUuICp7U3RyaW5nfSpcbiAgICAgKiAtICoqZGVwYXJ0bWVudCoqIDogRMOpcGFydGVtZW50IGR1IGZpbHRyZS4gKntTdHJpbmd9KlxuICAgICAqIC0gKippbnNlZSoqIDogQ29kZSBJTlNFRSBkdSBmaWx0cmUuICp7TnVtYmVyfSpcbiAgICAgKiAtICoqbXVuaWNpcGFsaXR5KiogOiBNdW5pY2lwYWxpdMOpIGR1IGZpbHRyZS4gKntTdHJpbmd9KlxuICAgICAqIC0gKipvcmlnaW4qKiA6IEwnb3JpZ2luZSBkZSBsJ29iamV0IHBhcmNlbGxhaXJlIHJlbnZvecOpXG4gICAgICogICAgICAoY29ycmVzcG9uZCDDoCBsJ2F0dHJpYnV0IFwidHlwZVwiIGRhbnMgbGEgcsOpcG9uc2UgWE1MKVxuICAgICAqICAgICAgUG91ciBwbHVzIGQnaW5mb3JtYXRpb25zIDogaHR0cDovL2FwaS5pZ24uZnIvdGVjaC1kb2NzLWpzL2ZyL2RldmVsb3BwZXVyL3NlYXJjaC5odG1sI1JlY2hlcmNoZV9wYXJfcGFyY2VsbGVzX2NhZGFzdHJhbGVzICp7TnVtYmVyfSpcbiAgICAgKlxuICAgICAqL1xuXG4gICAgdGhpcy5hdHRyaWJ1dGVzTGlzdCA9IFtcImFic29yYmVkQ2l0eVwiLCBcInNoZWV0XCIsIFwibnVtYmVyXCIsIFwic2VjdGlvblwiLCBcImNvbW11bmVcIiwgXCJkZXBhcnRtZW50XCIsIFwiaW5zZWVcIiwgXCJtdW5pY2lwYWxpdHlcIiwgXCJvcmlnaW5cIl07XG5cbiAgICB0aGlzLnNlcnZpY2VBdHRyaWJ1dGVzID0gW1wiQ29tbXVuZUFic29yYmVlXCIsIFwiRmV1aWxsZVwiLCBcIk51bWVyb1wiLCBcIlNlY3Rpb25cIiwgXCJDb21tdW5lXCIsIFwiRGVwYXJ0ZW1lbnRcIiwgXCJJTlNFRVwiLCBcIk11bmljaXBhbGl0eVwiLCBcIlR5cGVcIl07XG59XG5cbi8qKlxuICogQGxlbmRzIG1vZHVsZTpDYWRhc3RyYWxQYXJjZWwjXG4gKi9cbkNhZGFzdHJhbFBhcmNlbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdlb2NvZGVMb2NhdGlvbi5wcm90b3R5cGUpO1xuXG4vKipcbiAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gKi9cbkNhZGFzdHJhbFBhcmNlbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYWRhc3RyYWxQYXJjZWw7XG5cbmV4cG9ydCBkZWZhdWx0IENhZGFzdHJhbFBhcmNlbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/CadastralParcel.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/PositionOfInterest.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/PositionOfInterest.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GeocodeLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/GeocodeLocation.js\");\n\n\n\n/**\n * @classdesc\n * Format des attributs d'un résultat de géocodage de type PositionOfInterest\n *\n * @constructor\n * @alias Gp.Services.Geocode.Request.PositionOfInterest\n * @private\n */\nfunction PositionOfInterest () {\n    if (!(this instanceof PositionOfInterest)) {\n        throw new TypeError(\"PositionOfInterest constructor cannot be called as a function.\");\n    }\n\n    // INFO\n    // appel du constructeur de la classe mère\n    // avec passage de param.\n    _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apply(this, arguments);\n\n    /**\n     * Nom de la classe (heritage)\n     * @type {String}\n     */\n    this.CLASSNAME = \"PositionOfInterest\";\n\n    /**\n     * Liste des attributs possibles pour une GeocodeLocation de type PositionOfInterest\n     * - **bbox** : Emprise du toponyme dans le système de coordonnées demandé {left, right, top, bottom} *{Object}*\n     * - **importance** : Importance du toponyme *{number}*\n     * - **nature** : Nature du toponyme. *{String}*\n     * - **territory** : Code du territoire français où se situe le toponyme *{String}*\n     * - **commune** : Ville du toponyme. *{String}*\n     * - **department** : Département du toponyme. *{String}*\n     * - **insee** : Code INSEE de la commune où se situe le toponyme. *{Number}*\n     * - **municipality** : Municipalité du toponyme. *{String}*\n     */\n\n    this.attributesList = [\"bbox\", \"importance\", \"nature\", \"territory\", \"commune\", \"department\", \"insee\", \"municipality\"];\n\n    this.serviceAttributes = [\"bbox\", \"Importance\", \"Nature\", \"Territoire\", \"Commune\", \"Departement\", \"INSEE\", \"Municipality\"];\n}\n\n/**\n * @lends module:PositionOfInterest#\n */\nPositionOfInterest.prototype = Object.create(_GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\n/**\n * Constructeur (alias)\n */\nPositionOfInterest.prototype.constructor = PositionOfInterest;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PositionOfInterest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L21vZGVsL1Bvc2l0aW9uT2ZJbnRlcmVzdC5qcz80MzVkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0RBQWU7O0FBRW5CO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0ZBQWdGLHlCQUF5QixHQUFHLE9BQU87QUFDbkgsbURBQW1ELE9BQU87QUFDMUQsNENBQTRDLE9BQU87QUFDbkQsK0VBQStFLE9BQU87QUFDdEYsNENBQTRDLE9BQU87QUFDbkQscURBQXFELE9BQU87QUFDNUQseUVBQXlFLE9BQU87QUFDaEYsd0RBQXdELE9BQU87QUFDL0Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsd0RBQWU7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBOztBQUVlLGlGQUFrQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9HZW9jb2RlL1JlcXVlc3QvbW9kZWwvUG9zaXRpb25PZkludGVyZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgR2VvY29kZUxvY2F0aW9uIGZyb20gXCIuLi9HZW9jb2RlTG9jYXRpb25cIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBGb3JtYXQgZGVzIGF0dHJpYnV0cyBkJ3VuIHLDqXN1bHRhdCBkZSBnw6lvY29kYWdlIGRlIHR5cGUgUG9zaXRpb25PZkludGVyZXN0XG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZS5SZXF1ZXN0LlBvc2l0aW9uT2ZJbnRlcmVzdFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gUG9zaXRpb25PZkludGVyZXN0ICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG9zaXRpb25PZkludGVyZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUG9zaXRpb25PZkludGVyZXN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gSU5GT1xuICAgIC8vIGFwcGVsIGR1IGNvbnN0cnVjdGV1ciBkZSBsYSBjbGFzc2UgbcOocmVcbiAgICAvLyBhdmVjIHBhc3NhZ2UgZGUgcGFyYW0uXG4gICAgR2VvY29kZUxvY2F0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuQ0xBU1NOQU1FID0gXCJQb3NpdGlvbk9mSW50ZXJlc3RcIjtcblxuICAgIC8qKlxuICAgICAqIExpc3RlIGRlcyBhdHRyaWJ1dHMgcG9zc2libGVzIHBvdXIgdW5lIEdlb2NvZGVMb2NhdGlvbiBkZSB0eXBlIFBvc2l0aW9uT2ZJbnRlcmVzdFxuICAgICAqIC0gKipiYm94KiogOiBFbXByaXNlIGR1IHRvcG9ueW1lIGRhbnMgbGUgc3lzdMOobWUgZGUgY29vcmRvbm7DqWVzIGRlbWFuZMOpIHtsZWZ0LCByaWdodCwgdG9wLCBib3R0b219ICp7T2JqZWN0fSpcbiAgICAgKiAtICoqaW1wb3J0YW5jZSoqIDogSW1wb3J0YW5jZSBkdSB0b3BvbnltZSAqe251bWJlcn0qXG4gICAgICogLSAqKm5hdHVyZSoqIDogTmF0dXJlIGR1IHRvcG9ueW1lLiAqe1N0cmluZ30qXG4gICAgICogLSAqKnRlcnJpdG9yeSoqIDogQ29kZSBkdSB0ZXJyaXRvaXJlIGZyYW7Dp2FpcyBvw7kgc2Ugc2l0dWUgbGUgdG9wb255bWUgKntTdHJpbmd9KlxuICAgICAqIC0gKipjb21tdW5lKiogOiBWaWxsZSBkdSB0b3BvbnltZS4gKntTdHJpbmd9KlxuICAgICAqIC0gKipkZXBhcnRtZW50KiogOiBEw6lwYXJ0ZW1lbnQgZHUgdG9wb255bWUuICp7U3RyaW5nfSpcbiAgICAgKiAtICoqaW5zZWUqKiA6IENvZGUgSU5TRUUgZGUgbGEgY29tbXVuZSBvw7kgc2Ugc2l0dWUgbGUgdG9wb255bWUuICp7TnVtYmVyfSpcbiAgICAgKiAtICoqbXVuaWNpcGFsaXR5KiogOiBNdW5pY2lwYWxpdMOpIGR1IHRvcG9ueW1lLiAqe1N0cmluZ30qXG4gICAgICovXG5cbiAgICB0aGlzLmF0dHJpYnV0ZXNMaXN0ID0gW1wiYmJveFwiLCBcImltcG9ydGFuY2VcIiwgXCJuYXR1cmVcIiwgXCJ0ZXJyaXRvcnlcIiwgXCJjb21tdW5lXCIsIFwiZGVwYXJ0bWVudFwiLCBcImluc2VlXCIsIFwibXVuaWNpcGFsaXR5XCJdO1xuXG4gICAgdGhpcy5zZXJ2aWNlQXR0cmlidXRlcyA9IFtcImJib3hcIiwgXCJJbXBvcnRhbmNlXCIsIFwiTmF0dXJlXCIsIFwiVGVycml0b2lyZVwiLCBcIkNvbW11bmVcIiwgXCJEZXBhcnRlbWVudFwiLCBcIklOU0VFXCIsIFwiTXVuaWNpcGFsaXR5XCJdO1xufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6UG9zaXRpb25PZkludGVyZXN0I1xuICovXG5Qb3NpdGlvbk9mSW50ZXJlc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHZW9jb2RlTG9jYXRpb24ucHJvdG90eXBlKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICovXG5Qb3NpdGlvbk9mSW50ZXJlc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9zaXRpb25PZkludGVyZXN0O1xuXG5leHBvcnQgZGVmYXVsdCBQb3NpdGlvbk9mSW50ZXJlc3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/PositionOfInterest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/StreetAddress.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/StreetAddress.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GeocodeLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/GeocodeLocation.js\");\n\n\n\n/**\n * @classdesc\n * Format des attributs d'un résultat de géocodage de type StreetAddress.\n *\n * @constructor\n * @alias Gp.Services.Geocode.Request.StreetAddress\n * @private\n */\nfunction StreetAddress () {\n    if (!(this instanceof StreetAddress)) {\n        throw new TypeError(\"StreetAddress constructor cannot be called as a function.\");\n    }\n\n    // INFO\n    // appel du constructeur de la classe mère\n    // avec passage de param.\n    _GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apply(this, arguments);\n\n    /**\n     * Nom de la classe (heritage)\n     * @type {String}\n     */\n    this.CLASSNAME = \"StreetAddress\";\n\n    /**\n     * Liste des attributs possibles pour une GeocodeLocation de type StreetAddress\n     * - **bbox** : Emprise de l'adresse dans le système de coordonnées demandé {left, right, top, bottom}. *{Object}*\n     * - **ID** : Identifiant BD ADRESSE dans le cas où le résultat est une adresse. *{String}*\n     * - **IDTR** : Identifiant \"Route Adresse\" de la voie portant l'adresse dans la base BD ADRESSE. *{String}*\n     * - **quality** : Indicateur de qualité du géocodage (pour plus d'infos : http://api.ign.fr/tech-docs-js/fr/developpeur/search.html *{String}*\n     * - **territory** : Code du territoire français où se situe l'adresse *{String}*\n     * - **commune** : Ville l'adresse. *{String}*\n     * - **department** : Département l'adresse. *{String}*\n     * - **insee** : Code INSEE de l'adresse. *{Number}*\n     * - **municipality** : Municipalité de l'adresse. *{String}*\n     */\n\n    this.attributesList = [\"bbox\", \"ID\", \"IDTR\", \"quality\", \"territory\", \"commune\", \"department\", \"insee\", \"municipality\"];\n\n    this.serviceAttributes = [\"bbox\", \"ID\", \"IDTR\", \"Qualite\", \"Territoire\", \"Commune\", \"Departement\", \"INSEE\", \"Municipality\"];\n}\n\n/**\n * @lends module:StreetAdress#\n */\nStreetAddress.prototype = Object.create(_GeocodeLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\n/**\n * Constructeur (alias)\n */\nStreetAddress.prototype.constructor = StreetAddress;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (StreetAddress);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXF1ZXN0L21vZGVsL1N0cmVldEFkZHJlc3MuanM/YjkxNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDaUQ7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHdEQUFlOztBQUVuQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlGQUFpRix5QkFBeUIsSUFBSSxPQUFPO0FBQ3JILHVGQUF1RixPQUFPO0FBQzlGLHdHQUF3RyxPQUFPO0FBQy9HLDJJQUEySSxPQUFPO0FBQ2xKLDZFQUE2RSxPQUFPO0FBQ3BGLDBDQUEwQyxPQUFPO0FBQ2pELG1EQUFtRCxPQUFPO0FBQzFELGdEQUFnRCxPQUFPO0FBQ3ZELHlEQUF5RCxPQUFPO0FBQ2hFOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHdEQUFlOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFZSw0RUFBYSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9HZW9jb2RlL1JlcXVlc3QvbW9kZWwvU3RyZWV0QWRkcmVzcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEdlb2NvZGVMb2NhdGlvbiBmcm9tIFwiLi4vR2VvY29kZUxvY2F0aW9uXCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRm9ybWF0IGRlcyBhdHRyaWJ1dHMgZCd1biByw6lzdWx0YXQgZGUgZ8Opb2NvZGFnZSBkZSB0eXBlIFN0cmVldEFkZHJlc3MuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZS5SZXF1ZXN0LlN0cmVldEFkZHJlc3NcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFN0cmVldEFkZHJlc3MgKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdHJlZXRBZGRyZXNzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3RyZWV0QWRkcmVzcyBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIElORk9cbiAgICAvLyBhcHBlbCBkdSBjb25zdHJ1Y3RldXIgZGUgbGEgY2xhc3NlIG3DqHJlXG4gICAgLy8gYXZlYyBwYXNzYWdlIGRlIHBhcmFtLlxuICAgIEdlb2NvZGVMb2NhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLyoqXG4gICAgICogTm9tIGRlIGxhIGNsYXNzZSAoaGVyaXRhZ2UpXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiU3RyZWV0QWRkcmVzc1wiO1xuXG4gICAgLyoqXG4gICAgICogTGlzdGUgZGVzIGF0dHJpYnV0cyBwb3NzaWJsZXMgcG91ciB1bmUgR2VvY29kZUxvY2F0aW9uIGRlIHR5cGUgU3RyZWV0QWRkcmVzc1xuICAgICAqIC0gKipiYm94KiogOiBFbXByaXNlIGRlIGwnYWRyZXNzZSBkYW5zIGxlIHN5c3TDqG1lIGRlIGNvb3Jkb25uw6llcyBkZW1hbmTDqSB7bGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tfS4gKntPYmplY3R9KlxuICAgICAqIC0gKipJRCoqIDogSWRlbnRpZmlhbnQgQkQgQURSRVNTRSBkYW5zIGxlIGNhcyBvw7kgbGUgcsOpc3VsdGF0IGVzdCB1bmUgYWRyZXNzZS4gKntTdHJpbmd9KlxuICAgICAqIC0gKipJRFRSKiogOiBJZGVudGlmaWFudCBcIlJvdXRlIEFkcmVzc2VcIiBkZSBsYSB2b2llIHBvcnRhbnQgbCdhZHJlc3NlIGRhbnMgbGEgYmFzZSBCRCBBRFJFU1NFLiAqe1N0cmluZ30qXG4gICAgICogLSAqKnF1YWxpdHkqKiA6IEluZGljYXRldXIgZGUgcXVhbGl0w6kgZHUgZ8Opb2NvZGFnZSAocG91ciBwbHVzIGQnaW5mb3MgOiBodHRwOi8vYXBpLmlnbi5mci90ZWNoLWRvY3MtanMvZnIvZGV2ZWxvcHBldXIvc2VhcmNoLmh0bWwgKntTdHJpbmd9KlxuICAgICAqIC0gKip0ZXJyaXRvcnkqKiA6IENvZGUgZHUgdGVycml0b2lyZSBmcmFuw6dhaXMgb8O5IHNlIHNpdHVlIGwnYWRyZXNzZSAqe1N0cmluZ30qXG4gICAgICogLSAqKmNvbW11bmUqKiA6IFZpbGxlIGwnYWRyZXNzZS4gKntTdHJpbmd9KlxuICAgICAqIC0gKipkZXBhcnRtZW50KiogOiBEw6lwYXJ0ZW1lbnQgbCdhZHJlc3NlLiAqe1N0cmluZ30qXG4gICAgICogLSAqKmluc2VlKiogOiBDb2RlIElOU0VFIGRlIGwnYWRyZXNzZS4gKntOdW1iZXJ9KlxuICAgICAqIC0gKiptdW5pY2lwYWxpdHkqKiA6IE11bmljaXBhbGl0w6kgZGUgbCdhZHJlc3NlLiAqe1N0cmluZ30qXG4gICAgICovXG5cbiAgICB0aGlzLmF0dHJpYnV0ZXNMaXN0ID0gW1wiYmJveFwiLCBcIklEXCIsIFwiSURUUlwiLCBcInF1YWxpdHlcIiwgXCJ0ZXJyaXRvcnlcIiwgXCJjb21tdW5lXCIsIFwiZGVwYXJ0bWVudFwiLCBcImluc2VlXCIsIFwibXVuaWNpcGFsaXR5XCJdO1xuXG4gICAgdGhpcy5zZXJ2aWNlQXR0cmlidXRlcyA9IFtcImJib3hcIiwgXCJJRFwiLCBcIklEVFJcIiwgXCJRdWFsaXRlXCIsIFwiVGVycml0b2lyZVwiLCBcIkNvbW11bmVcIiwgXCJEZXBhcnRlbWVudFwiLCBcIklOU0VFXCIsIFwiTXVuaWNpcGFsaXR5XCJdO1xufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6U3RyZWV0QWRyZXNzI1xuICovXG5TdHJlZXRBZGRyZXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR2VvY29kZUxvY2F0aW9uLnByb3RvdHlwZSk7XG5cbi8qKlxuICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAqL1xuU3RyZWV0QWRkcmVzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdHJlZXRBZGRyZXNzO1xuXG5leHBvcnQgZGVmYXVsdCBTdHJlZXRBZGRyZXNzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Request/model/StreetAddress.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Response/DirectGeocodeResponseFactory.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Response/DirectGeocodeResponseFactory.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Formats_XML__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Formats/XML */ \"./node_modules/geoportal-access-lib/src/Formats/XML.js\");\n/* harmony import */ var _Formats_DirectGeocodeResponseReader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Formats/DirectGeocodeResponseReader */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/DirectGeocodeResponseReader.js\");\n/**\n * Factory pour générer une reponse JSON à partir d'un XML\n * ou d'un JSON encapsulant du XML\n * (Factory)\n *\n * @module GeocodeResponseFactory\n * @alias Gp.Services.Geocode.Response.GeocodeResponseFactory\n * @todo La reponse JSON peut encapsuler un XML !\n * @private\n */\n// import Logger from \"../../../Utils/LoggerByDefault\";\n\n\n\n\n\nvar DirectGeocodeReponseFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Geocode\n     *\n     * @example\n     *   var options = {\n     *      response :\n     *      rawResponse :\n     *      scope :\n     *      onSuccess :\n     *      onError :\n     *   };\n     *\n     */\n    build : function (options) {\n        // data de type GeocodeResponse\n        var data = null;\n\n        if (options.response) {\n            if (options.rawResponse) {\n                data = options.response;\n            } else {\n                try {\n                    var p = new _Formats_XML__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        reader : _Formats_DirectGeocodeResponseReader__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n                    });\n\n                    if (typeof options.response === \"string\") {\n                        p.setXMLString(options.response);\n                    } else {\n                        p.setXMLDoc(options.response);\n                    }\n\n                    data = p.parse();\n\n                    if (!data) {\n                        throw new Error(\"L'analyse de la réponse du service !?\");\n                    }\n                } catch (e) {\n                    var message = e.message;\n                    if (typeof options.response === \"string\") {\n                        message += \"('\" + options.response + \"')\";\n                    } else {\n                        message += \"('\" + options.response.documentElement.innerHTML + \"')\";\n                    }\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE\", message),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TYPE_UNKERR,\n                        status : -1\n                    }));\n                    return;\n                }\n\n                // Si la réponse contenait une exception renvoyée par le service\n                if (data.exceptionReport) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", data.exceptionReport),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TYPE_SRVERR,\n                        status : 200 // FIXME : 200 ?\n                    }));\n                    return;\n                }\n            }\n        } else {\n            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n                message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\"),\n                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TYPE_SRVERR,\n                status : -1 // FIXME : status response\n            }));\n            return;\n        }\n\n        options.onSuccess.call(options.scope, data);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DirectGeocodeReponseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9EaXJlY3RHZW9jb2RlUmVzcG9uc2VGYWN0b3J5LmpzPzBjYTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNEQ7QUFDUjtBQUNiO0FBQzBDOztBQUVqRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZ0NBQWdDLG9EQUFHO0FBQ25DLGlDQUFpQyw0RUFBMkI7QUFDNUQscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsNERBQTRELGdFQUFZO0FBQ3hFLGtDQUFrQyxnRUFBSTtBQUN0QywrQkFBK0IsZ0VBQVk7QUFDM0M7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNERBQTRELGdFQUFZO0FBQ3hFLGtDQUFrQyxnRUFBSTtBQUN0QywrQkFBK0IsZ0VBQVk7QUFDM0M7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG9EQUFvRCxnRUFBWTtBQUNoRSwwQkFBMEIsZ0VBQUk7QUFDOUIsdUJBQXVCLGdFQUFZO0FBQ25DO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLDBGQUEyQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9HZW9jb2RlL1Jlc3BvbnNlL0RpcmVjdEdlb2NvZGVSZXNwb25zZUZhY3RvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZhY3RvcnkgcG91ciBnw6luw6lyZXIgdW5lIHJlcG9uc2UgSlNPTiDDoCBwYXJ0aXIgZCd1biBYTUxcbiAqIG91IGQndW4gSlNPTiBlbmNhcHN1bGFudCBkdSBYTUxcbiAqIChGYWN0b3J5KVxuICpcbiAqIEBtb2R1bGUgR2VvY29kZVJlc3BvbnNlRmFjdG9yeVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkdlb2NvZGUuUmVzcG9uc2UuR2VvY29kZVJlc3BvbnNlRmFjdG9yeVxuICogQHRvZG8gTGEgcmVwb25zZSBKU09OIHBldXQgZW5jYXBzdWxlciB1biBYTUwgIVxuICogQHByaXZhdGVcbiAqL1xuLy8gaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgRXJyb3JTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9FeGNlcHRpb25zL0Vycm9yU2VydmljZVwiO1xuaW1wb3J0IE1SZXMgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL01lc3NhZ2VzUmVzb3VyY2VzXCI7XG5pbXBvcnQgWE1MIGZyb20gXCIuLi8uLi8uLi9Gb3JtYXRzL1hNTFwiO1xuaW1wb3J0IERpcmVjdEdlb2NvZGVSZXNwb25zZVJlYWRlciBmcm9tIFwiLi4vRm9ybWF0cy9EaXJlY3RHZW9jb2RlUmVzcG9uc2VSZWFkZXJcIjtcblxudmFyIERpcmVjdEdlb2NvZGVSZXBvbnNlRmFjdG9yeSA9IHtcblxuICAgIC8qKlxuICAgICAqIGludGVyZmFjZSB1bmlxdWVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgYnVpbGRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGRlZmluaWVzIGRhbnMgbGUgY29tcG9zYW50IEdlb2NvZGVcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICAgIHJlc3BvbnNlIDpcbiAgICAgKiAgICAgIHJhd1Jlc3BvbnNlIDpcbiAgICAgKiAgICAgIHNjb3BlIDpcbiAgICAgKiAgICAgIG9uU3VjY2VzcyA6XG4gICAgICogICAgICBvbkVycm9yIDpcbiAgICAgKiAgIH07XG4gICAgICpcbiAgICAgKi9cbiAgICBidWlsZCA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGRhdGEgZGUgdHlwZSBHZW9jb2RlUmVzcG9uc2VcbiAgICAgICAgdmFyIGRhdGEgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBYTUwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyIDogRGlyZWN0R2VvY29kZVJlc3BvbnNlUmVhZGVyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcC5zZXRYTUxTdHJpbmcob3B0aW9ucy5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwLnNldFhNTERvYyhvcHRpb25zLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBwLnBhcnNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMJ2FuYWx5c2UgZGUgbGEgcsOpcG9uc2UgZHUgc2VydmljZSAhP1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIignXCIgKyBvcHRpb25zLnJlc3BvbnNlICsgXCInKVwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIignXCIgKyBvcHRpb25zLnJlc3BvbnNlLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUwgKyBcIicpXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9BTkFMWVNFXCIsIG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1VOS0VSUixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IC0xXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNpIGxhIHLDqXBvbnNlIGNvbnRlbmFpdCB1bmUgZXhjZXB0aW9uIHJlbnZvecOpZSBwYXIgbGUgc2VydmljZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmV4Y2VwdGlvblJlcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VYQ0VQVElPTlwiLCBkYXRhLmV4Y2VwdGlvblJlcG9ydCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogRXJyb3JTZXJ2aWNlLlRZUEVfU1JWRVJSLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogMjAwIC8vIEZJWE1FIDogMjAwID9cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA6IE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRU1QVFlcIiksXG4gICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUixcbiAgICAgICAgICAgICAgICBzdGF0dXMgOiAtMSAvLyBGSVhNRSA6IHN0YXR1cyByZXNwb25zZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5vblN1Y2Nlc3MuY2FsbChvcHRpb25zLnNjb3BlLCBkYXRhKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEaXJlY3RHZW9jb2RlUmVwb25zZUZhY3Rvcnk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Response/DirectGeocodeResponseFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Response/ReverseGeocodeResponseFactory.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Response/ReverseGeocodeResponseFactory.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Formats_XML__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Formats/XML */ \"./node_modules/geoportal-access-lib/src/Formats/XML.js\");\n/* harmony import */ var _Formats_ReverseGeocodeResponseReader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Formats/ReverseGeocodeResponseReader */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Formats/ReverseGeocodeResponseReader.js\");\n/**\n * Factory pour générer une reponse JSON à partir d'un XML\n * ou d'un JSON encapsulant du XML\n * (Factory)\n *\n * @module ReverseGeocodeResponseFactory\n * @alias Gp.Services.ReverseGeocode.Response.ReverseGeocodeResponseFactory\n * @todo La reponse JSON peut encapsuler un XML !\n * @private\n */\n\n\n\n\n\n\nvar ReverseGeocodeReponseFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant ReverseGeocode\n     *\n     * @example\n     *   var options = {\n     *      response :\n     *      rawResponse :\n     *      scope :\n     *      onSuccess :\n     *      onError :\n     *   };\n     *\n     */\n    build : function (options) {\n        // data de type ReverseGeocodeResponse\n        var data = null;\n\n        if (options.response) {\n            if (options.rawResponse) {\n                data = options.response;\n            } else {\n                try {\n                    var p = new _Formats_XML__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        reader : _Formats_ReverseGeocodeResponseReader__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n                    });\n\n                    if (typeof options.response === \"string\") {\n                        p.setXMLString(options.response);\n                    } else {\n                        p.setXMLDoc(options.response);\n                    }\n\n                    data = p.parse();\n\n                    if (!data) {\n                        throw new Error(\"L'analyse de la réponse du service !?\");\n                    }\n                } catch (e) {\n                    // on relaye l'erreur reçue\n                    e.status = 200;\n                    options.onError.call(options.scope, e);\n                    return;\n                }\n\n                // Si la réponse contenait une exception renvoyée par le service\n                // TODO : quand cela arrive-t-il ?\n                if (data.exceptionReport) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", data.exceptionReport),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE_SRVERR,\n                        status : 200\n                    }));\n                    return;\n                }\n\n                // dans le cas d'un srs non EPSG géographique, il faut réinverser les coordonnées (lat,lon => lon,lat)\n                if (options.scope && options.scope.options && options.scope.options.srs && options.scope.options.srs !== \"EPSG:4326\") {\n                    var location;\n                    var pos;\n                    if (data || data.locations || data.locations.length) {\n                        for (var i = 0; i < data.locations.length; i++) {\n                            location = data.locations[i];\n                            if (location) {\n                                pos = location.position;\n                                if (pos) {\n                                    // on inverse les 2 coordonnées\n                                    location.position = {\n                                        x : pos.y,\n                                        y : pos.x\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        } else {\n            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\"),\n                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE_SRVERR,\n                status : -1 // FIXME : status response\n            }));\n            return;\n        }\n\n        options.onSuccess.call(options.scope, data);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReverseGeocodeReponseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9SZXZlcnNlR2VvY29kZVJlc3BvbnNlRmFjdG9yeS5qcz9lNDJmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0Q7QUFDUTtBQUNyQjtBQUM0Qzs7QUFFbkY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdDQUFnQyxvREFBRztBQUNuQyxpQ0FBaUMsNkVBQTRCO0FBQzdELHFCQUFxQjs7QUFFckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxnRUFBWTtBQUN4RSxrQ0FBa0MsZ0VBQUk7QUFDdEMsK0JBQStCLGdFQUFZO0FBQzNDO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyQkFBMkI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG9EQUFvRCxnRUFBWTtBQUNoRSwwQkFBMEIsZ0VBQUk7QUFDOUIsdUJBQXVCLGdFQUFZO0FBQ25DO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLDJGQUE0QixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9HZW9jb2RlL1Jlc3BvbnNlL1JldmVyc2VHZW9jb2RlUmVzcG9uc2VGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWN0b3J5IHBvdXIgZ8OpbsOpcmVyIHVuZSByZXBvbnNlIEpTT04gw6AgcGFydGlyIGQndW4gWE1MXG4gKiBvdSBkJ3VuIEpTT04gZW5jYXBzdWxhbnQgZHUgWE1MXG4gKiAoRmFjdG9yeSlcbiAqXG4gKiBAbW9kdWxlIFJldmVyc2VHZW9jb2RlUmVzcG9uc2VGYWN0b3J5XG4gKiBAYWxpYXMgR3AuU2VydmljZXMuUmV2ZXJzZUdlb2NvZGUuUmVzcG9uc2UuUmV2ZXJzZUdlb2NvZGVSZXNwb25zZUZhY3RvcnlcbiAqIEB0b2RvIExhIHJlcG9uc2UgSlNPTiBwZXV0IGVuY2Fwc3VsZXIgdW4gWE1MICFcbiAqIEBwcml2YXRlXG4gKi9cblxuaW1wb3J0IE1SZXMgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL01lc3NhZ2VzUmVzb3VyY2VzXCI7XG5pbXBvcnQgRXJyb3JTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9FeGNlcHRpb25zL0Vycm9yU2VydmljZVwiO1xuaW1wb3J0IFhNTCBmcm9tIFwiLi4vLi4vLi4vRm9ybWF0cy9YTUxcIjtcbmltcG9ydCBSZXZlcnNlR2VvY29kZVJlc3BvbnNlUmVhZGVyIGZyb20gXCIuLi9Gb3JtYXRzL1JldmVyc2VHZW9jb2RlUmVzcG9uc2VSZWFkZXJcIjtcblxudmFyIFJldmVyc2VHZW9jb2RlUmVwb25zZUZhY3RvcnkgPSB7XG5cbiAgICAvKipcbiAgICAgKiBpbnRlcmZhY2UgdW5pcXVlXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGJ1aWxkXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBkZWZpbmllcyBkYW5zIGxlIGNvbXBvc2FudCBSZXZlcnNlR2VvY29kZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgICAgcmVzcG9uc2UgOlxuICAgICAqICAgICAgcmF3UmVzcG9uc2UgOlxuICAgICAqICAgICAgc2NvcGUgOlxuICAgICAqICAgICAgb25TdWNjZXNzIDpcbiAgICAgKiAgICAgIG9uRXJyb3IgOlxuICAgICAqICAgfTtcbiAgICAgKlxuICAgICAqL1xuICAgIGJ1aWxkIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gZGF0YSBkZSB0eXBlIFJldmVyc2VHZW9jb2RlUmVzcG9uc2VcbiAgICAgICAgdmFyIGRhdGEgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBYTUwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyIDogUmV2ZXJzZUdlb2NvZGVSZXNwb25zZVJlYWRlclxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVzcG9uc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MU3RyaW5nKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcC5zZXRYTUxEb2Mob3B0aW9ucy5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gcC5wYXJzZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTCdhbmFseXNlIGRlIGxhIHLDqXBvbnNlIGR1IHNlcnZpY2UgIT9cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIHJlbGF5ZSBsJ2VycmV1ciByZcOndWVcbiAgICAgICAgICAgICAgICAgICAgZS5zdGF0dXMgPSAyMDA7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU2kgbGEgcsOpcG9uc2UgY29udGVuYWl0IHVuZSBleGNlcHRpb24gcmVudm95w6llIHBhciBsZSBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgLy8gVE9ETyA6IHF1YW5kIGNlbGEgYXJyaXZlLXQtaWwgP1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmV4Y2VwdGlvblJlcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VYQ0VQVElPTlwiLCBkYXRhLmV4Y2VwdGlvblJlcG9ydCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogRXJyb3JTZXJ2aWNlLlRZUEVfU1JWRVJSLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogMjAwXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGRhbnMgbGUgY2FzIGQndW4gc3JzIG5vbiBFUFNHIGfDqW9ncmFwaGlxdWUsIGlsIGZhdXQgcsOpaW52ZXJzZXIgbGVzIGNvb3Jkb25uw6llcyAobGF0LGxvbiA9PiBsb24sbGF0KVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnNjb3BlICYmIG9wdGlvbnMuc2NvcGUub3B0aW9ucyAmJiBvcHRpb25zLnNjb3BlLm9wdGlvbnMuc3JzICYmIG9wdGlvbnMuc2NvcGUub3B0aW9ucy5zcnMgIT09IFwiRVBTRzo0MzI2XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSB8fCBkYXRhLmxvY2F0aW9ucyB8fCBkYXRhLmxvY2F0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGRhdGEubG9jYXRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBsb2NhdGlvbi5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gaW52ZXJzZSBsZXMgMiBjb29yZG9ubsOpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggOiBwb3MueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5IDogcG9zLnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlIDogTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FTVBUWVwiKSxcbiAgICAgICAgICAgICAgICB0eXBlIDogRXJyb3JTZXJ2aWNlLlRZUEVfU1JWRVJSLFxuICAgICAgICAgICAgICAgIHN0YXR1cyA6IC0xIC8vIEZJWE1FIDogc3RhdHVzIHJlc3BvbnNlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLm9uU3VjY2Vzcy5jYWxsKG9wdGlvbnMuc2NvcGUsIGRhdGEpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJldmVyc2VHZW9jb2RlUmVwb25zZUZhY3Rvcnk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Response/ReverseGeocodeResponseFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/DirectGeocodedLocation.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/DirectGeocodedLocation.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GeocodedLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeocodedLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodedLocation.js\");\n\n\n\n/**\n * Single location object returned by the underlying geocoding web service.\n *\n * @property {Float} accuracy - Accuracy of the response towards the requested location between 0 (unaccurate) and 1 (exact match).\n *\n * @namespace\n * @extends {Gp.Services.Geocode.GeocodedLocation}\n * @alias Gp.Services.Geocode.DirectGeocodedLocation\n */\nfunction DirectGeocodedLocation () {\n    if (!(this instanceof DirectGeocodedLocation)) {\n        throw new TypeError(\"DirectGeocodedLocation constructor cannot be called as a function.\");\n    }\n\n    // INFO\n    // appel du constructeur de la classe mère\n    // avec passage de param.\n    _GeocodedLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apply(this, arguments);\n\n    /**\n     * Nom de la classe (heritage) : \"DirectGeocodedLocation\"\n     * @type {String}\n     */\n    this.CLASSNAME = \"DirectGeocodedLocation\";\n\n    this.accuracy = null;\n}\n\nDirectGeocodedLocation.prototype = Object.create(_GeocodedLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\nDirectGeocodedLocation.prototype.constructor = DirectGeocodedLocation;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DirectGeocodedLocation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9EaXJlY3RHZW9jb2RlZExvY2F0aW9uLmpzPzNjNTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ2tEOztBQUVsRDtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5REFBZ0I7O0FBRXBCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlEQUFpRCx5REFBZ0I7O0FBRWpFOztBQUVlLHFGQUFzQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9HZW9jb2RlL1Jlc3BvbnNlL21vZGVsL0RpcmVjdEdlb2NvZGVkTG9jYXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBHZW9jb2RlZExvY2F0aW9uIGZyb20gXCIuL0dlb2NvZGVkTG9jYXRpb25cIjtcblxuLyoqXG4gKiBTaW5nbGUgbG9jYXRpb24gb2JqZWN0IHJldHVybmVkIGJ5IHRoZSB1bmRlcmx5aW5nIGdlb2NvZGluZyB3ZWIgc2VydmljZS5cbiAqXG4gKiBAcHJvcGVydHkge0Zsb2F0fSBhY2N1cmFjeSAtIEFjY3VyYWN5IG9mIHRoZSByZXNwb25zZSB0b3dhcmRzIHRoZSByZXF1ZXN0ZWQgbG9jYXRpb24gYmV0d2VlbiAwICh1bmFjY3VyYXRlKSBhbmQgMSAoZXhhY3QgbWF0Y2gpLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBleHRlbmRzIHtHcC5TZXJ2aWNlcy5HZW9jb2RlLkdlb2NvZGVkTG9jYXRpb259XG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZS5EaXJlY3RHZW9jb2RlZExvY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIERpcmVjdEdlb2NvZGVkTG9jYXRpb24gKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEaXJlY3RHZW9jb2RlZExvY2F0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGlyZWN0R2VvY29kZWRMb2NhdGlvbiBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIElORk9cbiAgICAvLyBhcHBlbCBkdSBjb25zdHJ1Y3RldXIgZGUgbGEgY2xhc3NlIG3DqHJlXG4gICAgLy8gYXZlYyBwYXNzYWdlIGRlIHBhcmFtLlxuICAgIEdlb2NvZGVkTG9jYXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8qKlxuICAgICAqIE5vbSBkZSBsYSBjbGFzc2UgKGhlcml0YWdlKSA6IFwiRGlyZWN0R2VvY29kZWRMb2NhdGlvblwiXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiRGlyZWN0R2VvY29kZWRMb2NhdGlvblwiO1xuXG4gICAgdGhpcy5hY2N1cmFjeSA9IG51bGw7XG59XG5cbkRpcmVjdEdlb2NvZGVkTG9jYXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHZW9jb2RlZExvY2F0aW9uLnByb3RvdHlwZSk7XG5cbkRpcmVjdEdlb2NvZGVkTG9jYXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGlyZWN0R2VvY29kZWRMb2NhdGlvbjtcblxuZXhwb3J0IGRlZmF1bHQgRGlyZWN0R2VvY29kZWRMb2NhdGlvbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/DirectGeocodedLocation.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodeResponse.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodeResponse.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Response object for {@link module:Services~geocode Gp.Services.geocode ()} or {@link module:Services~reverseGeocode Gp.Services.reverseGeocode ()} invocation when successful. Received as the argument of onSuccess callback function.\n *\n * @property {Array.<Gp.Services.Geocode.DirectGeocodedLocation|Gp.Services.Geocode.ReverseGeocodedLocation>} locations - locations array.\n *\n * @namespace\n * @alias Gp.Services.GeocodeResponse\n */\nfunction GeocodeResponse () {\n    if (!(this instanceof GeocodeResponse)) {\n        throw new TypeError(\"GeocodeResponse constructor cannot be called as a function.\");\n    }\n\n    this.locations = [];\n}\n\nGeocodeResponse.prototype = {\n\n    constructor : GeocodeResponse\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GeocodeResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9HZW9jb2RlUmVzcG9uc2UuanM/ZWE0NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0Esd0JBQXdCLHFEQUFxRCxLQUFLLG1FQUFtRTtBQUNySjtBQUNBLGNBQWMsK0ZBQStGO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFZSw4RUFBZSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9HZW9jb2RlL1Jlc3BvbnNlL21vZGVsL0dlb2NvZGVSZXNwb25zZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBSZXNwb25zZSBvYmplY3QgZm9yIHtAbGluayBtb2R1bGU6U2VydmljZXN+Z2VvY29kZSBHcC5TZXJ2aWNlcy5nZW9jb2RlICgpfSBvciB7QGxpbmsgbW9kdWxlOlNlcnZpY2VzfnJldmVyc2VHZW9jb2RlIEdwLlNlcnZpY2VzLnJldmVyc2VHZW9jb2RlICgpfSBpbnZvY2F0aW9uIHdoZW4gc3VjY2Vzc2Z1bC4gUmVjZWl2ZWQgYXMgdGhlIGFyZ3VtZW50IG9mIG9uU3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvbi5cbiAqXG4gKiBAcHJvcGVydHkge0FycmF5LjxHcC5TZXJ2aWNlcy5HZW9jb2RlLkRpcmVjdEdlb2NvZGVkTG9jYXRpb258R3AuU2VydmljZXMuR2VvY29kZS5SZXZlcnNlR2VvY29kZWRMb2NhdGlvbj59IGxvY2F0aW9ucyAtIGxvY2F0aW9ucyBhcnJheS5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuR2VvY29kZVJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIEdlb2NvZGVSZXNwb25zZSAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEdlb2NvZGVSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlb2NvZGVSZXNwb25zZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMubG9jYXRpb25zID0gW107XG59XG5cbkdlb2NvZGVSZXNwb25zZS5wcm90b3R5cGUgPSB7XG5cbiAgICBjb25zdHJ1Y3RvciA6IEdlb2NvZGVSZXNwb25zZVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHZW9jb2RlUmVzcG9uc2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodeResponse.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodedLocation.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodedLocation.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Location object holding common properties returned by the underlying geocoding and reverse geocoding web service.\n *\n * @property {Gp.Point} position - Position of the location given in the requested coordinates system.\n * @property {String} type - location type \"StreetAddress\" (for an address), \"PositionOfInterest\" (for a place name) or \"CadastralParcel\" (for cadastral parcel).\n * @property {String} matchType - how geocoding is performed : \"street number\" (exact address), \"street enhanced\" (street number calculated by interpolation), \"street\" (only the street), \"city\" (only the city).\n * @property {Object} placeAttributes - Associative array matching the following attributes with their values given by the underlying web service :\n *\n * *Common attributes : *\n *\n * - **freeform** - freeform complete Address.\n * - **bbox** - Bounding Box *{@link Gp.BBox}*.\n * - **municipality** - Municipality\n *\n * *if type === \"StreetAddress\" : *\n *\n * - **number** - Street number.\n * - **ID** - Identifier of the address in the [BD ADRESSE Database]{@link http://professionnels.ign.fr/bdadresse}.\n * - **IDTR** - Identifier of the lineString in the [BD ADRESSE Database]{@link http://professionnels.ign.fr/bdadresse}.\n * - **postalCode** - PostCode\n * - **quality** - Geocoding quality ([see]{@link http://api.ign.fr/tech-docs-js/developpeur/search.html})\n * - **street** - Street name\n * - **territory** - French Territory code\n * - **commune** - City\n * - **department** - Department\n * - **insee** - INSEE Code\n *\n *\n * *if type === \"PositionOfInterest\" :*\n *\n * - **importance** - Place name importance\n * - **nature** - Place name nature\n * - **postalCode** - PostCode\n * - **territory** - French Territory code\n * - **commune** - City\n * - **department** - Department\n * - **insee** - INSEE Code\n *\n *\n * *si type = \"CadastralParcel\" :*\n *\n * - **absorbedCity** - when a parcel comes from a city that was absorbed by another, code of that old city. \"000\" otherwise.\n * - **arrondissement** - arrondissement\n * - **cadastralParcel** - cadastral parcel code\n * - **district** - district\n * - **sheet** - Parcel Sheet (eg. \"1\").\n * - **number** - Parcel Number (eg. \"0041\")\n * - **section** - Parcel Section (eg. \"0D\").\n * - **commune** - Parcel municipality.\n * - **department** - Parcel Department.\n * - **insee** - INSEE Code.\n * - **origin** - Parcel origin (see \"type\" attribute in the [underlying web service response]{@link http://api.ign.fr/tech-docs-js/developpeur/search.html#Cadastral_parcels_search})\n *\n * @namespace\n * @alias Gp.Services.Geocode.GeocodedLocation\n */\nfunction GeocodedLocation () {\n    if (!(this instanceof GeocodedLocation)) {\n        throw new TypeError(\"GeocodedLocation constructor cannot be called as a function.\");\n    }\n\n    this.position = {\n        x : null,\n        y : null\n    };\n\n    this.matchType = null;\n\n    this.placeAttributes = {};\n\n    this.type = null;\n}\n\nGeocodedLocation.prototype = {\n\n    constructor : GeocodedLocation\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GeocodedLocation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9HZW9jb2RlZExvY2F0aW9uLmpzPzc2ZDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsY0FBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDZDQUE2QztBQUNsSCwwRUFBMEUsNkNBQTZDO0FBQ3ZIO0FBQ0EsNENBQTRDLDZEQUE2RDtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Ysc0ZBQXNGO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFZSwrRUFBZ0IsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9HZW9jb2RlZExvY2F0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIExvY2F0aW9uIG9iamVjdCBob2xkaW5nIGNvbW1vbiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IHRoZSB1bmRlcmx5aW5nIGdlb2NvZGluZyBhbmQgcmV2ZXJzZSBnZW9jb2Rpbmcgd2ViIHNlcnZpY2UuXG4gKlxuICogQHByb3BlcnR5IHtHcC5Qb2ludH0gcG9zaXRpb24gLSBQb3NpdGlvbiBvZiB0aGUgbG9jYXRpb24gZ2l2ZW4gaW4gdGhlIHJlcXVlc3RlZCBjb29yZGluYXRlcyBzeXN0ZW0uXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdHlwZSAtIGxvY2F0aW9uIHR5cGUgXCJTdHJlZXRBZGRyZXNzXCIgKGZvciBhbiBhZGRyZXNzKSwgXCJQb3NpdGlvbk9mSW50ZXJlc3RcIiAoZm9yIGEgcGxhY2UgbmFtZSkgb3IgXCJDYWRhc3RyYWxQYXJjZWxcIiAoZm9yIGNhZGFzdHJhbCBwYXJjZWwpLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IG1hdGNoVHlwZSAtIGhvdyBnZW9jb2RpbmcgaXMgcGVyZm9ybWVkIDogXCJzdHJlZXQgbnVtYmVyXCIgKGV4YWN0IGFkZHJlc3MpLCBcInN0cmVldCBlbmhhbmNlZFwiIChzdHJlZXQgbnVtYmVyIGNhbGN1bGF0ZWQgYnkgaW50ZXJwb2xhdGlvbiksIFwic3RyZWV0XCIgKG9ubHkgdGhlIHN0cmVldCksIFwiY2l0eVwiIChvbmx5IHRoZSBjaXR5KS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwbGFjZUF0dHJpYnV0ZXMgLSBBc3NvY2lhdGl2ZSBhcnJheSBtYXRjaGluZyB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXMgd2l0aCB0aGVpciB2YWx1ZXMgZ2l2ZW4gYnkgdGhlIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgOlxuICpcbiAqICpDb21tb24gYXR0cmlidXRlcyA6ICpcbiAqXG4gKiAtICoqZnJlZWZvcm0qKiAtIGZyZWVmb3JtIGNvbXBsZXRlIEFkZHJlc3MuXG4gKiAtICoqYmJveCoqIC0gQm91bmRpbmcgQm94ICp7QGxpbmsgR3AuQkJveH0qLlxuICogLSAqKm11bmljaXBhbGl0eSoqIC0gTXVuaWNpcGFsaXR5XG4gKlxuICogKmlmIHR5cGUgPT09IFwiU3RyZWV0QWRkcmVzc1wiIDogKlxuICpcbiAqIC0gKipudW1iZXIqKiAtIFN0cmVldCBudW1iZXIuXG4gKiAtICoqSUQqKiAtIElkZW50aWZpZXIgb2YgdGhlIGFkZHJlc3MgaW4gdGhlIFtCRCBBRFJFU1NFIERhdGFiYXNlXXtAbGluayBodHRwOi8vcHJvZmVzc2lvbm5lbHMuaWduLmZyL2JkYWRyZXNzZX0uXG4gKiAtICoqSURUUioqIC0gSWRlbnRpZmllciBvZiB0aGUgbGluZVN0cmluZyBpbiB0aGUgW0JEIEFEUkVTU0UgRGF0YWJhc2Vde0BsaW5rIGh0dHA6Ly9wcm9mZXNzaW9ubmVscy5pZ24uZnIvYmRhZHJlc3NlfS5cbiAqIC0gKipwb3N0YWxDb2RlKiogLSBQb3N0Q29kZVxuICogLSAqKnF1YWxpdHkqKiAtIEdlb2NvZGluZyBxdWFsaXR5IChbc2VlXXtAbGluayBodHRwOi8vYXBpLmlnbi5mci90ZWNoLWRvY3MtanMvZGV2ZWxvcHBldXIvc2VhcmNoLmh0bWx9KVxuICogLSAqKnN0cmVldCoqIC0gU3RyZWV0IG5hbWVcbiAqIC0gKip0ZXJyaXRvcnkqKiAtIEZyZW5jaCBUZXJyaXRvcnkgY29kZVxuICogLSAqKmNvbW11bmUqKiAtIENpdHlcbiAqIC0gKipkZXBhcnRtZW50KiogLSBEZXBhcnRtZW50XG4gKiAtICoqaW5zZWUqKiAtIElOU0VFIENvZGVcbiAqXG4gKlxuICogKmlmIHR5cGUgPT09IFwiUG9zaXRpb25PZkludGVyZXN0XCIgOipcbiAqXG4gKiAtICoqaW1wb3J0YW5jZSoqIC0gUGxhY2UgbmFtZSBpbXBvcnRhbmNlXG4gKiAtICoqbmF0dXJlKiogLSBQbGFjZSBuYW1lIG5hdHVyZVxuICogLSAqKnBvc3RhbENvZGUqKiAtIFBvc3RDb2RlXG4gKiAtICoqdGVycml0b3J5KiogLSBGcmVuY2ggVGVycml0b3J5IGNvZGVcbiAqIC0gKipjb21tdW5lKiogLSBDaXR5XG4gKiAtICoqZGVwYXJ0bWVudCoqIC0gRGVwYXJ0bWVudFxuICogLSAqKmluc2VlKiogLSBJTlNFRSBDb2RlXG4gKlxuICpcbiAqICpzaSB0eXBlID0gXCJDYWRhc3RyYWxQYXJjZWxcIiA6KlxuICpcbiAqIC0gKiphYnNvcmJlZENpdHkqKiAtIHdoZW4gYSBwYXJjZWwgY29tZXMgZnJvbSBhIGNpdHkgdGhhdCB3YXMgYWJzb3JiZWQgYnkgYW5vdGhlciwgY29kZSBvZiB0aGF0IG9sZCBjaXR5LiBcIjAwMFwiIG90aGVyd2lzZS5cbiAqIC0gKiphcnJvbmRpc3NlbWVudCoqIC0gYXJyb25kaXNzZW1lbnRcbiAqIC0gKipjYWRhc3RyYWxQYXJjZWwqKiAtIGNhZGFzdHJhbCBwYXJjZWwgY29kZVxuICogLSAqKmRpc3RyaWN0KiogLSBkaXN0cmljdFxuICogLSAqKnNoZWV0KiogLSBQYXJjZWwgU2hlZXQgKGVnLiBcIjFcIikuXG4gKiAtICoqbnVtYmVyKiogLSBQYXJjZWwgTnVtYmVyIChlZy4gXCIwMDQxXCIpXG4gKiAtICoqc2VjdGlvbioqIC0gUGFyY2VsIFNlY3Rpb24gKGVnLiBcIjBEXCIpLlxuICogLSAqKmNvbW11bmUqKiAtIFBhcmNlbCBtdW5pY2lwYWxpdHkuXG4gKiAtICoqZGVwYXJ0bWVudCoqIC0gUGFyY2VsIERlcGFydG1lbnQuXG4gKiAtICoqaW5zZWUqKiAtIElOU0VFIENvZGUuXG4gKiAtICoqb3JpZ2luKiogLSBQYXJjZWwgb3JpZ2luIChzZWUgXCJ0eXBlXCIgYXR0cmlidXRlIGluIHRoZSBbdW5kZXJseWluZyB3ZWIgc2VydmljZSByZXNwb25zZV17QGxpbmsgaHR0cDovL2FwaS5pZ24uZnIvdGVjaC1kb2NzLWpzL2RldmVsb3BwZXVyL3NlYXJjaC5odG1sI0NhZGFzdHJhbF9wYXJjZWxzX3NlYXJjaH0pXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkdlb2NvZGUuR2VvY29kZWRMb2NhdGlvblxuICovXG5mdW5jdGlvbiBHZW9jb2RlZExvY2F0aW9uICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgR2VvY29kZWRMb2NhdGlvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlb2NvZGVkTG9jYXRpb24gY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnBvc2l0aW9uID0ge1xuICAgICAgICB4IDogbnVsbCxcbiAgICAgICAgeSA6IG51bGxcbiAgICB9O1xuXG4gICAgdGhpcy5tYXRjaFR5cGUgPSBudWxsO1xuXG4gICAgdGhpcy5wbGFjZUF0dHJpYnV0ZXMgPSB7fTtcblxuICAgIHRoaXMudHlwZSA9IG51bGw7XG59XG5cbkdlb2NvZGVkTG9jYXRpb24ucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBHZW9jb2RlZExvY2F0aW9uXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdlb2NvZGVkTG9jYXRpb247XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodedLocation.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/ReverseGeocodedLocation.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/ReverseGeocodedLocation.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GeocodedLocation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeocodedLocation */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/GeocodedLocation.js\");\n\n\n\n/**\n * Single location object returned by the underlying reverse geocoding web service.\n *\n * @property {Float} searchCenterDistance - Distance between the requested point and the location.\n *\n * @namespace\n * @extends {Gp.Services.Geocode.GeocodedLocation}\n * @alias Gp.Services.Geocode.ReverseGeocodedLocation\n */\nfunction ReverseGeocodedLocation () {\n    if (!(this instanceof ReverseGeocodedLocation)) {\n        throw new TypeError(\"ReverseGeocodedLocation constructor cannot be called as a function.\");\n    }\n\n    // INFO\n    // appel du constructeur de la classe mère\n    // avec passage de param.\n    _GeocodedLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apply(this, arguments);\n\n    /**\n     * Nom de la classe (heritage) : \"ReverseGeocodedLocation\"\n     * @type {String}\n     */\n    this.CLASSNAME = \"ReverseGeocodedLocation\";\n\n    this.searchCenterDistance = null;\n}\n\nReverseGeocodedLocation.prototype = Object.create(_GeocodedLocation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\nReverseGeocodedLocation.prototype.constructor = ReverseGeocodedLocation;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReverseGeocodedLocation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9SZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5qcz80N2Q1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNrRDs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUkseURBQWdCOztBQUVwQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrREFBa0QseURBQWdCOztBQUVsRTs7QUFFZSxzRkFBdUIsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXNwb25zZS9tb2RlbC9SZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEdlb2NvZGVkTG9jYXRpb24gZnJvbSBcIi4vR2VvY29kZWRMb2NhdGlvblwiO1xuXG4vKipcbiAqIFNpbmdsZSBsb2NhdGlvbiBvYmplY3QgcmV0dXJuZWQgYnkgdGhlIHVuZGVybHlpbmcgcmV2ZXJzZSBnZW9jb2Rpbmcgd2ViIHNlcnZpY2UuXG4gKlxuICogQHByb3BlcnR5IHtGbG9hdH0gc2VhcmNoQ2VudGVyRGlzdGFuY2UgLSBEaXN0YW5jZSBiZXR3ZWVuIHRoZSByZXF1ZXN0ZWQgcG9pbnQgYW5kIHRoZSBsb2NhdGlvbi5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAZXh0ZW5kcyB7R3AuU2VydmljZXMuR2VvY29kZS5HZW9jb2RlZExvY2F0aW9ufVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLkdlb2NvZGUuUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb25cbiAqL1xuZnVuY3Rpb24gUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24gKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXZlcnNlR2VvY29kZWRMb2NhdGlvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJldmVyc2VHZW9jb2RlZExvY2F0aW9uIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgLy8gSU5GT1xuICAgIC8vIGFwcGVsIGR1IGNvbnN0cnVjdGV1ciBkZSBsYSBjbGFzc2UgbcOocmVcbiAgICAvLyBhdmVjIHBhc3NhZ2UgZGUgcGFyYW0uXG4gICAgR2VvY29kZWRMb2NhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLyoqXG4gICAgICogTm9tIGRlIGxhIGNsYXNzZSAoaGVyaXRhZ2UpIDogXCJSZXZlcnNlR2VvY29kZWRMb2NhdGlvblwiXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb25cIjtcblxuICAgIHRoaXMuc2VhcmNoQ2VudGVyRGlzdGFuY2UgPSBudWxsO1xufVxuXG5SZXZlcnNlR2VvY29kZWRMb2NhdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdlb2NvZGVkTG9jYXRpb24ucHJvdG90eXBlKTtcblxuUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmV2ZXJzZUdlb2NvZGVkTG9jYXRpb247XG5cbmV4cG9ydCBkZWZhdWx0IFJldmVyc2VHZW9jb2RlZExvY2F0aW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/Response/model/ReverseGeocodedLocation.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Geocode/ReverseGeocode.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Geocode/ReverseGeocode.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _CommonService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CommonService */ \"./node_modules/geoportal-access-lib/src/Services/CommonService.js\");\n/* harmony import */ var _Request_ReverseGeocodeRequestFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Request/ReverseGeocodeRequestFactory */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Request/ReverseGeocodeRequestFactory.js\");\n/* harmony import */ var _Response_ReverseGeocodeResponseFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Response/ReverseGeocodeResponseFactory */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Response/ReverseGeocodeResponseFactory.js\");\n\n\n\n\n\n\n\n\n/**\n * @classdesc\n * Appel du service de géocodage inverse du Géoportail :\n *     envoi de la requête construite selon les paramètres en options,\n *     éventuellement parsing et analyse  de la réponse,\n *     retour d'une réponse en paramètre de la fonction onSuccess.\n * @constructor\n * @extends {Gp.Services.CommonService}\n * @alias Gp.Services.ReverseGeocode\n *\n * @param {Object} options - options spécifiques au service (+ les options heritées)\n *\n * @param {Object} options.position - Position du point de référence pour le calcul de proximité exprimée dans le système de référence spécifié par le srs.\n *      @param {Float} options.position.x - Abcisse du point de référence pour le calcul de proximité exprimée dans le système de référence spécifié par le srs. (= longitude si srs = \"CRS:84\", latitude si srs = \"EPSG:4326\")\n *      @param {Float} options.position.y - Ordonnée du point de référence pour le calcul de proximité exprimée dans le système de référence spécifié par le srs. (= latitude si srs = \"CRS:84\", longitude si srs = \"EPSG:4326\")\n *\n * @param {Object} [options.filterOptions] - Les propriétés possibles de cet objet sont décrites ci-après.\n * @param {Object} [options.filterOptions.bbox] - Emprise dans laquelle on souhaite effectuer la recherche.\n *      Les propriétés possibles de cet objet sont décrites ci-après.\n *      @param {Float} options.filterOptions.bbox.left   - Abscisse du côté gauche de la BBOX\n *      @param {Float} options.filterOptions.bbox.right  - Abscisse du côté droit de la BBOX\n *      @param {Float} options.filterOptions.bbox.top    - Ordonnée supérieure de la BBOX\n *      @param {Float} options.filterOptions.bbox.bottom - Ordonnée inférieure de la BBOX\n *\n * @param {Object} [options.filterOptions.circle] - Cercle dans lequel on souhaite effectuer la recherche.\n *      Les propriétés possibles de cet objet sont décrites ci-après.\n *      @param {Float} options.filterOptions.circle.x      - Abscisse du centre du cercle de recherche.\n *      @param {Float} options.filterOptions.circle.y      - Ordonnée du centre du cercle de recherche.\n *      @param {Float} options.filterOptions.circle.radius - Rayon du cercle de recherche.\n *\n * @param {Array.<Object>} [options.filterOptions.polygon] - Polygone dans lequel on souhaite effectuer la recherche.\n *      Liste des couples x et y pour chaque point constituant le polygone.\n *\n * @param {Array.<String>} [options.filterOptions.type = \"StreetAddress\"] - Type de l'objet recherché.\n *      Le service de géocodage du Géoportail permet de rechercher des 'PostionOfInterest' pour des toponymes, des 'StreetAddress'\n *      pour des adresses postales et/ou des 'CadastralParcel' pour des parcelles cadastrales.\n *      D'autres types pourront être rajoutés selon l'évolution du service.\n *      Par défaut, type = ['StreetAddress'].\n *\n * @param {Number} [options.maximumResponses] - Nombre de réponses maximal que l'on souhaite recevoir.\n *      Pas de valeur par défaut. Si le serveur consulté est celui du Géoportail, la valeur par défaut sera donc celle du service : 25.\n *\n * @param {String} [options.srs = CRS:84] - Système de coordonnées dans lequel les paramètres géographiques en entrée et la réponse du service sont exprimés.\n *      Pas de valeur par défaut.\n *      Si le serveur consulté est celui du Géoportail, la valeur par défaut est : \"CRS:84\".\n *\n * @example\n *   var options = {\n *      apiKey : null,\n *      serverUrl : 'http://localhost/service/',\n *      protocol : 'JSONP', // JSONP|XHR\n *      proxyURL : null,\n *      httpMethod : 'GET', // GET|POST\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      // spécifique au service\n *      position : {x:0 , y:0},\n *      filterOptions :{\n *          bbox : {left : 0, right : 1, top : 1, bottom : 0},\n *          [circle : {\n *              x : 0,\n *              y : 0,\n *              radius : 100\n *          }]\n *          [polygon  : [{x:0,y:0}, {x:1,y:1}, {x:2,y:2}, {x:3,y:2}, {x:4,y:1}, {x:0,y:0}]]\n *          type : ['StreetAddress']\n *      },\n *      maximumResponses : 25,\n *      srs : 'EPSG:4326'\n *   };\n *\n * @private\n */\nfunction ReverseGeocode (options) {\n    if (!(this instanceof ReverseGeocode)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\", \"ReverseGeocode\"));\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     * FIXME instance ou classe ?\n     */\n    this.CLASSNAME = \"ReverseGeocode\";\n\n    // appel du constructeur par heritage\n    _CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Gp.Services.ReverseGeocode\");\n    this.logger.trace(\"[Constructeur ReverseGeocode (options)]\");\n\n    if (!options.position) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"position\"));\n    }\n\n    // on lance une exception afin d'eviter au service de le faire...\n    if (options.position.x === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"position.x\"));\n    }\n\n    if (options.position.y === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"position.y\"));\n    }\n\n    // ajout des options spécifiques au service\n    this.options.position = options.position;\n\n    // on definit des filtres par defaut\n    if (!options.filterOptions || typeof options.filterOptions !== \"object\") {\n        this.options.filterOptions = options.filterOptions = {\n            type : [\"StreetAddress\"]\n        };\n    }\n\n    // FIXME ECMAScript 5 support (valable pour un objet uniquement !)\n    // ceci permet de tester le cas où : object = {}\n    if (Object.keys(options.filterOptions).length === 0) {\n        this.options.filterOptions = {\n            type : [\"StreetAddress\"]\n        };\n    }\n\n    // on teste pour chaque filtre, les conditions suivantes : null ou vide !\n    var filter = Object.keys(options.filterOptions);\n    for (var i = 0; i < filter.length; i++) {\n        var key = filter[i];\n        if (!options.filterOptions[key] || Object.keys(options.filterOptions[key]).length === 0) {\n            delete this.options.filterOptions[key];\n        }\n    }\n\n    this.options.filterOptions.type = options.filterOptions.type || [\"StreetAddress\"];\n    // on vérifie que le type est bien dans un tableau\n    if (!Array.isArray(this.options.filterOptions.type)) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_TYPE\", \"filterOptions.type\"));\n    }\n\n    this.options.maximumResponses = options.maximumResponses || 25;\n\n    // FIXME : cet attribut (returnFreeForm) n'est pas spécifié dans la doc du constructeur ?\n    // Il est inutile en effet, mais présent dans les specs...\n    this.options.returnFreeForm = options.returnFreeForm || false;\n    // info : en réalité le service ne reconnait que EPSG:4326. this.options.srs permet essentiellement de différencier EPSG:4326 (lat,lon) et CRS:84 (lon,lat)\n    this.options.srs = options.srs || \"CRS:84\";\n\n    // si on n'a pas un systeme de coordonnées EPSG géographique, il faut inverser les coordonnées\n    // (car elles sont en lon, lat alors que le service attend une position en lat, lon).\n    // dans le cas d'EPSG:4326 par exemple, les coordonnées sont bien en lat, lon donc on ne fait rien.\n    if (ReverseGeocode.geoEPSG.indexOf(this.options.srs) === -1) {\n        // pour la position\n        this.options.position = {\n            x : this.options.position.y,\n            y : this.options.position.x\n        };\n        // pour les filtres spatiaux s'ils sont spécifiés\n        if (this.options.filterOptions && this.options.filterOptions.circle) {\n            var circle = this.options.filterOptions.circle;\n            this.options.filterOptions.circle = {\n                x : circle.y,\n                y : circle.x,\n                radius : circle.radius\n            };\n        }\n        if (this.options.filterOptions && this.options.filterOptions.polygon) {\n            var polygon = this.options.filterOptions.polygon;\n            for (i = 0; i < polygon.length; i++) {\n                var coords = polygon[i];\n                this.options.filterOptions.polygon[i] = {\n                    x : coords.y,\n                    y : coords.x\n                };\n            }\n        }\n    }\n\n    // attributs d'instances\n\n    /**\n     * Format forcé de la réponse du service : \"xml\"\n     * sauf si l'on souhaite une reponse brute (options.rawResponse)\n     */\n    this.options.outputFormat = (this.options.rawResponse) ? \"\" : \"xml\";\n}\n\n/**\n * @lends module:ReverseGeocode#\n */\nReverseGeocode.prototype = Object.create(_CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/*\n * Constructeur (alias)\n */\nReverseGeocode.prototype.constructor = ReverseGeocode;\n\n/**\n * (overwrite)\n * Création de la requête\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nReverseGeocode.prototype.buildRequest = function (error, success) {\n    var options = {\n        httpMethod : this.options.httpMethod,\n        // options specifiques du service\n        position : this.options.position,\n        returnFreeForm : this.options.returnFreeForm,\n        filterOptions : this.options.filterOptions,\n        srs : \"EPSG:4326\", // info : en réalité le service ne reconnait que EPSG:4326. this.options.srs permet essentiellement de différencier EPSG:4326 (lat,lon) et CRS:84 (lon,lat)\n        maximumResponses : this.options.maximumResponses\n    };\n\n    this.request = _Request_ReverseGeocodeRequestFactory__WEBPACK_IMPORTED_MODULE_4__[\"default\"].build(options);\n\n    // on teste si la requete a bien été construite !\n    (!this.request)\n        ? error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_REQUEST_BUILD\")))\n        : success.call(this, this.request);\n};\n\n/**\n * (overwrite)\n * Analyse de la reponse\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nReverseGeocode.prototype.analyzeResponse = function (error, success) {\n    if (this.response) {\n        var options = {\n            response : this.response,\n            rawResponse : this.options.rawResponse,\n            onError : error,\n            onSuccess : success,\n            scope : this\n        };\n\n        _Response_ReverseGeocodeResponseFactory__WEBPACK_IMPORTED_MODULE_5__[\"default\"].build(options);\n    } else {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n    }\n};\n\n/**\n * Codes EPSG géographiques (lat/lon). Utiles car les coordonnées doivent être inversées.\n */\nReverseGeocode.geoEPSG = [\"EPSG:4326\"];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReverseGeocode);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXZlcnNlR2VvY29kZS5qcz9iZGFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ2lEO0FBQ0g7QUFDVztBQUNaO0FBQ3FDO0FBQ0c7O0FBRXJGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxXQUFXLE9BQU87QUFDbEIsZ0JBQWdCLE1BQU07QUFDdEIsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEIsZ0JBQWdCLE1BQU07QUFDdEIsZ0JBQWdCLE1BQU07QUFDdEIsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxnQkFBZ0IsTUFBTTtBQUN0QixnQkFBZ0IsTUFBTTtBQUN0QixnQkFBZ0IsTUFBTTtBQUN0QjtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyx1Q0FBdUM7QUFDdkM7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLG9CQUFvQix5Q0FBeUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMEJBQTBCLFFBQVEsR0FBRyxRQUFRLEdBQUcsUUFBUSxHQUFHLFFBQVEsR0FBRyxRQUFRLEdBQUcsUUFBUTtBQUN6RjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFDO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLHNEQUFhOztBQUVqQixrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0JBQW9CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxzREFBYTtBQUN0RDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsNkVBQTRCOztBQUUvQztBQUNBO0FBQ0EsK0JBQStCLGdFQUFZLENBQUMsZ0VBQUM7QUFDN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSwrRUFBNkI7QUFDckMsS0FBSztBQUNMLDZCQUE2QixnRUFBWSxDQUFDLGdFQUFDO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsNkVBQWMsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvR2VvY29kZS9SZXZlcnNlR2VvY29kZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgXyBmcm9tIFwiLi4vLi4vVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXNcIjtcbmltcG9ydCBFcnJvclNlcnZpY2UgZnJvbSBcIi4uLy4uL0V4Y2VwdGlvbnMvRXJyb3JTZXJ2aWNlXCI7XG5pbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tIFwiLi4vQ29tbW9uU2VydmljZVwiO1xuaW1wb3J0IFJldmVyc2VHZW9jb2RlUmVxdWVzdEZhY3RvcnkgZnJvbSBcIi4vUmVxdWVzdC9SZXZlcnNlR2VvY29kZVJlcXVlc3RGYWN0b3J5XCI7XG5pbXBvcnQgUmV2ZXJzZUdlb2NvZGVSZXNwb25zZUZhY3RvcnkgZnJvbSBcIi4vUmVzcG9uc2UvUmV2ZXJzZUdlb2NvZGVSZXNwb25zZUZhY3RvcnlcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBcHBlbCBkdSBzZXJ2aWNlIGRlIGfDqW9jb2RhZ2UgaW52ZXJzZSBkdSBHw6lvcG9ydGFpbCA6XG4gKiAgICAgZW52b2kgZGUgbGEgcmVxdcOqdGUgY29uc3RydWl0ZSBzZWxvbiBsZXMgcGFyYW3DqHRyZXMgZW4gb3B0aW9ucyxcbiAqICAgICDDqXZlbnR1ZWxsZW1lbnQgcGFyc2luZyBldCBhbmFseXNlICBkZSBsYSByw6lwb25zZSxcbiAqICAgICByZXRvdXIgZCd1bmUgcsOpcG9uc2UgZW4gcGFyYW3DqHRyZSBkZSBsYSBmb25jdGlvbiBvblN1Y2Nlc3MuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtHcC5TZXJ2aWNlcy5Db21tb25TZXJ2aWNlfVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLlJldmVyc2VHZW9jb2RlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIHNww6ljaWZpcXVlcyBhdSBzZXJ2aWNlICgrIGxlcyBvcHRpb25zIGhlcml0w6llcylcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wb3NpdGlvbiAtIFBvc2l0aW9uIGR1IHBvaW50IGRlIHLDqWbDqXJlbmNlIHBvdXIgbGUgY2FsY3VsIGRlIHByb3hpbWl0w6kgZXhwcmltw6llIGRhbnMgbGUgc3lzdMOobWUgZGUgcsOpZsOpcmVuY2Ugc3DDqWNpZmnDqSBwYXIgbGUgc3JzLlxuICogICAgICBAcGFyYW0ge0Zsb2F0fSBvcHRpb25zLnBvc2l0aW9uLnggLSBBYmNpc3NlIGR1IHBvaW50IGRlIHLDqWbDqXJlbmNlIHBvdXIgbGUgY2FsY3VsIGRlIHByb3hpbWl0w6kgZXhwcmltw6llIGRhbnMgbGUgc3lzdMOobWUgZGUgcsOpZsOpcmVuY2Ugc3DDqWNpZmnDqSBwYXIgbGUgc3JzLiAoPSBsb25naXR1ZGUgc2kgc3JzID0gXCJDUlM6ODRcIiwgbGF0aXR1ZGUgc2kgc3JzID0gXCJFUFNHOjQzMjZcIilcbiAqICAgICAgQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5wb3NpdGlvbi55IC0gT3Jkb25uw6llIGR1IHBvaW50IGRlIHLDqWbDqXJlbmNlIHBvdXIgbGUgY2FsY3VsIGRlIHByb3hpbWl0w6kgZXhwcmltw6llIGRhbnMgbGUgc3lzdMOobWUgZGUgcsOpZsOpcmVuY2Ugc3DDqWNpZmnDqSBwYXIgbGUgc3JzLiAoPSBsYXRpdHVkZSBzaSBzcnMgPSBcIkNSUzo4NFwiLCBsb25naXR1ZGUgc2kgc3JzID0gXCJFUFNHOjQzMjZcIilcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZmlsdGVyT3B0aW9uc10gLSBMZXMgcHJvcHJpw6l0w6lzIHBvc3NpYmxlcyBkZSBjZXQgb2JqZXQgc29udCBkw6ljcml0ZXMgY2ktYXByw6hzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpbHRlck9wdGlvbnMuYmJveF0gLSBFbXByaXNlIGRhbnMgbGFxdWVsbGUgb24gc291aGFpdGUgZWZmZWN0dWVyIGxhIHJlY2hlcmNoZS5cbiAqICAgICAgTGVzIHByb3ByacOpdMOpcyBwb3NzaWJsZXMgZGUgY2V0IG9iamV0IHNvbnQgZMOpY3JpdGVzIGNpLWFwcsOocy5cbiAqICAgICAgQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5maWx0ZXJPcHRpb25zLmJib3gubGVmdCAgIC0gQWJzY2lzc2UgZHUgY8O0dMOpIGdhdWNoZSBkZSBsYSBCQk9YXG4gKiAgICAgIEBwYXJhbSB7RmxvYXR9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy5iYm94LnJpZ2h0ICAtIEFic2Npc3NlIGR1IGPDtHTDqSBkcm9pdCBkZSBsYSBCQk9YXG4gKiAgICAgIEBwYXJhbSB7RmxvYXR9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy5iYm94LnRvcCAgICAtIE9yZG9ubsOpZSBzdXDDqXJpZXVyZSBkZSBsYSBCQk9YXG4gKiAgICAgIEBwYXJhbSB7RmxvYXR9IG9wdGlvbnMuZmlsdGVyT3B0aW9ucy5iYm94LmJvdHRvbSAtIE9yZG9ubsOpZSBpbmbDqXJpZXVyZSBkZSBsYSBCQk9YXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpbHRlck9wdGlvbnMuY2lyY2xlXSAtIENlcmNsZSBkYW5zIGxlcXVlbCBvbiBzb3VoYWl0ZSBlZmZlY3R1ZXIgbGEgcmVjaGVyY2hlLlxuICogICAgICBMZXMgcHJvcHJpw6l0w6lzIHBvc3NpYmxlcyBkZSBjZXQgb2JqZXQgc29udCBkw6ljcml0ZXMgY2ktYXByw6hzLlxuICogICAgICBAcGFyYW0ge0Zsb2F0fSBvcHRpb25zLmZpbHRlck9wdGlvbnMuY2lyY2xlLnggICAgICAtIEFic2Npc3NlIGR1IGNlbnRyZSBkdSBjZXJjbGUgZGUgcmVjaGVyY2hlLlxuICogICAgICBAcGFyYW0ge0Zsb2F0fSBvcHRpb25zLmZpbHRlck9wdGlvbnMuY2lyY2xlLnkgICAgICAtIE9yZG9ubsOpZSBkdSBjZW50cmUgZHUgY2VyY2xlIGRlIHJlY2hlcmNoZS5cbiAqICAgICAgQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5maWx0ZXJPcHRpb25zLmNpcmNsZS5yYWRpdXMgLSBSYXlvbiBkdSBjZXJjbGUgZGUgcmVjaGVyY2hlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE9iamVjdD59IFtvcHRpb25zLmZpbHRlck9wdGlvbnMucG9seWdvbl0gLSBQb2x5Z29uZSBkYW5zIGxlcXVlbCBvbiBzb3VoYWl0ZSBlZmZlY3R1ZXIgbGEgcmVjaGVyY2hlLlxuICogICAgICBMaXN0ZSBkZXMgY291cGxlcyB4IGV0IHkgcG91ciBjaGFxdWUgcG9pbnQgY29uc3RpdHVhbnQgbGUgcG9seWdvbmUuXG4gKlxuICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gW29wdGlvbnMuZmlsdGVyT3B0aW9ucy50eXBlID0gXCJTdHJlZXRBZGRyZXNzXCJdIC0gVHlwZSBkZSBsJ29iamV0IHJlY2hlcmNow6kuXG4gKiAgICAgIExlIHNlcnZpY2UgZGUgZ8Opb2NvZGFnZSBkdSBHw6lvcG9ydGFpbCBwZXJtZXQgZGUgcmVjaGVyY2hlciBkZXMgJ1Bvc3Rpb25PZkludGVyZXN0JyBwb3VyIGRlcyB0b3BvbnltZXMsIGRlcyAnU3RyZWV0QWRkcmVzcydcbiAqICAgICAgcG91ciBkZXMgYWRyZXNzZXMgcG9zdGFsZXMgZXQvb3UgZGVzICdDYWRhc3RyYWxQYXJjZWwnIHBvdXIgZGVzIHBhcmNlbGxlcyBjYWRhc3RyYWxlcy5cbiAqICAgICAgRCdhdXRyZXMgdHlwZXMgcG91cnJvbnQgw6p0cmUgcmFqb3V0w6lzIHNlbG9uIGwnw6l2b2x1dGlvbiBkdSBzZXJ2aWNlLlxuICogICAgICBQYXIgZMOpZmF1dCwgdHlwZSA9IFsnU3RyZWV0QWRkcmVzcyddLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhpbXVtUmVzcG9uc2VzXSAtIE5vbWJyZSBkZSByw6lwb25zZXMgbWF4aW1hbCBxdWUgbCdvbiBzb3VoYWl0ZSByZWNldm9pci5cbiAqICAgICAgUGFzIGRlIHZhbGV1ciBwYXIgZMOpZmF1dC4gU2kgbGUgc2VydmV1ciBjb25zdWx0w6kgZXN0IGNlbHVpIGR1IEfDqW9wb3J0YWlsLCBsYSB2YWxldXIgcGFyIGTDqWZhdXQgc2VyYSBkb25jIGNlbGxlIGR1IHNlcnZpY2UgOiAyNS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc3JzID0gQ1JTOjg0XSAtIFN5c3TDqG1lIGRlIGNvb3Jkb25uw6llcyBkYW5zIGxlcXVlbCBsZXMgcGFyYW3DqHRyZXMgZ8Opb2dyYXBoaXF1ZXMgZW4gZW50csOpZSBldCBsYSByw6lwb25zZSBkdSBzZXJ2aWNlIHNvbnQgZXhwcmltw6lzLlxuICogICAgICBQYXMgZGUgdmFsZXVyIHBhciBkw6lmYXV0LlxuICogICAgICBTaSBsZSBzZXJ2ZXVyIGNvbnN1bHTDqSBlc3QgY2VsdWkgZHUgR8Opb3BvcnRhaWwsIGxhIHZhbGV1ciBwYXIgZMOpZmF1dCBlc3QgOiBcIkNSUzo4NFwiLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgIHZhciBvcHRpb25zID0ge1xuICogICAgICBhcGlLZXkgOiBudWxsLFxuICogICAgICBzZXJ2ZXJVcmwgOiAnaHR0cDovL2xvY2FsaG9zdC9zZXJ2aWNlLycsXG4gKiAgICAgIHByb3RvY29sIDogJ0pTT05QJywgLy8gSlNPTlB8WEhSXG4gKiAgICAgIHByb3h5VVJMIDogbnVsbCxcbiAqICAgICAgaHR0cE1ldGhvZCA6ICdHRVQnLCAvLyBHRVR8UE9TVFxuICogICAgICB0aW1lT3V0IDogMTAwMDAsIC8vIG1zXG4gKiAgICAgIHJhd1Jlc3BvbnNlIDogZmFsc2UsIC8vIHRydWV8ZmFsc2VcbiAqICAgICAgc2NvcGUgOiBudWxsLCAvLyB0aGlzXG4gKiAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uIChyZXNwb25zZSkge30sXG4gKiAgICAgIG9uRmFpbHVyZSA6IGZ1bmN0aW9uIChlcnJvcikge30sXG4gKiAgICAgIC8vIHNww6ljaWZpcXVlIGF1IHNlcnZpY2VcbiAqICAgICAgcG9zaXRpb24gOiB7eDowICwgeTowfSxcbiAqICAgICAgZmlsdGVyT3B0aW9ucyA6e1xuICogICAgICAgICAgYmJveCA6IHtsZWZ0IDogMCwgcmlnaHQgOiAxLCB0b3AgOiAxLCBib3R0b20gOiAwfSxcbiAqICAgICAgICAgIFtjaXJjbGUgOiB7XG4gKiAgICAgICAgICAgICAgeCA6IDAsXG4gKiAgICAgICAgICAgICAgeSA6IDAsXG4gKiAgICAgICAgICAgICAgcmFkaXVzIDogMTAwXG4gKiAgICAgICAgICB9XVxuICogICAgICAgICAgW3BvbHlnb24gIDogW3t4OjAseTowfSwge3g6MSx5OjF9LCB7eDoyLHk6Mn0sIHt4OjMseToyfSwge3g6NCx5OjF9LCB7eDowLHk6MH1dXVxuICogICAgICAgICAgdHlwZSA6IFsnU3RyZWV0QWRkcmVzcyddXG4gKiAgICAgIH0sXG4gKiAgICAgIG1heGltdW1SZXNwb25zZXMgOiAyNSxcbiAqICAgICAgc3JzIDogJ0VQU0c6NDMyNidcbiAqICAgfTtcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBSZXZlcnNlR2VvY29kZSAob3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXZlcnNlR2VvY29kZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihfLmdldE1lc3NhZ2UoXCJDTEFTU19DT05TVFJVQ1RPUlwiLCBcIlJldmVyc2VHZW9jb2RlXCIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKiBGSVhNRSBpbnN0YW5jZSBvdSBjbGFzc2UgP1xuICAgICAqL1xuICAgIHRoaXMuQ0xBU1NOQU1FID0gXCJSZXZlcnNlR2VvY29kZVwiO1xuXG4gICAgLy8gYXBwZWwgZHUgY29uc3RydWN0ZXVyIHBhciBoZXJpdGFnZVxuICAgIENvbW1vblNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIkdwLlNlcnZpY2VzLlJldmVyc2VHZW9jb2RlXCIpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBSZXZlcnNlR2VvY29kZSAob3B0aW9ucyldXCIpO1xuXG4gICAgaWYgKCFvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9NSVNTSU5HXCIsIFwicG9zaXRpb25cIikpO1xuICAgIH1cblxuICAgIC8vIG9uIGxhbmNlIHVuZSBleGNlcHRpb24gYWZpbiBkJ2V2aXRlciBhdSBzZXJ2aWNlIGRlIGxlIGZhaXJlLi4uXG4gICAgaWYgKG9wdGlvbnMucG9zaXRpb24ueCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fTUlTU0lOR1wiLCBcInBvc2l0aW9uLnhcIikpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBvc2l0aW9uLnkgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX01JU1NJTkdcIiwgXCJwb3NpdGlvbi55XCIpKTtcbiAgICB9XG5cbiAgICAvLyBham91dCBkZXMgb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZVxuICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XG5cbiAgICAvLyBvbiBkZWZpbml0IGRlcyBmaWx0cmVzIHBhciBkZWZhdXRcbiAgICBpZiAoIW9wdGlvbnMuZmlsdGVyT3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucy5maWx0ZXJPcHRpb25zICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zID0gb3B0aW9ucy5maWx0ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgdHlwZSA6IFtcIlN0cmVldEFkZHJlc3NcIl1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGSVhNRSBFQ01BU2NyaXB0IDUgc3VwcG9ydCAodmFsYWJsZSBwb3VyIHVuIG9iamV0IHVuaXF1ZW1lbnQgISlcbiAgICAvLyBjZWNpIHBlcm1ldCBkZSB0ZXN0ZXIgbGUgY2FzIG/DuSA6IG9iamVjdCA9IHt9XG4gICAgaWYgKE9iamVjdC5rZXlzKG9wdGlvbnMuZmlsdGVyT3B0aW9ucykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgdHlwZSA6IFtcIlN0cmVldEFkZHJlc3NcIl1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBvbiB0ZXN0ZSBwb3VyIGNoYXF1ZSBmaWx0cmUsIGxlcyBjb25kaXRpb25zIHN1aXZhbnRlcyA6IG51bGwgb3UgdmlkZSAhXG4gICAgdmFyIGZpbHRlciA9IE9iamVjdC5rZXlzKG9wdGlvbnMuZmlsdGVyT3B0aW9ucyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGZpbHRlcltpXTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmZpbHRlck9wdGlvbnNba2V5XSB8fCBPYmplY3Qua2V5cyhvcHRpb25zLmZpbHRlck9wdGlvbnNba2V5XSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLnR5cGUgPSBvcHRpb25zLmZpbHRlck9wdGlvbnMudHlwZSB8fCBbXCJTdHJlZXRBZGRyZXNzXCJdO1xuICAgIC8vIG9uIHbDqXJpZmllIHF1ZSBsZSB0eXBlIGVzdCBiaWVuIGRhbnMgdW4gdGFibGVhdVxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucy50eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fVFlQRVwiLCBcImZpbHRlck9wdGlvbnMudHlwZVwiKSk7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLm1heGltdW1SZXNwb25zZXMgPSBvcHRpb25zLm1heGltdW1SZXNwb25zZXMgfHwgMjU7XG5cbiAgICAvLyBGSVhNRSA6IGNldCBhdHRyaWJ1dCAocmV0dXJuRnJlZUZvcm0pIG4nZXN0IHBhcyBzcMOpY2lmacOpIGRhbnMgbGEgZG9jIGR1IGNvbnN0cnVjdGV1ciA/XG4gICAgLy8gSWwgZXN0IGludXRpbGUgZW4gZWZmZXQsIG1haXMgcHLDqXNlbnQgZGFucyBsZXMgc3BlY3MuLi5cbiAgICB0aGlzLm9wdGlvbnMucmV0dXJuRnJlZUZvcm0gPSBvcHRpb25zLnJldHVybkZyZWVGb3JtIHx8IGZhbHNlO1xuICAgIC8vIGluZm8gOiBlbiByw6lhbGl0w6kgbGUgc2VydmljZSBuZSByZWNvbm5haXQgcXVlIEVQU0c6NDMyNi4gdGhpcy5vcHRpb25zLnNycyBwZXJtZXQgZXNzZW50aWVsbGVtZW50IGRlIGRpZmbDqXJlbmNpZXIgRVBTRzo0MzI2IChsYXQsbG9uKSBldCBDUlM6ODQgKGxvbixsYXQpXG4gICAgdGhpcy5vcHRpb25zLnNycyA9IG9wdGlvbnMuc3JzIHx8IFwiQ1JTOjg0XCI7XG5cbiAgICAvLyBzaSBvbiBuJ2EgcGFzIHVuIHN5c3RlbWUgZGUgY29vcmRvbm7DqWVzIEVQU0cgZ8Opb2dyYXBoaXF1ZSwgaWwgZmF1dCBpbnZlcnNlciBsZXMgY29vcmRvbm7DqWVzXG4gICAgLy8gKGNhciBlbGxlcyBzb250IGVuIGxvbiwgbGF0IGFsb3JzIHF1ZSBsZSBzZXJ2aWNlIGF0dGVuZCB1bmUgcG9zaXRpb24gZW4gbGF0LCBsb24pLlxuICAgIC8vIGRhbnMgbGUgY2FzIGQnRVBTRzo0MzI2IHBhciBleGVtcGxlLCBsZXMgY29vcmRvbm7DqWVzIHNvbnQgYmllbiBlbiBsYXQsIGxvbiBkb25jIG9uIG5lIGZhaXQgcmllbi5cbiAgICBpZiAoUmV2ZXJzZUdlb2NvZGUuZ2VvRVBTRy5pbmRleE9mKHRoaXMub3B0aW9ucy5zcnMpID09PSAtMSkge1xuICAgICAgICAvLyBwb3VyIGxhIHBvc2l0aW9uXG4gICAgICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9IHtcbiAgICAgICAgICAgIHggOiB0aGlzLm9wdGlvbnMucG9zaXRpb24ueSxcbiAgICAgICAgICAgIHkgOiB0aGlzLm9wdGlvbnMucG9zaXRpb24ueFxuICAgICAgICB9O1xuICAgICAgICAvLyBwb3VyIGxlcyBmaWx0cmVzIHNwYXRpYXV4IHMnaWxzIHNvbnQgc3DDqWNpZmnDqXNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zICYmIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLmNpcmNsZSkge1xuICAgICAgICAgICAgdmFyIGNpcmNsZSA9IHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLmNpcmNsZTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLmNpcmNsZSA9IHtcbiAgICAgICAgICAgICAgICB4IDogY2lyY2xlLnksXG4gICAgICAgICAgICAgICAgeSA6IGNpcmNsZS54LFxuICAgICAgICAgICAgICAgIHJhZGl1cyA6IGNpcmNsZS5yYWRpdXNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zICYmIHRoaXMub3B0aW9ucy5maWx0ZXJPcHRpb25zLnBvbHlnb24pIHtcbiAgICAgICAgICAgIHZhciBwb2x5Z29uID0gdGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMucG9seWdvbjtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwb2x5Z29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHBvbHlnb25baV07XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZpbHRlck9wdGlvbnMucG9seWdvbltpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgeCA6IGNvb3Jkcy55LFxuICAgICAgICAgICAgICAgICAgICB5IDogY29vcmRzLnhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYXR0cmlidXRzIGQnaW5zdGFuY2VzXG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgZm9yY8OpIGRlIGxhIHLDqXBvbnNlIGR1IHNlcnZpY2UgOiBcInhtbFwiXG4gICAgICogc2F1ZiBzaSBsJ29uIHNvdWhhaXRlIHVuZSByZXBvbnNlIGJydXRlIChvcHRpb25zLnJhd1Jlc3BvbnNlKVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucy5vdXRwdXRGb3JtYXQgPSAodGhpcy5vcHRpb25zLnJhd1Jlc3BvbnNlKSA/IFwiXCIgOiBcInhtbFwiO1xufVxuXG4vKipcbiAqIEBsZW5kcyBtb2R1bGU6UmV2ZXJzZUdlb2NvZGUjXG4gKi9cblJldmVyc2VHZW9jb2RlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tbW9uU2VydmljZS5wcm90b3R5cGUsIHtcbiAgICAvLyB0b2RvXG4gICAgLy8gZ2V0dGVyL3NldHRlclxufSk7XG5cbi8qXG4gKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICovXG5SZXZlcnNlR2VvY29kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZXZlcnNlR2VvY29kZTtcblxuLyoqXG4gKiAob3ZlcndyaXRlKVxuICogQ3LDqWF0aW9uIGRlIGxhIHJlcXXDqnRlXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgICAtIGNhbGxiYWNrIGRlcyBlcnJldXJzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzIC0gY2FsbGJhY2tcbiAqL1xuUmV2ZXJzZUdlb2NvZGUucHJvdG90eXBlLmJ1aWxkUmVxdWVzdCA9IGZ1bmN0aW9uIChlcnJvciwgc3VjY2Vzcykge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBodHRwTWV0aG9kIDogdGhpcy5vcHRpb25zLmh0dHBNZXRob2QsXG4gICAgICAgIC8vIG9wdGlvbnMgc3BlY2lmaXF1ZXMgZHUgc2VydmljZVxuICAgICAgICBwb3NpdGlvbiA6IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgICAgcmV0dXJuRnJlZUZvcm0gOiB0aGlzLm9wdGlvbnMucmV0dXJuRnJlZUZvcm0sXG4gICAgICAgIGZpbHRlck9wdGlvbnMgOiB0aGlzLm9wdGlvbnMuZmlsdGVyT3B0aW9ucyxcbiAgICAgICAgc3JzIDogXCJFUFNHOjQzMjZcIiwgLy8gaW5mbyA6IGVuIHLDqWFsaXTDqSBsZSBzZXJ2aWNlIG5lIHJlY29ubmFpdCBxdWUgRVBTRzo0MzI2LiB0aGlzLm9wdGlvbnMuc3JzIHBlcm1ldCBlc3NlbnRpZWxsZW1lbnQgZGUgZGlmZsOpcmVuY2llciBFUFNHOjQzMjYgKGxhdCxsb24pIGV0IENSUzo4NCAobG9uLGxhdClcbiAgICAgICAgbWF4aW11bVJlc3BvbnNlcyA6IHRoaXMub3B0aW9ucy5tYXhpbXVtUmVzcG9uc2VzXG4gICAgfTtcblxuICAgIHRoaXMucmVxdWVzdCA9IFJldmVyc2VHZW9jb2RlUmVxdWVzdEZhY3RvcnkuYnVpbGQob3B0aW9ucyk7XG5cbiAgICAvLyBvbiB0ZXN0ZSBzaSBsYSByZXF1ZXRlIGEgYmllbiDDqXTDqSBjb25zdHJ1aXRlICFcbiAgICAoIXRoaXMucmVxdWVzdClcbiAgICAgICAgPyBlcnJvci5jYWxsKHRoaXMsIG5ldyBFcnJvclNlcnZpY2UoXy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVFVRVNUX0JVSUxEXCIpKSlcbiAgICAgICAgOiBzdWNjZXNzLmNhbGwodGhpcywgdGhpcy5yZXF1ZXN0KTtcbn07XG5cbi8qKlxuICogKG92ZXJ3cml0ZSlcbiAqIEFuYWx5c2UgZGUgbGEgcmVwb25zZVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yICAgLSBjYWxsYmFjayBkZXMgZXJyZXVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyAtIGNhbGxiYWNrXG4gKi9cblJldmVyc2VHZW9jb2RlLnByb3RvdHlwZS5hbmFseXplUmVzcG9uc2UgPSBmdW5jdGlvbiAoZXJyb3IsIHN1Y2Nlc3MpIHtcbiAgICBpZiAodGhpcy5yZXNwb25zZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJlc3BvbnNlIDogdGhpcy5yZXNwb25zZSxcbiAgICAgICAgICAgIHJhd1Jlc3BvbnNlIDogdGhpcy5vcHRpb25zLnJhd1Jlc3BvbnNlLFxuICAgICAgICAgICAgb25FcnJvciA6IGVycm9yLFxuICAgICAgICAgICAgb25TdWNjZXNzIDogc3VjY2VzcyxcbiAgICAgICAgICAgIHNjb3BlIDogdGhpc1xuICAgICAgICB9O1xuXG4gICAgICAgIFJldmVyc2VHZW9jb2RlUmVzcG9uc2VGYWN0b3J5LmJ1aWxkKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yLmNhbGwodGhpcywgbmV3IEVycm9yU2VydmljZShfLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VNUFRZXCIpKSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDb2RlcyBFUFNHIGfDqW9ncmFwaGlxdWVzIChsYXQvbG9uKS4gVXRpbGVzIGNhciBsZXMgY29vcmRvbm7DqWVzIGRvaXZlbnQgw6p0cmUgaW52ZXJzw6llcy5cbiAqL1xuUmV2ZXJzZUdlb2NvZGUuZ2VvRVBTRyA9IFtcIkVQU0c6NDMyNlwiXTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2ZXJzZUdlb2NvZGU7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Geocode/ReverseGeocode.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Formats/ProcessIsoCurveResponseReader.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Formats/ProcessIsoCurveResponseReader.js ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Formats_WKT__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Formats/WKT */ \"./node_modules/geoportal-access-lib/src/Formats/WKT.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Response_model_ProcessIsoCurveResponse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Response/model/ProcessIsoCurveResponse */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/model/ProcessIsoCurveResponse.js\");\n/**\n * Analyse de la reponse XML\n *\n * @module ProcessIsoCurveResponseReader\n * @alias Gp.Services.ProcessIsoCurve.Formats.ProcessIsoCurveResponseReader\n * @todo not yet implemented !\n * @private\n */\n\n\n\n\n\n\n/**\n * Objet ProcessIsoCurveResponseReader\n *\n * @member {Object} ProcessIsoCurveResponseReader\n *\n * @property {Object} ProcessIsoCurveResponseReader.READERS - Objet contenant des fonctions de lecture, appelées \"readers\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n *\n * @property {Method} ProcessIsoCurveResponseReader.read -  Méthode permettant de lancer la lecture d'une réponse XML\n *       du service de calcul isochrone/isodistance, à l'aide des readers de la classe.\n *\n */\n\nvar ProcessIsoCurveResponseReader = {};\n\n/*\n    // INFO\n    // Exemple d'erreur du service\n    // <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?>\n    // <isochroneResult>\n    //  <message>Location point must have 2 components separated with a ,</message>\n    //  <status>ERROR</status>\n    // </isochroneResult>\n\n    // <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?>\n    // <serviceResult>\n    //   <message>ServiceException : Error in isochron computation Error in smartrouting null</message>\n    //   <status>ERROR</status>\n    // </serviceResult>\n\n    // INFO\n    // Exemple d'erreur NGinx\n    // <ExceptionReport><Exception exceptionCode=\"MissingParameter\">Resource parameter not found</Exception></ExceptionReport>\n*/\n\n/*\n    // INFO\n    // Exemple de réponse du service\n\n     // <IsochroneResult>\n     //    <status>OK</status>\n     //    <id/>\n     //    <location>-1.557189,47.217122</location>\n     //    <srs/>\n     //    <distance>5000</distance>\n     //    <wktGeometry>POLYGON ((-1.545312 47.178178, -1.545312 47.180418, ...))</wktGeometry>\n     // </IsochroneResult>\n\n    // <isochronResult>\n    //    <status>OK</status>\n    //    <id>1</id>\n    //    <location>-1.557189,47.217122</location>\n    //    <srs/>\n    //    <time>50</time>\n    //    <wktGeometry>POLYGON ((-1.556864 47.216487, -1.556864 47.216948, ...))</wktGeometry>\n    // </isochronResult>\n*/\n\nProcessIsoCurveResponseReader.READERS = {\n\n    /** TODO : jsdoc block */\n    isochronResult : function (root) {\n        // racine de la réponse XML : on crée l'objet de réponse\n        var response = new _Response_model_ProcessIsoCurveResponse__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n        if (root.hasChildNodes()) {\n            var children = root.childNodes;\n            var child;\n\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n\n                if (ProcessIsoCurveResponseReader.READERS[child.nodeName]) {\n                    ProcessIsoCurveResponseReader.READERS[child.nodeName](child, response);\n                }\n            }\n        }\n\n        if (response.status === \"error\") {\n            var message = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\",\n                response.message);\n            throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                message : message,\n                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n            });\n        }\n        return response;\n    },\n\n    /** TODO : jsdoc block */\n    message : function (node, response) {\n        if (response) {\n            response.message = __getChildValue(node);\n        }\n    },\n\n    /** TODO : jsdoc block */\n    status : function (node, response) {\n        var status = __getChildValue(node);\n        if (status === \"ERROR\" || status === \"error\") {\n            if (response) {\n                response.status = \"error\";\n            }\n        }\n    },\n\n    /** TODO : jsdoc block */\n    id : function (node, response) {\n        if (response) {\n            response.id = __getChildValue(node);\n        }\n    },\n\n    /** TODO : jsdoc block */\n    location : function (node, response) {\n        var coords = __getChildValue(node);\n        if (response && response.location) {\n            response.location.x = parseFloat(coords.split(\",\")[0]);\n            response.location.y = parseFloat(coords.split(\",\")[1]);\n        }\n    },\n\n    /** TODO : jsdoc block */\n    srs : function (node, response) {\n        if (response) {\n            response.srs = __getChildValue(node);\n        }\n    },\n\n    /** TODO : jsdoc block */\n    distance : function (node, response) {\n        if (response) {\n            response.distance = parseFloat(__getChildValue(node));\n        }\n    },\n\n    /** TODO : jsdoc block */\n    time : function (node, response) {\n        if (response) {\n            response.time = parseFloat(__getChildValue(node));\n        }\n    },\n\n    /** TODO : jsdoc block */\n    wktGeometry : function (node, response) {\n        if (response) {\n            var wktGeometry = node.innerHTML;\n            /** TODO : jsdoc block */\n            var onWKTSuccess = function (json) {\n                response.geometry = json;\n            };\n            /** TODO : jsdoc block */\n            var onWKTError = function () {\n                var msg = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"PARAM_FORMAT\", [\"wktGeometry\"]);\n                throw new Error(msg);\n            };\n            if (response.hasOwnProperty(\"geometry\")) {\n                _Formats_WKT__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toJson(wktGeometry, onWKTSuccess, onWKTError);\n            }\n        }\n    },\n\n    /** TODO : jsdoc block */\n    serviceResult : function (node) {\n        // en cas d'exception du service\n        var response = {};\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                if (ProcessIsoCurveResponseReader.READERS[child.nodeName]) {\n                    ProcessIsoCurveResponseReader.READERS[child.nodeName](child, response);\n                }\n            }\n        }\n        return response;\n    },\n\n    /** TODO : jsdoc block */\n    ExceptionReport : function (node) {\n        var response = {};\n        if (node.hasChildNodes()) {\n            var children = node.childNodes;\n            var child;\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n                if (child.nodeName === \"Exception\") {\n                    response.exceptionReport = ProcessIsoCurveResponseReader.READERS[\"Exception\"](child);\n                }\n            }\n        }\n        return response;\n    },\n\n    /** TODO : jsdoc block */\n    Exception : function (node) {\n        var exceptionReport = {};\n\n        // get exception code\n        var exceptionCode = node.getAttribute(\"exceptionCode\");\n        if (exceptionCode) {\n            exceptionReport.exceptionCode = exceptionCode;\n        }\n\n        // get exception message\n        var textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            exceptionReport.exception = textNode.nodeValue;\n        }\n\n        return exceptionReport;\n    }\n};\n\n/** TODO : jsdoc block */\nProcessIsoCurveResponseReader.read = function (root) {\n    var response;\n\n    if (root.nodeName === \"isochronResult\" || root.nodeName === \"isochroneResult\" || root.nodeName === \"IsochroneResult\") {\n        response = ProcessIsoCurveResponseReader.READERS[\"isochronResult\"](root);\n        return response;\n    } else if (root.nodeName === \"ExceptionReport\") {\n        response = ProcessIsoCurveResponseReader.READERS[root.nodeName](root);\n        return response;\n    } else if (ProcessIsoCurveResponseReader.READERS[root.nodeName]) {\n        response = ProcessIsoCurveResponseReader.READERS[root.nodeName](root);\n        if (response.status === \"error\") {\n            var errMsg = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\",\n                response.message);\n            throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                message : errMsg,\n                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n            });\n        }\n        return response;\n    } else {\n        throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n            message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE\", root.nodeName),\n            type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_UNKERR\n        });\n    }\n};\n\n/**\n * Lecture de la valeur du premier child d'un noeud, si elle existe.\n *\n * @private\n * @memberof ProcessIsoCurveResponseReader\n * @method __getChildValue\n * @param {DOMElement} node - a DOM node\n * @return {String} value - valeur du firstChild du noeud en entrée, ou chaîne vide.\n */\nfunction __getChildValue (node) {\n    var textNode;\n    var value = \"\";\n\n    if (node.hasChildNodes()) {\n        textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            value = textNode.nodeValue;\n        }\n    }\n    return value;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProcessIsoCurveResponseReader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL0Zvcm1hdHMvUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VSZWFkZXIuanM/NjRiMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaUU7QUFDMUI7QUFDZTtBQUMwQjs7QUFFaEY7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLCtFQUF1Qjs7QUFFbEQ7QUFDQTtBQUNBOztBQUVBLDJCQUEyQixxQkFBcUI7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQixnRUFBaUI7QUFDM0M7QUFDQSxzQkFBc0IsZ0VBQU07QUFDNUI7QUFDQSx1QkFBdUIsZ0VBQU07QUFDN0IsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnRUFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9EQUFHO0FBQ25CO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFCQUFxQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFCQUFxQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnRUFBaUI7QUFDMUM7QUFDQSxzQkFBc0IsZ0VBQU07QUFDNUI7QUFDQSx1QkFBdUIsZ0VBQU07QUFDN0IsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLGdFQUFNO0FBQ3hCLHNCQUFzQixnRUFBaUI7QUFDdkMsbUJBQW1CLGdFQUFNO0FBQ3pCLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDRGQUE2QixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9Qcm9jZXNzSXNvQ3VydmUvRm9ybWF0cy9Qcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQW5hbHlzZSBkZSBsYSByZXBvbnNlIFhNTFxuICpcbiAqIEBtb2R1bGUgUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VSZWFkZXJcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Qcm9jZXNzSXNvQ3VydmUuRm9ybWF0cy5Qcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlclxuICogQHRvZG8gbm90IHlldCBpbXBsZW1lbnRlZCAhXG4gKiBAcHJpdmF0ZVxuICovXG5cbmltcG9ydCBNZXNzYWdlc1Jlc291cmNlcyBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXNcIjtcbmltcG9ydCBXS1QgZnJvbSBcIi4uLy4uLy4uL0Zvcm1hdHMvV0tUXCI7XG5pbXBvcnQgRXJyU3J2IGZyb20gXCIuLi8uLi8uLi9FeGNlcHRpb25zL0Vycm9yU2VydmljZVwiO1xuaW1wb3J0IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9Qcm9jZXNzSXNvQ3VydmVSZXNwb25zZVwiO1xuXG4vKipcbiAqIE9iamV0IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyXG4gKlxuICogQG1lbWJlciB7T2JqZWN0fSBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlclxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlci5SRUFERVJTIC0gT2JqZXQgY29udGVuYW50IGRlcyBmb25jdGlvbnMgZGUgbGVjdHVyZSwgYXBwZWzDqWVzIFwicmVhZGVyc1wiXG4gKiAgICAgIGRvbnQgY2hhcXVlIGNsw6kgY29ycmVzcG9uZCBhdSBub20gZCd1biB0YWcgZHUgWE1MIHF1ZSBsJ29uIHNvdWhhaXRlIGxpcmVcbiAqICAgICAgZXQgbGEgdmFsZXVyIGFzc29jacOpZSBlc3QgdW5lIGZvbmN0aW9uIChub2RlLCBkYXRhKVxuICogICAgICBvw7kgbm9kZSBlc3QgdW4gbm9ldWQgZHUgZG9jdW1lbnQgRE9NXG4gKiAgICAgIGV0IGRhdGEgZXN0IHVuIG9iamV0IG/DuSBsJ29uIHN0b2NrZSBsZXMgaW5mb3JtYXRpb25zIGx1ZXMgZGFucyBsZSBYTUwuXG4gKlxuICogQHByb3BlcnR5IHtNZXRob2R9IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyLnJlYWQgLSAgTcOpdGhvZGUgcGVybWV0dGFudCBkZSBsYW5jZXIgbGEgbGVjdHVyZSBkJ3VuZSByw6lwb25zZSBYTUxcbiAqICAgICAgIGR1IHNlcnZpY2UgZGUgY2FsY3VsIGlzb2Nocm9uZS9pc29kaXN0YW5jZSwgw6AgbCdhaWRlIGRlcyByZWFkZXJzIGRlIGxhIGNsYXNzZS5cbiAqXG4gKi9cblxudmFyIFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyID0ge307XG5cbi8qXG4gICAgLy8gSU5GT1xuICAgIC8vIEV4ZW1wbGUgZCdlcnJldXIgZHUgc2VydmljZVxuICAgIC8vIDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cInllc1wiID8+XG4gICAgLy8gPGlzb2Nocm9uZVJlc3VsdD5cbiAgICAvLyAgPG1lc3NhZ2U+TG9jYXRpb24gcG9pbnQgbXVzdCBoYXZlIDIgY29tcG9uZW50cyBzZXBhcmF0ZWQgd2l0aCBhICw8L21lc3NhZ2U+XG4gICAgLy8gIDxzdGF0dXM+RVJST1I8L3N0YXR1cz5cbiAgICAvLyA8L2lzb2Nocm9uZVJlc3VsdD5cblxuICAgIC8vIDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cInllc1wiID8+XG4gICAgLy8gPHNlcnZpY2VSZXN1bHQ+XG4gICAgLy8gICA8bWVzc2FnZT5TZXJ2aWNlRXhjZXB0aW9uIDogRXJyb3IgaW4gaXNvY2hyb24gY29tcHV0YXRpb24gRXJyb3IgaW4gc21hcnRyb3V0aW5nIG51bGw8L21lc3NhZ2U+XG4gICAgLy8gICA8c3RhdHVzPkVSUk9SPC9zdGF0dXM+XG4gICAgLy8gPC9zZXJ2aWNlUmVzdWx0PlxuXG4gICAgLy8gSU5GT1xuICAgIC8vIEV4ZW1wbGUgZCdlcnJldXIgTkdpbnhcbiAgICAvLyA8RXhjZXB0aW9uUmVwb3J0PjxFeGNlcHRpb24gZXhjZXB0aW9uQ29kZT1cIk1pc3NpbmdQYXJhbWV0ZXJcIj5SZXNvdXJjZSBwYXJhbWV0ZXIgbm90IGZvdW5kPC9FeGNlcHRpb24+PC9FeGNlcHRpb25SZXBvcnQ+XG4qL1xuXG4vKlxuICAgIC8vIElORk9cbiAgICAvLyBFeGVtcGxlIGRlIHLDqXBvbnNlIGR1IHNlcnZpY2VcblxuICAgICAvLyA8SXNvY2hyb25lUmVzdWx0PlxuICAgICAvLyAgICA8c3RhdHVzPk9LPC9zdGF0dXM+XG4gICAgIC8vICAgIDxpZC8+XG4gICAgIC8vICAgIDxsb2NhdGlvbj4tMS41NTcxODksNDcuMjE3MTIyPC9sb2NhdGlvbj5cbiAgICAgLy8gICAgPHNycy8+XG4gICAgIC8vICAgIDxkaXN0YW5jZT41MDAwPC9kaXN0YW5jZT5cbiAgICAgLy8gICAgPHdrdEdlb21ldHJ5PlBPTFlHT04gKCgtMS41NDUzMTIgNDcuMTc4MTc4LCAtMS41NDUzMTIgNDcuMTgwNDE4LCAuLi4pKTwvd2t0R2VvbWV0cnk+XG4gICAgIC8vIDwvSXNvY2hyb25lUmVzdWx0PlxuXG4gICAgLy8gPGlzb2Nocm9uUmVzdWx0PlxuICAgIC8vICAgIDxzdGF0dXM+T0s8L3N0YXR1cz5cbiAgICAvLyAgICA8aWQ+MTwvaWQ+XG4gICAgLy8gICAgPGxvY2F0aW9uPi0xLjU1NzE4OSw0Ny4yMTcxMjI8L2xvY2F0aW9uPlxuICAgIC8vICAgIDxzcnMvPlxuICAgIC8vICAgIDx0aW1lPjUwPC90aW1lPlxuICAgIC8vICAgIDx3a3RHZW9tZXRyeT5QT0xZR09OICgoLTEuNTU2ODY0IDQ3LjIxNjQ4NywgLTEuNTU2ODY0IDQ3LjIxNjk0OCwgLi4uKSk8L3drdEdlb21ldHJ5PlxuICAgIC8vIDwvaXNvY2hyb25SZXN1bHQ+XG4qL1xuXG5Qcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlci5SRUFERVJTID0ge1xuXG4gICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgIGlzb2Nocm9uUmVzdWx0IDogZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgLy8gcmFjaW5lIGRlIGxhIHLDqXBvbnNlIFhNTCA6IG9uIGNyw6llIGwnb2JqZXQgZGUgcsOpcG9uc2VcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gbmV3IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlKCk7XG5cbiAgICAgICAgaWYgKHJvb3QuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSByb290LmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgY2hpbGQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbY2hpbGQubm9kZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbY2hpbGQubm9kZU5hbWVdKGNoaWxkLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IE1lc3NhZ2VzUmVzb3VyY2VzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VYQ0VQVElPTlwiLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVyclNydih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdHlwZSA6IEVyclNydi5UWVBFX1NSVkVSUlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sXG5cbiAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgbWVzc2FnZSA6IGZ1bmN0aW9uIChub2RlLCByZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLm1lc3NhZ2UgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgIHN0YXR1cyA6IGZ1bmN0aW9uIChub2RlLCByZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICBpZiAoc3RhdHVzID09PSBcIkVSUk9SXCIgfHwgc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgaWQgOiBmdW5jdGlvbiAobm9kZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5pZCA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgbG9jYXRpb24gOiBmdW5jdGlvbiAobm9kZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIGNvb3JkcyA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmxvY2F0aW9uKSB7XG4gICAgICAgICAgICByZXNwb25zZS5sb2NhdGlvbi54ID0gcGFyc2VGbG9hdChjb29yZHMuc3BsaXQoXCIsXCIpWzBdKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmxvY2F0aW9uLnkgPSBwYXJzZUZsb2F0KGNvb3Jkcy5zcGxpdChcIixcIilbMV0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICBzcnMgOiBmdW5jdGlvbiAobm9kZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zcnMgPSBfX2dldENoaWxkVmFsdWUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgIGRpc3RhbmNlIDogZnVuY3Rpb24gKG5vZGUsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzcG9uc2UuZGlzdGFuY2UgPSBwYXJzZUZsb2F0KF9fZ2V0Q2hpbGRWYWx1ZShub2RlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgIHRpbWUgOiBmdW5jdGlvbiAobm9kZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS50aW1lID0gcGFyc2VGbG9hdChfX2dldENoaWxkVmFsdWUobm9kZSkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICB3a3RHZW9tZXRyeSA6IGZ1bmN0aW9uIChub2RlLCByZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciB3a3RHZW9tZXRyeSA9IG5vZGUuaW5uZXJIVE1MO1xuICAgICAgICAgICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgICAgICAgICAgdmFyIG9uV0tUU3VjY2VzcyA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZ2VvbWV0cnkgPSBqc29uO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICAgICAgICAgIHZhciBvbldLVEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBtc2cgPSBNZXNzYWdlc1Jlc291cmNlcy5nZXRNZXNzYWdlKFwiUEFSQU1fRk9STUFUXCIsIFtcIndrdEdlb21ldHJ5XCJdKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJnZW9tZXRyeVwiKSkge1xuICAgICAgICAgICAgICAgIFdLVC50b0pzb24od2t0R2VvbWV0cnksIG9uV0tUU3VjY2Vzcywgb25XS1RFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFRPRE8gOiBqc2RvYyBibG9jayAqL1xuICAgIHNlcnZpY2VSZXN1bHQgOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAvLyBlbiBjYXMgZCdleGNlcHRpb24gZHUgc2VydmljZVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgY2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VSZWFkZXIuUkVBREVSU1tjaGlsZC5ub2RlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VSZWFkZXIuUkVBREVSU1tjaGlsZC5ub2RlTmFtZV0oY2hpbGQsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sXG5cbiAgICAvKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG4gICAgRXhjZXB0aW9uUmVwb3J0IDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0ge307XG4gICAgICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVOYW1lID09PSBcIkV4Y2VwdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmV4Y2VwdGlvblJlcG9ydCA9IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbXCJFeGNlcHRpb25cIl0oY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSxcblxuICAgIC8qKiBUT0RPIDoganNkb2MgYmxvY2sgKi9cbiAgICBFeGNlcHRpb24gOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgZXhjZXB0aW9uUmVwb3J0ID0ge307XG5cbiAgICAgICAgLy8gZ2V0IGV4Y2VwdGlvbiBjb2RlXG4gICAgICAgIHZhciBleGNlcHRpb25Db2RlID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJleGNlcHRpb25Db2RlXCIpO1xuICAgICAgICBpZiAoZXhjZXB0aW9uQ29kZSkge1xuICAgICAgICAgICAgZXhjZXB0aW9uUmVwb3J0LmV4Y2VwdGlvbkNvZGUgPSBleGNlcHRpb25Db2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4Y2VwdGlvbiBtZXNzYWdlXG4gICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHRleHROb2RlICYmIHRleHROb2RlLm5vZGVUeXBlID09PSAzKSB7IC8vIDMgPT09IG5vZGUuVEVYVF9OT0RFXG4gICAgICAgICAgICBleGNlcHRpb25SZXBvcnQuZXhjZXB0aW9uID0gdGV4dE5vZGUubm9kZVZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4Y2VwdGlvblJlcG9ydDtcbiAgICB9XG59O1xuXG4vKiogVE9ETyA6IGpzZG9jIGJsb2NrICovXG5Qcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlci5yZWFkID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICB2YXIgcmVzcG9uc2U7XG5cbiAgICBpZiAocm9vdC5ub2RlTmFtZSA9PT0gXCJpc29jaHJvblJlc3VsdFwiIHx8IHJvb3Qubm9kZU5hbWUgPT09IFwiaXNvY2hyb25lUmVzdWx0XCIgfHwgcm9vdC5ub2RlTmFtZSA9PT0gXCJJc29jaHJvbmVSZXN1bHRcIikge1xuICAgICAgICByZXNwb25zZSA9IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbXCJpc29jaHJvblJlc3VsdFwiXShyb290KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0gZWxzZSBpZiAocm9vdC5ub2RlTmFtZSA9PT0gXCJFeGNlcHRpb25SZXBvcnRcIikge1xuICAgICAgICByZXNwb25zZSA9IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbcm9vdC5ub2RlTmFtZV0ocm9vdCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9IGVsc2UgaWYgKFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyLlJFQURFUlNbcm9vdC5ub2RlTmFtZV0pIHtcbiAgICAgICAgcmVzcG9uc2UgPSBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlci5SRUFERVJTW3Jvb3Qubm9kZU5hbWVdKHJvb3QpO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIHZhciBlcnJNc2cgPSBNZXNzYWdlc1Jlc291cmNlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FWENFUFRJT05cIixcbiAgICAgICAgICAgICAgICByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJTcnYoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBlcnJNc2csXG4gICAgICAgICAgICAgICAgdHlwZSA6IEVyclNydi5UWVBFX1NSVkVSUlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJTcnYoe1xuICAgICAgICAgICAgbWVzc2FnZSA6IE1lc3NhZ2VzUmVzb3VyY2VzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0FOQUxZU0VcIiwgcm9vdC5ub2RlTmFtZSksXG4gICAgICAgICAgICB0eXBlIDogRXJyU3J2LlRZUEVfVU5LRVJSXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogTGVjdHVyZSBkZSBsYSB2YWxldXIgZHUgcHJlbWllciBjaGlsZCBkJ3VuIG5vZXVkLCBzaSBlbGxlIGV4aXN0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyXG4gKiBAbWV0aG9kIF9fZ2V0Q2hpbGRWYWx1ZVxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIC0gYSBET00gbm9kZVxuICogQHJldHVybiB7U3RyaW5nfSB2YWx1ZSAtIHZhbGV1ciBkdSBmaXJzdENoaWxkIGR1IG5vZXVkIGVuIGVudHLDqWUsIG91IGNoYcOubmUgdmlkZS5cbiAqL1xuZnVuY3Rpb24gX19nZXRDaGlsZFZhbHVlIChub2RlKSB7XG4gICAgdmFyIHRleHROb2RlO1xuICAgIHZhciB2YWx1ZSA9IFwiXCI7XG5cbiAgICBpZiAobm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh0ZXh0Tm9kZSAmJiB0ZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMykgeyAvLyAzID09PSBub2RlLlRFWFRfTk9ERVxuICAgICAgICAgICAgdmFsdWUgPSB0ZXh0Tm9kZS5ub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Formats/ProcessIsoCurveResponseReader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/ProcessIsoCurve.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/ProcessIsoCurve.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _CommonService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CommonService */ \"./node_modules/geoportal-access-lib/src/Services/CommonService.js\");\n/* harmony import */ var _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DefaultUrlService */ \"./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js\");\n/* harmony import */ var _Request_ProcessIsoCurveRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Request/ProcessIsoCurveRequest */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/ProcessIsoCurveRequest.js\");\n/* harmony import */ var _Response_ProcessIsoCurveResponseFactory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Response/ProcessIsoCurveResponseFactory */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/ProcessIsoCurveResponseFactory.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @classdesc\n * Appel du service d'isochrone/distance du Géoportail :\n *     envoi de la requête construite selon les paramètres en options,\n *     éventuellement parsing et analyse  de la réponse,\n *     retour d'une réponse en paramètre de la fonction onSuccess.\n * @constructor\n * @extends {Gp.Services.CommonService}\n * @alias Gp.Services.ProcessIsoCurve\n * @param {Object} options - options spécifiques au service (+ les options heritées)\n *\n * @param {String} options.outputFormat - Le format de la réponse du service iso : 'xml' ou 'json'.\n *      Ce paramètre déterminera l'extension '.xml' ou '.json' du service.\n *      Nécessaire si serverUrl est renseigné pour connaître le format dans lequel sera fournie la réponse (pour son traitement).\n *      Par défaut, ce paramètre vaut 'json'.\n *\n * @param {Object} options.position - Point de départ du calcul.\n *      Coordonnées exprimées en longitudes, latitudes (EPSG:4326)\n *      @param {Float} options.position.x - Abcisse du point de départ du calcul d'isochrone/distance.\n *      @param {Float} options.position.y - Ordonnée du point de départ du calcul d'isochrone/distance.\n *\n * @param {String} options.srs - Projection.\n *      Système de coordonnées dans lequel les coordonnées du point « location » sont exprimées et\n *      dans lequel la géométrie de la courbe résultante sera exprimée.\n *      Par défaut, le système de coordonnées utilisé sera « EPSG:4326 ».\n *\n * @param {String} [options.graph = \"voiture\"] - Nom du graphe à utiliser pour le calcul (« Pieton » ou « Voiture »).\n *      La valeur par défaut est : «voiture»\n *\n * @param {Array.<String>} [options.exclusions] - Critères d'exclusions à appliquer pour le calcul.\n *      On précise ici le type de tronçons que l'on ne veut pas que l'isochrone/distance emprunte\n *      (valeurs possibles : « toll » (éviter les péages), « bridge », « tunnel »).\n *\n * @param {String} [options.method = \"time\"] - Méthode utilisée pour le calcul de la courbe iso.\n *      Les valeurs possible sont \"time\" pour un calcul d'isochrone, \"distance\" pour un calcul d'isodistance.\n *      Pas de valeur spécifié équivaut à un calcul d'isochrone.\n *\n * @param {Float} options.time - Durée maximum (exprimée en secondes) à utiliser pour le calcul de la courbe à partir du ou jusqu'au point « location ».\n *      Ce paramètre doit être renseigné si l'option \"méthod\" a la valeur \"time\".\n *      Si l'option method n'est pas renseignée, ce paramètre doit être renseigné.\n *\n * @param {Float} options.distance - Distance maximum (exprimée en metres) à utiliser pour le calcul de la courbe à partir du ou j'usqu'au point « location ».\n *      Ce paramètre doit être renseigné si l'option \"méthod\" a la valeur \"DISTANCE\".\n *      Si l'option \"method\" n'est pas renseignée, ce paramètre sera ignoré.\n *\n * @param {Boolean} [options.reverse = false] - Indique si la géométrie résultante doit être lissée (« true ») pour ne pas avoir d'effet d'escalier.\n *      Par défaut, la valeur « false » est appliquée.\n *\n * @param {Boolean} [options.smoothing = false] - Indique si la géométrie résultante doit être lissée (« true ») pour ne pas avoir d'effet d'escalier.\n *      Par défaut, la valeur « false » est appliquée.\n *\n * @param {Boolean} [options.holes = false] - Indique si la géométrie résultante (surface) doit être retournée avec des trous (« true »).\n *      Par défaut, la valeur « false » est appliquée.\n *\n * @example\n *   var options = {\n *      // options communes aux services\n *      apiKey : null,\n *      serverUrl : 'http://localhost/service/',\n *      protocol : 'JSONP', // JSONP|XHR\n *      proxyURL : null,\n *      httpMethod : 'GET', // GET|POST\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      // spécifique au service\n *      position : {\n *           x : 2.3242664298058053,\n *           y : 48.86118017324745\n *      },\n *      distance : 200,\n *      [time : ]\n *      method : \"distance\",\n *      exclusions : [\"Bridge\", \"Tunnel\", \"Toll\"],\n *      graph : \"voiture\",\n *      reverse : false,\n *      smoothing : false,\n *      holes : false\n *  };\n * @private\n */\n\nfunction ProcessIsoCurve (options) {\n    if (!(this instanceof ProcessIsoCurve)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\", \"ProcessIsoCurve\"));\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     * FIXME instance ou classe ?\n     */\n    this.CLASSNAME = \"ProcessIsoCurve\";\n\n    // appel du constructeur par heritage\n    _CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Gp.Services.ProcessIsoCurve\");\n    this.logger.trace(\"[Constructeur ProcessIsoCurve (options)]\");\n\n    if (!options.position) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"position\"));\n    }\n\n    // on lance une exception afin d'eviter au service de le faire...\n    if (options.position.x === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"position.x\"));\n    }\n\n    if (options.position.y === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"position.y\"));\n    }\n\n    if (!options.time && !options.distance) {\n        throw new Error(\"Parameter (s) 'distance' missing. Parameter time to calculate an isochrone, parameter distance for an isodistance\");\n    }\n\n    // si on a que le paramètre \"distance\" en entrée, on calcule une isodistance.\n    // Le paramètre \"méthode\" doit pour avoir une réponse du service, être passé à \"distance\"\n    if (!options.time && options.distance) {\n        this.options.method = \"distance\";\n        // on supprime l'éventuel attribut time, résidu d'un appel antérieur\n        if (this.options.time) {\n            delete this.options.time;\n        }\n    }\n\n    // si on a que le paramètre \"time\" en entrée, on calcule une isochrone.\n    // Le paramètre \"méthode\" doit pour avoir une réponse du service, être passé à \"time\"\n    if (options.time && !options.distance) {\n        this.options.method = \"time\";\n        // on supprime l'éventuel attribut time, résidu d'un appel antérieur\n        if (this.options.distance) {\n            delete this.options.distance;\n        }\n    }\n\n    // au cas où on a ni l'un, ni l'autre...\n    this.options.method = this.options.method || \"time\";\n\n    // options par defaut du service\n    this.options.exclusions = options.exclusions || null;\n    this.options.graph = options.graph || \"Voiture\"; // TODO test de la valeur à faire !\n    this.options.reverse = options.reverse || false;\n    this.options.smoothing = options.smoothing || false;\n    this.options.holes = options.holes || false;\n    this.options.srs = options.srs || \"EPSG:4326\";\n\n    // on passe l'option outputFormat en minuscules afin d'éviter des exceptions.\n    this.options.outputFormat = (typeof options.outputFormat === \"string\") ? options.outputFormat.toLowerCase() : \"json\";\n\n    // gestion de l'url du service par defaut\n    // si l'url n'est pas renseignée, il faut utiliser les urls par defaut\n    if (!this.options.serverUrl) {\n        var lstUrlByDefault = _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ProcessIsoCurve.url(this.options.apiKey);\n\n        var urlFound = lstUrlByDefault[\"iso\" + \"-\" + this.options.outputFormat];\n        if (!urlFound) {\n            throw new Error(\"Url by default not found !\");\n        }\n        this.options.serverUrl = urlFound;\n        this.logger.trace(\"Serveur URL par defaut : \" + this.options.serverUrl);\n    }\n\n    // gestion du type de service\n    // si l'extension de l'url est .json ou .xml, on surcharge le format de sortie (outputFormat)\n    var idx = this.options.serverUrl.lastIndexOf(\".\");\n    if (idx !== -1) {\n        var extension = this.options.serverUrl.substring(idx + 1);\n        if (extension && extension.length < 5) { // FIXME extension de moins de 4 car. ...\n            this.logger.trace(\"Serveur Extension URL : \" + extension);\n            switch (extension.toLowerCase()) {\n                case \"json\":\n                case \"xml\":\n                    this.options.outputFormat = extension.toLowerCase();\n                    break;\n                default:\n                    throw new Error(\"type of service : unknown or unsupported (json or xml) !\");\n            }\n        }\n    }\n}\n\n/**\n * @lends module:ProcessIsoCurve#\n */\nProcessIsoCurve.prototype = Object.create(_CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/*\n * Constructeur (alias)\n */\nProcessIsoCurve.prototype.constructor = ProcessIsoCurve;\n\n/**\n * Création de la requête (overwrite)\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nProcessIsoCurve.prototype.buildRequest = function (error, success) {\n    try {\n        var oIsoCurve = new _Request_ProcessIsoCurveRequest__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.options);\n        if (!oIsoCurve.processRequestString()) {\n            throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_REQUEST_BUILD\"));\n        }\n\n        this.request = oIsoCurve.requestString;\n    } catch (e) {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](e.message));\n        return;\n    }\n\n    success.call(this, this.request);\n};\n\n/**\n * (overwrite)\n * Analyse de la reponse\n *\n * @param {Function} onError   - callback des erreurs\n * @param {Function} onSuccess - callback de succès de l'analyse de la réponse\n */\nProcessIsoCurve.prototype.analyzeResponse = function (onError, onSuccess) {\n    if (this.response) {\n        var options = {\n            response : this.response,\n            outputFormat : this.options.outputFormat,\n            rawResponse : this.options.rawResponse,\n            onSuccess : onSuccess,\n            onError : onError,\n            scope : this\n        };\n\n        _Response_ProcessIsoCurveResponseFactory__WEBPACK_IMPORTED_MODULE_6__[\"default\"].build(options);\n    } else {\n        onError.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProcessIsoCurve);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL1Byb2Nlc3NJc29DdXJ2ZS5qcz84OGNlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNpRDtBQUNIO0FBQ1c7QUFDWjtBQUNRO0FBQ2lCO0FBQ2lCOztBQUV2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFDO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLHNEQUFhOztBQUVqQixrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMERBQWlCOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsc0RBQWE7QUFDdkQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUVBQXNCO0FBQ2xEO0FBQ0EsNEJBQTRCLGdFQUFDO0FBQzdCOztBQUVBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QixnRUFBWTtBQUN6QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxnRkFBOEI7QUFDdEMsS0FBSztBQUNMLCtCQUErQixnRUFBWSxDQUFDLGdFQUFDO0FBQzdDO0FBQ0E7O0FBRWUsOEVBQWUsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL1Byb2Nlc3NJc29DdXJ2ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgXyBmcm9tIFwiLi4vLi4vVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXNcIjtcbmltcG9ydCBFcnJvclNlcnZpY2UgZnJvbSBcIi4uLy4uL0V4Y2VwdGlvbnMvRXJyb3JTZXJ2aWNlXCI7XG5pbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tIFwiLi4vQ29tbW9uU2VydmljZVwiO1xuaW1wb3J0IERlZmF1bHRVcmxTZXJ2aWNlIGZyb20gXCIuLi9EZWZhdWx0VXJsU2VydmljZVwiO1xuaW1wb3J0IFByb2Nlc3NJc29DdXJ2ZVJlcXVlc3QgZnJvbSBcIi4vUmVxdWVzdC9Qcm9jZXNzSXNvQ3VydmVSZXF1ZXN0XCI7XG5pbXBvcnQgUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VGYWN0b3J5IGZyb20gXCIuL1Jlc3BvbnNlL1Byb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlRmFjdG9yeVwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFwcGVsIGR1IHNlcnZpY2UgZCdpc29jaHJvbmUvZGlzdGFuY2UgZHUgR8Opb3BvcnRhaWwgOlxuICogICAgIGVudm9pIGRlIGxhIHJlcXXDqnRlIGNvbnN0cnVpdGUgc2Vsb24gbGVzIHBhcmFtw6h0cmVzIGVuIG9wdGlvbnMsXG4gKiAgICAgw6l2ZW50dWVsbGVtZW50IHBhcnNpbmcgZXQgYW5hbHlzZSAgZGUgbGEgcsOpcG9uc2UsXG4gKiAgICAgcmV0b3VyIGQndW5lIHLDqXBvbnNlIGVuIHBhcmFtw6h0cmUgZGUgbGEgZm9uY3Rpb24gb25TdWNjZXNzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7R3AuU2VydmljZXMuQ29tbW9uU2VydmljZX1cbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Qcm9jZXNzSXNvQ3VydmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZSAoKyBsZXMgb3B0aW9ucyBoZXJpdMOpZXMpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMub3V0cHV0Rm9ybWF0IC0gTGUgZm9ybWF0IGRlIGxhIHLDqXBvbnNlIGR1IHNlcnZpY2UgaXNvIDogJ3htbCcgb3UgJ2pzb24nLlxuICogICAgICBDZSBwYXJhbcOodHJlIGTDqXRlcm1pbmVyYSBsJ2V4dGVuc2lvbiAnLnhtbCcgb3UgJy5qc29uJyBkdSBzZXJ2aWNlLlxuICogICAgICBOw6ljZXNzYWlyZSBzaSBzZXJ2ZXJVcmwgZXN0IHJlbnNlaWduw6kgcG91ciBjb25uYcOudHJlIGxlIGZvcm1hdCBkYW5zIGxlcXVlbCBzZXJhIGZvdXJuaWUgbGEgcsOpcG9uc2UgKHBvdXIgc29uIHRyYWl0ZW1lbnQpLlxuICogICAgICBQYXIgZMOpZmF1dCwgY2UgcGFyYW3DqHRyZSB2YXV0ICdqc29uJy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wb3NpdGlvbiAtIFBvaW50IGRlIGTDqXBhcnQgZHUgY2FsY3VsLlxuICogICAgICBDb29yZG9ubsOpZXMgZXhwcmltw6llcyBlbiBsb25naXR1ZGVzLCBsYXRpdHVkZXMgKEVQU0c6NDMyNilcbiAqICAgICAgQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5wb3NpdGlvbi54IC0gQWJjaXNzZSBkdSBwb2ludCBkZSBkw6lwYXJ0IGR1IGNhbGN1bCBkJ2lzb2Nocm9uZS9kaXN0YW5jZS5cbiAqICAgICAgQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5wb3NpdGlvbi55IC0gT3Jkb25uw6llIGR1IHBvaW50IGRlIGTDqXBhcnQgZHUgY2FsY3VsIGQnaXNvY2hyb25lL2Rpc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnNycyAtIFByb2plY3Rpb24uXG4gKiAgICAgIFN5c3TDqG1lIGRlIGNvb3Jkb25uw6llcyBkYW5zIGxlcXVlbCBsZXMgY29vcmRvbm7DqWVzIGR1IHBvaW50IMKrIGxvY2F0aW9uIMK7IHNvbnQgZXhwcmltw6llcyBldFxuICogICAgICBkYW5zIGxlcXVlbCBsYSBnw6lvbcOpdHJpZSBkZSBsYSBjb3VyYmUgcsOpc3VsdGFudGUgc2VyYSBleHByaW3DqWUuXG4gKiAgICAgIFBhciBkw6lmYXV0LCBsZSBzeXN0w6htZSBkZSBjb29yZG9ubsOpZXMgdXRpbGlzw6kgc2VyYSDCqyBFUFNHOjQzMjYgwrsuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmdyYXBoID0gXCJ2b2l0dXJlXCJdIC0gTm9tIGR1IGdyYXBoZSDDoCB1dGlsaXNlciBwb3VyIGxlIGNhbGN1bCAowqsgUGlldG9uIMK7IG91IMKrIFZvaXR1cmUgwrspLlxuICogICAgICBMYSB2YWxldXIgcGFyIGTDqWZhdXQgZXN0IDogwqt2b2l0dXJlwrtcbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBbb3B0aW9ucy5leGNsdXNpb25zXSAtIENyaXTDqHJlcyBkJ2V4Y2x1c2lvbnMgw6AgYXBwbGlxdWVyIHBvdXIgbGUgY2FsY3VsLlxuICogICAgICBPbiBwcsOpY2lzZSBpY2kgbGUgdHlwZSBkZSB0cm9uw6dvbnMgcXVlIGwnb24gbmUgdmV1dCBwYXMgcXVlIGwnaXNvY2hyb25lL2Rpc3RhbmNlIGVtcHJ1bnRlXG4gKiAgICAgICh2YWxldXJzIHBvc3NpYmxlcyA6IMKrIHRvbGwgwrsgKMOpdml0ZXIgbGVzIHDDqWFnZXMpLCDCqyBicmlkZ2UgwrssIMKrIHR1bm5lbCDCuykuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZCA9IFwidGltZVwiXSAtIE3DqXRob2RlIHV0aWxpc8OpZSBwb3VyIGxlIGNhbGN1bCBkZSBsYSBjb3VyYmUgaXNvLlxuICogICAgICBMZXMgdmFsZXVycyBwb3NzaWJsZSBzb250IFwidGltZVwiIHBvdXIgdW4gY2FsY3VsIGQnaXNvY2hyb25lLCBcImRpc3RhbmNlXCIgcG91ciB1biBjYWxjdWwgZCdpc29kaXN0YW5jZS5cbiAqICAgICAgUGFzIGRlIHZhbGV1ciBzcMOpY2lmacOpIMOpcXVpdmF1dCDDoCB1biBjYWxjdWwgZCdpc29jaHJvbmUuXG4gKlxuICogQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy50aW1lIC0gRHVyw6llIG1heGltdW0gKGV4cHJpbcOpZSBlbiBzZWNvbmRlcykgw6AgdXRpbGlzZXIgcG91ciBsZSBjYWxjdWwgZGUgbGEgY291cmJlIMOgIHBhcnRpciBkdSBvdSBqdXNxdSdhdSBwb2ludCDCqyBsb2NhdGlvbiDCuy5cbiAqICAgICAgQ2UgcGFyYW3DqHRyZSBkb2l0IMOqdHJlIHJlbnNlaWduw6kgc2kgbCdvcHRpb24gXCJtw6l0aG9kXCIgYSBsYSB2YWxldXIgXCJ0aW1lXCIuXG4gKiAgICAgIFNpIGwnb3B0aW9uIG1ldGhvZCBuJ2VzdCBwYXMgcmVuc2VpZ27DqWUsIGNlIHBhcmFtw6h0cmUgZG9pdCDDqnRyZSByZW5zZWlnbsOpLlxuICpcbiAqIEBwYXJhbSB7RmxvYXR9IG9wdGlvbnMuZGlzdGFuY2UgLSBEaXN0YW5jZSBtYXhpbXVtIChleHByaW3DqWUgZW4gbWV0cmVzKSDDoCB1dGlsaXNlciBwb3VyIGxlIGNhbGN1bCBkZSBsYSBjb3VyYmUgw6AgcGFydGlyIGR1IG91IGondXNxdSdhdSBwb2ludCDCqyBsb2NhdGlvbiDCuy5cbiAqICAgICAgQ2UgcGFyYW3DqHRyZSBkb2l0IMOqdHJlIHJlbnNlaWduw6kgc2kgbCdvcHRpb24gXCJtw6l0aG9kXCIgYSBsYSB2YWxldXIgXCJESVNUQU5DRVwiLlxuICogICAgICBTaSBsJ29wdGlvbiBcIm1ldGhvZFwiIG4nZXN0IHBhcyByZW5zZWlnbsOpZSwgY2UgcGFyYW3DqHRyZSBzZXJhIGlnbm9yw6kuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yZXZlcnNlID0gZmFsc2VdIC0gSW5kaXF1ZSBzaSBsYSBnw6lvbcOpdHJpZSByw6lzdWx0YW50ZSBkb2l0IMOqdHJlIGxpc3PDqWUgKMKrIHRydWUgwrspIHBvdXIgbmUgcGFzIGF2b2lyIGQnZWZmZXQgZCdlc2NhbGllci5cbiAqICAgICAgUGFyIGTDqWZhdXQsIGxhIHZhbGV1ciDCqyBmYWxzZSDCuyBlc3QgYXBwbGlxdcOpZS5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNtb290aGluZyA9IGZhbHNlXSAtIEluZGlxdWUgc2kgbGEgZ8Opb23DqXRyaWUgcsOpc3VsdGFudGUgZG9pdCDDqnRyZSBsaXNzw6llICjCqyB0cnVlIMK7KSBwb3VyIG5lIHBhcyBhdm9pciBkJ2VmZmV0IGQnZXNjYWxpZXIuXG4gKiAgICAgIFBhciBkw6lmYXV0LCBsYSB2YWxldXIgwqsgZmFsc2UgwrsgZXN0IGFwcGxpcXXDqWUuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5ob2xlcyA9IGZhbHNlXSAtIEluZGlxdWUgc2kgbGEgZ8Opb23DqXRyaWUgcsOpc3VsdGFudGUgKHN1cmZhY2UpIGRvaXQgw6p0cmUgcmV0b3VybsOpZSBhdmVjIGRlcyB0cm91cyAowqsgdHJ1ZSDCuykuXG4gKiAgICAgIFBhciBkw6lmYXV0LCBsYSB2YWxldXIgwqsgZmFsc2UgwrsgZXN0IGFwcGxpcXXDqWUuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgdmFyIG9wdGlvbnMgPSB7XG4gKiAgICAgIC8vIG9wdGlvbnMgY29tbXVuZXMgYXV4IHNlcnZpY2VzXG4gKiAgICAgIGFwaUtleSA6IG51bGwsXG4gKiAgICAgIHNlcnZlclVybCA6ICdodHRwOi8vbG9jYWxob3N0L3NlcnZpY2UvJyxcbiAqICAgICAgcHJvdG9jb2wgOiAnSlNPTlAnLCAvLyBKU09OUHxYSFJcbiAqICAgICAgcHJveHlVUkwgOiBudWxsLFxuICogICAgICBodHRwTWV0aG9kIDogJ0dFVCcsIC8vIEdFVHxQT1NUXG4gKiAgICAgIHRpbWVPdXQgOiAxMDAwMCwgLy8gbXNcbiAqICAgICAgcmF3UmVzcG9uc2UgOiBmYWxzZSwgLy8gdHJ1ZXxmYWxzZVxuICogICAgICBzY29wZSA6IG51bGwsIC8vIHRoaXNcbiAqICAgICAgb25TdWNjZXNzIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7fSxcbiAqICAgICAgb25GYWlsdXJlIDogZnVuY3Rpb24gKGVycm9yKSB7fSxcbiAqICAgICAgLy8gc3DDqWNpZmlxdWUgYXUgc2VydmljZVxuICogICAgICBwb3NpdGlvbiA6IHtcbiAqICAgICAgICAgICB4IDogMi4zMjQyNjY0Mjk4MDU4MDUzLFxuICogICAgICAgICAgIHkgOiA0OC44NjExODAxNzMyNDc0NVxuICogICAgICB9LFxuICogICAgICBkaXN0YW5jZSA6IDIwMCxcbiAqICAgICAgW3RpbWUgOiBdXG4gKiAgICAgIG1ldGhvZCA6IFwiZGlzdGFuY2VcIixcbiAqICAgICAgZXhjbHVzaW9ucyA6IFtcIkJyaWRnZVwiLCBcIlR1bm5lbFwiLCBcIlRvbGxcIl0sXG4gKiAgICAgIGdyYXBoIDogXCJ2b2l0dXJlXCIsXG4gKiAgICAgIHJldmVyc2UgOiBmYWxzZSxcbiAqICAgICAgc21vb3RoaW5nIDogZmFsc2UsXG4gKiAgICAgIGhvbGVzIDogZmFsc2VcbiAqICB9O1xuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBQcm9jZXNzSXNvQ3VydmUgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUHJvY2Vzc0lzb0N1cnZlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKF8uZ2V0TWVzc2FnZShcIkNMQVNTX0NPTlNUUlVDVE9SXCIsIFwiUHJvY2Vzc0lzb0N1cnZlXCIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKiBGSVhNRSBpbnN0YW5jZSBvdSBjbGFzc2UgP1xuICAgICAqL1xuICAgIHRoaXMuQ0xBU1NOQU1FID0gXCJQcm9jZXNzSXNvQ3VydmVcIjtcblxuICAgIC8vIGFwcGVsIGR1IGNvbnN0cnVjdGV1ciBwYXIgaGVyaXRhZ2VcbiAgICBDb21tb25TZXJ2aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJHcC5TZXJ2aWNlcy5Qcm9jZXNzSXNvQ3VydmVcIik7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIFByb2Nlc3NJc29DdXJ2ZSAob3B0aW9ucyldXCIpO1xuXG4gICAgaWYgKCFvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9NSVNTSU5HXCIsIFwicG9zaXRpb25cIikpO1xuICAgIH1cblxuICAgIC8vIG9uIGxhbmNlIHVuZSBleGNlcHRpb24gYWZpbiBkJ2V2aXRlciBhdSBzZXJ2aWNlIGRlIGxlIGZhaXJlLi4uXG4gICAgaWYgKG9wdGlvbnMucG9zaXRpb24ueCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fTUlTU0lOR1wiLCBcInBvc2l0aW9uLnhcIikpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBvc2l0aW9uLnkgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX01JU1NJTkdcIiwgXCJwb3NpdGlvbi55XCIpKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMudGltZSAmJiAhb3B0aW9ucy5kaXN0YW5jZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbWV0ZXIgKHMpICdkaXN0YW5jZScgbWlzc2luZy4gUGFyYW1ldGVyIHRpbWUgdG8gY2FsY3VsYXRlIGFuIGlzb2Nocm9uZSwgcGFyYW1ldGVyIGRpc3RhbmNlIGZvciBhbiBpc29kaXN0YW5jZVwiKTtcbiAgICB9XG5cbiAgICAvLyBzaSBvbiBhIHF1ZSBsZSBwYXJhbcOodHJlIFwiZGlzdGFuY2VcIiBlbiBlbnRyw6llLCBvbiBjYWxjdWxlIHVuZSBpc29kaXN0YW5jZS5cbiAgICAvLyBMZSBwYXJhbcOodHJlIFwibcOpdGhvZGVcIiBkb2l0IHBvdXIgYXZvaXIgdW5lIHLDqXBvbnNlIGR1IHNlcnZpY2UsIMOqdHJlIHBhc3PDqSDDoCBcImRpc3RhbmNlXCJcbiAgICBpZiAoIW9wdGlvbnMudGltZSAmJiBvcHRpb25zLmRpc3RhbmNlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5tZXRob2QgPSBcImRpc3RhbmNlXCI7XG4gICAgICAgIC8vIG9uIHN1cHByaW1lIGwnw6l2ZW50dWVsIGF0dHJpYnV0IHRpbWUsIHLDqXNpZHUgZCd1biBhcHBlbCBhbnTDqXJpZXVyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGltZSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy50aW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2kgb24gYSBxdWUgbGUgcGFyYW3DqHRyZSBcInRpbWVcIiBlbiBlbnRyw6llLCBvbiBjYWxjdWxlIHVuZSBpc29jaHJvbmUuXG4gICAgLy8gTGUgcGFyYW3DqHRyZSBcIm3DqXRob2RlXCIgZG9pdCBwb3VyIGF2b2lyIHVuZSByw6lwb25zZSBkdSBzZXJ2aWNlLCDDqnRyZSBwYXNzw6kgw6AgXCJ0aW1lXCJcbiAgICBpZiAob3B0aW9ucy50aW1lICYmICFvcHRpb25zLmRpc3RhbmNlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5tZXRob2QgPSBcInRpbWVcIjtcbiAgICAgICAgLy8gb24gc3VwcHJpbWUgbCfDqXZlbnR1ZWwgYXR0cmlidXQgdGltZSwgcsOpc2lkdSBkJ3VuIGFwcGVsIGFudMOpcmlldXJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXN0YW5jZSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5kaXN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGF1IGNhcyBvw7kgb24gYSBuaSBsJ3VuLCBuaSBsJ2F1dHJlLi4uXG4gICAgdGhpcy5vcHRpb25zLm1ldGhvZCA9IHRoaXMub3B0aW9ucy5tZXRob2QgfHwgXCJ0aW1lXCI7XG5cbiAgICAvLyBvcHRpb25zIHBhciBkZWZhdXQgZHUgc2VydmljZVxuICAgIHRoaXMub3B0aW9ucy5leGNsdXNpb25zID0gb3B0aW9ucy5leGNsdXNpb25zIHx8IG51bGw7XG4gICAgdGhpcy5vcHRpb25zLmdyYXBoID0gb3B0aW9ucy5ncmFwaCB8fCBcIlZvaXR1cmVcIjsgLy8gVE9ETyB0ZXN0IGRlIGxhIHZhbGV1ciDDoCBmYWlyZSAhXG4gICAgdGhpcy5vcHRpb25zLnJldmVyc2UgPSBvcHRpb25zLnJldmVyc2UgfHwgZmFsc2U7XG4gICAgdGhpcy5vcHRpb25zLnNtb290aGluZyA9IG9wdGlvbnMuc21vb3RoaW5nIHx8IGZhbHNlO1xuICAgIHRoaXMub3B0aW9ucy5ob2xlcyA9IG9wdGlvbnMuaG9sZXMgfHwgZmFsc2U7XG4gICAgdGhpcy5vcHRpb25zLnNycyA9IG9wdGlvbnMuc3JzIHx8IFwiRVBTRzo0MzI2XCI7XG5cbiAgICAvLyBvbiBwYXNzZSBsJ29wdGlvbiBvdXRwdXRGb3JtYXQgZW4gbWludXNjdWxlcyBhZmluIGQnw6l2aXRlciBkZXMgZXhjZXB0aW9ucy5cbiAgICB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0ID0gKHR5cGVvZiBvcHRpb25zLm91dHB1dEZvcm1hdCA9PT0gXCJzdHJpbmdcIikgPyBvcHRpb25zLm91dHB1dEZvcm1hdC50b0xvd2VyQ2FzZSgpIDogXCJqc29uXCI7XG5cbiAgICAvLyBnZXN0aW9uIGRlIGwndXJsIGR1IHNlcnZpY2UgcGFyIGRlZmF1dFxuICAgIC8vIHNpIGwndXJsIG4nZXN0IHBhcyByZW5zZWlnbsOpZSwgaWwgZmF1dCB1dGlsaXNlciBsZXMgdXJscyBwYXIgZGVmYXV0XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc2VydmVyVXJsKSB7XG4gICAgICAgIHZhciBsc3RVcmxCeURlZmF1bHQgPSBEZWZhdWx0VXJsU2VydmljZS5Qcm9jZXNzSXNvQ3VydmUudXJsKHRoaXMub3B0aW9ucy5hcGlLZXkpO1xuXG4gICAgICAgIHZhciB1cmxGb3VuZCA9IGxzdFVybEJ5RGVmYXVsdFtcImlzb1wiICsgXCItXCIgKyB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0XTtcbiAgICAgICAgaWYgKCF1cmxGb3VuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXJsIGJ5IGRlZmF1bHQgbm90IGZvdW5kICFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnNlcnZlclVybCA9IHVybEZvdW5kO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIlNlcnZldXIgVVJMIHBhciBkZWZhdXQgOiBcIiArIHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwpO1xuICAgIH1cblxuICAgIC8vIGdlc3Rpb24gZHUgdHlwZSBkZSBzZXJ2aWNlXG4gICAgLy8gc2kgbCdleHRlbnNpb24gZGUgbCd1cmwgZXN0IC5qc29uIG91IC54bWwsIG9uIHN1cmNoYXJnZSBsZSBmb3JtYXQgZGUgc29ydGllIChvdXRwdXRGb3JtYXQpXG4gICAgdmFyIGlkeCA9IHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSB0aGlzLm9wdGlvbnMuc2VydmVyVXJsLnN1YnN0cmluZyhpZHggKyAxKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbiAmJiBleHRlbnNpb24ubGVuZ3RoIDwgNSkgeyAvLyBGSVhNRSBleHRlbnNpb24gZGUgbW9pbnMgZGUgNCBjYXIuIC4uLlxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJTZXJ2ZXVyIEV4dGVuc2lvbiBVUkwgOiBcIiArIGV4dGVuc2lvbik7XG4gICAgICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwieG1sXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vdXRwdXRGb3JtYXQgPSBleHRlbnNpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHlwZSBvZiBzZXJ2aWNlIDogdW5rbm93biBvciB1bnN1cHBvcnRlZCAoanNvbiBvciB4bWwpICFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxlbmRzIG1vZHVsZTpQcm9jZXNzSXNvQ3VydmUjXG4gKi9cblByb2Nlc3NJc29DdXJ2ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENvbW1vblNlcnZpY2UucHJvdG90eXBlLCB7XG4gICAgLy8gdG9kb1xuICAgIC8vIGdldHRlci9zZXR0ZXJcbn0pO1xuXG4vKlxuICogQ29uc3RydWN0ZXVyIChhbGlhcylcbiAqL1xuUHJvY2Vzc0lzb0N1cnZlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByb2Nlc3NJc29DdXJ2ZTtcblxuLyoqXG4gKiBDcsOpYXRpb24gZGUgbGEgcmVxdcOqdGUgKG92ZXJ3cml0ZSlcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAgIC0gY2FsbGJhY2sgZGVzIGVycmV1cnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3MgLSBjYWxsYmFja1xuICovXG5Qcm9jZXNzSXNvQ3VydmUucHJvdG90eXBlLmJ1aWxkUmVxdWVzdCA9IGZ1bmN0aW9uIChlcnJvciwgc3VjY2Vzcykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBvSXNvQ3VydmUgPSBuZXcgUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBpZiAoIW9Jc29DdXJ2ZS5wcm9jZXNzUmVxdWVzdFN0cmluZygpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVFVRVNUX0JVSUxEXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVxdWVzdCA9IG9Jc29DdXJ2ZS5yZXF1ZXN0U3RyaW5nO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3IuY2FsbCh0aGlzLCBuZXcgRXJyb3JTZXJ2aWNlKGUubWVzc2FnZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3VjY2Vzcy5jYWxsKHRoaXMsIHRoaXMucmVxdWVzdCk7XG59O1xuXG4vKipcbiAqIChvdmVyd3JpdGUpXG4gKiBBbmFseXNlIGRlIGxhIHJlcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkVycm9yICAgLSBjYWxsYmFjayBkZXMgZXJyZXVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgZGUgc3VjY8OocyBkZSBsJ2FuYWx5c2UgZGUgbGEgcsOpcG9uc2VcbiAqL1xuUHJvY2Vzc0lzb0N1cnZlLnByb3RvdHlwZS5hbmFseXplUmVzcG9uc2UgPSBmdW5jdGlvbiAob25FcnJvciwgb25TdWNjZXNzKSB7XG4gICAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByZXNwb25zZSA6IHRoaXMucmVzcG9uc2UsXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXQgOiB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0LFxuICAgICAgICAgICAgcmF3UmVzcG9uc2UgOiB0aGlzLm9wdGlvbnMucmF3UmVzcG9uc2UsXG4gICAgICAgICAgICBvblN1Y2Nlc3MgOiBvblN1Y2Nlc3MsXG4gICAgICAgICAgICBvbkVycm9yIDogb25FcnJvcixcbiAgICAgICAgICAgIHNjb3BlIDogdGhpc1xuICAgICAgICB9O1xuXG4gICAgICAgIFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlRmFjdG9yeS5idWlsZChvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvbkVycm9yLmNhbGwodGhpcywgbmV3IEVycm9yU2VydmljZShfLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VNUFRZXCIpKSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvY2Vzc0lzb0N1cnZlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/ProcessIsoCurve.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/ProcessIsoCurveRequest.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/ProcessIsoCurveRequest.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _model_ProcessIsoCurveParam__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./model/ProcessIsoCurveParam */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/model/ProcessIsoCurveParam.js\");\n\n\n\n\n\n/**\n * @classdesc\n * Classe de gestion des requêtes sur le service de calcul d'isoschrone/isodistance.\n *  Les requêtes peuvent être en mode GET ou POST,\n *  et le format de sorti est en JSON ou en XML.\n *\n * @constructor\n * @alias Gp.Services.ProcessIsoCurve.Request.ProcessIsoCurveRequest\n * @param {Object} options - options\n *\n * @example\n * var options = {\n *      httpMethod : 'GET', // GET|POST\n *      // spécifique au service\n *      exclusions : ['Bridge', 'Tunnel'],\n *      position : {\n *          x : 2.3242664298058053,\n *          y : 48.86118017324745\n *      },\n *      graph : \"Voiture\",\n *      method : 'time',\n *      time : 1000, //distance : 200\n *      reverse : false,\n *      smoothing : false,\n *      holes : false,\n *      srs : 'EPSG:4326'\n *  };\n *\n * try {\n *\n *      var oIsoCurve = new ProcessIsoCurveRequest (options);\n *      if (!oIsoCurve.processRequestString ()) {\n *          // error\n *      }\n *\n *      var request = oIsoCurve.requestString;\n *\n * } catch (e) {\n *      // error\n * }\n * @private\n */\nfunction ProcessIsoCurveRequest (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"ProcessIsoCurveRequest\");\n    this.logger.trace(\"[Constructeur ProcessIsoCurveRequest ()]\");\n\n    if (!(this instanceof ProcessIsoCurveRequest)) {\n        throw new TypeError(\"ProcessIsoCurveRequest constructor cannot be called as a function.\");\n    }\n\n    // existance des options\n    if (!options) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"options\"));\n    }\n\n    /**\n     * Liste des options\n     */\n    this.settings = options;\n\n    /**\n     * Mode HTPP.\n     * Par defaut, \"GET\".\n     * @type {String}\n     */\n    this.mode = this.settings.httpMethod || \"GET\";\n}\n\nProcessIsoCurveRequest.prototype = {\n\n    /**\n     * @lends module:ProcessIsoCurveRequest#\n     */\n\n    /**\n     * Requête\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : ProcessIsoCurveRequest,\n\n    /**\n     * Template de la requête (POST)\n     * * __X__ __Y__ __SRS__ __GRAPHNAME__ __METHOD__  (obligatoire)\n     * * __REVERSE__ __SMOOTHING__ __HOLES__           (par defaut)\n     * * __TIME__ __TIMEVALUE__                        (choix)\n     * * __DISTANCE__ __DISTANCEVALUE__                (choix)\n     * * __EXCLUSIONS__ __EXCLUSIONFEATURE__ __EXCLUSIONVALUE__ (optionnel)\n     * * __PROFIL__ __PROFILID__ __PROFILNAME__                 (très optionnel)\n     * * __ID__ __IDVALUE__                                     (très optionnel)\n     */\n    template : {\n        container : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\" +\n            \"<isochroneRequest>\\n\" +\n            \"__ID__\" +\n            \"\\t<location>\\n\" +\n            \"\\t\\t<x>__X__</x>\\n\" +\n            \"\\t\\t<y>__Y__</y>\\n\" +\n            \"\\t</location>\\n\" +\n            \"\\t<srs>__SRS__</srs>\\n\" +\n            \"\\t<graphName>__GRAPHNAME__</graphName>\\n\" +\n            \"__PROFIL__\" +\n            \"__EXCLUSIONS__\" +\n            \"\\t<method>__METHOD__</method>\\n\" +\n            \"__TIME__\" +\n            \"__DISTANCE__\" +\n            \"\\t<reverse>__REVERSE__</reverse>\\n\" +\n            \"\\t<smoothing>__SMOOTHING__</smoothing>\\n\" +\n            \"\\t<holes>__HOLES__</holes>\\n\" +\n            \"</isochroneRequest>\",\n        id : \"\\t<id>__IDVALUE__</id>\\n\",\n        profil : \"\\t<profileId>__PROFILID__</profileId>\\n\" + \"\\t<profileName>__PROFILNAME__</profileName>\\n\",\n        exclusions : {\n            container : \"\\t<exclusions>\\n\" +\n                \"__EXCLUSIONFEATURE__\\n\" +\n                \"\\t</exclusions>\\n\",\n            feature : \"\\t\\t<exclusion>__EXCLUSIONVALUE__</exclusion>\"\n        },\n        time : \"\\t<time>__TIMEVALUE__</time>\\n\",\n        distance : \"\\t<distance>__DISTANCEVALUE__</distance>\\n\"\n    },\n\n    /**\n     * Construction de la requête.\n     *\n     * @example\n     * // GET  out :\n     *   //  (http://wxs.ign.fr/KEY/isochrone/isochrone.json?)\n     *   //  location=&\n     *   //  time=& ou distance=&\n     *   //  method=\"DISTANCE|TIME\"&\n     *   //  graph=Pieton&\n     *   //  graphName=Pieton&\n     *   //  exclusions=&\n     *   //  reverse=10&\n     *   //  smoothing=&\n     *   //  holes=&\n     *   //  srs=\n     *\n     * // POST out :\n     *   // <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n     *   // <isochroneRequest>\n     *   //   <id>1</id>\n     *   //   <location>\n     *   //     <x>-1.557189</x>\n     *   //     <y>47.217122</y>\n     *   //   </location>\n     *   //   <srs></srs>\n     *   //   <graphName></graphName>\n     *   //   <profileId></profileId>\n     *   //   <profileName></profileName>\n     *   //   <exclusions>\n     *   //     <exclusion></exclusion>\n     *   //     <exclusion></exclusion>\n     *   //   </exclusions>\n     *   //   <method></method>\n     *   //   <time>50</time>\n     *   //   <distance></distance>\n     *   //   <reverse></reverse>\n     *   //   <smoothing></smoothing>\n     *   //   <holes></holes>\n     *   // </isochroneRequest>\n     *\n     * @returns {String} request\n     */\n    processRequestString : function () {\n        var request = \"\";\n        var i = 0;\n\n        switch (this.mode) {\n            case \"GET\":\n                this.logger.trace(\"Process GET Request\");\n\n                // Mapping des options avec le service de l'API REST\n                var oParams = new _model_ProcessIsoCurveParam__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.settings);\n                var params = oParams.getParams();\n\n                for (i = 0; i < params.length; i++) {\n                    var o = params[i];\n                    if (request) {\n                        request += \"&\";\n                    }\n                    request += o.k + \"=\" + o.v;\n                }\n\n                break;\n\n            case \"POST\":\n                this.logger.trace(\"Process POST Request\");\n\n                request = this.template.container;\n\n                // options non prises en compte car non implémentées !\n                // clean : id\n                request = request.replace(/__ID__/g, \"\");\n                // clean : profil\n                request = request.replace(/__PROFIL__/g, \"\");\n\n                // options obligatoires\n                request = request.replace(/__X__/g, this.settings.position.x);\n                request = request.replace(/__Y__/g, this.settings.position.y);\n                request = request.replace(/__GRAPHNAME__/g, this.settings.graph);\n\n                // options par defaut\n                request = request.replace(/__SRS__/g, this.settings.srs);\n                request = request.replace(/__SMOOTHING__/g, this.settings.smoothing);\n                request = request.replace(/__HOLES__/g, this.settings.holes);\n                request = request.replace(/__REVERSE__/g, this.settings.reverse);\n\n                // options conditionnelles\n\n                // exclusions\n                if (this.settings.exclusions) {\n                    var tmplExclusions = this.template.exclusions.container;\n                    var exclusions = [];\n                    for (i = 0; i < this.settings.exclusions.length; i++) {\n                        var tmplFeature = this.template.exclusions.feature;\n                        tmplFeature = tmplFeature.replace(/__EXCLUSIONVALUE__/, this.settings.exclusions[i]);\n                        exclusions.push(tmplFeature);\n                    }\n                    tmplExclusions = tmplExclusions.replace(/__EXCLUSIONFEATURE__/, exclusions.join(\"\\n\"));\n                    request = request.replace(/__EXCLUSIONS__/g, tmplExclusions);\n                }\n                // clean exclusions\n                request = request.replace(/__EXCLUSIONS__/g, \"\");\n\n                // distance\n                if (this.settings.distance) {\n                    var tmplDistance = this.template.distance;\n                    tmplDistance = tmplDistance.replace(/__DISTANCEVALUE__/g, this.settings.distance);\n                    request = request.replace(/__DISTANCE__/g, tmplDistance);\n                    // method\n                    request = request.replace(/__METHOD__/g, \"distance\");\n                }\n                // clean\n                request = request.replace(/__DISTANCE__/g, \"\");\n\n                // time\n                if (this.settings.time) {\n                    var tmplTime = this.template.time;\n                    tmplTime = tmplTime.replace(/__TIMEVALUE__/g, this.settings.time);\n                    request = request.replace(/__TIME__/g, tmplTime);\n                    // method\n                    request = request.replace(/__METHOD__/g, \"time\");\n                }\n                // clean\n                request = request.replace(/__TIME__/g, \"\");\n                break;\n\n            default:\n                this.logger.error(\"No other HTTP method supported by the service !\");\n        }\n\n        this.logger.trace(request);\n        this.requestString = request;\n\n        return this.requestString;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProcessIsoCurveRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL1JlcXVlc3QvUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdC5qcz9iMzc3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ29EO0FBQ0g7QUFDZTs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDLG1FQUFvQjtBQUN0RDs7QUFFQSwyQkFBMkIsbUJBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQ0FBcUM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLHFGQUFzQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9Qcm9jZXNzSXNvQ3VydmUvUmVxdWVzdC9Qcm9jZXNzSXNvQ3VydmVSZXF1ZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBfIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IFByb2Nlc3NJc29DdXJ2ZVBhcmFtIGZyb20gXCIuL21vZGVsL1Byb2Nlc3NJc29DdXJ2ZVBhcmFtXCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3NlIGRlIGdlc3Rpb24gZGVzIHJlcXXDqnRlcyBzdXIgbGUgc2VydmljZSBkZSBjYWxjdWwgZCdpc29zY2hyb25lL2lzb2Rpc3RhbmNlLlxuICogIExlcyByZXF1w6p0ZXMgcGV1dmVudCDDqnRyZSBlbiBtb2RlIEdFVCBvdSBQT1NULFxuICogIGV0IGxlIGZvcm1hdCBkZSBzb3J0aSBlc3QgZW4gSlNPTiBvdSBlbiBYTUwuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuUHJvY2Vzc0lzb0N1cnZlLlJlcXVlc3QuUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBvcHRpb25zID0ge1xuICogICAgICBodHRwTWV0aG9kIDogJ0dFVCcsIC8vIEdFVHxQT1NUXG4gKiAgICAgIC8vIHNww6ljaWZpcXVlIGF1IHNlcnZpY2VcbiAqICAgICAgZXhjbHVzaW9ucyA6IFsnQnJpZGdlJywgJ1R1bm5lbCddLFxuICogICAgICBwb3NpdGlvbiA6IHtcbiAqICAgICAgICAgIHggOiAyLjMyNDI2NjQyOTgwNTgwNTMsXG4gKiAgICAgICAgICB5IDogNDguODYxMTgwMTczMjQ3NDVcbiAqICAgICAgfSxcbiAqICAgICAgZ3JhcGggOiBcIlZvaXR1cmVcIixcbiAqICAgICAgbWV0aG9kIDogJ3RpbWUnLFxuICogICAgICB0aW1lIDogMTAwMCwgLy9kaXN0YW5jZSA6IDIwMFxuICogICAgICByZXZlcnNlIDogZmFsc2UsXG4gKiAgICAgIHNtb290aGluZyA6IGZhbHNlLFxuICogICAgICBob2xlcyA6IGZhbHNlLFxuICogICAgICBzcnMgOiAnRVBTRzo0MzI2J1xuICogIH07XG4gKlxuICogdHJ5IHtcbiAqXG4gKiAgICAgIHZhciBvSXNvQ3VydmUgPSBuZXcgUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdCAob3B0aW9ucyk7XG4gKiAgICAgIGlmICghb0lzb0N1cnZlLnByb2Nlc3NSZXF1ZXN0U3RyaW5nICgpKSB7XG4gKiAgICAgICAgICAvLyBlcnJvclxuICogICAgICB9XG4gKlxuICogICAgICB2YXIgcmVxdWVzdCA9IG9Jc29DdXJ2ZS5yZXF1ZXN0U3RyaW5nO1xuICpcbiAqIH0gY2F0Y2ggKGUpIHtcbiAqICAgICAgLy8gZXJyb3JcbiAqIH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFByb2Nlc3NJc29DdXJ2ZVJlcXVlc3QgKG9wdGlvbnMpIHtcbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJQcm9jZXNzSXNvQ3VydmVSZXF1ZXN0XCIpO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiW0NvbnN0cnVjdGV1ciBQcm9jZXNzSXNvQ3VydmVSZXF1ZXN0ICgpXVwiKTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9jZXNzSXNvQ3VydmVSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIGV4aXN0YW5jZSBkZXMgb3B0aW9uc1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fRU1QVFlcIiwgXCJvcHRpb25zXCIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZSBkZXMgb3B0aW9uc1xuICAgICAqL1xuICAgIHRoaXMuc2V0dGluZ3MgPSBvcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogTW9kZSBIVFBQLlxuICAgICAqIFBhciBkZWZhdXQsIFwiR0VUXCIuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm1vZGUgPSB0aGlzLnNldHRpbmdzLmh0dHBNZXRob2QgfHwgXCJHRVRcIjtcbn1cblxuUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBAbGVuZHMgbW9kdWxlOlByb2Nlc3NJc29DdXJ2ZVJlcXVlc3QjXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZXF1w6p0ZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgcmVxdWVzdFN0cmluZyA6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdCxcblxuICAgIC8qKlxuICAgICAqIFRlbXBsYXRlIGRlIGxhIHJlcXXDqnRlIChQT1NUKVxuICAgICAqICogX19YX18gX19ZX18gX19TUlNfXyBfX0dSQVBITkFNRV9fIF9fTUVUSE9EX18gIChvYmxpZ2F0b2lyZSlcbiAgICAgKiAqIF9fUkVWRVJTRV9fIF9fU01PT1RISU5HX18gX19IT0xFU19fICAgICAgICAgICAocGFyIGRlZmF1dClcbiAgICAgKiAqIF9fVElNRV9fIF9fVElNRVZBTFVFX18gICAgICAgICAgICAgICAgICAgICAgICAoY2hvaXgpXG4gICAgICogKiBfX0RJU1RBTkNFX18gX19ESVNUQU5DRVZBTFVFX18gICAgICAgICAgICAgICAgKGNob2l4KVxuICAgICAqICogX19FWENMVVNJT05TX18gX19FWENMVVNJT05GRUFUVVJFX18gX19FWENMVVNJT05WQUxVRV9fIChvcHRpb25uZWwpXG4gICAgICogKiBfX1BST0ZJTF9fIF9fUFJPRklMSURfXyBfX1BST0ZJTE5BTUVfXyAgICAgICAgICAgICAgICAgKHRyw6hzIG9wdGlvbm5lbClcbiAgICAgKiAqIF9fSURfXyBfX0lEVkFMVUVfXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHLDqHMgb3B0aW9ubmVsKVxuICAgICAqL1xuICAgIHRlbXBsYXRlIDoge1xuICAgICAgICBjb250YWluZXIgOiBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+XFxuXCIgK1xuICAgICAgICAgICAgXCI8aXNvY2hyb25lUmVxdWVzdD5cXG5cIiArXG4gICAgICAgICAgICBcIl9fSURfX1wiICtcbiAgICAgICAgICAgIFwiXFx0PGxvY2F0aW9uPlxcblwiICtcbiAgICAgICAgICAgIFwiXFx0XFx0PHg+X19YX188L3g+XFxuXCIgK1xuICAgICAgICAgICAgXCJcXHRcXHQ8eT5fX1lfXzwveT5cXG5cIiArXG4gICAgICAgICAgICBcIlxcdDwvbG9jYXRpb24+XFxuXCIgK1xuICAgICAgICAgICAgXCJcXHQ8c3JzPl9fU1JTX188L3Nycz5cXG5cIiArXG4gICAgICAgICAgICBcIlxcdDxncmFwaE5hbWU+X19HUkFQSE5BTUVfXzwvZ3JhcGhOYW1lPlxcblwiICtcbiAgICAgICAgICAgIFwiX19QUk9GSUxfX1wiICtcbiAgICAgICAgICAgIFwiX19FWENMVVNJT05TX19cIiArXG4gICAgICAgICAgICBcIlxcdDxtZXRob2Q+X19NRVRIT0RfXzwvbWV0aG9kPlxcblwiICtcbiAgICAgICAgICAgIFwiX19USU1FX19cIiArXG4gICAgICAgICAgICBcIl9fRElTVEFOQ0VfX1wiICtcbiAgICAgICAgICAgIFwiXFx0PHJldmVyc2U+X19SRVZFUlNFX188L3JldmVyc2U+XFxuXCIgK1xuICAgICAgICAgICAgXCJcXHQ8c21vb3RoaW5nPl9fU01PT1RISU5HX188L3Ntb290aGluZz5cXG5cIiArXG4gICAgICAgICAgICBcIlxcdDxob2xlcz5fX0hPTEVTX188L2hvbGVzPlxcblwiICtcbiAgICAgICAgICAgIFwiPC9pc29jaHJvbmVSZXF1ZXN0PlwiLFxuICAgICAgICBpZCA6IFwiXFx0PGlkPl9fSURWQUxVRV9fPC9pZD5cXG5cIixcbiAgICAgICAgcHJvZmlsIDogXCJcXHQ8cHJvZmlsZUlkPl9fUFJPRklMSURfXzwvcHJvZmlsZUlkPlxcblwiICsgXCJcXHQ8cHJvZmlsZU5hbWU+X19QUk9GSUxOQU1FX188L3Byb2ZpbGVOYW1lPlxcblwiLFxuICAgICAgICBleGNsdXNpb25zIDoge1xuICAgICAgICAgICAgY29udGFpbmVyIDogXCJcXHQ8ZXhjbHVzaW9ucz5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJfX0VYQ0xVU0lPTkZFQVRVUkVfX1xcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdDwvZXhjbHVzaW9ucz5cXG5cIixcbiAgICAgICAgICAgIGZlYXR1cmUgOiBcIlxcdFxcdDxleGNsdXNpb24+X19FWENMVVNJT05WQUxVRV9fPC9leGNsdXNpb24+XCJcbiAgICAgICAgfSxcbiAgICAgICAgdGltZSA6IFwiXFx0PHRpbWU+X19USU1FVkFMVUVfXzwvdGltZT5cXG5cIixcbiAgICAgICAgZGlzdGFuY2UgOiBcIlxcdDxkaXN0YW5jZT5fX0RJU1RBTkNFVkFMVUVfXzwvZGlzdGFuY2U+XFxuXCJcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0aW9uIGRlIGxhIHJlcXXDqnRlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHRVQgIG91dCA6XG4gICAgICogICAvLyAgKGh0dHA6Ly93eHMuaWduLmZyL0tFWS9pc29jaHJvbmUvaXNvY2hyb25lLmpzb24/KVxuICAgICAqICAgLy8gIGxvY2F0aW9uPSZcbiAgICAgKiAgIC8vICB0aW1lPSYgb3UgZGlzdGFuY2U9JlxuICAgICAqICAgLy8gIG1ldGhvZD1cIkRJU1RBTkNFfFRJTUVcIiZcbiAgICAgKiAgIC8vICBncmFwaD1QaWV0b24mXG4gICAgICogICAvLyAgZ3JhcGhOYW1lPVBpZXRvbiZcbiAgICAgKiAgIC8vICBleGNsdXNpb25zPSZcbiAgICAgKiAgIC8vICByZXZlcnNlPTEwJlxuICAgICAqICAgLy8gIHNtb290aGluZz0mXG4gICAgICogICAvLyAgaG9sZXM9JlxuICAgICAqICAgLy8gIHNycz1cbiAgICAgKlxuICAgICAqIC8vIFBPU1Qgb3V0IDpcbiAgICAgKiAgIC8vIDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuICAgICAqICAgLy8gPGlzb2Nocm9uZVJlcXVlc3Q+XG4gICAgICogICAvLyAgIDxpZD4xPC9pZD5cbiAgICAgKiAgIC8vICAgPGxvY2F0aW9uPlxuICAgICAqICAgLy8gICAgIDx4Pi0xLjU1NzE4OTwveD5cbiAgICAgKiAgIC8vICAgICA8eT40Ny4yMTcxMjI8L3k+XG4gICAgICogICAvLyAgIDwvbG9jYXRpb24+XG4gICAgICogICAvLyAgIDxzcnM+PC9zcnM+XG4gICAgICogICAvLyAgIDxncmFwaE5hbWU+PC9ncmFwaE5hbWU+XG4gICAgICogICAvLyAgIDxwcm9maWxlSWQ+PC9wcm9maWxlSWQ+XG4gICAgICogICAvLyAgIDxwcm9maWxlTmFtZT48L3Byb2ZpbGVOYW1lPlxuICAgICAqICAgLy8gICA8ZXhjbHVzaW9ucz5cbiAgICAgKiAgIC8vICAgICA8ZXhjbHVzaW9uPjwvZXhjbHVzaW9uPlxuICAgICAqICAgLy8gICAgIDxleGNsdXNpb24+PC9leGNsdXNpb24+XG4gICAgICogICAvLyAgIDwvZXhjbHVzaW9ucz5cbiAgICAgKiAgIC8vICAgPG1ldGhvZD48L21ldGhvZD5cbiAgICAgKiAgIC8vICAgPHRpbWU+NTA8L3RpbWU+XG4gICAgICogICAvLyAgIDxkaXN0YW5jZT48L2Rpc3RhbmNlPlxuICAgICAqICAgLy8gICA8cmV2ZXJzZT48L3JldmVyc2U+XG4gICAgICogICAvLyAgIDxzbW9vdGhpbmc+PC9zbW9vdGhpbmc+XG4gICAgICogICAvLyAgIDxob2xlcz48L2hvbGVzPlxuICAgICAqICAgLy8gPC9pc29jaHJvbmVSZXF1ZXN0PlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmVxdWVzdFxuICAgICAqL1xuICAgIHByb2Nlc3NSZXF1ZXN0U3RyaW5nIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IFwiXCI7XG4gICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAgICAgY2FzZSBcIkdFVFwiOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiUHJvY2VzcyBHRVQgUmVxdWVzdFwiKTtcblxuICAgICAgICAgICAgICAgIC8vIE1hcHBpbmcgZGVzIG9wdGlvbnMgYXZlYyBsZSBzZXJ2aWNlIGRlIGwnQVBJIFJFU1RcbiAgICAgICAgICAgICAgICB2YXIgb1BhcmFtcyA9IG5ldyBQcm9jZXNzSXNvQ3VydmVQYXJhbSh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gb1BhcmFtcy5nZXRQYXJhbXMoKTtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBwYXJhbXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ICs9IFwiJlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QgKz0gby5rICsgXCI9XCIgKyBvLnY7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJQT1NUXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJQcm9jZXNzIFBPU1QgUmVxdWVzdFwiKTtcblxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB0aGlzLnRlbXBsYXRlLmNvbnRhaW5lcjtcblxuICAgICAgICAgICAgICAgIC8vIG9wdGlvbnMgbm9uIHByaXNlcyBlbiBjb21wdGUgY2FyIG5vbiBpbXBsw6ltZW50w6llcyAhXG4gICAgICAgICAgICAgICAgLy8gY2xlYW4gOiBpZFxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LnJlcGxhY2UoL19fSURfXy9nLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAvLyBjbGVhbiA6IHByb2ZpbFxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LnJlcGxhY2UoL19fUFJPRklMX18vZywgXCJcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBvcHRpb25zIG9ibGlnYXRvaXJlc1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LnJlcGxhY2UoL19fWF9fL2csIHRoaXMuc2V0dGluZ3MucG9zaXRpb24ueCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19ZX18vZywgdGhpcy5zZXR0aW5ncy5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5yZXBsYWNlKC9fX0dSQVBITkFNRV9fL2csIHRoaXMuc2V0dGluZ3MuZ3JhcGgpO1xuXG4gICAgICAgICAgICAgICAgLy8gb3B0aW9ucyBwYXIgZGVmYXV0XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19TUlNfXy9nLCB0aGlzLnNldHRpbmdzLnNycyk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19TTU9PVEhJTkdfXy9nLCB0aGlzLnNldHRpbmdzLnNtb290aGluZyk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19IT0xFU19fL2csIHRoaXMuc2V0dGluZ3MuaG9sZXMpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LnJlcGxhY2UoL19fUkVWRVJTRV9fL2csIHRoaXMuc2V0dGluZ3MucmV2ZXJzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBvcHRpb25zIGNvbmRpdGlvbm5lbGxlc1xuXG4gICAgICAgICAgICAgICAgLy8gZXhjbHVzaW9uc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmV4Y2x1c2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcGxFeGNsdXNpb25zID0gdGhpcy50ZW1wbGF0ZS5leGNsdXNpb25zLmNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4Y2x1c2lvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuc2V0dGluZ3MuZXhjbHVzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcGxGZWF0dXJlID0gdGhpcy50ZW1wbGF0ZS5leGNsdXNpb25zLmZlYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXBsRmVhdHVyZSA9IHRtcGxGZWF0dXJlLnJlcGxhY2UoL19fRVhDTFVTSU9OVkFMVUVfXy8sIHRoaXMuc2V0dGluZ3MuZXhjbHVzaW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGNsdXNpb25zLnB1c2godG1wbEZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRtcGxFeGNsdXNpb25zID0gdG1wbEV4Y2x1c2lvbnMucmVwbGFjZSgvX19FWENMVVNJT05GRUFUVVJFX18vLCBleGNsdXNpb25zLmpvaW4oXCJcXG5cIikpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5yZXBsYWNlKC9fX0VYQ0xVU0lPTlNfXy9nLCB0bXBsRXhjbHVzaW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNsZWFuIGV4Y2x1c2lvbnNcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5yZXBsYWNlKC9fX0VYQ0xVU0lPTlNfXy9nLCBcIlwiKTtcblxuICAgICAgICAgICAgICAgIC8vIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcGxEaXN0YW5jZSA9IHRoaXMudGVtcGxhdGUuZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIHRtcGxEaXN0YW5jZSA9IHRtcGxEaXN0YW5jZS5yZXBsYWNlKC9fX0RJU1RBTkNFVkFMVUVfXy9nLCB0aGlzLnNldHRpbmdzLmRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19ESVNUQU5DRV9fL2csIHRtcGxEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5yZXBsYWNlKC9fX01FVEhPRF9fL2csIFwiZGlzdGFuY2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNsZWFuXG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19ESVNUQU5DRV9fL2csIFwiXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGltZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcGxUaW1lID0gdGhpcy50ZW1wbGF0ZS50aW1lO1xuICAgICAgICAgICAgICAgICAgICB0bXBsVGltZSA9IHRtcGxUaW1lLnJlcGxhY2UoL19fVElNRVZBTFVFX18vZywgdGhpcy5zZXR0aW5ncy50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19USU1FX18vZywgdG1wbFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19NRVRIT0RfXy9nLCBcInRpbWVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNsZWFuXG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QucmVwbGFjZSgvX19USU1FX18vZywgXCJcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJObyBvdGhlciBIVFRQIG1ldGhvZCBzdXBwb3J0ZWQgYnkgdGhlIHNlcnZpY2UgIVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKHJlcXVlc3QpO1xuICAgICAgICB0aGlzLnJlcXVlc3RTdHJpbmcgPSByZXF1ZXN0O1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RTdHJpbmc7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvY2Vzc0lzb0N1cnZlUmVxdWVzdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/ProcessIsoCurveRequest.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/model/ProcessIsoCurveParam.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/model/ProcessIsoCurveParam.js ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n\n/**\n * @classdesc\n *\n * Classe de gestion des param. des requêtes du service de calcul des iso.\n * Permet le mapping avec les options du service.\n *\n * @constructor\n * @alias Gp.Services.ProcessIsoCurve.Request.ProcessIsoCurveParam\n * @param {Object} options - options\n * @private\n *\n */\nfunction ProcessIsoCurveParam (options) {\n    if (!(this instanceof ProcessIsoCurveParam)) {\n        throw new TypeError(\"ProcessIsoCurveParam constructor cannot be called as a function.\");\n    }\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur ProcessIsoCurveParam ()]\");\n\n    /**\n     * Options en paramêtres du constructeur.\n     */\n    this.options = options || {};\n\n    // mapping des options avec l'API REST\n\n    /** Identifiant de l’isochrone */\n    this.id = this.options.id;\n\n    /** Coordonnées de départ (ou arrivée si le reverse est à true). */\n    this.location = this.options.position;\n\n    /** projection (code EPSG comme epsg:4326 ou wgs84) */\n    this.srs = this.options.srs;\n\n    /**\n     * Profil de véhicule à utiliser pour le calcul.\n     * Voiture ou Pieton\n     */\n    this.graphName = this.options.graph;\n\n    /**\n     * Identifiant et nom du véhicule\n     * FIXME non utilisé\n     */\n    this.profileId = this.options.profileId || null; // TODO !\n    this.profileName = this.options.profileName || null; // TODO !\n\n    /** Liste des règles de restrictions à utiliser */\n    this.exclusions = this.options.exclusions;\n\n    this.reverse = this.options.reverse;\n    this.smoothing = this.options.smoothing;\n    this.holes = this.options.holes;\n\n    /**\n     * \"time\" pour isochrone ou \"distance\" for isodistance.\n     * Par defaut, time...\n     */\n    var value = this.options.method;\n    switch (value) {\n        case \"time\":\n            this.method = \"time\";\n            this.time = this.options.time;\n            break;\n        case \"distance\":\n            this.method = \"distance\";\n            this.distance = this.options.distance;\n            break;\n        default:\n            this.logger.warn(\"Par defaut, on calcule un isochrone !\");\n            this.method = \"time\";\n    }\n}\n\n/**\n * CLASSNAME\n */\nProcessIsoCurveParam.CLASSNAME = \"ProcessIsoCurveParam\";\n\nProcessIsoCurveParam.prototype = {\n\n    /**\n     * @lends module:ProcessIsoCurveParam#\n     */\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : ProcessIsoCurveParam,\n\n    /**\n     * Retourne la liste des exclusions\n     * @returns {String} x,y\n     */\n    getLocation : function () {\n        return this.location.x + \",\" + this.location.y;\n    },\n\n    /**\n     * Retourne la liste des exclusions\n     * @returns {String} exclusions\n     */\n    getExclusions : function () {\n        return this.exclusions.join(\";\");\n    }\n};\n\n/**\n * Tableau de clefs/valeurs pour param.\n *\n * @returns {Object[]} KVP\n */\nProcessIsoCurveParam.prototype.getParams = function () {\n    var map = [];\n\n    map.push({\n        k : \"location\",\n        v : this.getLocation()\n    });\n\n    map.push({\n        k : \"smoothing\",\n        v : this.smoothing\n    });\n\n    map.push({\n        k : \"holes\",\n        v : this.holes\n    });\n\n    map.push({\n        k : \"reverse\",\n        v : this.reverse\n    });\n\n    map.push({\n        k : \"method\",\n        v : this.method\n    });\n\n    if (this.time) {\n        map.push({\n            k : \"time\",\n            v : this.time\n        });\n    }\n\n    if (this.distance) {\n        map.push({\n            k : \"distance\",\n            v : this.distance\n        });\n    }\n\n    map.push({\n        k : \"graphName\",\n        v : this.graphName\n    });\n\n    if (this.exclusions) {\n        map.push({\n            k : \"exclusions\",\n            v : this.getExclusions()\n        });\n    }\n\n    if (this.srs) {\n        map.push({\n            k : \"srs\",\n            v : this.srs\n        });\n    }\n\n    return map;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProcessIsoCurveParam);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL1JlcXVlc3QvbW9kZWwvUHJvY2Vzc0lzb0N1cnZlUGFyYW0uanM/MjU4YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDdUQ7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLDhEQUFNO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQsd0RBQXdEOztBQUV4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRWUsbUZBQW9CLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL1Byb2Nlc3NJc29DdXJ2ZS9SZXF1ZXN0L21vZGVsL1Byb2Nlc3NJc29DdXJ2ZVBhcmFtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKlxuICogQ2xhc3NlIGRlIGdlc3Rpb24gZGVzIHBhcmFtLiBkZXMgcmVxdcOqdGVzIGR1IHNlcnZpY2UgZGUgY2FsY3VsIGRlcyBpc28uXG4gKiBQZXJtZXQgbGUgbWFwcGluZyBhdmVjIGxlcyBvcHRpb25zIGR1IHNlcnZpY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuUHJvY2Vzc0lzb0N1cnZlLlJlcXVlc3QuUHJvY2Vzc0lzb0N1cnZlUGFyYW1cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQHByaXZhdGVcbiAqXG4gKi9cbmZ1bmN0aW9uIFByb2Nlc3NJc29DdXJ2ZVBhcmFtIChvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb2Nlc3NJc29DdXJ2ZVBhcmFtKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvY2Vzc0lzb0N1cnZlUGFyYW0gY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgUHJvY2Vzc0lzb0N1cnZlUGFyYW0gKCldXCIpO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucyBlbiBwYXJhbcOqdHJlcyBkdSBjb25zdHJ1Y3RldXIuXG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8vIG1hcHBpbmcgZGVzIG9wdGlvbnMgYXZlYyBsJ0FQSSBSRVNUXG5cbiAgICAvKiogSWRlbnRpZmlhbnQgZGUgbOKAmWlzb2Nocm9uZSAqL1xuICAgIHRoaXMuaWQgPSB0aGlzLm9wdGlvbnMuaWQ7XG5cbiAgICAvKiogQ29vcmRvbm7DqWVzIGRlIGTDqXBhcnQgKG91IGFycml2w6llIHNpIGxlIHJldmVyc2UgZXN0IMOgIHRydWUpLiAqL1xuICAgIHRoaXMubG9jYXRpb24gPSB0aGlzLm9wdGlvbnMucG9zaXRpb247XG5cbiAgICAvKiogcHJvamVjdGlvbiAoY29kZSBFUFNHIGNvbW1lIGVwc2c6NDMyNiBvdSB3Z3M4NCkgKi9cbiAgICB0aGlzLnNycyA9IHRoaXMub3B0aW9ucy5zcnM7XG5cbiAgICAvKipcbiAgICAgKiBQcm9maWwgZGUgdsOpaGljdWxlIMOgIHV0aWxpc2VyIHBvdXIgbGUgY2FsY3VsLlxuICAgICAqIFZvaXR1cmUgb3UgUGlldG9uXG4gICAgICovXG4gICAgdGhpcy5ncmFwaE5hbWUgPSB0aGlzLm9wdGlvbnMuZ3JhcGg7XG5cbiAgICAvKipcbiAgICAgKiBJZGVudGlmaWFudCBldCBub20gZHUgdsOpaGljdWxlXG4gICAgICogRklYTUUgbm9uIHV0aWxpc8OpXG4gICAgICovXG4gICAgdGhpcy5wcm9maWxlSWQgPSB0aGlzLm9wdGlvbnMucHJvZmlsZUlkIHx8IG51bGw7IC8vIFRPRE8gIVxuICAgIHRoaXMucHJvZmlsZU5hbWUgPSB0aGlzLm9wdGlvbnMucHJvZmlsZU5hbWUgfHwgbnVsbDsgLy8gVE9ETyAhXG5cbiAgICAvKiogTGlzdGUgZGVzIHLDqGdsZXMgZGUgcmVzdHJpY3Rpb25zIMOgIHV0aWxpc2VyICovXG4gICAgdGhpcy5leGNsdXNpb25zID0gdGhpcy5vcHRpb25zLmV4Y2x1c2lvbnM7XG5cbiAgICB0aGlzLnJldmVyc2UgPSB0aGlzLm9wdGlvbnMucmV2ZXJzZTtcbiAgICB0aGlzLnNtb290aGluZyA9IHRoaXMub3B0aW9ucy5zbW9vdGhpbmc7XG4gICAgdGhpcy5ob2xlcyA9IHRoaXMub3B0aW9ucy5ob2xlcztcblxuICAgIC8qKlxuICAgICAqIFwidGltZVwiIHBvdXIgaXNvY2hyb25lIG91IFwiZGlzdGFuY2VcIiBmb3IgaXNvZGlzdGFuY2UuXG4gICAgICogUGFyIGRlZmF1dCwgdGltZS4uLlxuICAgICAqL1xuICAgIHZhciB2YWx1ZSA9IHRoaXMub3B0aW9ucy5tZXRob2Q7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICBjYXNlIFwidGltZVwiOlxuICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBcInRpbWVcIjtcbiAgICAgICAgICAgIHRoaXMudGltZSA9IHRoaXMub3B0aW9ucy50aW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkaXN0YW5jZVwiOlxuICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBcImRpc3RhbmNlXCI7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gdGhpcy5vcHRpb25zLmRpc3RhbmNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiUGFyIGRlZmF1dCwgb24gY2FsY3VsZSB1biBpc29jaHJvbmUgIVwiKTtcbiAgICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJ0aW1lXCI7XG4gICAgfVxufVxuXG4vKipcbiAqIENMQVNTTkFNRVxuICovXG5Qcm9jZXNzSXNvQ3VydmVQYXJhbS5DTEFTU05BTUUgPSBcIlByb2Nlc3NJc29DdXJ2ZVBhcmFtXCI7XG5cblByb2Nlc3NJc29DdXJ2ZVBhcmFtLnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEBsZW5kcyBtb2R1bGU6UHJvY2Vzc0lzb0N1cnZlUGFyYW0jXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogUHJvY2Vzc0lzb0N1cnZlUGFyYW0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRvdXJuZSBsYSBsaXN0ZSBkZXMgZXhjbHVzaW9uc1xuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHgseVxuICAgICAqL1xuICAgIGdldExvY2F0aW9uIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbi54ICsgXCIsXCIgKyB0aGlzLmxvY2F0aW9uLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldG91cm5lIGxhIGxpc3RlIGRlcyBleGNsdXNpb25zXG4gICAgICogQHJldHVybnMge1N0cmluZ30gZXhjbHVzaW9uc1xuICAgICAqL1xuICAgIGdldEV4Y2x1c2lvbnMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4Y2x1c2lvbnMuam9pbihcIjtcIik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUYWJsZWF1IGRlIGNsZWZzL3ZhbGV1cnMgcG91ciBwYXJhbS5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0W119IEtWUFxuICovXG5Qcm9jZXNzSXNvQ3VydmVQYXJhbS5wcm90b3R5cGUuZ2V0UGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtYXAgPSBbXTtcblxuICAgIG1hcC5wdXNoKHtcbiAgICAgICAgayA6IFwibG9jYXRpb25cIixcbiAgICAgICAgdiA6IHRoaXMuZ2V0TG9jYXRpb24oKVxuICAgIH0pO1xuXG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJzbW9vdGhpbmdcIixcbiAgICAgICAgdiA6IHRoaXMuc21vb3RoaW5nXG4gICAgfSk7XG5cbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcImhvbGVzXCIsXG4gICAgICAgIHYgOiB0aGlzLmhvbGVzXG4gICAgfSk7XG5cbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcInJldmVyc2VcIixcbiAgICAgICAgdiA6IHRoaXMucmV2ZXJzZVxuICAgIH0pO1xuXG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJtZXRob2RcIixcbiAgICAgICAgdiA6IHRoaXMubWV0aG9kXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy50aW1lKSB7XG4gICAgICAgIG1hcC5wdXNoKHtcbiAgICAgICAgICAgIGsgOiBcInRpbWVcIixcbiAgICAgICAgICAgIHYgOiB0aGlzLnRpbWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGlzdGFuY2UpIHtcbiAgICAgICAgbWFwLnB1c2goe1xuICAgICAgICAgICAgayA6IFwiZGlzdGFuY2VcIixcbiAgICAgICAgICAgIHYgOiB0aGlzLmRpc3RhbmNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1hcC5wdXNoKHtcbiAgICAgICAgayA6IFwiZ3JhcGhOYW1lXCIsXG4gICAgICAgIHYgOiB0aGlzLmdyYXBoTmFtZVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuZXhjbHVzaW9ucykge1xuICAgICAgICBtYXAucHVzaCh7XG4gICAgICAgICAgICBrIDogXCJleGNsdXNpb25zXCIsXG4gICAgICAgICAgICB2IDogdGhpcy5nZXRFeGNsdXNpb25zKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3JzKSB7XG4gICAgICAgIG1hcC5wdXNoKHtcbiAgICAgICAgICAgIGsgOiBcInNyc1wiLFxuICAgICAgICAgICAgdiA6IHRoaXMuc3JzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9jZXNzSXNvQ3VydmVQYXJhbTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Request/model/ProcessIsoCurveParam.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/ProcessIsoCurveResponseFactory.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/ProcessIsoCurveResponseFactory.js ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Formats_XML__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Formats/XML */ \"./node_modules/geoportal-access-lib/src/Formats/XML.js\");\n/* harmony import */ var _Formats_WKT__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Formats/WKT */ \"./node_modules/geoportal-access-lib/src/Formats/WKT.js\");\n/* harmony import */ var _Formats_ProcessIsoCurveResponseReader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Formats/ProcessIsoCurveResponseReader */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Formats/ProcessIsoCurveResponseReader.js\");\n/* harmony import */ var _model_ProcessIsoCurveResponse__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./model/ProcessIsoCurveResponse */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/model/ProcessIsoCurveResponse.js\");\n/**\n * Factory pour générer une reponse JSON à partir d'un XML ou d'un JSON\n * (Factory)\n *\n * @module ProcessIsoCurveResponseFactory\n * @alias Gp.Services.ProcessIsoCurve.Response.ProcessIsoCurveResponseFactory\n * @private\n */\n\n\n\n\n\n\n\n\nvar ProcessIsoCurveResponseFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant ProcessIsoCurve\n     *\n     * @example\n     *   var options = {\n     *      response :\n     *      outputFormat :\n     *      rawResponse :\n     *      scope :\n     *      onSuccess :\n     *      onError :\n     *   };\n     *\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"ProcessIsoCurveResponseFactory\");\n        logger.trace([\"ProcessIsoCurveResponseFactory::build()\"]);\n\n        var data = null;\n\n        if (options.response) {\n            if (options.rawResponse) {\n                logger.trace(\"analyze response : raw\");\n                data = options.response;\n            } else {\n                switch (options.outputFormat) {\n                    case \"xml\":\n                        logger.trace(\"analyze response : xml\");\n\n                        try {\n                            var p = new _Formats_XML__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                                reader : _Formats_ProcessIsoCurveResponseReader__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n                            });\n\n                            // FIXME : mode XHR ne retourne que des string ? JSONP aussi à ce niveau ?\n                            if (typeof options.response === \"string\") {\n                                p.setXMLString(options.response);\n                            } else {\n                                p.setXMLDoc(options.response);\n                            }\n\n                            data = p.parse();\n\n                            if (!data) {\n                                throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION_2\"));\n                            }\n                        } catch (e) {\n                            var message = e.message;\n                            message += \"\\n (raw response service : '\" + options.response + \"')\";\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                                message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", message),\n                                status : 200,\n                                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n                            }));\n                            return;\n                        }\n\n                        break;\n\n                    case \"json\":\n                        logger.trace(\"analyze response : json\");\n\n                        var JSONResponse;\n                        if (typeof options.response === \"string\") {\n                            JSONResponse = JSON.parse(options.response);\n                        } else {\n                            JSONResponse = options.response;\n                        }\n\n                        // analyse de la reponse\n                        if (JSONResponse.status === \"OK\" || JSONResponse.status === \"ok\") {\n                            // création de l'objet de réponse\n                            data = new _model_ProcessIsoCurveResponse__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\n                            // remplissage de l'objet créé avec les attribtuts de la réponse du service\n                            if (data) {\n                                data.time = JSONResponse.time;\n                                data.distance = JSONResponse.distance;\n                                data.message = JSONResponse.message;\n                                data.id = JSONResponse.id;\n                                data.srs = JSONResponse.srs;\n                                // callback de la reponse\n                                var onWKTSuccess = function (json) {\n                                    data.geometry = json;\n                                };\n                                // callback d'erreur\n                                var onWKTError = function () {\n                                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_FORMAT\", \"wktGeometry\")\n                                    }));\n                                };\n                                if (data.hasOwnProperty(\"geometry\")) {\n                                    _Formats_WKT__WEBPACK_IMPORTED_MODULE_4__[\"default\"].toJson(JSONResponse.wktGeometry, onWKTSuccess, onWKTError);\n                                    if (!data.geometry) {\n                                        return;\n                                    }\n                                }\n                                var coords = JSONResponse.location.split(\",\");\n                                if (data.location) {\n                                    data.location.x = coords[0];\n                                    data.location.y = coords[1];\n                                }\n                            } else {\n                                options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE\", options.response)));\n                                return;\n                            }\n                        } else if (JSONResponse.status === \"ERROR\" || JSONResponse.status === \"error\") {\n                            // JSHint bug if var message is used !?\n                            var mess = JSONResponse.message;\n                            mess += \"\\n (raw response service : '\" + JSONResponse + \"')\";\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", mess)));\n                            return;\n                        }\n                        break;\n\n                    default:\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_FORMAT\", \"json\", \"xml\")));\n                        return;\n                }\n\n                // info : en cas de problèmes de droits (clé invalide ou autre), la réponse est au format XML !!\n                // ex. <ExceptionReport><Exception exceptionCode=\"MissingParameter\">Key does not exist or has expired</Exception></ExceptionReport>\n                // mais le statut est 403, l'erreur est donc remontée plus tôt.\n                if (data && data.exceptionReport) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                        message : _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", data.exceptionReport),\n                        type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR,\n                        status : 200\n                    }));\n                    return;\n                }\n            }\n        } else {\n            // si la réponse est vide, on appelle le callback d'erreur\n            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n            return;\n        }\n\n        // si tout s'est bien passé, on appelle le callback de succès\n        options.onSuccess.call(options.scope, data);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProcessIsoCurveResponseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL1Jlc3BvbnNlL1Byb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlRmFjdG9yeS5qcz9kZTQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29EO0FBQ0E7QUFDUTtBQUNyQjtBQUNBO0FBQzhDO0FBQ2Y7O0FBRXRFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4REFBTTtBQUMzQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0Msb0RBQUc7QUFDM0MseUNBQXlDLDhFQUE2QjtBQUN0RSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsZ0RBQWdELGdFQUFJO0FBQ3BEO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxvRUFBb0UsZ0VBQVk7QUFDaEYsMENBQTBDLGdFQUFJO0FBQzlDO0FBQ0EsdUNBQXVDLGdFQUFZO0FBQ25ELDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNFQUF1Qjs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsZ0VBQVk7QUFDeEYsa0RBQWtELGdFQUFJO0FBQ3RELHFDQUFxQztBQUNyQztBQUNBO0FBQ0Esb0NBQW9DLG9EQUFHO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix3RUFBd0UsZ0VBQVksQ0FBQyxnRUFBSTtBQUN6RjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxnRUFBWSxDQUFDLGdFQUFJO0FBQ3JGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdFQUFnRSxnRUFBWSxDQUFDLGdFQUFJO0FBQ2pGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsZ0VBQVk7QUFDeEUsa0NBQWtDLGdFQUFJO0FBQ3RDLCtCQUErQixnRUFBWTtBQUMzQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvREFBb0QsZ0VBQVksQ0FBQyxnRUFBSTtBQUNyRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDZGQUE4QixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9Qcm9jZXNzSXNvQ3VydmUvUmVzcG9uc2UvUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWN0b3J5IHBvdXIgZ8OpbsOpcmVyIHVuZSByZXBvbnNlIEpTT04gw6AgcGFydGlyIGQndW4gWE1MIG91IGQndW4gSlNPTlxuICogKEZhY3RvcnkpXG4gKlxuICogQG1vZHVsZSBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZUZhY3RvcnlcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Qcm9jZXNzSXNvQ3VydmUuUmVzcG9uc2UuUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VGYWN0b3J5XG4gKiBAcHJpdmF0ZVxuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBNUmVzIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBYTUwgZnJvbSBcIi4uLy4uLy4uL0Zvcm1hdHMvWE1MXCI7XG5pbXBvcnQgV0tUIGZyb20gXCIuLi8uLi8uLi9Gb3JtYXRzL1dLVFwiO1xuaW1wb3J0IFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyIGZyb20gXCIuLi9Gb3JtYXRzL1Byb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlUmVhZGVyXCI7XG5pbXBvcnQgUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2UgZnJvbSBcIi4vbW9kZWwvUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VcIjtcblxudmFyIFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlRmFjdG9yeSA9IHtcblxuICAgIC8qKlxuICAgICAqIGludGVyZmFjZSB1bmlxdWVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgYnVpbGRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGRlZmluaWVzIGRhbnMgbGUgY29tcG9zYW50IFByb2Nlc3NJc29DdXJ2ZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgICAgcmVzcG9uc2UgOlxuICAgICAqICAgICAgb3V0cHV0Rm9ybWF0IDpcbiAgICAgKiAgICAgIHJhd1Jlc3BvbnNlIDpcbiAgICAgKiAgICAgIHNjb3BlIDpcbiAgICAgKiAgICAgIG9uU3VjY2VzcyA6XG4gICAgICogICAgICBvbkVycm9yIDpcbiAgICAgKiAgIH07XG4gICAgICpcbiAgICAgKi9cbiAgICBidWlsZCA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGxvZ2dlclxuICAgICAgICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIlByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlRmFjdG9yeVwiKTtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFtcIlByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlRmFjdG9yeTo6YnVpbGQoKVwiXSk7XG5cbiAgICAgICAgdmFyIGRhdGEgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcImFuYWx5emUgcmVzcG9uc2UgOiByYXdcIik7XG4gICAgICAgICAgICAgICAgZGF0YSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAob3B0aW9ucy5vdXRwdXRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInhtbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiYW5hbHl6ZSByZXNwb25zZSA6IHhtbFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBYTUwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgOiBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZVJlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUgOiBtb2RlIFhIUiBuZSByZXRvdXJuZSBxdWUgZGVzIHN0cmluZyA/IEpTT05QIGF1c3NpIMOgIGNlIG5pdmVhdSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MU3RyaW5nKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MRG9jKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBwLnBhcnNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXzJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiXFxuIChyYXcgcmVzcG9uc2Ugc2VydmljZSA6ICdcIiArIG9wdGlvbnMucmVzcG9uc2UgKyBcIicpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VYQ0VQVElPTlwiLCBtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIDogMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogRXJyb3JTZXJ2aWNlLlRZUEVfU1JWRVJSXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcImFuYWx5emUgcmVzcG9uc2UgOiBqc29uXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgSlNPTlJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTlJlc3BvbnNlID0gSlNPTi5wYXJzZShvcHRpb25zLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTlJlc3BvbnNlID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5hbHlzZSBkZSBsYSByZXBvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSlNPTlJlc3BvbnNlLnN0YXR1cyA9PT0gXCJPS1wiIHx8IEpTT05SZXNwb25zZS5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyw6lhdGlvbiBkZSBsJ29iamV0IGRlIHLDqXBvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtcGxpc3NhZ2UgZGUgbCdvYmpldCBjcsOpw6kgYXZlYyBsZXMgYXR0cmlidHV0cyBkZSBsYSByw6lwb25zZSBkdSBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS50aW1lID0gSlNPTlJlc3BvbnNlLnRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGlzdGFuY2UgPSBKU09OUmVzcG9uc2UuZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubWVzc2FnZSA9IEpTT05SZXNwb25zZS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmlkID0gSlNPTlJlc3BvbnNlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNycyA9IEpTT05SZXNwb25zZS5zcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrIGRlIGxhIHJlcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uV0tUU3VjY2VzcyA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmdlb21ldHJ5ID0ganNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2sgZCdlcnJldXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uV0tURXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogTVJlcy5nZXRNZXNzYWdlKFwiUEFSQU1fRk9STUFUXCIsIFwid2t0R2VvbWV0cnlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJnZW9tZXRyeVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV0tULnRvSnNvbihKU09OUmVzcG9uc2Uud2t0R2VvbWV0cnksIG9uV0tUU3VjY2Vzcywgb25XS1RFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkcyA9IEpTT05SZXNwb25zZS5sb2NhdGlvbi5zcGxpdChcIixcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxvY2F0aW9uLnggPSBjb29yZHNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxvY2F0aW9uLnkgPSBjb29yZHNbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfQU5BTFlTRVwiLCBvcHRpb25zLnJlc3BvbnNlKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChKU09OUmVzcG9uc2Uuc3RhdHVzID09PSBcIkVSUk9SXCIgfHwgSlNPTlJlc3BvbnNlLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSlNIaW50IGJ1ZyBpZiB2YXIgbWVzc2FnZSBpcyB1c2VkICE/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3MgPSBKU09OUmVzcG9uc2UubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzICs9IFwiXFxuIChyYXcgcmVzcG9uc2Ugc2VydmljZSA6ICdcIiArIEpTT05SZXNwb25zZSArIFwiJylcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXCIsIG1lc3MpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9GT1JNQVRcIiwgXCJqc29uXCIsIFwieG1sXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaW5mbyA6IGVuIGNhcyBkZSBwcm9ibMOobWVzIGRlIGRyb2l0cyAoY2zDqSBpbnZhbGlkZSBvdSBhdXRyZSksIGxhIHLDqXBvbnNlIGVzdCBhdSBmb3JtYXQgWE1MICEhXG4gICAgICAgICAgICAgICAgLy8gZXguIDxFeGNlcHRpb25SZXBvcnQ+PEV4Y2VwdGlvbiBleGNlcHRpb25Db2RlPVwiTWlzc2luZ1BhcmFtZXRlclwiPktleSBkb2VzIG5vdCBleGlzdCBvciBoYXMgZXhwaXJlZDwvRXhjZXB0aW9uPjwvRXhjZXB0aW9uUmVwb3J0PlxuICAgICAgICAgICAgICAgIC8vIG1haXMgbGUgc3RhdHV0IGVzdCA0MDMsIGwnZXJyZXVyIGVzdCBkb25jIHJlbW9udMOpZSBwbHVzIHTDtHQuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5leGNlcHRpb25SZXBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FWENFUFRJT05cIiwgZGF0YS5leGNlcHRpb25SZXBvcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IEVycm9yU2VydmljZS5UWVBFX1NSVkVSUixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA6IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzaSBsYSByw6lwb25zZSBlc3QgdmlkZSwgb24gYXBwZWxsZSBsZSBjYWxsYmFjayBkJ2VycmV1clxuICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZShNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0VNUFRZXCIpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaSB0b3V0IHMnZXN0IGJpZW4gcGFzc8OpLCBvbiBhcHBlbGxlIGxlIGNhbGxiYWNrIGRlIHN1Y2PDqHNcbiAgICAgICAgb3B0aW9ucy5vblN1Y2Nlc3MuY2FsbChvcHRpb25zLnNjb3BlLCBkYXRhKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZUZhY3Rvcnk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/ProcessIsoCurveResponseFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/model/ProcessIsoCurveResponse.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/model/ProcessIsoCurveResponse.js ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Response object for {@link module:Services~isoCurve Gp.Services.isoCurve ()} invocation when successful. Received as the argument of onSuccess callback function.\n *\n * @property {Float} distance - distance (expressed in meters) used for the request.\n * @property {Float} time - time (expressed in seconds) used for the request.\n * @property {Object} geometry - Geometry (expressed in [GeoJSON]{@link http://geojson.org/}) of the isocurve.\n * @property {String} id - request id (used by underlying webservice).\n * @property {Gp.Point} location - Position of the start or end point used for the request (expressed in \"srs\" coordinates system).\n * @property {String} message - message\n * @property {String} srs - Identifier of the coordinates system used for the isocurve.\n *\n * @namespace\n * @alias Gp.Services.IsoCurveResponse\n *\n */\nfunction ProcessIsoCurveResponse () {\n    if (!(this instanceof ProcessIsoCurveResponse)) {\n        throw new TypeError(\"ProcessIsoCurveResponse constructor cannot be called as a function.\");\n    }\n\n    this.message = null;\n\n    this.id = null;\n\n    this.location = {};\n    this.location.x = null;\n    this.location.y = null;\n\n    this.srs = null;\n\n    this.geometry = null;\n\n    this.time = null;\n\n    this.distance = null;\n}\n\nProcessIsoCurveResponse.prototype = {\n\n    constructor : ProcessIsoCurveResponse\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProcessIsoCurveResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUHJvY2Vzc0lzb0N1cnZlL1Jlc3BvbnNlL21vZGVsL1Byb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlLmpzP2Q5OTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBLHdCQUF3Qix1REFBdUQ7QUFDL0U7QUFDQSxjQUFjLE1BQU07QUFDcEIsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsT0FBTyw2Q0FBNkMsMEJBQTBCO0FBQzVGLGNBQWMsT0FBTztBQUNyQixjQUFjLFNBQVM7QUFDdkIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRWUsc0ZBQXVCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL1Byb2Nlc3NJc29DdXJ2ZS9SZXNwb25zZS9tb2RlbC9Qcm9jZXNzSXNvQ3VydmVSZXNwb25zZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBSZXNwb25zZSBvYmplY3QgZm9yIHtAbGluayBtb2R1bGU6U2VydmljZXN+aXNvQ3VydmUgR3AuU2VydmljZXMuaXNvQ3VydmUgKCl9IGludm9jYXRpb24gd2hlbiBzdWNjZXNzZnVsLiBSZWNlaXZlZCBhcyB0aGUgYXJndW1lbnQgb2Ygb25TdWNjZXNzIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICpcbiAqIEBwcm9wZXJ0eSB7RmxvYXR9IGRpc3RhbmNlIC0gZGlzdGFuY2UgKGV4cHJlc3NlZCBpbiBtZXRlcnMpIHVzZWQgZm9yIHRoZSByZXF1ZXN0LlxuICogQHByb3BlcnR5IHtGbG9hdH0gdGltZSAtIHRpbWUgKGV4cHJlc3NlZCBpbiBzZWNvbmRzKSB1c2VkIGZvciB0aGUgcmVxdWVzdC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnZW9tZXRyeSAtIEdlb21ldHJ5IChleHByZXNzZWQgaW4gW0dlb0pTT05de0BsaW5rIGh0dHA6Ly9nZW9qc29uLm9yZy99KSBvZiB0aGUgaXNvY3VydmUuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaWQgLSByZXF1ZXN0IGlkICh1c2VkIGJ5IHVuZGVybHlpbmcgd2Vic2VydmljZSkuXG4gKiBAcHJvcGVydHkge0dwLlBvaW50fSBsb2NhdGlvbiAtIFBvc2l0aW9uIG9mIHRoZSBzdGFydCBvciBlbmQgcG9pbnQgdXNlZCBmb3IgdGhlIHJlcXVlc3QgKGV4cHJlc3NlZCBpbiBcInNyc1wiIGNvb3JkaW5hdGVzIHN5c3RlbSkuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gbWVzc2FnZSAtIG1lc3NhZ2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzcnMgLSBJZGVudGlmaWVyIG9mIHRoZSBjb29yZGluYXRlcyBzeXN0ZW0gdXNlZCBmb3IgdGhlIGlzb2N1cnZlLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Jc29DdXJ2ZVJlc3BvbnNlXG4gKlxuICovXG5mdW5jdGlvbiBQcm9jZXNzSXNvQ3VydmVSZXNwb25zZSAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2UgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2UgPSBudWxsO1xuXG4gICAgdGhpcy5pZCA9IG51bGw7XG5cbiAgICB0aGlzLmxvY2F0aW9uID0ge307XG4gICAgdGhpcy5sb2NhdGlvbi54ID0gbnVsbDtcbiAgICB0aGlzLmxvY2F0aW9uLnkgPSBudWxsO1xuXG4gICAgdGhpcy5zcnMgPSBudWxsO1xuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG5cbiAgICB0aGlzLnRpbWUgPSBudWxsO1xuXG4gICAgdGhpcy5kaXN0YW5jZSA9IG51bGw7XG59XG5cblByb2Nlc3NJc29DdXJ2ZVJlc3BvbnNlLnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0cnVjdG9yIDogUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2VcblxufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvY2Vzc0lzb0N1cnZlUmVzcG9uc2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/Response/model/ProcessIsoCurveResponse.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseOLSReader.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseOLSReader.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/**\n * Analyse de la reponse OLS\n *\n * @module RouteResponseOLSReader\n * @alias Gp.Services.Route.Formats.RouteResponseOLSReader\n * @todo not yet implemented !\n * @private\n */\n\n\n\n/**\n * Objet RouteResponseOLSReader\n * @member {Object} RouteResponseOLSReader\n *\n * @property {Object} RouteResponseOLSReader.READERS - Objet contenant des fonctions de lecture, appelées \"readers\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n *\n * @property {Method} RouteResponseOLSReader.read -  Méthode permettant de lancer la lecture d'une réponse\n *      XML du service de calcul d'itineraire, à l'aide des readers de la classe.\n */\nvar RouteResponseOLSReader = {};\n\n/**\n * Objet contenant des fonctions de lecture, appelées \"readers\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n * @static\n * @memberof RouteResponseOLSReader\n */\nRouteResponseOLSReader.READERS = {\n    /*\n        // INFO\n        // pas de reponse en JSON pour l'API OLS, uniquement du XML !\n\n        // INFO\n        // Exemple d'erreur du service\n        // <?xml version= \"1.0\" encoding= \"UTF-8\" standalone= \"yes\" ?>\n        // <XLS version=\"1.2\" xsi : schemaLocation = \"http://www.opengis.net/xls http://schemas.opengis.net/ols/1.2/olsAll.xsd\" xmlns : xls = \"http://www.opengis.net/xls\" xmlns= \"http://www.opengis.net/xls\" xmlns : xlsext = \"http://www.opengis.net/xlsext\" xmlns : gml = \"http://www.opengis.net/gml\" // xmlns : xsi = \"http://www.w3.org/2001/XMLSchema-instance\" >\n        // <ResponseHeader>\n        //     <ErrorList>\n        //         <Error message=\"Routing error : Error in smartrouting com.geoconcept.smartrouting.SmartRoutingNativeException : failed to connect waypoint { 48.846577, 2.416907, 0.000000 } failed to connect waypoint { 48.846577, 2.416907, 0.000000 } \" errorCode=\"InternalServerError\"/>\n        //     </ErrorList>\n        // </ResponseHeader>\n        // <Response version= \"1.2\" requestID= \"f8358c74-8aee-4203-90b9-2c70db5996a1\" />\n        // </XLS>\n\n        // INFO\n        // Exemple d'erreur NGinx\n        // <ExceptionReport><Exception exceptionCode=\"MissingParameter\">Resource parameter not found</Exception></ExceptionReport>\n    */\n};\n\n/**\n * Méthode permettant de lancer la lecture d'une réponse XML du service de calcul d'itineraire,\n * à l'aide des readers de la classe.\n *\n * @method RouteResponseOLSReader.read\n * @param {DOMElement} root - racine de la réponse XML à lire\n * @static\n * @memberof RouteResponseOLSReader\n */\nRouteResponseOLSReader.read = function (root) {\n    // logger\n    var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"RouteResponseOLSReader\");\n    logger.error(\"not yet implemented !\");\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteResponseOLSReader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvRm9ybWF0cy9Sb3V0ZVJlc3BvbnNlT0xTUmVhZGVyLmpzPzQwZGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9EOztBQUVwRDtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtKQUErSixnQ0FBZ0MsNkJBQTZCLGdDQUFnQztBQUM1UDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4REFBTTtBQUN2QjtBQUNBOztBQUVlLHFGQUFzQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9Sb3V0ZS9Gb3JtYXRzL1JvdXRlUmVzcG9uc2VPTFNSZWFkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFuYWx5c2UgZGUgbGEgcmVwb25zZSBPTFNcbiAqXG4gKiBAbW9kdWxlIFJvdXRlUmVzcG9uc2VPTFNSZWFkZXJcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Sb3V0ZS5Gb3JtYXRzLlJvdXRlUmVzcG9uc2VPTFNSZWFkZXJcbiAqIEB0b2RvIG5vdCB5ZXQgaW1wbGVtZW50ZWQgIVxuICogQHByaXZhdGVcbiAqL1xuXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxuLyoqXG4gKiBPYmpldCBSb3V0ZVJlc3BvbnNlT0xTUmVhZGVyXG4gKiBAbWVtYmVyIHtPYmplY3R9IFJvdXRlUmVzcG9uc2VPTFNSZWFkZXJcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gUm91dGVSZXNwb25zZU9MU1JlYWRlci5SRUFERVJTIC0gT2JqZXQgY29udGVuYW50IGRlcyBmb25jdGlvbnMgZGUgbGVjdHVyZSwgYXBwZWzDqWVzIFwicmVhZGVyc1wiXG4gKiAgICAgIGRvbnQgY2hhcXVlIGNsw6kgY29ycmVzcG9uZCBhdSBub20gZCd1biB0YWcgZHUgWE1MIHF1ZSBsJ29uIHNvdWhhaXRlIGxpcmVcbiAqICAgICAgZXQgbGEgdmFsZXVyIGFzc29jacOpZSBlc3QgdW5lIGZvbmN0aW9uIChub2RlLCBkYXRhKVxuICogICAgICBvw7kgbm9kZSBlc3QgdW4gbm9ldWQgZHUgZG9jdW1lbnQgRE9NXG4gKiAgICAgIGV0IGRhdGEgZXN0IHVuIG9iamV0IG/DuSBsJ29uIHN0b2NrZSBsZXMgaW5mb3JtYXRpb25zIGx1ZXMgZGFucyBsZSBYTUwuXG4gKlxuICogQHByb3BlcnR5IHtNZXRob2R9IFJvdXRlUmVzcG9uc2VPTFNSZWFkZXIucmVhZCAtICBNw6l0aG9kZSBwZXJtZXR0YW50IGRlIGxhbmNlciBsYSBsZWN0dXJlIGQndW5lIHLDqXBvbnNlXG4gKiAgICAgIFhNTCBkdSBzZXJ2aWNlIGRlIGNhbGN1bCBkJ2l0aW5lcmFpcmUsIMOgIGwnYWlkZSBkZXMgcmVhZGVycyBkZSBsYSBjbGFzc2UuXG4gKi9cbnZhciBSb3V0ZVJlc3BvbnNlT0xTUmVhZGVyID0ge307XG5cbi8qKlxuICogT2JqZXQgY29udGVuYW50IGRlcyBmb25jdGlvbnMgZGUgbGVjdHVyZSwgYXBwZWzDqWVzIFwicmVhZGVyc1wiXG4gKiAgICAgIGRvbnQgY2hhcXVlIGNsw6kgY29ycmVzcG9uZCBhdSBub20gZCd1biB0YWcgZHUgWE1MIHF1ZSBsJ29uIHNvdWhhaXRlIGxpcmVcbiAqICAgICAgZXQgbGEgdmFsZXVyIGFzc29jacOpZSBlc3QgdW5lIGZvbmN0aW9uIChub2RlLCBkYXRhKVxuICogICAgICBvw7kgbm9kZSBlc3QgdW4gbm9ldWQgZHUgZG9jdW1lbnQgRE9NXG4gKiAgICAgIGV0IGRhdGEgZXN0IHVuIG9iamV0IG/DuSBsJ29uIHN0b2NrZSBsZXMgaW5mb3JtYXRpb25zIGx1ZXMgZGFucyBsZSBYTUwuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUm91dGVSZXNwb25zZU9MU1JlYWRlclxuICovXG5Sb3V0ZVJlc3BvbnNlT0xTUmVhZGVyLlJFQURFUlMgPSB7XG4gICAgLypcbiAgICAgICAgLy8gSU5GT1xuICAgICAgICAvLyBwYXMgZGUgcmVwb25zZSBlbiBKU09OIHBvdXIgbCdBUEkgT0xTLCB1bmlxdWVtZW50IGR1IFhNTCAhXG5cbiAgICAgICAgLy8gSU5GT1xuICAgICAgICAvLyBFeGVtcGxlIGQnZXJyZXVyIGR1IHNlcnZpY2VcbiAgICAgICAgLy8gPD94bWwgdmVyc2lvbj0gXCIxLjBcIiBlbmNvZGluZz0gXCJVVEYtOFwiIHN0YW5kYWxvbmU9IFwieWVzXCIgPz5cbiAgICAgICAgLy8gPFhMUyB2ZXJzaW9uPVwiMS4yXCIgeHNpIDogc2NoZW1hTG9jYXRpb24gPSBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L29scy8xLjIvb2xzQWxsLnhzZFwiIHhtbG5zIDogeGxzID0gXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3hsc1wiIHhtbG5zPSBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzXCIgeG1sbnMgOiB4bHNleHQgPSBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzZXh0XCIgeG1sbnMgOiBnbWwgPSBcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIgLy8geG1sbnMgOiB4c2kgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIgPlxuICAgICAgICAvLyA8UmVzcG9uc2VIZWFkZXI+XG4gICAgICAgIC8vICAgICA8RXJyb3JMaXN0PlxuICAgICAgICAvLyAgICAgICAgIDxFcnJvciBtZXNzYWdlPVwiUm91dGluZyBlcnJvciA6IEVycm9yIGluIHNtYXJ0cm91dGluZyBjb20uZ2VvY29uY2VwdC5zbWFydHJvdXRpbmcuU21hcnRSb3V0aW5nTmF0aXZlRXhjZXB0aW9uIDogZmFpbGVkIHRvIGNvbm5lY3Qgd2F5cG9pbnQgeyA0OC44NDY1NzcsIDIuNDE2OTA3LCAwLjAwMDAwMCB9IGZhaWxlZCB0byBjb25uZWN0IHdheXBvaW50IHsgNDguODQ2NTc3LCAyLjQxNjkwNywgMC4wMDAwMDAgfSBcIiBlcnJvckNvZGU9XCJJbnRlcm5hbFNlcnZlckVycm9yXCIvPlxuICAgICAgICAvLyAgICAgPC9FcnJvckxpc3Q+XG4gICAgICAgIC8vIDwvUmVzcG9uc2VIZWFkZXI+XG4gICAgICAgIC8vIDxSZXNwb25zZSB2ZXJzaW9uPSBcIjEuMlwiIHJlcXVlc3RJRD0gXCJmODM1OGM3NC04YWVlLTQyMDMtOTBiOS0yYzcwZGI1OTk2YTFcIiAvPlxuICAgICAgICAvLyA8L1hMUz5cblxuICAgICAgICAvLyBJTkZPXG4gICAgICAgIC8vIEV4ZW1wbGUgZCdlcnJldXIgTkdpbnhcbiAgICAgICAgLy8gPEV4Y2VwdGlvblJlcG9ydD48RXhjZXB0aW9uIGV4Y2VwdGlvbkNvZGU9XCJNaXNzaW5nUGFyYW1ldGVyXCI+UmVzb3VyY2UgcGFyYW1ldGVyIG5vdCBmb3VuZDwvRXhjZXB0aW9uPjwvRXhjZXB0aW9uUmVwb3J0PlxuICAgICovXG59O1xuXG4vKipcbiAqIE3DqXRob2RlIHBlcm1ldHRhbnQgZGUgbGFuY2VyIGxhIGxlY3R1cmUgZCd1bmUgcsOpcG9uc2UgWE1MIGR1IHNlcnZpY2UgZGUgY2FsY3VsIGQnaXRpbmVyYWlyZSxcbiAqIMOgIGwnYWlkZSBkZXMgcmVhZGVycyBkZSBsYSBjbGFzc2UuXG4gKlxuICogQG1ldGhvZCBSb3V0ZVJlc3BvbnNlT0xTUmVhZGVyLnJlYWRcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdCAtIHJhY2luZSBkZSBsYSByw6lwb25zZSBYTUwgw6AgbGlyZVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFJvdXRlUmVzcG9uc2VPTFNSZWFkZXJcbiAqL1xuUm91dGVSZXNwb25zZU9MU1JlYWRlci5yZWFkID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAvLyBsb2dnZXJcbiAgICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIlJvdXRlUmVzcG9uc2VPTFNSZWFkZXJcIik7XG4gICAgbG9nZ2VyLmVycm9yKFwibm90IHlldCBpbXBsZW1lbnRlZCAhXCIpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUm91dGVSZXNwb25zZU9MU1JlYWRlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseOLSReader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseRESTReader.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseRESTReader.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Formats_WKT__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Formats/WKT */ \"./node_modules/geoportal-access-lib/src/Formats/WKT.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Response_model_RouteResponse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Response/model/RouteResponse */ \"./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteResponse.js\");\n/* harmony import */ var _Response_model_RouteInstruction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Response/model/RouteInstruction */ \"./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteInstruction.js\");\n/**\n * Analyse de la reponse REST\n *\n * @module RouteResponseRESTReader\n * @alias Gp.Services.Route.Formats.RouteResponseRESTReader\n * @todo not yet implemented !\n * @private\n */\n\n// import Logger from \"../../../Utils/LoggerByDefault\";\n\n\n\n\n\n\n/**\n * Objet RouteResponseRestReader\n * @member {Object} RouteResponseRestReader\n *\n * @property {Object} RouteResponseRestReader.READERS - Objet contenant des fonctions de lecture, appelées \"readers\"\n *      dont chaque clé correspond au nom d'un tag du XML que l'on souhaite lire\n *      et la valeur associée est une fonction (node, data)\n *      où node est un noeud du document DOM\n *      et data est un objet où l'on stocke les informations lues dans le XML.\n *\n * @property {Method} RouteResponseRestReader.read - Méthode permettant de lancer la lecture d'une réponse XML du\n *      service de calcul d'itineraire, à l'aide des readers de la classe.\n *\n */\n\nvar RouteResponseRESTReader = {};\n\nRouteResponseRESTReader.READERS = {\n\n    /**\n     * Route response\n     * @param {Object} node - node\n     * @returns {Object} response\n     */\n    routeResult : function (node) {\n        var response = new _Response_model_RouteResponse__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n        // on boucle sur les balises \"enfant\" de la réponse :\n        // status, distance, duration, distanceMeters, durationSeconds, bounds, geometryWkt, simplifiedWkt, leg\n        __getChildNodes(node, response);\n\n        if (response.status === \"error\") {\n            var message = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\",\n                response.message);\n            throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                message : message,\n                type : _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TYPE_SRVERR\n            });\n        }\n\n        return response;\n    },\n\n    /**\n     * Route status\n     * @param {Object} node - node\n     * @param {Object} response - response\n     */\n    status : function (node, response) {\n        var status = __getChildValue(node);\n        if (status === \"ERROR\" || status === \"error\") {\n            if (response) {\n                response.status = \"error\";\n            }\n        }\n    },\n\n    /**\n     * Route message\n     * @param {Object} node - node\n     * @param {Object} response - response\n     */\n    message : function (node, response) {\n        if (response) {\n            response.message = __getChildValue(node);\n        }\n    },\n\n    /**\n     * Route distance\n     * @param {Object} node - node\n     * @param {Object} response - response\n     */\n    distance : function (node, response) {\n        if (response) {\n            response.totalDistance = __getChildValue(node);\n        }\n    },\n\n    /**\n     * Route duration\n     * @param {Object} node - node\n     * @param {Object} response - response\n     */\n    durationSeconds : function (node, response) {\n        if (response) {\n            response.totalTime = parseFloat(__getChildValue(node));\n        }\n    },\n\n    /**\n     * Route bounds\n     * @param {Object} node - node\n     * @param {Object} response - response\n     */\n    bounds : function (node, response) {\n        // get value et split et parseFloat\n        if (response && response.bbox) {\n            var coords = __getChildValue(node).split(/[,;]/);\n            response.bbox.left = parseFloat(coords[0]);\n            response.bbox.bottom = parseFloat(coords[1]);\n            response.bbox.right = parseFloat(coords[2]);\n            response.bbox.top = parseFloat(coords[3]);\n        }\n    },\n\n    /**\n     * Route geometry\n     * @param {Object} node - node\n     * @param {Object} response - response\n     */\n    geometryWkt : function (node, response) {\n        if (response) {\n            var geomWkt = node.innerHTML;\n\n            var onWKTSuccess = function (json) {\n                response.routeGeometry = json;\n            };\n\n            var onWKTError = function () {\n                var msg = _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessage(\"PARAM_FORMAT\", [\"geometryWkt\"]);\n                throw new Error(msg);\n            };\n            // get WKT Geometry from string\n            _Formats_WKT__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toJson(geomWkt, onWKTSuccess, onWKTError);\n        }\n    },\n\n    /**\n     * Route step\n     * @param {Object} node - node\n     * @param {Object} response - response\n     */\n    step : function (node, response) {\n        // création d'une nouvelle instruction\n        var routeInstruction = new _Response_model_RouteInstruction__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n        var name;\n\n        // lecture des informations de l'instruction (balises enfants)\n        if (node.hasChildNodes) {\n            var children = node.childNodes;\n            var child;\n            var childName;\n\n            for (var i = 0; i < children.length; i++) {\n                child = children[i];\n\n                if (child.nodeType === 1) { // 1 === node.ELEMENT_NODE\n                    childName = child.localName || child.baseName || child.nodeName;\n\n                    if (childName === \"durationSeconds\") {\n                        routeInstruction.duration = __getChildValue(child);\n                    } else if (childName === \"distance\") {\n                        routeInstruction.distance = __getChildValue(child);\n                    } else if (childName === \"navInstruction\") {\n                        routeInstruction.code = __getChildValue(child);\n                    } else if (childName === \"name\") {\n                        name = __getChildValue(child);\n                    }\n                }\n            }\n        }\n\n        // on teste le code de l'instruction pour y ajouter la bonne description\n        if (routeInstruction.code) {\n            switch (routeInstruction.code) {\n                case \"F\":\n                    if (name !== \"Valeur non renseignée\") {\n                        routeInstruction.instruction = \"Tout droit \" + name;\n                    } else {\n                        routeInstruction.instruction = \"Continuer tout droit \";\n                    }\n                    break;\n                case \"B\":\n                    routeInstruction.instruction = \"Demi-tour \" + name;\n                    break;\n                case \"L\":\n                    routeInstruction.instruction = \"Tourner à gauche \" + name;\n                    break;\n                case \"R\":\n                    routeInstruction.instruction = \"Tourner à droite \" + name;\n                    break;\n                case \"BL\":\n                    routeInstruction.instruction = \"Tourner très à gauche \" + name;\n                    break;\n                case \"BR\":\n                    routeInstruction.instruction = \"Tourner très à droite \" + name;\n                    break;\n                case \"FL\":\n                    routeInstruction.instruction = \"Tourner légèrement à gauche \" + name;\n                    break;\n                case \"FR\":\n                    routeInstruction.instruction = \"Tourner légèrement à droite \" + name;\n                    break;\n                case \"round_about_entry\":\n                    routeInstruction.instruction = \"Entrée rond-point \" + name;\n                    break;\n                case \"round_about_exit\":\n                    routeInstruction.instruction = \"Sortie rond-point \" + name;\n                    break;\n                case null:\n                    routeInstruction.instruction = \"Prendre \" + name;\n                    break;\n                default:\n                    routeInstruction.instruction = \"?\" + routeInstruction.code + \"? \" + name;\n                    break;\n            }\n        }\n\n        if (Array.isArray(response.routeInstructions)) {\n            response.routeInstructions.push(routeInstruction);\n        }\n    }\n\n};\n\n/**\n * Méthode permettant de lancer la lecture d'une réponse XML du service de calcul d'itineraire,\n * à l'aide des readers de la classe.\n *\n * @method RouteResponseRESTReader.read\n * @param {DOMElement} root - racine de la réponse XML à lire\n * @static\n * @memberof RouteResponseRESTReader\n * @returns {DOMElement} response\n */\nRouteResponseRESTReader.read = function (root) {\n    var response;\n\n    if (root.nodeName === \"routeResult\") {\n        response = RouteResponseRESTReader.READERS[\"routeResult\"](root);\n        return response;\n    } else {\n        throw new Error(\"Erreur lors de la lecture de la réponse : elle n'est pas au format attendu.\");\n    }\n};\n\n/**\n * Lecture de la valeur du premier child d'un noeud, si elle existe.\n *\n * @private\n * @memberof RouteResponseRESTReader\n * @method __getChildValue\n * @param {DOMElement} node - a DOM node\n * @return {String} value - valeur du firstChild du noeud en entrée, ou chaîne vide.\n */\nfunction __getChildValue (node) {\n    var textNode;\n    var value = \"\";\n\n    if (node.hasChildNodes()) {\n        textNode = node.firstChild;\n        if (textNode && textNode.nodeType === 3) { // 3 === node.TEXT_NODE\n            value = textNode.nodeValue;\n        }\n    }\n    return value;\n}\n\n/**\n * Récupération des noeuds enfants à partir d'un noeud donné, pour lecture (readNode).\n *\n * @private\n * @memberof RouteResponseRESTReader\n * @method __getChildNodes\n * @param {DOMElement} node - a DOM node\n * @param {Array|Object} [data] - an object to be filled with node data\n */\nfunction __getChildNodes (node, data) {\n    if (node.hasChildNodes()) {\n        var children = node.childNodes;\n        var child;\n        var childName;\n\n        for (var i = 0; i < children.length; i++) {\n            child = children[i];\n\n            if (child.nodeType === 1) { // 1 === node.ELEMENT_NODE\n                childName = child.localName || child.baseName || child.nodeName;\n\n                if (RouteResponseRESTReader.READERS[childName]) {\n                    var reader = RouteResponseRESTReader.READERS[childName];\n                    reader(child, data);\n                } else {\n                    __getChildNodes(child, data);\n                }\n            }\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteResponseRESTReader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvRm9ybWF0cy9Sb3V0ZVJlc3BvbnNlUkVTVFJlYWRlci5qcz9kZGFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUU7QUFDMUI7QUFDZTtBQUNNO0FBQ007O0FBRWxFO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EsMkJBQTJCLHFFQUFhOztBQUV4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsZ0VBQWlCO0FBQzNDO0FBQ0Esc0JBQXNCLGdFQUFNO0FBQzVCO0FBQ0EsdUJBQXVCLGdFQUFNO0FBQzdCLGFBQWE7QUFDYjs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCLGdFQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxZQUFZLG9EQUFHO0FBQ2Y7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3RUFBZ0I7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIscUJBQXFCO0FBQ2hEOztBQUVBLDJDQUEyQztBQUMzQzs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixxQkFBcUI7QUFDNUM7O0FBRUEsdUNBQXVDO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsc0ZBQXVCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL1JvdXRlL0Zvcm1hdHMvUm91dGVSZXNwb25zZVJFU1RSZWFkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFuYWx5c2UgZGUgbGEgcmVwb25zZSBSRVNUXG4gKlxuICogQG1vZHVsZSBSb3V0ZVJlc3BvbnNlUkVTVFJlYWRlclxuICogQGFsaWFzIEdwLlNlcnZpY2VzLlJvdXRlLkZvcm1hdHMuUm91dGVSZXNwb25zZVJFU1RSZWFkZXJcbiAqIEB0b2RvIG5vdCB5ZXQgaW1wbGVtZW50ZWQgIVxuICogQHByaXZhdGVcbiAqL1xuXG4vLyBpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBNZXNzYWdlc1Jlc291cmNlcyBmcm9tIFwiLi4vLi4vLi4vVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXNcIjtcbmltcG9ydCBXS1QgZnJvbSBcIi4uLy4uLy4uL0Zvcm1hdHMvV0tUXCI7XG5pbXBvcnQgRXJyU3J2IGZyb20gXCIuLi8uLi8uLi9FeGNlcHRpb25zL0Vycm9yU2VydmljZVwiO1xuaW1wb3J0IFJvdXRlUmVzcG9uc2UgZnJvbSBcIi4uL1Jlc3BvbnNlL21vZGVsL1JvdXRlUmVzcG9uc2VcIjtcbmltcG9ydCBSb3V0ZUluc3RydWN0aW9uIGZyb20gXCIuLi9SZXNwb25zZS9tb2RlbC9Sb3V0ZUluc3RydWN0aW9uXCI7XG5cbi8qKlxuICogT2JqZXQgUm91dGVSZXNwb25zZVJlc3RSZWFkZXJcbiAqIEBtZW1iZXIge09iamVjdH0gUm91dGVSZXNwb25zZVJlc3RSZWFkZXJcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gUm91dGVSZXNwb25zZVJlc3RSZWFkZXIuUkVBREVSUyAtIE9iamV0IGNvbnRlbmFudCBkZXMgZm9uY3Rpb25zIGRlIGxlY3R1cmUsIGFwcGVsw6llcyBcInJlYWRlcnNcIlxuICogICAgICBkb250IGNoYXF1ZSBjbMOpIGNvcnJlc3BvbmQgYXUgbm9tIGQndW4gdGFnIGR1IFhNTCBxdWUgbCdvbiBzb3VoYWl0ZSBsaXJlXG4gKiAgICAgIGV0IGxhIHZhbGV1ciBhc3NvY2nDqWUgZXN0IHVuZSBmb25jdGlvbiAobm9kZSwgZGF0YSlcbiAqICAgICAgb8O5IG5vZGUgZXN0IHVuIG5vZXVkIGR1IGRvY3VtZW50IERPTVxuICogICAgICBldCBkYXRhIGVzdCB1biBvYmpldCBvw7kgbCdvbiBzdG9ja2UgbGVzIGluZm9ybWF0aW9ucyBsdWVzIGRhbnMgbGUgWE1MLlxuICpcbiAqIEBwcm9wZXJ0eSB7TWV0aG9kfSBSb3V0ZVJlc3BvbnNlUmVzdFJlYWRlci5yZWFkIC0gTcOpdGhvZGUgcGVybWV0dGFudCBkZSBsYW5jZXIgbGEgbGVjdHVyZSBkJ3VuZSByw6lwb25zZSBYTUwgZHVcbiAqICAgICAgc2VydmljZSBkZSBjYWxjdWwgZCdpdGluZXJhaXJlLCDDoCBsJ2FpZGUgZGVzIHJlYWRlcnMgZGUgbGEgY2xhc3NlLlxuICpcbiAqL1xuXG52YXIgUm91dGVSZXNwb25zZVJFU1RSZWFkZXIgPSB7fTtcblxuUm91dGVSZXNwb25zZVJFU1RSZWFkZXIuUkVBREVSUyA9IHtcblxuICAgIC8qKlxuICAgICAqIFJvdXRlIHJlc3BvbnNlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5vZGUgLSBub2RlXG4gICAgICogQHJldHVybnMge09iamVjdH0gcmVzcG9uc2VcbiAgICAgKi9cbiAgICByb3V0ZVJlc3VsdCA6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciByZXNwb25zZSA9IG5ldyBSb3V0ZVJlc3BvbnNlKCk7XG5cbiAgICAgICAgLy8gb24gYm91Y2xlIHN1ciBsZXMgYmFsaXNlcyBcImVuZmFudFwiIGRlIGxhIHLDqXBvbnNlIDpcbiAgICAgICAgLy8gc3RhdHVzLCBkaXN0YW5jZSwgZHVyYXRpb24sIGRpc3RhbmNlTWV0ZXJzLCBkdXJhdGlvblNlY29uZHMsIGJvdW5kcywgZ2VvbWV0cnlXa3QsIHNpbXBsaWZpZWRXa3QsIGxlZ1xuICAgICAgICBfX2dldENoaWxkTm9kZXMobm9kZSwgcmVzcG9uc2UpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBNZXNzYWdlc1Jlc291cmNlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FWENFUFRJT05cIixcbiAgICAgICAgICAgICAgICByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJTcnYoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHR5cGUgOiBFcnJTcnYuVFlQRV9TUlZFUlJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3V0ZSBzdGF0dXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbm9kZSAtIG5vZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgLSByZXNwb25zZVxuICAgICAqL1xuICAgIHN0YXR1cyA6IGZ1bmN0aW9uIChub2RlLCByZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICBpZiAoc3RhdHVzID09PSBcIkVSUk9SXCIgfHwgc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3V0ZSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5vZGUgLSBub2RlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIC0gcmVzcG9uc2VcbiAgICAgKi9cbiAgICBtZXNzYWdlIDogZnVuY3Rpb24gKG5vZGUsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzcG9uc2UubWVzc2FnZSA9IF9fZ2V0Q2hpbGRWYWx1ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3V0ZSBkaXN0YW5jZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIC0gbm9kZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZSAtIHJlc3BvbnNlXG4gICAgICovXG4gICAgZGlzdGFuY2UgOiBmdW5jdGlvbiAobm9kZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS50b3RhbERpc3RhbmNlID0gX19nZXRDaGlsZFZhbHVlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdXRlIGR1cmF0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5vZGUgLSBub2RlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIC0gcmVzcG9uc2VcbiAgICAgKi9cbiAgICBkdXJhdGlvblNlY29uZHMgOiBmdW5jdGlvbiAobm9kZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS50b3RhbFRpbWUgPSBwYXJzZUZsb2F0KF9fZ2V0Q2hpbGRWYWx1ZShub2RlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm91dGUgYm91bmRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5vZGUgLSBub2RlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIC0gcmVzcG9uc2VcbiAgICAgKi9cbiAgICBib3VuZHMgOiBmdW5jdGlvbiAobm9kZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgLy8gZ2V0IHZhbHVlIGV0IHNwbGl0IGV0IHBhcnNlRmxvYXRcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmJib3gpIHtcbiAgICAgICAgICAgIHZhciBjb29yZHMgPSBfX2dldENoaWxkVmFsdWUobm9kZSkuc3BsaXQoL1ssO10vKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJib3gubGVmdCA9IHBhcnNlRmxvYXQoY29vcmRzWzBdKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJib3guYm90dG9tID0gcGFyc2VGbG9hdChjb29yZHNbMV0pO1xuICAgICAgICAgICAgcmVzcG9uc2UuYmJveC5yaWdodCA9IHBhcnNlRmxvYXQoY29vcmRzWzJdKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJib3gudG9wID0gcGFyc2VGbG9hdChjb29yZHNbM10pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdXRlIGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5vZGUgLSBub2RlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIC0gcmVzcG9uc2VcbiAgICAgKi9cbiAgICBnZW9tZXRyeVdrdCA6IGZ1bmN0aW9uIChub2RlLCByZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBnZW9tV2t0ID0gbm9kZS5pbm5lckhUTUw7XG5cbiAgICAgICAgICAgIHZhciBvbldLVFN1Y2Nlc3MgPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJvdXRlR2VvbWV0cnkgPSBqc29uO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG9uV0tURXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IE1lc3NhZ2VzUmVzb3VyY2VzLmdldE1lc3NhZ2UoXCJQQVJBTV9GT1JNQVRcIiwgW1wiZ2VvbWV0cnlXa3RcIl0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGdldCBXS1QgR2VvbWV0cnkgZnJvbSBzdHJpbmdcbiAgICAgICAgICAgIFdLVC50b0pzb24oZ2VvbVdrdCwgb25XS1RTdWNjZXNzLCBvbldLVEVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3V0ZSBzdGVwXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5vZGUgLSBub2RlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIC0gcmVzcG9uc2VcbiAgICAgKi9cbiAgICBzdGVwIDogZnVuY3Rpb24gKG5vZGUsIHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIGNyw6lhdGlvbiBkJ3VuZSBub3V2ZWxsZSBpbnN0cnVjdGlvblxuICAgICAgICB2YXIgcm91dGVJbnN0cnVjdGlvbiA9IG5ldyBSb3V0ZUluc3RydWN0aW9uKCk7XG4gICAgICAgIHZhciBuYW1lO1xuXG4gICAgICAgIC8vIGxlY3R1cmUgZGVzIGluZm9ybWF0aW9ucyBkZSBsJ2luc3RydWN0aW9uIChiYWxpc2VzIGVuZmFudHMpXG4gICAgICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgICAgIHZhciBjaGlsZE5hbWU7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSB7IC8vIDEgPT09IG5vZGUuRUxFTUVOVF9OT0RFXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTmFtZSA9IGNoaWxkLmxvY2FsTmFtZSB8fCBjaGlsZC5iYXNlTmFtZSB8fCBjaGlsZC5ub2RlTmFtZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROYW1lID09PSBcImR1cmF0aW9uU2Vjb25kc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZUluc3RydWN0aW9uLmR1cmF0aW9uID0gX19nZXRDaGlsZFZhbHVlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5hbWUgPT09IFwiZGlzdGFuY2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVJbnN0cnVjdGlvbi5kaXN0YW5jZSA9IF9fZ2V0Q2hpbGRWYWx1ZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGROYW1lID09PSBcIm5hdkluc3RydWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlSW5zdHJ1Y3Rpb24uY29kZSA9IF9fZ2V0Q2hpbGRWYWx1ZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGROYW1lID09PSBcIm5hbWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IF9fZ2V0Q2hpbGRWYWx1ZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbiB0ZXN0ZSBsZSBjb2RlIGRlIGwnaW5zdHJ1Y3Rpb24gcG91ciB5IGFqb3V0ZXIgbGEgYm9ubmUgZGVzY3JpcHRpb25cbiAgICAgICAgaWYgKHJvdXRlSW5zdHJ1Y3Rpb24uY29kZSkge1xuICAgICAgICAgICAgc3dpdGNoIChyb3V0ZUluc3RydWN0aW9uLmNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiRlwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSAhPT0gXCJWYWxldXIgbm9uIHJlbnNlaWduw6llXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlSW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb24gPSBcIlRvdXQgZHJvaXQgXCIgKyBuYW1lO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVJbnN0cnVjdGlvbi5pbnN0cnVjdGlvbiA9IFwiQ29udGludWVyIHRvdXQgZHJvaXQgXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgICAgICAgICAgICAgcm91dGVJbnN0cnVjdGlvbi5pbnN0cnVjdGlvbiA9IFwiRGVtaS10b3VyIFwiICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICAgICAgICAgICAgcm91dGVJbnN0cnVjdGlvbi5pbnN0cnVjdGlvbiA9IFwiVG91cm5lciDDoCBnYXVjaGUgXCIgKyBuYW1lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiUlwiOlxuICAgICAgICAgICAgICAgICAgICByb3V0ZUluc3RydWN0aW9uLmluc3RydWN0aW9uID0gXCJUb3VybmVyIMOgIGRyb2l0ZSBcIiArIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJCTFwiOlxuICAgICAgICAgICAgICAgICAgICByb3V0ZUluc3RydWN0aW9uLmluc3RydWN0aW9uID0gXCJUb3VybmVyIHRyw6hzIMOgIGdhdWNoZSBcIiArIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJCUlwiOlxuICAgICAgICAgICAgICAgICAgICByb3V0ZUluc3RydWN0aW9uLmluc3RydWN0aW9uID0gXCJUb3VybmVyIHRyw6hzIMOgIGRyb2l0ZSBcIiArIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJGTFwiOlxuICAgICAgICAgICAgICAgICAgICByb3V0ZUluc3RydWN0aW9uLmluc3RydWN0aW9uID0gXCJUb3VybmVyIGzDqWfDqHJlbWVudCDDoCBnYXVjaGUgXCIgKyBuYW1lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiRlJcIjpcbiAgICAgICAgICAgICAgICAgICAgcm91dGVJbnN0cnVjdGlvbi5pbnN0cnVjdGlvbiA9IFwiVG91cm5lciBsw6lnw6hyZW1lbnQgw6AgZHJvaXRlIFwiICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJvdW5kX2Fib3V0X2VudHJ5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlSW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb24gPSBcIkVudHLDqWUgcm9uZC1wb2ludCBcIiArIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyb3VuZF9hYm91dF9leGl0XCI6XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlSW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb24gPSBcIlNvcnRpZSByb25kLXBvaW50IFwiICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBudWxsOlxuICAgICAgICAgICAgICAgICAgICByb3V0ZUluc3RydWN0aW9uLmluc3RydWN0aW9uID0gXCJQcmVuZHJlIFwiICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcm91dGVJbnN0cnVjdGlvbi5pbnN0cnVjdGlvbiA9IFwiP1wiICsgcm91dGVJbnN0cnVjdGlvbi5jb2RlICsgXCI/IFwiICsgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZS5yb3V0ZUluc3RydWN0aW9ucykpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnJvdXRlSW5zdHJ1Y3Rpb25zLnB1c2gocm91dGVJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbi8qKlxuICogTcOpdGhvZGUgcGVybWV0dGFudCBkZSBsYW5jZXIgbGEgbGVjdHVyZSBkJ3VuZSByw6lwb25zZSBYTUwgZHUgc2VydmljZSBkZSBjYWxjdWwgZCdpdGluZXJhaXJlLFxuICogw6AgbCdhaWRlIGRlcyByZWFkZXJzIGRlIGxhIGNsYXNzZS5cbiAqXG4gKiBAbWV0aG9kIFJvdXRlUmVzcG9uc2VSRVNUUmVhZGVyLnJlYWRcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdCAtIHJhY2luZSBkZSBsYSByw6lwb25zZSBYTUwgw6AgbGlyZVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFJvdXRlUmVzcG9uc2VSRVNUUmVhZGVyXG4gKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gcmVzcG9uc2VcbiAqL1xuUm91dGVSZXNwb25zZVJFU1RSZWFkZXIucmVhZCA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgdmFyIHJlc3BvbnNlO1xuXG4gICAgaWYgKHJvb3Qubm9kZU5hbWUgPT09IFwicm91dGVSZXN1bHRcIikge1xuICAgICAgICByZXNwb25zZSA9IFJvdXRlUmVzcG9uc2VSRVNUUmVhZGVyLlJFQURFUlNbXCJyb3V0ZVJlc3VsdFwiXShyb290KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycmV1ciBsb3JzIGRlIGxhIGxlY3R1cmUgZGUgbGEgcsOpcG9uc2UgOiBlbGxlIG4nZXN0IHBhcyBhdSBmb3JtYXQgYXR0ZW5kdS5cIik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBMZWN0dXJlIGRlIGxhIHZhbGV1ciBkdSBwcmVtaWVyIGNoaWxkIGQndW4gbm9ldWQsIHNpIGVsbGUgZXhpc3RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUm91dGVSZXNwb25zZVJFU1RSZWFkZXJcbiAqIEBtZXRob2QgX19nZXRDaGlsZFZhbHVlXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgLSBhIERPTSBub2RlXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHZhbHVlIC0gdmFsZXVyIGR1IGZpcnN0Q2hpbGQgZHUgbm9ldWQgZW4gZW50csOpZSwgb3UgY2hhw65uZSB2aWRlLlxuICovXG5mdW5jdGlvbiBfX2dldENoaWxkVmFsdWUgKG5vZGUpIHtcbiAgICB2YXIgdGV4dE5vZGU7XG4gICAgdmFyIHZhbHVlID0gXCJcIjtcblxuICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHRleHROb2RlICYmIHRleHROb2RlLm5vZGVUeXBlID09PSAzKSB7IC8vIDMgPT09IG5vZGUuVEVYVF9OT0RFXG4gICAgICAgICAgICB2YWx1ZSA9IHRleHROb2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogUsOpY3Vww6lyYXRpb24gZGVzIG5vZXVkcyBlbmZhbnRzIMOgIHBhcnRpciBkJ3VuIG5vZXVkIGRvbm7DqSwgcG91ciBsZWN0dXJlIChyZWFkTm9kZSkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBSb3V0ZVJlc3BvbnNlUkVTVFJlYWRlclxuICogQG1ldGhvZCBfX2dldENoaWxkTm9kZXNcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSAtIGEgRE9NIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBbZGF0YV0gLSBhbiBvYmplY3QgdG8gYmUgZmlsbGVkIHdpdGggbm9kZSBkYXRhXG4gKi9cbmZ1bmN0aW9uIF9fZ2V0Q2hpbGROb2RlcyAobm9kZSwgZGF0YSkge1xuICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgdmFyIGNoaWxkTmFtZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIHsgLy8gMSA9PT0gbm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICAgICAgICBjaGlsZE5hbWUgPSBjaGlsZC5sb2NhbE5hbWUgfHwgY2hpbGQuYmFzZU5hbWUgfHwgY2hpbGQubm9kZU5hbWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoUm91dGVSZXNwb25zZVJFU1RSZWFkZXIuUkVBREVSU1tjaGlsZE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBSb3V0ZVJlc3BvbnNlUkVTVFJlYWRlci5SRUFERVJTW2NoaWxkTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlcihjaGlsZCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX19nZXRDaGlsZE5vZGVzKGNoaWxkLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlUmVzcG9uc2VSRVNUUmVhZGVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseRESTReader.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestFactory.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestFactory.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _RouteRequestOLS__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RouteRequestOLS */ \"./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestOLS.js\");\n/* harmony import */ var _RouteRequestREST__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RouteRequestREST */ \"./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestREST.js\");\n/**\n * Creation d'une requête OpenLS ou REST en mode POST ou GET\n * (Factory)\n *\n * @module RouteRequestFactory\n * @alias Gp.Services.Route.Request.RouteRequestFactory\n * @private\n */\n\n\n\n\n\nvar RouteRequestFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Route\n     *\n     * @example\n     *   // utilisation avec les callback\n     *   var options = {\n     *      (...)\n     *      onSuccess : function (response) {},\n     *      onError : function (error) {},\n     *      // spécifique au service\n     *      api : 'OLS',\n     *      startPoint : {\n     *          x : 42.1121,\n     *          y : 1.5557\n     *      },\n     *      endPoint : {\n     *          x : 42.1121,\n     *          y : 1.5557\n     *      },\n     *      provideBbox : false,\n     *      exclusions : [\"Bridge\", \"Tunnel\", \"Toll\"],\n     *      distanceUnit : \"km\",\n     *      graph : \"Voiture\",\n     *      geometryInInstructions : false,\n     *      routePreference : \"fastest\"\n     *   };\n     *   RouteRequestFactory.build(options);\n     *\n     *   // utilisation sans callback\n     *   var options = {...};\n     *   try {\n     *      var result = RouteRequestFactory.build(options);\n     *      if (! result) { throw new Error(\"...\"):}\n     *   } catch (e) {\n     *      // todo\n     *   }\n     * @returns {String} request\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"RouteRequestFactory\");\n        logger.trace([\"RouteRequestFactory::build()\"]);\n\n        var request = null;\n\n        var settings = options || {};\n\n        // gestion des callback\n        var bOnError = !!((options.onError !== null && typeof options.onError === \"function\"));\n\n        var message = null;\n        // choix entre les 2 types d'API pour consulter le service\n        switch (options.api) {\n            case \"REST\":\n                // FIXME les exceptions ne sont pas 'catchées' sur le constructeur !\n                var myReq = new _RouteRequestREST__WEBPACK_IMPORTED_MODULE_3__[\"default\"](settings);\n                if (!myReq.processRequestString()) {\n                    message = \"Error process request (rest) !\";\n                    if (bOnError) {\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"](message));\n                        return;\n                    }\n                    throw new Error(message);\n                }\n                request = myReq.requestString;\n                break;\n            case \"OLS\":\n                request = _RouteRequestOLS__WEBPACK_IMPORTED_MODULE_2__[\"default\"].build(settings);\n                if (!request) {\n                    message = \"Error process request (ols) !\";\n                    if (bOnError) {\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"](message));\n                        return;\n                    }\n                    throw new Error(message);\n                }\n                break;\n            default:\n                message = \"Type of API is not supported by service (REST or OLS) !\";\n                if (bOnError) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_1__[\"default\"](message));\n                    return;\n                }\n                throw new Error(message);\n        }\n\n        return request;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteRequestFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVxdWVzdC9Sb3V0ZVJlcXVlc3RGYWN0b3J5LmpzPzFlZDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDUTtBQUNaO0FBQ0U7O0FBRWxEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5Qyx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQixVQUFVO0FBQ1Y7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4REFBTTtBQUMzQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MseURBQWdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnRUFBWTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix3REFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsZ0VBQVk7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxnRUFBWTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUsa0ZBQW1CLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL1JvdXRlL1JlcXVlc3QvUm91dGVSZXF1ZXN0RmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRpb24gZCd1bmUgcmVxdcOqdGUgT3BlbkxTIG91IFJFU1QgZW4gbW9kZSBQT1NUIG91IEdFVFxuICogKEZhY3RvcnkpXG4gKlxuICogQG1vZHVsZSBSb3V0ZVJlcXVlc3RGYWN0b3J5XG4gKiBAYWxpYXMgR3AuU2VydmljZXMuUm91dGUuUmVxdWVzdC5Sb3V0ZVJlcXVlc3RGYWN0b3J5XG4gKiBAcHJpdmF0ZVxuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBFcnJvclNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL0V4Y2VwdGlvbnMvRXJyb3JTZXJ2aWNlXCI7XG5pbXBvcnQgUm91dGVSZXF1ZXN0T0xTIGZyb20gXCIuL1JvdXRlUmVxdWVzdE9MU1wiO1xuaW1wb3J0IFJvdXRlUmVxdWVzdFJFU1QgZnJvbSBcIi4vUm91dGVSZXF1ZXN0UkVTVFwiO1xuXG52YXIgUm91dGVSZXF1ZXN0RmFjdG9yeSA9IHtcblxuICAgIC8qKlxuICAgICAqIGludGVyZmFjZSB1bmlxdWVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgYnVpbGRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGRlZmluaWVzIGRhbnMgbGUgY29tcG9zYW50IFJvdXRlXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgLy8gdXRpbGlzYXRpb24gYXZlYyBsZXMgY2FsbGJhY2tcbiAgICAgKiAgIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgICAgKC4uLilcbiAgICAgKiAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uIChyZXNwb25zZSkge30sXG4gICAgICogICAgICBvbkVycm9yIDogZnVuY3Rpb24gKGVycm9yKSB7fSxcbiAgICAgKiAgICAgIC8vIHNww6ljaWZpcXVlIGF1IHNlcnZpY2VcbiAgICAgKiAgICAgIGFwaSA6ICdPTFMnLFxuICAgICAqICAgICAgc3RhcnRQb2ludCA6IHtcbiAgICAgKiAgICAgICAgICB4IDogNDIuMTEyMSxcbiAgICAgKiAgICAgICAgICB5IDogMS41NTU3XG4gICAgICogICAgICB9LFxuICAgICAqICAgICAgZW5kUG9pbnQgOiB7XG4gICAgICogICAgICAgICAgeCA6IDQyLjExMjEsXG4gICAgICogICAgICAgICAgeSA6IDEuNTU1N1xuICAgICAqICAgICAgfSxcbiAgICAgKiAgICAgIHByb3ZpZGVCYm94IDogZmFsc2UsXG4gICAgICogICAgICBleGNsdXNpb25zIDogW1wiQnJpZGdlXCIsIFwiVHVubmVsXCIsIFwiVG9sbFwiXSxcbiAgICAgKiAgICAgIGRpc3RhbmNlVW5pdCA6IFwia21cIixcbiAgICAgKiAgICAgIGdyYXBoIDogXCJWb2l0dXJlXCIsXG4gICAgICogICAgICBnZW9tZXRyeUluSW5zdHJ1Y3Rpb25zIDogZmFsc2UsXG4gICAgICogICAgICByb3V0ZVByZWZlcmVuY2UgOiBcImZhc3Rlc3RcIlxuICAgICAqICAgfTtcbiAgICAgKiAgIFJvdXRlUmVxdWVzdEZhY3RvcnkuYnVpbGQob3B0aW9ucyk7XG4gICAgICpcbiAgICAgKiAgIC8vIHV0aWxpc2F0aW9uIHNhbnMgY2FsbGJhY2tcbiAgICAgKiAgIHZhciBvcHRpb25zID0gey4uLn07XG4gICAgICogICB0cnkge1xuICAgICAqICAgICAgdmFyIHJlc3VsdCA9IFJvdXRlUmVxdWVzdEZhY3RvcnkuYnVpbGQob3B0aW9ucyk7XG4gICAgICogICAgICBpZiAoISByZXN1bHQpIHsgdGhyb3cgbmV3IEVycm9yKFwiLi4uXCIpOn1cbiAgICAgKiAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgKiAgICAgIC8vIHRvZG9cbiAgICAgKiAgIH1cbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXF1ZXN0XG4gICAgICovXG4gICAgYnVpbGQgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBsb2dnZXJcbiAgICAgICAgdmFyIGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJSb3V0ZVJlcXVlc3RGYWN0b3J5XCIpO1xuICAgICAgICBsb2dnZXIudHJhY2UoW1wiUm91dGVSZXF1ZXN0RmFjdG9yeTo6YnVpbGQoKVwiXSk7XG5cbiAgICAgICAgdmFyIHJlcXVlc3QgPSBudWxsO1xuXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLy8gZ2VzdGlvbiBkZXMgY2FsbGJhY2tcbiAgICAgICAgdmFyIGJPbkVycm9yID0gISEoKG9wdGlvbnMub25FcnJvciAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0aW9ucy5vbkVycm9yID09PSBcImZ1bmN0aW9uXCIpKTtcblxuICAgICAgICB2YXIgbWVzc2FnZSA9IG51bGw7XG4gICAgICAgIC8vIGNob2l4IGVudHJlIGxlcyAyIHR5cGVzIGQnQVBJIHBvdXIgY29uc3VsdGVyIGxlIHNlcnZpY2VcbiAgICAgICAgc3dpdGNoIChvcHRpb25zLmFwaSkge1xuICAgICAgICAgICAgY2FzZSBcIlJFU1RcIjpcbiAgICAgICAgICAgICAgICAvLyBGSVhNRSBsZXMgZXhjZXB0aW9ucyBuZSBzb250IHBhcyAnY2F0Y2jDqWVzJyBzdXIgbGUgY29uc3RydWN0ZXVyICFcbiAgICAgICAgICAgICAgICB2YXIgbXlSZXEgPSBuZXcgUm91dGVSZXF1ZXN0UkVTVChzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgaWYgKCFteVJlcS5wcm9jZXNzUmVxdWVzdFN0cmluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkVycm9yIHByb2Nlc3MgcmVxdWVzdCAocmVzdCkgIVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYk9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UobWVzc2FnZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IG15UmVxLnJlcXVlc3RTdHJpbmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiT0xTXCI6XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IFJvdXRlUmVxdWVzdE9MUy5idWlsZChzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkVycm9yIHByb2Nlc3MgcmVxdWVzdCAob2xzKSAhXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZShtZXNzYWdlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiVHlwZSBvZiBBUEkgaXMgbm90IHN1cHBvcnRlZCBieSBzZXJ2aWNlIChSRVNUIG9yIE9MUykgIVwiO1xuICAgICAgICAgICAgICAgIGlmIChiT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZVJlcXVlc3RGYWN0b3J5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestOLS.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestOLS.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Formats_XLS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Formats/XLS */ \"./node_modules/geoportal-access-lib/src/Formats/XLS.js\");\n/* harmony import */ var _Formats_XLS_RouteService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Formats/XLS/RouteService */ \"./node_modules/geoportal-access-lib/src/Formats/XLS/RouteService.js\");\n/**\n * Creation d'une requête OpenLS en mode POST ou GET\n * (Factory)\n *\n * @module RouteRequestOLS\n * @alias Gp.Services.Route.Request.RouteRequestOLS\n * @private\n */\n\n\n\n\nvar RouteRequestOLS = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Route\n     *\n     * @example\n     *   var options = {\n     *      (...)\n     *   };\n     *\n     * @returns {String} request\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"RouteRequestOLS\");\n        logger.trace([\"RouteRequestOLS::build()\"]);\n\n        var request = null;\n\n        // spécifique au service\n        var settings = {\n            startPoint : options.startPoint,\n            endPoint : options.endPoint,\n            viaPoint : options.viaPoints, // mapping OLS et options\n            provideBoundingBox : options.provideBbox, // mapping OLS et options\n            avoidFeature : options.exclusions, // mapping OLS et options\n            expectedStartTime : options.expectedStartTime, // TODO format ?\n            distanceUnit : options.distanceUnit,\n            graph : options.graph,\n            provideGeometry : options.geometryInInstructions, // mapping OLS et options\n            routePreference : options.routePreference\n        };\n\n        // objet RouteService\n        var oRS = new _Formats_XLS_RouteService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](settings);\n\n        // Format XLS\n        var oXLS = new _Formats_XLS__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            srsName : options.srs,\n            maximumResponses : options.maximumResponses\n        });\n        oXLS.namespace = true;\n        oXLS.setService(oRS);\n\n        // request brute !\n        request = oXLS.build();\n\n        // en mode GET, la requête est encodée\n        // et le param. 'qxml' est ajouté\n        if (options.httpMethod === \"GET\") {\n            var myRequest = \"qxml=\" +\n                encodeURIComponent(request)\n                    .replace(/-/g, \"%2D\")\n                    .replace(/_/g, \"%5F\")\n                    .replace(/\\./g, \"%2E\")\n                    .replace(/!/g, \"%21\")\n                    .replace(/~/g, \"%7E\")\n                    .replace(/\\*/g, \"%2A\")\n                    .replace(/'/g, \"%27\")\n                    .replace(/\\(/g, \"%28\")\n                    .replace(/\\)/g, \"%29\");\n            request = myRequest;\n        }\n\n        return request;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteRequestOLS);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVxdWVzdC9Sb3V0ZVJlcXVlc3RPTFMuanM/M2U4NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDYjtBQUNzQjs7QUFFN0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOERBQU07QUFDM0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsaUVBQVk7O0FBRWxDO0FBQ0EsdUJBQXVCLG9EQUFHO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSw4RUFBZSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9Sb3V0ZS9SZXF1ZXN0L1JvdXRlUmVxdWVzdE9MUy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRpb24gZCd1bmUgcmVxdcOqdGUgT3BlbkxTIGVuIG1vZGUgUE9TVCBvdSBHRVRcbiAqIChGYWN0b3J5KVxuICpcbiAqIEBtb2R1bGUgUm91dGVSZXF1ZXN0T0xTXG4gKiBAYWxpYXMgR3AuU2VydmljZXMuUm91dGUuUmVxdWVzdC5Sb3V0ZVJlcXVlc3RPTFNcbiAqIEBwcml2YXRlXG4gKi9cbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IFhMUyBmcm9tIFwiLi4vLi4vLi4vRm9ybWF0cy9YTFNcIjtcbmltcG9ydCBSb3V0ZVNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL0Zvcm1hdHMvWExTL1JvdXRlU2VydmljZVwiO1xuXG52YXIgUm91dGVSZXF1ZXN0T0xTID0ge1xuXG4gICAgLyoqXG4gICAgICogaW50ZXJmYWNlIHVuaXF1ZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBidWlsZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZGVmaW5pZXMgZGFucyBsZSBjb21wb3NhbnQgUm91dGVcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICAgICguLi4pXG4gICAgICogICB9O1xuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcmVxdWVzdFxuICAgICAqL1xuICAgIGJ1aWxkIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG4gICAgICAgIHZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiUm91dGVSZXF1ZXN0T0xTXCIpO1xuICAgICAgICBsb2dnZXIudHJhY2UoW1wiUm91dGVSZXF1ZXN0T0xTOjpidWlsZCgpXCJdKTtcblxuICAgICAgICB2YXIgcmVxdWVzdCA9IG51bGw7XG5cbiAgICAgICAgLy8gc3DDqWNpZmlxdWUgYXUgc2VydmljZVxuICAgICAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBzdGFydFBvaW50IDogb3B0aW9ucy5zdGFydFBvaW50LFxuICAgICAgICAgICAgZW5kUG9pbnQgOiBvcHRpb25zLmVuZFBvaW50LFxuICAgICAgICAgICAgdmlhUG9pbnQgOiBvcHRpb25zLnZpYVBvaW50cywgLy8gbWFwcGluZyBPTFMgZXQgb3B0aW9uc1xuICAgICAgICAgICAgcHJvdmlkZUJvdW5kaW5nQm94IDogb3B0aW9ucy5wcm92aWRlQmJveCwgLy8gbWFwcGluZyBPTFMgZXQgb3B0aW9uc1xuICAgICAgICAgICAgYXZvaWRGZWF0dXJlIDogb3B0aW9ucy5leGNsdXNpb25zLCAvLyBtYXBwaW5nIE9MUyBldCBvcHRpb25zXG4gICAgICAgICAgICBleHBlY3RlZFN0YXJ0VGltZSA6IG9wdGlvbnMuZXhwZWN0ZWRTdGFydFRpbWUsIC8vIFRPRE8gZm9ybWF0ID9cbiAgICAgICAgICAgIGRpc3RhbmNlVW5pdCA6IG9wdGlvbnMuZGlzdGFuY2VVbml0LFxuICAgICAgICAgICAgZ3JhcGggOiBvcHRpb25zLmdyYXBoLFxuICAgICAgICAgICAgcHJvdmlkZUdlb21ldHJ5IDogb3B0aW9ucy5nZW9tZXRyeUluSW5zdHJ1Y3Rpb25zLCAvLyBtYXBwaW5nIE9MUyBldCBvcHRpb25zXG4gICAgICAgICAgICByb3V0ZVByZWZlcmVuY2UgOiBvcHRpb25zLnJvdXRlUHJlZmVyZW5jZVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIG9iamV0IFJvdXRlU2VydmljZVxuICAgICAgICB2YXIgb1JTID0gbmV3IFJvdXRlU2VydmljZShzZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gRm9ybWF0IFhMU1xuICAgICAgICB2YXIgb1hMUyA9IG5ldyBYTFMoe1xuICAgICAgICAgICAgc3JzTmFtZSA6IG9wdGlvbnMuc3JzLFxuICAgICAgICAgICAgbWF4aW11bVJlc3BvbnNlcyA6IG9wdGlvbnMubWF4aW11bVJlc3BvbnNlc1xuICAgICAgICB9KTtcbiAgICAgICAgb1hMUy5uYW1lc3BhY2UgPSB0cnVlO1xuICAgICAgICBvWExTLnNldFNlcnZpY2Uob1JTKTtcblxuICAgICAgICAvLyByZXF1ZXN0IGJydXRlICFcbiAgICAgICAgcmVxdWVzdCA9IG9YTFMuYnVpbGQoKTtcblxuICAgICAgICAvLyBlbiBtb2RlIEdFVCwgbGEgcmVxdcOqdGUgZXN0IGVuY29kw6llXG4gICAgICAgIC8vIGV0IGxlIHBhcmFtLiAncXhtbCcgZXN0IGFqb3V0w6lcbiAgICAgICAgaWYgKG9wdGlvbnMuaHR0cE1ldGhvZCA9PT0gXCJHRVRcIikge1xuICAgICAgICAgICAgdmFyIG15UmVxdWVzdCA9IFwicXhtbD1cIiArXG4gICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csIFwiJTJEXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fL2csIFwiJTVGXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXC4vZywgXCIlMkVcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyEvZywgXCIlMjFcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL34vZywgXCIlN0VcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKi9nLCBcIiUyQVwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIiUyN1wiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwoL2csIFwiJTI4XCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCkvZywgXCIlMjlcIik7XG4gICAgICAgICAgICByZXF1ZXN0ID0gbXlSZXF1ZXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUm91dGVSZXF1ZXN0T0xTO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestOLS.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestREST.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestREST.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _model_RouteParamREST__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./model/RouteParamREST */ \"./node_modules/geoportal-access-lib/src/Services/Route/Request/model/RouteParamREST.js\");\n\n\n\n\n\n/**\n * @classdesc\n * Classe de gestion des requêtes de type REST sur le service de calcul d'itineraire\n * (uniquement en GET)\n *\n * @constructor\n * @alias Gp.Services.Route.Request.RouteRequestREST\n * @param {Object} options - options definies dans le composant Route\n *\n * @example\n * var options = {\n *      (...)\n * };\n *\n * @private\n */\nfunction RouteRequestREST (options) {\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"RouteRequestREST\");\n    this.logger.trace(\"[Constructeur RouteRequestREST ()]\");\n\n    if (!(this instanceof RouteRequestREST)) {\n        throw new TypeError(\"RouteRequestREST constructor cannot be called as a function.\");\n    }\n\n    // existance des options\n    if (!options) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_EMPTY\", \"options\"));\n    }\n\n    /** liste des options */\n    this.settings = options;\n}\n\nRouteRequestREST.prototype = {\n\n    /**\n     * @lends module:RouteRequestREST#\n     */\n\n    /**\n     * request\n     * @type {String}\n     */\n    requestString : null,\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : RouteRequestREST,\n\n    /**\n     * Construction de la requête.\n     *\n     * @example\n     * // GET  out : origin=2.416907353809513,48.8465772142297&destination=2.4248037771493673,48.84591353161838\n     * // POST out : Not yet supported method POST !\n     * @returns {String} request\n     */\n    processRequestString : function () {\n        // INFO\n        // construction simple sans template...,\n        // mais en attendant que les services soient fixés, on taggue ce composant en mode PROTOTYPE !\n        this.logger.warn(\" PROTOTYPE !\");\n\n        // Mapping des options avec le service de l'API REST\n        var oParams = new _model_RouteParamREST__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.settings);\n        var params = oParams.getParams();\n\n        var request = \"\";\n        for (var i = 0; i < params.length; i++) {\n            var o = params[i];\n            if (request) {\n                request += \"&\";\n            }\n            request += o.k + \"=\" + o.v;\n        }\n\n        // Exemple :\n        //  http://wxs.ign.fr/KEY/itineraire/rest/route.json?\n        //  origin=&\n        //  destination=&\n        //  waypoints=&\n        //  method=DISTANCE&\n        //  graph=Pieton&\n        //  graphName=Pieton&\n        //  exclusions=&\n        //  tolerance=10&\n        //  srs=\n\n        this.logger.trace(request);\n        this.requestString = request;\n\n        return this.requestString;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteRequestREST);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVxdWVzdC9Sb3V0ZVJlcXVlc3RSRVNULmpzPzlmYzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDb0Q7QUFDSDtBQUNHOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQU07QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCLDZEQUFjO0FBQ3hDOztBQUVBO0FBQ0EsdUJBQXVCLG1CQUFtQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSwrRUFBZ0IsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVxdWVzdC9Sb3V0ZVJlcXVlc3RSRVNULmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBfIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IFJvdXRlUGFyYW1SRVNUIGZyb20gXCIuL21vZGVsL1JvdXRlUGFyYW1SRVNUXCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3NlIGRlIGdlc3Rpb24gZGVzIHJlcXXDqnRlcyBkZSB0eXBlIFJFU1Qgc3VyIGxlIHNlcnZpY2UgZGUgY2FsY3VsIGQnaXRpbmVyYWlyZVxuICogKHVuaXF1ZW1lbnQgZW4gR0VUKVxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIEdwLlNlcnZpY2VzLlJvdXRlLlJlcXVlc3QuUm91dGVSZXF1ZXN0UkVTVFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGRlZmluaWVzIGRhbnMgbGUgY29tcG9zYW50IFJvdXRlXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBvcHRpb25zID0ge1xuICogICAgICAoLi4uKVxuICogfTtcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBSb3V0ZVJlcXVlc3RSRVNUIChvcHRpb25zKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiUm91dGVSZXF1ZXN0UkVTVFwiKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgUm91dGVSZXF1ZXN0UkVTVCAoKV1cIik7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUm91dGVSZXF1ZXN0UkVTVCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJvdXRlUmVxdWVzdFJFU1QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICAvLyBleGlzdGFuY2UgZGVzIG9wdGlvbnNcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX0VNUFRZXCIsIFwib3B0aW9uc1wiKSk7XG4gICAgfVxuXG4gICAgLyoqIGxpc3RlIGRlcyBvcHRpb25zICovXG4gICAgdGhpcy5zZXR0aW5ncyA9IG9wdGlvbnM7XG59XG5cblJvdXRlUmVxdWVzdFJFU1QucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQGxlbmRzIG1vZHVsZTpSb3V0ZVJlcXVlc3RSRVNUI1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogcmVxdWVzdFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgcmVxdWVzdFN0cmluZyA6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogUm91dGVSZXF1ZXN0UkVTVCxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGlvbiBkZSBsYSByZXF1w6p0ZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gR0VUICBvdXQgOiBvcmlnaW49Mi40MTY5MDczNTM4MDk1MTMsNDguODQ2NTc3MjE0MjI5NyZkZXN0aW5hdGlvbj0yLjQyNDgwMzc3NzE0OTM2NzMsNDguODQ1OTEzNTMxNjE4MzhcbiAgICAgKiAvLyBQT1NUIG91dCA6IE5vdCB5ZXQgc3VwcG9ydGVkIG1ldGhvZCBQT1NUICFcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXF1ZXN0XG4gICAgICovXG4gICAgcHJvY2Vzc1JlcXVlc3RTdHJpbmcgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIElORk9cbiAgICAgICAgLy8gY29uc3RydWN0aW9uIHNpbXBsZSBzYW5zIHRlbXBsYXRlLi4uLFxuICAgICAgICAvLyBtYWlzIGVuIGF0dGVuZGFudCBxdWUgbGVzIHNlcnZpY2VzIHNvaWVudCBmaXjDqXMsIG9uIHRhZ2d1ZSBjZSBjb21wb3NhbnQgZW4gbW9kZSBQUk9UT1RZUEUgIVxuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiIFBST1RPVFlQRSAhXCIpO1xuXG4gICAgICAgIC8vIE1hcHBpbmcgZGVzIG9wdGlvbnMgYXZlYyBsZSBzZXJ2aWNlIGRlIGwnQVBJIFJFU1RcbiAgICAgICAgdmFyIG9QYXJhbXMgPSBuZXcgUm91dGVQYXJhbVJFU1QodGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIHZhciBwYXJhbXMgPSBvUGFyYW1zLmdldFBhcmFtcygpO1xuXG4gICAgICAgIHZhciByZXF1ZXN0ID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvID0gcGFyYW1zW2ldO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ICs9IFwiJlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdCArPSBvLmsgKyBcIj1cIiArIG8udjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4ZW1wbGUgOlxuICAgICAgICAvLyAgaHR0cDovL3d4cy5pZ24uZnIvS0VZL2l0aW5lcmFpcmUvcmVzdC9yb3V0ZS5qc29uP1xuICAgICAgICAvLyAgb3JpZ2luPSZcbiAgICAgICAgLy8gIGRlc3RpbmF0aW9uPSZcbiAgICAgICAgLy8gIHdheXBvaW50cz0mXG4gICAgICAgIC8vICBtZXRob2Q9RElTVEFOQ0UmXG4gICAgICAgIC8vICBncmFwaD1QaWV0b24mXG4gICAgICAgIC8vICBncmFwaE5hbWU9UGlldG9uJlxuICAgICAgICAvLyAgZXhjbHVzaW9ucz0mXG4gICAgICAgIC8vICB0b2xlcmFuY2U9MTAmXG4gICAgICAgIC8vICBzcnM9XG5cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UocmVxdWVzdCk7XG4gICAgICAgIHRoaXMucmVxdWVzdFN0cmluZyA9IHJlcXVlc3Q7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFN0cmluZztcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZVJlcXVlc3RSRVNUO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestREST.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Request/model/RouteParamREST.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Request/model/RouteParamREST.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n\n\n\n/**\n * @classdesc\n * Classe de gestion des param. des requêtes du service de calcul d'itineraire (REST).\n *      Permet le mapping avec les options du service.\n * @constructor\n * @alias Gp.Services.Route.Request.RouteParamREST\n * @param {Object} options - options\n *\n * @private\n */\nfunction RouteParamREST (options) {\n    if (!(this instanceof RouteParamREST)) {\n        throw new TypeError(\"RouteParamREST constructor cannot be called as a function.\");\n    }\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger();\n    this.logger.trace(\"[Constructeur RouteParamREST ()]\");\n\n    /**\n     * Options en paramêtres du constructeur.\n     */\n    this.options = options || {};\n\n    // mapping des options avec l'API REST\n\n    /** Coordonnées du point de départ. */\n    this.origin = this.options.startPoint.x + \",\" + this.options.startPoint.y;\n\n    /** Coordonnées du point d’arrivée. */\n    this.destination = this.options.endPoint.x + \",\" + this.options.endPoint.y;\n\n    /** Coordonnées des étapes point de départ. */\n    this.waypoints = this.options.viaPoints || null;\n\n    /** Date et heure de départ */\n    this.startDateTime = this.options.expectedStartTime || null; // TODO format !?\n\n    /** Nom du graphe à utiliser */\n    this.graphName = this.options.graph;\n\n    /** projection (code EPSG comme epsg:4326 ou wgs84) */\n    this.srs = this.options.srs;\n\n    /** Liste des règles de restrictions à utiliser, séparés pas le caractère , ou ; (Exemple : Toll, Tunnel, Bridge) */\n    this.exclusions = this.options.exclusions;\n\n    /**\n     * itinéraire le plus court (DISTANCE) ou le plus rapide (TIME)\n     * Par defaut, DISTANCE...\n     * cf. mapping ci dessous\n     */\n    this.method = \"TIME\";\n\n    // mapping particulier sur l'option 'routePreference'\n    if (this.options.routePreference) {\n        var value = this.options.routePreference;\n        switch (value) {\n            case \"fastest\":\n                this.method = \"TIME\";\n                break;\n            case \"shortest\":\n                this.method = \"DISTANCE\";\n                break;\n            default:\n                this.logger.warn(\"Par defaut, on prend l'itinéraire le plus rapide !\");\n                this.method = \"TIME\";\n        }\n    }\n\n    /** Format de sortie (résumé de l’itinéraire) */\n    this.format = (this.options.geometryInInstructions) ? \"STANDARDEXT\" : \"STANDARD\";\n\n    // y'a t-il d'autres options à ajouter (par defaut) ?\n\n    /** Distance de tolérance (en mètre) de simplification de la géométrie. */\n    this.tolerance = 10;\n\n    /** identifiant du véhicule (enregistré dans les profils de véhicule) à utiliser */\n    this.profileId = null;\n\n    /** Profil du véhicule (enregistré dans les profils de véhicule) à utiliser */\n    this.profileName = null;\n\n    // options dont le mapping n'est pas possible :\n    // - distanceUnit\n    // - provideBoundingBox\n}\n\n/**\n * CLASSNAME\n */\nRouteParamREST.CLASSNAME = \"RouteParamREST\";\n\nRouteParamREST.prototype = {\n\n    /**\n     * @lends module:RouteParamREST#\n     */\n\n    /**\n     * Constructeur (alias)\n     */\n    constructor : RouteParamREST,\n\n    /**\n     * Retourne une liste de points\n     * @returns {Array} une liste de points (sep ';')\n     */\n    getWaypoints : function () {\n        if (!this.waypoints) {\n            return;\n        }\n        var array = [];\n        for (var i = 0; i < this.waypoints.length; i++) {\n            var obj = this.waypoints[i];\n            array.push(obj.x + \",\" + obj.y);\n        }\n\n        return array.join(\";\");\n    },\n\n    /**\n     * Retourne la liste des exclusions\n     * @returns {Array} une liste d'exclusions (sep ';')\n     */\n    getExclusions : function () {\n        return this.exclusions.join(\";\");\n    }\n};\n\n/**\n * Tableau de clefs/valeurs pour param.\n *\n * @returns {Array} liste de paramêtres\n */\nRouteParamREST.prototype.getParams = function () {\n    var map = [];\n\n    map.push({\n        k : \"origin\",\n        v : this.origin\n    });\n\n    map.push({\n        k : \"destination\",\n        v : this.destination\n    });\n\n    map.push({\n        k : \"method\",\n        v : this.method\n    });\n\n    if (this.waypoints) {\n        map.push({\n            k : \"waypoints\",\n            v : this.getWaypoints()\n        });\n    }\n\n    if (this.startDateTime) {\n        map.push({\n            k : \"startDateTime\",\n            v : this.startDateTime\n        });\n    }\n\n    if (this.graphName) {\n        map.push({\n            k : \"graphName\",\n            v : this.graphName\n        });\n    }\n\n    if (this.exclusions) {\n        map.push({\n            k : \"exclusions\",\n            v : this.getExclusions()\n        });\n    }\n\n    if (this.srs) {\n        map.push({\n            k : \"srs\",\n            v : this.srs\n        });\n    }\n\n    if (this.format) {\n        map.push({\n            k : \"format\",\n            v : this.format\n        });\n    }\n\n    return map;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteParamREST);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVxdWVzdC9tb2RlbC9Sb3V0ZVBhcmFtUkVTVC5qcz9jYjhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUN1RDs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdFQUFnRTs7QUFFaEU7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9GQUFvRjtBQUNwRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTSw0QkFBNEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRDtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCO0FBQzVCLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGlCQUFpQixNQUFNLCtCQUErQjtBQUN0RDtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVlLDZFQUFjLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL1JvdXRlL1JlcXVlc3QvbW9kZWwvUm91dGVQYXJhbVJFU1QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uLy4uLy4uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzZSBkZSBnZXN0aW9uIGRlcyBwYXJhbS4gZGVzIHJlcXXDqnRlcyBkdSBzZXJ2aWNlIGRlIGNhbGN1bCBkJ2l0aW5lcmFpcmUgKFJFU1QpLlxuICogICAgICBQZXJtZXQgbGUgbWFwcGluZyBhdmVjIGxlcyBvcHRpb25zIGR1IHNlcnZpY2UuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Sb3V0ZS5SZXF1ZXN0LlJvdXRlUGFyYW1SRVNUXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBSb3V0ZVBhcmFtUkVTVCAob3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSb3V0ZVBhcmFtUkVTVCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJvdXRlUGFyYW1SRVNUIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKCk7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJbQ29uc3RydWN0ZXVyIFJvdXRlUGFyYW1SRVNUICgpXVwiKTtcblxuICAgIC8qKlxuICAgICAqIE9wdGlvbnMgZW4gcGFyYW3DqnRyZXMgZHUgY29uc3RydWN0ZXVyLlxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBtYXBwaW5nIGRlcyBvcHRpb25zIGF2ZWMgbCdBUEkgUkVTVFxuXG4gICAgLyoqIENvb3Jkb25uw6llcyBkdSBwb2ludCBkZSBkw6lwYXJ0LiAqL1xuICAgIHRoaXMub3JpZ2luID0gdGhpcy5vcHRpb25zLnN0YXJ0UG9pbnQueCArIFwiLFwiICsgdGhpcy5vcHRpb25zLnN0YXJ0UG9pbnQueTtcblxuICAgIC8qKiBDb29yZG9ubsOpZXMgZHUgcG9pbnQgZOKAmWFycml2w6llLiAqL1xuICAgIHRoaXMuZGVzdGluYXRpb24gPSB0aGlzLm9wdGlvbnMuZW5kUG9pbnQueCArIFwiLFwiICsgdGhpcy5vcHRpb25zLmVuZFBvaW50Lnk7XG5cbiAgICAvKiogQ29vcmRvbm7DqWVzIGRlcyDDqXRhcGVzIHBvaW50IGRlIGTDqXBhcnQuICovXG4gICAgdGhpcy53YXlwb2ludHMgPSB0aGlzLm9wdGlvbnMudmlhUG9pbnRzIHx8IG51bGw7XG5cbiAgICAvKiogRGF0ZSBldCBoZXVyZSBkZSBkw6lwYXJ0ICovXG4gICAgdGhpcy5zdGFydERhdGVUaW1lID0gdGhpcy5vcHRpb25zLmV4cGVjdGVkU3RhcnRUaW1lIHx8IG51bGw7IC8vIFRPRE8gZm9ybWF0ICE/XG5cbiAgICAvKiogTm9tIGR1IGdyYXBoZSDDoCB1dGlsaXNlciAqL1xuICAgIHRoaXMuZ3JhcGhOYW1lID0gdGhpcy5vcHRpb25zLmdyYXBoO1xuXG4gICAgLyoqIHByb2plY3Rpb24gKGNvZGUgRVBTRyBjb21tZSBlcHNnOjQzMjYgb3Ugd2dzODQpICovXG4gICAgdGhpcy5zcnMgPSB0aGlzLm9wdGlvbnMuc3JzO1xuXG4gICAgLyoqIExpc3RlIGRlcyByw6hnbGVzIGRlIHJlc3RyaWN0aW9ucyDDoCB1dGlsaXNlciwgc8OpcGFyw6lzIHBhcyBsZSBjYXJhY3TDqHJlICwgb3UgOyAoRXhlbXBsZSA6IFRvbGwsIFR1bm5lbCwgQnJpZGdlKSAqL1xuICAgIHRoaXMuZXhjbHVzaW9ucyA9IHRoaXMub3B0aW9ucy5leGNsdXNpb25zO1xuXG4gICAgLyoqXG4gICAgICogaXRpbsOpcmFpcmUgbGUgcGx1cyBjb3VydCAoRElTVEFOQ0UpIG91IGxlIHBsdXMgcmFwaWRlIChUSU1FKVxuICAgICAqIFBhciBkZWZhdXQsIERJU1RBTkNFLi4uXG4gICAgICogY2YuIG1hcHBpbmcgY2kgZGVzc291c1xuICAgICAqL1xuICAgIHRoaXMubWV0aG9kID0gXCJUSU1FXCI7XG5cbiAgICAvLyBtYXBwaW5nIHBhcnRpY3VsaWVyIHN1ciBsJ29wdGlvbiAncm91dGVQcmVmZXJlbmNlJ1xuICAgIGlmICh0aGlzLm9wdGlvbnMucm91dGVQcmVmZXJlbmNlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMub3B0aW9ucy5yb3V0ZVByZWZlcmVuY2U7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJmYXN0ZXN0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBcIlRJTUVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzaG9ydGVzdFwiOlxuICAgICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJESVNUQU5DRVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiUGFyIGRlZmF1dCwgb24gcHJlbmQgbCdpdGluw6lyYWlyZSBsZSBwbHVzIHJhcGlkZSAhXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJUSU1FXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogRm9ybWF0IGRlIHNvcnRpZSAocsOpc3Vtw6kgZGUgbOKAmWl0aW7DqXJhaXJlKSAqL1xuICAgIHRoaXMuZm9ybWF0ID0gKHRoaXMub3B0aW9ucy5nZW9tZXRyeUluSW5zdHJ1Y3Rpb25zKSA/IFwiU1RBTkRBUkRFWFRcIiA6IFwiU1RBTkRBUkRcIjtcblxuICAgIC8vIHknYSB0LWlsIGQnYXV0cmVzIG9wdGlvbnMgw6AgYWpvdXRlciAocGFyIGRlZmF1dCkgP1xuXG4gICAgLyoqIERpc3RhbmNlIGRlIHRvbMOpcmFuY2UgKGVuIG3DqHRyZSkgZGUgc2ltcGxpZmljYXRpb24gZGUgbGEgZ8Opb23DqXRyaWUuICovXG4gICAgdGhpcy50b2xlcmFuY2UgPSAxMDtcblxuICAgIC8qKiBpZGVudGlmaWFudCBkdSB2w6loaWN1bGUgKGVucmVnaXN0csOpIGRhbnMgbGVzIHByb2ZpbHMgZGUgdsOpaGljdWxlKSDDoCB1dGlsaXNlciAqL1xuICAgIHRoaXMucHJvZmlsZUlkID0gbnVsbDtcblxuICAgIC8qKiBQcm9maWwgZHUgdsOpaGljdWxlIChlbnJlZ2lzdHLDqSBkYW5zIGxlcyBwcm9maWxzIGRlIHbDqWhpY3VsZSkgw6AgdXRpbGlzZXIgKi9cbiAgICB0aGlzLnByb2ZpbGVOYW1lID0gbnVsbDtcblxuICAgIC8vIG9wdGlvbnMgZG9udCBsZSBtYXBwaW5nIG4nZXN0IHBhcyBwb3NzaWJsZSA6XG4gICAgLy8gLSBkaXN0YW5jZVVuaXRcbiAgICAvLyAtIHByb3ZpZGVCb3VuZGluZ0JveFxufVxuXG4vKipcbiAqIENMQVNTTkFNRVxuICovXG5Sb3V0ZVBhcmFtUkVTVC5DTEFTU05BTUUgPSBcIlJvdXRlUGFyYW1SRVNUXCI7XG5cblJvdXRlUGFyYW1SRVNULnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEBsZW5kcyBtb2R1bGU6Um91dGVQYXJhbVJFU1QjXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RldXIgKGFsaWFzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIDogUm91dGVQYXJhbVJFU1QsXG5cbiAgICAvKipcbiAgICAgKiBSZXRvdXJuZSB1bmUgbGlzdGUgZGUgcG9pbnRzXG4gICAgICogQHJldHVybnMge0FycmF5fSB1bmUgbGlzdGUgZGUgcG9pbnRzIChzZXAgJzsnKVxuICAgICAqL1xuICAgIGdldFdheXBvaW50cyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLndheXBvaW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2F5cG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gdGhpcy53YXlwb2ludHNbaV07XG4gICAgICAgICAgICBhcnJheS5wdXNoKG9iai54ICsgXCIsXCIgKyBvYmoueSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXkuam9pbihcIjtcIik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldG91cm5lIGxhIGxpc3RlIGRlcyBleGNsdXNpb25zXG4gICAgICogQHJldHVybnMge0FycmF5fSB1bmUgbGlzdGUgZCdleGNsdXNpb25zIChzZXAgJzsnKVxuICAgICAqL1xuICAgIGdldEV4Y2x1c2lvbnMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4Y2x1c2lvbnMuam9pbihcIjtcIik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUYWJsZWF1IGRlIGNsZWZzL3ZhbGV1cnMgcG91ciBwYXJhbS5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9IGxpc3RlIGRlIHBhcmFtw6p0cmVzXG4gKi9cblJvdXRlUGFyYW1SRVNULnByb3RvdHlwZS5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1hcCA9IFtdO1xuXG4gICAgbWFwLnB1c2goe1xuICAgICAgICBrIDogXCJvcmlnaW5cIixcbiAgICAgICAgdiA6IHRoaXMub3JpZ2luXG4gICAgfSk7XG5cbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcImRlc3RpbmF0aW9uXCIsXG4gICAgICAgIHYgOiB0aGlzLmRlc3RpbmF0aW9uXG4gICAgfSk7XG5cbiAgICBtYXAucHVzaCh7XG4gICAgICAgIGsgOiBcIm1ldGhvZFwiLFxuICAgICAgICB2IDogdGhpcy5tZXRob2RcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLndheXBvaW50cykge1xuICAgICAgICBtYXAucHVzaCh7XG4gICAgICAgICAgICBrIDogXCJ3YXlwb2ludHNcIixcbiAgICAgICAgICAgIHYgOiB0aGlzLmdldFdheXBvaW50cygpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXJ0RGF0ZVRpbWUpIHtcbiAgICAgICAgbWFwLnB1c2goe1xuICAgICAgICAgICAgayA6IFwic3RhcnREYXRlVGltZVwiLFxuICAgICAgICAgICAgdiA6IHRoaXMuc3RhcnREYXRlVGltZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ncmFwaE5hbWUpIHtcbiAgICAgICAgbWFwLnB1c2goe1xuICAgICAgICAgICAgayA6IFwiZ3JhcGhOYW1lXCIsXG4gICAgICAgICAgICB2IDogdGhpcy5ncmFwaE5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZXhjbHVzaW9ucykge1xuICAgICAgICBtYXAucHVzaCh7XG4gICAgICAgICAgICBrIDogXCJleGNsdXNpb25zXCIsXG4gICAgICAgICAgICB2IDogdGhpcy5nZXRFeGNsdXNpb25zKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3JzKSB7XG4gICAgICAgIG1hcC5wdXNoKHtcbiAgICAgICAgICAgIGsgOiBcInNyc1wiLFxuICAgICAgICAgICAgdiA6IHRoaXMuc3JzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZvcm1hdCkge1xuICAgICAgICBtYXAucHVzaCh7XG4gICAgICAgICAgICBrIDogXCJmb3JtYXRcIixcbiAgICAgICAgICAgIHYgOiB0aGlzLmZvcm1hdFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUm91dGVQYXJhbVJFU1Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Request/model/RouteParamREST.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Response/RouteResponseFactory.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Response/RouteResponseFactory.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _Formats_XML__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Formats/XML */ \"./node_modules/geoportal-access-lib/src/Formats/XML.js\");\n/* harmony import */ var _Formats_WKT__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Formats/WKT */ \"./node_modules/geoportal-access-lib/src/Formats/WKT.js\");\n/* harmony import */ var _Formats_RouteResponseRESTReader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Formats/RouteResponseRESTReader */ \"./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseRESTReader.js\");\n/* harmony import */ var _Formats_RouteResponseOLSReader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Formats/RouteResponseOLSReader */ \"./node_modules/geoportal-access-lib/src/Services/Route/Formats/RouteResponseOLSReader.js\");\n/* harmony import */ var _model_RouteResponse__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model/RouteResponse */ \"./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteResponse.js\");\n/* harmony import */ var _model_RouteInstruction__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./model/RouteInstruction */ \"./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteInstruction.js\");\n/**\n * Factory pour générer une reponse JSON à partir d'un XML ou d'un JSON\n * (Factory)\n *\n * @module RouteResponseFactory\n * @alias Gp.Services.Route.Response.RouteResponseFactory\n * @private\n */\n\n\n\n\n\n\n\n\n\n\nvar RouteResponseFactory = {\n\n    /**\n     * interface unique\n     *\n     * @method build\n     * @static\n     * @param {Object} options - options definies dans le composant Alti\n     *\n     * @example\n     *   var options = {\n     *      response :\n     *      outputFormat :\n     *      rawResponse :\n     *      scope :\n     *      onSuccess :\n     *      onError :\n     *   };\n     *\n     */\n    build : function (options) {\n        // logger\n        var logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"RouteResponseFactory\");\n        logger.trace(\"RouteResponseFactory::build()\");\n\n        var data = null;\n\n        if (options.response) {\n            if (options.rawResponse) {\n                logger.trace(\"analyze response : raw\");\n                data = options.response;\n            } else {\n                switch (options.outputFormat) {\n                    case \"xml\":\n                        logger.trace(\"analyze response : xml\");\n\n                        // type de reader en fonction de l'API\n                        var routeReader = options.api === \"REST\" ? _Formats_RouteResponseRESTReader__WEBPACK_IMPORTED_MODULE_5__[\"default\"] : _Formats_RouteResponseOLSReader__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n\n                        try {\n                            var p = new _Formats_XML__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                                reader : routeReader\n                            });\n\n                            // FIXME : mode XHR ne retourne que des string ? JSONP aussi à ce niveau ?\n                            if (typeof options.response === \"string\") {\n                                p.setXMLString(options.response);\n                            } else {\n                                p.setXMLDoc(options.response);\n                            }\n\n                            data = p.parse();\n\n                            if (!data) {\n                                throw new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_FORMAT\", \"xml\"));\n                            }\n                        } catch (e) {\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE\", options.response)));\n                            return;\n                        }\n\n                        break;\n\n                    case \"json\":\n                        logger.trace(\"analyze response : json\");\n\n                        var JSONResponse;\n                        if (typeof options.response === \"string\") {\n                            JSONResponse = JSON.parse(options.response);\n                        } else {\n                            JSONResponse = options.response;\n                        }\n\n                        // le service renvoie t il une erreur ?\n                        if (JSONResponse.message) {\n                            // ex. {\"message\":\"message not null\", \"status\":\"ERROR\"}\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION\", JSONResponse.message)));\n                            return;\n                        }\n\n                        // construction de l'objet réponse JSON\n                        if (JSONResponse) {\n                            var legs = [];\n                            var legSteps = [];\n                            var steps = [];\n\n                            data = new _model_RouteResponse__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n\n                            if (data.hasOwnProperty(\"totalTime\")) {\n                                // info : il y a aussi JSONResponse.duration, qui donne la durée en hh:mm:ss.\n                                data.totalTime = parseFloat(JSONResponse.durationSeconds);\n                            }\n                            if (data.hasOwnProperty(\"totalDistance\")) {\n                                data.totalDistance = (options.distanceUnit === \"m\") ? JSONResponse.distanceMeters : JSONResponse.distance;\n                            }\n\n                            if (data.hasOwnProperty(\"bbox\")) {\n                                var coords = JSONResponse.bounds.split(/[,;]/);\n                                data.bbox.left = parseFloat(coords[0]);\n                                data.bbox.bottom = parseFloat(coords[1]);\n                                data.bbox.right = parseFloat(coords[2]);\n                                data.bbox.top = parseFloat(coords[3]);\n                            }\n                            /**\n                            * callback success\n                            * @param {Object} json - json\n                            * @private\n                            */\n                            var onWKTSuccess = function (json) {\n                                data.routeGeometry = json;\n                            };\n                            /**\n                            * callback failed\n                            * @param {Object} e - event\n                            * @private\n                            */\n                            var onWKTError = function (e) {\n                                console.log(e);\n                                options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_FORMAT\", [\"geometryWkt\"])));\n                            };\n\n                            if (data.hasOwnProperty(\"routeGeometry\")) {\n                                var geometry = JSONResponse.geometryWkt || JSONResponse.simplifiedWkt;\n                                if (geometry) {\n                                    _Formats_WKT__WEBPACK_IMPORTED_MODULE_4__[\"default\"].toJson(geometry, onWKTSuccess, onWKTError);\n                                    if (!data.routeGeometry) {\n                                        return;\n                                    }\n                                }\n                            }\n\n                            if (data.hasOwnProperty(\"routeInstructions\")) {\n                                var legList = JSONResponse.legs;\n                                var i;\n                                if (Array.isArray(legList) && legList.length) {\n                                    for (i = 0; i < legList.length; i++) {\n                                        legs.push(legList[i]);\n                                    }\n                                }\n                                if (Array.isArray(legs) && legs.length) {\n                                    for (i = 0; i < legs.length; i++) {\n                                        legSteps.push(legs[i].steps);\n                                    }\n                                }\n                                if (Array.isArray(legSteps) && legSteps.length) {\n                                    for (i = 0; i < legSteps.length; i++) {\n                                        steps = steps.concat(legSteps[i]);\n                                    }\n                                }\n\n                                steps.forEach(function (step) {\n                                    data.routeInstructions.push(new _model_RouteInstruction__WEBPACK_IMPORTED_MODULE_8__[\"default\"]());\n                                    data.routeInstructions[data.routeInstructions.length - 1].duration = step.durationSeconds;\n                                    data.routeInstructions[data.routeInstructions.length - 1].distance = (options.distanceUnit === \"m\") ? step.distanceMeters : step.distance;\n                                    data.routeInstructions[data.routeInstructions.length - 1].code = step.navInstruction;\n                                    // geometrie en geojson\n                                    var points = [];\n                                    for (var i = 0; i < step.points.length; i++) {\n                                        var point = step.points[i].split(\",\");\n                                        if (point) {\n                                            points.push(point);\n                                        }\n                                    }\n                                    if (points && points.length !== 0) {\n                                        data.routeInstructions[data.routeInstructions.length - 1].geometry = {\n                                            coordinates : points,\n                                            type : \"LineString\"\n                                        };\n                                    } else {\n                                        data.routeInstructions[data.routeInstructions.length - 1].geometry = null;\n                                    }\n\n                                    /*\n                                    Traduction du code en instruction\n                                    * - F : tout droit\n                                    * - B : demi-tour\n                                    * - L : tourner à gauche\n                                    * - R : tourner à droite\n                                    * - BL : tourner très à gauche\n                                    * - BR : tourner très à droite\n                                    * - FL : tourner légèrement à gauche\n                                    * - FR : tourner légèrement à droite\n                                    * - round_about_entry : entrée rond-point\n                                    * - round_about_exit : sortie rond-point\n                                    */\n\n                                    // on ne souhaite pas de ce type de valeur...\n                                    if (step.name === \"Valeur non renseignée\") {\n                                        step.name = \"\";\n                                    }\n\n                                    switch (step.navInstruction) {\n                                        case \"F\":\n                                            if (step.name) {\n                                                data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Tout droit \" + step.name;\n                                            } else {\n                                                data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Continuer tout droit \";\n                                            }\n                                            break;\n                                        case \"B\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Demi-tour \" + step.name;\n                                            break;\n                                        case \"L\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Tourner à gauche \" + step.name;\n                                            break;\n                                        case \"R\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Tourner à droite \" + step.name;\n                                            break;\n                                        case \"BL\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Tourner très à gauche \" + step.name;\n                                            break;\n                                        case \"BR\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Tourner très à droite \" + step.name;\n                                            break;\n                                        case \"FL\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Tourner légèrement à gauche \" + step.name;\n                                            break;\n                                        case \"FR\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Tourner légèrement à droite \" + step.name;\n                                            break;\n                                        case \"round_about_entry\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Entrée rond-point \" + step.name;\n                                            break;\n                                        case \"round_about_exit\":\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Sortie rond-point \" + step.name;\n                                            break;\n                                        case null:\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"Prendre tout droit \" + step.name;\n                                            break;\n                                        default:\n                                            data.routeInstructions[data.routeInstructions.length - 1].instruction = \"?\" + step.navInstruction + \"? \" + step.name;\n                                            break;\n                                    }\n                                });\n                            }\n                        }\n\n                        if (!data) {\n                            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_ANALYSE\", \"json\")));\n                            return;\n                        }\n                        break;\n\n                    default:\n                        options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_FORMAT\", \"json\", \"xml\")));\n                        return;\n                }\n\n                // Si la réponse contenait une exception renvoyée par le service\n                if (data && data.exceptionReport) {\n                    options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EXCEPTION_2\")));\n                    return;\n                }\n            }\n        } else {\n            options.onError.call(options.scope, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n            return;\n        }\n\n        options.onSuccess.call(options.scope, data);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteResponseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVzcG9uc2UvUm91dGVSZXNwb25zZUZhY3RvcnkuanM/OWY1MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDQTtBQUNRO0FBQ3JCO0FBQ0E7QUFDa0M7QUFDRjtBQUNyQjtBQUNNOztBQUV4RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOERBQU07QUFDM0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUVBQW1FLHdFQUF1QixHQUFHLHVFQUFzQjs7QUFFbkg7QUFDQSx3Q0FBd0Msb0RBQUc7QUFDM0M7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMENBQTBDLGdFQUFZLENBQUMsZ0VBQUk7QUFDM0Q7QUFDQSx5QkFBeUI7QUFDekIsb0VBQW9FLGdFQUFZLENBQUMsZ0VBQUk7QUFDckY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsb0VBQW9FLGdFQUFZLENBQUMsZ0VBQUk7QUFDckY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVDQUF1Qyw0REFBYTs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGdFQUFZLENBQUMsZ0VBQUk7QUFDekY7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9EQUFHO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msb0JBQW9CO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGlCQUFpQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxxQkFBcUI7QUFDcEU7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLCtEQUFnQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHdCQUF3QjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQSxvRUFBb0UsZ0VBQVksQ0FBQyxnRUFBSTtBQUNyRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnRUFBZ0UsZ0VBQVksQ0FBQyxnRUFBSTtBQUNqRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0REFBNEQsZ0VBQVksQ0FBQyxnRUFBSTtBQUM3RTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsb0RBQW9ELGdFQUFZLENBQUMsZ0VBQUk7QUFDckU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUsbUZBQW9CLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL1JvdXRlL1Jlc3BvbnNlL1JvdXRlUmVzcG9uc2VGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWN0b3J5IHBvdXIgZ8OpbsOpcmVyIHVuZSByZXBvbnNlIEpTT04gw6AgcGFydGlyIGQndW4gWE1MIG91IGQndW4gSlNPTlxuICogKEZhY3RvcnkpXG4gKlxuICogQG1vZHVsZSBSb3V0ZVJlc3BvbnNlRmFjdG9yeVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLlJvdXRlLlJlc3BvbnNlLlJvdXRlUmVzcG9uc2VGYWN0b3J5XG4gKiBAcHJpdmF0ZVxuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi8uLi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBNUmVzIGZyb20gXCIuLi8uLi8uLi9VdGlscy9NZXNzYWdlc1Jlc291cmNlc1wiO1xuaW1wb3J0IEVycm9yU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vRXhjZXB0aW9ucy9FcnJvclNlcnZpY2VcIjtcbmltcG9ydCBYTUwgZnJvbSBcIi4uLy4uLy4uL0Zvcm1hdHMvWE1MXCI7XG5pbXBvcnQgV0tUIGZyb20gXCIuLi8uLi8uLi9Gb3JtYXRzL1dLVFwiO1xuaW1wb3J0IFJvdXRlUmVzcG9uc2VSRVNUUmVhZGVyIGZyb20gXCIuLi9Gb3JtYXRzL1JvdXRlUmVzcG9uc2VSRVNUUmVhZGVyXCI7XG5pbXBvcnQgUm91dGVSZXNwb25zZU9MU1JlYWRlciBmcm9tIFwiLi4vRm9ybWF0cy9Sb3V0ZVJlc3BvbnNlT0xTUmVhZGVyXCI7XG5pbXBvcnQgUm91dGVSZXNwb25zZSBmcm9tIFwiLi9tb2RlbC9Sb3V0ZVJlc3BvbnNlXCI7XG5pbXBvcnQgUm91dGVJbnN0cnVjdGlvbiBmcm9tIFwiLi9tb2RlbC9Sb3V0ZUluc3RydWN0aW9uXCI7XG5cbnZhciBSb3V0ZVJlc3BvbnNlRmFjdG9yeSA9IHtcblxuICAgIC8qKlxuICAgICAqIGludGVyZmFjZSB1bmlxdWVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgYnVpbGRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGRlZmluaWVzIGRhbnMgbGUgY29tcG9zYW50IEFsdGlcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICAgIHJlc3BvbnNlIDpcbiAgICAgKiAgICAgIG91dHB1dEZvcm1hdCA6XG4gICAgICogICAgICByYXdSZXNwb25zZSA6XG4gICAgICogICAgICBzY29wZSA6XG4gICAgICogICAgICBvblN1Y2Nlc3MgOlxuICAgICAqICAgICAgb25FcnJvciA6XG4gICAgICogICB9O1xuICAgICAqXG4gICAgICovXG4gICAgYnVpbGQgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBsb2dnZXJcbiAgICAgICAgdmFyIGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJSb3V0ZVJlc3BvbnNlRmFjdG9yeVwiKTtcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwiUm91dGVSZXNwb25zZUZhY3Rvcnk6OmJ1aWxkKClcIik7XG5cbiAgICAgICAgdmFyIGRhdGEgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yYXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcImFuYWx5emUgcmVzcG9uc2UgOiByYXdcIik7XG4gICAgICAgICAgICAgICAgZGF0YSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAob3B0aW9ucy5vdXRwdXRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInhtbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiYW5hbHl6ZSByZXNwb25zZSA6IHhtbFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHlwZSBkZSByZWFkZXIgZW4gZm9uY3Rpb24gZGUgbCdBUElcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3V0ZVJlYWRlciA9IG9wdGlvbnMuYXBpID09PSBcIlJFU1RcIiA/IFJvdXRlUmVzcG9uc2VSRVNUUmVhZGVyIDogUm91dGVSZXNwb25zZU9MU1JlYWRlcjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBYTUwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgOiByb3V0ZVJlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUgOiBtb2RlIFhIUiBuZSByZXRvdXJuZSBxdWUgZGVzIHN0cmluZyA/IEpTT05QIGF1c3NpIMOgIGNlIG5pdmVhdSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MU3RyaW5nKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuc2V0WE1MRG9jKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBwLnBhcnNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yU2VydmljZShNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0ZPUk1BVFwiLCBcInhtbFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9BTkFMWVNFXCIsIG9wdGlvbnMucmVzcG9uc2UpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiYW5hbHl6ZSByZXNwb25zZSA6IGpzb25cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBKU09OUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVzcG9uc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OUmVzcG9uc2UgPSBKU09OLnBhcnNlKG9wdGlvbnMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OUmVzcG9uc2UgPSBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZSBzZXJ2aWNlIHJlbnZvaWUgdCBpbCB1bmUgZXJyZXVyID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChKU09OUmVzcG9uc2UubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4LiB7XCJtZXNzYWdlXCI6XCJtZXNzYWdlIG5vdCBudWxsXCIsIFwic3RhdHVzXCI6XCJFUlJPUlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FWENFUFRJT05cIiwgSlNPTlJlc3BvbnNlLm1lc3NhZ2UpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3Rpb24gZGUgbCdvYmpldCByw6lwb25zZSBKU09OXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSlNPTlJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVnU3RlcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RlcHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgUm91dGVSZXNwb25zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJ0b3RhbFRpbWVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5mbyA6IGlsIHkgYSBhdXNzaSBKU09OUmVzcG9uc2UuZHVyYXRpb24sIHF1aSBkb25uZSBsYSBkdXLDqWUgZW4gaGg6bW06c3MuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudG90YWxUaW1lID0gcGFyc2VGbG9hdChKU09OUmVzcG9uc2UuZHVyYXRpb25TZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJ0b3RhbERpc3RhbmNlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudG90YWxEaXN0YW5jZSA9IChvcHRpb25zLmRpc3RhbmNlVW5pdCA9PT0gXCJtXCIpID8gSlNPTlJlc3BvbnNlLmRpc3RhbmNlTWV0ZXJzIDogSlNPTlJlc3BvbnNlLmRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiYmJveFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRzID0gSlNPTlJlc3BvbnNlLmJvdW5kcy5zcGxpdCgvWyw7XS8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmJib3gubGVmdCA9IHBhcnNlRmxvYXQoY29vcmRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5iYm94LmJvdHRvbSA9IHBhcnNlRmxvYXQoY29vcmRzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5iYm94LnJpZ2h0ID0gcGFyc2VGbG9hdChjb29yZHNbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmJib3gudG9wID0gcGFyc2VGbG9hdChjb29yZHNbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGNhbGxiYWNrIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIC0ganNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbldLVFN1Y2Nlc3MgPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdXRlR2VvbWV0cnkgPSBqc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBjYWxsYmFjayBmYWlsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlIC0gZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25XS1RFcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKE1SZXMuZ2V0TWVzc2FnZShcIlBBUkFNX0ZPUk1BVFwiLCBbXCJnZW9tZXRyeVdrdFwiXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJyb3V0ZUdlb21ldHJ5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IEpTT05SZXNwb25zZS5nZW9tZXRyeVdrdCB8fCBKU09OUmVzcG9uc2Uuc2ltcGxpZmllZFdrdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXS1QudG9Kc29uKGdlb21ldHJ5LCBvbldLVFN1Y2Nlc3MsIG9uV0tURXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnJvdXRlR2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInJvdXRlSW5zdHJ1Y3Rpb25zXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZWdMaXN0ID0gSlNPTlJlc3BvbnNlLmxlZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsZWdMaXN0KSAmJiBsZWdMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlZ0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdzLnB1c2gobGVnTGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGVncykgJiYgbGVncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnU3RlcHMucHVzaChsZWdzW2ldLnN0ZXBzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsZWdTdGVwcykgJiYgbGVnU3RlcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVnU3RlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwcyA9IHN0ZXBzLmNvbmNhdChsZWdTdGVwc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IFJvdXRlSW5zdHJ1Y3Rpb24oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zW2RhdGEucm91dGVJbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV0uZHVyYXRpb24gPSBzdGVwLmR1cmF0aW9uU2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5kaXN0YW5jZSA9IChvcHRpb25zLmRpc3RhbmNlVW5pdCA9PT0gXCJtXCIpID8gc3RlcC5kaXN0YW5jZU1ldGVycyA6IHN0ZXAuZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zW2RhdGEucm91dGVJbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV0uY29kZSA9IHN0ZXAubmF2SW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZW9tZXRyaWUgZW4gZ2VvanNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludCA9IHN0ZXAucG9pbnRzW2ldLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludHMgJiYgcG9pbnRzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5nZW9tZXRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMgOiBwb2ludHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiBcIkxpbmVTdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFkdWN0aW9uIGR1IGNvZGUgZW4gaW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogLSBGIDogdG91dCBkcm9pdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAtIEIgOiBkZW1pLXRvdXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogLSBMIDogdG91cm5lciDDoCBnYXVjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogLSBSIDogdG91cm5lciDDoCBkcm9pdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogLSBCTCA6IHRvdXJuZXIgdHLDqHMgw6AgZ2F1Y2hlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIC0gQlIgOiB0b3VybmVyIHRyw6hzIMOgIGRyb2l0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAtIEZMIDogdG91cm5lciBsw6lnw6hyZW1lbnQgw6AgZ2F1Y2hlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIC0gRlIgOiB0b3VybmVyIGzDqWfDqHJlbWVudCDDoCBkcm9pdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogLSByb3VuZF9hYm91dF9lbnRyeSA6IGVudHLDqWUgcm9uZC1wb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAtIHJvdW5kX2Fib3V0X2V4aXQgOiBzb3J0aWUgcm9uZC1wb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gbmUgc291aGFpdGUgcGFzIGRlIGNlIHR5cGUgZGUgdmFsZXVyLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcC5uYW1lID09PSBcIlZhbGV1ciBub24gcmVuc2VpZ27DqWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXAubmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RlcC5uYXZJbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJGXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVwLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5pbnN0cnVjdGlvbiA9IFwiVG91dCBkcm9pdCBcIiArIHN0ZXAubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5pbnN0cnVjdGlvbiA9IFwiQ29udGludWVyIHRvdXQgZHJvaXQgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yb3V0ZUluc3RydWN0aW9uc1tkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zLmxlbmd0aCAtIDFdLmluc3RydWN0aW9uID0gXCJEZW1pLXRvdXIgXCIgKyBzdGVwLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5pbnN0cnVjdGlvbiA9IFwiVG91cm5lciDDoCBnYXVjaGUgXCIgKyBzdGVwLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5pbnN0cnVjdGlvbiA9IFwiVG91cm5lciDDoCBkcm9pdGUgXCIgKyBzdGVwLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJCTFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zW2RhdGEucm91dGVJbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV0uaW5zdHJ1Y3Rpb24gPSBcIlRvdXJuZXIgdHLDqHMgw6AgZ2F1Y2hlIFwiICsgc3RlcC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQlJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yb3V0ZUluc3RydWN0aW9uc1tkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zLmxlbmd0aCAtIDFdLmluc3RydWN0aW9uID0gXCJUb3VybmVyIHRyw6hzIMOgIGRyb2l0ZSBcIiArIHN0ZXAubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkZMXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucm91dGVJbnN0cnVjdGlvbnNbZGF0YS5yb3V0ZUluc3RydWN0aW9ucy5sZW5ndGggLSAxXS5pbnN0cnVjdGlvbiA9IFwiVG91cm5lciBsw6lnw6hyZW1lbnQgw6AgZ2F1Y2hlIFwiICsgc3RlcC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRlJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yb3V0ZUluc3RydWN0aW9uc1tkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zLmxlbmd0aCAtIDFdLmluc3RydWN0aW9uID0gXCJUb3VybmVyIGzDqWfDqHJlbWVudCDDoCBkcm9pdGUgXCIgKyBzdGVwLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyb3VuZF9hYm91dF9lbnRyeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zW2RhdGEucm91dGVJbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV0uaW5zdHJ1Y3Rpb24gPSBcIkVudHLDqWUgcm9uZC1wb2ludCBcIiArIHN0ZXAubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJvdW5kX2Fib3V0X2V4aXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yb3V0ZUluc3RydWN0aW9uc1tkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zLmxlbmd0aCAtIDFdLmluc3RydWN0aW9uID0gXCJTb3J0aWUgcm9uZC1wb2ludCBcIiArIHN0ZXAubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBudWxsOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zW2RhdGEucm91dGVJbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV0uaW5zdHJ1Y3Rpb24gPSBcIlByZW5kcmUgdG91dCBkcm9pdCBcIiArIHN0ZXAubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yb3V0ZUluc3RydWN0aW9uc1tkYXRhLnJvdXRlSW5zdHJ1Y3Rpb25zLmxlbmd0aCAtIDFdLmluc3RydWN0aW9uID0gXCI/XCIgKyBzdGVwLm5hdkluc3RydWN0aW9uICsgXCI/IFwiICsgc3RlcC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfQU5BTFlTRVwiLCBcImpzb25cIikpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVycm9yLmNhbGwob3B0aW9ucy5zY29wZSwgbmV3IEVycm9yU2VydmljZShNUmVzLmdldE1lc3NhZ2UoXCJTRVJWSUNFX1JFU1BPTlNFX0ZPUk1BVFwiLCBcImpzb25cIiwgXCJ4bWxcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTaSBsYSByw6lwb25zZSBjb250ZW5haXQgdW5lIGV4Y2VwdGlvbiByZW52b3nDqWUgcGFyIGxlIHNlcnZpY2VcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmV4Y2VwdGlvblJlcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IuY2FsbChvcHRpb25zLnNjb3BlLCBuZXcgRXJyb3JTZXJ2aWNlKE1SZXMuZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXzJcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25FcnJvci5jYWxsKG9wdGlvbnMuc2NvcGUsIG5ldyBFcnJvclNlcnZpY2UoTVJlcy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FTVBUWVwiKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5vblN1Y2Nlc3MuY2FsbChvcHRpb25zLnNjb3BlLCBkYXRhKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZVJlc3BvbnNlRmFjdG9yeTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Response/RouteResponseFactory.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteInstruction.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteInstruction.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * Single Route Instruction object.\n *\n * @property {String} code - Instruction code :\n *\n * - \"F\" : Straight forward\n * - \"B\" : U-turn\n * - \"L\" : turn left\n * - \"R\" : turn right\n * - \"BL\" : turn left strongly\n * - \"BR\" : turn right strongly\n * - \"FL\" : turn lightly to the left\n * - \"FR\" : turn lightly to the right\n * - \"round_about_entry\" : round about entry\n * - \"round_about_exit\" : round about exit\n *\n * @property {String} instruction - Instruction text : translated code + street name\n * @property {Object} geometry - Geometry (expressed in [GeoJSON]{@link http://geojson.org/}) of the street.\n * @property {Float} distance - Length of the instruction. Expressed in km or m, depending on distanceUnit parameter.\n * @property {Float} duration - Instruction duration in seconds.\n *\n * @namespace\n * @alias Gp.Services.Route.RouteInstruction\n */\nfunction RouteInstruction () {\n    if (!(this instanceof RouteInstruction)) {\n        throw new TypeError(\"RouteInstruction constructor cannot be called as a function.\");\n    }\n\n    this.duration = null;\n\n    this.distance = null;\n\n    this.code = null;\n\n    this.instruction = null;\n\n    this.geometry = null; // FIXME can be null if option 'geometryInInstructions' is false !\n}\n\nRouteInstruction.prototype = {\n\n    constructor : RouteInstruction\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteInstruction);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVzcG9uc2UvbW9kZWwvUm91dGVJbnN0cnVjdGlvbi5qcz9mNmRkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU8sNkNBQTZDLDBCQUEwQjtBQUM1RixjQUFjLE1BQU07QUFDcEIsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEseUJBQXlCO0FBQ3pCOztBQUVBOztBQUVBOztBQUVBOztBQUVlLCtFQUFnQixFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9Sb3V0ZS9SZXNwb25zZS9tb2RlbC9Sb3V0ZUluc3RydWN0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFNpbmdsZSBSb3V0ZSBJbnN0cnVjdGlvbiBvYmplY3QuXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGNvZGUgLSBJbnN0cnVjdGlvbiBjb2RlIDpcbiAqXG4gKiAtIFwiRlwiIDogU3RyYWlnaHQgZm9yd2FyZFxuICogLSBcIkJcIiA6IFUtdHVyblxuICogLSBcIkxcIiA6IHR1cm4gbGVmdFxuICogLSBcIlJcIiA6IHR1cm4gcmlnaHRcbiAqIC0gXCJCTFwiIDogdHVybiBsZWZ0IHN0cm9uZ2x5XG4gKiAtIFwiQlJcIiA6IHR1cm4gcmlnaHQgc3Ryb25nbHlcbiAqIC0gXCJGTFwiIDogdHVybiBsaWdodGx5IHRvIHRoZSBsZWZ0XG4gKiAtIFwiRlJcIiA6IHR1cm4gbGlnaHRseSB0byB0aGUgcmlnaHRcbiAqIC0gXCJyb3VuZF9hYm91dF9lbnRyeVwiIDogcm91bmQgYWJvdXQgZW50cnlcbiAqIC0gXCJyb3VuZF9hYm91dF9leGl0XCIgOiByb3VuZCBhYm91dCBleGl0XG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGluc3RydWN0aW9uIC0gSW5zdHJ1Y3Rpb24gdGV4dCA6IHRyYW5zbGF0ZWQgY29kZSArIHN0cmVldCBuYW1lXG4gKiBAcHJvcGVydHkge09iamVjdH0gZ2VvbWV0cnkgLSBHZW9tZXRyeSAoZXhwcmVzc2VkIGluIFtHZW9KU09OXXtAbGluayBodHRwOi8vZ2VvanNvbi5vcmcvfSkgb2YgdGhlIHN0cmVldC5cbiAqIEBwcm9wZXJ0eSB7RmxvYXR9IGRpc3RhbmNlIC0gTGVuZ3RoIG9mIHRoZSBpbnN0cnVjdGlvbi4gRXhwcmVzc2VkIGluIGttIG9yIG0sIGRlcGVuZGluZyBvbiBkaXN0YW5jZVVuaXQgcGFyYW1ldGVyLlxuICogQHByb3BlcnR5IHtGbG9hdH0gZHVyYXRpb24gLSBJbnN0cnVjdGlvbiBkdXJhdGlvbiBpbiBzZWNvbmRzLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Sb3V0ZS5Sb3V0ZUluc3RydWN0aW9uXG4gKi9cbmZ1bmN0aW9uIFJvdXRlSW5zdHJ1Y3Rpb24gKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSb3V0ZUluc3RydWN0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUm91dGVJbnN0cnVjdGlvbiBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMuZHVyYXRpb24gPSBudWxsO1xuXG4gICAgdGhpcy5kaXN0YW5jZSA9IG51bGw7XG5cbiAgICB0aGlzLmNvZGUgPSBudWxsO1xuXG4gICAgdGhpcy5pbnN0cnVjdGlvbiA9IG51bGw7XG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDsgLy8gRklYTUUgY2FuIGJlIG51bGwgaWYgb3B0aW9uICdnZW9tZXRyeUluSW5zdHJ1Y3Rpb25zJyBpcyBmYWxzZSAhXG59XG5cblJvdXRlSW5zdHJ1Y3Rpb24ucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3IgOiBSb3V0ZUluc3RydWN0aW9uXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlSW5zdHJ1Y3Rpb247XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteInstruction.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteResponse.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteResponse.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Response object for {@link module:Services~route Gp.Services.route ()} invocation when successful. Received as the argument of onSuccess callback function.\n *\n * @property {Gp.BBox} bbox - Bounding Box of the route. Given when provideBBox parameter is used in function call.\n * @property {Object} routeGeometry - Geometry (expressed in [GeoJSON]{@link http://geojson.org/}) of the route.\n * @property {Array.<Gp.Services.Route.RouteInstruction>} routeInstructions - Instructions of the route.\n * @property {String} totalDistance - Length of the route. If distanceUnit parameter was set to \"km\" (default), totalDistance is a string containing the total distance expressed in kilometers, followed by \" Km\" (e.g. : \"19.6 Km\"). If distanceUnit parameter was set to \"m\", totalDistance is a string containing the total distance expressed in meters (e.g. : \"19599.14\").\n * @property {Float} totalTime - Route duration in seconds.\n *\n * @namespace\n * @alias Gp.Services.RouteResponse\n */\nfunction RouteResponse () {\n    if (!(this instanceof RouteResponse)) {\n        throw new TypeError(\"RouteResponse constructor cannot be called as a function.\");\n    }\n\n    this.totalTime = null;\n\n    this.totalDistance = null;\n\n    this.bbox = {\n        left : null,\n        right : null,\n        top : null,\n        bottom : null\n    };\n\n    this.routeGeometry = null; // FIXME can be null if option 'geometryInInstructions' is true !\n\n    this.routeInstructions = [];\n}\n\nRouteResponse.prototype = {\n\n    constructor : RouteResponse\n\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RouteResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUmVzcG9uc2UvbW9kZWwvUm91dGVSZXNwb25zZS5qcz8yNjYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQSx3QkFBd0IsaURBQWlEO0FBQ3pFO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsT0FBTyxrREFBa0QsMEJBQTBCO0FBQ2pHLGNBQWMsMkNBQTJDO0FBQ3pELGNBQWMsT0FBTztBQUNyQixjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCOztBQUU5QjtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVlLDRFQUFhLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2VvcG9ydGFsLWFjY2Vzcy1saWIvc3JjL1NlcnZpY2VzL1JvdXRlL1Jlc3BvbnNlL21vZGVsL1JvdXRlUmVzcG9uc2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlc3BvbnNlIG9iamVjdCBmb3Ige0BsaW5rIG1vZHVsZTpTZXJ2aWNlc35yb3V0ZSBHcC5TZXJ2aWNlcy5yb3V0ZSAoKX0gaW52b2NhdGlvbiB3aGVuIHN1Y2Nlc3NmdWwuIFJlY2VpdmVkIGFzIHRoZSBhcmd1bWVudCBvZiBvblN1Y2Nlc3MgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKlxuICogQHByb3BlcnR5IHtHcC5CQm94fSBiYm94IC0gQm91bmRpbmcgQm94IG9mIHRoZSByb3V0ZS4gR2l2ZW4gd2hlbiBwcm92aWRlQkJveCBwYXJhbWV0ZXIgaXMgdXNlZCBpbiBmdW5jdGlvbiBjYWxsLlxuICogQHByb3BlcnR5IHtPYmplY3R9IHJvdXRlR2VvbWV0cnkgLSBHZW9tZXRyeSAoZXhwcmVzc2VkIGluIFtHZW9KU09OXXtAbGluayBodHRwOi8vZ2VvanNvbi5vcmcvfSkgb2YgdGhlIHJvdXRlLlxuICogQHByb3BlcnR5IHtBcnJheS48R3AuU2VydmljZXMuUm91dGUuUm91dGVJbnN0cnVjdGlvbj59IHJvdXRlSW5zdHJ1Y3Rpb25zIC0gSW5zdHJ1Y3Rpb25zIG9mIHRoZSByb3V0ZS5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB0b3RhbERpc3RhbmNlIC0gTGVuZ3RoIG9mIHRoZSByb3V0ZS4gSWYgZGlzdGFuY2VVbml0IHBhcmFtZXRlciB3YXMgc2V0IHRvIFwia21cIiAoZGVmYXVsdCksIHRvdGFsRGlzdGFuY2UgaXMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgdG90YWwgZGlzdGFuY2UgZXhwcmVzc2VkIGluIGtpbG9tZXRlcnMsIGZvbGxvd2VkIGJ5IFwiIEttXCIgKGUuZy4gOiBcIjE5LjYgS21cIikuIElmIGRpc3RhbmNlVW5pdCBwYXJhbWV0ZXIgd2FzIHNldCB0byBcIm1cIiwgdG90YWxEaXN0YW5jZSBpcyBhIHN0cmluZyBjb250YWluaW5nIHRoZSB0b3RhbCBkaXN0YW5jZSBleHByZXNzZWQgaW4gbWV0ZXJzIChlLmcuIDogXCIxOTU5OS4xNFwiKS5cbiAqIEBwcm9wZXJ0eSB7RmxvYXR9IHRvdGFsVGltZSAtIFJvdXRlIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlNlcnZpY2VzLlJvdXRlUmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gUm91dGVSZXNwb25zZSAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJvdXRlUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJSb3V0ZVJlc3BvbnNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy50b3RhbFRpbWUgPSBudWxsO1xuXG4gICAgdGhpcy50b3RhbERpc3RhbmNlID0gbnVsbDtcblxuICAgIHRoaXMuYmJveCA9IHtcbiAgICAgICAgbGVmdCA6IG51bGwsXG4gICAgICAgIHJpZ2h0IDogbnVsbCxcbiAgICAgICAgdG9wIDogbnVsbCxcbiAgICAgICAgYm90dG9tIDogbnVsbFxuICAgIH07XG5cbiAgICB0aGlzLnJvdXRlR2VvbWV0cnkgPSBudWxsOyAvLyBGSVhNRSBjYW4gYmUgbnVsbCBpZiBvcHRpb24gJ2dlb21ldHJ5SW5JbnN0cnVjdGlvbnMnIGlzIHRydWUgIVxuXG4gICAgdGhpcy5yb3V0ZUluc3RydWN0aW9ucyA9IFtdO1xufVxuXG5Sb3V0ZVJlc3BvbnNlLnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0cnVjdG9yIDogUm91dGVSZXNwb25zZVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZVJlc3BvbnNlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Response/model/RouteResponse.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Route/Route.js":
/*!***********************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Route/Route.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/LoggerByDefault */ \"./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/MessagesResources */ \"./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\");\n/* harmony import */ var _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Exceptions/ErrorService */ \"./node_modules/geoportal-access-lib/src/Exceptions/ErrorService.js\");\n/* harmony import */ var _CommonService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CommonService */ \"./node_modules/geoportal-access-lib/src/Services/CommonService.js\");\n/* harmony import */ var _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DefaultUrlService */ \"./node_modules/geoportal-access-lib/src/Services/DefaultUrlService.js\");\n/* harmony import */ var _Request_RouteRequestFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Request/RouteRequestFactory */ \"./node_modules/geoportal-access-lib/src/Services/Route/Request/RouteRequestFactory.js\");\n/* harmony import */ var _Response_RouteResponseFactory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Response/RouteResponseFactory */ \"./node_modules/geoportal-access-lib/src/Services/Route/Response/RouteResponseFactory.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @classdesc\n * Appel du service d'itinéraire du Géoportail :\n *     envoi de la requête construite selon les paramètres en options,\n *     éventuellement parsing et analyse  de la réponse,\n *     retour d'une réponse en paramètre de la fonction onSuccess.\n *\n * @alias Gp.Services.Route\n * @constructor\n * @extends {Gp.Services.CommonService}\n * @param {Object} options - options spécifiques au service (+ les options heritées)\n *\n * @param {String} [options.api] - Manière d'accéder au service : 'REST' (via l'API REST) ou 'OLS' (via la norme XLS).\n * Par défaut, on utilise l'API REST.\n *\n * @param {String} options.outputFormat - Le format de la réponse du service itineraire : 'xml' ou 'json'.\n *      Ce paramètre déterminera l'extension '.xml' ou '.json' du service dans le cas de l'API REST.\n *      Nécessaire si serverUrl est renseigné, et qu'on souhaite passer par l'API REST,\n *      pour connaître le format dans lequel sera fournie la réponse (pour son traitement).\n *      Non nécessaire pour la norme OLS. Par défaut, ce paramètre vaut 'json'.\n *\n * @param {String} [options.routePreference = \"fastest\"] - Mode de calcul à utiliser :\n * - le plus rapide « fastest »\n * - le plus court « shortest »\n * Par défaut : « fastest ».\n *\n * @param {Object} options.startPoint - Point de départ du calcul. Coordonnées exprimées en longitudes, latitudes (EPSG:4326)\n * @param {Float} options.startPoint.x - Abcisse du point de départ du calcul d'itinéraire.\n * @param {Float} options.startPoint.y - Ordonnée du point de départ du calcul d'itinéraire.\n *\n * @param {Object} options.endPoint - Point d'arrivée du calcul. Coordonnées exprimées en longitudes, latitudes (EPSG:4326)\n * @param {Float} options.endPoint.x - Abcisse du point d'arrivée du calcul d'itinéraire.\n * @param {Float} options.endPoint.y - Ordonnée du point d'arrivée du calcul d'itinéraire.\n *\n * @param {Object[]} [options.viaPoints] - Liste de point ({x:Float,y:Float}) intermédaires que l'itinéraire doit emprunter dans l'ordre du tableau.\n *      Coordonnées exprimées en longitudes, latitudes (EPSG:4326) :{x:float, y:float}\n *\n * @param {String} [options.graph = \"voiture\"] - Type de graphe utilisé : \"Voiture\" ou \"Pieton\".\n *      Détermine le profil de vitesses utilisé pour le calcul ainsi que les tronçons autorisés ou non.\n *      Par défaut, c'est la valeur \"Voiture\" qui sera utilisée.\n *\n * @param {String[]} [options.exclusions] - Critères d'exclusions à appliquer pour le calcul. (correspond au paramètre \"avoidFeature\" d'OpenLS)\n *      On précise ici le type de tronçons que l'on ne veut pas que l'itinéraire emprunte\n *      (valeurs possibles : « toll » (éviter les péages), « bridge », « tunnel »).\n *\n * @param {Boolean} [options.geometryInInstructions = false] - Indique si la géométrie de l'itinéraire doit être reprise morceau par morceau dans les instructions.\n *      (correspond au paramètre \"provideGeometry\" d'OpenLS) Par défaut : false.\n *\n * @param {Boolean} [options.provideBbox = true] - Indique si les instructions doivent être localisées par une bbox dans la réponse.\n *      Par défaut : true.\n *\n * @param {String} [options.distanceUnit = \"km\"] - Indique si la distance doit être exprimée en km ou m dans la réponse.\n *      Par défaut : km.\n *\n * @param {String} [options.srs] - Système de coordonnées dans lequel les paramètres géographiques en entrée et la réponse du service sont exprimés.\n *      Pas de valeur par défaut. Si le serveur consulté est celui du Géoportail, la valeur par défaut sera donc celle du service : 'EPSG:4326'.\n *\n * @example\n *  var options = {\n *      // options communes aux services\n *      apiKey : null,\n *      serverUrl : 'http://localhost/service/',\n *      protocol : 'JSONP', // JSONP|XHR\n *      proxyURL : null,\n *      httpMethod : 'GET', // GET|POST\n *      timeOut : 10000, // ms\n *      rawResponse : false, // true|false\n *      scope : null, // this\n *      onSuccess : function (response) {},\n *      onFailure : function (error) {},\n *      // spécifique au service\n *      api : 'OLS',\n *      outputFormat : 'xml',\n *      startPoint : {\n *          x : 42.1121,\n *          y : 1.5557\n *      },\n *      endPoint : {\n *          x : 42.1121,\n *          y : 1.5557\n *      },\n *      provideBbox : false,\n *      exclusions : [\"Bridge\", \"Tunnel\", \"Toll\"],\n *      distanceUnit : \"km\",\n *      graph : \"Voiture\",\n *      geometryInInstructions : false,\n *      routePreference : \"fastest\"\n *  };\n *\n * @private\n */\nfunction Route (options) {\n    if (!(this instanceof Route)) {\n        throw new TypeError(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"CLASS_CONSTRUCTOR\", \"Route\"));\n    }\n\n    /**\n     * Nom de la classe (heritage)\n     */\n    this.CLASSNAME = \"Route\";\n\n    // appel du constructeur par heritage\n    _CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].apply(this, arguments);\n\n    this.logger = _Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Gp.Services.Route\");\n    this.logger.trace(\"[Constructeur Route (options)]\");\n\n    if (!options.startPoint) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"startPoint\"));\n    }\n\n    // on lance une exception afin d'eviter au service de le faire...\n    if (options.startPoint.x === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"startPoint.x\"));\n    }\n\n    if (options.startPoint.y === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"startPoint.y\"));\n    }\n\n    if (!options.endPoint) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"endPoint\"));\n    }\n\n    // on lance une exception afin d'eviter au service de le faire...\n    if (options.endPoint.x === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"endPoint.x\"));\n    }\n\n    if (options.endPoint.y === null) {\n        throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_MISSING\", \"endPoint.y\"));\n    }\n\n    // options par defaut\n    // on passe l'option api en majuscules afin d'éviter des exceptions.\n    this.options.api = (typeof options.api === \"string\") ? options.api.toUpperCase() : \"REST\";\n\n    // on passe l'option outputFormat en minuscules afin d'éviter des exceptions.\n    this.options.outputFormat = (typeof options.outputFormat === \"string\") ? options.outputFormat.toLowerCase() : \"json\";\n\n    this.options.startPoint = options.startPoint;\n    this.options.endPoint = options.endPoint;\n    this.options.viaPoints = options.viaPoints || null; // INFO mapping viaPoints <=> xls:viaPoint\n    this.options.exclusions = options.exclusions || null; // INFO mapping exclusions <=> xls:avoidFeature\n    this.options.routePreference = options.routePreference || \"fastest\";\n    this.options.graph = options.graph || \"Voiture\";\n    this.options.geometryInInstructions = options.geometryInInstructions || false; // INFO mapping geometryInInstructions <=> xls:provideGeometry\n    this.options.provideBbox = options.provideBbox || true; // INFO mapping provideBbox <=> xls:provideBoundingBox\n    this.options.distanceUnit = options.distanceUnit || \"km\";\n    this.options.expectedStartTime = null; // FIXME not yet implemented !\n    this.options.srs = options.srs || \"EPSG:4326\";\n\n    // FIXME : les readers OLS ne sont pas implémentés. on utilise donc l'API REST.\n    this.options.api = \"REST\";\n    this.logger.warn(\"Surcharge option 'api' : REST (readers OLS non implémentés)\");\n    if (this.options.protocol === \"XHR\") {\n        this.options.httpMethod = \"GET\";\n        this.logger.trace(\"Surcharge option 'HttpMethod' : \" + this.options.httpMethod);\n    }\n\n    // gestion de l'url du service par defaut\n    // si l'url n'est pas renseignée, il faut utiliser les urls par defaut\n    // en fonction du type d'api, REST ou OLS\n    if (!this.options.serverUrl) {\n        var lstUrlByDefault = _DefaultUrlService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Route.url(this.options.apiKey);\n        var urlFound = null;\n        switch (this.options.api) {\n            case \"OLS\":\n                urlFound = lstUrlByDefault.ols;\n                break;\n            case \"REST\":\n                var key = \"route\" + \"-\" + this.options.outputFormat;\n                urlFound = lstUrlByDefault[key];\n                break;\n            default:\n                throw new Error(_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"PARAM_UNKNOWN\", \"api\"));\n        }\n\n        if (!urlFound) {\n            throw new Error(\"Url by default not found !\");\n        }\n        this.options.serverUrl = urlFound;\n        this.logger.trace(\"Serveur URL par defaut : \" + this.options.serverUrl);\n    }\n\n    // gestion du type de service\n    // si l'extension de l'url est .json ou .xml, on surcharge le format de sortie (outputFormat)\n    var idx = this.options.serverUrl.lastIndexOf(\".\");\n    if (idx !== -1) {\n        var extension = this.options.serverUrl.substring(idx + 1);\n        if (extension && extension.length < 5) { // FIXME extension de moins de 4 car. ...\n            this.logger.trace(\"Serveur Extension URL : \" + extension);\n            switch (extension.toLowerCase()) {\n                case \"json\":\n                case \"xml\":\n                    this.options.outputFormat = extension.toLowerCase();\n                    break;\n                default:\n                    throw new Error(\"type of service : unknown or unsupported (json or xml) !\");\n            }\n        }\n    }\n}\n\n/**\n * @lends module:Route#\n */\nRoute.prototype = Object.create(_CommonService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].prototype, {\n    // todo\n    // getter/setter\n});\n\n/*\n * Constructeur (alias)\n */\nRoute.prototype.constructor = Route;\n\n/**\n * (overwrite)\n * Création de la requête\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nRoute.prototype.buildRequest = function (error, success) {\n    var options = {\n        // spécifique au service\n        api : this.options.api,\n        startPoint : this.options.startPoint,\n        endPoint : this.options.endPoint,\n        viaPoints : this.options.viaPoints,\n        provideBbox : this.options.provideBbox,\n        exclusions : this.options.exclusions,\n        distanceUnit : this.options.distanceUnit,\n        graph : this.options.graph,\n        geometryInInstructions : this.options.geometryInInstructions,\n        routePreference : this.options.routePreference,\n        srs : this.options.srs\n    };\n\n    this.request = _Request_RouteRequestFactory__WEBPACK_IMPORTED_MODULE_5__[\"default\"].build(options);\n\n    // on teste si la requete a bien été construite !\n    if (!this.request) {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_REQUEST_BUILD\")));\n    } else {\n        success.call(this, this.request);\n    }\n};\n\n/**\n * (overwrite)\n * Analyse de la reponse\n *\n * @param {Function} error   - callback des erreurs\n * @param {Function} success - callback\n */\nRoute.prototype.analyzeResponse = function (error, success) {\n    // INFO\n    // Factory pour masquer la complexité du retour du service qui renvoie soit\n    //  - une 'string' qui contient du XML ou JSON natif en mode XHR\n    //  - un objet JSON qui est natif ou encapsulé\n\n    if (this.response) {\n        var options = {\n            distanceUnit : this.options.distanceUnit, // FIXME ce parametre nous permet de choisir le type d'unité dans la reponse !\n            response : this.response,\n            outputFormat : this.options.outputFormat, // utile pour parser la string en mode XHR : JSON ou XML !\n            api : this.options.api, // utile de connaitre le type d'API car la reponse est differente !\n            rawResponse : this.options.rawResponse,\n            onError : error,\n            onSuccess : success,\n            scope : this\n        };\n\n        _Response_RouteResponseFactory__WEBPACK_IMPORTED_MODULE_6__[\"default\"].build(options);\n    } else {\n        error.call(this, new _Exceptions_ErrorService__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_Utils_MessagesResources__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMessage(\"SERVICE_RESPONSE_EMPTY\")));\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Route);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvUm91dGUvUm91dGUuanM/ZjE5YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDaUQ7QUFDSDtBQUNXO0FBQ1o7QUFDUTtBQUNXO0FBQ0c7O0FBRW5FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXLE9BQU87QUFDbEI7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakI7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFdBQVcsU0FBUyx3Q0FBd0MsZ0JBQWdCO0FBQzVFLHFFQUFxRTtBQUNyRTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnRUFBQztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksc0RBQWE7O0FBRWpCLGtCQUFrQiw4REFBTTtBQUN4Qjs7QUFFQTtBQUNBLHdCQUF3QixnRUFBQztBQUN6Qjs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLGdFQUFDO0FBQ3pCOztBQUVBO0FBQ0Esd0JBQXdCLGdFQUFDO0FBQ3pCOztBQUVBO0FBQ0Esd0JBQXdCLGdFQUFDO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQSx3QkFBd0IsZ0VBQUM7QUFDekI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBLGtGQUFrRjtBQUNsRiwyREFBMkQ7QUFDM0Q7QUFDQSwwQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMERBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFDO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQWE7QUFDN0M7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixvRUFBbUI7O0FBRXRDO0FBQ0E7QUFDQSw2QkFBNkIsZ0VBQVksQ0FBQyxnRUFBQztBQUMzQyxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLHNFQUFvQjtBQUM1QixLQUFLO0FBQ0wsNkJBQTZCLGdFQUFZLENBQUMsZ0VBQUM7QUFDM0M7QUFDQTs7QUFFZSxvRUFBSyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9Sb3V0ZS9Sb3V0ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgXyBmcm9tIFwiLi4vLi4vVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXNcIjtcbmltcG9ydCBFcnJvclNlcnZpY2UgZnJvbSBcIi4uLy4uL0V4Y2VwdGlvbnMvRXJyb3JTZXJ2aWNlXCI7XG5pbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tIFwiLi4vQ29tbW9uU2VydmljZVwiO1xuaW1wb3J0IERlZmF1bHRVcmxTZXJ2aWNlIGZyb20gXCIuLi9EZWZhdWx0VXJsU2VydmljZVwiO1xuaW1wb3J0IFJvdXRlUmVxdWVzdEZhY3RvcnkgZnJvbSBcIi4vUmVxdWVzdC9Sb3V0ZVJlcXVlc3RGYWN0b3J5XCI7XG5pbXBvcnQgUm91dGVSZXNwb25zZUZhY3RvcnkgZnJvbSBcIi4vUmVzcG9uc2UvUm91dGVSZXNwb25zZUZhY3RvcnlcIjtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBcHBlbCBkdSBzZXJ2aWNlIGQnaXRpbsOpcmFpcmUgZHUgR8Opb3BvcnRhaWwgOlxuICogICAgIGVudm9pIGRlIGxhIHJlcXXDqnRlIGNvbnN0cnVpdGUgc2Vsb24gbGVzIHBhcmFtw6h0cmVzIGVuIG9wdGlvbnMsXG4gKiAgICAgw6l2ZW50dWVsbGVtZW50IHBhcnNpbmcgZXQgYW5hbHlzZSAgZGUgbGEgcsOpcG9uc2UsXG4gKiAgICAgcmV0b3VyIGQndW5lIHLDqXBvbnNlIGVuIHBhcmFtw6h0cmUgZGUgbGEgZm9uY3Rpb24gb25TdWNjZXNzLlxuICpcbiAqIEBhbGlhcyBHcC5TZXJ2aWNlcy5Sb3V0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7R3AuU2VydmljZXMuQ29tbW9uU2VydmljZX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBzcMOpY2lmaXF1ZXMgYXUgc2VydmljZSAoKyBsZXMgb3B0aW9ucyBoZXJpdMOpZXMpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFwaV0gLSBNYW5pw6hyZSBkJ2FjY8OpZGVyIGF1IHNlcnZpY2UgOiAnUkVTVCcgKHZpYSBsJ0FQSSBSRVNUKSBvdSAnT0xTJyAodmlhIGxhIG5vcm1lIFhMUykuXG4gKiBQYXIgZMOpZmF1dCwgb24gdXRpbGlzZSBsJ0FQSSBSRVNULlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLm91dHB1dEZvcm1hdCAtIExlIGZvcm1hdCBkZSBsYSByw6lwb25zZSBkdSBzZXJ2aWNlIGl0aW5lcmFpcmUgOiAneG1sJyBvdSAnanNvbicuXG4gKiAgICAgIENlIHBhcmFtw6h0cmUgZMOpdGVybWluZXJhIGwnZXh0ZW5zaW9uICcueG1sJyBvdSAnLmpzb24nIGR1IHNlcnZpY2UgZGFucyBsZSBjYXMgZGUgbCdBUEkgUkVTVC5cbiAqICAgICAgTsOpY2Vzc2FpcmUgc2kgc2VydmVyVXJsIGVzdCByZW5zZWlnbsOpLCBldCBxdSdvbiBzb3VoYWl0ZSBwYXNzZXIgcGFyIGwnQVBJIFJFU1QsXG4gKiAgICAgIHBvdXIgY29ubmHDrnRyZSBsZSBmb3JtYXQgZGFucyBsZXF1ZWwgc2VyYSBmb3VybmllIGxhIHLDqXBvbnNlIChwb3VyIHNvbiB0cmFpdGVtZW50KS5cbiAqICAgICAgTm9uIG7DqWNlc3NhaXJlIHBvdXIgbGEgbm9ybWUgT0xTLiBQYXIgZMOpZmF1dCwgY2UgcGFyYW3DqHRyZSB2YXV0ICdqc29uJy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucm91dGVQcmVmZXJlbmNlID0gXCJmYXN0ZXN0XCJdIC0gTW9kZSBkZSBjYWxjdWwgw6AgdXRpbGlzZXIgOlxuICogLSBsZSBwbHVzIHJhcGlkZSDCqyBmYXN0ZXN0IMK7XG4gKiAtIGxlIHBsdXMgY291cnQgwqsgc2hvcnRlc3QgwrtcbiAqIFBhciBkw6lmYXV0IDogwqsgZmFzdGVzdCDCuy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5zdGFydFBvaW50IC0gUG9pbnQgZGUgZMOpcGFydCBkdSBjYWxjdWwuIENvb3Jkb25uw6llcyBleHByaW3DqWVzIGVuIGxvbmdpdHVkZXMsIGxhdGl0dWRlcyAoRVBTRzo0MzI2KVxuICogQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5zdGFydFBvaW50LnggLSBBYmNpc3NlIGR1IHBvaW50IGRlIGTDqXBhcnQgZHUgY2FsY3VsIGQnaXRpbsOpcmFpcmUuXG4gKiBAcGFyYW0ge0Zsb2F0fSBvcHRpb25zLnN0YXJ0UG9pbnQueSAtIE9yZG9ubsOpZSBkdSBwb2ludCBkZSBkw6lwYXJ0IGR1IGNhbGN1bCBkJ2l0aW7DqXJhaXJlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmVuZFBvaW50IC0gUG9pbnQgZCdhcnJpdsOpZSBkdSBjYWxjdWwuIENvb3Jkb25uw6llcyBleHByaW3DqWVzIGVuIGxvbmdpdHVkZXMsIGxhdGl0dWRlcyAoRVBTRzo0MzI2KVxuICogQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5lbmRQb2ludC54IC0gQWJjaXNzZSBkdSBwb2ludCBkJ2Fycml2w6llIGR1IGNhbGN1bCBkJ2l0aW7DqXJhaXJlLlxuICogQHBhcmFtIHtGbG9hdH0gb3B0aW9ucy5lbmRQb2ludC55IC0gT3Jkb25uw6llIGR1IHBvaW50IGQnYXJyaXbDqWUgZHUgY2FsY3VsIGQnaXRpbsOpcmFpcmUuXG4gKlxuICogQHBhcmFtIHtPYmplY3RbXX0gW29wdGlvbnMudmlhUG9pbnRzXSAtIExpc3RlIGRlIHBvaW50ICh7eDpGbG9hdCx5OkZsb2F0fSkgaW50ZXJtw6lkYWlyZXMgcXVlIGwnaXRpbsOpcmFpcmUgZG9pdCBlbXBydW50ZXIgZGFucyBsJ29yZHJlIGR1IHRhYmxlYXUuXG4gKiAgICAgIENvb3Jkb25uw6llcyBleHByaW3DqWVzIGVuIGxvbmdpdHVkZXMsIGxhdGl0dWRlcyAoRVBTRzo0MzI2KSA6e3g6ZmxvYXQsIHk6ZmxvYXR9XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmdyYXBoID0gXCJ2b2l0dXJlXCJdIC0gVHlwZSBkZSBncmFwaGUgdXRpbGlzw6kgOiBcIlZvaXR1cmVcIiBvdSBcIlBpZXRvblwiLlxuICogICAgICBEw6l0ZXJtaW5lIGxlIHByb2ZpbCBkZSB2aXRlc3NlcyB1dGlsaXPDqSBwb3VyIGxlIGNhbGN1bCBhaW5zaSBxdWUgbGVzIHRyb27Dp29ucyBhdXRvcmlzw6lzIG91IG5vbi5cbiAqICAgICAgUGFyIGTDqWZhdXQsIGMnZXN0IGxhIHZhbGV1ciBcIlZvaXR1cmVcIiBxdWkgc2VyYSB1dGlsaXPDqWUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmdbXX0gW29wdGlvbnMuZXhjbHVzaW9uc10gLSBDcml0w6hyZXMgZCdleGNsdXNpb25zIMOgIGFwcGxpcXVlciBwb3VyIGxlIGNhbGN1bC4gKGNvcnJlc3BvbmQgYXUgcGFyYW3DqHRyZSBcImF2b2lkRmVhdHVyZVwiIGQnT3BlbkxTKVxuICogICAgICBPbiBwcsOpY2lzZSBpY2kgbGUgdHlwZSBkZSB0cm9uw6dvbnMgcXVlIGwnb24gbmUgdmV1dCBwYXMgcXVlIGwnaXRpbsOpcmFpcmUgZW1wcnVudGVcbiAqICAgICAgKHZhbGV1cnMgcG9zc2libGVzIDogwqsgdG9sbCDCuyAow6l2aXRlciBsZXMgcMOpYWdlcyksIMKrIGJyaWRnZSDCuywgwqsgdHVubmVsIMK7KS5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmdlb21ldHJ5SW5JbnN0cnVjdGlvbnMgPSBmYWxzZV0gLSBJbmRpcXVlIHNpIGxhIGfDqW9tw6l0cmllIGRlIGwnaXRpbsOpcmFpcmUgZG9pdCDDqnRyZSByZXByaXNlIG1vcmNlYXUgcGFyIG1vcmNlYXUgZGFucyBsZXMgaW5zdHJ1Y3Rpb25zLlxuICogICAgICAoY29ycmVzcG9uZCBhdSBwYXJhbcOodHJlIFwicHJvdmlkZUdlb21ldHJ5XCIgZCdPcGVuTFMpIFBhciBkw6lmYXV0IDogZmFsc2UuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wcm92aWRlQmJveCA9IHRydWVdIC0gSW5kaXF1ZSBzaSBsZXMgaW5zdHJ1Y3Rpb25zIGRvaXZlbnQgw6p0cmUgbG9jYWxpc8OpZXMgcGFyIHVuZSBiYm94IGRhbnMgbGEgcsOpcG9uc2UuXG4gKiAgICAgIFBhciBkw6lmYXV0IDogdHJ1ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZGlzdGFuY2VVbml0ID0gXCJrbVwiXSAtIEluZGlxdWUgc2kgbGEgZGlzdGFuY2UgZG9pdCDDqnRyZSBleHByaW3DqWUgZW4ga20gb3UgbSBkYW5zIGxhIHLDqXBvbnNlLlxuICogICAgICBQYXIgZMOpZmF1dCA6IGttLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zcnNdIC0gU3lzdMOobWUgZGUgY29vcmRvbm7DqWVzIGRhbnMgbGVxdWVsIGxlcyBwYXJhbcOodHJlcyBnw6lvZ3JhcGhpcXVlcyBlbiBlbnRyw6llIGV0IGxhIHLDqXBvbnNlIGR1IHNlcnZpY2Ugc29udCBleHByaW3DqXMuXG4gKiAgICAgIFBhcyBkZSB2YWxldXIgcGFyIGTDqWZhdXQuIFNpIGxlIHNlcnZldXIgY29uc3VsdMOpIGVzdCBjZWx1aSBkdSBHw6lvcG9ydGFpbCwgbGEgdmFsZXVyIHBhciBkw6lmYXV0IHNlcmEgZG9uYyBjZWxsZSBkdSBzZXJ2aWNlIDogJ0VQU0c6NDMyNicuXG4gKlxuICogQGV4YW1wbGVcbiAqICB2YXIgb3B0aW9ucyA9IHtcbiAqICAgICAgLy8gb3B0aW9ucyBjb21tdW5lcyBhdXggc2VydmljZXNcbiAqICAgICAgYXBpS2V5IDogbnVsbCxcbiAqICAgICAgc2VydmVyVXJsIDogJ2h0dHA6Ly9sb2NhbGhvc3Qvc2VydmljZS8nLFxuICogICAgICBwcm90b2NvbCA6ICdKU09OUCcsIC8vIEpTT05QfFhIUlxuICogICAgICBwcm94eVVSTCA6IG51bGwsXG4gKiAgICAgIGh0dHBNZXRob2QgOiAnR0VUJywgLy8gR0VUfFBPU1RcbiAqICAgICAgdGltZU91dCA6IDEwMDAwLCAvLyBtc1xuICogICAgICByYXdSZXNwb25zZSA6IGZhbHNlLCAvLyB0cnVlfGZhbHNlXG4gKiAgICAgIHNjb3BlIDogbnVsbCwgLy8gdGhpc1xuICogICAgICBvblN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHt9LFxuICogICAgICBvbkZhaWx1cmUgOiBmdW5jdGlvbiAoZXJyb3IpIHt9LFxuICogICAgICAvLyBzcMOpY2lmaXF1ZSBhdSBzZXJ2aWNlXG4gKiAgICAgIGFwaSA6ICdPTFMnLFxuICogICAgICBvdXRwdXRGb3JtYXQgOiAneG1sJyxcbiAqICAgICAgc3RhcnRQb2ludCA6IHtcbiAqICAgICAgICAgIHggOiA0Mi4xMTIxLFxuICogICAgICAgICAgeSA6IDEuNTU1N1xuICogICAgICB9LFxuICogICAgICBlbmRQb2ludCA6IHtcbiAqICAgICAgICAgIHggOiA0Mi4xMTIxLFxuICogICAgICAgICAgeSA6IDEuNTU1N1xuICogICAgICB9LFxuICogICAgICBwcm92aWRlQmJveCA6IGZhbHNlLFxuICogICAgICBleGNsdXNpb25zIDogW1wiQnJpZGdlXCIsIFwiVHVubmVsXCIsIFwiVG9sbFwiXSxcbiAqICAgICAgZGlzdGFuY2VVbml0IDogXCJrbVwiLFxuICogICAgICBncmFwaCA6IFwiVm9pdHVyZVwiLFxuICogICAgICBnZW9tZXRyeUluSW5zdHJ1Y3Rpb25zIDogZmFsc2UsXG4gKiAgICAgIHJvdXRlUHJlZmVyZW5jZSA6IFwiZmFzdGVzdFwiXG4gKiAgfTtcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBSb3V0ZSAob3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSb3V0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihfLmdldE1lc3NhZ2UoXCJDTEFTU19DT05TVFJVQ1RPUlwiLCBcIlJvdXRlXCIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb20gZGUgbGEgY2xhc3NlIChoZXJpdGFnZSlcbiAgICAgKi9cbiAgICB0aGlzLkNMQVNTTkFNRSA9IFwiUm91dGVcIjtcblxuICAgIC8vIGFwcGVsIGR1IGNvbnN0cnVjdGV1ciBwYXIgaGVyaXRhZ2VcbiAgICBDb21tb25TZXJ2aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJHcC5TZXJ2aWNlcy5Sb3V0ZVwiKTtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIltDb25zdHJ1Y3RldXIgUm91dGUgKG9wdGlvbnMpXVwiKTtcblxuICAgIGlmICghb3B0aW9ucy5zdGFydFBvaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9NSVNTSU5HXCIsIFwic3RhcnRQb2ludFwiKSk7XG4gICAgfVxuXG4gICAgLy8gb24gbGFuY2UgdW5lIGV4Y2VwdGlvbiBhZmluIGQnZXZpdGVyIGF1IHNlcnZpY2UgZGUgbGUgZmFpcmUuLi5cbiAgICBpZiAob3B0aW9ucy5zdGFydFBvaW50LnggPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX01JU1NJTkdcIiwgXCJzdGFydFBvaW50LnhcIikpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnN0YXJ0UG9pbnQueSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fTUlTU0lOR1wiLCBcInN0YXJ0UG9pbnQueVwiKSk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLmVuZFBvaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihfLmdldE1lc3NhZ2UoXCJQQVJBTV9NSVNTSU5HXCIsIFwiZW5kUG9pbnRcIikpO1xuICAgIH1cblxuICAgIC8vIG9uIGxhbmNlIHVuZSBleGNlcHRpb24gYWZpbiBkJ2V2aXRlciBhdSBzZXJ2aWNlIGRlIGxlIGZhaXJlLi4uXG4gICAgaWYgKG9wdGlvbnMuZW5kUG9pbnQueCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXy5nZXRNZXNzYWdlKFwiUEFSQU1fTUlTU0lOR1wiLCBcImVuZFBvaW50LnhcIikpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmVuZFBvaW50LnkgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX01JU1NJTkdcIiwgXCJlbmRQb2ludC55XCIpKTtcbiAgICB9XG5cbiAgICAvLyBvcHRpb25zIHBhciBkZWZhdXRcbiAgICAvLyBvbiBwYXNzZSBsJ29wdGlvbiBhcGkgZW4gbWFqdXNjdWxlcyBhZmluIGQnw6l2aXRlciBkZXMgZXhjZXB0aW9ucy5cbiAgICB0aGlzLm9wdGlvbnMuYXBpID0gKHR5cGVvZiBvcHRpb25zLmFwaSA9PT0gXCJzdHJpbmdcIikgPyBvcHRpb25zLmFwaS50b1VwcGVyQ2FzZSgpIDogXCJSRVNUXCI7XG5cbiAgICAvLyBvbiBwYXNzZSBsJ29wdGlvbiBvdXRwdXRGb3JtYXQgZW4gbWludXNjdWxlcyBhZmluIGQnw6l2aXRlciBkZXMgZXhjZXB0aW9ucy5cbiAgICB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0ID0gKHR5cGVvZiBvcHRpb25zLm91dHB1dEZvcm1hdCA9PT0gXCJzdHJpbmdcIikgPyBvcHRpb25zLm91dHB1dEZvcm1hdC50b0xvd2VyQ2FzZSgpIDogXCJqc29uXCI7XG5cbiAgICB0aGlzLm9wdGlvbnMuc3RhcnRQb2ludCA9IG9wdGlvbnMuc3RhcnRQb2ludDtcbiAgICB0aGlzLm9wdGlvbnMuZW5kUG9pbnQgPSBvcHRpb25zLmVuZFBvaW50O1xuICAgIHRoaXMub3B0aW9ucy52aWFQb2ludHMgPSBvcHRpb25zLnZpYVBvaW50cyB8fCBudWxsOyAvLyBJTkZPIG1hcHBpbmcgdmlhUG9pbnRzIDw9PiB4bHM6dmlhUG9pbnRcbiAgICB0aGlzLm9wdGlvbnMuZXhjbHVzaW9ucyA9IG9wdGlvbnMuZXhjbHVzaW9ucyB8fCBudWxsOyAvLyBJTkZPIG1hcHBpbmcgZXhjbHVzaW9ucyA8PT4geGxzOmF2b2lkRmVhdHVyZVxuICAgIHRoaXMub3B0aW9ucy5yb3V0ZVByZWZlcmVuY2UgPSBvcHRpb25zLnJvdXRlUHJlZmVyZW5jZSB8fCBcImZhc3Rlc3RcIjtcbiAgICB0aGlzLm9wdGlvbnMuZ3JhcGggPSBvcHRpb25zLmdyYXBoIHx8IFwiVm9pdHVyZVwiO1xuICAgIHRoaXMub3B0aW9ucy5nZW9tZXRyeUluSW5zdHJ1Y3Rpb25zID0gb3B0aW9ucy5nZW9tZXRyeUluSW5zdHJ1Y3Rpb25zIHx8IGZhbHNlOyAvLyBJTkZPIG1hcHBpbmcgZ2VvbWV0cnlJbkluc3RydWN0aW9ucyA8PT4geGxzOnByb3ZpZGVHZW9tZXRyeVxuICAgIHRoaXMub3B0aW9ucy5wcm92aWRlQmJveCA9IG9wdGlvbnMucHJvdmlkZUJib3ggfHwgdHJ1ZTsgLy8gSU5GTyBtYXBwaW5nIHByb3ZpZGVCYm94IDw9PiB4bHM6cHJvdmlkZUJvdW5kaW5nQm94XG4gICAgdGhpcy5vcHRpb25zLmRpc3RhbmNlVW5pdCA9IG9wdGlvbnMuZGlzdGFuY2VVbml0IHx8IFwia21cIjtcbiAgICB0aGlzLm9wdGlvbnMuZXhwZWN0ZWRTdGFydFRpbWUgPSBudWxsOyAvLyBGSVhNRSBub3QgeWV0IGltcGxlbWVudGVkICFcbiAgICB0aGlzLm9wdGlvbnMuc3JzID0gb3B0aW9ucy5zcnMgfHwgXCJFUFNHOjQzMjZcIjtcblxuICAgIC8vIEZJWE1FIDogbGVzIHJlYWRlcnMgT0xTIG5lIHNvbnQgcGFzIGltcGzDqW1lbnTDqXMuIG9uIHV0aWxpc2UgZG9uYyBsJ0FQSSBSRVNULlxuICAgIHRoaXMub3B0aW9ucy5hcGkgPSBcIlJFU1RcIjtcbiAgICB0aGlzLmxvZ2dlci53YXJuKFwiU3VyY2hhcmdlIG9wdGlvbiAnYXBpJyA6IFJFU1QgKHJlYWRlcnMgT0xTIG5vbiBpbXBsw6ltZW50w6lzKVwiKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnByb3RvY29sID09PSBcIlhIUlwiKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5odHRwTWV0aG9kID0gXCJHRVRcIjtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJTdXJjaGFyZ2Ugb3B0aW9uICdIdHRwTWV0aG9kJyA6IFwiICsgdGhpcy5vcHRpb25zLmh0dHBNZXRob2QpO1xuICAgIH1cblxuICAgIC8vIGdlc3Rpb24gZGUgbCd1cmwgZHUgc2VydmljZSBwYXIgZGVmYXV0XG4gICAgLy8gc2kgbCd1cmwgbidlc3QgcGFzIHJlbnNlaWduw6llLCBpbCBmYXV0IHV0aWxpc2VyIGxlcyB1cmxzIHBhciBkZWZhdXRcbiAgICAvLyBlbiBmb25jdGlvbiBkdSB0eXBlIGQnYXBpLCBSRVNUIG91IE9MU1xuICAgIGlmICghdGhpcy5vcHRpb25zLnNlcnZlclVybCkge1xuICAgICAgICB2YXIgbHN0VXJsQnlEZWZhdWx0ID0gRGVmYXVsdFVybFNlcnZpY2UuUm91dGUudXJsKHRoaXMub3B0aW9ucy5hcGlLZXkpO1xuICAgICAgICB2YXIgdXJsRm91bmQgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5hcGkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJPTFNcIjpcbiAgICAgICAgICAgICAgICB1cmxGb3VuZCA9IGxzdFVybEJ5RGVmYXVsdC5vbHM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUkVTVFwiOlxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBcInJvdXRlXCIgKyBcIi1cIiArIHRoaXMub3B0aW9ucy5vdXRwdXRGb3JtYXQ7XG4gICAgICAgICAgICAgICAgdXJsRm91bmQgPSBsc3RVcmxCeURlZmF1bHRba2V5XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8uZ2V0TWVzc2FnZShcIlBBUkFNX1VOS05PV05cIiwgXCJhcGlcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1cmxGb3VuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXJsIGJ5IGRlZmF1bHQgbm90IGZvdW5kICFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnNlcnZlclVybCA9IHVybEZvdW5kO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIlNlcnZldXIgVVJMIHBhciBkZWZhdXQgOiBcIiArIHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwpO1xuICAgIH1cblxuICAgIC8vIGdlc3Rpb24gZHUgdHlwZSBkZSBzZXJ2aWNlXG4gICAgLy8gc2kgbCdleHRlbnNpb24gZGUgbCd1cmwgZXN0IC5qc29uIG91IC54bWwsIG9uIHN1cmNoYXJnZSBsZSBmb3JtYXQgZGUgc29ydGllIChvdXRwdXRGb3JtYXQpXG4gICAgdmFyIGlkeCA9IHRoaXMub3B0aW9ucy5zZXJ2ZXJVcmwubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSB0aGlzLm9wdGlvbnMuc2VydmVyVXJsLnN1YnN0cmluZyhpZHggKyAxKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbiAmJiBleHRlbnNpb24ubGVuZ3RoIDwgNSkgeyAvLyBGSVhNRSBleHRlbnNpb24gZGUgbW9pbnMgZGUgNCBjYXIuIC4uLlxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJTZXJ2ZXVyIEV4dGVuc2lvbiBVUkwgOiBcIiArIGV4dGVuc2lvbik7XG4gICAgICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwieG1sXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vdXRwdXRGb3JtYXQgPSBleHRlbnNpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHlwZSBvZiBzZXJ2aWNlIDogdW5rbm93biBvciB1bnN1cHBvcnRlZCAoanNvbiBvciB4bWwpICFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxlbmRzIG1vZHVsZTpSb3V0ZSNcbiAqL1xuUm91dGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21tb25TZXJ2aWNlLnByb3RvdHlwZSwge1xuICAgIC8vIHRvZG9cbiAgICAvLyBnZXR0ZXIvc2V0dGVyXG59KTtcblxuLypcbiAqIENvbnN0cnVjdGV1ciAoYWxpYXMpXG4gKi9cblJvdXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJvdXRlO1xuXG4vKipcbiAqIChvdmVyd3JpdGUpXG4gKiBDcsOpYXRpb24gZGUgbGEgcmVxdcOqdGVcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAgIC0gY2FsbGJhY2sgZGVzIGVycmV1cnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3MgLSBjYWxsYmFja1xuICovXG5Sb3V0ZS5wcm90b3R5cGUuYnVpbGRSZXF1ZXN0ID0gZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIC8vIHNww6ljaWZpcXVlIGF1IHNlcnZpY2VcbiAgICAgICAgYXBpIDogdGhpcy5vcHRpb25zLmFwaSxcbiAgICAgICAgc3RhcnRQb2ludCA6IHRoaXMub3B0aW9ucy5zdGFydFBvaW50LFxuICAgICAgICBlbmRQb2ludCA6IHRoaXMub3B0aW9ucy5lbmRQb2ludCxcbiAgICAgICAgdmlhUG9pbnRzIDogdGhpcy5vcHRpb25zLnZpYVBvaW50cyxcbiAgICAgICAgcHJvdmlkZUJib3ggOiB0aGlzLm9wdGlvbnMucHJvdmlkZUJib3gsXG4gICAgICAgIGV4Y2x1c2lvbnMgOiB0aGlzLm9wdGlvbnMuZXhjbHVzaW9ucyxcbiAgICAgICAgZGlzdGFuY2VVbml0IDogdGhpcy5vcHRpb25zLmRpc3RhbmNlVW5pdCxcbiAgICAgICAgZ3JhcGggOiB0aGlzLm9wdGlvbnMuZ3JhcGgsXG4gICAgICAgIGdlb21ldHJ5SW5JbnN0cnVjdGlvbnMgOiB0aGlzLm9wdGlvbnMuZ2VvbWV0cnlJbkluc3RydWN0aW9ucyxcbiAgICAgICAgcm91dGVQcmVmZXJlbmNlIDogdGhpcy5vcHRpb25zLnJvdXRlUHJlZmVyZW5jZSxcbiAgICAgICAgc3JzIDogdGhpcy5vcHRpb25zLnNyc1xuICAgIH07XG5cbiAgICB0aGlzLnJlcXVlc3QgPSBSb3V0ZVJlcXVlc3RGYWN0b3J5LmJ1aWxkKG9wdGlvbnMpO1xuXG4gICAgLy8gb24gdGVzdGUgc2kgbGEgcmVxdWV0ZSBhIGJpZW4gw6l0w6kgY29uc3RydWl0ZSAhXG4gICAgaWYgKCF0aGlzLnJlcXVlc3QpIHtcbiAgICAgICAgZXJyb3IuY2FsbCh0aGlzLCBuZXcgRXJyb3JTZXJ2aWNlKF8uZ2V0TWVzc2FnZShcIlNFUlZJQ0VfUkVRVUVTVF9CVUlMRFwiKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN1Y2Nlc3MuY2FsbCh0aGlzLCB0aGlzLnJlcXVlc3QpO1xuICAgIH1cbn07XG5cbi8qKlxuICogKG92ZXJ3cml0ZSlcbiAqIEFuYWx5c2UgZGUgbGEgcmVwb25zZVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yICAgLSBjYWxsYmFjayBkZXMgZXJyZXVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyAtIGNhbGxiYWNrXG4gKi9cblJvdXRlLnByb3RvdHlwZS5hbmFseXplUmVzcG9uc2UgPSBmdW5jdGlvbiAoZXJyb3IsIHN1Y2Nlc3MpIHtcbiAgICAvLyBJTkZPXG4gICAgLy8gRmFjdG9yeSBwb3VyIG1hc3F1ZXIgbGEgY29tcGxleGl0w6kgZHUgcmV0b3VyIGR1IHNlcnZpY2UgcXVpIHJlbnZvaWUgc29pdFxuICAgIC8vICAtIHVuZSAnc3RyaW5nJyBxdWkgY29udGllbnQgZHUgWE1MIG91IEpTT04gbmF0aWYgZW4gbW9kZSBYSFJcbiAgICAvLyAgLSB1biBvYmpldCBKU09OIHF1aSBlc3QgbmF0aWYgb3UgZW5jYXBzdWzDqVxuXG4gICAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBkaXN0YW5jZVVuaXQgOiB0aGlzLm9wdGlvbnMuZGlzdGFuY2VVbml0LCAvLyBGSVhNRSBjZSBwYXJhbWV0cmUgbm91cyBwZXJtZXQgZGUgY2hvaXNpciBsZSB0eXBlIGQndW5pdMOpIGRhbnMgbGEgcmVwb25zZSAhXG4gICAgICAgICAgICByZXNwb25zZSA6IHRoaXMucmVzcG9uc2UsXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXQgOiB0aGlzLm9wdGlvbnMub3V0cHV0Rm9ybWF0LCAvLyB1dGlsZSBwb3VyIHBhcnNlciBsYSBzdHJpbmcgZW4gbW9kZSBYSFIgOiBKU09OIG91IFhNTCAhXG4gICAgICAgICAgICBhcGkgOiB0aGlzLm9wdGlvbnMuYXBpLCAvLyB1dGlsZSBkZSBjb25uYWl0cmUgbGUgdHlwZSBkJ0FQSSBjYXIgbGEgcmVwb25zZSBlc3QgZGlmZmVyZW50ZSAhXG4gICAgICAgICAgICByYXdSZXNwb25zZSA6IHRoaXMub3B0aW9ucy5yYXdSZXNwb25zZSxcbiAgICAgICAgICAgIG9uRXJyb3IgOiBlcnJvcixcbiAgICAgICAgICAgIG9uU3VjY2VzcyA6IHN1Y2Nlc3MsXG4gICAgICAgICAgICBzY29wZSA6IHRoaXNcbiAgICAgICAgfTtcblxuICAgICAgICBSb3V0ZVJlc3BvbnNlRmFjdG9yeS5idWlsZChvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvci5jYWxsKHRoaXMsIG5ldyBFcnJvclNlcnZpY2UoXy5nZXRNZXNzYWdlKFwiU0VSVklDRV9SRVNQT05TRV9FTVBUWVwiKSkpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Route/Route.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Services/Services.js":
/*!********************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Services/Services.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Alti_Alti__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Alti/Alti */ \"./node_modules/geoportal-access-lib/src/Services/Alti/Alti.js\");\n/* harmony import */ var _AutoConf_AutoConf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AutoConf/AutoConf */ \"./node_modules/geoportal-access-lib/src/Services/AutoConf/AutoConf.js\");\n/* harmony import */ var _Geocode_Geocode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Geocode/Geocode */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/Geocode.js\");\n/* harmony import */ var _Geocode_ReverseGeocode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Geocode/ReverseGeocode */ \"./node_modules/geoportal-access-lib/src/Services/Geocode/ReverseGeocode.js\");\n/* harmony import */ var _AutoComplete_AutoComplete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AutoComplete/AutoComplete */ \"./node_modules/geoportal-access-lib/src/Services/AutoComplete/AutoComplete.js\");\n/* harmony import */ var _Route_Route__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Route/Route */ \"./node_modules/geoportal-access-lib/src/Services/Route/Route.js\");\n/* harmony import */ var _ProcessIsoCurve_ProcessIsoCurve__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ProcessIsoCurve/ProcessIsoCurve */ \"./node_modules/geoportal-access-lib/src/Services/ProcessIsoCurve/ProcessIsoCurve.js\");\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"point|circle|bbox\" }] */\n\n/**\n* Geoportal web services invocation namespace.\n*\n* @module Services\n* @alias Gp.Services\n*/\n\n\n\n\n\n\n\n\nvar Services = {\n    /**\n     * Access to Geoportal resources metadata availables with one ore several keys, using [Auto-configuration service]{@link https://wxs.ign.fr/APIKEY/autoconf} of the Geoportal platform.\n     *\n     * @method getConfig\n     * @param {Object} options - Options for function call.\n     * @param {String} options.apiKey - Access key to Geoportal platform, obtained [here]{@link http://professionnels.ign.fr/ign/contrats}.\n     * @param {Function} options.onSuccess - Callback function for getting successful service response. Takes a {@link Gp.Services.GetConfigResponse} object as a parameter except if \"rawResponse\" parameter is set to true : a String will be returned.\n     * @param {Function} [options.onFailure] - Callback function for handling unsuccessful service responses (timeOut, missing rights, ...). Takes a {@link Gp.Error} object as parameter.\n     * @param {Number} [options.timeOut=0] - Number of milliseconds above which a timeOut response will be returned with onFailure callback (see above). Default value is 0 which means timeOut will not be handled.\n     * @param {String} [options.serverUrl=http (s)://wxs.ign.fr/APIKEY/autoconf] - Web service URL. If used, options.apiKey parameter is ignored. Only use if you know what you're doing.\n     * @param {Boolean} [options.ssl = true] - Use of HTTPS or HTTP protocol to request the services. HTTPS by default (ssl=true).\n     * @param {String} [options.protocol=JSONP] - Protocol used to handle dialog with web service. Possible values are 'JSONP' ({@link https://en.wikipedia.org/wiki/JSONP}) and 'XHR' ({@link https://en.wikipedia.org/wiki/XMLHttpRequest}). Only XHR protocol is supported in a NodeJS environment. Only use if you know what you're doing.\n     * @param {String} [options.proxyURL] - Proxy URL to use when requesting an underlying web service. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you're doing.\n     * @param {String} [options.callbackSuffix] - Callback function name suffix to use in case of a JSONP protocol use (see above), to set your own suffix instead of auto-increment. Ignored when options.protocol is set to 'XHR' value. Only use if you know what you're doing.\n     * @param {String} [options.httpMethod=GET] - HTTP method to use when requesting underlying web service in case of a XHR protocol use (see above). Possible values are 'GET' and 'POST'. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {String} [options.contentType=\"application/xml\"] - Content-Type to use when requesting underlying web service in case of a XHR protocol use (see above) and if method HTTP is POST. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {Boolean} [options.rawResponse=false] - Setting this parameter to true implies you want to handle the service response by yourself : it will be returned as an unparsed String in onSuccess callback parameter. Only use if you know what you are doing.\n     * @param {Function} [options.onBeforeParse] - Callback function for handling service response before parsing (as an unparsed String). Takes a String as a parameter (the raw service response). Returns a String that will be parsed as the service response. Only use if you know what you are doing.\n     */\n    getConfig : function (options) {\n        var autoconfService = new _AutoConf_AutoConf__WEBPACK_IMPORTED_MODULE_1__[\"default\"](options);\n        autoconfService.call();\n    },\n\n    /**\n     * Getting elevations in or along of one or several points on french territories using the [elevation services of the Geoportal Platform]{@link https://geoservices.ign.fr/documentation/geoservices/alti.html}.<br/>\n     * Two use cases are availables :<br/>\n     * 1. getting elevations of the given points : don't use the options.sampling parameter ;<br/>\n     * 2. getting a regular set of elevations along the given points : use the options.sampling parameter.\n     *\n     * @method getAltitude\n     * @param {Object} options - Options for function call.\n     * @param {String} options.apiKey - Access key to Geoportal platform, obtained [here]{@link http://professionnels.ign.fr/ign/contrats}.\n     * @param {Array.<Object>} options.positions - Array of positions ({lon:float, lat:float}) expressed in CRS:84 coordinates system, where to get elevations. 50 positions maximum may be given. 2 positions minimum are required if you use the options.sampling parameter.\n     * @param {Number} [options.sampling] - Number of points to use (between 2 and 5000) in order to compute an elevation path. The points given with the options.positions parameter are used to fix the planimetric path along which the elevations will be computed.<br/>\n     * If not used, only elevations of these positions will be returned.\n     * @param {Boolean} [options.zonly=false] - Set this parameter to true if you only want to have elevations returned without corresponding coordinates.\n     * @param {Function} options.onSuccess - Callback function for getting successful service response. Takes a {@link Gp.Services.AltiResponse} object as a parameter, except if \"rawResponse\" is set to true.\n     * @param {Function} [options.onFailure] - Callback function for handling unsuccessful service responses (timeOut, missing rights, ...). Takes a {@link Gp.Error} object as parameter.\n     * @param {Number} [options.timeOut=0] - Number of milliseconds above which a timeOut response will be returned with onFailure callback (see above). Default value is 0 which means timeOut will not be handled.\n     * @param {String} [options.serverUrl=http (s)://wxs.ign.fr/APIKEY/alti/rest/elevation.json] - Web service URL. If used, options.apiKey parameter is ignored. Only use if you know what you're doing.\n     * @param {Boolean} [options.ssl = true] - Use of HTTPS or HTTP protocol to request the services. HTTPS by default (ssl=true).\n     * @param {String} [options.protocol=XHR] - Protocol used to handle dialog with web service. Possible values are 'JSONP' ({@link https://en.wikipedia.org/wiki/JSONP}) and 'XHR' ({@link https://en.wikipedia.org/wiki/XMLHttpRequest}). Only XHR protocol is supported in a NodeJS environment. Only use if you know what you're doing.\n     * @param {String} [options.proxyURL] - Proxy URL to use when requesting underlying web service. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you're doing.\n     * @param {String} [options.callbackSuffix] - Callback function name suffix to use in case of a JSONP protocol use (see above), to set your own suffix instead of auto-increment. Ignored when options.protocol is set to 'XHR' value. Only use if you know what you're doing.\n     * @param {String} [options.httpMethod=GET] - HTTP method to use when requesting underlying web service in case of a XHR protocol use (see above). Possible values are 'GET' and 'POST'. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {String} [options.contentType=\"application/xml\"] - Content-Type to use when requesting underlying web service in case of a XHR protocol use (see above) and if method HTTP is POST. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {Boolean} [options.rawResponse=false] - Setting this parameter to true implies you want to handle the service response by yourself : it will be returned as an unparsed String in onSuccess callback parameter. Only use if you know what you are doing.\n     * @param {Function} [options.onBeforeParse] - Callback function for handling service response before parsing (as an unparsed String). Takes a String as a parameter (the raw service response). Returns a String that will be parsed as the service response. Only use if you know what you are doing.\n     * @param {String} [options.api='REST'] - What API to use for interacting with underlying web service : 'REST' or 'WPS'. Only use if you know what you are doing.\n     * @param {String} [options.outputFormat='xml'] - Output format for underlying web service response : 'xml' or 'json'. Only use if you know what you are doing.\n     */\n    getAltitude : function (options) {\n        var altiService = new _Alti_Alti__WEBPACK_IMPORTED_MODULE_0__[\"default\"](options);\n        altiService.call();\n    },\n    /**\n     * Getting positon of a geographic identifier (places names, address, cadastral parcel, other...) using the [geocoding web service of the Geoportal Platform]{@link https://geoservices.ign.fr/documentation/geoservices/geocodage.html}.\n     *\n     * @example\n     * Gp.Services.geocode ({\n     *     apiKey : \"jhyvi0fgmnuxvfv0zjzorvdn\",\n     *     location : \"73 avenue de Paris, Saint-Mandé\",\n     *     // traitement des resultats\n     *     onSuccess  : function (result) {\n     *         console.log(\"found (x:\"+result.position.x+\", y:\"+result.position.y+\")\") ;\n     *     }\n     * }) ;\n     *\n     *\n     * @method geocode\n     * @param {Object} options - Options for function call.\n     * @param {String} options.apiKey - Access key to Geoportal platform, obtained [here]{@link http://professionnels.ign.fr/ign/contrats}.\n     * @param {String|Object} options.location - Geographic identifier to locate. May be provided as a single String or a structured Object for an address search. In this last case, the following properties are availaibles.\n     *      @param {Number} [options.location.number] - Street number.\n     *      @param {String} [options.location.street] - Street name.\n     *      @param {String} [options.location.city] - City name.\n     *      @param {Number} [options.location.postalCode] - Postal Code\n     * @param {Object} [options.filterOptions] - Additional filters to apply to search. The following properties may be given.\n     *      @param {Gp.BBox} [options.filterOptions.bbox] - Bounding box where to perform the search. Properties expressed in options.srs coordinates system.\n     *      @param {Array.<String>} [options.filterOptions.type] - Geographical identifier types to search. Values currently availables are : \"PositionOfInterest\" for place names, \"StreetAddress\" for address search, \"CadastralParcel\" for Cadastral parcels search. Default is \"StreetAddress\".\n     *\n     *      @param {String} [options.filterOptions.[prop]] - Additionnal properties to filter search. Properties depends on options.filterOptions.type, and values type should be \"String\".\n     *      <br/><br/>\n     *      Common Properties availables for all search types :<br/>\n     *      \"municipality\", \"insee\", \"department\".\n     *      <br/><br/>\n     *      Properties availables for address search :<br/>\n     *      \"quality\", \"ID\", \"ID_TR\" and \"territory\".\n     *      <br/><br/>\n     *      Properties availables for place names search :<br/>\n     *      \"importance\", \"nature\" and \"territory\".\n     *      <br/><br/>\n     *      Properties availables for cadastral parcels search :<br/>\n     *      \"sheet\", \"section\", and \"absorbedcity\".\n     * @param {Number} [options.maximumResponses = 25] - Maximum number of responses. Default underlying service value applies (25) if not provided.\n     * @param {Boolean} [options.returnFreeForm = false] - Set this parameter to true if you wish to have an address returned in a single String (unstructured). If unset, default underlying service value (false) applies.\n     * @param {String} [options.srs = EPSG:4326] - Coordinates System used to expres coordinates for parameters and responses. Default underlying service value (EPSG:4326) applies.\n     * @param {Function} options.onSuccess - Callback function for getting successful service response. Takes a {@link Gp.Services.GeocodeResponse} object as a parameter except if \"rawResponse\" is set to true.\n     * @param {Function} [options.onFailure] - Callback function for handling unsuccessful service responses (timeOut, missing rights, ...). Takes a {@link Gp.Error} object as parameter.\n     * @param {Number} [options.timeOut=0] - Number of milliseconds above which a timeOut response will be returned with onFailure callback (see above). Default value is 0 which means timeOut will not be handled.\n     * @param {String} [options.serverUrl=http (s)://wxs.ign.fr/APIKEY/geoportail/ols] - Web service URL. If used, options.apiKey parameter is ignored. Only use if you know what you're doing.\n     * @param {Boolean} [options.ssl = true] - Use of HTTPS or HTTP protocol to request the services. HTTPS by default (ssl=true).\n     * @param {String} [options.protocol=XHR] - Protocol used to handle dialog with web service. Possible values are 'JSONP' ({@link https://en.wikipedia.org/wiki/JSONP}) and 'XHR' ({@link https://en.wikipedia.org/wiki/XMLHttpRequest}). Only XHR protocol is supported in a NodeJS environment. Only use if you know what you're doing.\n     * @param {String} [options.proxyURL] - Proxy URL to use when requesting underlying web service. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you're doing.\n     * @param {String} [options.callbackSuffix] - Callback function name suffix to use in case of a JSONP protocol use (see above), to set your own suffix instead of auto-increment. Ignored when options.protocol is set to 'XHR' value. Only use if you know what you're doing.\n     * @param {String} [options.httpMethod=GET] - HTTP method to use when requesting underlying web service in case of a XHR protocol use (see above). Possible values are 'GET' and 'POST'. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {String} [options.contentType=\"application/xml\"] - Content-Type to use when requesting underlying web service in case of a XHR protocol use (see above) and if method HTTP is POST. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {Boolean} [options.rawResponse=false] - Setting this parameter to true implies you want to handle the service response by yourself : it will be returned as an unparsed String in onSuccess callback parameter. Only use if you know what you are doing.\n     * @param {Function} [options.onBeforeParse] - Callback function for handling service response before parsing (as an unparsed String). Takes a String as a parameter (the raw service response). Returns a String that will be parsed as the service response. Only use if you know what you are doing.\n     */\n    geocode : function (options) {\n        var geocodeService = new _Geocode_Geocode__WEBPACK_IMPORTED_MODULE_2__[\"default\"](options);\n        geocodeService.call();\n    },\n    /**\n     * Retrieving geographical identifiers (place names, address, cadastral parcels, ...) near a given position, using the [reverse geocoding web service of the Geoportal Platform]{@link https://geoservices.ign.fr/documentation/geoservices/geocodage-inverse.html}.\n     *\n     * @method reverseGeocode\n     * @param {Object} options - Options for function call.\n     * @param {String} options.apiKey - Access key to Geoportal platform, obtained [here]{@link http://professionnels.ign.fr/ign/contrats}.\n     * @param {Gp.Point} options.position - Reference position where to search geographical identifiers. Its coordinates are expressed in the coordinates system given with options.srs parameter. (default is CRS:84, that means position.x is the longitude and position.y the latitude)\n     * @param {Object} [options.filterOptions] - Additional filters to apply to search. The following properties may be given.\n     *      @param {Array.<String>} [options.filterOptions.type] - Geographical identifier types to search. Values currently availables are : \"PositionOfInterest\" for place names, \"StreetAddress\" for address search, \"CadastralParcel\" for Cadastral parcels search. Default is \"StreetAddress\".\n     *      @param {Gp.BBox} [options.filterOptions.bbox] - Bounding box where to perform the search. Expressed in options.srs coordinates system.\n     *      @param {Gp.Circle} [options.filterOptions.circle] - Circle where to perform the search. Expressed in options.srs coordinates system.\n     * @param {Array.<Gp.Point>} [options.filterOptions.polygon] - Polygon where to perform the search. Expressed in options.srs coordinates system.\n     * @param {Number} [options.maximumResponses] - Maximum number of responses. Default underlying service value applies (25) if not provided.\n     * @param {Boolean} [options.returnFreeForm = false] - Set this parameter to true if you wish to have an address returned in a single String (unstructured). If unset, default underlying service value (false) applies.\n     * @param {String} [options.srs = CRS:84] - Coordinates System used to express coordinates for parameters and responses. Only WGS 84 geographical positioning is supported. Therefore, two values are allowed : \"CRS:84\" (position.x is the longitude and position.y the latitude) and \"EPSG:4326\" (position.x is the latitude and position.y the longitude) . Default is CRS:84.\n     * @param {Function} options.onSuccess - Callback function for getting successful service response. Takes a {@link Gp.Services.GeocodeResponse} object as a parameter except if \"rawResponse\" is set to true.\n     * @param {Function} [options.onFailure] - Callback function for handling unsuccessful service responses (timeOut, missing rights, ...). Takes a {@link Gp.Error} object as parameter.\n     * @param {Number} [options.timeOut=0] - Number of milliseconds above which a timeOut response will be returned with onFailure callback (see above). Default value is 0 which means timeOut will not be handled.\n     * @param {String} [options.serverUrl=http (s)://wxs.ign.fr/APIKEY/geoportail/ols] - Web service URL. If used, options.apiKey parameter is ignored. Only use if you know what you're doing.\n     * @param {Boolean} [options.ssl = true] - Use of HTTPS or HTTP protocol to request the services. HTTPS by default (ssl=true).\n     * @param {String} [options.protocol=XHR] - Protocol used to handle dialog with web service. Possible values are 'JSONP' ({@link https://en.wikipedia.org/wiki/JSONP}) and 'XHR' ({@link https://en.wikipedia.org/wiki/XMLHttpRequest}). Only XHR protocol is supported in a NodeJS environment. Only use if you know what you're doing.\n     * @param {String} [options.proxyURL] - Proxy URL to use when requesting underlying web service. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you're doing.\n     * @param {String} [options.callbackSuffix] - Callback function name suffix to use in case of a JSONP protocol use (see above), to set your own suffix instead of auto-increment. Ignored when options.protocol is set to 'XHR' value. Only use if you know what you're doing.\n     * @param {String} [options.httpMethod=GET] - HTTP method to use when requesting underlying web service in case of a XHR protocol use (see above). Possible values are 'GET' and 'POST'. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {String} [options.contentType=\"application/xml\"] - Content-Type to use when requesting underlying web service in case of a XHR protocol use (see above) and if method HTTP is POST. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {Boolean} [options.rawResponse=false] - Setting this parameter to true implies you want to handle the service response by yourself : it will be returned as an unparsed String in onSuccess callback parameter. Only use if you know what you are doing.\n     * @param {Function} [options.onBeforeParse] - Callback function for handling service response before parsing (as an unparsed String). Takes a String as a parameter (the raw service response). Returns a String that will be parsed as the service response. Only use if you know what you are doing.\n     */\n    reverseGeocode : function (options) {\n        var reverseGeocodeService = new _Geocode_ReverseGeocode__WEBPACK_IMPORTED_MODULE_3__[\"default\"](options);\n        reverseGeocodeService.call();\n    },\n    /**\n     * Getting suggestions of probable places names or address based on uncomplete texts, using the [autocompletion service of the Geoportal Platform]{@link https://geoservices.ign.fr/documentation/geoservices/autocompletion.html}\n     *\n     * @method autoComplete\n     * @param {Object} options - Options for function call.\n     * @param {String} options.apiKey - Access key to Geoportal platform, obtained [here]{@link http://professionnels.ign.fr/ign/contrats}.\n     * @param {String} options.text - Text input to complete.\n     * @param {Array.<String>} [options.filterOptions.type = \"StreetAddress\"] - Suggestion types to provide : address (\"StreetAddress\") and/or place name (\"PositionOfInterest\").\n     * @param {Array.<String>} [options.filterOptions.territory] - Places where to limit the search of suggestions : \"METROPOLE\" (Corsica and metropolitan France), \"DOMTOM\" (French overseas departments and territories), or an INSEE code of a department. No limitation by default. For instance : ['METROPOLE', '31']\n     * @param {Number} [options.maximumResponses = 10] - Maximum number of responses.\n     * @param {Function} options.onSuccess - Callback function for getting successful service response. Takes a {@link Gp.Services.AutoCompleteResponse} object as a parameter except if \"rawResponse\" is set to true.\n     * @param {Function} [options.onFailure] - Callback function for handling unsuccessful service responses (timeOut, missing rights, ...). Takes a {@link Gp.Error} object as parameter.\n     * @param {Number} [options.timeOut=0] - Number of milliseconds above which a timeOut response will be returned with onFailure callback (see above). Default value is 0 which means timeOut will not be handled.\n     * @param {String} [options.serverUrl=http (s)://wxs.ign.fr/APIKEY/ols/apis/completion] - Web service URL. If used, options.apiKey parameter is ignored. Only use if you know what you're doing.\n     * @param {Boolean} [options.ssl = true] - Use of HTTPS or HTTP protocol to request the services. HTTPS by default (ssl=true).\n     * @param {String} [options.protocol=XHR] - Protocol used to handle dialog with web service. Possible values are 'JSONP' ({@link https://en.wikipedia.org/wiki/JSONP}) and 'XHR' ({@link https://en.wikipedia.org/wiki/XMLHttpRequest}). Only XHR protocol is supported in a NodeJS environment. Only use if you know what you're doing.\n     * @param {String} [options.proxyURL] - Proxy URL to use when requesting underlying web service. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you're doing.\n     * @param {String} [options.callbackSuffix] - Callback function name suffix to use in case of a JSONP protocol use (see above), to set your own suffix instead of auto-increment. Ignored when options.protocol is set to 'XHR' value. Only use if you know what you're doing.\n     * @param {String} [options.httpMethod=GET] - HTTP method to use when requesting underlying web service in case of a XHR protocol use (see above). Possible values are 'GET' and 'POST'. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {String} [options.contentType=\"application/xml\"] - Content-Type to use when requesting underlying web service in case of a XHR protocol use (see above) and if method HTTP is POST. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {Boolean} [options.rawResponse=false] - Setting this parameter to true implies you want to handle the service response by yourself : it will be returned as an unparsed String in onSuccess callback parameter. Only use if you know what you are doing.\n     * @param {Function} [options.onBeforeParse] - Callback function for handling service response before parsing (as an unparsed String). Takes a String as a parameter (the raw service response). Returns a String that will be parsed as the service response. Only use if you know what you are doing.\n     */\n    autoComplete : function (options) {\n        var autoCompleteService = new _AutoComplete_AutoComplete__WEBPACK_IMPORTED_MODULE_4__[\"default\"](options);\n        autoCompleteService.call();\n    },\n    /**\n     * Getting a route from one point to another using the [route service of the Geoportal Platform]{@link https://geoservices.ign.fr/documentation/geoservices/itineraires.html}.\n     *\n     * @method route\n     * @param {Object} options - Options for function call.\n     * @param {String} options.apiKey - Access key to Geoportal platform, obtained [here]{@link http://professionnels.ign.fr/ign/contrats}.\n     * @param {String} [options.routePreference = \"fastest\"] - Indicates the way to compute the route : \"fastest\" (time optimisation) or \"shortest\" (distance optimisation).\n     * @param {Gp.Point} options.startPoint - Start point of the route. Expressed in CRS:84 coordinates system (startPoint.x corresponds to longitude, startPoint.y corresponds to latitude).\n     * @param {Gp.Point} options.endPoint - End point of the route. Expressed in CRS:84 coordinates system (endPoint.x corresponds to longitude, endPoint.y corresponds to latitude).\n     * @param {Array.<Gp.Point>} [options.viaPoints] - Ordered via Points of the route. Expressed in CRS:84 coordinates system (viaPoints[i].x corresponds to longitude, viaPoints[i].y corresponds to latitude).\n     * @param {String} [options.graph = \"Voiture\"] - User profile to use to compute the route : \"Voiture\" (using a vehicule) or \"Pieton\" (pedestrian). Has an influence on the kind of roads the route may use and the average speed.\n     * @param {Array.<String>} [options.exclusions] - Indicates if route has to avoid some features (\"toll\", \"bridge\" or \"tunnel\").\n     * @param {Boolean} [options.geometryInInstructions = false] - Indicates if route geometry has to be also returned with route instructions.\n     * @param {Boolean} [options.provideBoundingBox = true] - Indicates if route instructions has to be localised with a BBOX in the response.\n     * @param {String} [options.distanceUnit = \"km\"] - The unit used to provide distances in the response (\"m\" or \"km\").\n     * @param {Function} options.onSuccess - Callback function for getting successful service response. Takes a {@link Gp.Services.RouteResponse} object as a parameter except if \"rawResponse\" is set to true.\n     * @param {Function} [options.onFailure] - Callback function for handling unsuccessful service responses (timeOut, missing rights, ...). Takes a {@link Gp.Error} object as parameter.\n     * @param {Number} [options.timeOut=0] - Number of milliseconds above which a timeOut response will be returned with onFailure callback (see above). Default value is 0 which means timeOut will not be handled.\n     * @param {String} [options.outputFormat='json'] - Output format (\"json\" or \"xml\") to use for underlying webService. Only use if you know what you are doing.\n     * @param {String} [options.serverUrl=http (s)://wxs.ign.fr/APIKEY/itineraire/rest/route.json] - Web service URL. If used, options.apiKey parameter is ignored. Only use if you know what you're doing.\n     * @param {Boolean} [options.ssl = true] - Use of HTTPS or HTTP protocol to request the services. HTTPS by default (ssl=true).\n     * @param {String} [options.protocol=XHR] - Protocol used to handle dialog with web service. Possible values are 'JSONP' ({@link https://en.wikipedia.org/wiki/JSONP}) and 'XHR' ({@link https://en.wikipedia.org/wiki/XMLHttpRequest}). Only XHR protocol is supported in a NodeJS environment. Only use if you know what you're doing.\n     * @param {String} [options.proxyURL] - Proxy URL to use when requesting underlying web service. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you're doing.\n     * @param {String} [options.callbackSuffix] - Callback function name suffix to use in case of a JSONP protocol use (see above), to set your own suffix instead of auto-increment. Ignored when options.protocol is set to 'XHR' value. Only use if you know what you're doing.\n     * @param {String} [options.httpMethod=GET] - HTTP method to use when requesting underlying web service in case of a XHR protocol use (see above). Possible values are 'GET' and 'POST'. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {String} [options.contentType=\"application/xml\"] - Content-Type to use when requesting underlying web service in case of a XHR protocol use (see above) and if method HTTP is POST. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {Boolean} [options.rawResponse=false] - Setting this parameter to true implies you want to handle the service response by yourself : it will be returned as an unparsed String in onSuccess callback parameter. Only use if you know what you are doing.\n     * @param {Function} [options.onBeforeParse] - Callback function for handling service response before parsing (as an unparsed String). Takes a String as a parameter (the raw service response). Returns a String that will be parsed as the service response. Only use if you know what you are doing.\n     */\n    route : function (options) {\n        var routeService = new _Route_Route__WEBPACK_IMPORTED_MODULE_5__[\"default\"](options);\n        routeService.call();\n    },\n    /**\n     * Computing a set of places (curve) reachable from a given point (or from where to start to reach a given point) within a time or distance constraint using the [isochrone service of the Geoportal Platform]{@link https://geoservices.ign.fr/documentation/geoservices/isochrones.html}.\n     *\n     * @method isoCurve\n     * @param {Object} options - Options for function call.\n     * @param {String} options.apiKey - Access key to Geoportal platform, obtained [here]{@link http://professionnels.ign.fr/ign/contrats}.\n     * @param {Gp.Point} options.position - Start or Arrival (options.reverse===true) Point for the computing. Expressed in CRS:84 coordinates system (position.x corresponds to longitude, position.y corresponds to latitude).\n     * @param {String} [options.graph = \"Voiture\"] - User profile to use to compute the isoCurve : \"Voiture\" (using a vehicule) or \"Pieton\" (pedestrian). Has an influence on the kind of roads to use and the average speed.\n     * @param {Array.<String>} [options.exclusions] - Indicates if route has to avoid some features (\"toll\", \"bridge\" or \"tunnel\").\n     * @param {String} [options.method = \"time\"] - Computing method to use : \"time\" (using a duration as a constraint) or \"distance\" (using a distance as a constraint).\n     * @param {Float} options.time - Maximum duration (expressed in seconds) to use when options.method is set to \"time\".\n     * @param {Float} options.distance - Maximum distance (expressed in meters) to use when options.method is set to \"distance\".\n     * @param {Boolean} [options.reverse = false] - Set this parameter to true if you want options.position to be the destination (instead of departure) for the computing.\n     * @param {Boolean} [options.smoothing = false] - Set this parameter to true if you want the resulting geometry to be smoothed.\n     * @param {Boolean} [options.holes = false] - Set this parameter to true if you want the resulting geometry (polygon) to have holes if pertinent.\n     * @param {Function} options.onSuccess - Callback function for getting successful service response. Takes a {@link Gp.Services.IsoCurveResponse} object as a parameter except if \"rawResponse\" is set to true.\n     * @param {Function} [options.onFailure] - Callback function for handling unsuccessful service responses (timeOut, missing rights, ...). Takes a {@link Gp.Error} object as parameter.\n     * @param {Number} [options.timeOut=0] - Number of milliseconds above which a timeOut response will be returned with onFailure callback (see above). Default value is 0 which means timeOut will not be handled.\n     * @param {String} [options.outputFormat='json'] - Output format (\"json\" or \"xml\") to use for underlying webService. Only use if you know what you are doing.\n     * @param {String} [options.serverUrl=http (s)://wxs.ign.fr/APIKEY/isochrone/isochrone.json] - Web service URL. If used, options.apiKey parameter is ignored. Only use if you know what you're doing.\n     * @param {Boolean} [options.ssl = true] - Use of HTTPS or HTTP protocol to request the services. HTTPS by default (ssl=true).\n     * @param {String} [options.protocol=XHR] - Protocol used to handle dialog with web service. Possible values are 'JSONP' ({@link https://en.wikipedia.org/wiki/JSONP}) and 'XHR' ({@link https://en.wikipedia.org/wiki/XMLHttpRequest}). Only XHR protocol is supported in a NodeJS environment. Only use if you know what you're doing.\n     * @param {String} [options.proxyURL] - Proxy URL to use when requesting underlying web service. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you're doing.\n     * @param {String} [options.callbackSuffix] - Callback function name suffix to use in case of a JSONP protocol use (see above), to set your own suffix instead of auto-increment. Ignored when options.protocol is set to 'XHR' value. Only use if you know what you're doing.\n     * @param {String} [options.httpMethod=GET] - HTTP method to use when requesting underlying web service in case of a XHR protocol use (see above). Possible values are 'GET' and 'POST'. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {String} [options.contentType=\"application/xml\"] - Content-Type to use when requesting underlying web service in case of a XHR protocol use (see above) and if method HTTP is POST. Ignored when options.protocol is set to 'JSONP' value. Only use if you know what you are doing.\n     * @param {Boolean} [options.rawResponse=false] - Setting this parameter to true implies you want to handle the service response by yourself : it will be returned as an unparsed String in onSuccess callback parameter. Only use if you know what you are doing.\n     * @param {Function} [options.onBeforeParse] - Callback function for handling service response before parsing (as an unparsed String). Takes a String as a parameter (the raw service response). Returns a String that will be parsed as the service response. Only use if you know what you are doing.\n     */\n    isoCurve : function (options) {\n        var processIsoCurveService = new _ProcessIsoCurve_ProcessIsoCurve__WEBPACK_IMPORTED_MODULE_6__[\"default\"](options);\n        processIsoCurveService.call();\n    }\n};\n\n/**\n * Point object.\n *\n * @namespace\n * @alias Gp.Point\n *\n * @property {Float} x - Point abscissa\n * @property {Float} y - Point ordinate\n */\nvar point = {};\n\n/**\n * Circle object.\n *\n * @namespace\n * @alias Gp.Circle\n *\n * @property {Float} x - Circle center abscissa.\n * @property {Float} y - Circle center ordinate.\n * @property {Float} radius - Circle radius.\n */\nvar circle = {};\n\n/**\n * Bounding box object, expressed with four coordinates.\n *\n * @namespace\n * @alias Gp.BBox\n *\n * @property {Float} left - minimum abscissa\n * @property {Float} right - maximum abscissa\n * @property {Float} bottom - minimum ordinate\n * @property {Float} top - maximum ordinate\n */\nvar bbox = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Services);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvU2VydmljZXMvU2VydmljZXMuanM/YmMwOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUNBQXFDLDJDQUEyQzs7QUFFaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ1k7QUFDSDtBQUNjO0FBQ0M7QUFDckI7QUFDOEI7O0FBRWhFO0FBQ0E7QUFDQSx1SEFBdUgseUNBQXlDO0FBQ2hLO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPLG9FQUFvRSxnREFBZ0Q7QUFDMUksZUFBZSxTQUFTLHlGQUF5RixvQ0FBb0M7QUFDckosZUFBZSxTQUFTLDhIQUE4SCxlQUFlO0FBQ3JLLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTywyR0FBMkcsMENBQTBDLGNBQWMsbURBQW1EO0FBQzVPLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxrQ0FBa0MsMERBQVE7QUFDMUM7QUFDQSxLQUFLOztBQUVMO0FBQ0EsOElBQThJLHFFQUFxRTtBQUNuTjtBQUNBLDZGQUE2RjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPLG9FQUFvRSxnREFBZ0Q7QUFDMUksZUFBZSxlQUFlLDBDQUEwQyxxQkFBcUI7QUFDN0YsZUFBZSxPQUFPO0FBQ3RCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUyx5RkFBeUYsK0JBQStCO0FBQ2hKLGVBQWUsU0FBUyw4SEFBOEgsZUFBZTtBQUNySyxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RC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TztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU8seUdBQXlHLDBDQUEwQyxjQUFjLG1EQUFtRDtBQUMxTyxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EseUNBQXlDLHdFQUFlO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEIsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsTUFBTTtBQUNwQixjQUFjLE1BQU07QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEIsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsTUFBTTtBQUNwQixjQUFjLE1BQU07QUFDcEI7QUFDQTs7QUFFZSx1RUFBUSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9TZXJ2aWNlcy9TZXJ2aWNlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNJZ25vcmVQYXR0ZXJuXCI6IFwicG9pbnR8Y2lyY2xlfGJib3hcIiB9XSAqL1xuXG4vKipcbiogR2VvcG9ydGFsIHdlYiBzZXJ2aWNlcyBpbnZvY2F0aW9uIG5hbWVzcGFjZS5cbipcbiogQG1vZHVsZSBTZXJ2aWNlc1xuKiBAYWxpYXMgR3AuU2VydmljZXNcbiovXG5pbXBvcnQgQWx0aSBmcm9tIFwiLi9BbHRpL0FsdGlcIjtcbmltcG9ydCBBdXRvQ29uZiBmcm9tIFwiLi9BdXRvQ29uZi9BdXRvQ29uZlwiO1xuaW1wb3J0IEdlb2NvZGUgZnJvbSBcIi4vR2VvY29kZS9HZW9jb2RlXCI7XG5pbXBvcnQgUmV2ZXJzZUdlb2NvZGUgZnJvbSBcIi4vR2VvY29kZS9SZXZlcnNlR2VvY29kZVwiO1xuaW1wb3J0IEF1dG9Db21wbGV0ZSBmcm9tIFwiLi9BdXRvQ29tcGxldGUvQXV0b0NvbXBsZXRlXCI7XG5pbXBvcnQgUm91dGUgZnJvbSBcIi4vUm91dGUvUm91dGVcIjtcbmltcG9ydCBQcm9jZXNzSXNvQ3VydmUgZnJvbSBcIi4vUHJvY2Vzc0lzb0N1cnZlL1Byb2Nlc3NJc29DdXJ2ZVwiO1xuXG52YXIgU2VydmljZXMgPSB7XG4gICAgLyoqXG4gICAgICogQWNjZXNzIHRvIEdlb3BvcnRhbCByZXNvdXJjZXMgbWV0YWRhdGEgYXZhaWxhYmxlcyB3aXRoIG9uZSBvcmUgc2V2ZXJhbCBrZXlzLCB1c2luZyBbQXV0by1jb25maWd1cmF0aW9uIHNlcnZpY2Vde0BsaW5rIGh0dHBzOi8vd3hzLmlnbi5mci9BUElLRVkvYXV0b2NvbmZ9IG9mIHRoZSBHZW9wb3J0YWwgcGxhdGZvcm0uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGdldENvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgZnVuY3Rpb24gY2FsbC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5hcGlLZXkgLSBBY2Nlc3Mga2V5IHRvIEdlb3BvcnRhbCBwbGF0Zm9ybSwgb2J0YWluZWQgW2hlcmVde0BsaW5rIGh0dHA6Ly9wcm9mZXNzaW9ubmVscy5pZ24uZnIvaWduL2NvbnRyYXRzfS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3VjY2VzcyAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZS4gVGFrZXMgYSB7QGxpbmsgR3AuU2VydmljZXMuR2V0Q29uZmlnUmVzcG9uc2V9IG9iamVjdCBhcyBhIHBhcmFtZXRlciBleGNlcHQgaWYgXCJyYXdSZXNwb25zZVwiIHBhcmFtZXRlciBpcyBzZXQgdG8gdHJ1ZSA6IGEgU3RyaW5nIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25GYWlsdXJlXSAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB1bnN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZXMgKHRpbWVPdXQsIG1pc3NpbmcgcmlnaHRzLCAuLi4pLiBUYWtlcyBhIHtAbGluayBHcC5FcnJvcn0gb2JqZWN0IGFzIHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGltZU91dD0wXSAtIE51bWJlciBvZiBtaWxsaXNlY29uZHMgYWJvdmUgd2hpY2ggYSB0aW1lT3V0IHJlc3BvbnNlIHdpbGwgYmUgcmV0dXJuZWQgd2l0aCBvbkZhaWx1cmUgY2FsbGJhY2sgKHNlZSBhYm92ZSkuIERlZmF1bHQgdmFsdWUgaXMgMCB3aGljaCBtZWFucyB0aW1lT3V0IHdpbGwgbm90IGJlIGhhbmRsZWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNlcnZlclVybD1odHRwIChzKTovL3d4cy5pZ24uZnIvQVBJS0VZL2F1dG9jb25mXSAtIFdlYiBzZXJ2aWNlIFVSTC4gSWYgdXNlZCwgb3B0aW9ucy5hcGlLZXkgcGFyYW1ldGVyIGlzIGlnbm9yZWQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3NsID0gdHJ1ZV0gLSBVc2Ugb2YgSFRUUFMgb3IgSFRUUCBwcm90b2NvbCB0byByZXF1ZXN0IHRoZSBzZXJ2aWNlcy4gSFRUUFMgYnkgZGVmYXVsdCAoc3NsPXRydWUpLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm90b2NvbD1KU09OUF0gLSBQcm90b2NvbCB1c2VkIHRvIGhhbmRsZSBkaWFsb2cgd2l0aCB3ZWIgc2VydmljZS4gUG9zc2libGUgdmFsdWVzIGFyZSAnSlNPTlAnICh7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlB9KSBhbmQgJ1hIUicgKHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9YTUxIdHRwUmVxdWVzdH0pLiBPbmx5IFhIUiBwcm90b2NvbCBpcyBzdXBwb3J0ZWQgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm94eVVSTF0gLSBQcm94eSBVUkwgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyBhbiB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNhbGxiYWNrU3VmZml4XSAtIENhbGxiYWNrIGZ1bmN0aW9uIG5hbWUgc3VmZml4IHRvIHVzZSBpbiBjYXNlIG9mIGEgSlNPTlAgcHJvdG9jb2wgdXNlIChzZWUgYWJvdmUpLCB0byBzZXQgeW91ciBvd24gc3VmZml4IGluc3RlYWQgb2YgYXV0by1pbmNyZW1lbnQuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnWEhSJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmh0dHBNZXRob2Q9R0VUXSAtIEhUVFAgbWV0aG9kIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdW5kZXJseWluZyB3ZWIgc2VydmljZSBpbiBjYXNlIG9mIGEgWEhSIHByb3RvY29sIHVzZSAoc2VlIGFib3ZlKS4gUG9zc2libGUgdmFsdWVzIGFyZSAnR0VUJyBhbmQgJ1BPU1QnLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3htbFwiXSAtIENvbnRlbnQtVHlwZSB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgaW4gY2FzZSBvZiBhIFhIUiBwcm90b2NvbCB1c2UgKHNlZSBhYm92ZSkgYW5kIGlmIG1ldGhvZCBIVFRQIGlzIFBPU1QuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnSlNPTlAnIHZhbHVlLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yYXdSZXNwb25zZT1mYWxzZV0gLSBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIHRydWUgaW1wbGllcyB5b3Ugd2FudCB0byBoYW5kbGUgdGhlIHNlcnZpY2UgcmVzcG9uc2UgYnkgeW91cnNlbGYgOiBpdCB3aWxsIGJlIHJldHVybmVkIGFzIGFuIHVucGFyc2VkIFN0cmluZyBpbiBvblN1Y2Nlc3MgY2FsbGJhY2sgcGFyYW1ldGVyLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25CZWZvcmVQYXJzZV0gLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgc2VydmljZSByZXNwb25zZSBiZWZvcmUgcGFyc2luZyAoYXMgYW4gdW5wYXJzZWQgU3RyaW5nKS4gVGFrZXMgYSBTdHJpbmcgYXMgYSBwYXJhbWV0ZXIgKHRoZSByYXcgc2VydmljZSByZXNwb25zZSkuIFJldHVybnMgYSBTdHJpbmcgdGhhdCB3aWxsIGJlIHBhcnNlZCBhcyB0aGUgc2VydmljZSByZXNwb25zZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqL1xuICAgIGdldENvbmZpZyA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBhdXRvY29uZlNlcnZpY2UgPSBuZXcgQXV0b0NvbmYob3B0aW9ucyk7XG4gICAgICAgIGF1dG9jb25mU2VydmljZS5jYWxsKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHRpbmcgZWxldmF0aW9ucyBpbiBvciBhbG9uZyBvZiBvbmUgb3Igc2V2ZXJhbCBwb2ludHMgb24gZnJlbmNoIHRlcnJpdG9yaWVzIHVzaW5nIHRoZSBbZWxldmF0aW9uIHNlcnZpY2VzIG9mIHRoZSBHZW9wb3J0YWwgUGxhdGZvcm1de0BsaW5rIGh0dHBzOi8vZ2Vvc2VydmljZXMuaWduLmZyL2RvY3VtZW50YXRpb24vZ2Vvc2VydmljZXMvYWx0aS5odG1sfS48YnIvPlxuICAgICAqIFR3byB1c2UgY2FzZXMgYXJlIGF2YWlsYWJsZXMgOjxici8+XG4gICAgICogMS4gZ2V0dGluZyBlbGV2YXRpb25zIG9mIHRoZSBnaXZlbiBwb2ludHMgOiBkb24ndCB1c2UgdGhlIG9wdGlvbnMuc2FtcGxpbmcgcGFyYW1ldGVyIDs8YnIvPlxuICAgICAqIDIuIGdldHRpbmcgYSByZWd1bGFyIHNldCBvZiBlbGV2YXRpb25zIGFsb25nIHRoZSBnaXZlbiBwb2ludHMgOiB1c2UgdGhlIG9wdGlvbnMuc2FtcGxpbmcgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBnZXRBbHRpdHVkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgZnVuY3Rpb24gY2FsbC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5hcGlLZXkgLSBBY2Nlc3Mga2V5IHRvIEdlb3BvcnRhbCBwbGF0Zm9ybSwgb2J0YWluZWQgW2hlcmVde0BsaW5rIGh0dHA6Ly9wcm9mZXNzaW9ubmVscy5pZ24uZnIvaWduL2NvbnRyYXRzfS5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxPYmplY3Q+fSBvcHRpb25zLnBvc2l0aW9ucyAtIEFycmF5IG9mIHBvc2l0aW9ucyAoe2xvbjpmbG9hdCwgbGF0OmZsb2F0fSkgZXhwcmVzc2VkIGluIENSUzo4NCBjb29yZGluYXRlcyBzeXN0ZW0sIHdoZXJlIHRvIGdldCBlbGV2YXRpb25zLiA1MCBwb3NpdGlvbnMgbWF4aW11bSBtYXkgYmUgZ2l2ZW4uIDIgcG9zaXRpb25zIG1pbmltdW0gYXJlIHJlcXVpcmVkIGlmIHlvdSB1c2UgdGhlIG9wdGlvbnMuc2FtcGxpbmcgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zYW1wbGluZ10gLSBOdW1iZXIgb2YgcG9pbnRzIHRvIHVzZSAoYmV0d2VlbiAyIGFuZCA1MDAwKSBpbiBvcmRlciB0byBjb21wdXRlIGFuIGVsZXZhdGlvbiBwYXRoLiBUaGUgcG9pbnRzIGdpdmVuIHdpdGggdGhlIG9wdGlvbnMucG9zaXRpb25zIHBhcmFtZXRlciBhcmUgdXNlZCB0byBmaXggdGhlIHBsYW5pbWV0cmljIHBhdGggYWxvbmcgd2hpY2ggdGhlIGVsZXZhdGlvbnMgd2lsbCBiZSBjb21wdXRlZC48YnIvPlxuICAgICAqIElmIG5vdCB1c2VkLCBvbmx5IGVsZXZhdGlvbnMgb2YgdGhlc2UgcG9zaXRpb25zIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy56b25seT1mYWxzZV0gLSBTZXQgdGhpcyBwYXJhbWV0ZXIgdG8gdHJ1ZSBpZiB5b3Ugb25seSB3YW50IHRvIGhhdmUgZWxldmF0aW9ucyByZXR1cm5lZCB3aXRob3V0IGNvcnJlc3BvbmRpbmcgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vblN1Y2Nlc3MgLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgZ2V0dGluZyBzdWNjZXNzZnVsIHNlcnZpY2UgcmVzcG9uc2UuIFRha2VzIGEge0BsaW5rIEdwLlNlcnZpY2VzLkFsdGlSZXNwb25zZX0gb2JqZWN0IGFzIGEgcGFyYW1ldGVyLCBleGNlcHQgaWYgXCJyYXdSZXNwb25zZVwiIGlzIHNldCB0byB0cnVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uRmFpbHVyZV0gLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgdW5zdWNjZXNzZnVsIHNlcnZpY2UgcmVzcG9uc2VzICh0aW1lT3V0LCBtaXNzaW5nIHJpZ2h0cywgLi4uKS4gVGFrZXMgYSB7QGxpbmsgR3AuRXJyb3J9IG9iamVjdCBhcyBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRpbWVPdXQ9MF0gLSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGFib3ZlIHdoaWNoIGEgdGltZU91dCByZXNwb25zZSB3aWxsIGJlIHJldHVybmVkIHdpdGggb25GYWlsdXJlIGNhbGxiYWNrIChzZWUgYWJvdmUpLiBEZWZhdWx0IHZhbHVlIGlzIDAgd2hpY2ggbWVhbnMgdGltZU91dCB3aWxsIG5vdCBiZSBoYW5kbGVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zZXJ2ZXJVcmw9aHR0cCAocyk6Ly93eHMuaWduLmZyL0FQSUtFWS9hbHRpL3Jlc3QvZWxldmF0aW9uLmpzb25dIC0gV2ViIHNlcnZpY2UgVVJMLiBJZiB1c2VkLCBvcHRpb25zLmFwaUtleSBwYXJhbWV0ZXIgaXMgaWdub3JlZC4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zc2wgPSB0cnVlXSAtIFVzZSBvZiBIVFRQUyBvciBIVFRQIHByb3RvY29sIHRvIHJlcXVlc3QgdGhlIHNlcnZpY2VzLiBIVFRQUyBieSBkZWZhdWx0IChzc2w9dHJ1ZSkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnByb3RvY29sPVhIUl0gLSBQcm90b2NvbCB1c2VkIHRvIGhhbmRsZSBkaWFsb2cgd2l0aCB3ZWIgc2VydmljZS4gUG9zc2libGUgdmFsdWVzIGFyZSAnSlNPTlAnICh7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlB9KSBhbmQgJ1hIUicgKHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9YTUxIdHRwUmVxdWVzdH0pLiBPbmx5IFhIUiBwcm90b2NvbCBpcyBzdXBwb3J0ZWQgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm94eVVSTF0gLSBQcm94eSBVUkwgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNhbGxiYWNrU3VmZml4XSAtIENhbGxiYWNrIGZ1bmN0aW9uIG5hbWUgc3VmZml4IHRvIHVzZSBpbiBjYXNlIG9mIGEgSlNPTlAgcHJvdG9jb2wgdXNlIChzZWUgYWJvdmUpLCB0byBzZXQgeW91ciBvd24gc3VmZml4IGluc3RlYWQgb2YgYXV0by1pbmNyZW1lbnQuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnWEhSJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmh0dHBNZXRob2Q9R0VUXSAtIEhUVFAgbWV0aG9kIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdW5kZXJseWluZyB3ZWIgc2VydmljZSBpbiBjYXNlIG9mIGEgWEhSIHByb3RvY29sIHVzZSAoc2VlIGFib3ZlKS4gUG9zc2libGUgdmFsdWVzIGFyZSAnR0VUJyBhbmQgJ1BPU1QnLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3htbFwiXSAtIENvbnRlbnQtVHlwZSB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgaW4gY2FzZSBvZiBhIFhIUiBwcm90b2NvbCB1c2UgKHNlZSBhYm92ZSkgYW5kIGlmIG1ldGhvZCBIVFRQIGlzIFBPU1QuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnSlNPTlAnIHZhbHVlLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yYXdSZXNwb25zZT1mYWxzZV0gLSBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIHRydWUgaW1wbGllcyB5b3Ugd2FudCB0byBoYW5kbGUgdGhlIHNlcnZpY2UgcmVzcG9uc2UgYnkgeW91cnNlbGYgOiBpdCB3aWxsIGJlIHJldHVybmVkIGFzIGFuIHVucGFyc2VkIFN0cmluZyBpbiBvblN1Y2Nlc3MgY2FsbGJhY2sgcGFyYW1ldGVyLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25CZWZvcmVQYXJzZV0gLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgc2VydmljZSByZXNwb25zZSBiZWZvcmUgcGFyc2luZyAoYXMgYW4gdW5wYXJzZWQgU3RyaW5nKS4gVGFrZXMgYSBTdHJpbmcgYXMgYSBwYXJhbWV0ZXIgKHRoZSByYXcgc2VydmljZSByZXNwb25zZSkuIFJldHVybnMgYSBTdHJpbmcgdGhhdCB3aWxsIGJlIHBhcnNlZCBhcyB0aGUgc2VydmljZSByZXNwb25zZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hcGk9J1JFU1QnXSAtIFdoYXQgQVBJIHRvIHVzZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlIDogJ1JFU1QnIG9yICdXUFMnLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm91dHB1dEZvcm1hdD0neG1sJ10gLSBPdXRwdXQgZm9ybWF0IGZvciB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlIHJlc3BvbnNlIDogJ3htbCcgb3IgJ2pzb24nLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICovXG4gICAgZ2V0QWx0aXR1ZGUgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgYWx0aVNlcnZpY2UgPSBuZXcgQWx0aShvcHRpb25zKTtcbiAgICAgICAgYWx0aVNlcnZpY2UuY2FsbCgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0dGluZyBwb3NpdG9uIG9mIGEgZ2VvZ3JhcGhpYyBpZGVudGlmaWVyIChwbGFjZXMgbmFtZXMsIGFkZHJlc3MsIGNhZGFzdHJhbCBwYXJjZWwsIG90aGVyLi4uKSB1c2luZyB0aGUgW2dlb2NvZGluZyB3ZWIgc2VydmljZSBvZiB0aGUgR2VvcG9ydGFsIFBsYXRmb3JtXXtAbGluayBodHRwczovL2dlb3NlcnZpY2VzLmlnbi5mci9kb2N1bWVudGF0aW9uL2dlb3NlcnZpY2VzL2dlb2NvZGFnZS5odG1sfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogR3AuU2VydmljZXMuZ2VvY29kZSAoe1xuICAgICAqICAgICBhcGlLZXkgOiBcImpoeXZpMGZnbW51eHZmdjB6anpvcnZkblwiLFxuICAgICAqICAgICBsb2NhdGlvbiA6IFwiNzMgYXZlbnVlIGRlIFBhcmlzLCBTYWludC1NYW5kw6lcIixcbiAgICAgKiAgICAgLy8gdHJhaXRlbWVudCBkZXMgcmVzdWx0YXRzXG4gICAgICogICAgIG9uU3VjY2VzcyAgOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICogICAgICAgICBjb25zb2xlLmxvZyhcImZvdW5kICh4OlwiK3Jlc3VsdC5wb3NpdGlvbi54K1wiLCB5OlwiK3Jlc3VsdC5wb3NpdGlvbi55K1wiKVwiKSA7XG4gICAgICogICAgIH1cbiAgICAgKiB9KSA7XG4gICAgICpcbiAgICAgKlxuICAgICAqIEBtZXRob2QgZ2VvY29kZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgZnVuY3Rpb24gY2FsbC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5hcGlLZXkgLSBBY2Nlc3Mga2V5IHRvIEdlb3BvcnRhbCBwbGF0Zm9ybSwgb2J0YWluZWQgW2hlcmVde0BsaW5rIGh0dHA6Ly9wcm9mZXNzaW9ubmVscy5pZ24uZnIvaWduL2NvbnRyYXRzfS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IG9wdGlvbnMubG9jYXRpb24gLSBHZW9ncmFwaGljIGlkZW50aWZpZXIgdG8gbG9jYXRlLiBNYXkgYmUgcHJvdmlkZWQgYXMgYSBzaW5nbGUgU3RyaW5nIG9yIGEgc3RydWN0dXJlZCBPYmplY3QgZm9yIGFuIGFkZHJlc3Mgc2VhcmNoLiBJbiB0aGlzIGxhc3QgY2FzZSwgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBhdmFpbGFpYmxlcy5cbiAgICAgKiAgICAgIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sb2NhdGlvbi5udW1iZXJdIC0gU3RyZWV0IG51bWJlci5cbiAgICAgKiAgICAgIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5sb2NhdGlvbi5zdHJlZXRdIC0gU3RyZWV0IG5hbWUuXG4gICAgICogICAgICBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubG9jYXRpb24uY2l0eV0gLSBDaXR5IG5hbWUuXG4gICAgICogICAgICBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubG9jYXRpb24ucG9zdGFsQ29kZV0gLSBQb3N0YWwgQ29kZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5maWx0ZXJPcHRpb25zXSAtIEFkZGl0aW9uYWwgZmlsdGVycyB0byBhcHBseSB0byBzZWFyY2guIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBtYXkgYmUgZ2l2ZW4uXG4gICAgICogICAgICBAcGFyYW0ge0dwLkJCb3h9IFtvcHRpb25zLmZpbHRlck9wdGlvbnMuYmJveF0gLSBCb3VuZGluZyBib3ggd2hlcmUgdG8gcGVyZm9ybSB0aGUgc2VhcmNoLiBQcm9wZXJ0aWVzIGV4cHJlc3NlZCBpbiBvcHRpb25zLnNycyBjb29yZGluYXRlcyBzeXN0ZW0uXG4gICAgICogICAgICBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBbb3B0aW9ucy5maWx0ZXJPcHRpb25zLnR5cGVdIC0gR2VvZ3JhcGhpY2FsIGlkZW50aWZpZXIgdHlwZXMgdG8gc2VhcmNoLiBWYWx1ZXMgY3VycmVudGx5IGF2YWlsYWJsZXMgYXJlIDogXCJQb3NpdGlvbk9mSW50ZXJlc3RcIiBmb3IgcGxhY2UgbmFtZXMsIFwiU3RyZWV0QWRkcmVzc1wiIGZvciBhZGRyZXNzIHNlYXJjaCwgXCJDYWRhc3RyYWxQYXJjZWxcIiBmb3IgQ2FkYXN0cmFsIHBhcmNlbHMgc2VhcmNoLiBEZWZhdWx0IGlzIFwiU3RyZWV0QWRkcmVzc1wiLlxuICAgICAqXG4gICAgICogICAgICBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZmlsdGVyT3B0aW9ucy5bcHJvcF1dIC0gQWRkaXRpb25uYWwgcHJvcGVydGllcyB0byBmaWx0ZXIgc2VhcmNoLiBQcm9wZXJ0aWVzIGRlcGVuZHMgb24gb3B0aW9ucy5maWx0ZXJPcHRpb25zLnR5cGUsIGFuZCB2YWx1ZXMgdHlwZSBzaG91bGQgYmUgXCJTdHJpbmdcIi5cbiAgICAgKiAgICAgIDxici8+PGJyLz5cbiAgICAgKiAgICAgIENvbW1vbiBQcm9wZXJ0aWVzIGF2YWlsYWJsZXMgZm9yIGFsbCBzZWFyY2ggdHlwZXMgOjxici8+XG4gICAgICogICAgICBcIm11bmljaXBhbGl0eVwiLCBcImluc2VlXCIsIFwiZGVwYXJ0bWVudFwiLlxuICAgICAqICAgICAgPGJyLz48YnIvPlxuICAgICAqICAgICAgUHJvcGVydGllcyBhdmFpbGFibGVzIGZvciBhZGRyZXNzIHNlYXJjaCA6PGJyLz5cbiAgICAgKiAgICAgIFwicXVhbGl0eVwiLCBcIklEXCIsIFwiSURfVFJcIiBhbmQgXCJ0ZXJyaXRvcnlcIi5cbiAgICAgKiAgICAgIDxici8+PGJyLz5cbiAgICAgKiAgICAgIFByb3BlcnRpZXMgYXZhaWxhYmxlcyBmb3IgcGxhY2UgbmFtZXMgc2VhcmNoIDo8YnIvPlxuICAgICAqICAgICAgXCJpbXBvcnRhbmNlXCIsIFwibmF0dXJlXCIgYW5kIFwidGVycml0b3J5XCIuXG4gICAgICogICAgICA8YnIvPjxici8+XG4gICAgICogICAgICBQcm9wZXJ0aWVzIGF2YWlsYWJsZXMgZm9yIGNhZGFzdHJhbCBwYXJjZWxzIHNlYXJjaCA6PGJyLz5cbiAgICAgKiAgICAgIFwic2hlZXRcIiwgXCJzZWN0aW9uXCIsIGFuZCBcImFic29yYmVkY2l0eVwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhpbXVtUmVzcG9uc2VzID0gMjVdIC0gTWF4aW11bSBudW1iZXIgb2YgcmVzcG9uc2VzLiBEZWZhdWx0IHVuZGVybHlpbmcgc2VydmljZSB2YWx1ZSBhcHBsaWVzICgyNSkgaWYgbm90IHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmV0dXJuRnJlZUZvcm0gPSBmYWxzZV0gLSBTZXQgdGhpcyBwYXJhbWV0ZXIgdG8gdHJ1ZSBpZiB5b3Ugd2lzaCB0byBoYXZlIGFuIGFkZHJlc3MgcmV0dXJuZWQgaW4gYSBzaW5nbGUgU3RyaW5nICh1bnN0cnVjdHVyZWQpLiBJZiB1bnNldCwgZGVmYXVsdCB1bmRlcmx5aW5nIHNlcnZpY2UgdmFsdWUgKGZhbHNlKSBhcHBsaWVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zcnMgPSBFUFNHOjQzMjZdIC0gQ29vcmRpbmF0ZXMgU3lzdGVtIHVzZWQgdG8gZXhwcmVzIGNvb3JkaW5hdGVzIGZvciBwYXJhbWV0ZXJzIGFuZCByZXNwb25zZXMuIERlZmF1bHQgdW5kZXJseWluZyBzZXJ2aWNlIHZhbHVlIChFUFNHOjQzMjYpIGFwcGxpZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vblN1Y2Nlc3MgLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgZ2V0dGluZyBzdWNjZXNzZnVsIHNlcnZpY2UgcmVzcG9uc2UuIFRha2VzIGEge0BsaW5rIEdwLlNlcnZpY2VzLkdlb2NvZGVSZXNwb25zZX0gb2JqZWN0IGFzIGEgcGFyYW1ldGVyIGV4Y2VwdCBpZiBcInJhd1Jlc3BvbnNlXCIgaXMgc2V0IHRvIHRydWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25GYWlsdXJlXSAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB1bnN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZXMgKHRpbWVPdXQsIG1pc3NpbmcgcmlnaHRzLCAuLi4pLiBUYWtlcyBhIHtAbGluayBHcC5FcnJvcn0gb2JqZWN0IGFzIHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGltZU91dD0wXSAtIE51bWJlciBvZiBtaWxsaXNlY29uZHMgYWJvdmUgd2hpY2ggYSB0aW1lT3V0IHJlc3BvbnNlIHdpbGwgYmUgcmV0dXJuZWQgd2l0aCBvbkZhaWx1cmUgY2FsbGJhY2sgKHNlZSBhYm92ZSkuIERlZmF1bHQgdmFsdWUgaXMgMCB3aGljaCBtZWFucyB0aW1lT3V0IHdpbGwgbm90IGJlIGhhbmRsZWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNlcnZlclVybD1odHRwIChzKTovL3d4cy5pZ24uZnIvQVBJS0VZL2dlb3BvcnRhaWwvb2xzXSAtIFdlYiBzZXJ2aWNlIFVSTC4gSWYgdXNlZCwgb3B0aW9ucy5hcGlLZXkgcGFyYW1ldGVyIGlzIGlnbm9yZWQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3NsID0gdHJ1ZV0gLSBVc2Ugb2YgSFRUUFMgb3IgSFRUUCBwcm90b2NvbCB0byByZXF1ZXN0IHRoZSBzZXJ2aWNlcy4gSFRUUFMgYnkgZGVmYXVsdCAoc3NsPXRydWUpLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm90b2NvbD1YSFJdIC0gUHJvdG9jb2wgdXNlZCB0byBoYW5kbGUgZGlhbG9nIHdpdGggd2ViIHNlcnZpY2UuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ0pTT05QJyAoe0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QfSkgYW5kICdYSFInICh7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvWE1MSHR0cFJlcXVlc3R9KS4gT25seSBYSFIgcHJvdG9jb2wgaXMgc3VwcG9ydGVkIGluIGEgTm9kZUpTIGVudmlyb25tZW50LiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucHJveHlVUkxdIC0gUHJveHkgVVJMIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdW5kZXJseWluZyB3ZWIgc2VydmljZS4gSWdub3JlZCB3aGVuIG9wdGlvbnMucHJvdG9jb2wgaXMgc2V0IHRvICdKU09OUCcgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jYWxsYmFja1N1ZmZpeF0gLSBDYWxsYmFjayBmdW5jdGlvbiBuYW1lIHN1ZmZpeCB0byB1c2UgaW4gY2FzZSBvZiBhIEpTT05QIHByb3RvY29sIHVzZSAoc2VlIGFib3ZlKSwgdG8gc2V0IHlvdXIgb3duIHN1ZmZpeCBpbnN0ZWFkIG9mIGF1dG8taW5jcmVtZW50LiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ1hIUicgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5odHRwTWV0aG9kPUdFVF0gLSBIVFRQIG1ldGhvZCB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgaW4gY2FzZSBvZiBhIFhIUiBwcm90b2NvbCB1c2UgKHNlZSBhYm92ZSkuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ0dFVCcgYW5kICdQT1NUJy4gSWdub3JlZCB3aGVuIG9wdGlvbnMucHJvdG9jb2wgaXMgc2V0IHRvICdKU09OUCcgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi94bWxcIl0gLSBDb250ZW50LVR5cGUgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlIGluIGNhc2Ugb2YgYSBYSFIgcHJvdG9jb2wgdXNlIChzZWUgYWJvdmUpIGFuZCBpZiBtZXRob2QgSFRUUCBpcyBQT1NULiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmF3UmVzcG9uc2U9ZmFsc2VdIC0gU2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byB0cnVlIGltcGxpZXMgeW91IHdhbnQgdG8gaGFuZGxlIHRoZSBzZXJ2aWNlIHJlc3BvbnNlIGJ5IHlvdXJzZWxmIDogaXQgd2lsbCBiZSByZXR1cm5lZCBhcyBhbiB1bnBhcnNlZCBTdHJpbmcgaW4gb25TdWNjZXNzIGNhbGxiYWNrIHBhcmFtZXRlci4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uQmVmb3JlUGFyc2VdIC0gQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIGhhbmRsaW5nIHNlcnZpY2UgcmVzcG9uc2UgYmVmb3JlIHBhcnNpbmcgKGFzIGFuIHVucGFyc2VkIFN0cmluZykuIFRha2VzIGEgU3RyaW5nIGFzIGEgcGFyYW1ldGVyICh0aGUgcmF3IHNlcnZpY2UgcmVzcG9uc2UpLiBSZXR1cm5zIGEgU3RyaW5nIHRoYXQgd2lsbCBiZSBwYXJzZWQgYXMgdGhlIHNlcnZpY2UgcmVzcG9uc2UuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKi9cbiAgICBnZW9jb2RlIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGdlb2NvZGVTZXJ2aWNlID0gbmV3IEdlb2NvZGUob3B0aW9ucyk7XG4gICAgICAgIGdlb2NvZGVTZXJ2aWNlLmNhbGwoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHJpZXZpbmcgZ2VvZ3JhcGhpY2FsIGlkZW50aWZpZXJzIChwbGFjZSBuYW1lcywgYWRkcmVzcywgY2FkYXN0cmFsIHBhcmNlbHMsIC4uLikgbmVhciBhIGdpdmVuIHBvc2l0aW9uLCB1c2luZyB0aGUgW3JldmVyc2UgZ2VvY29kaW5nIHdlYiBzZXJ2aWNlIG9mIHRoZSBHZW9wb3J0YWwgUGxhdGZvcm1de0BsaW5rIGh0dHBzOi8vZ2Vvc2VydmljZXMuaWduLmZyL2RvY3VtZW50YXRpb24vZ2Vvc2VydmljZXMvZ2VvY29kYWdlLWludmVyc2UuaHRtbH0uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHJldmVyc2VHZW9jb2RlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciBmdW5jdGlvbiBjYWxsLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmFwaUtleSAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtLCBvYnRhaW5lZCBbaGVyZV17QGxpbmsgaHR0cDovL3Byb2Zlc3Npb25uZWxzLmlnbi5mci9pZ24vY29udHJhdHN9LlxuICAgICAqIEBwYXJhbSB7R3AuUG9pbnR9IG9wdGlvbnMucG9zaXRpb24gLSBSZWZlcmVuY2UgcG9zaXRpb24gd2hlcmUgdG8gc2VhcmNoIGdlb2dyYXBoaWNhbCBpZGVudGlmaWVycy4gSXRzIGNvb3JkaW5hdGVzIGFyZSBleHByZXNzZWQgaW4gdGhlIGNvb3JkaW5hdGVzIHN5c3RlbSBnaXZlbiB3aXRoIG9wdGlvbnMuc3JzIHBhcmFtZXRlci4gKGRlZmF1bHQgaXMgQ1JTOjg0LCB0aGF0IG1lYW5zIHBvc2l0aW9uLnggaXMgdGhlIGxvbmdpdHVkZSBhbmQgcG9zaXRpb24ueSB0aGUgbGF0aXR1ZGUpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpbHRlck9wdGlvbnNdIC0gQWRkaXRpb25hbCBmaWx0ZXJzIHRvIGFwcGx5IHRvIHNlYXJjaC4gVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIG1heSBiZSBnaXZlbi5cbiAgICAgKiAgICAgIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtvcHRpb25zLmZpbHRlck9wdGlvbnMudHlwZV0gLSBHZW9ncmFwaGljYWwgaWRlbnRpZmllciB0eXBlcyB0byBzZWFyY2guIFZhbHVlcyBjdXJyZW50bHkgYXZhaWxhYmxlcyBhcmUgOiBcIlBvc2l0aW9uT2ZJbnRlcmVzdFwiIGZvciBwbGFjZSBuYW1lcywgXCJTdHJlZXRBZGRyZXNzXCIgZm9yIGFkZHJlc3Mgc2VhcmNoLCBcIkNhZGFzdHJhbFBhcmNlbFwiIGZvciBDYWRhc3RyYWwgcGFyY2VscyBzZWFyY2guIERlZmF1bHQgaXMgXCJTdHJlZXRBZGRyZXNzXCIuXG4gICAgICogICAgICBAcGFyYW0ge0dwLkJCb3h9IFtvcHRpb25zLmZpbHRlck9wdGlvbnMuYmJveF0gLSBCb3VuZGluZyBib3ggd2hlcmUgdG8gcGVyZm9ybSB0aGUgc2VhcmNoLiBFeHByZXNzZWQgaW4gb3B0aW9ucy5zcnMgY29vcmRpbmF0ZXMgc3lzdGVtLlxuICAgICAqICAgICAgQHBhcmFtIHtHcC5DaXJjbGV9IFtvcHRpb25zLmZpbHRlck9wdGlvbnMuY2lyY2xlXSAtIENpcmNsZSB3aGVyZSB0byBwZXJmb3JtIHRoZSBzZWFyY2guIEV4cHJlc3NlZCBpbiBvcHRpb25zLnNycyBjb29yZGluYXRlcyBzeXN0ZW0uXG4gICAgICogQHBhcmFtIHtBcnJheS48R3AuUG9pbnQ+fSBbb3B0aW9ucy5maWx0ZXJPcHRpb25zLnBvbHlnb25dIC0gUG9seWdvbiB3aGVyZSB0byBwZXJmb3JtIHRoZSBzZWFyY2guIEV4cHJlc3NlZCBpbiBvcHRpb25zLnNycyBjb29yZGluYXRlcyBzeXN0ZW0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heGltdW1SZXNwb25zZXNdIC0gTWF4aW11bSBudW1iZXIgb2YgcmVzcG9uc2VzLiBEZWZhdWx0IHVuZGVybHlpbmcgc2VydmljZSB2YWx1ZSBhcHBsaWVzICgyNSkgaWYgbm90IHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmV0dXJuRnJlZUZvcm0gPSBmYWxzZV0gLSBTZXQgdGhpcyBwYXJhbWV0ZXIgdG8gdHJ1ZSBpZiB5b3Ugd2lzaCB0byBoYXZlIGFuIGFkZHJlc3MgcmV0dXJuZWQgaW4gYSBzaW5nbGUgU3RyaW5nICh1bnN0cnVjdHVyZWQpLiBJZiB1bnNldCwgZGVmYXVsdCB1bmRlcmx5aW5nIHNlcnZpY2UgdmFsdWUgKGZhbHNlKSBhcHBsaWVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zcnMgPSBDUlM6ODRdIC0gQ29vcmRpbmF0ZXMgU3lzdGVtIHVzZWQgdG8gZXhwcmVzcyBjb29yZGluYXRlcyBmb3IgcGFyYW1ldGVycyBhbmQgcmVzcG9uc2VzLiBPbmx5IFdHUyA4NCBnZW9ncmFwaGljYWwgcG9zaXRpb25pbmcgaXMgc3VwcG9ydGVkLiBUaGVyZWZvcmUsIHR3byB2YWx1ZXMgYXJlIGFsbG93ZWQgOiBcIkNSUzo4NFwiIChwb3NpdGlvbi54IGlzIHRoZSBsb25naXR1ZGUgYW5kIHBvc2l0aW9uLnkgdGhlIGxhdGl0dWRlKSBhbmQgXCJFUFNHOjQzMjZcIiAocG9zaXRpb24ueCBpcyB0aGUgbGF0aXR1ZGUgYW5kIHBvc2l0aW9uLnkgdGhlIGxvbmdpdHVkZSkgLiBEZWZhdWx0IGlzIENSUzo4NC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3VjY2VzcyAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZS4gVGFrZXMgYSB7QGxpbmsgR3AuU2VydmljZXMuR2VvY29kZVJlc3BvbnNlfSBvYmplY3QgYXMgYSBwYXJhbWV0ZXIgZXhjZXB0IGlmIFwicmF3UmVzcG9uc2VcIiBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vbkZhaWx1cmVdIC0gQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIGhhbmRsaW5nIHVuc3VjY2Vzc2Z1bCBzZXJ2aWNlIHJlc3BvbnNlcyAodGltZU91dCwgbWlzc2luZyByaWdodHMsIC4uLikuIFRha2VzIGEge0BsaW5rIEdwLkVycm9yfSBvYmplY3QgYXMgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50aW1lT3V0PTBdIC0gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhYm92ZSB3aGljaCBhIHRpbWVPdXQgcmVzcG9uc2Ugd2lsbCBiZSByZXR1cm5lZCB3aXRoIG9uRmFpbHVyZSBjYWxsYmFjayAoc2VlIGFib3ZlKS4gRGVmYXVsdCB2YWx1ZSBpcyAwIHdoaWNoIG1lYW5zIHRpbWVPdXQgd2lsbCBub3QgYmUgaGFuZGxlZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2VydmVyVXJsPWh0dHAgKHMpOi8vd3hzLmlnbi5mci9BUElLRVkvZ2VvcG9ydGFpbC9vbHNdIC0gV2ViIHNlcnZpY2UgVVJMLiBJZiB1c2VkLCBvcHRpb25zLmFwaUtleSBwYXJhbWV0ZXIgaXMgaWdub3JlZC4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zc2wgPSB0cnVlXSAtIFVzZSBvZiBIVFRQUyBvciBIVFRQIHByb3RvY29sIHRvIHJlcXVlc3QgdGhlIHNlcnZpY2VzLiBIVFRQUyBieSBkZWZhdWx0IChzc2w9dHJ1ZSkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnByb3RvY29sPVhIUl0gLSBQcm90b2NvbCB1c2VkIHRvIGhhbmRsZSBkaWFsb2cgd2l0aCB3ZWIgc2VydmljZS4gUG9zc2libGUgdmFsdWVzIGFyZSAnSlNPTlAnICh7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlB9KSBhbmQgJ1hIUicgKHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9YTUxIdHRwUmVxdWVzdH0pLiBPbmx5IFhIUiBwcm90b2NvbCBpcyBzdXBwb3J0ZWQgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm94eVVSTF0gLSBQcm94eSBVUkwgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNhbGxiYWNrU3VmZml4XSAtIENhbGxiYWNrIGZ1bmN0aW9uIG5hbWUgc3VmZml4IHRvIHVzZSBpbiBjYXNlIG9mIGEgSlNPTlAgcHJvdG9jb2wgdXNlIChzZWUgYWJvdmUpLCB0byBzZXQgeW91ciBvd24gc3VmZml4IGluc3RlYWQgb2YgYXV0by1pbmNyZW1lbnQuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnWEhSJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmh0dHBNZXRob2Q9R0VUXSAtIEhUVFAgbWV0aG9kIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdW5kZXJseWluZyB3ZWIgc2VydmljZSBpbiBjYXNlIG9mIGEgWEhSIHByb3RvY29sIHVzZSAoc2VlIGFib3ZlKS4gUG9zc2libGUgdmFsdWVzIGFyZSAnR0VUJyBhbmQgJ1BPU1QnLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3htbFwiXSAtIENvbnRlbnQtVHlwZSB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgaW4gY2FzZSBvZiBhIFhIUiBwcm90b2NvbCB1c2UgKHNlZSBhYm92ZSkgYW5kIGlmIG1ldGhvZCBIVFRQIGlzIFBPU1QuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnSlNPTlAnIHZhbHVlLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yYXdSZXNwb25zZT1mYWxzZV0gLSBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIHRydWUgaW1wbGllcyB5b3Ugd2FudCB0byBoYW5kbGUgdGhlIHNlcnZpY2UgcmVzcG9uc2UgYnkgeW91cnNlbGYgOiBpdCB3aWxsIGJlIHJldHVybmVkIGFzIGFuIHVucGFyc2VkIFN0cmluZyBpbiBvblN1Y2Nlc3MgY2FsbGJhY2sgcGFyYW1ldGVyLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25CZWZvcmVQYXJzZV0gLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgc2VydmljZSByZXNwb25zZSBiZWZvcmUgcGFyc2luZyAoYXMgYW4gdW5wYXJzZWQgU3RyaW5nKS4gVGFrZXMgYSBTdHJpbmcgYXMgYSBwYXJhbWV0ZXIgKHRoZSByYXcgc2VydmljZSByZXNwb25zZSkuIFJldHVybnMgYSBTdHJpbmcgdGhhdCB3aWxsIGJlIHBhcnNlZCBhcyB0aGUgc2VydmljZSByZXNwb25zZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqL1xuICAgIHJldmVyc2VHZW9jb2RlIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJldmVyc2VHZW9jb2RlU2VydmljZSA9IG5ldyBSZXZlcnNlR2VvY29kZShvcHRpb25zKTtcbiAgICAgICAgcmV2ZXJzZUdlb2NvZGVTZXJ2aWNlLmNhbGwoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldHRpbmcgc3VnZ2VzdGlvbnMgb2YgcHJvYmFibGUgcGxhY2VzIG5hbWVzIG9yIGFkZHJlc3MgYmFzZWQgb24gdW5jb21wbGV0ZSB0ZXh0cywgdXNpbmcgdGhlIFthdXRvY29tcGxldGlvbiBzZXJ2aWNlIG9mIHRoZSBHZW9wb3J0YWwgUGxhdGZvcm1de0BsaW5rIGh0dHBzOi8vZ2Vvc2VydmljZXMuaWduLmZyL2RvY3VtZW50YXRpb24vZ2Vvc2VydmljZXMvYXV0b2NvbXBsZXRpb24uaHRtbH1cbiAgICAgKlxuICAgICAqIEBtZXRob2QgYXV0b0NvbXBsZXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciBmdW5jdGlvbiBjYWxsLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmFwaUtleSAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtLCBvYnRhaW5lZCBbaGVyZV17QGxpbmsgaHR0cDovL3Byb2Zlc3Npb25uZWxzLmlnbi5mci9pZ24vY29udHJhdHN9LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnRleHQgLSBUZXh0IGlucHV0IHRvIGNvbXBsZXRlLlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtvcHRpb25zLmZpbHRlck9wdGlvbnMudHlwZSA9IFwiU3RyZWV0QWRkcmVzc1wiXSAtIFN1Z2dlc3Rpb24gdHlwZXMgdG8gcHJvdmlkZSA6IGFkZHJlc3MgKFwiU3RyZWV0QWRkcmVzc1wiKSBhbmQvb3IgcGxhY2UgbmFtZSAoXCJQb3NpdGlvbk9mSW50ZXJlc3RcIikuXG4gICAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gW29wdGlvbnMuZmlsdGVyT3B0aW9ucy50ZXJyaXRvcnldIC0gUGxhY2VzIHdoZXJlIHRvIGxpbWl0IHRoZSBzZWFyY2ggb2Ygc3VnZ2VzdGlvbnMgOiBcIk1FVFJPUE9MRVwiIChDb3JzaWNhIGFuZCBtZXRyb3BvbGl0YW4gRnJhbmNlKSwgXCJET01UT01cIiAoRnJlbmNoIG92ZXJzZWFzIGRlcGFydG1lbnRzIGFuZCB0ZXJyaXRvcmllcyksIG9yIGFuIElOU0VFIGNvZGUgb2YgYSBkZXBhcnRtZW50LiBObyBsaW1pdGF0aW9uIGJ5IGRlZmF1bHQuIEZvciBpbnN0YW5jZSA6IFsnTUVUUk9QT0xFJywgJzMxJ11cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4aW11bVJlc3BvbnNlcyA9IDEwXSAtIE1heGltdW0gbnVtYmVyIG9mIHJlc3BvbnNlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3VjY2VzcyAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZS4gVGFrZXMgYSB7QGxpbmsgR3AuU2VydmljZXMuQXV0b0NvbXBsZXRlUmVzcG9uc2V9IG9iamVjdCBhcyBhIHBhcmFtZXRlciBleGNlcHQgaWYgXCJyYXdSZXNwb25zZVwiIGlzIHNldCB0byB0cnVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uRmFpbHVyZV0gLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgdW5zdWNjZXNzZnVsIHNlcnZpY2UgcmVzcG9uc2VzICh0aW1lT3V0LCBtaXNzaW5nIHJpZ2h0cywgLi4uKS4gVGFrZXMgYSB7QGxpbmsgR3AuRXJyb3J9IG9iamVjdCBhcyBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRpbWVPdXQ9MF0gLSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGFib3ZlIHdoaWNoIGEgdGltZU91dCByZXNwb25zZSB3aWxsIGJlIHJldHVybmVkIHdpdGggb25GYWlsdXJlIGNhbGxiYWNrIChzZWUgYWJvdmUpLiBEZWZhdWx0IHZhbHVlIGlzIDAgd2hpY2ggbWVhbnMgdGltZU91dCB3aWxsIG5vdCBiZSBoYW5kbGVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zZXJ2ZXJVcmw9aHR0cCAocyk6Ly93eHMuaWduLmZyL0FQSUtFWS9vbHMvYXBpcy9jb21wbGV0aW9uXSAtIFdlYiBzZXJ2aWNlIFVSTC4gSWYgdXNlZCwgb3B0aW9ucy5hcGlLZXkgcGFyYW1ldGVyIGlzIGlnbm9yZWQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3NsID0gdHJ1ZV0gLSBVc2Ugb2YgSFRUUFMgb3IgSFRUUCBwcm90b2NvbCB0byByZXF1ZXN0IHRoZSBzZXJ2aWNlcy4gSFRUUFMgYnkgZGVmYXVsdCAoc3NsPXRydWUpLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm90b2NvbD1YSFJdIC0gUHJvdG9jb2wgdXNlZCB0byBoYW5kbGUgZGlhbG9nIHdpdGggd2ViIHNlcnZpY2UuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ0pTT05QJyAoe0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QfSkgYW5kICdYSFInICh7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvWE1MSHR0cFJlcXVlc3R9KS4gT25seSBYSFIgcHJvdG9jb2wgaXMgc3VwcG9ydGVkIGluIGEgTm9kZUpTIGVudmlyb25tZW50LiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucHJveHlVUkxdIC0gUHJveHkgVVJMIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdW5kZXJseWluZyB3ZWIgc2VydmljZS4gSWdub3JlZCB3aGVuIG9wdGlvbnMucHJvdG9jb2wgaXMgc2V0IHRvICdKU09OUCcgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jYWxsYmFja1N1ZmZpeF0gLSBDYWxsYmFjayBmdW5jdGlvbiBuYW1lIHN1ZmZpeCB0byB1c2UgaW4gY2FzZSBvZiBhIEpTT05QIHByb3RvY29sIHVzZSAoc2VlIGFib3ZlKSwgdG8gc2V0IHlvdXIgb3duIHN1ZmZpeCBpbnN0ZWFkIG9mIGF1dG8taW5jcmVtZW50LiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ1hIUicgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5odHRwTWV0aG9kPUdFVF0gLSBIVFRQIG1ldGhvZCB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgaW4gY2FzZSBvZiBhIFhIUiBwcm90b2NvbCB1c2UgKHNlZSBhYm92ZSkuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ0dFVCcgYW5kICdQT1NUJy4gSWdub3JlZCB3aGVuIG9wdGlvbnMucHJvdG9jb2wgaXMgc2V0IHRvICdKU09OUCcgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi94bWxcIl0gLSBDb250ZW50LVR5cGUgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlIGluIGNhc2Ugb2YgYSBYSFIgcHJvdG9jb2wgdXNlIChzZWUgYWJvdmUpIGFuZCBpZiBtZXRob2QgSFRUUCBpcyBQT1NULiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmF3UmVzcG9uc2U9ZmFsc2VdIC0gU2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byB0cnVlIGltcGxpZXMgeW91IHdhbnQgdG8gaGFuZGxlIHRoZSBzZXJ2aWNlIHJlc3BvbnNlIGJ5IHlvdXJzZWxmIDogaXQgd2lsbCBiZSByZXR1cm5lZCBhcyBhbiB1bnBhcnNlZCBTdHJpbmcgaW4gb25TdWNjZXNzIGNhbGxiYWNrIHBhcmFtZXRlci4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uQmVmb3JlUGFyc2VdIC0gQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIGhhbmRsaW5nIHNlcnZpY2UgcmVzcG9uc2UgYmVmb3JlIHBhcnNpbmcgKGFzIGFuIHVucGFyc2VkIFN0cmluZykuIFRha2VzIGEgU3RyaW5nIGFzIGEgcGFyYW1ldGVyICh0aGUgcmF3IHNlcnZpY2UgcmVzcG9uc2UpLiBSZXR1cm5zIGEgU3RyaW5nIHRoYXQgd2lsbCBiZSBwYXJzZWQgYXMgdGhlIHNlcnZpY2UgcmVzcG9uc2UuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKi9cbiAgICBhdXRvQ29tcGxldGUgOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgYXV0b0NvbXBsZXRlU2VydmljZSA9IG5ldyBBdXRvQ29tcGxldGUob3B0aW9ucyk7XG4gICAgICAgIGF1dG9Db21wbGV0ZVNlcnZpY2UuY2FsbCgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0dGluZyBhIHJvdXRlIGZyb20gb25lIHBvaW50IHRvIGFub3RoZXIgdXNpbmcgdGhlIFtyb3V0ZSBzZXJ2aWNlIG9mIHRoZSBHZW9wb3J0YWwgUGxhdGZvcm1de0BsaW5rIGh0dHBzOi8vZ2Vvc2VydmljZXMuaWduLmZyL2RvY3VtZW50YXRpb24vZ2Vvc2VydmljZXMvaXRpbmVyYWlyZXMuaHRtbH0uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHJvdXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciBmdW5jdGlvbiBjYWxsLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmFwaUtleSAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtLCBvYnRhaW5lZCBbaGVyZV17QGxpbmsgaHR0cDovL3Byb2Zlc3Npb25uZWxzLmlnbi5mci9pZ24vY29udHJhdHN9LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5yb3V0ZVByZWZlcmVuY2UgPSBcImZhc3Rlc3RcIl0gLSBJbmRpY2F0ZXMgdGhlIHdheSB0byBjb21wdXRlIHRoZSByb3V0ZSA6IFwiZmFzdGVzdFwiICh0aW1lIG9wdGltaXNhdGlvbikgb3IgXCJzaG9ydGVzdFwiIChkaXN0YW5jZSBvcHRpbWlzYXRpb24pLlxuICAgICAqIEBwYXJhbSB7R3AuUG9pbnR9IG9wdGlvbnMuc3RhcnRQb2ludCAtIFN0YXJ0IHBvaW50IG9mIHRoZSByb3V0ZS4gRXhwcmVzc2VkIGluIENSUzo4NCBjb29yZGluYXRlcyBzeXN0ZW0gKHN0YXJ0UG9pbnQueCBjb3JyZXNwb25kcyB0byBsb25naXR1ZGUsIHN0YXJ0UG9pbnQueSBjb3JyZXNwb25kcyB0byBsYXRpdHVkZSkuXG4gICAgICogQHBhcmFtIHtHcC5Qb2ludH0gb3B0aW9ucy5lbmRQb2ludCAtIEVuZCBwb2ludCBvZiB0aGUgcm91dGUuIEV4cHJlc3NlZCBpbiBDUlM6ODQgY29vcmRpbmF0ZXMgc3lzdGVtIChlbmRQb2ludC54IGNvcnJlc3BvbmRzIHRvIGxvbmdpdHVkZSwgZW5kUG9pbnQueSBjb3JyZXNwb25kcyB0byBsYXRpdHVkZSkuXG4gICAgICogQHBhcmFtIHtBcnJheS48R3AuUG9pbnQ+fSBbb3B0aW9ucy52aWFQb2ludHNdIC0gT3JkZXJlZCB2aWEgUG9pbnRzIG9mIHRoZSByb3V0ZS4gRXhwcmVzc2VkIGluIENSUzo4NCBjb29yZGluYXRlcyBzeXN0ZW0gKHZpYVBvaW50c1tpXS54IGNvcnJlc3BvbmRzIHRvIGxvbmdpdHVkZSwgdmlhUG9pbnRzW2ldLnkgY29ycmVzcG9uZHMgdG8gbGF0aXR1ZGUpLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5ncmFwaCA9IFwiVm9pdHVyZVwiXSAtIFVzZXIgcHJvZmlsZSB0byB1c2UgdG8gY29tcHV0ZSB0aGUgcm91dGUgOiBcIlZvaXR1cmVcIiAodXNpbmcgYSB2ZWhpY3VsZSkgb3IgXCJQaWV0b25cIiAocGVkZXN0cmlhbikuIEhhcyBhbiBpbmZsdWVuY2Ugb24gdGhlIGtpbmQgb2Ygcm9hZHMgdGhlIHJvdXRlIG1heSB1c2UgYW5kIHRoZSBhdmVyYWdlIHNwZWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtvcHRpb25zLmV4Y2x1c2lvbnNdIC0gSW5kaWNhdGVzIGlmIHJvdXRlIGhhcyB0byBhdm9pZCBzb21lIGZlYXR1cmVzIChcInRvbGxcIiwgXCJicmlkZ2VcIiBvciBcInR1bm5lbFwiKS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmdlb21ldHJ5SW5JbnN0cnVjdGlvbnMgPSBmYWxzZV0gLSBJbmRpY2F0ZXMgaWYgcm91dGUgZ2VvbWV0cnkgaGFzIHRvIGJlIGFsc28gcmV0dXJuZWQgd2l0aCByb3V0ZSBpbnN0cnVjdGlvbnMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wcm92aWRlQm91bmRpbmdCb3ggPSB0cnVlXSAtIEluZGljYXRlcyBpZiByb3V0ZSBpbnN0cnVjdGlvbnMgaGFzIHRvIGJlIGxvY2FsaXNlZCB3aXRoIGEgQkJPWCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmRpc3RhbmNlVW5pdCA9IFwia21cIl0gLSBUaGUgdW5pdCB1c2VkIHRvIHByb3ZpZGUgZGlzdGFuY2VzIGluIHRoZSByZXNwb25zZSAoXCJtXCIgb3IgXCJrbVwiKS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3VjY2VzcyAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZS4gVGFrZXMgYSB7QGxpbmsgR3AuU2VydmljZXMuUm91dGVSZXNwb25zZX0gb2JqZWN0IGFzIGEgcGFyYW1ldGVyIGV4Y2VwdCBpZiBcInJhd1Jlc3BvbnNlXCIgaXMgc2V0IHRvIHRydWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25GYWlsdXJlXSAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB1bnN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZXMgKHRpbWVPdXQsIG1pc3NpbmcgcmlnaHRzLCAuLi4pLiBUYWtlcyBhIHtAbGluayBHcC5FcnJvcn0gb2JqZWN0IGFzIHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGltZU91dD0wXSAtIE51bWJlciBvZiBtaWxsaXNlY29uZHMgYWJvdmUgd2hpY2ggYSB0aW1lT3V0IHJlc3BvbnNlIHdpbGwgYmUgcmV0dXJuZWQgd2l0aCBvbkZhaWx1cmUgY2FsbGJhY2sgKHNlZSBhYm92ZSkuIERlZmF1bHQgdmFsdWUgaXMgMCB3aGljaCBtZWFucyB0aW1lT3V0IHdpbGwgbm90IGJlIGhhbmRsZWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm91dHB1dEZvcm1hdD0nanNvbiddIC0gT3V0cHV0IGZvcm1hdCAoXCJqc29uXCIgb3IgXCJ4bWxcIikgdG8gdXNlIGZvciB1bmRlcmx5aW5nIHdlYlNlcnZpY2UuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2VydmVyVXJsPWh0dHAgKHMpOi8vd3hzLmlnbi5mci9BUElLRVkvaXRpbmVyYWlyZS9yZXN0L3JvdXRlLmpzb25dIC0gV2ViIHNlcnZpY2UgVVJMLiBJZiB1c2VkLCBvcHRpb25zLmFwaUtleSBwYXJhbWV0ZXIgaXMgaWdub3JlZC4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zc2wgPSB0cnVlXSAtIFVzZSBvZiBIVFRQUyBvciBIVFRQIHByb3RvY29sIHRvIHJlcXVlc3QgdGhlIHNlcnZpY2VzLiBIVFRQUyBieSBkZWZhdWx0IChzc2w9dHJ1ZSkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnByb3RvY29sPVhIUl0gLSBQcm90b2NvbCB1c2VkIHRvIGhhbmRsZSBkaWFsb2cgd2l0aCB3ZWIgc2VydmljZS4gUG9zc2libGUgdmFsdWVzIGFyZSAnSlNPTlAnICh7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlB9KSBhbmQgJ1hIUicgKHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9YTUxIdHRwUmVxdWVzdH0pLiBPbmx5IFhIUiBwcm90b2NvbCBpcyBzdXBwb3J0ZWQgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm94eVVSTF0gLSBQcm94eSBVUkwgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNhbGxiYWNrU3VmZml4XSAtIENhbGxiYWNrIGZ1bmN0aW9uIG5hbWUgc3VmZml4IHRvIHVzZSBpbiBjYXNlIG9mIGEgSlNPTlAgcHJvdG9jb2wgdXNlIChzZWUgYWJvdmUpLCB0byBzZXQgeW91ciBvd24gc3VmZml4IGluc3RlYWQgb2YgYXV0by1pbmNyZW1lbnQuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnWEhSJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmh0dHBNZXRob2Q9R0VUXSAtIEhUVFAgbWV0aG9kIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdW5kZXJseWluZyB3ZWIgc2VydmljZSBpbiBjYXNlIG9mIGEgWEhSIHByb3RvY29sIHVzZSAoc2VlIGFib3ZlKS4gUG9zc2libGUgdmFsdWVzIGFyZSAnR0VUJyBhbmQgJ1BPU1QnLiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3htbFwiXSAtIENvbnRlbnQtVHlwZSB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgaW4gY2FzZSBvZiBhIFhIUiBwcm90b2NvbCB1c2UgKHNlZSBhYm92ZSkgYW5kIGlmIG1ldGhvZCBIVFRQIGlzIFBPU1QuIElnbm9yZWQgd2hlbiBvcHRpb25zLnByb3RvY29sIGlzIHNldCB0byAnSlNPTlAnIHZhbHVlLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yYXdSZXNwb25zZT1mYWxzZV0gLSBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIHRydWUgaW1wbGllcyB5b3Ugd2FudCB0byBoYW5kbGUgdGhlIHNlcnZpY2UgcmVzcG9uc2UgYnkgeW91cnNlbGYgOiBpdCB3aWxsIGJlIHJldHVybmVkIGFzIGFuIHVucGFyc2VkIFN0cmluZyBpbiBvblN1Y2Nlc3MgY2FsbGJhY2sgcGFyYW1ldGVyLiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25CZWZvcmVQYXJzZV0gLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgc2VydmljZSByZXNwb25zZSBiZWZvcmUgcGFyc2luZyAoYXMgYW4gdW5wYXJzZWQgU3RyaW5nKS4gVGFrZXMgYSBTdHJpbmcgYXMgYSBwYXJhbWV0ZXIgKHRoZSByYXcgc2VydmljZSByZXNwb25zZSkuIFJldHVybnMgYSBTdHJpbmcgdGhhdCB3aWxsIGJlIHBhcnNlZCBhcyB0aGUgc2VydmljZSByZXNwb25zZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqL1xuICAgIHJvdXRlIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJvdXRlU2VydmljZSA9IG5ldyBSb3V0ZShvcHRpb25zKTtcbiAgICAgICAgcm91dGVTZXJ2aWNlLmNhbGwoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbXB1dGluZyBhIHNldCBvZiBwbGFjZXMgKGN1cnZlKSByZWFjaGFibGUgZnJvbSBhIGdpdmVuIHBvaW50IChvciBmcm9tIHdoZXJlIHRvIHN0YXJ0IHRvIHJlYWNoIGEgZ2l2ZW4gcG9pbnQpIHdpdGhpbiBhIHRpbWUgb3IgZGlzdGFuY2UgY29uc3RyYWludCB1c2luZyB0aGUgW2lzb2Nocm9uZSBzZXJ2aWNlIG9mIHRoZSBHZW9wb3J0YWwgUGxhdGZvcm1de0BsaW5rIGh0dHBzOi8vZ2Vvc2VydmljZXMuaWduLmZyL2RvY3VtZW50YXRpb24vZ2Vvc2VydmljZXMvaXNvY2hyb25lcy5odG1sfS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgaXNvQ3VydmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIGZ1bmN0aW9uIGNhbGwuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuYXBpS2V5IC0gQWNjZXNzIGtleSB0byBHZW9wb3J0YWwgcGxhdGZvcm0sIG9idGFpbmVkIFtoZXJlXXtAbGluayBodHRwOi8vcHJvZmVzc2lvbm5lbHMuaWduLmZyL2lnbi9jb250cmF0c30uXG4gICAgICogQHBhcmFtIHtHcC5Qb2ludH0gb3B0aW9ucy5wb3NpdGlvbiAtIFN0YXJ0IG9yIEFycml2YWwgKG9wdGlvbnMucmV2ZXJzZT09PXRydWUpIFBvaW50IGZvciB0aGUgY29tcHV0aW5nLiBFeHByZXNzZWQgaW4gQ1JTOjg0IGNvb3JkaW5hdGVzIHN5c3RlbSAocG9zaXRpb24ueCBjb3JyZXNwb25kcyB0byBsb25naXR1ZGUsIHBvc2l0aW9uLnkgY29ycmVzcG9uZHMgdG8gbGF0aXR1ZGUpLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5ncmFwaCA9IFwiVm9pdHVyZVwiXSAtIFVzZXIgcHJvZmlsZSB0byB1c2UgdG8gY29tcHV0ZSB0aGUgaXNvQ3VydmUgOiBcIlZvaXR1cmVcIiAodXNpbmcgYSB2ZWhpY3VsZSkgb3IgXCJQaWV0b25cIiAocGVkZXN0cmlhbikuIEhhcyBhbiBpbmZsdWVuY2Ugb24gdGhlIGtpbmQgb2Ygcm9hZHMgdG8gdXNlIGFuZCB0aGUgYXZlcmFnZSBzcGVlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBbb3B0aW9ucy5leGNsdXNpb25zXSAtIEluZGljYXRlcyBpZiByb3V0ZSBoYXMgdG8gYXZvaWQgc29tZSBmZWF0dXJlcyAoXCJ0b2xsXCIsIFwiYnJpZGdlXCIgb3IgXCJ0dW5uZWxcIikuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZCA9IFwidGltZVwiXSAtIENvbXB1dGluZyBtZXRob2QgdG8gdXNlIDogXCJ0aW1lXCIgKHVzaW5nIGEgZHVyYXRpb24gYXMgYSBjb25zdHJhaW50KSBvciBcImRpc3RhbmNlXCIgKHVzaW5nIGEgZGlzdGFuY2UgYXMgYSBjb25zdHJhaW50KS5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0fSBvcHRpb25zLnRpbWUgLSBNYXhpbXVtIGR1cmF0aW9uIChleHByZXNzZWQgaW4gc2Vjb25kcykgdG8gdXNlIHdoZW4gb3B0aW9ucy5tZXRob2QgaXMgc2V0IHRvIFwidGltZVwiLlxuICAgICAqIEBwYXJhbSB7RmxvYXR9IG9wdGlvbnMuZGlzdGFuY2UgLSBNYXhpbXVtIGRpc3RhbmNlIChleHByZXNzZWQgaW4gbWV0ZXJzKSB0byB1c2Ugd2hlbiBvcHRpb25zLm1ldGhvZCBpcyBzZXQgdG8gXCJkaXN0YW5jZVwiLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmV2ZXJzZSA9IGZhbHNlXSAtIFNldCB0aGlzIHBhcmFtZXRlciB0byB0cnVlIGlmIHlvdSB3YW50IG9wdGlvbnMucG9zaXRpb24gdG8gYmUgdGhlIGRlc3RpbmF0aW9uIChpbnN0ZWFkIG9mIGRlcGFydHVyZSkgZm9yIHRoZSBjb21wdXRpbmcuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zbW9vdGhpbmcgPSBmYWxzZV0gLSBTZXQgdGhpcyBwYXJhbWV0ZXIgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgcmVzdWx0aW5nIGdlb21ldHJ5IHRvIGJlIHNtb290aGVkLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaG9sZXMgPSBmYWxzZV0gLSBTZXQgdGhpcyBwYXJhbWV0ZXIgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgcmVzdWx0aW5nIGdlb21ldHJ5IChwb2x5Z29uKSB0byBoYXZlIGhvbGVzIGlmIHBlcnRpbmVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3VjY2VzcyAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZS4gVGFrZXMgYSB7QGxpbmsgR3AuU2VydmljZXMuSXNvQ3VydmVSZXNwb25zZX0gb2JqZWN0IGFzIGEgcGFyYW1ldGVyIGV4Y2VwdCBpZiBcInJhd1Jlc3BvbnNlXCIgaXMgc2V0IHRvIHRydWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25GYWlsdXJlXSAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB1bnN1Y2Nlc3NmdWwgc2VydmljZSByZXNwb25zZXMgKHRpbWVPdXQsIG1pc3NpbmcgcmlnaHRzLCAuLi4pLiBUYWtlcyBhIHtAbGluayBHcC5FcnJvcn0gb2JqZWN0IGFzIHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGltZU91dD0wXSAtIE51bWJlciBvZiBtaWxsaXNlY29uZHMgYWJvdmUgd2hpY2ggYSB0aW1lT3V0IHJlc3BvbnNlIHdpbGwgYmUgcmV0dXJuZWQgd2l0aCBvbkZhaWx1cmUgY2FsbGJhY2sgKHNlZSBhYm92ZSkuIERlZmF1bHQgdmFsdWUgaXMgMCB3aGljaCBtZWFucyB0aW1lT3V0IHdpbGwgbm90IGJlIGhhbmRsZWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm91dHB1dEZvcm1hdD0nanNvbiddIC0gT3V0cHV0IGZvcm1hdCAoXCJqc29uXCIgb3IgXCJ4bWxcIikgdG8gdXNlIGZvciB1bmRlcmx5aW5nIHdlYlNlcnZpY2UuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2VydmVyVXJsPWh0dHAgKHMpOi8vd3hzLmlnbi5mci9BUElLRVkvaXNvY2hyb25lL2lzb2Nocm9uZS5qc29uXSAtIFdlYiBzZXJ2aWNlIFVSTC4gSWYgdXNlZCwgb3B0aW9ucy5hcGlLZXkgcGFyYW1ldGVyIGlzIGlnbm9yZWQuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3NsID0gdHJ1ZV0gLSBVc2Ugb2YgSFRUUFMgb3IgSFRUUCBwcm90b2NvbCB0byByZXF1ZXN0IHRoZSBzZXJ2aWNlcy4gSFRUUFMgYnkgZGVmYXVsdCAoc3NsPXRydWUpLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm90b2NvbD1YSFJdIC0gUHJvdG9jb2wgdXNlZCB0byBoYW5kbGUgZGlhbG9nIHdpdGggd2ViIHNlcnZpY2UuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ0pTT05QJyAoe0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QfSkgYW5kICdYSFInICh7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvWE1MSHR0cFJlcXVlc3R9KS4gT25seSBYSFIgcHJvdG9jb2wgaXMgc3VwcG9ydGVkIGluIGEgTm9kZUpTIGVudmlyb25tZW50LiBPbmx5IHVzZSBpZiB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucHJveHlVUkxdIC0gUHJveHkgVVJMIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdW5kZXJseWluZyB3ZWIgc2VydmljZS4gSWdub3JlZCB3aGVuIG9wdGlvbnMucHJvdG9jb2wgaXMgc2V0IHRvICdKU09OUCcgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jYWxsYmFja1N1ZmZpeF0gLSBDYWxsYmFjayBmdW5jdGlvbiBuYW1lIHN1ZmZpeCB0byB1c2UgaW4gY2FzZSBvZiBhIEpTT05QIHByb3RvY29sIHVzZSAoc2VlIGFib3ZlKSwgdG8gc2V0IHlvdXIgb3duIHN1ZmZpeCBpbnN0ZWFkIG9mIGF1dG8taW5jcmVtZW50LiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ1hIUicgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5odHRwTWV0aG9kPUdFVF0gLSBIVFRQIG1ldGhvZCB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHVuZGVybHlpbmcgd2ViIHNlcnZpY2UgaW4gY2FzZSBvZiBhIFhIUiBwcm90b2NvbCB1c2UgKHNlZSBhYm92ZSkuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ0dFVCcgYW5kICdQT1NUJy4gSWdub3JlZCB3aGVuIG9wdGlvbnMucHJvdG9jb2wgaXMgc2V0IHRvICdKU09OUCcgdmFsdWUuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi94bWxcIl0gLSBDb250ZW50LVR5cGUgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB1bmRlcmx5aW5nIHdlYiBzZXJ2aWNlIGluIGNhc2Ugb2YgYSBYSFIgcHJvdG9jb2wgdXNlIChzZWUgYWJvdmUpIGFuZCBpZiBtZXRob2QgSFRUUCBpcyBQT1NULiBJZ25vcmVkIHdoZW4gb3B0aW9ucy5wcm90b2NvbCBpcyBzZXQgdG8gJ0pTT05QJyB2YWx1ZS4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmF3UmVzcG9uc2U9ZmFsc2VdIC0gU2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byB0cnVlIGltcGxpZXMgeW91IHdhbnQgdG8gaGFuZGxlIHRoZSBzZXJ2aWNlIHJlc3BvbnNlIGJ5IHlvdXJzZWxmIDogaXQgd2lsbCBiZSByZXR1cm5lZCBhcyBhbiB1bnBhcnNlZCBTdHJpbmcgaW4gb25TdWNjZXNzIGNhbGxiYWNrIHBhcmFtZXRlci4gT25seSB1c2UgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uQmVmb3JlUGFyc2VdIC0gQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIGhhbmRsaW5nIHNlcnZpY2UgcmVzcG9uc2UgYmVmb3JlIHBhcnNpbmcgKGFzIGFuIHVucGFyc2VkIFN0cmluZykuIFRha2VzIGEgU3RyaW5nIGFzIGEgcGFyYW1ldGVyICh0aGUgcmF3IHNlcnZpY2UgcmVzcG9uc2UpLiBSZXR1cm5zIGEgU3RyaW5nIHRoYXQgd2lsbCBiZSBwYXJzZWQgYXMgdGhlIHNlcnZpY2UgcmVzcG9uc2UuIE9ubHkgdXNlIGlmIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAgICAgKi9cbiAgICBpc29DdXJ2ZSA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBwcm9jZXNzSXNvQ3VydmVTZXJ2aWNlID0gbmV3IFByb2Nlc3NJc29DdXJ2ZShvcHRpb25zKTtcbiAgICAgICAgcHJvY2Vzc0lzb0N1cnZlU2VydmljZS5jYWxsKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBQb2ludCBvYmplY3QuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQGFsaWFzIEdwLlBvaW50XG4gKlxuICogQHByb3BlcnR5IHtGbG9hdH0geCAtIFBvaW50IGFic2Npc3NhXG4gKiBAcHJvcGVydHkge0Zsb2F0fSB5IC0gUG9pbnQgb3JkaW5hdGVcbiAqL1xudmFyIHBvaW50ID0ge307XG5cbi8qKlxuICogQ2lyY2xlIG9iamVjdC5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAYWxpYXMgR3AuQ2lyY2xlXG4gKlxuICogQHByb3BlcnR5IHtGbG9hdH0geCAtIENpcmNsZSBjZW50ZXIgYWJzY2lzc2EuXG4gKiBAcHJvcGVydHkge0Zsb2F0fSB5IC0gQ2lyY2xlIGNlbnRlciBvcmRpbmF0ZS5cbiAqIEBwcm9wZXJ0eSB7RmxvYXR9IHJhZGl1cyAtIENpcmNsZSByYWRpdXMuXG4gKi9cbnZhciBjaXJjbGUgPSB7fTtcblxuLyoqXG4gKiBCb3VuZGluZyBib3ggb2JqZWN0LCBleHByZXNzZWQgd2l0aCBmb3VyIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBhbGlhcyBHcC5CQm94XG4gKlxuICogQHByb3BlcnR5IHtGbG9hdH0gbGVmdCAtIG1pbmltdW0gYWJzY2lzc2FcbiAqIEBwcm9wZXJ0eSB7RmxvYXR9IHJpZ2h0IC0gbWF4aW11bSBhYnNjaXNzYVxuICogQHByb3BlcnR5IHtGbG9hdH0gYm90dG9tIC0gbWluaW11bSBvcmRpbmF0ZVxuICogQHByb3BlcnR5IHtGbG9hdH0gdG9wIC0gbWF4aW11bSBvcmRpbmF0ZVxuICovXG52YXIgYmJveCA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBTZXJ2aWNlcztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Services/Services.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Utils/Helper.js":
/*!***************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Utils/Helper.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Classe utilitaire\n *\n * @module Helper\n * @alias Gp.Helper\n */\nvar Helper = {\n\n    /**\n     * concatenation des parametres key/value dans les urls\n     *\n     * @method normalyzeParameters\n     * @static\n     * @param {Object} params - tableau de clef/valeur\n     *\n     * @example\n     *  Gp.Utils.Helper.normalyzeParameters ({\n     *         key1:value1,\n     *         key2:value2,\n     *         key3:value3\n     *  });\n     *  // out : \"key1=value1&key2=value2&key3=value3\"\n     *\n     * @returns {String} retourne les paramètres concaténés\n     */\n    normalyzeParameters : function (params) {\n        var myParams = null;\n\n        if (params) {\n            var tabParams = [];\n            for (var key in params) {\n                if (params.hasOwnProperty(key)) {\n                    var value = params[key];\n                    if (!value) {\n                        value = \"\";\n                    }\n                    tabParams.push(key + \"=\" + value);\n                }\n            }\n\n            myParams = tabParams.join(\"&\");\n        }\n\n        return myParams;\n    },\n\n    /**\n     * Concaténation et encodage des urls.\n     *\n     * @method normalyzeUrl\n     * @static\n     * @param {String} url - url\n     * @param {Object|String} params - tableau de clef/valeur ou string\n     * @param {Boolean} encode - true|false, false par defaut\n     *\n     * @example\n     *  Gp.Utils.Helper.normalyzeUrl (url, {\n     *         key1:value1,\n     *         key2=:value2,\n     *         key3:value3\n     *  });\n     *  // out : \"url?key1=value1&key2=value2&key3=value3\"\n     *\n     * @returns {String} retourne une url normalisée\n     */\n    normalyzeUrl : function (url, params, encode) {\n        var myUrl = url;\n\n        if (url) {\n            var k = url.indexOf(\"?\");\n            if (k === -1) { // pas de ? et KVP\n                myUrl += \"?\";\n            }\n\n            if (k !== -1 && k !== url.length - 1) { // KVP\n                myUrl += \"&\";\n            }\n        }\n\n        if (params) {\n            if (typeof params === \"string\") {\n                myUrl += params;\n            } else {\n                myUrl += this.normalyzeParameters(params);\n            }\n        }\n\n        if (encode) {\n            // FIXME bonne idée ?\n            myUrl = encodeURIComponent(myUrl);\n        }\n\n        return myUrl;\n    },\n\n    /**\n     * Indentation d'une chaine\n     *\n     * @method indent\n     * @static\n     * @param {Number} n - nombre de tabulation\n     * @param {String} msg - chaine\n     *\n     * @example\n     * Gp.Utils.Helper.indent (2, \"message à indenter\")\n     * // out\n     * // ........message à indenter\n     *\n     * @returns {String} retourne une chaine indentée\n     */\n    indent : function (n, msg) {\n        var num = n || 0;\n        return new Array(num + 1).join(\"\\t\") + msg;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Helper);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvVXRpbHMvSGVscGVyLmpzPzBiZDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLGNBQWM7QUFDN0IsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTs7QUFFQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxxRUFBTSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9VdGlscy9IZWxwZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENsYXNzZSB1dGlsaXRhaXJlXG4gKlxuICogQG1vZHVsZSBIZWxwZXJcbiAqIEBhbGlhcyBHcC5IZWxwZXJcbiAqL1xudmFyIEhlbHBlciA9IHtcblxuICAgIC8qKlxuICAgICAqIGNvbmNhdGVuYXRpb24gZGVzIHBhcmFtZXRyZXMga2V5L3ZhbHVlIGRhbnMgbGVzIHVybHNcbiAgICAgKlxuICAgICAqIEBtZXRob2Qgbm9ybWFseXplUGFyYW1ldGVyc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gdGFibGVhdSBkZSBjbGVmL3ZhbGV1clxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgR3AuVXRpbHMuSGVscGVyLm5vcm1hbHl6ZVBhcmFtZXRlcnMgKHtcbiAgICAgKiAgICAgICAgIGtleTE6dmFsdWUxLFxuICAgICAqICAgICAgICAga2V5Mjp2YWx1ZTIsXG4gICAgICogICAgICAgICBrZXkzOnZhbHVlM1xuICAgICAqICB9KTtcbiAgICAgKiAgLy8gb3V0IDogXCJrZXkxPXZhbHVlMSZrZXkyPXZhbHVlMiZrZXkzPXZhbHVlM1wiXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXRvdXJuZSBsZXMgcGFyYW3DqHRyZXMgY29uY2F0w6luw6lzXG4gICAgICovXG4gICAgbm9ybWFseXplUGFyYW1ldGVycyA6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgdmFyIG15UGFyYW1zID0gbnVsbDtcblxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgdGFiUGFyYW1zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcmFtc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGFiUGFyYW1zLnB1c2goa2V5ICsgXCI9XCIgKyB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBteVBhcmFtcyA9IHRhYlBhcmFtcy5qb2luKFwiJlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBteVBhcmFtcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29uY2F0w6luYXRpb24gZXQgZW5jb2RhZ2UgZGVzIHVybHMuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIG5vcm1hbHl6ZVVybFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdXJsXG4gICAgICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBwYXJhbXMgLSB0YWJsZWF1IGRlIGNsZWYvdmFsZXVyIG91IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5jb2RlIC0gdHJ1ZXxmYWxzZSwgZmFsc2UgcGFyIGRlZmF1dFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgR3AuVXRpbHMuSGVscGVyLm5vcm1hbHl6ZVVybCAodXJsLCB7XG4gICAgICogICAgICAgICBrZXkxOnZhbHVlMSxcbiAgICAgKiAgICAgICAgIGtleTI9OnZhbHVlMixcbiAgICAgKiAgICAgICAgIGtleTM6dmFsdWUzXG4gICAgICogIH0pO1xuICAgICAqICAvLyBvdXQgOiBcInVybD9rZXkxPXZhbHVlMSZrZXkyPXZhbHVlMiZrZXkzPXZhbHVlM1wiXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXRvdXJuZSB1bmUgdXJsIG5vcm1hbGlzw6llXG4gICAgICovXG4gICAgbm9ybWFseXplVXJsIDogZnVuY3Rpb24gKHVybCwgcGFyYW1zLCBlbmNvZGUpIHtcbiAgICAgICAgdmFyIG15VXJsID0gdXJsO1xuXG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIHZhciBrID0gdXJsLmluZGV4T2YoXCI/XCIpO1xuICAgICAgICAgICAgaWYgKGsgPT09IC0xKSB7IC8vIHBhcyBkZSA/IGV0IEtWUFxuICAgICAgICAgICAgICAgIG15VXJsICs9IFwiP1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoayAhPT0gLTEgJiYgayAhPT0gdXJsLmxlbmd0aCAtIDEpIHsgLy8gS1ZQXG4gICAgICAgICAgICAgICAgbXlVcmwgKz0gXCImXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIG15VXJsICs9IHBhcmFtcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbXlVcmwgKz0gdGhpcy5ub3JtYWx5emVQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5jb2RlKSB7XG4gICAgICAgICAgICAvLyBGSVhNRSBib25uZSBpZMOpZSA/XG4gICAgICAgICAgICBteVVybCA9IGVuY29kZVVSSUNvbXBvbmVudChteVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbXlVcmw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluZGVudGF0aW9uIGQndW5lIGNoYWluZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBpbmRlbnRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBub21icmUgZGUgdGFidWxhdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtc2cgLSBjaGFpbmVcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogR3AuVXRpbHMuSGVscGVyLmluZGVudCAoMiwgXCJtZXNzYWdlIMOgIGluZGVudGVyXCIpXG4gICAgICogLy8gb3V0XG4gICAgICogLy8gLi4uLi4uLi5tZXNzYWdlIMOgIGluZGVudGVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXRvdXJuZSB1bmUgY2hhaW5lIGluZGVudMOpZVxuICAgICAqL1xuICAgIGluZGVudCA6IGZ1bmN0aW9uIChuLCBtc2cpIHtcbiAgICAgICAgdmFyIG51bSA9IG4gfHwgMDtcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheShudW0gKyAxKS5qb2luKFwiXFx0XCIpICsgbXNnO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhlbHBlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Utils/Helper.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js":
/*!************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! loglevel */ \"./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar LoggerByDefault = {\n    /**\n     * logger statique\n     *\n     * @static\n     * @param {String} name - nom du logger\n     * @returns {Object} retourne un logger\n     */\n    getLogger : function (name) {\n        // Substitute global constants configured at compile time\n        // cf. webpack.config.js\n        // FIXME howtodo !? DefineWebpackPlugin ? EnvironmentWebpackPlugin ?\n        (\"false\".match(/true/))\n            ? loglevel__WEBPACK_IMPORTED_MODULE_0__[\"disableAll\"]() : loglevel__WEBPACK_IMPORTED_MODULE_0__[\"enableAll\"]();\n        var logname = name || \"default\";\n        return loglevel__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"](logname);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LoggerByDefault);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvVXRpbHMvTG9nZ2VyQnlEZWZhdWx0LmpzPzA2NWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQWdDOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbURBQWMsS0FBSyxrREFBYTtBQUM5QztBQUNBLGVBQWUsa0RBQWE7QUFDNUI7QUFDQTs7QUFFZSw4RUFBZSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2dlb3BvcnRhbC1hY2Nlc3MtbGliL3NyYy9VdGlscy9Mb2dnZXJCeURlZmF1bHQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBMb2cgZnJvbSBcImxvZ2xldmVsXCI7XG5cbnZhciBMb2dnZXJCeURlZmF1bHQgPSB7XG4gICAgLyoqXG4gICAgICogbG9nZ2VyIHN0YXRpcXVlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBub20gZHUgbG9nZ2VyXG4gICAgICogQHJldHVybnMge09iamVjdH0gcmV0b3VybmUgdW4gbG9nZ2VyXG4gICAgICovXG4gICAgZ2V0TG9nZ2VyIDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgLy8gU3Vic3RpdHV0ZSBnbG9iYWwgY29uc3RhbnRzIGNvbmZpZ3VyZWQgYXQgY29tcGlsZSB0aW1lXG4gICAgICAgIC8vIGNmLiB3ZWJwYWNrLmNvbmZpZy5qc1xuICAgICAgICAvLyBGSVhNRSBob3d0b2RvICE/IERlZmluZVdlYnBhY2tQbHVnaW4gPyBFbnZpcm9ubWVudFdlYnBhY2tQbHVnaW4gP1xuICAgICAgICAoXCJfX1BST0RVQ1RJT05fX1wiLm1hdGNoKC90cnVlLykpXG4gICAgICAgICAgICA/IExvZy5kaXNhYmxlQWxsKCkgOiBMb2cuZW5hYmxlQWxsKCk7XG4gICAgICAgIHZhciBsb2duYW1lID0gbmFtZSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgcmV0dXJuIExvZy5nZXRMb2dnZXIobG9nbmFtZSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyQnlEZWZhdWx0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Utils/LoggerByDefault.js\n");

/***/ }),

/***/ "./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js":
/*!**************************************************************************!*\
  !*** ./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Classe de gestion des erreurs qui permer d'associer un message d'erreur à l'exception lancée.\n *\n * @example\n * MessagesResources.getMessage(\"ERROR_PARAM_MISSING\", \"x\", \"y\", \"z\")));\n * // --> output : Parameter(s) 'x - y - z' missing\n *\n * @module MessagesResources\n * @alias Gp.Utils.MessagesResources\n * @private\n */\nvar MessagesResources = {\n\n    // Paramètres\n    PARAM_MISSING : \"Parameter(s) '%var%' missing\",\n    PARAM_EMPTY : \"Parameter(s) '%var%' empty\",\n    PARAM_TYPE : \"Wrong type(s) for parameter(s) '%var%'\",\n    PARAM_FORMAT : \"Parameter(s) '%var%' not correctly formatted\",\n    PARAM_NOT_SUPPORT : \"Value(s) for parameter(s) '%var%' not supported\",\n    PARAM_NOT_SUPPORT_NODEJS : \"Value(s) for parameter(s) '%var%' not supported to NodeJS\",\n    PARAM_UNKNOWN : \"Value(s) for parameter(s) '%var%' unknown\",\n\n    // Services\n    // Requête\n    SERVICE_REQUEST_BUILD : \"An error occurred during the request building of the service\",\n    SERVICE_REQUEST_EMPTY : \"The request sent to the service is empty\",\n\n    // Réponse\n    SERVICE_RESPONSE_EXCEPTION : \"The service returned an exception : '%var%'\",\n    SERVICE_RESPONSE_EXCEPTION_2 : \"The service returned an exception\",\n    SERVICE_RESPONSE_ANALYSE : \"An error occurred while parsing the response '%var%' of the service\",\n    SERVICE_RESPONSE_ANALYSE_2 : \"An unknown error occurred while parsing the response\",\n    SERVICE_RESPONSE_EMPTY : \"The response of the service is empty\",\n    SERVICE_RESPONSE_EMPTY_2 : \"The response from the service could not be analyzed or is empty\",\n    SERVICE_RESPONSE_FORMAT : \"The format of the service response is not supported (handled format(s) : '%var%')\",\n    SERVICE_RESPONSE_FORMAT_2 : \"The format of the service response is not supported\",\n    SERVICE_RESPONSE_FORMAT_3 : \"No suggestion matching the search\",\n\n    // Classes\n    CLASS_CONSTRUCTOR : \"'%var%' constructor cannot be called as a function.\",\n\n    /**\n     * Fonction qui va retourner le message d'erreur associé à la clé donnée\n     *\n     * @method getMessage\n     * @param {String} clef - Clef de l'erreur (ex : ERROR_PARAM)\n     * @param {String[]} parametres - Paramètres/variables concernés par le message d'erreur associé à la clef donnée\n     * @return {String} message - String contenant le message de l'exception\n     */\n    getMessage : function (clef, parametres) {\n        // param de la fonction uniquement pour la documentation...\n\n        if (Object.keys(arguments).length === 0) {\n            return \"Message indefined !\";\n        }\n\n        var params = Array.prototype.slice.call(arguments);\n        var key = params.shift();\n        var args = params;\n\n        var message = this[key];\n\n        try {\n            if (Array.isArray(args) && args.length > 0) {\n                message = message.replace(\"%var%\", args.join(\" - \"));\n            } else {\n                message = message.replace(\"%var%\", \"%var% (not specified)\");\n            }\n        } catch (e) {\n            // error de string.replace()\n\n        }\n\n        return message;\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MessagesResources);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXMuanM/Y2ViZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxTQUFTO0FBQ3hCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSxnRkFBaUIsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZW9wb3J0YWwtYWNjZXNzLWxpYi9zcmMvVXRpbHMvTWVzc2FnZXNSZXNvdXJjZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENsYXNzZSBkZSBnZXN0aW9uIGRlcyBlcnJldXJzIHF1aSBwZXJtZXIgZCdhc3NvY2llciB1biBtZXNzYWdlIGQnZXJyZXVyIMOgIGwnZXhjZXB0aW9uIGxhbmPDqWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIE1lc3NhZ2VzUmVzb3VyY2VzLmdldE1lc3NhZ2UoXCJFUlJPUl9QQVJBTV9NSVNTSU5HXCIsIFwieFwiLCBcInlcIiwgXCJ6XCIpKSk7XG4gKiAvLyAtLT4gb3V0cHV0IDogUGFyYW1ldGVyKHMpICd4IC0geSAtIHonIG1pc3NpbmdcbiAqXG4gKiBAbW9kdWxlIE1lc3NhZ2VzUmVzb3VyY2VzXG4gKiBAYWxpYXMgR3AuVXRpbHMuTWVzc2FnZXNSZXNvdXJjZXNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBNZXNzYWdlc1Jlc291cmNlcyA9IHtcblxuICAgIC8vIFBhcmFtw6h0cmVzXG4gICAgUEFSQU1fTUlTU0lORyA6IFwiUGFyYW1ldGVyKHMpICcldmFyJScgbWlzc2luZ1wiLFxuICAgIFBBUkFNX0VNUFRZIDogXCJQYXJhbWV0ZXIocykgJyV2YXIlJyBlbXB0eVwiLFxuICAgIFBBUkFNX1RZUEUgOiBcIldyb25nIHR5cGUocykgZm9yIHBhcmFtZXRlcihzKSAnJXZhciUnXCIsXG4gICAgUEFSQU1fRk9STUFUIDogXCJQYXJhbWV0ZXIocykgJyV2YXIlJyBub3QgY29ycmVjdGx5IGZvcm1hdHRlZFwiLFxuICAgIFBBUkFNX05PVF9TVVBQT1JUIDogXCJWYWx1ZShzKSBmb3IgcGFyYW1ldGVyKHMpICcldmFyJScgbm90IHN1cHBvcnRlZFwiLFxuICAgIFBBUkFNX05PVF9TVVBQT1JUX05PREVKUyA6IFwiVmFsdWUocykgZm9yIHBhcmFtZXRlcihzKSAnJXZhciUnIG5vdCBzdXBwb3J0ZWQgdG8gTm9kZUpTXCIsXG4gICAgUEFSQU1fVU5LTk9XTiA6IFwiVmFsdWUocykgZm9yIHBhcmFtZXRlcihzKSAnJXZhciUnIHVua25vd25cIixcblxuICAgIC8vIFNlcnZpY2VzXG4gICAgLy8gUmVxdcOqdGVcbiAgICBTRVJWSUNFX1JFUVVFU1RfQlVJTEQgOiBcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgcmVxdWVzdCBidWlsZGluZyBvZiB0aGUgc2VydmljZVwiLFxuICAgIFNFUlZJQ0VfUkVRVUVTVF9FTVBUWSA6IFwiVGhlIHJlcXVlc3Qgc2VudCB0byB0aGUgc2VydmljZSBpcyBlbXB0eVwiLFxuXG4gICAgLy8gUsOpcG9uc2VcbiAgICBTRVJWSUNFX1JFU1BPTlNFX0VYQ0VQVElPTiA6IFwiVGhlIHNlcnZpY2UgcmV0dXJuZWQgYW4gZXhjZXB0aW9uIDogJyV2YXIlJ1wiLFxuICAgIFNFUlZJQ0VfUkVTUE9OU0VfRVhDRVBUSU9OXzIgOiBcIlRoZSBzZXJ2aWNlIHJldHVybmVkIGFuIGV4Y2VwdGlvblwiLFxuICAgIFNFUlZJQ0VfUkVTUE9OU0VfQU5BTFlTRSA6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcGFyc2luZyB0aGUgcmVzcG9uc2UgJyV2YXIlJyBvZiB0aGUgc2VydmljZVwiLFxuICAgIFNFUlZJQ0VfUkVTUE9OU0VfQU5BTFlTRV8yIDogXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkIHdoaWxlIHBhcnNpbmcgdGhlIHJlc3BvbnNlXCIsXG4gICAgU0VSVklDRV9SRVNQT05TRV9FTVBUWSA6IFwiVGhlIHJlc3BvbnNlIG9mIHRoZSBzZXJ2aWNlIGlzIGVtcHR5XCIsXG4gICAgU0VSVklDRV9SRVNQT05TRV9FTVBUWV8yIDogXCJUaGUgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmljZSBjb3VsZCBub3QgYmUgYW5hbHl6ZWQgb3IgaXMgZW1wdHlcIixcbiAgICBTRVJWSUNFX1JFU1BPTlNFX0ZPUk1BVCA6IFwiVGhlIGZvcm1hdCBvZiB0aGUgc2VydmljZSByZXNwb25zZSBpcyBub3Qgc3VwcG9ydGVkIChoYW5kbGVkIGZvcm1hdChzKSA6ICcldmFyJScpXCIsXG4gICAgU0VSVklDRV9SRVNQT05TRV9GT1JNQVRfMiA6IFwiVGhlIGZvcm1hdCBvZiB0aGUgc2VydmljZSByZXNwb25zZSBpcyBub3Qgc3VwcG9ydGVkXCIsXG4gICAgU0VSVklDRV9SRVNQT05TRV9GT1JNQVRfMyA6IFwiTm8gc3VnZ2VzdGlvbiBtYXRjaGluZyB0aGUgc2VhcmNoXCIsXG5cbiAgICAvLyBDbGFzc2VzXG4gICAgQ0xBU1NfQ09OU1RSVUNUT1IgOiBcIicldmFyJScgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiLFxuXG4gICAgLyoqXG4gICAgICogRm9uY3Rpb24gcXVpIHZhIHJldG91cm5lciBsZSBtZXNzYWdlIGQnZXJyZXVyIGFzc29jacOpIMOgIGxhIGNsw6kgZG9ubsOpZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBnZXRNZXNzYWdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNsZWYgLSBDbGVmIGRlIGwnZXJyZXVyIChleCA6IEVSUk9SX1BBUkFNKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IHBhcmFtZXRyZXMgLSBQYXJhbcOodHJlcy92YXJpYWJsZXMgY29uY2VybsOpcyBwYXIgbGUgbWVzc2FnZSBkJ2VycmV1ciBhc3NvY2nDqSDDoCBsYSBjbGVmIGRvbm7DqWVcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IG1lc3NhZ2UgLSBTdHJpbmcgY29udGVuYW50IGxlIG1lc3NhZ2UgZGUgbCdleGNlcHRpb25cbiAgICAgKi9cbiAgICBnZXRNZXNzYWdlIDogZnVuY3Rpb24gKGNsZWYsIHBhcmFtZXRyZXMpIHtcbiAgICAgICAgLy8gcGFyYW0gZGUgbGEgZm9uY3Rpb24gdW5pcXVlbWVudCBwb3VyIGxhIGRvY3VtZW50YXRpb24uLi5cblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYXJndW1lbnRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcIk1lc3NhZ2UgaW5kZWZpbmVkICFcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJhbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICB2YXIga2V5ID0gcGFyYW1zLnNoaWZ0KCk7XG4gICAgICAgIHZhciBhcmdzID0gcGFyYW1zO1xuXG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpc1trZXldO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzKSAmJiBhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKFwiJXZhciVcIiwgYXJncy5qb2luKFwiIC0gXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZShcIiV2YXIlXCIsIFwiJXZhciUgKG5vdCBzcGVjaWZpZWQpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBlcnJvciBkZSBzdHJpbmcucmVwbGFjZSgpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VzUmVzb3VyY2VzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/geoportal-access-lib/src/Utils/MessagesResources.js\n");

/***/ }),

/***/ "./node_modules/loglevel/lib/loglevel.js":
/*!***********************************************!*\
  !*** ./node_modules/loglevel/lib/loglevel.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9sb2dsZXZlbC9saWIvbG9nbGV2ZWwuanM/NWM3ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUEwQztBQUNsRCxRQUFRLG9DQUFPLFVBQVU7QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUMxQixLQUFLLE1BQU0sRUFJTjtBQUNMLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QjtBQUN6QixTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckUsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2dsZXZlbC9saWIvbG9nbGV2ZWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuKiBsb2dsZXZlbCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbFxuKlxuKiBDb3B5cmlnaHQgKGMpIDIwMTMgVGltIFBlcnJ5XG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiovXG4oZnVuY3Rpb24gKHJvb3QsIGRlZmluaXRpb24pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShkZWZpbml0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QubG9nID0gZGVmaW5pdGlvbigpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy8gU2xpZ2h0bHkgZHViaW91cyB0cmlja3MgdG8gY3V0IGRvd24gbWluaW1pemVkIGZpbGUgc2l6ZVxuICAgIHZhciBub29wID0gZnVuY3Rpb24oKSB7fTtcbiAgICB2YXIgdW5kZWZpbmVkVHlwZSA9IFwidW5kZWZpbmVkXCI7XG4gICAgdmFyIGlzSUUgPSAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSkgJiYgKHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yICE9PSB1bmRlZmluZWRUeXBlKSAmJiAoXG4gICAgICAgIC9UcmlkZW50XFwvfE1TSUUgLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuICAgICk7XG5cbiAgICB2YXIgbG9nTWV0aG9kcyA9IFtcbiAgICAgICAgXCJ0cmFjZVwiLFxuICAgICAgICBcImRlYnVnXCIsXG4gICAgICAgIFwiaW5mb1wiLFxuICAgICAgICBcIndhcm5cIixcbiAgICAgICAgXCJlcnJvclwiXG4gICAgXTtcblxuICAgIC8vIENyb3NzLWJyb3dzZXIgYmluZCBlcXVpdmFsZW50IHRoYXQgd29ya3MgYXQgbGVhc3QgYmFjayB0byBJRTZcbiAgICBmdW5jdGlvbiBiaW5kTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgbWV0aG9kID0gb2JqW21ldGhvZE5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZC5iaW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmJpbmQob2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwobWV0aG9kLCBvYmopO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIE1pc3NpbmcgYmluZCBzaGltIG9yIElFOCArIE1vZGVybml6ciwgZmFsbGJhY2sgdG8gd3JhcHBpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkobWV0aG9kLCBbb2JqLCBhcmd1bWVudHNdKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJhY2UoKSBkb2Vzbid0IHByaW50IHRoZSBtZXNzYWdlIGluIElFLCBzbyBmb3IgdGhhdCBjYXNlIHdlIG5lZWQgdG8gd3JhcCBpdFxuICAgIGZ1bmN0aW9uIHRyYWNlRm9ySUUoKSB7XG4gICAgICAgIGlmIChjb25zb2xlLmxvZykge1xuICAgICAgICAgICAgaWYgKGNvbnNvbGUubG9nLmFwcGx5KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gb2xkIElFLCBuYXRpdmUgY29uc29sZSBtZXRob2RzIHRoZW1zZWx2ZXMgZG9uJ3QgaGF2ZSBhcHBseSgpLlxuICAgICAgICAgICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseShjb25zb2xlLmxvZywgW2NvbnNvbGUsIGFyZ3VtZW50c10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25zb2xlLnRyYWNlKSBjb25zb2xlLnRyYWNlKCk7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgdGhlIGJlc3QgbG9nZ2luZyBtZXRob2QgcG9zc2libGUgZm9yIHRoaXMgZW52XG4gICAgLy8gV2hlcmV2ZXIgcG9zc2libGUgd2Ugd2FudCB0byBiaW5kLCBub3Qgd3JhcCwgdG8gcHJlc2VydmUgc3RhY2sgdHJhY2VzXG4gICAgZnVuY3Rpb24gcmVhbE1ldGhvZChtZXRob2ROYW1lKSB7XG4gICAgICAgIGlmIChtZXRob2ROYW1lID09PSAnZGVidWcnKSB7XG4gICAgICAgICAgICBtZXRob2ROYW1lID0gJ2xvZyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09IHVuZGVmaW5lZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm8gbWV0aG9kIHBvc3NpYmxlLCBmb3Igbm93IC0gZml4ZWQgbGF0ZXIgYnkgZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlc1xuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZE5hbWUgPT09ICd0cmFjZScgJiYgaXNJRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlRm9ySUU7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uc29sZVttZXRob2ROYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYmluZE1ldGhvZChjb25zb2xlLCBtZXRob2ROYW1lKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlLmxvZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYmluZE1ldGhvZChjb25zb2xlLCAnbG9nJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoZXNlIHByaXZhdGUgZnVuY3Rpb25zIGFsd2F5cyBuZWVkIGB0aGlzYCB0byBiZSBzZXQgcHJvcGVybHlcblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VMb2dnaW5nTWV0aG9kcyhsZXZlbCwgbG9nZ2VyTmFtZSkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvZ01ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gbG9nTWV0aG9kc1tpXTtcbiAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSAoaSA8IGxldmVsKSA/XG4gICAgICAgICAgICAgICAgbm9vcCA6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRob2RGYWN0b3J5KG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmluZSBsb2cubG9nIGFzIGFuIGFsaWFzIGZvciBsb2cuZGVidWdcbiAgICAgICAgdGhpcy5sb2cgPSB0aGlzLmRlYnVnO1xuICAgIH1cblxuICAgIC8vIEluIG9sZCBJRSB2ZXJzaW9ucywgdGhlIGNvbnNvbGUgaXNuJ3QgcHJlc2VudCB1bnRpbCB5b3UgZmlyc3Qgb3BlbiBpdC5cbiAgICAvLyBXZSBidWlsZCByZWFsTWV0aG9kKCkgcmVwbGFjZW1lbnRzIGhlcmUgdGhhdCByZWdlbmVyYXRlIGxvZ2dpbmcgbWV0aG9kc1xuICAgIGZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gdW5kZWZpbmVkVHlwZSkge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHRoaXMsIGxldmVsLCBsb2dnZXJOYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzW21ldGhvZE5hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCwgd2UgdXNlIGNsb3NlbHkgYm91bmQgcmVhbCBtZXRob2RzIHdoZXJldmVyIHBvc3NpYmxlLCBhbmRcbiAgICAvLyBvdGhlcndpc2Ugd2Ugd2FpdCBmb3IgYSBjb25zb2xlIHRvIGFwcGVhciwgYW5kIHRoZW4gdHJ5IGFnYWluLlxuICAgIGZ1bmN0aW9uIGRlZmF1bHRNZXRob2RGYWN0b3J5KG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIHJldHVybiByZWFsTWV0aG9kKG1ldGhvZE5hbWUpIHx8XG4gICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTG9nZ2VyKG5hbWUsIGRlZmF1bHRMZXZlbCwgZmFjdG9yeSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGN1cnJlbnRMZXZlbDtcblxuICAgICAgdmFyIHN0b3JhZ2VLZXkgPSBcImxvZ2xldmVsXCI7XG4gICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgc3RvcmFnZUtleSArPSBcIjpcIiArIG5hbWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSB7XG4gICAgICAgIHN0b3JhZ2VLZXkgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBlcnNpc3RMZXZlbElmUG9zc2libGUobGV2ZWxOdW0pIHtcbiAgICAgICAgICB2YXIgbGV2ZWxOYW1lID0gKGxvZ01ldGhvZHNbbGV2ZWxOdW1dIHx8ICdzaWxlbnQnKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IHVuZGVmaW5lZFR5cGUgfHwgIXN0b3JhZ2VLZXkpIHJldHVybjtcblxuICAgICAgICAgIC8vIFVzZSBsb2NhbFN0b3JhZ2UgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZVtzdG9yYWdlS2V5XSA9IGxldmVsTmFtZTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cblxuICAgICAgICAgIC8vIFVzZSBzZXNzaW9uIGNvb2tpZSBhcyBmYWxsYmFja1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5jb29raWUgPVxuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiICsgbGV2ZWxOYW1lICsgXCI7XCI7XG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQZXJzaXN0ZWRMZXZlbCgpIHtcbiAgICAgICAgICB2YXIgc3RvcmVkTGV2ZWw7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gdW5kZWZpbmVkVHlwZSB8fCAhc3RvcmFnZUtleSkgcmV0dXJuO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldO1xuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cblxuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGNvb2tpZXMgaWYgbG9jYWwgc3RvcmFnZSBnaXZlcyB1cyBub3RoaW5nXG4gICAgICAgICAgaWYgKHR5cGVvZiBzdG9yZWRMZXZlbCA9PT0gdW5kZWZpbmVkVHlwZSkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdmFyIGNvb2tpZSA9IHdpbmRvdy5kb2N1bWVudC5jb29raWU7XG4gICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBjb29raWUuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RvcmFnZUtleSkgKyBcIj1cIik7XG4gICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSAvXihbXjtdKykvLmV4ZWMoY29va2llLnNsaWNlKGxvY2F0aW9uKSlbMV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGUgc3RvcmVkIGxldmVsIGlzIG5vdCB2YWxpZCwgdHJlYXQgaXQgYXMgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuICAgICAgICAgIGlmIChzZWxmLmxldmVsc1tzdG9yZWRMZXZlbF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3RvcmVkTGV2ZWw7XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKlxuICAgICAgICogUHVibGljIGxvZ2dlciBBUEkgLSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BpbXRlcnJ5L2xvZ2xldmVsIGZvciBkZXRhaWxzXG4gICAgICAgKlxuICAgICAgICovXG5cbiAgICAgIHNlbGYubmFtZSA9IG5hbWU7XG5cbiAgICAgIHNlbGYubGV2ZWxzID0geyBcIlRSQUNFXCI6IDAsIFwiREVCVUdcIjogMSwgXCJJTkZPXCI6IDIsIFwiV0FSTlwiOiAzLFxuICAgICAgICAgIFwiRVJST1JcIjogNCwgXCJTSUxFTlRcIjogNX07XG5cbiAgICAgIHNlbGYubWV0aG9kRmFjdG9yeSA9IGZhY3RvcnkgfHwgZGVmYXVsdE1ldGhvZEZhY3Rvcnk7XG5cbiAgICAgIHNlbGYuZ2V0TGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRMZXZlbDtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwsIHBlcnNpc3QpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcInN0cmluZ1wiICYmIHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbGV2ZWwgPSBzZWxmLmxldmVsc1tsZXZlbC50b1VwcGVyQ2FzZSgpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJudW1iZXJcIiAmJiBsZXZlbCA+PSAwICYmIGxldmVsIDw9IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xuICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgICAgICAgaWYgKHBlcnNpc3QgIT09IGZhbHNlKSB7ICAvLyBkZWZhdWx0cyB0byB0cnVlXG4gICAgICAgICAgICAgICAgICBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbChzZWxmLCBsZXZlbCwgbmFtZSk7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gdW5kZWZpbmVkVHlwZSAmJiBsZXZlbCA8IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTm8gY29uc29sZSBhdmFpbGFibGUgZm9yIGxvZ2dpbmdcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IFwibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogXCIgKyBsZXZlbDtcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLnNldERlZmF1bHRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgIGlmICghZ2V0UGVyc2lzdGVkTGV2ZWwoKSkge1xuICAgICAgICAgICAgICBzZWxmLnNldExldmVsKGxldmVsLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VsZi5lbmFibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XG4gICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5UUkFDRSwgcGVyc2lzdCk7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmRpc2FibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XG4gICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5TSUxFTlQsIHBlcnNpc3QpO1xuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIHRoZSByaWdodCBsZXZlbFxuICAgICAgdmFyIGluaXRpYWxMZXZlbCA9IGdldFBlcnNpc3RlZExldmVsKCk7XG4gICAgICBpZiAoaW5pdGlhbExldmVsID09IG51bGwpIHtcbiAgICAgICAgICBpbml0aWFsTGV2ZWwgPSBkZWZhdWx0TGV2ZWwgPT0gbnVsbCA/IFwiV0FSTlwiIDogZGVmYXVsdExldmVsO1xuICAgICAgfVxuICAgICAgc2VsZi5zZXRMZXZlbChpbml0aWFsTGV2ZWwsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqXG4gICAgICogVG9wLWxldmVsIEFQSVxuICAgICAqXG4gICAgICovXG5cbiAgICB2YXIgZGVmYXVsdExvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuICAgIHZhciBfbG9nZ2Vyc0J5TmFtZSA9IHt9O1xuICAgIGRlZmF1bHRMb2dnZXIuZ2V0TG9nZ2VyID0gZnVuY3Rpb24gZ2V0TG9nZ2VyKG5hbWUpIHtcbiAgICAgICAgaWYgKCh0eXBlb2YgbmFtZSAhPT0gXCJzeW1ib2xcIiAmJiB0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIikgfHwgbmFtZSA9PT0gXCJcIikge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBzdXBwbHkgYSBuYW1lIHdoZW4gY3JlYXRpbmcgYSBsb2dnZXIuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdO1xuICAgICAgICBpZiAoIWxvZ2dlcikge1xuICAgICAgICAgIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdID0gbmV3IExvZ2dlcihcbiAgICAgICAgICAgIG5hbWUsIGRlZmF1bHRMb2dnZXIuZ2V0TGV2ZWwoKSwgZGVmYXVsdExvZ2dlci5tZXRob2RGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nZ2VyO1xuICAgIH07XG5cbiAgICAvLyBHcmFiIHRoZSBjdXJyZW50IGdsb2JhbCBsb2cgdmFyaWFibGUgaW4gY2FzZSBvZiBvdmVyd3JpdGVcbiAgICB2YXIgX2xvZyA9ICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlKSA/IHdpbmRvdy5sb2cgOiB1bmRlZmluZWQ7XG4gICAgZGVmYXVsdExvZ2dlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlICYmXG4gICAgICAgICAgICAgICB3aW5kb3cubG9nID09PSBkZWZhdWx0TG9nZ2VyKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9nID0gX2xvZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xuICAgIH07XG5cbiAgICBkZWZhdWx0TG9nZ2VyLmdldExvZ2dlcnMgPSBmdW5jdGlvbiBnZXRMb2dnZXJzKCkge1xuICAgICAgICByZXR1cm4gX2xvZ2dlcnNCeU5hbWU7XG4gICAgfTtcblxuICAgIC8vIEVTNiBkZWZhdWx0IGV4cG9ydCwgZm9yIGNvbXBhdGliaWxpdHlcbiAgICBkZWZhdWx0TG9nZ2VyWydkZWZhdWx0J10gPSBkZWZhdWx0TG9nZ2VyO1xuXG4gICAgcmV0dXJuIGRlZmF1bHRMb2dnZXI7XG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/loglevel/lib/loglevel.js\n");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanM/ZjI4YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n");

/***/ }),

/***/ "./node_modules/proj4/dist/proj4-src.js":
/*!**********************************************!*\
  !*** ./node_modules/proj4/dist/proj4-src.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function (global, factory) {\n     true ? module.exports = factory() :\n    undefined;\n}(this, (function () { 'use strict';\n\n    var globals = function(defs) {\n      defs('EPSG:4326', \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees\");\n      defs('EPSG:4269', \"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees\");\n      defs('EPSG:3857', \"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs\");\n\n      defs.WGS84 = defs['EPSG:4326'];\n      defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857\n      defs.GOOGLE = defs['EPSG:3857'];\n      defs['EPSG:900913'] = defs['EPSG:3857'];\n      defs['EPSG:102113'] = defs['EPSG:3857'];\n    };\n\n    var PJD_3PARAM = 1;\n    var PJD_7PARAM = 2;\n    var PJD_WGS84 = 4; // WGS84 or equivalent\n    var PJD_NODATUM = 5; // WGS84 or equivalent\n    var SEC_TO_RAD = 4.84813681109535993589914102357e-6;\n    var HALF_PI = Math.PI/2;\n    // ellipoid pj_set_ell.c\n    var SIXTH = 0.1666666666666666667;\n    /* 1/6 */\n    var RA4 = 0.04722222222222222222;\n    /* 17/360 */\n    var RA6 = 0.02215608465608465608;\n    var EPSLN = 1.0e-10;\n    // you'd think you could use Number.EPSILON above but that makes\n    // Mollweide get into an infinate loop.\n\n    var D2R = 0.01745329251994329577;\n    var R2D = 57.29577951308232088;\n    var FORTPI = Math.PI/4;\n    var TWO_PI = Math.PI * 2;\n    // SPI is slightly greater than Math.PI, so values that exceed the -180..180\n    // degree range by a tiny amount don't get wrapped. This prevents points that\n    // have drifted from their original location along the 180th meridian (due to\n    // floating point error) from changing their sign.\n    var SPI = 3.14159265359;\n\n    var exports$1 = {};\n    exports$1.greenwich = 0.0; //\"0dE\",\n    exports$1.lisbon = -9.131906111111; //\"9d07'54.862\\\"W\",\n    exports$1.paris = 2.337229166667; //\"2d20'14.025\\\"E\",\n    exports$1.bogota = -74.080916666667; //\"74d04'51.3\\\"W\",\n    exports$1.madrid = -3.687938888889; //\"3d41'16.58\\\"W\",\n    exports$1.rome = 12.452333333333; //\"12d27'8.4\\\"E\",\n    exports$1.bern = 7.439583333333; //\"7d26'22.5\\\"E\",\n    exports$1.jakarta = 106.807719444444; //\"106d48'27.79\\\"E\",\n    exports$1.ferro = -17.666666666667; //\"17d40'W\",\n    exports$1.brussels = 4.367975; //\"4d22'4.71\\\"E\",\n    exports$1.stockholm = 18.058277777778; //\"18d3'29.8\\\"E\",\n    exports$1.athens = 23.7163375; //\"23d42'58.815\\\"E\",\n    exports$1.oslo = 10.722916666667; //\"10d43'22.5\\\"E\"\n\n    var units = {\n      ft: {to_meter: 0.3048},\n      'us-ft': {to_meter: 1200 / 3937}\n    };\n\n    var ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\n    function match(obj, key) {\n      if (obj[key]) {\n        return obj[key];\n      }\n      var keys = Object.keys(obj);\n      var lkey = key.toLowerCase().replace(ignoredChar, '');\n      var i = -1;\n      var testkey, processedKey;\n      while (++i < keys.length) {\n        testkey = keys[i];\n        processedKey = testkey.toLowerCase().replace(ignoredChar, '');\n        if (processedKey === lkey) {\n          return obj[testkey];\n        }\n      }\n    }\n\n    var parseProj = function(defData) {\n      var self = {};\n      var paramObj = defData.split('+').map(function(v) {\n        return v.trim();\n      }).filter(function(a) {\n        return a;\n      }).reduce(function(p, a) {\n        var split = a.split('=');\n        split.push(true);\n        p[split[0].toLowerCase()] = split[1];\n        return p;\n      }, {});\n      var paramName, paramVal, paramOutname;\n      var params = {\n        proj: 'projName',\n        datum: 'datumCode',\n        rf: function(v) {\n          self.rf = parseFloat(v);\n        },\n        lat_0: function(v) {\n          self.lat0 = v * D2R;\n        },\n        lat_1: function(v) {\n          self.lat1 = v * D2R;\n        },\n        lat_2: function(v) {\n          self.lat2 = v * D2R;\n        },\n        lat_ts: function(v) {\n          self.lat_ts = v * D2R;\n        },\n        lon_0: function(v) {\n          self.long0 = v * D2R;\n        },\n        lon_1: function(v) {\n          self.long1 = v * D2R;\n        },\n        lon_2: function(v) {\n          self.long2 = v * D2R;\n        },\n        alpha: function(v) {\n          self.alpha = parseFloat(v) * D2R;\n        },\n        lonc: function(v) {\n          self.longc = v * D2R;\n        },\n        x_0: function(v) {\n          self.x0 = parseFloat(v);\n        },\n        y_0: function(v) {\n          self.y0 = parseFloat(v);\n        },\n        k_0: function(v) {\n          self.k0 = parseFloat(v);\n        },\n        k: function(v) {\n          self.k0 = parseFloat(v);\n        },\n        a: function(v) {\n          self.a = parseFloat(v);\n        },\n        b: function(v) {\n          self.b = parseFloat(v);\n        },\n        r_a: function() {\n          self.R_A = true;\n        },\n        zone: function(v) {\n          self.zone = parseInt(v, 10);\n        },\n        south: function() {\n          self.utmSouth = true;\n        },\n        towgs84: function(v) {\n          self.datum_params = v.split(\",\").map(function(a) {\n            return parseFloat(a);\n          });\n        },\n        to_meter: function(v) {\n          self.to_meter = parseFloat(v);\n        },\n        units: function(v) {\n          self.units = v;\n          var unit = match(units, v);\n          if (unit) {\n            self.to_meter = unit.to_meter;\n          }\n        },\n        from_greenwich: function(v) {\n          self.from_greenwich = v * D2R;\n        },\n        pm: function(v) {\n          var pm = match(exports$1, v);\n          self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n        },\n        nadgrids: function(v) {\n          if (v === '@null') {\n            self.datumCode = 'none';\n          }\n          else {\n            self.nadgrids = v;\n          }\n        },\n        axis: function(v) {\n          var legalAxis = \"ewnsud\";\n          if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n            self.axis = v;\n          }\n        }\n      };\n      for (paramName in paramObj) {\n        paramVal = paramObj[paramName];\n        if (paramName in params) {\n          paramOutname = params[paramName];\n          if (typeof paramOutname === 'function') {\n            paramOutname(paramVal);\n          }\n          else {\n            self[paramOutname] = paramVal;\n          }\n        }\n        else {\n          self[paramName] = paramVal;\n        }\n      }\n      if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n        self.datumCode = self.datumCode.toLowerCase();\n      }\n      return self;\n    };\n\n    var NEUTRAL = 1;\n    var KEYWORD = 2;\n    var NUMBER = 3;\n    var QUOTED = 4;\n    var AFTERQUOTE = 5;\n    var ENDED = -1;\n    var whitespace = /\\s/;\n    var latin = /[A-Za-z]/;\n    var keyword = /[A-Za-z84]/;\n    var endThings = /[,\\]]/;\n    var digets = /[\\d\\.E\\-\\+]/;\n    // const ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\n    function Parser(text) {\n      if (typeof text !== 'string') {\n        throw new Error('not a string');\n      }\n      this.text = text.trim();\n      this.level = 0;\n      this.place = 0;\n      this.root = null;\n      this.stack = [];\n      this.currentObject = null;\n      this.state = NEUTRAL;\n    }\n    Parser.prototype.readCharicter = function() {\n      var char = this.text[this.place++];\n      if (this.state !== QUOTED) {\n        while (whitespace.test(char)) {\n          if (this.place >= this.text.length) {\n            return;\n          }\n          char = this.text[this.place++];\n        }\n      }\n      switch (this.state) {\n        case NEUTRAL:\n          return this.neutral(char);\n        case KEYWORD:\n          return this.keyword(char)\n        case QUOTED:\n          return this.quoted(char);\n        case AFTERQUOTE:\n          return this.afterquote(char);\n        case NUMBER:\n          return this.number(char);\n        case ENDED:\n          return;\n      }\n    };\n    Parser.prototype.afterquote = function(char) {\n      if (char === '\"') {\n        this.word += '\"';\n        this.state = QUOTED;\n        return;\n      }\n      if (endThings.test(char)) {\n        this.word = this.word.trim();\n        this.afterItem(char);\n        return;\n      }\n      throw new Error('havn\\'t handled \"' +char + '\" in afterquote yet, index ' + this.place);\n    };\n    Parser.prototype.afterItem = function(char) {\n      if (char === ',') {\n        if (this.word !== null) {\n          this.currentObject.push(this.word);\n        }\n        this.word = null;\n        this.state = NEUTRAL;\n        return;\n      }\n      if (char === ']') {\n        this.level--;\n        if (this.word !== null) {\n          this.currentObject.push(this.word);\n          this.word = null;\n        }\n        this.state = NEUTRAL;\n        this.currentObject = this.stack.pop();\n        if (!this.currentObject) {\n          this.state = ENDED;\n        }\n\n        return;\n      }\n    };\n    Parser.prototype.number = function(char) {\n      if (digets.test(char)) {\n        this.word += char;\n        return;\n      }\n      if (endThings.test(char)) {\n        this.word = parseFloat(this.word);\n        this.afterItem(char);\n        return;\n      }\n      throw new Error('havn\\'t handled \"' +char + '\" in number yet, index ' + this.place);\n    };\n    Parser.prototype.quoted = function(char) {\n      if (char === '\"') {\n        this.state = AFTERQUOTE;\n        return;\n      }\n      this.word += char;\n      return;\n    };\n    Parser.prototype.keyword = function(char) {\n      if (keyword.test(char)) {\n        this.word += char;\n        return;\n      }\n      if (char === '[') {\n        var newObjects = [];\n        newObjects.push(this.word);\n        this.level++;\n        if (this.root === null) {\n          this.root = newObjects;\n        } else {\n          this.currentObject.push(newObjects);\n        }\n        this.stack.push(this.currentObject);\n        this.currentObject = newObjects;\n        this.state = NEUTRAL;\n        return;\n      }\n      if (endThings.test(char)) {\n        this.afterItem(char);\n        return;\n      }\n      throw new Error('havn\\'t handled \"' +char + '\" in keyword yet, index ' + this.place);\n    };\n    Parser.prototype.neutral = function(char) {\n      if (latin.test(char)) {\n        this.word = char;\n        this.state = KEYWORD;\n        return;\n      }\n      if (char === '\"') {\n        this.word = '';\n        this.state = QUOTED;\n        return;\n      }\n      if (digets.test(char)) {\n        this.word = char;\n        this.state = NUMBER;\n        return;\n      }\n      if (endThings.test(char)) {\n        this.afterItem(char);\n        return;\n      }\n      throw new Error('havn\\'t handled \"' +char + '\" in neutral yet, index ' + this.place);\n    };\n    Parser.prototype.output = function() {\n      while (this.place < this.text.length) {\n        this.readCharicter();\n      }\n      if (this.state === ENDED) {\n        return this.root;\n      }\n      throw new Error('unable to parse string \"' +this.text + '\". State is ' + this.state);\n    };\n\n    function parseString(txt) {\n      var parser = new Parser(txt);\n      return parser.output();\n    }\n\n    function mapit(obj, key, value) {\n      if (Array.isArray(key)) {\n        value.unshift(key);\n        key = null;\n      }\n      var thing = key ? {} : obj;\n\n      var out = value.reduce(function(newObj, item) {\n        sExpr(item, newObj);\n        return newObj\n      }, thing);\n      if (key) {\n        obj[key] = out;\n      }\n    }\n\n    function sExpr(v, obj) {\n      if (!Array.isArray(v)) {\n        obj[v] = true;\n        return;\n      }\n      var key = v.shift();\n      if (key === 'PARAMETER') {\n        key = v.shift();\n      }\n      if (v.length === 1) {\n        if (Array.isArray(v[0])) {\n          obj[key] = {};\n          sExpr(v[0], obj[key]);\n          return;\n        }\n        obj[key] = v[0];\n        return;\n      }\n      if (!v.length) {\n        obj[key] = true;\n        return;\n      }\n      if (key === 'TOWGS84') {\n        obj[key] = v;\n        return;\n      }\n      if (key === 'AXIS') {\n        if (!(key in obj)) {\n          obj[key] = [];\n        }\n        obj[key].push(v);\n        return;\n      }\n      if (!Array.isArray(key)) {\n        obj[key] = {};\n      }\n\n      var i;\n      switch (key) {\n        case 'UNIT':\n        case 'PRIMEM':\n        case 'VERT_DATUM':\n          obj[key] = {\n            name: v[0].toLowerCase(),\n            convert: v[1]\n          };\n          if (v.length === 3) {\n            sExpr(v[2], obj[key]);\n          }\n          return;\n        case 'SPHEROID':\n        case 'ELLIPSOID':\n          obj[key] = {\n            name: v[0],\n            a: v[1],\n            rf: v[2]\n          };\n          if (v.length === 4) {\n            sExpr(v[3], obj[key]);\n          }\n          return;\n        case 'PROJECTEDCRS':\n        case 'PROJCRS':\n        case 'GEOGCS':\n        case 'GEOCCS':\n        case 'PROJCS':\n        case 'LOCAL_CS':\n        case 'GEODCRS':\n        case 'GEODETICCRS':\n        case 'GEODETICDATUM':\n        case 'EDATUM':\n        case 'ENGINEERINGDATUM':\n        case 'VERT_CS':\n        case 'VERTCRS':\n        case 'VERTICALCRS':\n        case 'COMPD_CS':\n        case 'COMPOUNDCRS':\n        case 'ENGINEERINGCRS':\n        case 'ENGCRS':\n        case 'FITTED_CS':\n        case 'LOCAL_DATUM':\n        case 'DATUM':\n          v[0] = ['name', v[0]];\n          mapit(obj, key, v);\n          return;\n        default:\n          i = -1;\n          while (++i < v.length) {\n            if (!Array.isArray(v[i])) {\n              return sExpr(v, obj[key]);\n            }\n          }\n          return mapit(obj, key, v);\n      }\n    }\n\n    var D2R$1 = 0.01745329251994329577;\n    function rename(obj, params) {\n      var outName = params[0];\n      var inName = params[1];\n      if (!(outName in obj) && (inName in obj)) {\n        obj[outName] = obj[inName];\n        if (params.length === 3) {\n          obj[outName] = params[2](obj[outName]);\n        }\n      }\n    }\n\n    function d2r(input) {\n      return input * D2R$1;\n    }\n\n    function cleanWKT(wkt) {\n      if (wkt.type === 'GEOGCS') {\n        wkt.projName = 'longlat';\n      } else if (wkt.type === 'LOCAL_CS') {\n        wkt.projName = 'identity';\n        wkt.local = true;\n      } else {\n        if (typeof wkt.PROJECTION === 'object') {\n          wkt.projName = Object.keys(wkt.PROJECTION)[0];\n        } else {\n          wkt.projName = wkt.PROJECTION;\n        }\n      }\n      if (wkt.AXIS) {\n        var axisOrder = '';\n        for (var i = 0, ii = wkt.AXIS.length; i < ii; ++i) {\n          var axis = wkt.AXIS[i];\n          var descriptor = axis[0].toLowerCase();\n          if (descriptor.indexOf('north') !== -1) {\n            axisOrder += 'n';\n          } else if (descriptor.indexOf('south') !== -1) {\n            axisOrder += 's';\n          } else if (descriptor.indexOf('east') !== -1) {\n            axisOrder += 'e';\n          } else if (descriptor.indexOf('west') !== -1) {\n            axisOrder += 'w';\n          }\n        }\n        if (axisOrder.length === 2) {\n          axisOrder += 'u';\n        }\n        if (axisOrder.length === 3) {\n          wkt.axis = axisOrder;\n        }\n      }\n      if (wkt.UNIT) {\n        wkt.units = wkt.UNIT.name.toLowerCase();\n        if (wkt.units === 'metre') {\n          wkt.units = 'meter';\n        }\n        if (wkt.UNIT.convert) {\n          if (wkt.type === 'GEOGCS') {\n            if (wkt.DATUM && wkt.DATUM.SPHEROID) {\n              wkt.to_meter = wkt.UNIT.convert*wkt.DATUM.SPHEROID.a;\n            }\n          } else {\n            wkt.to_meter = wkt.UNIT.convert;\n          }\n        }\n      }\n      var geogcs = wkt.GEOGCS;\n      if (wkt.type === 'GEOGCS') {\n        geogcs = wkt;\n      }\n      if (geogcs) {\n        //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){\n        //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;\n        //}\n        if (geogcs.DATUM) {\n          wkt.datumCode = geogcs.DATUM.name.toLowerCase();\n        } else {\n          wkt.datumCode = geogcs.name.toLowerCase();\n        }\n        if (wkt.datumCode.slice(0, 2) === 'd_') {\n          wkt.datumCode = wkt.datumCode.slice(2);\n        }\n        if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {\n          wkt.datumCode = 'nzgd49';\n        }\n        if (wkt.datumCode === 'wgs_1984' || wkt.datumCode === 'world_geodetic_system_1984') {\n          if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {\n            wkt.sphere = true;\n          }\n          wkt.datumCode = 'wgs84';\n        }\n        if (wkt.datumCode.slice(-6) === '_ferro') {\n          wkt.datumCode = wkt.datumCode.slice(0, - 6);\n        }\n        if (wkt.datumCode.slice(-8) === '_jakarta') {\n          wkt.datumCode = wkt.datumCode.slice(0, - 8);\n        }\n        if (~wkt.datumCode.indexOf('belge')) {\n          wkt.datumCode = 'rnb72';\n        }\n        if (geogcs.DATUM && geogcs.DATUM.SPHEROID) {\n          wkt.ellps = geogcs.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\\_18/, 'clrk');\n          if (wkt.ellps.toLowerCase().slice(0, 13) === 'international') {\n            wkt.ellps = 'intl';\n          }\n\n          wkt.a = geogcs.DATUM.SPHEROID.a;\n          wkt.rf = parseFloat(geogcs.DATUM.SPHEROID.rf, 10);\n        }\n\n        if (geogcs.DATUM && geogcs.DATUM.TOWGS84) {\n          wkt.datum_params = geogcs.DATUM.TOWGS84;\n        }\n        if (~wkt.datumCode.indexOf('osgb_1936')) {\n          wkt.datumCode = 'osgb36';\n        }\n        if (~wkt.datumCode.indexOf('osni_1952')) {\n          wkt.datumCode = 'osni52';\n        }\n        if (~wkt.datumCode.indexOf('tm65')\n          || ~wkt.datumCode.indexOf('geodetic_datum_of_1965')) {\n          wkt.datumCode = 'ire65';\n        }\n        if (wkt.datumCode === 'ch1903+') {\n          wkt.datumCode = 'ch1903';\n        }\n        if (~wkt.datumCode.indexOf('israel')) {\n          wkt.datumCode = 'isr93';\n        }\n      }\n      if (wkt.b && !isFinite(wkt.b)) {\n        wkt.b = wkt.a;\n      }\n\n      function toMeter(input) {\n        var ratio = wkt.to_meter || 1;\n        return input * ratio;\n      }\n      var renamer = function(a) {\n        return rename(wkt, a);\n      };\n      var list = [\n        ['standard_parallel_1', 'Standard_Parallel_1'],\n        ['standard_parallel_2', 'Standard_Parallel_2'],\n        ['false_easting', 'False_Easting'],\n        ['false_northing', 'False_Northing'],\n        ['central_meridian', 'Central_Meridian'],\n        ['latitude_of_origin', 'Latitude_Of_Origin'],\n        ['latitude_of_origin', 'Central_Parallel'],\n        ['scale_factor', 'Scale_Factor'],\n        ['k0', 'scale_factor'],\n        ['latitude_of_center', 'Latitude_Of_Center'],\n        ['latitude_of_center', 'Latitude_of_center'],\n        ['lat0', 'latitude_of_center', d2r],\n        ['longitude_of_center', 'Longitude_Of_Center'],\n        ['longitude_of_center', 'Longitude_of_center'],\n        ['longc', 'longitude_of_center', d2r],\n        ['x0', 'false_easting', toMeter],\n        ['y0', 'false_northing', toMeter],\n        ['long0', 'central_meridian', d2r],\n        ['lat0', 'latitude_of_origin', d2r],\n        ['lat0', 'standard_parallel_1', d2r],\n        ['lat1', 'standard_parallel_1', d2r],\n        ['lat2', 'standard_parallel_2', d2r],\n        ['azimuth', 'Azimuth'],\n        ['alpha', 'azimuth', d2r],\n        ['srsCode', 'name']\n      ];\n      list.forEach(renamer);\n      if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === 'Lambert_Azimuthal_Equal_Area')) {\n        wkt.long0 = wkt.longc;\n      }\n      if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {\n        wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);\n        wkt.lat_ts = wkt.lat1;\n      }\n    }\n    var wkt = function(wkt) {\n      var lisp = parseString(wkt);\n      var type = lisp.shift();\n      var name = lisp.shift();\n      lisp.unshift(['name', name]);\n      lisp.unshift(['type', type]);\n      var obj = {};\n      sExpr(lisp, obj);\n      cleanWKT(obj);\n      return obj;\n    };\n\n    function defs(name) {\n      /*global console*/\n      var that = this;\n      if (arguments.length === 2) {\n        var def = arguments[1];\n        if (typeof def === 'string') {\n          if (def.charAt(0) === '+') {\n            defs[name] = parseProj(arguments[1]);\n          }\n          else {\n            defs[name] = wkt(arguments[1]);\n          }\n        } else {\n          defs[name] = def;\n        }\n      }\n      else if (arguments.length === 1) {\n        if (Array.isArray(name)) {\n          return name.map(function(v) {\n            if (Array.isArray(v)) {\n              defs.apply(that, v);\n            }\n            else {\n              defs(v);\n            }\n          });\n        }\n        else if (typeof name === 'string') {\n          if (name in defs) {\n            return defs[name];\n          }\n        }\n        else if ('EPSG' in name) {\n          defs['EPSG:' + name.EPSG] = name;\n        }\n        else if ('ESRI' in name) {\n          defs['ESRI:' + name.ESRI] = name;\n        }\n        else if ('IAU2000' in name) {\n          defs['IAU2000:' + name.IAU2000] = name;\n        }\n        else {\n          console.log(name);\n        }\n        return;\n      }\n\n\n    }\n    globals(defs);\n\n    function testObj(code){\n      return typeof code === 'string';\n    }\n    function testDef(code){\n      return code in defs;\n    }\n     var codeWords = ['PROJECTEDCRS', 'PROJCRS', 'GEOGCS','GEOCCS','PROJCS','LOCAL_CS', 'GEODCRS', 'GEODETICCRS', 'GEODETICDATUM', 'ENGCRS', 'ENGINEERINGCRS'];\n    function testWKT(code){\n      return codeWords.some(function (word) {\n        return code.indexOf(word) > -1;\n      });\n    }\n    var codes = ['3857', '900913', '3785', '102113'];\n    function checkMercator(item) {\n      var auth = match(item, 'authority');\n      if (!auth) {\n        return;\n      }\n      var code = match(auth, 'epsg');\n      return code && codes.indexOf(code) > -1;\n    }\n    function checkProjStr(item) {\n      var ext = match(item, 'extension');\n      if (!ext) {\n        return;\n      }\n      return match(ext, 'proj4');\n    }\n    function testProj(code){\n      return code[0] === '+';\n    }\n    function parse(code){\n      if (testObj(code)) {\n        //check to see if this is a WKT string\n        if (testDef(code)) {\n          return defs[code];\n        }\n        if (testWKT(code)) {\n          var out = wkt(code);\n          // test of spetial case, due to this being a very common and often malformed\n          if (checkMercator(out)) {\n            return defs['EPSG:3857'];\n          }\n          var maybeProjStr = checkProjStr(out);\n          if (maybeProjStr) {\n            return parseProj(maybeProjStr);\n          }\n          return out;\n        }\n        if (testProj(code)) {\n          return parseProj(code);\n        }\n      }else{\n        return code;\n      }\n    }\n\n    var extend = function(destination, source) {\n      destination = destination || {};\n      var value, property;\n      if (!source) {\n        return destination;\n      }\n      for (property in source) {\n        value = source[property];\n        if (value !== undefined) {\n          destination[property] = value;\n        }\n      }\n      return destination;\n    };\n\n    var msfnz = function(eccent, sinphi, cosphi) {\n      var con = eccent * sinphi;\n      return cosphi / (Math.sqrt(1 - con * con));\n    };\n\n    var sign = function(x) {\n      return x<0 ? -1 : 1;\n    };\n\n    var adjust_lon = function(x) {\n      return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));\n    };\n\n    var tsfnz = function(eccent, phi, sinphi) {\n      var con = eccent * sinphi;\n      var com = 0.5 * eccent;\n      con = Math.pow(((1 - con) / (1 + con)), com);\n      return (Math.tan(0.5 * (HALF_PI - phi)) / con);\n    };\n\n    var phi2z = function(eccent, ts) {\n      var eccnth = 0.5 * eccent;\n      var con, dphi;\n      var phi = HALF_PI - 2 * Math.atan(ts);\n      for (var i = 0; i <= 15; i++) {\n        con = eccent * Math.sin(phi);\n        dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;\n        phi += dphi;\n        if (Math.abs(dphi) <= 0.0000000001) {\n          return phi;\n        }\n      }\n      //console.log(\"phi2z has NoConvergence\");\n      return -9999;\n    };\n\n    function init() {\n      var con = this.b / this.a;\n      this.es = 1 - con * con;\n      if(!('x0' in this)){\n        this.x0 = 0;\n      }\n      if(!('y0' in this)){\n        this.y0 = 0;\n      }\n      this.e = Math.sqrt(this.es);\n      if (this.lat_ts) {\n        if (this.sphere) {\n          this.k0 = Math.cos(this.lat_ts);\n        }\n        else {\n          this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n        }\n      }\n      else {\n        if (!this.k0) {\n          if (this.k) {\n            this.k0 = this.k;\n          }\n          else {\n            this.k0 = 1;\n          }\n        }\n      }\n    }\n\n    /* Mercator forward equations--mapping lat,long to x,y\n      --------------------------------------------------*/\n\n    function forward(p) {\n      var lon = p.x;\n      var lat = p.y;\n      // convert to radians\n      if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {\n        return null;\n      }\n\n      var x, y;\n      if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n        return null;\n      }\n      else {\n        if (this.sphere) {\n          x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n          y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));\n        }\n        else {\n          var sinphi = Math.sin(lat);\n          var ts = tsfnz(this.e, lat, sinphi);\n          x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n          y = this.y0 - this.a * this.k0 * Math.log(ts);\n        }\n        p.x = x;\n        p.y = y;\n        return p;\n      }\n    }\n\n    /* Mercator inverse equations--mapping x,y to lat/long\n      --------------------------------------------------*/\n    function inverse(p) {\n\n      var x = p.x - this.x0;\n      var y = p.y - this.y0;\n      var lon, lat;\n\n      if (this.sphere) {\n        lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));\n      }\n      else {\n        var ts = Math.exp(-y / (this.a * this.k0));\n        lat = phi2z(this.e, ts);\n        if (lat === -9999) {\n          return null;\n        }\n      }\n      lon = adjust_lon(this.long0 + x / (this.a * this.k0));\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$1 = [\"Mercator\", \"Popular Visualisation Pseudo Mercator\", \"Mercator_1SP\", \"Mercator_Auxiliary_Sphere\", \"merc\"];\n    var merc = {\n      init: init,\n      forward: forward,\n      inverse: inverse,\n      names: names$1\n    };\n\n    function init$1() {\n      //no-op for longlat\n    }\n\n    function identity(pt) {\n      return pt;\n    }\n    var names$2 = [\"longlat\", \"identity\"];\n    var longlat = {\n      init: init$1,\n      forward: identity,\n      inverse: identity,\n      names: names$2\n    };\n\n    var projs = [merc, longlat];\n    var names = {};\n    var projStore = [];\n\n    function add(proj, i) {\n      var len = projStore.length;\n      if (!proj.names) {\n        console.log(i);\n        return true;\n      }\n      projStore[len] = proj;\n      proj.names.forEach(function(n) {\n        names[n.toLowerCase()] = len;\n      });\n      return this;\n    }\n\n    function get(name) {\n      if (!name) {\n        return false;\n      }\n      var n = name.toLowerCase();\n      if (typeof names[n] !== 'undefined' && projStore[names[n]]) {\n        return projStore[names[n]];\n      }\n    }\n\n    function start() {\n      projs.forEach(add);\n    }\n    var projections = {\n      start: start,\n      add: add,\n      get: get\n    };\n\n    var exports$2 = {};\n    exports$2.MERIT = {\n      a: 6378137.0,\n      rf: 298.257,\n      ellipseName: \"MERIT 1983\"\n    };\n\n    exports$2.SGS85 = {\n      a: 6378136.0,\n      rf: 298.257,\n      ellipseName: \"Soviet Geodetic System 85\"\n    };\n\n    exports$2.GRS80 = {\n      a: 6378137.0,\n      rf: 298.257222101,\n      ellipseName: \"GRS 1980(IUGG, 1980)\"\n    };\n\n    exports$2.IAU76 = {\n      a: 6378140.0,\n      rf: 298.257,\n      ellipseName: \"IAU 1976\"\n    };\n\n    exports$2.airy = {\n      a: 6377563.396,\n      b: 6356256.910,\n      ellipseName: \"Airy 1830\"\n    };\n\n    exports$2.APL4 = {\n      a: 6378137,\n      rf: 298.25,\n      ellipseName: \"Appl. Physics. 1965\"\n    };\n\n    exports$2.NWL9D = {\n      a: 6378145.0,\n      rf: 298.25,\n      ellipseName: \"Naval Weapons Lab., 1965\"\n    };\n\n    exports$2.mod_airy = {\n      a: 6377340.189,\n      b: 6356034.446,\n      ellipseName: \"Modified Airy\"\n    };\n\n    exports$2.andrae = {\n      a: 6377104.43,\n      rf: 300.0,\n      ellipseName: \"Andrae 1876 (Den., Iclnd.)\"\n    };\n\n    exports$2.aust_SA = {\n      a: 6378160.0,\n      rf: 298.25,\n      ellipseName: \"Australian Natl & S. Amer. 1969\"\n    };\n\n    exports$2.GRS67 = {\n      a: 6378160.0,\n      rf: 298.2471674270,\n      ellipseName: \"GRS 67(IUGG 1967)\"\n    };\n\n    exports$2.bessel = {\n      a: 6377397.155,\n      rf: 299.1528128,\n      ellipseName: \"Bessel 1841\"\n    };\n\n    exports$2.bess_nam = {\n      a: 6377483.865,\n      rf: 299.1528128,\n      ellipseName: \"Bessel 1841 (Namibia)\"\n    };\n\n    exports$2.clrk66 = {\n      a: 6378206.4,\n      b: 6356583.8,\n      ellipseName: \"Clarke 1866\"\n    };\n\n    exports$2.clrk80 = {\n      a: 6378249.145,\n      rf: 293.4663,\n      ellipseName: \"Clarke 1880 mod.\"\n    };\n\n    exports$2.clrk58 = {\n      a: 6378293.645208759,\n      rf: 294.2606763692654,\n      ellipseName: \"Clarke 1858\"\n    };\n\n    exports$2.CPM = {\n      a: 6375738.7,\n      rf: 334.29,\n      ellipseName: \"Comm. des Poids et Mesures 1799\"\n    };\n\n    exports$2.delmbr = {\n      a: 6376428.0,\n      rf: 311.5,\n      ellipseName: \"Delambre 1810 (Belgium)\"\n    };\n\n    exports$2.engelis = {\n      a: 6378136.05,\n      rf: 298.2566,\n      ellipseName: \"Engelis 1985\"\n    };\n\n    exports$2.evrst30 = {\n      a: 6377276.345,\n      rf: 300.8017,\n      ellipseName: \"Everest 1830\"\n    };\n\n    exports$2.evrst48 = {\n      a: 6377304.063,\n      rf: 300.8017,\n      ellipseName: \"Everest 1948\"\n    };\n\n    exports$2.evrst56 = {\n      a: 6377301.243,\n      rf: 300.8017,\n      ellipseName: \"Everest 1956\"\n    };\n\n    exports$2.evrst69 = {\n      a: 6377295.664,\n      rf: 300.8017,\n      ellipseName: \"Everest 1969\"\n    };\n\n    exports$2.evrstSS = {\n      a: 6377298.556,\n      rf: 300.8017,\n      ellipseName: \"Everest (Sabah & Sarawak)\"\n    };\n\n    exports$2.fschr60 = {\n      a: 6378166.0,\n      rf: 298.3,\n      ellipseName: \"Fischer (Mercury Datum) 1960\"\n    };\n\n    exports$2.fschr60m = {\n      a: 6378155.0,\n      rf: 298.3,\n      ellipseName: \"Fischer 1960\"\n    };\n\n    exports$2.fschr68 = {\n      a: 6378150.0,\n      rf: 298.3,\n      ellipseName: \"Fischer 1968\"\n    };\n\n    exports$2.helmert = {\n      a: 6378200.0,\n      rf: 298.3,\n      ellipseName: \"Helmert 1906\"\n    };\n\n    exports$2.hough = {\n      a: 6378270.0,\n      rf: 297.0,\n      ellipseName: \"Hough\"\n    };\n\n    exports$2.intl = {\n      a: 6378388.0,\n      rf: 297.0,\n      ellipseName: \"International 1909 (Hayford)\"\n    };\n\n    exports$2.kaula = {\n      a: 6378163.0,\n      rf: 298.24,\n      ellipseName: \"Kaula 1961\"\n    };\n\n    exports$2.lerch = {\n      a: 6378139.0,\n      rf: 298.257,\n      ellipseName: \"Lerch 1979\"\n    };\n\n    exports$2.mprts = {\n      a: 6397300.0,\n      rf: 191.0,\n      ellipseName: \"Maupertius 1738\"\n    };\n\n    exports$2.new_intl = {\n      a: 6378157.5,\n      b: 6356772.2,\n      ellipseName: \"New International 1967\"\n    };\n\n    exports$2.plessis = {\n      a: 6376523.0,\n      rf: 6355863.0,\n      ellipseName: \"Plessis 1817 (France)\"\n    };\n\n    exports$2.krass = {\n      a: 6378245.0,\n      rf: 298.3,\n      ellipseName: \"Krassovsky, 1942\"\n    };\n\n    exports$2.SEasia = {\n      a: 6378155.0,\n      b: 6356773.3205,\n      ellipseName: \"Southeast Asia\"\n    };\n\n    exports$2.walbeck = {\n      a: 6376896.0,\n      b: 6355834.8467,\n      ellipseName: \"Walbeck\"\n    };\n\n    exports$2.WGS60 = {\n      a: 6378165.0,\n      rf: 298.3,\n      ellipseName: \"WGS 60\"\n    };\n\n    exports$2.WGS66 = {\n      a: 6378145.0,\n      rf: 298.25,\n      ellipseName: \"WGS 66\"\n    };\n\n    exports$2.WGS7 = {\n      a: 6378135.0,\n      rf: 298.26,\n      ellipseName: \"WGS 72\"\n    };\n\n    var WGS84 = exports$2.WGS84 = {\n      a: 6378137.0,\n      rf: 298.257223563,\n      ellipseName: \"WGS 84\"\n    };\n\n    exports$2.sphere = {\n      a: 6370997.0,\n      b: 6370997.0,\n      ellipseName: \"Normal Sphere (r=6370997)\"\n    };\n\n    function eccentricity(a, b, rf, R_A) {\n      var a2 = a * a; // used in geocentric\n      var b2 = b * b; // used in geocentric\n      var es = (a2 - b2) / a2; // e ^ 2\n      var e = 0;\n      if (R_A) {\n        a *= 1 - es * (SIXTH + es * (RA4 + es * RA6));\n        a2 = a * a;\n        es = 0;\n      } else {\n        e = Math.sqrt(es); // eccentricity\n      }\n      var ep2 = (a2 - b2) / b2; // used in geocentric\n      return {\n        es: es,\n        e: e,\n        ep2: ep2\n      };\n    }\n    function sphere(a, b, rf, ellps, sphere) {\n      if (!a) { // do we have an ellipsoid?\n        var ellipse = match(exports$2, ellps);\n        if (!ellipse) {\n          ellipse = WGS84;\n        }\n        a = ellipse.a;\n        b = ellipse.b;\n        rf = ellipse.rf;\n      }\n\n      if (rf && !b) {\n        b = (1.0 - 1.0 / rf) * a;\n      }\n      if (rf === 0 || Math.abs(a - b) < EPSLN) {\n        sphere = true;\n        b = a;\n      }\n      return {\n        a: a,\n        b: b,\n        rf: rf,\n        sphere: sphere\n      };\n    }\n\n    var exports$3 = {};\n    exports$3.wgs84 = {\n      towgs84: \"0,0,0\",\n      ellipse: \"WGS84\",\n      datumName: \"WGS84\"\n    };\n\n    exports$3.ch1903 = {\n      towgs84: \"674.374,15.056,405.346\",\n      ellipse: \"bessel\",\n      datumName: \"swiss\"\n    };\n\n    exports$3.ggrs87 = {\n      towgs84: \"-199.87,74.79,246.62\",\n      ellipse: \"GRS80\",\n      datumName: \"Greek_Geodetic_Reference_System_1987\"\n    };\n\n    exports$3.nad83 = {\n      towgs84: \"0,0,0\",\n      ellipse: \"GRS80\",\n      datumName: \"North_American_Datum_1983\"\n    };\n\n    exports$3.nad27 = {\n      nadgrids: \"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat\",\n      ellipse: \"clrk66\",\n      datumName: \"North_American_Datum_1927\"\n    };\n\n    exports$3.potsdam = {\n      towgs84: \"606.0,23.0,413.0\",\n      ellipse: \"bessel\",\n      datumName: \"Potsdam Rauenberg 1950 DHDN\"\n    };\n\n    exports$3.carthage = {\n      towgs84: \"-263.0,6.0,431.0\",\n      ellipse: \"clark80\",\n      datumName: \"Carthage 1934 Tunisia\"\n    };\n\n    exports$3.hermannskogel = {\n      towgs84: \"653.0,-212.0,449.0\",\n      ellipse: \"bessel\",\n      datumName: \"Hermannskogel\"\n    };\n\n    exports$3.osni52 = {\n      towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n      ellipse: \"airy\",\n      datumName: \"Irish National\"\n    };\n\n    exports$3.ire65 = {\n      towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n      ellipse: \"mod_airy\",\n      datumName: \"Ireland 1965\"\n    };\n\n    exports$3.rassadiran = {\n      towgs84: \"-133.63,-157.5,-158.62\",\n      ellipse: \"intl\",\n      datumName: \"Rassadiran\"\n    };\n\n    exports$3.nzgd49 = {\n      towgs84: \"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993\",\n      ellipse: \"intl\",\n      datumName: \"New Zealand Geodetic Datum 1949\"\n    };\n\n    exports$3.osgb36 = {\n      towgs84: \"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894\",\n      ellipse: \"airy\",\n      datumName: \"Airy 1830\"\n    };\n\n    exports$3.s_jtsk = {\n      towgs84: \"589,76,480\",\n      ellipse: 'bessel',\n      datumName: 'S-JTSK (Ferro)'\n    };\n\n    exports$3.beduaram = {\n      towgs84: '-106,-87,188',\n      ellipse: 'clrk80',\n      datumName: 'Beduaram'\n    };\n\n    exports$3.gunung_segara = {\n      towgs84: '-403,684,41',\n      ellipse: 'bessel',\n      datumName: 'Gunung Segara Jakarta'\n    };\n\n    exports$3.rnb72 = {\n      towgs84: \"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1\",\n      ellipse: \"intl\",\n      datumName: \"Reseau National Belge 1972\"\n    };\n\n    function datum(datumCode, datum_params, a, b, es, ep2) {\n      var out = {};\n\n      if (datumCode === undefined || datumCode === 'none') {\n        out.datum_type = PJD_NODATUM;\n      } else {\n        out.datum_type = PJD_WGS84;\n      }\n\n      if (datum_params) {\n        out.datum_params = datum_params.map(parseFloat);\n        if (out.datum_params[0] !== 0 || out.datum_params[1] !== 0 || out.datum_params[2] !== 0) {\n          out.datum_type = PJD_3PARAM;\n        }\n        if (out.datum_params.length > 3) {\n          if (out.datum_params[3] !== 0 || out.datum_params[4] !== 0 || out.datum_params[5] !== 0 || out.datum_params[6] !== 0) {\n            out.datum_type = PJD_7PARAM;\n            out.datum_params[3] *= SEC_TO_RAD;\n            out.datum_params[4] *= SEC_TO_RAD;\n            out.datum_params[5] *= SEC_TO_RAD;\n            out.datum_params[6] = (out.datum_params[6] / 1000000.0) + 1.0;\n          }\n        }\n      }\n\n      out.a = a; //datum object also uses these values\n      out.b = b;\n      out.es = es;\n      out.ep2 = ep2;\n      return out;\n    }\n\n    function Projection(srsCode,callback) {\n      if (!(this instanceof Projection)) {\n        return new Projection(srsCode);\n      }\n      callback = callback || function(error){\n        if(error){\n          throw error;\n        }\n      };\n      var json = parse(srsCode);\n      if(typeof json !== 'object'){\n        callback(srsCode);\n        return;\n      }\n      var ourProj = Projection.projections.get(json.projName);\n      if(!ourProj){\n        callback(srsCode);\n        return;\n      }\n      if (json.datumCode && json.datumCode !== 'none') {\n        var datumDef = match(exports$3, json.datumCode);\n        if (datumDef) {\n          json.datum_params = datumDef.towgs84 ? datumDef.towgs84.split(',') : null;\n          json.ellps = datumDef.ellipse;\n          json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;\n        }\n      }\n      json.k0 = json.k0 || 1.0;\n      json.axis = json.axis || 'enu';\n      json.ellps = json.ellps || 'wgs84';\n      var sphere_ = sphere(json.a, json.b, json.rf, json.ellps, json.sphere);\n      var ecc = eccentricity(sphere_.a, sphere_.b, sphere_.rf, json.R_A);\n      var datumObj = json.datum || datum(json.datumCode, json.datum_params, sphere_.a, sphere_.b, ecc.es, ecc.ep2);\n\n      extend(this, json); // transfer everything over from the projection because we don't know what we'll need\n      extend(this, ourProj); // transfer all the methods from the projection\n\n      // copy the 4 things over we calulated in deriveConstants.sphere\n      this.a = sphere_.a;\n      this.b = sphere_.b;\n      this.rf = sphere_.rf;\n      this.sphere = sphere_.sphere;\n\n      // copy the 3 things we calculated in deriveConstants.eccentricity\n      this.es = ecc.es;\n      this.e = ecc.e;\n      this.ep2 = ecc.ep2;\n\n      // add in the datum object\n      this.datum = datumObj;\n\n      // init the projection\n      this.init();\n\n      // legecy callback from back in the day when it went to spatialreference.org\n      callback(null, this);\n\n    }\n    Projection.projections = projections;\n    Projection.projections.start();\n\n    'use strict';\n    function compareDatums(source, dest) {\n      if (source.datum_type !== dest.datum_type) {\n        return false; // false, datums are not equal\n      } else if (source.a !== dest.a || Math.abs(source.es - dest.es) > 0.000000000050) {\n        // the tolerance for es is to ensure that GRS80 and WGS84\n        // are considered identical\n        return false;\n      } else if (source.datum_type === PJD_3PARAM) {\n        return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2]);\n      } else if (source.datum_type === PJD_7PARAM) {\n        return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2] && source.datum_params[3] === dest.datum_params[3] && source.datum_params[4] === dest.datum_params[4] && source.datum_params[5] === dest.datum_params[5] && source.datum_params[6] === dest.datum_params[6]);\n      } else {\n        return true; // datums are equal\n      }\n    } // cs_compare_datums()\n\n    /*\n     * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates\n     * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),\n     * according to the current ellipsoid parameters.\n     *\n     *    Latitude  : Geodetic latitude in radians                     (input)\n     *    Longitude : Geodetic longitude in radians                    (input)\n     *    Height    : Geodetic height, in meters                       (input)\n     *    X         : Calculated Geocentric X coordinate, in meters    (output)\n     *    Y         : Calculated Geocentric Y coordinate, in meters    (output)\n     *    Z         : Calculated Geocentric Z coordinate, in meters    (output)\n     *\n     */\n    function geodeticToGeocentric(p, es, a) {\n      var Longitude = p.x;\n      var Latitude = p.y;\n      var Height = p.z ? p.z : 0; //Z value not always supplied\n\n      var Rn; /*  Earth radius at location  */\n      var Sin_Lat; /*  Math.sin(Latitude)  */\n      var Sin2_Lat; /*  Square of Math.sin(Latitude)  */\n      var Cos_Lat; /*  Math.cos(Latitude)  */\n\n      /*\n       ** Don't blow up if Latitude is just a little out of the value\n       ** range as it may just be a rounding issue.  Also removed longitude\n       ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.\n       */\n      if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {\n        Latitude = -HALF_PI;\n      } else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {\n        Latitude = HALF_PI;\n      } else if (Latitude < -HALF_PI) {\n        /* Latitude out of range */\n        //..reportError('geocent:lat out of range:' + Latitude);\n        return { x: -Infinity, y: -Infinity, z: p.z };\n      } else if (Latitude > HALF_PI) {\n        /* Latitude out of range */\n        return { x: Infinity, y: Infinity, z: p.z };\n      }\n\n      if (Longitude > Math.PI) {\n        Longitude -= (2 * Math.PI);\n      }\n      Sin_Lat = Math.sin(Latitude);\n      Cos_Lat = Math.cos(Latitude);\n      Sin2_Lat = Sin_Lat * Sin_Lat;\n      Rn = a / (Math.sqrt(1.0e0 - es * Sin2_Lat));\n      return {\n        x: (Rn + Height) * Cos_Lat * Math.cos(Longitude),\n        y: (Rn + Height) * Cos_Lat * Math.sin(Longitude),\n        z: ((Rn * (1 - es)) + Height) * Sin_Lat\n      };\n    } // cs_geodetic_to_geocentric()\n\n    function geocentricToGeodetic(p, es, a, b) {\n      /* local defintions and variables */\n      /* end-criterium of loop, accuracy of sin(Latitude) */\n      var genau = 1e-12;\n      var genau2 = (genau * genau);\n      var maxiter = 30;\n\n      var P; /* distance between semi-minor axis and location */\n      var RR; /* distance between center and location */\n      var CT; /* sin of geocentric latitude */\n      var ST; /* cos of geocentric latitude */\n      var RX;\n      var RK;\n      var RN; /* Earth radius at location */\n      var CPHI0; /* cos of start or old geodetic latitude in iterations */\n      var SPHI0; /* sin of start or old geodetic latitude in iterations */\n      var CPHI; /* cos of searched geodetic latitude */\n      var SPHI; /* sin of searched geodetic latitude */\n      var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */\n      var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */\n\n      var X = p.x;\n      var Y = p.y;\n      var Z = p.z ? p.z : 0.0; //Z value not always supplied\n      var Longitude;\n      var Latitude;\n      var Height;\n\n      P = Math.sqrt(X * X + Y * Y);\n      RR = Math.sqrt(X * X + Y * Y + Z * Z);\n\n      /*      special cases for latitude and longitude */\n      if (P / a < genau) {\n\n        /*  special case, if P=0. (X=0., Y=0.) */\n        Longitude = 0.0;\n\n        /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis\n         *  of ellipsoid (=center of mass), Latitude becomes PI/2 */\n        if (RR / a < genau) {\n          Latitude = HALF_PI;\n          Height = -b;\n          return {\n            x: p.x,\n            y: p.y,\n            z: p.z\n          };\n        }\n      } else {\n        /*  ellipsoidal (geodetic) longitude\n         *  interval: -PI < Longitude <= +PI */\n        Longitude = Math.atan2(Y, X);\n      }\n\n      /* --------------------------------------------------------------\n       * Following iterative algorithm was developped by\n       * \"Institut for Erdmessung\", University of Hannover, July 1988.\n       * Internet: www.ife.uni-hannover.de\n       * Iterative computation of CPHI,SPHI and Height.\n       * Iteration of CPHI and SPHI to 10**-12 radian resp.\n       * 2*10**-7 arcsec.\n       * --------------------------------------------------------------\n       */\n      CT = Z / RR;\n      ST = P / RR;\n      RX = 1.0 / Math.sqrt(1.0 - es * (2.0 - es) * ST * ST);\n      CPHI0 = ST * (1.0 - es) * RX;\n      SPHI0 = CT * RX;\n      iter = 0;\n\n      /* loop to find sin(Latitude) resp. Latitude\n       * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */\n      do {\n        iter++;\n        RN = a / Math.sqrt(1.0 - es * SPHI0 * SPHI0);\n\n        /*  ellipsoidal (geodetic) height */\n        Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - es * SPHI0 * SPHI0);\n\n        RK = es * RN / (RN + Height);\n        RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);\n        CPHI = ST * (1.0 - RK) * RX;\n        SPHI = CT * RX;\n        SDPHI = SPHI * CPHI0 - CPHI * SPHI0;\n        CPHI0 = CPHI;\n        SPHI0 = SPHI;\n      }\n      while (SDPHI * SDPHI > genau2 && iter < maxiter);\n\n      /*      ellipsoidal (geodetic) latitude */\n      Latitude = Math.atan(SPHI / Math.abs(CPHI));\n      return {\n        x: Longitude,\n        y: Latitude,\n        z: Height\n      };\n    } // cs_geocentric_to_geodetic()\n\n    /****************************************************************/\n    // pj_geocentic_to_wgs84( p )\n    //  p = point to transform in geocentric coordinates (x,y,z)\n\n\n    /** point object, nothing fancy, just allows values to be\n        passed back and forth by reference rather than by value.\n        Other point classes may be used as long as they have\n        x and y properties, which will get modified in the transform method.\n    */\n    function geocentricToWgs84(p, datum_type, datum_params) {\n\n      if (datum_type === PJD_3PARAM) {\n        // if( x[io] === HUGE_VAL )\n        //    continue;\n        return {\n          x: p.x + datum_params[0],\n          y: p.y + datum_params[1],\n          z: p.z + datum_params[2],\n        };\n      } else if (datum_type === PJD_7PARAM) {\n        var Dx_BF = datum_params[0];\n        var Dy_BF = datum_params[1];\n        var Dz_BF = datum_params[2];\n        var Rx_BF = datum_params[3];\n        var Ry_BF = datum_params[4];\n        var Rz_BF = datum_params[5];\n        var M_BF = datum_params[6];\n        // if( x[io] === HUGE_VAL )\n        //    continue;\n        return {\n          x: M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF,\n          y: M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF,\n          z: M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF\n        };\n      }\n    } // cs_geocentric_to_wgs84\n\n    /****************************************************************/\n    // pj_geocentic_from_wgs84()\n    //  coordinate system definition,\n    //  point to transform in geocentric coordinates (x,y,z)\n    function geocentricFromWgs84(p, datum_type, datum_params) {\n\n      if (datum_type === PJD_3PARAM) {\n        //if( x[io] === HUGE_VAL )\n        //    continue;\n        return {\n          x: p.x - datum_params[0],\n          y: p.y - datum_params[1],\n          z: p.z - datum_params[2],\n        };\n\n      } else if (datum_type === PJD_7PARAM) {\n        var Dx_BF = datum_params[0];\n        var Dy_BF = datum_params[1];\n        var Dz_BF = datum_params[2];\n        var Rx_BF = datum_params[3];\n        var Ry_BF = datum_params[4];\n        var Rz_BF = datum_params[5];\n        var M_BF = datum_params[6];\n        var x_tmp = (p.x - Dx_BF) / M_BF;\n        var y_tmp = (p.y - Dy_BF) / M_BF;\n        var z_tmp = (p.z - Dz_BF) / M_BF;\n        //if( x[io] === HUGE_VAL )\n        //    continue;\n\n        return {\n          x: x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp,\n          y: -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp,\n          z: Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp\n        };\n      } //cs_geocentric_from_wgs84()\n    }\n\n    function checkParams(type) {\n      return (type === PJD_3PARAM || type === PJD_7PARAM);\n    }\n\n    var datum_transform = function(source, dest, point) {\n      // Short cut if the datums are identical.\n      if (compareDatums(source, dest)) {\n        return point; // in this case, zero is sucess,\n        // whereas cs_compare_datums returns 1 to indicate TRUE\n        // confusing, should fix this\n      }\n\n      // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest\n      if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {\n        return point;\n      }\n\n      // If this datum requires grid shifts, then apply it to geodetic coordinates.\n\n      // Do we need to go through geocentric coordinates?\n      if (source.es === dest.es && source.a === dest.a && !checkParams(source.datum_type) &&  !checkParams(dest.datum_type)) {\n        return point;\n      }\n\n      // Convert to geocentric coordinates.\n      point = geodeticToGeocentric(point, source.es, source.a);\n      // Convert between datums\n      if (checkParams(source.datum_type)) {\n        point = geocentricToWgs84(point, source.datum_type, source.datum_params);\n      }\n      if (checkParams(dest.datum_type)) {\n        point = geocentricFromWgs84(point, dest.datum_type, dest.datum_params);\n      }\n      return geocentricToGeodetic(point, dest.es, dest.a, dest.b);\n\n    };\n\n    var adjust_axis = function(crs, denorm, point) {\n      var xin = point.x,\n        yin = point.y,\n        zin = point.z || 0.0;\n      var v, t, i;\n      var out = {};\n      for (i = 0; i < 3; i++) {\n        if (denorm && i === 2 && point.z === undefined) {\n          continue;\n        }\n        if (i === 0) {\n          v = xin;\n          if (\"ew\".indexOf(crs.axis[i]) !== -1) {\n            t = 'x';\n          } else {\n            t = 'y';\n          }\n\n        }\n        else if (i === 1) {\n          v = yin;\n          if (\"ns\".indexOf(crs.axis[i]) !== -1) {\n            t = 'y';\n          } else {\n            t = 'x';\n          }\n        }\n        else {\n          v = zin;\n          t = 'z';\n        }\n        switch (crs.axis[i]) {\n        case 'e':\n        case 'w':\n        case 'n':\n        case 's':\n          out[t] = v;\n          break;\n        case 'u':\n          if (point[t] !== undefined) {\n            out.z = v;\n          }\n          break;\n        case 'd':\n          if (point[t] !== undefined) {\n            out.z = -v;\n          }\n          break;\n        default:\n          //console.log(\"ERROR: unknow axis (\"+crs.axis[i]+\") - check definition of \"+crs.projName);\n          return null;\n        }\n      }\n      return out;\n    };\n\n    var toPoint = function (array){\n      var out = {\n        x: array[0],\n        y: array[1]\n      };\n      if (array.length>2) {\n        out.z = array[2];\n      }\n      if (array.length>3) {\n        out.m = array[3];\n      }\n      return out;\n    };\n\n    var checkSanity = function (point) {\n      checkCoord(point.x);\n      checkCoord(point.y);\n    };\n    function checkCoord(num) {\n      if (typeof Number.isFinite === 'function') {\n        if (Number.isFinite(num)) {\n          return;\n        }\n        throw new TypeError('coordinates must be finite numbers');\n      }\n      if (typeof num !== 'number' || num !== num || !isFinite(num)) {\n        throw new TypeError('coordinates must be finite numbers');\n      }\n    }\n\n    function checkNotWGS(source, dest) {\n      return ((source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM) && dest.datumCode !== 'WGS84') || ((dest.datum.datum_type === PJD_3PARAM || dest.datum.datum_type === PJD_7PARAM) && source.datumCode !== 'WGS84');\n    }\n\n    function transform(source, dest, point) {\n      var wgs84;\n      if (Array.isArray(point)) {\n        point = toPoint(point);\n      }\n      checkSanity(point);\n      // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84\n      if (source.datum && dest.datum && checkNotWGS(source, dest)) {\n        wgs84 = new Projection('WGS84');\n        point = transform(source, wgs84, point);\n        source = wgs84;\n      }\n      // DGR, 2010/11/12\n      if (source.axis !== 'enu') {\n        point = adjust_axis(source, false, point);\n      }\n      // Transform source points to long/lat, if they aren't already.\n      if (source.projName === 'longlat') {\n        point = {\n          x: point.x * D2R,\n          y: point.y * D2R,\n          z: point.z || 0\n        };\n      } else {\n        if (source.to_meter) {\n          point = {\n            x: point.x * source.to_meter,\n            y: point.y * source.to_meter,\n            z: point.z || 0\n          };\n        }\n        point = source.inverse(point); // Convert Cartesian to longlat\n        if (!point) {\n          return;\n        }\n      }\n      // Adjust for the prime meridian if necessary\n      if (source.from_greenwich) {\n        point.x += source.from_greenwich;\n      }\n\n      // Convert datums if needed, and if possible.\n      point = datum_transform(source.datum, dest.datum, point);\n\n      // Adjust for the prime meridian if necessary\n      if (dest.from_greenwich) {\n        point = {\n          x: point.x - dest.from_greenwich,\n          y: point.y,\n          z: point.z || 0\n        };\n      }\n\n      if (dest.projName === 'longlat') {\n        // convert radians to decimal degrees\n        point = {\n          x: point.x * R2D,\n          y: point.y * R2D,\n          z: point.z || 0\n        };\n      } else { // else project\n        point = dest.forward(point);\n        if (dest.to_meter) {\n          point = {\n            x: point.x / dest.to_meter,\n            y: point.y / dest.to_meter,\n            z: point.z || 0\n          };\n        }\n      }\n\n      // DGR, 2010/11/12\n      if (dest.axis !== 'enu') {\n        return adjust_axis(dest, true, point);\n      }\n\n      return point;\n    }\n\n    var wgs84 = Projection('WGS84');\n\n    function transformer(from, to, coords) {\n      var transformedArray, out, keys;\n      if (Array.isArray(coords)) {\n        transformedArray = transform(from, to, coords) || {x: NaN, y: NaN};\n        if (coords.length > 2) {\n          if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n            if (typeof transformedArray.z === 'number') {\n              return [transformedArray.x, transformedArray.y, transformedArray.z].concat(coords.splice(3));\n            } else {\n              return [transformedArray.x, transformedArray.y, coords[2]].concat(coords.splice(3));\n            }\n          } else {\n            return [transformedArray.x, transformedArray.y].concat(coords.splice(2));\n          }\n        } else {\n          return [transformedArray.x, transformedArray.y];\n        }\n      } else {\n        out = transform(from, to, coords);\n        keys = Object.keys(coords);\n        if (keys.length === 2) {\n          return out;\n        }\n        keys.forEach(function (key) {\n          if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n            if (key === 'x' || key === 'y' || key === 'z') {\n              return;\n            }\n          } else {\n            if (key === 'x' || key === 'y') {\n              return;\n            }\n          }\n          out[key] = coords[key];\n        });\n        return out;\n      }\n    }\n\n    function checkProj(item) {\n      if (item instanceof Projection) {\n        return item;\n      }\n      if (item.oProj) {\n        return item.oProj;\n      }\n      return Projection(item);\n    }\n\n    function proj4$1(fromProj, toProj, coord) {\n      fromProj = checkProj(fromProj);\n      var single = false;\n      var obj;\n      if (typeof toProj === 'undefined') {\n        toProj = fromProj;\n        fromProj = wgs84;\n        single = true;\n      } else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n        coord = toProj;\n        toProj = fromProj;\n        fromProj = wgs84;\n        single = true;\n      }\n      toProj = checkProj(toProj);\n      if (coord) {\n        return transformer(fromProj, toProj, coord);\n      } else {\n        obj = {\n          forward: function (coords) {\n            return transformer(fromProj, toProj, coords);\n          },\n          inverse: function (coords) {\n            return transformer(toProj, fromProj, coords);\n          }\n        };\n        if (single) {\n          obj.oProj = toProj;\n        }\n        return obj;\n      }\n    }\n\n    /**\n     * UTM zones are grouped, and assigned to one of a group of 6\n     * sets.\n     *\n     * {int} @private\n     */\n    var NUM_100K_SETS = 6;\n\n    /**\n     * The column letters (for easting) of the lower left value, per\n     * set.\n     *\n     * {string} @private\n     */\n    var SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';\n\n    /**\n     * The row letters (for northing) of the lower left value, per\n     * set.\n     *\n     * {string} @private\n     */\n    var SET_ORIGIN_ROW_LETTERS = 'AFAFAF';\n\n    var A = 65; // A\n    var I = 73; // I\n    var O = 79; // O\n    var V = 86; // V\n    var Z = 90; // Z\n    var mgrs = {\n      forward: forward$1,\n      inverse: inverse$1,\n      toPoint: toPoint$1\n    };\n    /**\n     * Conversion of lat/lon to MGRS.\n     *\n     * @param {object} ll Object literal with lat and lon properties on a\n     *     WGS84 ellipsoid.\n     * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for\n     *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.\n     * @return {string} the MGRS string for the given location and accuracy.\n     */\n    function forward$1(ll, accuracy) {\n      accuracy = accuracy || 5; // default accuracy 1m\n      return encode(LLtoUTM({\n        lat: ll[1],\n        lon: ll[0]\n      }), accuracy);\n    }\n\n    /**\n     * Conversion of MGRS to lat/lon.\n     *\n     * @param {string} mgrs MGRS string.\n     * @return {array} An array with left (longitude), bottom (latitude), right\n     *     (longitude) and top (latitude) values in WGS84, representing the\n     *     bounding box for the provided MGRS reference.\n     */\n    function inverse$1(mgrs) {\n      var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n      if (bbox.lat && bbox.lon) {\n        return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];\n      }\n      return [bbox.left, bbox.bottom, bbox.right, bbox.top];\n    }\n\n    function toPoint$1(mgrs) {\n      var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n      if (bbox.lat && bbox.lon) {\n        return [bbox.lon, bbox.lat];\n      }\n      return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];\n    }\n    /**\n     * Conversion from degrees to radians.\n     *\n     * @private\n     * @param {number} deg the angle in degrees.\n     * @return {number} the angle in radians.\n     */\n    function degToRad(deg) {\n      return (deg * (Math.PI / 180.0));\n    }\n\n    /**\n     * Conversion from radians to degrees.\n     *\n     * @private\n     * @param {number} rad the angle in radians.\n     * @return {number} the angle in degrees.\n     */\n    function radToDeg(rad) {\n      return (180.0 * (rad / Math.PI));\n    }\n\n    /**\n     * Converts a set of Longitude and Latitude co-ordinates to UTM\n     * using the WGS84 ellipsoid.\n     *\n     * @private\n     * @param {object} ll Object literal with lat and lon properties\n     *     representing the WGS84 coordinate to be converted.\n     * @return {object} Object literal containing the UTM value with easting,\n     *     northing, zoneNumber and zoneLetter properties, and an optional\n     *     accuracy property in digits. Returns null if the conversion failed.\n     */\n    function LLtoUTM(ll) {\n      var Lat = ll.lat;\n      var Long = ll.lon;\n      var a = 6378137.0; //ellip.radius;\n      var eccSquared = 0.00669438; //ellip.eccsq;\n      var k0 = 0.9996;\n      var LongOrigin;\n      var eccPrimeSquared;\n      var N, T, C, A, M;\n      var LatRad = degToRad(Lat);\n      var LongRad = degToRad(Long);\n      var LongOriginRad;\n      var ZoneNumber;\n      // (int)\n      ZoneNumber = Math.floor((Long + 180) / 6) + 1;\n\n      //Make sure the longitude 180.00 is in Zone 60\n      if (Long === 180) {\n        ZoneNumber = 60;\n      }\n\n      // Special zone for Norway\n      if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {\n        ZoneNumber = 32;\n      }\n\n      // Special zones for Svalbard\n      if (Lat >= 72.0 && Lat < 84.0) {\n        if (Long >= 0.0 && Long < 9.0) {\n          ZoneNumber = 31;\n        }\n        else if (Long >= 9.0 && Long < 21.0) {\n          ZoneNumber = 33;\n        }\n        else if (Long >= 21.0 && Long < 33.0) {\n          ZoneNumber = 35;\n        }\n        else if (Long >= 33.0 && Long < 42.0) {\n          ZoneNumber = 37;\n        }\n      }\n\n      LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin\n      // in middle of\n      // zone\n      LongOriginRad = degToRad(LongOrigin);\n\n      eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n      N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));\n      T = Math.tan(LatRad) * Math.tan(LatRad);\n      C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);\n      A = Math.cos(LatRad) * (LongRad - LongOriginRad);\n\n      M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));\n\n      var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);\n\n      var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));\n      if (Lat < 0.0) {\n        UTMNorthing += 10000000.0; //10000000 meter offset for\n        // southern hemisphere\n      }\n\n      return {\n        northing: Math.round(UTMNorthing),\n        easting: Math.round(UTMEasting),\n        zoneNumber: ZoneNumber,\n        zoneLetter: getLetterDesignator(Lat)\n      };\n    }\n\n    /**\n     * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience\n     * class where the Zone can be specified as a single string eg.\"60N\" which\n     * is then broken down into the ZoneNumber and ZoneLetter.\n     *\n     * @private\n     * @param {object} utm An object literal with northing, easting, zoneNumber\n     *     and zoneLetter properties. If an optional accuracy property is\n     *     provided (in meters), a bounding box will be returned instead of\n     *     latitude and longitude.\n     * @return {object} An object literal containing either lat and lon values\n     *     (if no accuracy was provided), or top, right, bottom and left values\n     *     for the bounding box calculated according to the provided accuracy.\n     *     Returns null if the conversion failed.\n     */\n    function UTMtoLL(utm) {\n\n      var UTMNorthing = utm.northing;\n      var UTMEasting = utm.easting;\n      var zoneLetter = utm.zoneLetter;\n      var zoneNumber = utm.zoneNumber;\n      // check the ZoneNummber is valid\n      if (zoneNumber < 0 || zoneNumber > 60) {\n        return null;\n      }\n\n      var k0 = 0.9996;\n      var a = 6378137.0; //ellip.radius;\n      var eccSquared = 0.00669438; //ellip.eccsq;\n      var eccPrimeSquared;\n      var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));\n      var N1, T1, C1, R1, D, M;\n      var LongOrigin;\n      var mu, phi1Rad;\n\n      // remove 500,000 meter offset for longitude\n      var x = UTMEasting - 500000.0;\n      var y = UTMNorthing;\n\n      // We must know somehow if we are in the Northern or Southern\n      // hemisphere, this is the only time we use the letter So even\n      // if the Zone letter isn't exactly correct it should indicate\n      // the hemisphere correctly\n      if (zoneLetter < 'N') {\n        y -= 10000000.0; // remove 10,000,000 meter offset used\n        // for southern hemisphere\n      }\n\n      // There are 60 zones with zone 1 being at West -180 to -174\n      LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin\n      // in middle of\n      // zone\n\n      eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n      M = y / k0;\n      mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));\n\n      phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);\n      // double phi1 = ProjMath.radToDeg(phi1Rad);\n\n      N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));\n      T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);\n      C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);\n      R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);\n      D = x / (N1 * k0);\n\n      var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);\n      lat = radToDeg(lat);\n\n      var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);\n      lon = LongOrigin + radToDeg(lon);\n\n      var result;\n      if (utm.accuracy) {\n        var topRight = UTMtoLL({\n          northing: utm.northing + utm.accuracy,\n          easting: utm.easting + utm.accuracy,\n          zoneLetter: utm.zoneLetter,\n          zoneNumber: utm.zoneNumber\n        });\n        result = {\n          top: topRight.lat,\n          right: topRight.lon,\n          bottom: lat,\n          left: lon\n        };\n      }\n      else {\n        result = {\n          lat: lat,\n          lon: lon\n        };\n      }\n      return result;\n    }\n\n    /**\n     * Calculates the MGRS letter designator for the given latitude.\n     *\n     * @private\n     * @param {number} lat The latitude in WGS84 to get the letter designator\n     *     for.\n     * @return {char} The letter designator.\n     */\n    function getLetterDesignator(lat) {\n      //This is here as an error flag to show that the Latitude is\n      //outside MGRS limits\n      var LetterDesignator = 'Z';\n\n      if ((84 >= lat) && (lat >= 72)) {\n        LetterDesignator = 'X';\n      }\n      else if ((72 > lat) && (lat >= 64)) {\n        LetterDesignator = 'W';\n      }\n      else if ((64 > lat) && (lat >= 56)) {\n        LetterDesignator = 'V';\n      }\n      else if ((56 > lat) && (lat >= 48)) {\n        LetterDesignator = 'U';\n      }\n      else if ((48 > lat) && (lat >= 40)) {\n        LetterDesignator = 'T';\n      }\n      else if ((40 > lat) && (lat >= 32)) {\n        LetterDesignator = 'S';\n      }\n      else if ((32 > lat) && (lat >= 24)) {\n        LetterDesignator = 'R';\n      }\n      else if ((24 > lat) && (lat >= 16)) {\n        LetterDesignator = 'Q';\n      }\n      else if ((16 > lat) && (lat >= 8)) {\n        LetterDesignator = 'P';\n      }\n      else if ((8 > lat) && (lat >= 0)) {\n        LetterDesignator = 'N';\n      }\n      else if ((0 > lat) && (lat >= -8)) {\n        LetterDesignator = 'M';\n      }\n      else if ((-8 > lat) && (lat >= -16)) {\n        LetterDesignator = 'L';\n      }\n      else if ((-16 > lat) && (lat >= -24)) {\n        LetterDesignator = 'K';\n      }\n      else if ((-24 > lat) && (lat >= -32)) {\n        LetterDesignator = 'J';\n      }\n      else if ((-32 > lat) && (lat >= -40)) {\n        LetterDesignator = 'H';\n      }\n      else if ((-40 > lat) && (lat >= -48)) {\n        LetterDesignator = 'G';\n      }\n      else if ((-48 > lat) && (lat >= -56)) {\n        LetterDesignator = 'F';\n      }\n      else if ((-56 > lat) && (lat >= -64)) {\n        LetterDesignator = 'E';\n      }\n      else if ((-64 > lat) && (lat >= -72)) {\n        LetterDesignator = 'D';\n      }\n      else if ((-72 > lat) && (lat >= -80)) {\n        LetterDesignator = 'C';\n      }\n      return LetterDesignator;\n    }\n\n    /**\n     * Encodes a UTM location as MGRS string.\n     *\n     * @private\n     * @param {object} utm An object literal with easting, northing,\n     *     zoneLetter, zoneNumber\n     * @param {number} accuracy Accuracy in digits (1-5).\n     * @return {string} MGRS string for the given UTM location.\n     */\n    function encode(utm, accuracy) {\n      // prepend with leading zeroes\n      var seasting = \"00000\" + utm.easting,\n        snorthing = \"00000\" + utm.northing;\n\n      return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);\n    }\n\n    /**\n     * Get the two letter 100k designator for a given UTM easting,\n     * northing and zone number value.\n     *\n     * @private\n     * @param {number} easting\n     * @param {number} northing\n     * @param {number} zoneNumber\n     * @return the two letter 100k designator for the given UTM location.\n     */\n    function get100kID(easting, northing, zoneNumber) {\n      var setParm = get100kSetForZone(zoneNumber);\n      var setColumn = Math.floor(easting / 100000);\n      var setRow = Math.floor(northing / 100000) % 20;\n      return getLetter100kID(setColumn, setRow, setParm);\n    }\n\n    /**\n     * Given a UTM zone number, figure out the MGRS 100K set it is in.\n     *\n     * @private\n     * @param {number} i An UTM zone number.\n     * @return {number} the 100k set the UTM zone is in.\n     */\n    function get100kSetForZone(i) {\n      var setParm = i % NUM_100K_SETS;\n      if (setParm === 0) {\n        setParm = NUM_100K_SETS;\n      }\n\n      return setParm;\n    }\n\n    /**\n     * Get the two-letter MGRS 100k designator given information\n     * translated from the UTM northing, easting and zone number.\n     *\n     * @private\n     * @param {number} column the column index as it relates to the MGRS\n     *        100k set spreadsheet, created from the UTM easting.\n     *        Values are 1-8.\n     * @param {number} row the row index as it relates to the MGRS 100k set\n     *        spreadsheet, created from the UTM northing value. Values\n     *        are from 0-19.\n     * @param {number} parm the set block, as it relates to the MGRS 100k set\n     *        spreadsheet, created from the UTM zone. Values are from\n     *        1-60.\n     * @return two letter MGRS 100k code.\n     */\n    function getLetter100kID(column, row, parm) {\n      // colOrigin and rowOrigin are the letters at the origin of the set\n      var index = parm - 1;\n      var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);\n      var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);\n\n      // colInt and rowInt are the letters to build to return\n      var colInt = colOrigin + column - 1;\n      var rowInt = rowOrigin + row;\n      var rollover = false;\n\n      if (colInt > Z) {\n        colInt = colInt - Z + A - 1;\n        rollover = true;\n      }\n\n      if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {\n        colInt++;\n      }\n\n      if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {\n        colInt++;\n\n        if (colInt === I) {\n          colInt++;\n        }\n      }\n\n      if (colInt > Z) {\n        colInt = colInt - Z + A - 1;\n      }\n\n      if (rowInt > V) {\n        rowInt = rowInt - V + A - 1;\n        rollover = true;\n      }\n      else {\n        rollover = false;\n      }\n\n      if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {\n        rowInt++;\n      }\n\n      if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {\n        rowInt++;\n\n        if (rowInt === I) {\n          rowInt++;\n        }\n      }\n\n      if (rowInt > V) {\n        rowInt = rowInt - V + A - 1;\n      }\n\n      var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);\n      return twoLetter;\n    }\n\n    /**\n     * Decode the UTM parameters from a MGRS string.\n     *\n     * @private\n     * @param {string} mgrsString an UPPERCASE coordinate string is expected.\n     * @return {object} An object literal with easting, northing, zoneLetter,\n     *     zoneNumber and accuracy (in meters) properties.\n     */\n    function decode(mgrsString) {\n\n      if (mgrsString && mgrsString.length === 0) {\n        throw (\"MGRSPoint coverting from nothing\");\n      }\n\n      var length = mgrsString.length;\n\n      var hunK = null;\n      var sb = \"\";\n      var testChar;\n      var i = 0;\n\n      // get Zone number\n      while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {\n        if (i >= 2) {\n          throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n        }\n        sb += testChar;\n        i++;\n      }\n\n      var zoneNumber = parseInt(sb, 10);\n\n      if (i === 0 || i + 3 > length) {\n        // A good MGRS string has to be 4-5 digits long,\n        // ##AAA/#AAA at least.\n        throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n      }\n\n      var zoneLetter = mgrsString.charAt(i++);\n\n      // Should we check the zone letter here? Why not.\n      if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {\n        throw (\"MGRSPoint zone letter \" + zoneLetter + \" not handled: \" + mgrsString);\n      }\n\n      hunK = mgrsString.substring(i, i += 2);\n\n      var set = get100kSetForZone(zoneNumber);\n\n      var east100k = getEastingFromChar(hunK.charAt(0), set);\n      var north100k = getNorthingFromChar(hunK.charAt(1), set);\n\n      // We have a bug where the northing may be 2000000 too low.\n      // How\n      // do we know when to roll over?\n\n      while (north100k < getMinNorthing(zoneLetter)) {\n        north100k += 2000000;\n      }\n\n      // calculate the char index for easting/northing separator\n      var remainder = length - i;\n\n      if (remainder % 2 !== 0) {\n        throw (\"MGRSPoint has to have an even number \\nof digits after the zone letter and two 100km letters - front \\nhalf for easting meters, second half for \\nnorthing meters\" + mgrsString);\n      }\n\n      var sep = remainder / 2;\n\n      var sepEasting = 0.0;\n      var sepNorthing = 0.0;\n      var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;\n      if (sep > 0) {\n        accuracyBonus = 100000.0 / Math.pow(10, sep);\n        sepEastingString = mgrsString.substring(i, i + sep);\n        sepEasting = parseFloat(sepEastingString) * accuracyBonus;\n        sepNorthingString = mgrsString.substring(i + sep);\n        sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;\n      }\n\n      easting = sepEasting + east100k;\n      northing = sepNorthing + north100k;\n\n      return {\n        easting: easting,\n        northing: northing,\n        zoneLetter: zoneLetter,\n        zoneNumber: zoneNumber,\n        accuracy: accuracyBonus\n      };\n    }\n\n    /**\n     * Given the first letter from a two-letter MGRS 100k zone, and given the\n     * MGRS table set for the zone number, figure out the easting value that\n     * should be added to the other, secondary easting value.\n     *\n     * @private\n     * @param {char} e The first letter from a two-letter MGRS 100´k zone.\n     * @param {number} set The MGRS table set for the zone number.\n     * @return {number} The easting value for the given letter and set.\n     */\n    function getEastingFromChar(e, set) {\n      // colOrigin is the letter at the origin of the set for the\n      // column\n      var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);\n      var eastingValue = 100000.0;\n      var rewindMarker = false;\n\n      while (curCol !== e.charCodeAt(0)) {\n        curCol++;\n        if (curCol === I) {\n          curCol++;\n        }\n        if (curCol === O) {\n          curCol++;\n        }\n        if (curCol > Z) {\n          if (rewindMarker) {\n            throw (\"Bad character: \" + e);\n          }\n          curCol = A;\n          rewindMarker = true;\n        }\n        eastingValue += 100000.0;\n      }\n\n      return eastingValue;\n    }\n\n    /**\n     * Given the second letter from a two-letter MGRS 100k zone, and given the\n     * MGRS table set for the zone number, figure out the northing value that\n     * should be added to the other, secondary northing value. You have to\n     * remember that Northings are determined from the equator, and the vertical\n     * cycle of letters mean a 2000000 additional northing meters. This happens\n     * approx. every 18 degrees of latitude. This method does *NOT* count any\n     * additional northings. You have to figure out how many 2000000 meters need\n     * to be added for the zone letter of the MGRS coordinate.\n     *\n     * @private\n     * @param {char} n Second letter of the MGRS 100k zone\n     * @param {number} set The MGRS table set number, which is dependent on the\n     *     UTM zone number.\n     * @return {number} The northing value for the given letter and set.\n     */\n    function getNorthingFromChar(n, set) {\n\n      if (n > 'V') {\n        throw (\"MGRSPoint given invalid Northing \" + n);\n      }\n\n      // rowOrigin is the letter at the origin of the set for the\n      // column\n      var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);\n      var northingValue = 0.0;\n      var rewindMarker = false;\n\n      while (curRow !== n.charCodeAt(0)) {\n        curRow++;\n        if (curRow === I) {\n          curRow++;\n        }\n        if (curRow === O) {\n          curRow++;\n        }\n        // fixing a bug making whole application hang in this loop\n        // when 'n' is a wrong character\n        if (curRow > V) {\n          if (rewindMarker) { // making sure that this loop ends\n            throw (\"Bad character: \" + n);\n          }\n          curRow = A;\n          rewindMarker = true;\n        }\n        northingValue += 100000.0;\n      }\n\n      return northingValue;\n    }\n\n    /**\n     * The function getMinNorthing returns the minimum northing value of a MGRS\n     * zone.\n     *\n     * Ported from Geotrans' c Lattitude_Band_Value structure table.\n     *\n     * @private\n     * @param {char} zoneLetter The MGRS zone to get the min northing for.\n     * @return {number}\n     */\n    function getMinNorthing(zoneLetter) {\n      var northing;\n      switch (zoneLetter) {\n      case 'C':\n        northing = 1100000.0;\n        break;\n      case 'D':\n        northing = 2000000.0;\n        break;\n      case 'E':\n        northing = 2800000.0;\n        break;\n      case 'F':\n        northing = 3700000.0;\n        break;\n      case 'G':\n        northing = 4600000.0;\n        break;\n      case 'H':\n        northing = 5500000.0;\n        break;\n      case 'J':\n        northing = 6400000.0;\n        break;\n      case 'K':\n        northing = 7300000.0;\n        break;\n      case 'L':\n        northing = 8200000.0;\n        break;\n      case 'M':\n        northing = 9100000.0;\n        break;\n      case 'N':\n        northing = 0.0;\n        break;\n      case 'P':\n        northing = 800000.0;\n        break;\n      case 'Q':\n        northing = 1700000.0;\n        break;\n      case 'R':\n        northing = 2600000.0;\n        break;\n      case 'S':\n        northing = 3500000.0;\n        break;\n      case 'T':\n        northing = 4400000.0;\n        break;\n      case 'U':\n        northing = 5300000.0;\n        break;\n      case 'V':\n        northing = 6200000.0;\n        break;\n      case 'W':\n        northing = 7000000.0;\n        break;\n      case 'X':\n        northing = 7900000.0;\n        break;\n      default:\n        northing = -1.0;\n      }\n      if (northing >= 0.0) {\n        return northing;\n      }\n      else {\n        throw (\"Invalid zone letter: \" + zoneLetter);\n      }\n\n    }\n\n    function Point(x, y, z) {\n      if (!(this instanceof Point)) {\n        return new Point(x, y, z);\n      }\n      if (Array.isArray(x)) {\n        this.x = x[0];\n        this.y = x[1];\n        this.z = x[2] || 0.0;\n      } else if(typeof x === 'object') {\n        this.x = x.x;\n        this.y = x.y;\n        this.z = x.z || 0.0;\n      } else if (typeof x === 'string' && typeof y === 'undefined') {\n        var coords = x.split(',');\n        this.x = parseFloat(coords[0], 10);\n        this.y = parseFloat(coords[1], 10);\n        this.z = parseFloat(coords[2], 10) || 0.0;\n      } else {\n        this.x = x;\n        this.y = y;\n        this.z = z || 0.0;\n      }\n      console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');\n    }\n\n    Point.fromMGRS = function(mgrsStr) {\n      return new Point(toPoint$1(mgrsStr));\n    };\n    Point.prototype.toMGRS = function(accuracy) {\n      return forward$1([this.x, this.y], accuracy);\n    };\n\n    var C00 = 1;\n    var C02 = 0.25;\n    var C04 = 0.046875;\n    var C06 = 0.01953125;\n    var C08 = 0.01068115234375;\n    var C22 = 0.75;\n    var C44 = 0.46875;\n    var C46 = 0.01302083333333333333;\n    var C48 = 0.00712076822916666666;\n    var C66 = 0.36458333333333333333;\n    var C68 = 0.00569661458333333333;\n    var C88 = 0.3076171875;\n\n    var pj_enfn = function(es) {\n      var en = [];\n      en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));\n      en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));\n      var t = es * es;\n      en[2] = t * (C44 - es * (C46 + es * C48));\n      t *= es;\n      en[3] = t * (C66 - es * C68);\n      en[4] = t * es * C88;\n      return en;\n    };\n\n    var pj_mlfn = function(phi, sphi, cphi, en) {\n      cphi *= sphi;\n      sphi *= sphi;\n      return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));\n    };\n\n    var MAX_ITER = 20;\n\n    var pj_inv_mlfn = function(arg, es, en) {\n      var k = 1 / (1 - es);\n      var phi = arg;\n      for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */\n        var s = Math.sin(phi);\n        var t = 1 - es * s * s;\n        //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;\n        //phi -= t * (t * Math.sqrt(t)) * k;\n        t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;\n        phi -= t;\n        if (Math.abs(t) < EPSLN) {\n          return phi;\n        }\n      }\n      //..reportError(\"cass:pj_inv_mlfn: Convergence error\");\n      return phi;\n    };\n\n    // Heavily based on this tmerc projection implementation\n    // https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/tmerc.js\n\n    function init$2() {\n      this.x0 = this.x0 !== undefined ? this.x0 : 0;\n      this.y0 = this.y0 !== undefined ? this.y0 : 0;\n      this.long0 = this.long0 !== undefined ? this.long0 : 0;\n      this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n      if (this.es) {\n        this.en = pj_enfn(this.es);\n        this.ml0 = pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en);\n      }\n    }\n\n    /**\n        Transverse Mercator Forward  - long/lat to x/y\n        long/lat in radians\n      */\n    function forward$2(p) {\n      var lon = p.x;\n      var lat = p.y;\n\n      var delta_lon = adjust_lon(lon - this.long0);\n      var con;\n      var x, y;\n      var sin_phi = Math.sin(lat);\n      var cos_phi = Math.cos(lat);\n\n      if (!this.es) {\n        var b = cos_phi * Math.sin(delta_lon);\n\n        if ((Math.abs(Math.abs(b) - 1)) < EPSLN) {\n          return (93);\n        }\n        else {\n          x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b)) + this.x0;\n          y = cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - Math.pow(b, 2));\n          b = Math.abs(y);\n\n          if (b >= 1) {\n            if ((b - 1) > EPSLN) {\n              return (93);\n            }\n            else {\n              y = 0;\n            }\n          }\n          else {\n            y = Math.acos(y);\n          }\n\n          if (lat < 0) {\n            y = -y;\n          }\n\n          y = this.a * this.k0 * (y - this.lat0) + this.y0;\n        }\n      }\n      else {\n        var al = cos_phi * delta_lon;\n        var als = Math.pow(al, 2);\n        var c = this.ep2 * Math.pow(cos_phi, 2);\n        var cs = Math.pow(c, 2);\n        var tq = Math.abs(cos_phi) > EPSLN ? Math.tan(lat) : 0;\n        var t = Math.pow(tq, 2);\n        var ts = Math.pow(t, 2);\n        con = 1 - this.es * Math.pow(sin_phi, 2);\n        al = al / Math.sqrt(con);\n        var ml = pj_mlfn(lat, sin_phi, cos_phi, this.en);\n\n        x = this.a * (this.k0 * al * (1 +\n          als / 6 * (1 - t + c +\n          als / 20 * (5 - 18 * t + ts + 14 * c - 58 * t * c +\n          als / 42 * (61 + 179 * ts - ts * t - 479 * t))))) +\n          this.x0;\n\n        y = this.a * (this.k0 * (ml - this.ml0 +\n          sin_phi * delta_lon * al / 2 * (1 +\n          als / 12 * (5 - t + 9 * c + 4 * cs +\n          als / 30 * (61 + ts - 58 * t + 270 * c - 330 * t * c +\n          als / 56 * (1385 + 543 * ts - ts * t - 3111 * t)))))) +\n          this.y0;\n      }\n\n      p.x = x;\n      p.y = y;\n\n      return p;\n    }\n\n    /**\n        Transverse Mercator Inverse  -  x/y to long/lat\n      */\n    function inverse$2(p) {\n      var con, phi;\n      var lat, lon;\n      var x = (p.x - this.x0) * (1 / this.a);\n      var y = (p.y - this.y0) * (1 / this.a);\n\n      if (!this.es) {\n        var f = Math.exp(x / this.k0);\n        var g = 0.5 * (f - 1 / f);\n        var temp = this.lat0 + y / this.k0;\n        var h = Math.cos(temp);\n        con = Math.sqrt((1 - Math.pow(h, 2)) / (1 + Math.pow(g, 2)));\n        lat = Math.asin(con);\n\n        if (y < 0) {\n          lat = -lat;\n        }\n\n        if ((g === 0) && (h === 0)) {\n          lon = 0;\n        }\n        else {\n          lon = adjust_lon(Math.atan2(g, h) + this.long0);\n        }\n      }\n      else { // ellipsoidal form\n        con = this.ml0 + y / this.k0;\n        phi = pj_inv_mlfn(con, this.es, this.en);\n\n        if (Math.abs(phi) < HALF_PI) {\n          var sin_phi = Math.sin(phi);\n          var cos_phi = Math.cos(phi);\n          var tan_phi = Math.abs(cos_phi) > EPSLN ? Math.tan(phi) : 0;\n          var c = this.ep2 * Math.pow(cos_phi, 2);\n          var cs = Math.pow(c, 2);\n          var t = Math.pow(tan_phi, 2);\n          var ts = Math.pow(t, 2);\n          con = 1 - this.es * Math.pow(sin_phi, 2);\n          var d = x * Math.sqrt(con) / this.k0;\n          var ds = Math.pow(d, 2);\n          con = con * tan_phi;\n\n          lat = phi - (con * ds / (1 - this.es)) * 0.5 * (1 -\n            ds / 12 * (5 + 3 * t - 9 * c * t + c - 4 * cs -\n            ds / 30 * (61 + 90 * t - 252 * c * t + 45 * ts + 46 * c -\n            ds / 56 * (1385 + 3633 * t + 4095 * ts + 1574 * ts * t))));\n\n          lon = adjust_lon(this.long0 + (d * (1 -\n            ds / 6 * (1 + 2 * t + c -\n            ds / 20 * (5 + 28 * t + 24 * ts + 8 * c * t + 6 * c -\n            ds / 42 * (61 + 662 * t + 1320 * ts + 720 * ts * t)))) / cos_phi));\n        }\n        else {\n          lat = HALF_PI * sign(y);\n          lon = 0;\n        }\n      }\n\n      p.x = lon;\n      p.y = lat;\n\n      return p;\n    }\n\n    var names$3 = [\"Transverse_Mercator\", \"Transverse Mercator\", \"tmerc\"];\n    var tmerc = {\n      init: init$2,\n      forward: forward$2,\n      inverse: inverse$2,\n      names: names$3\n    };\n\n    var sinh = function(x) {\n      var r = Math.exp(x);\n      r = (r - 1 / r) / 2;\n      return r;\n    };\n\n    var hypot = function(x, y) {\n      x = Math.abs(x);\n      y = Math.abs(y);\n      var a = Math.max(x, y);\n      var b = Math.min(x, y) / (a ? a : 1);\n\n      return a * Math.sqrt(1 + Math.pow(b, 2));\n    };\n\n    var log1py = function(x) {\n      var y = 1 + x;\n      var z = y - 1;\n\n      return z === 0 ? x : x * Math.log(y) / z;\n    };\n\n    var asinhy = function(x) {\n      var y = Math.abs(x);\n      y = log1py(y * (1 + y / (hypot(1, y) + 1)));\n\n      return x < 0 ? -y : y;\n    };\n\n    var gatg = function(pp, B) {\n      var cos_2B = 2 * Math.cos(2 * B);\n      var i = pp.length - 1;\n      var h1 = pp[i];\n      var h2 = 0;\n      var h;\n\n      while (--i >= 0) {\n        h = -h2 + cos_2B * h1 + pp[i];\n        h2 = h1;\n        h1 = h;\n      }\n\n      return (B + h * Math.sin(2 * B));\n    };\n\n    var clens = function(pp, arg_r) {\n      var r = 2 * Math.cos(arg_r);\n      var i = pp.length - 1;\n      var hr1 = pp[i];\n      var hr2 = 0;\n      var hr;\n\n      while (--i >= 0) {\n        hr = -hr2 + r * hr1 + pp[i];\n        hr2 = hr1;\n        hr1 = hr;\n      }\n\n      return Math.sin(arg_r) * hr;\n    };\n\n    var cosh = function(x) {\n      var r = Math.exp(x);\n      r = (r + 1 / r) / 2;\n      return r;\n    };\n\n    var clens_cmplx = function(pp, arg_r, arg_i) {\n      var sin_arg_r = Math.sin(arg_r);\n      var cos_arg_r = Math.cos(arg_r);\n      var sinh_arg_i = sinh(arg_i);\n      var cosh_arg_i = cosh(arg_i);\n      var r = 2 * cos_arg_r * cosh_arg_i;\n      var i = -2 * sin_arg_r * sinh_arg_i;\n      var j = pp.length - 1;\n      var hr = pp[j];\n      var hi1 = 0;\n      var hr1 = 0;\n      var hi = 0;\n      var hr2;\n      var hi2;\n\n      while (--j >= 0) {\n        hr2 = hr1;\n        hi2 = hi1;\n        hr1 = hr;\n        hi1 = hi;\n        hr = -hr2 + r * hr1 - i * hi1 + pp[j];\n        hi = -hi2 + i * hr1 + r * hi1;\n      }\n\n      r = sin_arg_r * cosh_arg_i;\n      i = cos_arg_r * sinh_arg_i;\n\n      return [r * hr - i * hi, r * hi + i * hr];\n    };\n\n    // Heavily based on this etmerc projection implementation\n    // https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/etmerc.js\n\n    function init$3() {\n      if (this.es === undefined || this.es <= 0) {\n        throw new Error('incorrect elliptical usage');\n      }\n\n      this.x0 = this.x0 !== undefined ? this.x0 : 0;\n      this.y0 = this.y0 !== undefined ? this.y0 : 0;\n      this.long0 = this.long0 !== undefined ? this.long0 : 0;\n      this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n      this.cgb = [];\n      this.cbg = [];\n      this.utg = [];\n      this.gtu = [];\n\n      var f = this.es / (1 + Math.sqrt(1 - this.es));\n      var n = f / (2 - f);\n      var np = n;\n\n      this.cgb[0] = n * (2 + n * (-2 / 3 + n * (-2 + n * (116 / 45 + n * (26 / 45 + n * (-2854 / 675 ))))));\n      this.cbg[0] = n * (-2 + n * ( 2 / 3 + n * ( 4 / 3 + n * (-82 / 45 + n * (32 / 45 + n * (4642 / 4725))))));\n\n      np = np * n;\n      this.cgb[1] = np * (7 / 3 + n * (-8 / 5 + n * (-227 / 45 + n * (2704 / 315 + n * (2323 / 945)))));\n      this.cbg[1] = np * (5 / 3 + n * (-16 / 15 + n * ( -13 / 9 + n * (904 / 315 + n * (-1522 / 945)))));\n\n      np = np * n;\n      this.cgb[2] = np * (56 / 15 + n * (-136 / 35 + n * (-1262 / 105 + n * (73814 / 2835))));\n      this.cbg[2] = np * (-26 / 15 + n * (34 / 21 + n * (8 / 5 + n * (-12686 / 2835))));\n\n      np = np * n;\n      this.cgb[3] = np * (4279 / 630 + n * (-332 / 35 + n * (-399572 / 14175)));\n      this.cbg[3] = np * (1237 / 630 + n * (-12 / 5 + n * ( -24832 / 14175)));\n\n      np = np * n;\n      this.cgb[4] = np * (4174 / 315 + n * (-144838 / 6237));\n      this.cbg[4] = np * (-734 / 315 + n * (109598 / 31185));\n\n      np = np * n;\n      this.cgb[5] = np * (601676 / 22275);\n      this.cbg[5] = np * (444337 / 155925);\n\n      np = Math.pow(n, 2);\n      this.Qn = this.k0 / (1 + n) * (1 + np * (1 / 4 + np * (1 / 64 + np / 256)));\n\n      this.utg[0] = n * (-0.5 + n * ( 2 / 3 + n * (-37 / 96 + n * ( 1 / 360 + n * (81 / 512 + n * (-96199 / 604800))))));\n      this.gtu[0] = n * (0.5 + n * (-2 / 3 + n * (5 / 16 + n * (41 / 180 + n * (-127 / 288 + n * (7891 / 37800))))));\n\n      this.utg[1] = np * (-1 / 48 + n * (-1 / 15 + n * (437 / 1440 + n * (-46 / 105 + n * (1118711 / 3870720)))));\n      this.gtu[1] = np * (13 / 48 + n * (-3 / 5 + n * (557 / 1440 + n * (281 / 630 + n * (-1983433 / 1935360)))));\n\n      np = np * n;\n      this.utg[2] = np * (-17 / 480 + n * (37 / 840 + n * (209 / 4480 + n * (-5569 / 90720 ))));\n      this.gtu[2] = np * (61 / 240 + n * (-103 / 140 + n * (15061 / 26880 + n * (167603 / 181440))));\n\n      np = np * n;\n      this.utg[3] = np * (-4397 / 161280 + n * (11 / 504 + n * (830251 / 7257600)));\n      this.gtu[3] = np * (49561 / 161280 + n * (-179 / 168 + n * (6601661 / 7257600)));\n\n      np = np * n;\n      this.utg[4] = np * (-4583 / 161280 + n * (108847 / 3991680));\n      this.gtu[4] = np * (34729 / 80640 + n * (-3418889 / 1995840));\n\n      np = np * n;\n      this.utg[5] = np * (-20648693 / 638668800);\n      this.gtu[5] = np * (212378941 / 319334400);\n\n      var Z = gatg(this.cbg, this.lat0);\n      this.Zb = -this.Qn * (Z + clens(this.gtu, 2 * Z));\n    }\n\n    function forward$3(p) {\n      var Ce = adjust_lon(p.x - this.long0);\n      var Cn = p.y;\n\n      Cn = gatg(this.cbg, Cn);\n      var sin_Cn = Math.sin(Cn);\n      var cos_Cn = Math.cos(Cn);\n      var sin_Ce = Math.sin(Ce);\n      var cos_Ce = Math.cos(Ce);\n\n      Cn = Math.atan2(sin_Cn, cos_Ce * cos_Cn);\n      Ce = Math.atan2(sin_Ce * cos_Cn, hypot(sin_Cn, cos_Cn * cos_Ce));\n      Ce = asinhy(Math.tan(Ce));\n\n      var tmp = clens_cmplx(this.gtu, 2 * Cn, 2 * Ce);\n\n      Cn = Cn + tmp[0];\n      Ce = Ce + tmp[1];\n\n      var x;\n      var y;\n\n      if (Math.abs(Ce) <= 2.623395162778) {\n        x = this.a * (this.Qn * Ce) + this.x0;\n        y = this.a * (this.Qn * Cn + this.Zb) + this.y0;\n      }\n      else {\n        x = Infinity;\n        y = Infinity;\n      }\n\n      p.x = x;\n      p.y = y;\n\n      return p;\n    }\n\n    function inverse$3(p) {\n      var Ce = (p.x - this.x0) * (1 / this.a);\n      var Cn = (p.y - this.y0) * (1 / this.a);\n\n      Cn = (Cn - this.Zb) / this.Qn;\n      Ce = Ce / this.Qn;\n\n      var lon;\n      var lat;\n\n      if (Math.abs(Ce) <= 2.623395162778) {\n        var tmp = clens_cmplx(this.utg, 2 * Cn, 2 * Ce);\n\n        Cn = Cn + tmp[0];\n        Ce = Ce + tmp[1];\n        Ce = Math.atan(sinh(Ce));\n\n        var sin_Cn = Math.sin(Cn);\n        var cos_Cn = Math.cos(Cn);\n        var sin_Ce = Math.sin(Ce);\n        var cos_Ce = Math.cos(Ce);\n\n        Cn = Math.atan2(sin_Cn * cos_Ce, hypot(sin_Ce, cos_Ce * cos_Cn));\n        Ce = Math.atan2(sin_Ce, cos_Ce * cos_Cn);\n\n        lon = adjust_lon(Ce + this.long0);\n        lat = gatg(this.cgb, Cn);\n      }\n      else {\n        lon = Infinity;\n        lat = Infinity;\n      }\n\n      p.x = lon;\n      p.y = lat;\n\n      return p;\n    }\n\n    var names$4 = [\"Extended_Transverse_Mercator\", \"Extended Transverse Mercator\", \"etmerc\"];\n    var etmerc = {\n      init: init$3,\n      forward: forward$3,\n      inverse: inverse$3,\n      names: names$4\n    };\n\n    var adjust_zone = function(zone, lon) {\n      if (zone === undefined) {\n        zone = Math.floor((adjust_lon(lon) + Math.PI) * 30 / Math.PI) + 1;\n\n        if (zone < 0) {\n          return 0;\n        } else if (zone > 60) {\n          return 60;\n        }\n      }\n      return zone;\n    };\n\n    var dependsOn = 'etmerc';\n    function init$4() {\n      var zone = adjust_zone(this.zone, this.long0);\n      if (zone === undefined) {\n        throw new Error('unknown utm zone');\n      }\n      this.lat0 = 0;\n      this.long0 =  ((6 * Math.abs(zone)) - 183) * D2R;\n      this.x0 = 500000;\n      this.y0 = this.utmSouth ? 10000000 : 0;\n      this.k0 = 0.9996;\n\n      etmerc.init.apply(this);\n      this.forward = etmerc.forward;\n      this.inverse = etmerc.inverse;\n    }\n\n    var names$5 = [\"Universal Transverse Mercator System\", \"utm\"];\n    var utm = {\n      init: init$4,\n      names: names$5,\n      dependsOn: dependsOn\n    };\n\n    var srat = function(esinp, exp) {\n      return (Math.pow((1 - esinp) / (1 + esinp), exp));\n    };\n\n    var MAX_ITER$1 = 20;\n    function init$6() {\n      var sphi = Math.sin(this.lat0);\n      var cphi = Math.cos(this.lat0);\n      cphi *= cphi;\n      this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n      this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n      this.phic0 = Math.asin(sphi / this.C);\n      this.ratexp = 0.5 * this.C * this.e;\n      this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n    }\n\n    function forward$5(p) {\n      var lon = p.x;\n      var lat = p.y;\n\n      p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n      p.x = this.C * lon;\n      return p;\n    }\n\n    function inverse$5(p) {\n      var DEL_TOL = 1e-14;\n      var lon = p.x / this.C;\n      var lat = p.y;\n      var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n      for (var i = MAX_ITER$1; i > 0; --i) {\n        lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;\n        if (Math.abs(lat - p.y) < DEL_TOL) {\n          break;\n        }\n        p.y = lat;\n      }\n      /* convergence failed */\n      if (!i) {\n        return null;\n      }\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$7 = [\"gauss\"];\n    var gauss = {\n      init: init$6,\n      forward: forward$5,\n      inverse: inverse$5,\n      names: names$7\n    };\n\n    function init$5() {\n      gauss.init.apply(this);\n      if (!this.rc) {\n        return;\n      }\n      this.sinc0 = Math.sin(this.phic0);\n      this.cosc0 = Math.cos(this.phic0);\n      this.R2 = 2 * this.rc;\n      if (!this.title) {\n        this.title = \"Oblique Stereographic Alternative\";\n      }\n    }\n\n    function forward$4(p) {\n      var sinc, cosc, cosl, k;\n      p.x = adjust_lon(p.x - this.long0);\n      gauss.forward.apply(this, [p]);\n      sinc = Math.sin(p.y);\n      cosc = Math.cos(p.y);\n      cosl = Math.cos(p.x);\n      k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n      p.x = k * cosc * Math.sin(p.x);\n      p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n      p.x = this.a * p.x + this.x0;\n      p.y = this.a * p.y + this.y0;\n      return p;\n    }\n\n    function inverse$4(p) {\n      var sinc, cosc, lon, lat, rho;\n      p.x = (p.x - this.x0) / this.a;\n      p.y = (p.y - this.y0) / this.a;\n\n      p.x /= this.k0;\n      p.y /= this.k0;\n      if ((rho = Math.sqrt(p.x * p.x + p.y * p.y))) {\n        var c = 2 * Math.atan2(rho, this.R2);\n        sinc = Math.sin(c);\n        cosc = Math.cos(c);\n        lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n        lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n      }\n      else {\n        lat = this.phic0;\n        lon = 0;\n      }\n\n      p.x = lon;\n      p.y = lat;\n      gauss.inverse.apply(this, [p]);\n      p.x = adjust_lon(p.x + this.long0);\n      return p;\n    }\n\n    var names$6 = [\"Stereographic_North_Pole\", \"Oblique_Stereographic\", \"Polar_Stereographic\", \"sterea\",\"Oblique Stereographic Alternative\",\"Double_Stereographic\"];\n    var sterea = {\n      init: init$5,\n      forward: forward$4,\n      inverse: inverse$4,\n      names: names$6\n    };\n\n    function ssfn_(phit, sinphi, eccen) {\n      sinphi *= eccen;\n      return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));\n    }\n\n    function init$7() {\n      this.coslat0 = Math.cos(this.lat0);\n      this.sinlat0 = Math.sin(this.lat0);\n      if (this.sphere) {\n        if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n          this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));\n        }\n      }\n      else {\n        if (Math.abs(this.coslat0) <= EPSLN) {\n          if (this.lat0 > 0) {\n            //North pole\n            //trace('stere:north pole');\n            this.con = 1;\n          }\n          else {\n            //South pole\n            //trace('stere:south pole');\n            this.con = -1;\n          }\n        }\n        this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));\n        if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n          this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));\n        }\n        this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);\n        this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;\n        this.cosX0 = Math.cos(this.X0);\n        this.sinX0 = Math.sin(this.X0);\n      }\n    }\n\n    // Stereographic forward equations--mapping lat,long to x,y\n    function forward$6(p) {\n      var lon = p.x;\n      var lat = p.y;\n      var sinlat = Math.sin(lat);\n      var coslat = Math.cos(lat);\n      var A, X, sinX, cosX, ts, rh;\n      var dlon = adjust_lon(lon - this.long0);\n\n      if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {\n        //case of the origine point\n        //trace('stere:this is the origin point');\n        p.x = NaN;\n        p.y = NaN;\n        return p;\n      }\n      if (this.sphere) {\n        //trace('stere:sphere case');\n        A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));\n        p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;\n        p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;\n        return p;\n      }\n      else {\n        X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;\n        cosX = Math.cos(X);\n        sinX = Math.sin(X);\n        if (Math.abs(this.coslat0) <= EPSLN) {\n          ts = tsfnz(this.e, lat * this.con, this.con * sinlat);\n          rh = 2 * this.a * this.k0 * ts / this.cons;\n          p.x = this.x0 + rh * Math.sin(lon - this.long0);\n          p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);\n          //trace(p.toString());\n          return p;\n        }\n        else if (Math.abs(this.sinlat0) < EPSLN) {\n          //Eq\n          //trace('stere:equateur');\n          A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));\n          p.y = A * sinX;\n        }\n        else {\n          //other case\n          //trace('stere:normal case');\n          A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));\n          p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;\n        }\n        p.x = A * cosX * Math.sin(dlon) + this.x0;\n      }\n      //trace(p.toString());\n      return p;\n    }\n\n    //* Stereographic inverse equations--mapping x,y to lat/long\n    function inverse$6(p) {\n      p.x -= this.x0;\n      p.y -= this.y0;\n      var lon, lat, ts, ce, Chi;\n      var rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      if (this.sphere) {\n        var c = 2 * Math.atan(rh / (2 * this.a * this.k0));\n        lon = this.long0;\n        lat = this.lat0;\n        if (rh <= EPSLN) {\n          p.x = lon;\n          p.y = lat;\n          return p;\n        }\n        lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);\n        if (Math.abs(this.coslat0) < EPSLN) {\n          if (this.lat0 > 0) {\n            lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n          }\n          else {\n            lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n          }\n        }\n        else {\n          lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));\n        }\n        p.x = lon;\n        p.y = lat;\n        return p;\n      }\n      else {\n        if (Math.abs(this.coslat0) <= EPSLN) {\n          if (rh <= EPSLN) {\n            lat = this.lat0;\n            lon = this.long0;\n            p.x = lon;\n            p.y = lat;\n            //trace(p.toString());\n            return p;\n          }\n          p.x *= this.con;\n          p.y *= this.con;\n          ts = rh * this.cons / (2 * this.a * this.k0);\n          lat = this.con * phi2z(this.e, ts);\n          lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));\n        }\n        else {\n          ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));\n          lon = this.long0;\n          if (rh <= EPSLN) {\n            Chi = this.X0;\n          }\n          else {\n            Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);\n            lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));\n          }\n          lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));\n        }\n      }\n      p.x = lon;\n      p.y = lat;\n\n      //trace(p.toString());\n      return p;\n\n    }\n\n    var names$8 = [\"stere\", \"Stereographic_South_Pole\", \"Polar Stereographic (variant B)\"];\n    var stere = {\n      init: init$7,\n      forward: forward$6,\n      inverse: inverse$6,\n      names: names$8,\n      ssfn_: ssfn_\n    };\n\n    /*\n      references:\n        Formules et constantes pour le Calcul pour la\n        projection cylindrique conforme à axe oblique et pour la transformation entre\n        des systèmes de référence.\n        http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf\n      */\n\n    function init$8() {\n      var phy0 = this.lat0;\n      this.lambda0 = this.long0;\n      var sinPhy0 = Math.sin(phy0);\n      var semiMajorAxis = this.a;\n      var invF = this.rf;\n      var flattening = 1 / invF;\n      var e2 = 2 * flattening - Math.pow(flattening, 2);\n      var e = this.e = Math.sqrt(e2);\n      this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));\n      this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));\n      this.b0 = Math.asin(sinPhy0 / this.alpha);\n      var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));\n      var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));\n      var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));\n      this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;\n    }\n\n    function forward$7(p) {\n      var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));\n      var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));\n      var S = -this.alpha * (Sa1 + Sa2) + this.K;\n\n      // spheric latitude\n      var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);\n\n      // spheric longitude\n      var I = this.alpha * (p.x - this.lambda0);\n\n      // psoeudo equatorial rotation\n      var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));\n\n      var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));\n\n      p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;\n      p.x = this.R * rotI + this.x0;\n      return p;\n    }\n\n    function inverse$7(p) {\n      var Y = p.x - this.x0;\n      var X = p.y - this.y0;\n\n      var rotI = Y / this.R;\n      var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);\n\n      var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));\n      var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));\n\n      var lambda = this.lambda0 + I / this.alpha;\n\n      var S = 0;\n      var phy = b;\n      var prevPhy = -1000;\n      var iteration = 0;\n      while (Math.abs(phy - prevPhy) > 0.0000001) {\n        if (++iteration > 20) {\n          //...reportError(\"omercFwdInfinity\");\n          return;\n        }\n        //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));\n        S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));\n        prevPhy = phy;\n        phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;\n      }\n\n      p.x = lambda;\n      p.y = phy;\n      return p;\n    }\n\n    var names$9 = [\"somerc\"];\n    var somerc = {\n      init: init$8,\n      forward: forward$7,\n      inverse: inverse$7,\n      names: names$9\n    };\n\n    /* Initialize the Oblique Mercator  projection\n        ------------------------------------------*/\n    function init$9() {\n      this.no_off = this.no_off || false;\n      this.no_rot = this.no_rot || false;\n\n      if (isNaN(this.k0)) {\n        this.k0 = 1;\n      }\n      var sinlat = Math.sin(this.lat0);\n      var coslat = Math.cos(this.lat0);\n      var con = this.e * sinlat;\n\n      this.bl = Math.sqrt(1 + this.es / (1 - this.es) * Math.pow(coslat, 4));\n      this.al = this.a * this.bl * this.k0 * Math.sqrt(1 - this.es) / (1 - con * con);\n      var t0 = tsfnz(this.e, this.lat0, sinlat);\n      var dl = this.bl / coslat * Math.sqrt((1 - this.es) / (1 - con * con));\n      if (dl * dl < 1) {\n        dl = 1;\n      }\n      var fl;\n      var gl;\n      if (!isNaN(this.longc)) {\n        //Central point and azimuth method\n\n        if (this.lat0 >= 0) {\n          fl = dl + Math.sqrt(dl * dl - 1);\n        }\n        else {\n          fl = dl - Math.sqrt(dl * dl - 1);\n        }\n        this.el = fl * Math.pow(t0, this.bl);\n        gl = 0.5 * (fl - 1 / fl);\n        this.gamma0 = Math.asin(Math.sin(this.alpha) / dl);\n        this.long0 = this.longc - Math.asin(gl * Math.tan(this.gamma0)) / this.bl;\n\n      }\n      else {\n        //2 points method\n        var t1 = tsfnz(this.e, this.lat1, Math.sin(this.lat1));\n        var t2 = tsfnz(this.e, this.lat2, Math.sin(this.lat2));\n        if (this.lat0 >= 0) {\n          this.el = (dl + Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);\n        }\n        else {\n          this.el = (dl - Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);\n        }\n        var hl = Math.pow(t1, this.bl);\n        var ll = Math.pow(t2, this.bl);\n        fl = this.el / hl;\n        gl = 0.5 * (fl - 1 / fl);\n        var jl = (this.el * this.el - ll * hl) / (this.el * this.el + ll * hl);\n        var pl = (ll - hl) / (ll + hl);\n        var dlon12 = adjust_lon(this.long1 - this.long2);\n        this.long0 = 0.5 * (this.long1 + this.long2) - Math.atan(jl * Math.tan(0.5 * this.bl * (dlon12)) / pl) / this.bl;\n        this.long0 = adjust_lon(this.long0);\n        var dlon10 = adjust_lon(this.long1 - this.long0);\n        this.gamma0 = Math.atan(Math.sin(this.bl * (dlon10)) / gl);\n        this.alpha = Math.asin(dl * Math.sin(this.gamma0));\n      }\n\n      if (this.no_off) {\n        this.uc = 0;\n      }\n      else {\n        if (this.lat0 >= 0) {\n          this.uc = this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));\n        }\n        else {\n          this.uc = -1 * this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));\n        }\n      }\n\n    }\n\n    /* Oblique Mercator forward equations--mapping lat,long to x,y\n        ----------------------------------------------------------*/\n    function forward$8(p) {\n      var lon = p.x;\n      var lat = p.y;\n      var dlon = adjust_lon(lon - this.long0);\n      var us, vs;\n      var con;\n      if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n        if (lat > 0) {\n          con = -1;\n        }\n        else {\n          con = 1;\n        }\n        vs = this.al / this.bl * Math.log(Math.tan(FORTPI + con * this.gamma0 * 0.5));\n        us = -1 * con * HALF_PI * this.al / this.bl;\n      }\n      else {\n        var t = tsfnz(this.e, lat, Math.sin(lat));\n        var ql = this.el / Math.pow(t, this.bl);\n        var sl = 0.5 * (ql - 1 / ql);\n        var tl = 0.5 * (ql + 1 / ql);\n        var vl = Math.sin(this.bl * (dlon));\n        var ul = (sl * Math.sin(this.gamma0) - vl * Math.cos(this.gamma0)) / tl;\n        if (Math.abs(Math.abs(ul) - 1) <= EPSLN) {\n          vs = Number.POSITIVE_INFINITY;\n        }\n        else {\n          vs = 0.5 * this.al * Math.log((1 - ul) / (1 + ul)) / this.bl;\n        }\n        if (Math.abs(Math.cos(this.bl * (dlon))) <= EPSLN) {\n          us = this.al * this.bl * (dlon);\n        }\n        else {\n          us = this.al * Math.atan2(sl * Math.cos(this.gamma0) + vl * Math.sin(this.gamma0), Math.cos(this.bl * dlon)) / this.bl;\n        }\n      }\n\n      if (this.no_rot) {\n        p.x = this.x0 + us;\n        p.y = this.y0 + vs;\n      }\n      else {\n\n        us -= this.uc;\n        p.x = this.x0 + vs * Math.cos(this.alpha) + us * Math.sin(this.alpha);\n        p.y = this.y0 + us * Math.cos(this.alpha) - vs * Math.sin(this.alpha);\n      }\n      return p;\n    }\n\n    function inverse$8(p) {\n      var us, vs;\n      if (this.no_rot) {\n        vs = p.y - this.y0;\n        us = p.x - this.x0;\n      }\n      else {\n        vs = (p.x - this.x0) * Math.cos(this.alpha) - (p.y - this.y0) * Math.sin(this.alpha);\n        us = (p.y - this.y0) * Math.cos(this.alpha) + (p.x - this.x0) * Math.sin(this.alpha);\n        us += this.uc;\n      }\n      var qp = Math.exp(-1 * this.bl * vs / this.al);\n      var sp = 0.5 * (qp - 1 / qp);\n      var tp = 0.5 * (qp + 1 / qp);\n      var vp = Math.sin(this.bl * us / this.al);\n      var up = (vp * Math.cos(this.gamma0) + sp * Math.sin(this.gamma0)) / tp;\n      var ts = Math.pow(this.el / Math.sqrt((1 + up) / (1 - up)), 1 / this.bl);\n      if (Math.abs(up - 1) < EPSLN) {\n        p.x = this.long0;\n        p.y = HALF_PI;\n      }\n      else if (Math.abs(up + 1) < EPSLN) {\n        p.x = this.long0;\n        p.y = -1 * HALF_PI;\n      }\n      else {\n        p.y = phi2z(this.e, ts);\n        p.x = adjust_lon(this.long0 - Math.atan2(sp * Math.cos(this.gamma0) - vp * Math.sin(this.gamma0), Math.cos(this.bl * us / this.al)) / this.bl);\n      }\n      return p;\n    }\n\n    var names$10 = [\"Hotine_Oblique_Mercator\", \"Hotine Oblique Mercator\", \"Hotine_Oblique_Mercator_Azimuth_Natural_Origin\", \"Hotine_Oblique_Mercator_Azimuth_Center\", \"omerc\"];\n    var omerc = {\n      init: init$9,\n      forward: forward$8,\n      inverse: inverse$8,\n      names: names$10\n    };\n\n    function init$10() {\n\n      // array of:  r_maj,r_min,lat1,lat2,c_lon,c_lat,false_east,false_north\n      //double c_lat;                   /* center latitude                      */\n      //double c_lon;                   /* center longitude                     */\n      //double lat1;                    /* first standard parallel              */\n      //double lat2;                    /* second standard parallel             */\n      //double r_maj;                   /* major axis                           */\n      //double r_min;                   /* minor axis                           */\n      //double false_east;              /* x offset in meters                   */\n      //double false_north;             /* y offset in meters                   */\n\n      if (!this.lat2) {\n        this.lat2 = this.lat1;\n      } //if lat2 is not defined\n      if (!this.k0) {\n        this.k0 = 1;\n      }\n      this.x0 = this.x0 || 0;\n      this.y0 = this.y0 || 0;\n      // Standard Parallels cannot be equal and on opposite sides of the equator\n      if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n        return;\n      }\n\n      var temp = this.b / this.a;\n      this.e = Math.sqrt(1 - temp * temp);\n\n      var sin1 = Math.sin(this.lat1);\n      var cos1 = Math.cos(this.lat1);\n      var ms1 = msfnz(this.e, sin1, cos1);\n      var ts1 = tsfnz(this.e, this.lat1, sin1);\n\n      var sin2 = Math.sin(this.lat2);\n      var cos2 = Math.cos(this.lat2);\n      var ms2 = msfnz(this.e, sin2, cos2);\n      var ts2 = tsfnz(this.e, this.lat2, sin2);\n\n      var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));\n\n      if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n        this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);\n      }\n      else {\n        this.ns = sin1;\n      }\n      if (isNaN(this.ns)) {\n        this.ns = sin1;\n      }\n      this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));\n      this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);\n      if (!this.title) {\n        this.title = \"Lambert Conformal Conic\";\n      }\n    }\n\n    // Lambert Conformal conic forward equations--mapping lat,long to x,y\n    // -----------------------------------------------------------------\n    function forward$9(p) {\n\n      var lon = p.x;\n      var lat = p.y;\n\n      // singular cases :\n      if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {\n        lat = sign(lat) * (HALF_PI - 2 * EPSLN);\n      }\n\n      var con = Math.abs(Math.abs(lat) - HALF_PI);\n      var ts, rh1;\n      if (con > EPSLN) {\n        ts = tsfnz(this.e, lat, Math.sin(lat));\n        rh1 = this.a * this.f0 * Math.pow(ts, this.ns);\n      }\n      else {\n        con = lat * this.ns;\n        if (con <= 0) {\n          return null;\n        }\n        rh1 = 0;\n      }\n      var theta = this.ns * adjust_lon(lon - this.long0);\n      p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;\n      p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;\n\n      return p;\n    }\n\n    // Lambert Conformal Conic inverse equations--mapping x,y to lat/long\n    // -----------------------------------------------------------------\n    function inverse$9(p) {\n\n      var rh1, con, ts;\n      var lat, lon;\n      var x = (p.x - this.x0) / this.k0;\n      var y = (this.rh - (p.y - this.y0) / this.k0);\n      if (this.ns > 0) {\n        rh1 = Math.sqrt(x * x + y * y);\n        con = 1;\n      }\n      else {\n        rh1 = -Math.sqrt(x * x + y * y);\n        con = -1;\n      }\n      var theta = 0;\n      if (rh1 !== 0) {\n        theta = Math.atan2((con * x), (con * y));\n      }\n      if ((rh1 !== 0) || (this.ns > 0)) {\n        con = 1 / this.ns;\n        ts = Math.pow((rh1 / (this.a * this.f0)), con);\n        lat = phi2z(this.e, ts);\n        if (lat === -9999) {\n          return null;\n        }\n      }\n      else {\n        lat = -HALF_PI;\n      }\n      lon = adjust_lon(theta / this.ns + this.long0);\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$11 = [\"Lambert Tangential Conformal Conic Projection\", \"Lambert_Conformal_Conic\", \"Lambert_Conformal_Conic_2SP\", \"lcc\"];\n    var lcc = {\n      init: init$10,\n      forward: forward$9,\n      inverse: inverse$9,\n      names: names$11\n    };\n\n    function init$11() {\n      this.a = 6377397.155;\n      this.es = 0.006674372230614;\n      this.e = Math.sqrt(this.es);\n      if (!this.lat0) {\n        this.lat0 = 0.863937979737193;\n      }\n      if (!this.long0) {\n        this.long0 = 0.7417649320975901 - 0.308341501185665;\n      }\n      /* if scale not set default to 0.9999 */\n      if (!this.k0) {\n        this.k0 = 0.9999;\n      }\n      this.s45 = 0.785398163397448; /* 45 */\n      this.s90 = 2 * this.s45;\n      this.fi0 = this.lat0;\n      this.e2 = this.es;\n      this.e = Math.sqrt(this.e2);\n      this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));\n      this.uq = 1.04216856380474;\n      this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);\n      this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);\n      this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;\n      this.k1 = this.k0;\n      this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));\n      this.s0 = 1.37008346281555;\n      this.n = Math.sin(this.s0);\n      this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);\n      this.ad = this.s90 - this.uq;\n    }\n\n    /* ellipsoid */\n    /* calculate xy from lat/lon */\n    /* Constants, identical to inverse transform function */\n    function forward$10(p) {\n      var gfi, u, deltav, s, d, eps, ro;\n      var lon = p.x;\n      var lat = p.y;\n      var delta_lon = adjust_lon(lon - this.long0);\n      /* Transformation */\n      gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));\n      u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);\n      deltav = -delta_lon * this.alfa;\n      s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));\n      d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));\n      eps = this.n * d;\n      ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);\n      p.y = ro * Math.cos(eps) / 1;\n      p.x = ro * Math.sin(eps) / 1;\n\n      if (!this.czech) {\n        p.y *= -1;\n        p.x *= -1;\n      }\n      return (p);\n    }\n\n    /* calculate lat/lon from xy */\n    function inverse$10(p) {\n      var u, deltav, s, d, eps, ro, fi1;\n      var ok;\n\n      /* Transformation */\n      /* revert y, x*/\n      var tmp = p.x;\n      p.x = p.y;\n      p.y = tmp;\n      if (!this.czech) {\n        p.y *= -1;\n        p.x *= -1;\n      }\n      ro = Math.sqrt(p.x * p.x + p.y * p.y);\n      eps = Math.atan2(p.y, p.x);\n      d = eps / Math.sin(this.s0);\n      s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);\n      u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));\n      deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));\n      p.x = this.long0 - deltav / this.alfa;\n      fi1 = u;\n      ok = 0;\n      var iter = 0;\n      do {\n        p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);\n        if (Math.abs(fi1 - p.y) < 0.0000000001) {\n          ok = 1;\n        }\n        fi1 = p.y;\n        iter += 1;\n      } while (ok === 0 && iter < 15);\n      if (iter >= 15) {\n        return null;\n      }\n\n      return (p);\n    }\n\n    var names$12 = [\"Krovak\", \"krovak\"];\n    var krovak = {\n      init: init$11,\n      forward: forward$10,\n      inverse: inverse$10,\n      names: names$12\n    };\n\n    var mlfn = function(e0, e1, e2, e3, phi) {\n      return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));\n    };\n\n    var e0fn = function(x) {\n      return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));\n    };\n\n    var e1fn = function(x) {\n      return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));\n    };\n\n    var e2fn = function(x) {\n      return (0.05859375 * x * x * (1 + 0.75 * x));\n    };\n\n    var e3fn = function(x) {\n      return (x * x * x * (35 / 3072));\n    };\n\n    var gN = function(a, e, sinphi) {\n      var temp = e * sinphi;\n      return a / Math.sqrt(1 - temp * temp);\n    };\n\n    var adjust_lat = function(x) {\n      return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));\n    };\n\n    var imlfn = function(ml, e0, e1, e2, e3) {\n      var phi;\n      var dphi;\n\n      phi = ml / e0;\n      for (var i = 0; i < 15; i++) {\n        dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));\n        phi += dphi;\n        if (Math.abs(dphi) <= 0.0000000001) {\n          return phi;\n        }\n      }\n\n      //..reportError(\"IMLFN-CONV:Latitude failed to converge after 15 iterations\");\n      return NaN;\n    };\n\n    function init$12() {\n      if (!this.sphere) {\n        this.e0 = e0fn(this.es);\n        this.e1 = e1fn(this.es);\n        this.e2 = e2fn(this.es);\n        this.e3 = e3fn(this.es);\n        this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n      }\n    }\n\n    /* Cassini forward equations--mapping lat,long to x,y\n      -----------------------------------------------------------------------*/\n    function forward$11(p) {\n\n      /* Forward equations\n          -----------------*/\n      var x, y;\n      var lam = p.x;\n      var phi = p.y;\n      lam = adjust_lon(lam - this.long0);\n\n      if (this.sphere) {\n        x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n        y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n      }\n      else {\n        //ellipsoid\n        var sinphi = Math.sin(phi);\n        var cosphi = Math.cos(phi);\n        var nl = gN(this.a, this.e, sinphi);\n        var tl = Math.tan(phi) * Math.tan(phi);\n        var al = lam * Math.cos(phi);\n        var asq = al * al;\n        var cl = this.es * cosphi * cosphi / (1 - this.es);\n        var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n\n        x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n        y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n\n\n      }\n\n      p.x = x + this.x0;\n      p.y = y + this.y0;\n      return p;\n    }\n\n    /* Inverse equations\n      -----------------*/\n    function inverse$11(p) {\n      p.x -= this.x0;\n      p.y -= this.y0;\n      var x = p.x / this.a;\n      var y = p.y / this.a;\n      var phi, lam;\n\n      if (this.sphere) {\n        var dd = y + this.lat0;\n        phi = Math.asin(Math.sin(dd) * Math.cos(x));\n        lam = Math.atan2(Math.tan(x), Math.cos(dd));\n      }\n      else {\n        /* ellipsoid */\n        var ml1 = this.ml0 / this.a + y;\n        var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n        if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n          p.x = this.long0;\n          p.y = HALF_PI;\n          if (y < 0) {\n            p.y *= -1;\n          }\n          return p;\n        }\n        var nl1 = gN(this.a, this.e, Math.sin(phi1));\n\n        var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n        var tl1 = Math.pow(Math.tan(phi1), 2);\n        var dl = x * this.a / nl1;\n        var dsq = dl * dl;\n        phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n        lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n\n      }\n\n      p.x = adjust_lon(lam + this.long0);\n      p.y = adjust_lat(phi);\n      return p;\n\n    }\n\n    var names$13 = [\"Cassini\", \"Cassini_Soldner\", \"cass\"];\n    var cass = {\n      init: init$12,\n      forward: forward$11,\n      inverse: inverse$11,\n      names: names$13\n    };\n\n    var qsfnz = function(eccent, sinphi) {\n      var con;\n      if (eccent > 1.0e-7) {\n        con = eccent * sinphi;\n        return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));\n      }\n      else {\n        return (2 * sinphi);\n      }\n    };\n\n    /*\n      reference\n        \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n        The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n      */\n\n    var S_POLE = 1;\n\n    var N_POLE = 2;\n    var EQUIT = 3;\n    var OBLIQ = 4;\n\n    /* Initialize the Lambert Azimuthal Equal Area projection\n      ------------------------------------------------------*/\n    function init$13() {\n      var t = Math.abs(this.lat0);\n      if (Math.abs(t - HALF_PI) < EPSLN) {\n        this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;\n      }\n      else if (Math.abs(t) < EPSLN) {\n        this.mode = this.EQUIT;\n      }\n      else {\n        this.mode = this.OBLIQ;\n      }\n      if (this.es > 0) {\n        var sinphi;\n\n        this.qp = qsfnz(this.e, 1);\n        this.mmf = 0.5 / (1 - this.es);\n        this.apa = authset(this.es);\n        switch (this.mode) {\n        case this.N_POLE:\n          this.dd = 1;\n          break;\n        case this.S_POLE:\n          this.dd = 1;\n          break;\n        case this.EQUIT:\n          this.rq = Math.sqrt(0.5 * this.qp);\n          this.dd = 1 / this.rq;\n          this.xmf = 1;\n          this.ymf = 0.5 * this.qp;\n          break;\n        case this.OBLIQ:\n          this.rq = Math.sqrt(0.5 * this.qp);\n          sinphi = Math.sin(this.lat0);\n          this.sinb1 = qsfnz(this.e, sinphi) / this.qp;\n          this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);\n          this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);\n          this.ymf = (this.xmf = this.rq) / this.dd;\n          this.xmf *= this.dd;\n          break;\n        }\n      }\n      else {\n        if (this.mode === this.OBLIQ) {\n          this.sinph0 = Math.sin(this.lat0);\n          this.cosph0 = Math.cos(this.lat0);\n        }\n      }\n    }\n\n    /* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y\n      -----------------------------------------------------------------------*/\n    function forward$12(p) {\n\n      /* Forward equations\n          -----------------*/\n      var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;\n      var lam = p.x;\n      var phi = p.y;\n\n      lam = adjust_lon(lam - this.long0);\n      if (this.sphere) {\n        sinphi = Math.sin(phi);\n        cosphi = Math.cos(phi);\n        coslam = Math.cos(lam);\n        if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n          y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n          if (y <= EPSLN) {\n            return null;\n          }\n          y = Math.sqrt(2 / y);\n          x = y * cosphi * Math.sin(lam);\n          y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n        }\n        else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n          if (this.mode === this.N_POLE) {\n            coslam = -coslam;\n          }\n          if (Math.abs(phi + this.lat0) < EPSLN) {\n            return null;\n          }\n          y = FORTPI - phi * 0.5;\n          y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));\n          x = y * Math.sin(lam);\n          y *= coslam;\n        }\n      }\n      else {\n        sinb = 0;\n        cosb = 0;\n        b = 0;\n        coslam = Math.cos(lam);\n        sinlam = Math.sin(lam);\n        sinphi = Math.sin(phi);\n        q = qsfnz(this.e, sinphi);\n        if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n          sinb = q / this.qp;\n          cosb = Math.sqrt(1 - sinb * sinb);\n        }\n        switch (this.mode) {\n        case this.OBLIQ:\n          b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;\n          break;\n        case this.EQUIT:\n          b = 1 + cosb * coslam;\n          break;\n        case this.N_POLE:\n          b = HALF_PI + phi;\n          q = this.qp - q;\n          break;\n        case this.S_POLE:\n          b = phi - HALF_PI;\n          q = this.qp + q;\n          break;\n        }\n        if (Math.abs(b) < EPSLN) {\n          return null;\n        }\n        switch (this.mode) {\n        case this.OBLIQ:\n        case this.EQUIT:\n          b = Math.sqrt(2 / b);\n          if (this.mode === this.OBLIQ) {\n            y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);\n          }\n          else {\n            y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;\n          }\n          x = this.xmf * b * cosb * sinlam;\n          break;\n        case this.N_POLE:\n        case this.S_POLE:\n          if (q >= 0) {\n            x = (b = Math.sqrt(q)) * sinlam;\n            y = coslam * ((this.mode === this.S_POLE) ? b : -b);\n          }\n          else {\n            x = y = 0;\n          }\n          break;\n        }\n      }\n\n      p.x = this.a * x + this.x0;\n      p.y = this.a * y + this.y0;\n      return p;\n    }\n\n    /* Inverse equations\n      -----------------*/\n    function inverse$12(p) {\n      p.x -= this.x0;\n      p.y -= this.y0;\n      var x = p.x / this.a;\n      var y = p.y / this.a;\n      var lam, phi, cCe, sCe, q, rho, ab;\n      if (this.sphere) {\n        var cosz = 0,\n          rh, sinz = 0;\n\n        rh = Math.sqrt(x * x + y * y);\n        phi = rh * 0.5;\n        if (phi > 1) {\n          return null;\n        }\n        phi = 2 * Math.asin(phi);\n        if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n          sinz = Math.sin(phi);\n          cosz = Math.cos(phi);\n        }\n        switch (this.mode) {\n        case this.EQUIT:\n          phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);\n          x *= sinz;\n          y = cosz * rh;\n          break;\n        case this.OBLIQ:\n          phi = (Math.abs(rh) <= EPSLN) ? this.lat0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);\n          x *= sinz * this.cosph0;\n          y = (cosz - Math.sin(phi) * this.sinph0) * rh;\n          break;\n        case this.N_POLE:\n          y = -y;\n          phi = HALF_PI - phi;\n          break;\n        case this.S_POLE:\n          phi -= HALF_PI;\n          break;\n        }\n        lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);\n      }\n      else {\n        ab = 0;\n        if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n          x /= this.dd;\n          y *= this.dd;\n          rho = Math.sqrt(x * x + y * y);\n          if (rho < EPSLN) {\n            p.x = this.long0;\n            p.y = this.lat0;\n            return p;\n          }\n          sCe = 2 * Math.asin(0.5 * rho / this.rq);\n          cCe = Math.cos(sCe);\n          x *= (sCe = Math.sin(sCe));\n          if (this.mode === this.OBLIQ) {\n            ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;\n            q = this.qp * ab;\n            y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;\n          }\n          else {\n            ab = y * sCe / rho;\n            q = this.qp * ab;\n            y = rho * cCe;\n          }\n        }\n        else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n          if (this.mode === this.N_POLE) {\n            y = -y;\n          }\n          q = (x * x + y * y);\n          if (!q) {\n            p.x = this.long0;\n            p.y = this.lat0;\n            return p;\n          }\n          ab = 1 - q / this.qp;\n          if (this.mode === this.S_POLE) {\n            ab = -ab;\n          }\n        }\n        lam = Math.atan2(x, y);\n        phi = authlat(Math.asin(ab), this.apa);\n      }\n\n      p.x = adjust_lon(this.long0 + lam);\n      p.y = phi;\n      return p;\n    }\n\n    /* determine latitude from authalic latitude */\n    var P00 = 0.33333333333333333333;\n\n    var P01 = 0.17222222222222222222;\n    var P02 = 0.10257936507936507936;\n    var P10 = 0.06388888888888888888;\n    var P11 = 0.06640211640211640211;\n    var P20 = 0.01641501294219154443;\n\n    function authset(es) {\n      var t;\n      var APA = [];\n      APA[0] = es * P00;\n      t = es * es;\n      APA[0] += t * P01;\n      APA[1] = t * P10;\n      t *= es;\n      APA[0] += t * P02;\n      APA[1] += t * P11;\n      APA[2] = t * P20;\n      return APA;\n    }\n\n    function authlat(beta, APA) {\n      var t = beta + beta;\n      return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));\n    }\n\n    var names$14 = [\"Lambert Azimuthal Equal Area\", \"Lambert_Azimuthal_Equal_Area\", \"laea\"];\n    var laea = {\n      init: init$13,\n      forward: forward$12,\n      inverse: inverse$12,\n      names: names$14,\n      S_POLE: S_POLE,\n      N_POLE: N_POLE,\n      EQUIT: EQUIT,\n      OBLIQ: OBLIQ\n    };\n\n    var asinz = function(x) {\n      if (Math.abs(x) > 1) {\n        x = (x > 1) ? 1 : -1;\n      }\n      return Math.asin(x);\n    };\n\n    function init$14() {\n\n      if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n        return;\n      }\n      this.temp = this.b / this.a;\n      this.es = 1 - Math.pow(this.temp, 2);\n      this.e3 = Math.sqrt(this.es);\n\n      this.sin_po = Math.sin(this.lat1);\n      this.cos_po = Math.cos(this.lat1);\n      this.t1 = this.sin_po;\n      this.con = this.sin_po;\n      this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);\n      this.qs1 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n      this.sin_po = Math.sin(this.lat2);\n      this.cos_po = Math.cos(this.lat2);\n      this.t2 = this.sin_po;\n      this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);\n      this.qs2 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n      this.sin_po = Math.sin(this.lat0);\n      this.cos_po = Math.cos(this.lat0);\n      this.t3 = this.sin_po;\n      this.qs0 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n      if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n        this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);\n      }\n      else {\n        this.ns0 = this.con;\n      }\n      this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;\n      this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;\n    }\n\n    /* Albers Conical Equal Area forward equations--mapping lat,long to x,y\n      -------------------------------------------------------------------*/\n    function forward$13(p) {\n\n      var lon = p.x;\n      var lat = p.y;\n\n      this.sin_phi = Math.sin(lat);\n      this.cos_phi = Math.cos(lat);\n\n      var qs = qsfnz(this.e3, this.sin_phi, this.cos_phi);\n      var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;\n      var theta = this.ns0 * adjust_lon(lon - this.long0);\n      var x = rh1 * Math.sin(theta) + this.x0;\n      var y = this.rh - rh1 * Math.cos(theta) + this.y0;\n\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    function inverse$13(p) {\n      var rh1, qs, con, theta, lon, lat;\n\n      p.x -= this.x0;\n      p.y = this.rh - p.y + this.y0;\n      if (this.ns0 >= 0) {\n        rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n        con = 1;\n      }\n      else {\n        rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n        con = -1;\n      }\n      theta = 0;\n      if (rh1 !== 0) {\n        theta = Math.atan2(con * p.x, con * p.y);\n      }\n      con = rh1 * this.ns0 / this.a;\n      if (this.sphere) {\n        lat = Math.asin((this.c - con * con) / (2 * this.ns0));\n      }\n      else {\n        qs = (this.c - con * con) / this.ns0;\n        lat = this.phi1z(this.e3, qs);\n      }\n\n      lon = adjust_lon(theta / this.ns0 + this.long0);\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    /* Function to compute phi1, the latitude for the inverse of the\n       Albers Conical Equal-Area projection.\n    -------------------------------------------*/\n    function phi1z(eccent, qs) {\n      var sinphi, cosphi, con, com, dphi;\n      var phi = asinz(0.5 * qs);\n      if (eccent < EPSLN) {\n        return phi;\n      }\n\n      var eccnts = eccent * eccent;\n      for (var i = 1; i <= 25; i++) {\n        sinphi = Math.sin(phi);\n        cosphi = Math.cos(phi);\n        con = eccent * sinphi;\n        com = 1 - con * con;\n        dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n        phi = phi + dphi;\n        if (Math.abs(dphi) <= 1e-7) {\n          return phi;\n        }\n      }\n      return null;\n    }\n\n    var names$15 = [\"Albers_Conic_Equal_Area\", \"Albers\", \"aea\"];\n    var aea = {\n      init: init$14,\n      forward: forward$13,\n      inverse: inverse$13,\n      names: names$15,\n      phi1z: phi1z\n    };\n\n    /*\n      reference:\n        Wolfram Mathworld \"Gnomonic Projection\"\n        http://mathworld.wolfram.com/GnomonicProjection.html\n        Accessed: 12th November 2009\n      */\n    function init$15() {\n\n      /* Place parameters in static storage for common use\n          -------------------------------------------------*/\n      this.sin_p14 = Math.sin(this.lat0);\n      this.cos_p14 = Math.cos(this.lat0);\n      // Approximation for projecting points to the horizon (infinity)\n      this.infinity_dist = 1000 * this.a;\n      this.rc = 1;\n    }\n\n    /* Gnomonic forward equations--mapping lat,long to x,y\n        ---------------------------------------------------*/\n    function forward$14(p) {\n      var sinphi, cosphi; /* sin and cos value        */\n      var dlon; /* delta longitude value      */\n      var coslon; /* cos of longitude        */\n      var ksp; /* scale factor          */\n      var g;\n      var x, y;\n      var lon = p.x;\n      var lat = p.y;\n      /* Forward equations\n          -----------------*/\n      dlon = adjust_lon(lon - this.long0);\n\n      sinphi = Math.sin(lat);\n      cosphi = Math.cos(lat);\n\n      coslon = Math.cos(dlon);\n      g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n      ksp = 1;\n      if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n        x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;\n        y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;\n      }\n      else {\n\n        // Point is in the opposing hemisphere and is unprojectable\n        // We still need to return a reasonable point, so we project\n        // to infinity, on a bearing\n        // equivalent to the northern hemisphere equivalent\n        // This is a reasonable approximation for short shapes and lines that\n        // straddle the horizon.\n\n        x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);\n        y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n\n      }\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    function inverse$14(p) {\n      var rh; /* Rho */\n      var sinc, cosc;\n      var c;\n      var lon, lat;\n\n      /* Inverse equations\n          -----------------*/\n      p.x = (p.x - this.x0) / this.a;\n      p.y = (p.y - this.y0) / this.a;\n\n      p.x /= this.k0;\n      p.y /= this.k0;\n\n      if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {\n        c = Math.atan2(rh, this.rc);\n        sinc = Math.sin(c);\n        cosc = Math.cos(c);\n\n        lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);\n        lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);\n        lon = adjust_lon(this.long0 + lon);\n      }\n      else {\n        lat = this.phic0;\n        lon = 0;\n      }\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$16 = [\"gnom\"];\n    var gnom = {\n      init: init$15,\n      forward: forward$14,\n      inverse: inverse$14,\n      names: names$16\n    };\n\n    var iqsfnz = function(eccent, q) {\n      var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));\n      if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {\n        if (q < 0) {\n          return (-1 * HALF_PI);\n        }\n        else {\n          return HALF_PI;\n        }\n      }\n      //var phi = 0.5* q/(1-eccent*eccent);\n      var phi = Math.asin(0.5 * q);\n      var dphi;\n      var sin_phi;\n      var cos_phi;\n      var con;\n      for (var i = 0; i < 30; i++) {\n        sin_phi = Math.sin(phi);\n        cos_phi = Math.cos(phi);\n        con = eccent * sin_phi;\n        dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n        phi += dphi;\n        if (Math.abs(dphi) <= 0.0000000001) {\n          return phi;\n        }\n      }\n\n      //console.log(\"IQSFN-CONV:Latitude failed to converge after 30 iterations\");\n      return NaN;\n    };\n\n    /*\n      reference:\n        \"Cartographic Projection Procedures for the UNIX Environment-\n        A User's Manual\" by Gerald I. Evenden,\n        USGS Open File Report 90-284and Release 4 Interim Reports (2003)\n    */\n    function init$16() {\n      //no-op\n      if (!this.sphere) {\n        this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n      }\n    }\n\n    /* Cylindrical Equal Area forward equations--mapping lat,long to x,y\n        ------------------------------------------------------------*/\n    function forward$15(p) {\n      var lon = p.x;\n      var lat = p.y;\n      var x, y;\n      /* Forward equations\n          -----------------*/\n      var dlon = adjust_lon(lon - this.long0);\n      if (this.sphere) {\n        x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);\n        y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);\n      }\n      else {\n        var qs = qsfnz(this.e, Math.sin(lat));\n        x = this.x0 + this.a * this.k0 * dlon;\n        y = this.y0 + this.a * qs * 0.5 / this.k0;\n      }\n\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    /* Cylindrical Equal Area inverse equations--mapping x,y to lat/long\n        ------------------------------------------------------------*/\n    function inverse$15(p) {\n      p.x -= this.x0;\n      p.y -= this.y0;\n      var lon, lat;\n\n      if (this.sphere) {\n        lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));\n        lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));\n      }\n      else {\n        lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);\n        lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));\n      }\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$17 = [\"cea\"];\n    var cea = {\n      init: init$16,\n      forward: forward$15,\n      inverse: inverse$15,\n      names: names$17\n    };\n\n    function init$17() {\n\n      this.x0 = this.x0 || 0;\n      this.y0 = this.y0 || 0;\n      this.lat0 = this.lat0 || 0;\n      this.long0 = this.long0 || 0;\n      this.lat_ts = this.lat_ts || 0;\n      this.title = this.title || \"Equidistant Cylindrical (Plate Carre)\";\n\n      this.rc = Math.cos(this.lat_ts);\n    }\n\n    // forward equations--mapping lat,long to x,y\n    // -----------------------------------------------------------------\n    function forward$16(p) {\n\n      var lon = p.x;\n      var lat = p.y;\n\n      var dlon = adjust_lon(lon - this.long0);\n      var dlat = adjust_lat(lat - this.lat0);\n      p.x = this.x0 + (this.a * dlon * this.rc);\n      p.y = this.y0 + (this.a * dlat);\n      return p;\n    }\n\n    // inverse equations--mapping x,y to lat/long\n    // -----------------------------------------------------------------\n    function inverse$16(p) {\n\n      var x = p.x;\n      var y = p.y;\n\n      p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));\n      p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));\n      return p;\n    }\n\n    var names$18 = [\"Equirectangular\", \"Equidistant_Cylindrical\", \"eqc\"];\n    var eqc = {\n      init: init$17,\n      forward: forward$16,\n      inverse: inverse$16,\n      names: names$18\n    };\n\n    var MAX_ITER$2 = 20;\n\n    function init$18() {\n      /* Place parameters in static storage for common use\n          -------------------------------------------------*/\n      this.temp = this.b / this.a;\n      this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles\n      this.e = Math.sqrt(this.es);\n      this.e0 = e0fn(this.es);\n      this.e1 = e1fn(this.es);\n      this.e2 = e2fn(this.es);\n      this.e3 = e3fn(this.es);\n      this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas\n    }\n\n    /* Polyconic forward equations--mapping lat,long to x,y\n        ---------------------------------------------------*/\n    function forward$17(p) {\n      var lon = p.x;\n      var lat = p.y;\n      var x, y, el;\n      var dlon = adjust_lon(lon - this.long0);\n      el = dlon * Math.sin(lat);\n      if (this.sphere) {\n        if (Math.abs(lat) <= EPSLN) {\n          x = this.a * dlon;\n          y = -1 * this.a * this.lat0;\n        }\n        else {\n          x = this.a * Math.sin(el) / Math.tan(lat);\n          y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));\n        }\n      }\n      else {\n        if (Math.abs(lat) <= EPSLN) {\n          x = this.a * dlon;\n          y = -1 * this.ml0;\n        }\n        else {\n          var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);\n          x = nl * Math.sin(el);\n          y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));\n        }\n\n      }\n      p.x = x + this.x0;\n      p.y = y + this.y0;\n      return p;\n    }\n\n    /* Inverse equations\n      -----------------*/\n    function inverse$17(p) {\n      var lon, lat, x, y, i;\n      var al, bl;\n      var phi, dphi;\n      x = p.x - this.x0;\n      y = p.y - this.y0;\n\n      if (this.sphere) {\n        if (Math.abs(y + this.a * this.lat0) <= EPSLN) {\n          lon = adjust_lon(x / this.a + this.long0);\n          lat = 0;\n        }\n        else {\n          al = this.lat0 + y / this.a;\n          bl = x * x / this.a / this.a + al * al;\n          phi = al;\n          var tanphi;\n          for (i = MAX_ITER$2; i; --i) {\n            tanphi = Math.tan(phi);\n            dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);\n            phi += dphi;\n            if (Math.abs(dphi) <= EPSLN) {\n              lat = phi;\n              break;\n            }\n          }\n          lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));\n        }\n      }\n      else {\n        if (Math.abs(y + this.ml0) <= EPSLN) {\n          lat = 0;\n          lon = adjust_lon(this.long0 + x / this.a);\n        }\n        else {\n\n          al = (this.ml0 + y) / this.a;\n          bl = x * x / this.a / this.a + al * al;\n          phi = al;\n          var cl, mln, mlnp, ma;\n          var con;\n          for (i = MAX_ITER$2; i; --i) {\n            con = this.e * Math.sin(phi);\n            cl = Math.sqrt(1 - con * con) * Math.tan(phi);\n            mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n            mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);\n            ma = mln / this.a;\n            dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);\n            phi -= dphi;\n            if (Math.abs(dphi) <= EPSLN) {\n              lat = phi;\n              break;\n            }\n          }\n\n          //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);\n          cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);\n          lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));\n        }\n      }\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$19 = [\"Polyconic\", \"poly\"];\n    var poly = {\n      init: init$18,\n      forward: forward$17,\n      inverse: inverse$17,\n      names: names$19\n    };\n\n    /*\n      reference\n        Department of Land and Survey Technical Circular 1973/32\n          http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf\n        OSG Technical Report 4.1\n          http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf\n      */\n\n    /**\n     * iterations: Number of iterations to refine inverse transform.\n     *     0 -> km accuracy\n     *     1 -> m accuracy -- suitable for most mapping applications\n     *     2 -> mm accuracy\n     */\n\n\n    function init$19() {\n      this.A = [];\n      this.A[1] = 0.6399175073;\n      this.A[2] = -0.1358797613;\n      this.A[3] = 0.063294409;\n      this.A[4] = -0.02526853;\n      this.A[5] = 0.0117879;\n      this.A[6] = -0.0055161;\n      this.A[7] = 0.0026906;\n      this.A[8] = -0.001333;\n      this.A[9] = 0.00067;\n      this.A[10] = -0.00034;\n\n      this.B_re = [];\n      this.B_im = [];\n      this.B_re[1] = 0.7557853228;\n      this.B_im[1] = 0;\n      this.B_re[2] = 0.249204646;\n      this.B_im[2] = 0.003371507;\n      this.B_re[3] = -0.001541739;\n      this.B_im[3] = 0.041058560;\n      this.B_re[4] = -0.10162907;\n      this.B_im[4] = 0.01727609;\n      this.B_re[5] = -0.26623489;\n      this.B_im[5] = -0.36249218;\n      this.B_re[6] = -0.6870983;\n      this.B_im[6] = -1.1651967;\n\n      this.C_re = [];\n      this.C_im = [];\n      this.C_re[1] = 1.3231270439;\n      this.C_im[1] = 0;\n      this.C_re[2] = -0.577245789;\n      this.C_im[2] = -0.007809598;\n      this.C_re[3] = 0.508307513;\n      this.C_im[3] = -0.112208952;\n      this.C_re[4] = -0.15094762;\n      this.C_im[4] = 0.18200602;\n      this.C_re[5] = 1.01418179;\n      this.C_im[5] = 1.64497696;\n      this.C_re[6] = 1.9660549;\n      this.C_im[6] = 2.5127645;\n\n      this.D = [];\n      this.D[1] = 1.5627014243;\n      this.D[2] = 0.5185406398;\n      this.D[3] = -0.03333098;\n      this.D[4] = -0.1052906;\n      this.D[5] = -0.0368594;\n      this.D[6] = 0.007317;\n      this.D[7] = 0.01220;\n      this.D[8] = 0.00394;\n      this.D[9] = -0.0013;\n    }\n\n    /**\n        New Zealand Map Grid Forward  - long/lat to x/y\n        long/lat in radians\n      */\n    function forward$18(p) {\n      var n;\n      var lon = p.x;\n      var lat = p.y;\n\n      var delta_lat = lat - this.lat0;\n      var delta_lon = lon - this.long0;\n\n      // 1. Calculate d_phi and d_psi    ...                          // and d_lambda\n      // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.\n      var d_phi = delta_lat / SEC_TO_RAD * 1E-5;\n      var d_lambda = delta_lon;\n      var d_phi_n = 1; // d_phi^0\n\n      var d_psi = 0;\n      for (n = 1; n <= 10; n++) {\n        d_phi_n = d_phi_n * d_phi;\n        d_psi = d_psi + this.A[n] * d_phi_n;\n      }\n\n      // 2. Calculate theta\n      var th_re = d_psi;\n      var th_im = d_lambda;\n\n      // 3. Calculate z\n      var th_n_re = 1;\n      var th_n_im = 0; // theta^0\n      var th_n_re1;\n      var th_n_im1;\n\n      var z_re = 0;\n      var z_im = 0;\n      for (n = 1; n <= 6; n++) {\n        th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n        th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n        th_n_re = th_n_re1;\n        th_n_im = th_n_im1;\n        z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;\n        z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;\n      }\n\n      // 4. Calculate easting and northing\n      p.x = (z_im * this.a) + this.x0;\n      p.y = (z_re * this.a) + this.y0;\n\n      return p;\n    }\n\n    /**\n        New Zealand Map Grid Inverse  -  x/y to long/lat\n      */\n    function inverse$18(p) {\n      var n;\n      var x = p.x;\n      var y = p.y;\n\n      var delta_x = x - this.x0;\n      var delta_y = y - this.y0;\n\n      // 1. Calculate z\n      var z_re = delta_y / this.a;\n      var z_im = delta_x / this.a;\n\n      // 2a. Calculate theta - first approximation gives km accuracy\n      var z_n_re = 1;\n      var z_n_im = 0; // z^0\n      var z_n_re1;\n      var z_n_im1;\n\n      var th_re = 0;\n      var th_im = 0;\n      for (n = 1; n <= 6; n++) {\n        z_n_re1 = z_n_re * z_re - z_n_im * z_im;\n        z_n_im1 = z_n_im * z_re + z_n_re * z_im;\n        z_n_re = z_n_re1;\n        z_n_im = z_n_im1;\n        th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;\n        th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;\n      }\n\n      // 2b. Iterate to refine the accuracy of the calculation\n      //        0 iterations gives km accuracy\n      //        1 iteration gives m accuracy -- good enough for most mapping applications\n      //        2 iterations bives mm accuracy\n      for (var i = 0; i < this.iterations; i++) {\n        var th_n_re = th_re;\n        var th_n_im = th_im;\n        var th_n_re1;\n        var th_n_im1;\n\n        var num_re = z_re;\n        var num_im = z_im;\n        for (n = 2; n <= 6; n++) {\n          th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n          th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n          th_n_re = th_n_re1;\n          th_n_im = th_n_im1;\n          num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n          num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n        }\n\n        th_n_re = 1;\n        th_n_im = 0;\n        var den_re = this.B_re[1];\n        var den_im = this.B_im[1];\n        for (n = 2; n <= 6; n++) {\n          th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n          th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n          th_n_re = th_n_re1;\n          th_n_im = th_n_im1;\n          den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n          den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n        }\n\n        // Complex division\n        var den2 = den_re * den_re + den_im * den_im;\n        th_re = (num_re * den_re + num_im * den_im) / den2;\n        th_im = (num_im * den_re - num_re * den_im) / den2;\n      }\n\n      // 3. Calculate d_phi              ...                                    // and d_lambda\n      var d_psi = th_re;\n      var d_lambda = th_im;\n      var d_psi_n = 1; // d_psi^0\n\n      var d_phi = 0;\n      for (n = 1; n <= 9; n++) {\n        d_psi_n = d_psi_n * d_psi;\n        d_phi = d_phi + this.D[n] * d_psi_n;\n      }\n\n      // 4. Calculate latitude and longitude\n      // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.\n      var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);\n      var lon = this.long0 + d_lambda;\n\n      p.x = lon;\n      p.y = lat;\n\n      return p;\n    }\n\n    var names$20 = [\"New_Zealand_Map_Grid\", \"nzmg\"];\n    var nzmg = {\n      init: init$19,\n      forward: forward$18,\n      inverse: inverse$18,\n      names: names$20\n    };\n\n    /*\n      reference\n        \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n        The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n      */\n\n\n    /* Initialize the Miller Cylindrical projection\n      -------------------------------------------*/\n    function init$20() {\n      //no-op\n    }\n\n    /* Miller Cylindrical forward equations--mapping lat,long to x,y\n        ------------------------------------------------------------*/\n    function forward$19(p) {\n      var lon = p.x;\n      var lat = p.y;\n      /* Forward equations\n          -----------------*/\n      var dlon = adjust_lon(lon - this.long0);\n      var x = this.x0 + this.a * dlon;\n      var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;\n\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    /* Miller Cylindrical inverse equations--mapping x,y to lat/long\n        ------------------------------------------------------------*/\n    function inverse$19(p) {\n      p.x -= this.x0;\n      p.y -= this.y0;\n\n      var lon = adjust_lon(this.long0 + p.x / this.a);\n      var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$21 = [\"Miller_Cylindrical\", \"mill\"];\n    var mill = {\n      init: init$20,\n      forward: forward$19,\n      inverse: inverse$19,\n      names: names$21\n    };\n\n    var MAX_ITER$3 = 20;\n    function init$21() {\n      /* Place parameters in static storage for common use\n        -------------------------------------------------*/\n\n\n      if (!this.sphere) {\n        this.en = pj_enfn(this.es);\n      }\n      else {\n        this.n = 1;\n        this.m = 0;\n        this.es = 0;\n        this.C_y = Math.sqrt((this.m + 1) / this.n);\n        this.C_x = this.C_y / (this.m + 1);\n      }\n\n    }\n\n    /* Sinusoidal forward equations--mapping lat,long to x,y\n      -----------------------------------------------------*/\n    function forward$20(p) {\n      var x, y;\n      var lon = p.x;\n      var lat = p.y;\n      /* Forward equations\n        -----------------*/\n      lon = adjust_lon(lon - this.long0);\n\n      if (this.sphere) {\n        if (!this.m) {\n          lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;\n        }\n        else {\n          var k = this.n * Math.sin(lat);\n          for (var i = MAX_ITER$3; i; --i) {\n            var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));\n            lat -= V;\n            if (Math.abs(V) < EPSLN) {\n              break;\n            }\n          }\n        }\n        x = this.a * this.C_x * lon * (this.m + Math.cos(lat));\n        y = this.a * this.C_y * lat;\n\n      }\n      else {\n\n        var s = Math.sin(lat);\n        var c = Math.cos(lat);\n        y = this.a * pj_mlfn(lat, s, c, this.en);\n        x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);\n      }\n\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    function inverse$20(p) {\n      var lat, temp, lon, s;\n\n      p.x -= this.x0;\n      lon = p.x / this.a;\n      p.y -= this.y0;\n      lat = p.y / this.a;\n\n      if (this.sphere) {\n        lat /= this.C_y;\n        lon = lon / (this.C_x * (this.m + Math.cos(lat)));\n        if (this.m) {\n          lat = asinz((this.m * lat + Math.sin(lat)) / this.n);\n        }\n        else if (this.n !== 1) {\n          lat = asinz(Math.sin(lat) / this.n);\n        }\n        lon = adjust_lon(lon + this.long0);\n        lat = adjust_lat(lat);\n      }\n      else {\n        lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);\n        s = Math.abs(lat);\n        if (s < HALF_PI) {\n          s = Math.sin(lat);\n          temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));\n          //temp = this.long0 + p.x / (this.a * Math.cos(lat));\n          lon = adjust_lon(temp);\n        }\n        else if ((s - EPSLN) < HALF_PI) {\n          lon = this.long0;\n        }\n      }\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$22 = [\"Sinusoidal\", \"sinu\"];\n    var sinu = {\n      init: init$21,\n      forward: forward$20,\n      inverse: inverse$20,\n      names: names$22\n    };\n\n    function init$22() {}\n    /* Mollweide forward equations--mapping lat,long to x,y\n        ----------------------------------------------------*/\n    function forward$21(p) {\n\n      /* Forward equations\n          -----------------*/\n      var lon = p.x;\n      var lat = p.y;\n\n      var delta_lon = adjust_lon(lon - this.long0);\n      var theta = lat;\n      var con = Math.PI * Math.sin(lat);\n\n      /* Iterate using the Newton-Raphson method to find theta\n          -----------------------------------------------------*/\n      while (true) {\n        var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));\n        theta += delta_theta;\n        if (Math.abs(delta_theta) < EPSLN) {\n          break;\n        }\n      }\n      theta /= 2;\n\n      /* If the latitude is 90 deg, force the x coordinate to be \"0 + false easting\"\n           this is done here because of precision problems with \"cos(theta)\"\n           --------------------------------------------------------------------------*/\n      if (Math.PI / 2 - Math.abs(lat) < EPSLN) {\n        delta_lon = 0;\n      }\n      var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;\n      var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;\n\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    function inverse$21(p) {\n      var theta;\n      var arg;\n\n      /* Inverse equations\n          -----------------*/\n      p.x -= this.x0;\n      p.y -= this.y0;\n      arg = p.y / (1.4142135623731 * this.a);\n\n      /* Because of division by zero problems, 'arg' can not be 1.  Therefore\n           a number very close to one is used instead.\n           -------------------------------------------------------------------*/\n      if (Math.abs(arg) > 0.999999999999) {\n        arg = 0.999999999999;\n      }\n      theta = Math.asin(arg);\n      var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));\n      if (lon < (-Math.PI)) {\n        lon = -Math.PI;\n      }\n      if (lon > Math.PI) {\n        lon = Math.PI;\n      }\n      arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;\n      if (Math.abs(arg) > 1) {\n        arg = 1;\n      }\n      var lat = Math.asin(arg);\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$23 = [\"Mollweide\", \"moll\"];\n    var moll = {\n      init: init$22,\n      forward: forward$21,\n      inverse: inverse$21,\n      names: names$23\n    };\n\n    function init$23() {\n\n      /* Place parameters in static storage for common use\n          -------------------------------------------------*/\n      // Standard Parallels cannot be equal and on opposite sides of the equator\n      if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n        return;\n      }\n      this.lat2 = this.lat2 || this.lat1;\n      this.temp = this.b / this.a;\n      this.es = 1 - Math.pow(this.temp, 2);\n      this.e = Math.sqrt(this.es);\n      this.e0 = e0fn(this.es);\n      this.e1 = e1fn(this.es);\n      this.e2 = e2fn(this.es);\n      this.e3 = e3fn(this.es);\n\n      this.sinphi = Math.sin(this.lat1);\n      this.cosphi = Math.cos(this.lat1);\n\n      this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);\n      this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);\n\n      if (Math.abs(this.lat1 - this.lat2) < EPSLN) {\n        this.ns = this.sinphi;\n      }\n      else {\n        this.sinphi = Math.sin(this.lat2);\n        this.cosphi = Math.cos(this.lat2);\n        this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);\n        this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);\n        this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);\n      }\n      this.g = this.ml1 + this.ms1 / this.ns;\n      this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n      this.rh = this.a * (this.g - this.ml0);\n    }\n\n    /* Equidistant Conic forward equations--mapping lat,long to x,y\n      -----------------------------------------------------------*/\n    function forward$22(p) {\n      var lon = p.x;\n      var lat = p.y;\n      var rh1;\n\n      /* Forward equations\n          -----------------*/\n      if (this.sphere) {\n        rh1 = this.a * (this.g - lat);\n      }\n      else {\n        var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);\n        rh1 = this.a * (this.g - ml);\n      }\n      var theta = this.ns * adjust_lon(lon - this.long0);\n      var x = this.x0 + rh1 * Math.sin(theta);\n      var y = this.y0 + this.rh - rh1 * Math.cos(theta);\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    /* Inverse equations\n      -----------------*/\n    function inverse$22(p) {\n      p.x -= this.x0;\n      p.y = this.rh - p.y + this.y0;\n      var con, rh1, lat, lon;\n      if (this.ns >= 0) {\n        rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n        con = 1;\n      }\n      else {\n        rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n        con = -1;\n      }\n      var theta = 0;\n      if (rh1 !== 0) {\n        theta = Math.atan2(con * p.x, con * p.y);\n      }\n\n      if (this.sphere) {\n        lon = adjust_lon(this.long0 + theta / this.ns);\n        lat = adjust_lat(this.g - rh1 / this.a);\n        p.x = lon;\n        p.y = lat;\n        return p;\n      }\n      else {\n        var ml = this.g - rh1 / this.a;\n        lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);\n        lon = adjust_lon(this.long0 + theta / this.ns);\n        p.x = lon;\n        p.y = lat;\n        return p;\n      }\n\n    }\n\n    var names$24 = [\"Equidistant_Conic\", \"eqdc\"];\n    var eqdc = {\n      init: init$23,\n      forward: forward$22,\n      inverse: inverse$22,\n      names: names$24\n    };\n\n    /* Initialize the Van Der Grinten projection\n      ----------------------------------------*/\n    function init$24() {\n      //this.R = 6370997; //Radius of earth\n      this.R = this.a;\n    }\n\n    function forward$23(p) {\n\n      var lon = p.x;\n      var lat = p.y;\n\n      /* Forward equations\n        -----------------*/\n      var dlon = adjust_lon(lon - this.long0);\n      var x, y;\n\n      if (Math.abs(lat) <= EPSLN) {\n        x = this.x0 + this.R * dlon;\n        y = this.y0;\n      }\n      var theta = asinz(2 * Math.abs(lat / Math.PI));\n      if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {\n        x = this.x0;\n        if (lat >= 0) {\n          y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);\n        }\n        else {\n          y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);\n        }\n        //  return(OK);\n      }\n      var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));\n      var asq = al * al;\n      var sinth = Math.sin(theta);\n      var costh = Math.cos(theta);\n\n      var g = costh / (sinth + costh - 1);\n      var gsq = g * g;\n      var m = g * (2 / sinth - 1);\n      var msq = m * m;\n      var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);\n      if (dlon < 0) {\n        con = -con;\n      }\n      x = this.x0 + con;\n      //con = Math.abs(con / (Math.PI * this.R));\n      var q = asq + g;\n      con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);\n      if (lat >= 0) {\n        //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n        y = this.y0 + con;\n      }\n      else {\n        //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n        y = this.y0 - con;\n      }\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    /* Van Der Grinten inverse equations--mapping x,y to lat/long\n      ---------------------------------------------------------*/\n    function inverse$23(p) {\n      var lon, lat;\n      var xx, yy, xys, c1, c2, c3;\n      var a1;\n      var m1;\n      var con;\n      var th1;\n      var d;\n\n      /* inverse equations\n        -----------------*/\n      p.x -= this.x0;\n      p.y -= this.y0;\n      con = Math.PI * this.R;\n      xx = p.x / con;\n      yy = p.y / con;\n      xys = xx * xx + yy * yy;\n      c1 = -Math.abs(yy) * (1 + xys);\n      c2 = c1 - 2 * yy * yy + xx * xx;\n      c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;\n      d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;\n      a1 = (c1 - c2 * c2 / 3 / c3) / c3;\n      m1 = 2 * Math.sqrt(-a1 / 3);\n      con = ((3 * d) / a1) / m1;\n      if (Math.abs(con) > 1) {\n        if (con >= 0) {\n          con = 1;\n        }\n        else {\n          con = -1;\n        }\n      }\n      th1 = Math.acos(con) / 3;\n      if (p.y >= 0) {\n        lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n      }\n      else {\n        lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n      }\n\n      if (Math.abs(xx) < EPSLN) {\n        lon = this.long0;\n      }\n      else {\n        lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);\n      }\n\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$25 = [\"Van_der_Grinten_I\", \"VanDerGrinten\", \"vandg\"];\n    var vandg = {\n      init: init$24,\n      forward: forward$23,\n      inverse: inverse$23,\n      names: names$25\n    };\n\n    function init$25() {\n      this.sin_p12 = Math.sin(this.lat0);\n      this.cos_p12 = Math.cos(this.lat0);\n    }\n\n    function forward$24(p) {\n      var lon = p.x;\n      var lat = p.y;\n      var sinphi = Math.sin(p.y);\n      var cosphi = Math.cos(p.y);\n      var dlon = adjust_lon(lon - this.long0);\n      var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;\n      if (this.sphere) {\n        if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n          //North Pole case\n          p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);\n          p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);\n          return p;\n        }\n        else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n          //South Pole case\n          p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);\n          p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);\n          return p;\n        }\n        else {\n          //default case\n          cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);\n          c = Math.acos(cos_c);\n          kp = c ? c / Math.sin(c) : 1;\n          p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);\n          p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));\n          return p;\n        }\n      }\n      else {\n        e0 = e0fn(this.es);\n        e1 = e1fn(this.es);\n        e2 = e2fn(this.es);\n        e3 = e3fn(this.es);\n        if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n          //North Pole case\n          Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n          Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n          p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);\n          p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);\n          return p;\n        }\n        else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n          //South Pole case\n          Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n          Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n          p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);\n          p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);\n          return p;\n        }\n        else {\n          //Default case\n          tanphi = sinphi / cosphi;\n          Nl1 = gN(this.a, this.e, this.sin_p12);\n          Nl = gN(this.a, this.e, sinphi);\n          psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));\n          Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));\n          if (Az === 0) {\n            s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n          }\n          else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {\n            s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n          }\n          else {\n            s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));\n          }\n          G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);\n          H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);\n          GH = G * H;\n          Hs = H * H;\n          s2 = s * s;\n          s3 = s2 * s;\n          s4 = s3 * s;\n          s5 = s4 * s;\n          c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);\n          p.x = this.x0 + c * Math.sin(Az);\n          p.y = this.y0 + c * Math.cos(Az);\n          return p;\n        }\n      }\n\n\n    }\n\n    function inverse$24(p) {\n      p.x -= this.x0;\n      p.y -= this.y0;\n      var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F, sinpsi;\n      if (this.sphere) {\n        rh = Math.sqrt(p.x * p.x + p.y * p.y);\n        if (rh > (2 * HALF_PI * this.a)) {\n          return;\n        }\n        z = rh / this.a;\n\n        sinz = Math.sin(z);\n        cosz = Math.cos(z);\n\n        lon = this.long0;\n        if (Math.abs(rh) <= EPSLN) {\n          lat = this.lat0;\n        }\n        else {\n          lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);\n          con = Math.abs(this.lat0) - HALF_PI;\n          if (Math.abs(con) <= EPSLN) {\n            if (this.lat0 >= 0) {\n              lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n            }\n            else {\n              lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n            }\n          }\n          else {\n            /*con = cosz - this.sin_p12 * Math.sin(lat);\n            if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {\n              //no-op, just keep the lon value as is\n            } else {\n              var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));\n              lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));\n            }*/\n            lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));\n          }\n        }\n\n        p.x = lon;\n        p.y = lat;\n        return p;\n      }\n      else {\n        e0 = e0fn(this.es);\n        e1 = e1fn(this.es);\n        e2 = e2fn(this.es);\n        e3 = e3fn(this.es);\n        if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n          //North pole case\n          Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n          rh = Math.sqrt(p.x * p.x + p.y * p.y);\n          M = Mlp - rh;\n          lat = imlfn(M / this.a, e0, e1, e2, e3);\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n          p.x = lon;\n          p.y = lat;\n          return p;\n        }\n        else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n          //South pole case\n          Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n          rh = Math.sqrt(p.x * p.x + p.y * p.y);\n          M = rh - Mlp;\n\n          lat = imlfn(M / this.a, e0, e1, e2, e3);\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n          p.x = lon;\n          p.y = lat;\n          return p;\n        }\n        else {\n          //default case\n          rh = Math.sqrt(p.x * p.x + p.y * p.y);\n          Az = Math.atan2(p.x, p.y);\n          N1 = gN(this.a, this.e, this.sin_p12);\n          cosAz = Math.cos(Az);\n          tmp = this.e * this.cos_p12 * cosAz;\n          A = -tmp * tmp / (1 - this.es);\n          B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);\n          D = rh / N1;\n          Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;\n          F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;\n          psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);\n          lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));\n          sinpsi = Math.sin(psi);\n          lat = Math.atan2((sinpsi - this.es * F * this.sin_p12) * Math.tan(psi), sinpsi * (1 - this.es));\n          p.x = lon;\n          p.y = lat;\n          return p;\n        }\n      }\n\n    }\n\n    var names$26 = [\"Azimuthal_Equidistant\", \"aeqd\"];\n    var aeqd = {\n      init: init$25,\n      forward: forward$24,\n      inverse: inverse$24,\n      names: names$26\n    };\n\n    function init$26() {\n      //double temp;      /* temporary variable    */\n\n      /* Place parameters in static storage for common use\n          -------------------------------------------------*/\n      this.sin_p14 = Math.sin(this.lat0);\n      this.cos_p14 = Math.cos(this.lat0);\n    }\n\n    /* Orthographic forward equations--mapping lat,long to x,y\n        ---------------------------------------------------*/\n    function forward$25(p) {\n      var sinphi, cosphi; /* sin and cos value        */\n      var dlon; /* delta longitude value      */\n      var coslon; /* cos of longitude        */\n      var ksp; /* scale factor          */\n      var g, x, y;\n      var lon = p.x;\n      var lat = p.y;\n      /* Forward equations\n          -----------------*/\n      dlon = adjust_lon(lon - this.long0);\n\n      sinphi = Math.sin(lat);\n      cosphi = Math.cos(lat);\n\n      coslon = Math.cos(dlon);\n      g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n      ksp = 1;\n      if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n        x = this.a * ksp * cosphi * Math.sin(dlon);\n        y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n      }\n      p.x = x;\n      p.y = y;\n      return p;\n    }\n\n    function inverse$25(p) {\n      var rh; /* height above ellipsoid      */\n      var z; /* angle          */\n      var sinz, cosz; /* sin of z and cos of z      */\n      var con;\n      var lon, lat;\n      /* Inverse equations\n          -----------------*/\n      p.x -= this.x0;\n      p.y -= this.y0;\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      z = asinz(rh / this.a);\n\n      sinz = Math.sin(z);\n      cosz = Math.cos(z);\n\n      lon = this.long0;\n      if (Math.abs(rh) <= EPSLN) {\n        lat = this.lat0;\n        p.x = lon;\n        p.y = lat;\n        return p;\n      }\n      lat = asinz(cosz * this.sin_p14 + (p.y * sinz * this.cos_p14) / rh);\n      con = Math.abs(this.lat0) - HALF_PI;\n      if (Math.abs(con) <= EPSLN) {\n        if (this.lat0 >= 0) {\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n        }\n        else {\n          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n        }\n        p.x = lon;\n        p.y = lat;\n        return p;\n      }\n      lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz), rh * this.cos_p14 * cosz - p.y * this.sin_p14 * sinz));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n\n    var names$27 = [\"ortho\"];\n    var ortho = {\n      init: init$26,\n      forward: forward$25,\n      inverse: inverse$25,\n      names: names$27\n    };\n\n    // QSC projection rewritten from the original PROJ4\n    // https://github.com/OSGeo/proj.4/blob/master/src/PJ_qsc.c\n\n    /* constants */\n    var FACE_ENUM = {\n        FRONT: 1,\n        RIGHT: 2,\n        BACK: 3,\n        LEFT: 4,\n        TOP: 5,\n        BOTTOM: 6\n    };\n\n    var AREA_ENUM = {\n        AREA_0: 1,\n        AREA_1: 2,\n        AREA_2: 3,\n        AREA_3: 4\n    };\n\n    function init$27() {\n\n      this.x0 = this.x0 || 0;\n      this.y0 = this.y0 || 0;\n      this.lat0 = this.lat0 || 0;\n      this.long0 = this.long0 || 0;\n      this.lat_ts = this.lat_ts || 0;\n      this.title = this.title || \"Quadrilateralized Spherical Cube\";\n\n      /* Determine the cube face from the center of projection. */\n      if (this.lat0 >= HALF_PI - FORTPI / 2.0) {\n        this.face = FACE_ENUM.TOP;\n      } else if (this.lat0 <= -(HALF_PI - FORTPI / 2.0)) {\n        this.face = FACE_ENUM.BOTTOM;\n      } else if (Math.abs(this.long0) <= FORTPI) {\n        this.face = FACE_ENUM.FRONT;\n      } else if (Math.abs(this.long0) <= HALF_PI + FORTPI) {\n        this.face = this.long0 > 0.0 ? FACE_ENUM.RIGHT : FACE_ENUM.LEFT;\n      } else {\n        this.face = FACE_ENUM.BACK;\n      }\n\n      /* Fill in useful values for the ellipsoid <-> sphere shift\n       * described in [LK12]. */\n      if (this.es !== 0) {\n        this.one_minus_f = 1 - (this.a - this.b) / this.a;\n        this.one_minus_f_squared = this.one_minus_f * this.one_minus_f;\n      }\n    }\n\n    // QSC forward equations--mapping lat,long to x,y\n    // -----------------------------------------------------------------\n    function forward$26(p) {\n      var xy = {x: 0, y: 0};\n      var lat, lon;\n      var theta, phi;\n      var t, mu;\n      /* nu; */\n      var area = {value: 0};\n\n      // move lon according to projection's lon\n      p.x -= this.long0;\n\n      /* Convert the geodetic latitude to a geocentric latitude.\n       * This corresponds to the shift from the ellipsoid to the sphere\n       * described in [LK12]. */\n      if (this.es !== 0) {//if (P->es != 0) {\n        lat = Math.atan(this.one_minus_f_squared * Math.tan(p.y));\n      } else {\n        lat = p.y;\n      }\n\n      /* Convert the input lat, lon into theta, phi as used by QSC.\n       * This depends on the cube face and the area on it.\n       * For the top and bottom face, we can compute theta and phi\n       * directly from phi, lam. For the other faces, we must use\n       * unit sphere cartesian coordinates as an intermediate step. */\n      lon = p.x; //lon = lp.lam;\n      if (this.face === FACE_ENUM.TOP) {\n        phi = HALF_PI - lat;\n        if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n          area.value = AREA_ENUM.AREA_0;\n          theta = lon - HALF_PI;\n        } else if (lon > HALF_PI + FORTPI || lon <= -(HALF_PI + FORTPI)) {\n          area.value = AREA_ENUM.AREA_1;\n          theta = (lon > 0.0 ? lon - SPI : lon + SPI);\n        } else if (lon > -(HALF_PI + FORTPI) && lon <= -FORTPI) {\n          area.value = AREA_ENUM.AREA_2;\n          theta = lon + HALF_PI;\n        } else {\n          area.value = AREA_ENUM.AREA_3;\n          theta = lon;\n        }\n      } else if (this.face === FACE_ENUM.BOTTOM) {\n        phi = HALF_PI + lat;\n        if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n          area.value = AREA_ENUM.AREA_0;\n          theta = -lon + HALF_PI;\n        } else if (lon < FORTPI && lon >= -FORTPI) {\n          area.value = AREA_ENUM.AREA_1;\n          theta = -lon;\n        } else if (lon < -FORTPI && lon >= -(HALF_PI + FORTPI)) {\n          area.value = AREA_ENUM.AREA_2;\n          theta = -lon - HALF_PI;\n        } else {\n          area.value = AREA_ENUM.AREA_3;\n          theta = (lon > 0.0 ? -lon + SPI : -lon - SPI);\n        }\n      } else {\n        var q, r, s;\n        var sinlat, coslat;\n        var sinlon, coslon;\n\n        if (this.face === FACE_ENUM.RIGHT) {\n          lon = qsc_shift_lon_origin(lon, +HALF_PI);\n        } else if (this.face === FACE_ENUM.BACK) {\n          lon = qsc_shift_lon_origin(lon, +SPI);\n        } else if (this.face === FACE_ENUM.LEFT) {\n          lon = qsc_shift_lon_origin(lon, -HALF_PI);\n        }\n        sinlat = Math.sin(lat);\n        coslat = Math.cos(lat);\n        sinlon = Math.sin(lon);\n        coslon = Math.cos(lon);\n        q = coslat * coslon;\n        r = coslat * sinlon;\n        s = sinlat;\n\n        if (this.face === FACE_ENUM.FRONT) {\n          phi = Math.acos(q);\n          theta = qsc_fwd_equat_face_theta(phi, s, r, area);\n        } else if (this.face === FACE_ENUM.RIGHT) {\n          phi = Math.acos(r);\n          theta = qsc_fwd_equat_face_theta(phi, s, -q, area);\n        } else if (this.face === FACE_ENUM.BACK) {\n          phi = Math.acos(-q);\n          theta = qsc_fwd_equat_face_theta(phi, s, -r, area);\n        } else if (this.face === FACE_ENUM.LEFT) {\n          phi = Math.acos(-r);\n          theta = qsc_fwd_equat_face_theta(phi, s, q, area);\n        } else {\n          /* Impossible */\n          phi = theta = 0;\n          area.value = AREA_ENUM.AREA_0;\n        }\n      }\n\n      /* Compute mu and nu for the area of definition.\n       * For mu, see Eq. (3-21) in [OL76], but note the typos:\n       * compare with Eq. (3-14). For nu, see Eq. (3-38). */\n      mu = Math.atan((12 / SPI) * (theta + Math.acos(Math.sin(theta) * Math.cos(FORTPI)) - HALF_PI));\n      t = Math.sqrt((1 - Math.cos(phi)) / (Math.cos(mu) * Math.cos(mu)) / (1 - Math.cos(Math.atan(1 / Math.cos(theta)))));\n\n      /* Apply the result to the real area. */\n      if (area.value === AREA_ENUM.AREA_1) {\n        mu += HALF_PI;\n      } else if (area.value === AREA_ENUM.AREA_2) {\n        mu += SPI;\n      } else if (area.value === AREA_ENUM.AREA_3) {\n        mu += 1.5 * SPI;\n      }\n\n      /* Now compute x, y from mu and nu */\n      xy.x = t * Math.cos(mu);\n      xy.y = t * Math.sin(mu);\n      xy.x = xy.x * this.a + this.x0;\n      xy.y = xy.y * this.a + this.y0;\n\n      p.x = xy.x;\n      p.y = xy.y;\n      return p;\n    }\n\n    // QSC inverse equations--mapping x,y to lat/long\n    // -----------------------------------------------------------------\n    function inverse$26(p) {\n      var lp = {lam: 0, phi: 0};\n      var mu, nu, cosmu, tannu;\n      var tantheta, theta, cosphi, phi;\n      var t;\n      var area = {value: 0};\n\n      /* de-offset */\n      p.x = (p.x - this.x0) / this.a;\n      p.y = (p.y - this.y0) / this.a;\n\n      /* Convert the input x, y to the mu and nu angles as used by QSC.\n       * This depends on the area of the cube face. */\n      nu = Math.atan(Math.sqrt(p.x * p.x + p.y * p.y));\n      mu = Math.atan2(p.y, p.x);\n      if (p.x >= 0.0 && p.x >= Math.abs(p.y)) {\n        area.value = AREA_ENUM.AREA_0;\n      } else if (p.y >= 0.0 && p.y >= Math.abs(p.x)) {\n        area.value = AREA_ENUM.AREA_1;\n        mu -= HALF_PI;\n      } else if (p.x < 0.0 && -p.x >= Math.abs(p.y)) {\n        area.value = AREA_ENUM.AREA_2;\n        mu = (mu < 0.0 ? mu + SPI : mu - SPI);\n      } else {\n        area.value = AREA_ENUM.AREA_3;\n        mu += HALF_PI;\n      }\n\n      /* Compute phi and theta for the area of definition.\n       * The inverse projection is not described in the original paper, but some\n       * good hints can be found here (as of 2011-12-14):\n       * http://fits.gsfc.nasa.gov/fitsbits/saf.93/saf.9302\n       * (search for \"Message-Id: <9302181759.AA25477 at fits.cv.nrao.edu>\") */\n      t = (SPI / 12) * Math.tan(mu);\n      tantheta = Math.sin(t) / (Math.cos(t) - (1 / Math.sqrt(2)));\n      theta = Math.atan(tantheta);\n      cosmu = Math.cos(mu);\n      tannu = Math.tan(nu);\n      cosphi = 1 - cosmu * cosmu * tannu * tannu * (1 - Math.cos(Math.atan(1 / Math.cos(theta))));\n      if (cosphi < -1) {\n        cosphi = -1;\n      } else if (cosphi > +1) {\n        cosphi = +1;\n      }\n\n      /* Apply the result to the real area on the cube face.\n       * For the top and bottom face, we can compute phi and lam directly.\n       * For the other faces, we must use unit sphere cartesian coordinates\n       * as an intermediate step. */\n      if (this.face === FACE_ENUM.TOP) {\n        phi = Math.acos(cosphi);\n        lp.phi = HALF_PI - phi;\n        if (area.value === AREA_ENUM.AREA_0) {\n          lp.lam = theta + HALF_PI;\n        } else if (area.value === AREA_ENUM.AREA_1) {\n          lp.lam = (theta < 0.0 ? theta + SPI : theta - SPI);\n        } else if (area.value === AREA_ENUM.AREA_2) {\n          lp.lam = theta - HALF_PI;\n        } else /* area.value == AREA_ENUM.AREA_3 */ {\n          lp.lam = theta;\n        }\n      } else if (this.face === FACE_ENUM.BOTTOM) {\n        phi = Math.acos(cosphi);\n        lp.phi = phi - HALF_PI;\n        if (area.value === AREA_ENUM.AREA_0) {\n          lp.lam = -theta + HALF_PI;\n        } else if (area.value === AREA_ENUM.AREA_1) {\n          lp.lam = -theta;\n        } else if (area.value === AREA_ENUM.AREA_2) {\n          lp.lam = -theta - HALF_PI;\n        } else /* area.value == AREA_ENUM.AREA_3 */ {\n          lp.lam = (theta < 0.0 ? -theta - SPI : -theta + SPI);\n        }\n      } else {\n        /* Compute phi and lam via cartesian unit sphere coordinates. */\n        var q, r, s;\n        q = cosphi;\n        t = q * q;\n        if (t >= 1) {\n          s = 0;\n        } else {\n          s = Math.sqrt(1 - t) * Math.sin(theta);\n        }\n        t += s * s;\n        if (t >= 1) {\n          r = 0;\n        } else {\n          r = Math.sqrt(1 - t);\n        }\n        /* Rotate q,r,s into the correct area. */\n        if (area.value === AREA_ENUM.AREA_1) {\n          t = r;\n          r = -s;\n          s = t;\n        } else if (area.value === AREA_ENUM.AREA_2) {\n          r = -r;\n          s = -s;\n        } else if (area.value === AREA_ENUM.AREA_3) {\n          t = r;\n          r = s;\n          s = -t;\n        }\n        /* Rotate q,r,s into the correct cube face. */\n        if (this.face === FACE_ENUM.RIGHT) {\n          t = q;\n          q = -r;\n          r = t;\n        } else if (this.face === FACE_ENUM.BACK) {\n          q = -q;\n          r = -r;\n        } else if (this.face === FACE_ENUM.LEFT) {\n          t = q;\n          q = r;\n          r = -t;\n        }\n        /* Now compute phi and lam from the unit sphere coordinates. */\n        lp.phi = Math.acos(-s) - HALF_PI;\n        lp.lam = Math.atan2(r, q);\n        if (this.face === FACE_ENUM.RIGHT) {\n          lp.lam = qsc_shift_lon_origin(lp.lam, -HALF_PI);\n        } else if (this.face === FACE_ENUM.BACK) {\n          lp.lam = qsc_shift_lon_origin(lp.lam, -SPI);\n        } else if (this.face === FACE_ENUM.LEFT) {\n          lp.lam = qsc_shift_lon_origin(lp.lam, +HALF_PI);\n        }\n      }\n\n      /* Apply the shift from the sphere to the ellipsoid as described\n       * in [LK12]. */\n      if (this.es !== 0) {\n        var invert_sign;\n        var tanphi, xa;\n        invert_sign = (lp.phi < 0 ? 1 : 0);\n        tanphi = Math.tan(lp.phi);\n        xa = this.b / Math.sqrt(tanphi * tanphi + this.one_minus_f_squared);\n        lp.phi = Math.atan(Math.sqrt(this.a * this.a - xa * xa) / (this.one_minus_f * xa));\n        if (invert_sign) {\n          lp.phi = -lp.phi;\n        }\n      }\n\n      lp.lam += this.long0;\n      p.x = lp.lam;\n      p.y = lp.phi;\n      return p;\n    }\n\n    /* Helper function for forward projection: compute the theta angle\n     * and determine the area number. */\n    function qsc_fwd_equat_face_theta(phi, y, x, area) {\n      var theta;\n      if (phi < EPSLN) {\n        area.value = AREA_ENUM.AREA_0;\n        theta = 0.0;\n      } else {\n        theta = Math.atan2(y, x);\n        if (Math.abs(theta) <= FORTPI) {\n          area.value = AREA_ENUM.AREA_0;\n        } else if (theta > FORTPI && theta <= HALF_PI + FORTPI) {\n          area.value = AREA_ENUM.AREA_1;\n          theta -= HALF_PI;\n        } else if (theta > HALF_PI + FORTPI || theta <= -(HALF_PI + FORTPI)) {\n          area.value = AREA_ENUM.AREA_2;\n          theta = (theta >= 0.0 ? theta - SPI : theta + SPI);\n        } else {\n          area.value = AREA_ENUM.AREA_3;\n          theta += HALF_PI;\n        }\n      }\n      return theta;\n    }\n\n    /* Helper function: shift the longitude. */\n    function qsc_shift_lon_origin(lon, offset) {\n      var slon = lon + offset;\n      if (slon < -SPI) {\n        slon += TWO_PI;\n      } else if (slon > +SPI) {\n        slon -= TWO_PI;\n      }\n      return slon;\n    }\n\n    var names$28 = [\"Quadrilateralized Spherical Cube\", \"Quadrilateralized_Spherical_Cube\", \"qsc\"];\n    var qsc = {\n      init: init$27,\n      forward: forward$26,\n      inverse: inverse$26,\n      names: names$28\n    };\n\n    // Robinson projection\n    // Based on https://github.com/OSGeo/proj.4/blob/master/src/PJ_robin.c\n    // Polynomial coeficients from http://article.gmane.org/gmane.comp.gis.proj-4.devel/6039\n\n    var COEFS_X = [\n        [1.0000, 2.2199e-17, -7.15515e-05, 3.1103e-06],\n        [0.9986, -0.000482243, -2.4897e-05, -1.3309e-06],\n        [0.9954, -0.00083103, -4.48605e-05, -9.86701e-07],\n        [0.9900, -0.00135364, -5.9661e-05, 3.6777e-06],\n        [0.9822, -0.00167442, -4.49547e-06, -5.72411e-06],\n        [0.9730, -0.00214868, -9.03571e-05, 1.8736e-08],\n        [0.9600, -0.00305085, -9.00761e-05, 1.64917e-06],\n        [0.9427, -0.00382792, -6.53386e-05, -2.6154e-06],\n        [0.9216, -0.00467746, -0.00010457, 4.81243e-06],\n        [0.8962, -0.00536223, -3.23831e-05, -5.43432e-06],\n        [0.8679, -0.00609363, -0.000113898, 3.32484e-06],\n        [0.8350, -0.00698325, -6.40253e-05, 9.34959e-07],\n        [0.7986, -0.00755338, -5.00009e-05, 9.35324e-07],\n        [0.7597, -0.00798324, -3.5971e-05, -2.27626e-06],\n        [0.7186, -0.00851367, -7.01149e-05, -8.6303e-06],\n        [0.6732, -0.00986209, -0.000199569, 1.91974e-05],\n        [0.6213, -0.010418, 8.83923e-05, 6.24051e-06],\n        [0.5722, -0.00906601, 0.000182, 6.24051e-06],\n        [0.5322, -0.00677797, 0.000275608, 6.24051e-06]\n    ];\n\n    var COEFS_Y = [\n        [-5.20417e-18, 0.0124, 1.21431e-18, -8.45284e-11],\n        [0.0620, 0.0124, -1.26793e-09, 4.22642e-10],\n        [0.1240, 0.0124, 5.07171e-09, -1.60604e-09],\n        [0.1860, 0.0123999, -1.90189e-08, 6.00152e-09],\n        [0.2480, 0.0124002, 7.10039e-08, -2.24e-08],\n        [0.3100, 0.0123992, -2.64997e-07, 8.35986e-08],\n        [0.3720, 0.0124029, 9.88983e-07, -3.11994e-07],\n        [0.4340, 0.0123893, -3.69093e-06, -4.35621e-07],\n        [0.4958, 0.0123198, -1.02252e-05, -3.45523e-07],\n        [0.5571, 0.0121916, -1.54081e-05, -5.82288e-07],\n        [0.6176, 0.0119938, -2.41424e-05, -5.25327e-07],\n        [0.6769, 0.011713, -3.20223e-05, -5.16405e-07],\n        [0.7346, 0.0113541, -3.97684e-05, -6.09052e-07],\n        [0.7903, 0.0109107, -4.89042e-05, -1.04739e-06],\n        [0.8435, 0.0103431, -6.4615e-05, -1.40374e-09],\n        [0.8936, 0.00969686, -6.4636e-05, -8.547e-06],\n        [0.9394, 0.00840947, -0.000192841, -4.2106e-06],\n        [0.9761, 0.00616527, -0.000256, -4.2106e-06],\n        [1.0000, 0.00328947, -0.000319159, -4.2106e-06]\n    ];\n\n    var FXC = 0.8487;\n    var FYC = 1.3523;\n    var C1 = R2D/5; // rad to 5-degree interval\n    var RC1 = 1/C1;\n    var NODES = 18;\n\n    var poly3_val = function(coefs, x) {\n        return coefs[0] + x * (coefs[1] + x * (coefs[2] + x * coefs[3]));\n    };\n\n    var poly3_der = function(coefs, x) {\n        return coefs[1] + x * (2 * coefs[2] + x * 3 * coefs[3]);\n    };\n\n    function newton_rapshon(f_df, start, max_err, iters) {\n        var x = start;\n        for (; iters; --iters) {\n            var upd = f_df(x);\n            x -= upd;\n            if (Math.abs(upd) < max_err) {\n                break;\n            }\n        }\n        return x;\n    }\n\n    function init$28() {\n        this.x0 = this.x0 || 0;\n        this.y0 = this.y0 || 0;\n        this.long0 = this.long0 || 0;\n        this.es = 0;\n        this.title = this.title || \"Robinson\";\n    }\n\n    function forward$27(ll) {\n        var lon = adjust_lon(ll.x - this.long0);\n\n        var dphi = Math.abs(ll.y);\n        var i = Math.floor(dphi * C1);\n        if (i < 0) {\n            i = 0;\n        } else if (i >= NODES) {\n            i = NODES - 1;\n        }\n        dphi = R2D * (dphi - RC1 * i);\n        var xy = {\n            x: poly3_val(COEFS_X[i], dphi) * lon,\n            y: poly3_val(COEFS_Y[i], dphi)\n        };\n        if (ll.y < 0) {\n            xy.y = -xy.y;\n        }\n\n        xy.x = xy.x * this.a * FXC + this.x0;\n        xy.y = xy.y * this.a * FYC + this.y0;\n        return xy;\n    }\n\n    function inverse$27(xy) {\n        var ll = {\n            x: (xy.x - this.x0) / (this.a * FXC),\n            y: Math.abs(xy.y - this.y0) / (this.a * FYC)\n        };\n\n        if (ll.y >= 1) { // pathologic case\n            ll.x /= COEFS_X[NODES][0];\n            ll.y = xy.y < 0 ? -HALF_PI : HALF_PI;\n        } else {\n            // find table interval\n            var i = Math.floor(ll.y * NODES);\n            if (i < 0) {\n                i = 0;\n            } else if (i >= NODES) {\n                i = NODES - 1;\n            }\n            for (;;) {\n                if (COEFS_Y[i][0] > ll.y) {\n                    --i;\n                } else if (COEFS_Y[i+1][0] <= ll.y) {\n                    ++i;\n                } else {\n                    break;\n                }\n            }\n            // linear interpolation in 5 degree interval\n            var coefs = COEFS_Y[i];\n            var t = 5 * (ll.y - coefs[0]) / (COEFS_Y[i+1][0] - coefs[0]);\n            // find t so that poly3_val(coefs, t) = ll.y\n            t = newton_rapshon(function(x) {\n                return (poly3_val(coefs, x) - ll.y) / poly3_der(coefs, x);\n            }, t, EPSLN, 100);\n\n            ll.x /= poly3_val(COEFS_X[i], t);\n            ll.y = (5 * i + t) * D2R;\n            if (xy.y < 0) {\n                ll.y = -ll.y;\n            }\n        }\n\n        ll.x = adjust_lon(ll.x + this.long0);\n        return ll;\n    }\n\n    var names$29 = [\"Robinson\", \"robin\"];\n    var robin = {\n      init: init$28,\n      forward: forward$27,\n      inverse: inverse$27,\n      names: names$29\n    };\n\n    function init$29() {\n        this.name = 'geocent';\n\n    }\n\n    function forward$28(p) {\n        var point = geodeticToGeocentric(p, this.es, this.a);\n        return point;\n    }\n\n    function inverse$28(p) {\n        var point = geocentricToGeodetic(p, this.es, this.a, this.b);\n        return point;\n    }\n\n    var names$30 = [\"Geocentric\", 'geocentric', \"geocent\", \"Geocent\"];\n    var geocent = {\n        init: init$29,\n        forward: forward$28,\n        inverse: inverse$28,\n        names: names$30\n    };\n\n    var includedProjections = function(proj4){\n      proj4.Proj.projections.add(tmerc);\n      proj4.Proj.projections.add(etmerc);\n      proj4.Proj.projections.add(utm);\n      proj4.Proj.projections.add(sterea);\n      proj4.Proj.projections.add(stere);\n      proj4.Proj.projections.add(somerc);\n      proj4.Proj.projections.add(omerc);\n      proj4.Proj.projections.add(lcc);\n      proj4.Proj.projections.add(krovak);\n      proj4.Proj.projections.add(cass);\n      proj4.Proj.projections.add(laea);\n      proj4.Proj.projections.add(aea);\n      proj4.Proj.projections.add(gnom);\n      proj4.Proj.projections.add(cea);\n      proj4.Proj.projections.add(eqc);\n      proj4.Proj.projections.add(poly);\n      proj4.Proj.projections.add(nzmg);\n      proj4.Proj.projections.add(mill);\n      proj4.Proj.projections.add(sinu);\n      proj4.Proj.projections.add(moll);\n      proj4.Proj.projections.add(eqdc);\n      proj4.Proj.projections.add(vandg);\n      proj4.Proj.projections.add(aeqd);\n      proj4.Proj.projections.add(ortho);\n      proj4.Proj.projections.add(qsc);\n      proj4.Proj.projections.add(robin);\n      proj4.Proj.projections.add(geocent);\n    };\n\n    proj4$1.defaultDatum = 'WGS84'; //default datum\n    proj4$1.Proj = Projection;\n    proj4$1.WGS84 = new proj4$1.Proj('WGS84');\n    proj4$1.Point = Point;\n    proj4$1.toPoint = toPoint;\n    proj4$1.defs = defs;\n    proj4$1.transform = transform;\n    proj4$1.mgrs = mgrs;\n    proj4$1.version = '2.6.2';\n    includedProjections(proj4$1);\n\n    return proj4$1;\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9wcm9qNC9kaXN0L3Byb2o0LXNyYy5qcz8xMzVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxLQUE0RDtBQUNoRSxJQUFJLFNBQzBCO0FBQzlCLENBQUMscUJBQXFCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QjtBQUM5Qix1Q0FBdUM7QUFDdkMscUNBQXFDO0FBQ3JDLHdDQUF3QztBQUN4Qyx1Q0FBdUM7QUFDdkMscUNBQXFDO0FBQ3JDLG9DQUFvQztBQUNwQyx5Q0FBeUM7QUFDekMsdUNBQXVDO0FBQ3ZDLGtDQUFrQztBQUNsQywwQ0FBMEM7QUFDMUMsa0NBQWtDO0FBQ2xDLHFDQUFxQzs7QUFFckM7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBSTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQixxQkFBcUI7QUFDckIsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsMEJBQTBCO0FBQzFCO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE9BQU87QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FB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eEI7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQSxnQkFBZ0IsS0FBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBSztBQUNwQixlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsR0FBRyxPQUFPO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLE9BQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckIscUJBQXFCO0FBQ3JCLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEIscUJBQXFCO0FBQ3JCLHFCQUFxQjtBQUNyQiwwQkFBMEI7QUFDMUIsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsZUFBZTtBQUNmLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsR0FBRztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsR0FBRztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscUJBQXFCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsR0FBRztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsZUFBZTtBQUNmLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1oscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osa0JBQWtCOztBQUVsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvajQvZGlzdC9wcm9qNC1zcmMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIChnbG9iYWwucHJvajQgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZ2xvYmFscyA9IGZ1bmN0aW9uKGRlZnMpIHtcbiAgICAgIGRlZnMoJ0VQU0c6NDMyNicsIFwiK3RpdGxlPVdHUyA4NCAobG9uZy9sYXQpICtwcm9qPWxvbmdsYXQgK2VsbHBzPVdHUzg0ICtkYXR1bT1XR1M4NCArdW5pdHM9ZGVncmVlc1wiKTtcbiAgICAgIGRlZnMoJ0VQU0c6NDI2OScsIFwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzXCIpO1xuICAgICAgZGVmcygnRVBTRzozODU3JywgXCIrdGl0bGU9V0dTIDg0IC8gUHNldWRvLU1lcmNhdG9yICtwcm9qPW1lcmMgK2E9NjM3ODEzNyArYj02Mzc4MTM3ICtsYXRfdHM9MC4wICtsb25fMD0wLjAgK3hfMD0wLjAgK3lfMD0wICtrPTEuMCArdW5pdHM9bSArbmFkZ3JpZHM9QG51bGwgK25vX2RlZnNcIik7XG5cbiAgICAgIGRlZnMuV0dTODQgPSBkZWZzWydFUFNHOjQzMjYnXTtcbiAgICAgIGRlZnNbJ0VQU0c6Mzc4NSddID0gZGVmc1snRVBTRzozODU3J107IC8vIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdCwgb2ZmaWNpYWwgY29kZSBpcyAzODU3XG4gICAgICBkZWZzLkdPT0dMRSA9IGRlZnNbJ0VQU0c6Mzg1NyddO1xuICAgICAgZGVmc1snRVBTRzo5MDA5MTMnXSA9IGRlZnNbJ0VQU0c6Mzg1NyddO1xuICAgICAgZGVmc1snRVBTRzoxMDIxMTMnXSA9IGRlZnNbJ0VQU0c6Mzg1NyddO1xuICAgIH07XG5cbiAgICB2YXIgUEpEXzNQQVJBTSA9IDE7XG4gICAgdmFyIFBKRF83UEFSQU0gPSAyO1xuICAgIHZhciBQSkRfV0dTODQgPSA0OyAvLyBXR1M4NCBvciBlcXVpdmFsZW50XG4gICAgdmFyIFBKRF9OT0RBVFVNID0gNTsgLy8gV0dTODQgb3IgZXF1aXZhbGVudFxuICAgIHZhciBTRUNfVE9fUkFEID0gNC44NDgxMzY4MTEwOTUzNTk5MzU4OTkxNDEwMjM1N2UtNjtcbiAgICB2YXIgSEFMRl9QSSA9IE1hdGguUEkvMjtcbiAgICAvLyBlbGxpcG9pZCBwal9zZXRfZWxsLmNcbiAgICB2YXIgU0lYVEggPSAwLjE2NjY2NjY2NjY2NjY2NjY2Njc7XG4gICAgLyogMS82ICovXG4gICAgdmFyIFJBNCA9IDAuMDQ3MjIyMjIyMjIyMjIyMjIyMjI7XG4gICAgLyogMTcvMzYwICovXG4gICAgdmFyIFJBNiA9IDAuMDIyMTU2MDg0NjU2MDg0NjU2MDg7XG4gICAgdmFyIEVQU0xOID0gMS4wZS0xMDtcbiAgICAvLyB5b3UnZCB0aGluayB5b3UgY291bGQgdXNlIE51bWJlci5FUFNJTE9OIGFib3ZlIGJ1dCB0aGF0IG1ha2VzXG4gICAgLy8gTW9sbHdlaWRlIGdldCBpbnRvIGFuIGluZmluYXRlIGxvb3AuXG5cbiAgICB2YXIgRDJSID0gMC4wMTc0NTMyOTI1MTk5NDMyOTU3NztcbiAgICB2YXIgUjJEID0gNTcuMjk1Nzc5NTEzMDgyMzIwODg7XG4gICAgdmFyIEZPUlRQSSA9IE1hdGguUEkvNDtcbiAgICB2YXIgVFdPX1BJID0gTWF0aC5QSSAqIDI7XG4gICAgLy8gU1BJIGlzIHNsaWdodGx5IGdyZWF0ZXIgdGhhbiBNYXRoLlBJLCBzbyB2YWx1ZXMgdGhhdCBleGNlZWQgdGhlIC0xODAuLjE4MFxuICAgIC8vIGRlZ3JlZSByYW5nZSBieSBhIHRpbnkgYW1vdW50IGRvbid0IGdldCB3cmFwcGVkLiBUaGlzIHByZXZlbnRzIHBvaW50cyB0aGF0XG4gICAgLy8gaGF2ZSBkcmlmdGVkIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb24gYWxvbmcgdGhlIDE4MHRoIG1lcmlkaWFuIChkdWUgdG9cbiAgICAvLyBmbG9hdGluZyBwb2ludCBlcnJvcikgZnJvbSBjaGFuZ2luZyB0aGVpciBzaWduLlxuICAgIHZhciBTUEkgPSAzLjE0MTU5MjY1MzU5O1xuXG4gICAgdmFyIGV4cG9ydHMkMSA9IHt9O1xuICAgIGV4cG9ydHMkMS5ncmVlbndpY2ggPSAwLjA7IC8vXCIwZEVcIixcbiAgICBleHBvcnRzJDEubGlzYm9uID0gLTkuMTMxOTA2MTExMTExOyAvL1wiOWQwNyc1NC44NjJcXFwiV1wiLFxuICAgIGV4cG9ydHMkMS5wYXJpcyA9IDIuMzM3MjI5MTY2NjY3OyAvL1wiMmQyMCcxNC4wMjVcXFwiRVwiLFxuICAgIGV4cG9ydHMkMS5ib2dvdGEgPSAtNzQuMDgwOTE2NjY2NjY3OyAvL1wiNzRkMDQnNTEuM1xcXCJXXCIsXG4gICAgZXhwb3J0cyQxLm1hZHJpZCA9IC0zLjY4NzkzODg4ODg4OTsgLy9cIjNkNDEnMTYuNThcXFwiV1wiLFxuICAgIGV4cG9ydHMkMS5yb21lID0gMTIuNDUyMzMzMzMzMzMzOyAvL1wiMTJkMjcnOC40XFxcIkVcIixcbiAgICBleHBvcnRzJDEuYmVybiA9IDcuNDM5NTgzMzMzMzMzOyAvL1wiN2QyNicyMi41XFxcIkVcIixcbiAgICBleHBvcnRzJDEuamFrYXJ0YSA9IDEwNi44MDc3MTk0NDQ0NDQ7IC8vXCIxMDZkNDgnMjcuNzlcXFwiRVwiLFxuICAgIGV4cG9ydHMkMS5mZXJybyA9IC0xNy42NjY2NjY2NjY2Njc7IC8vXCIxN2Q0MCdXXCIsXG4gICAgZXhwb3J0cyQxLmJydXNzZWxzID0gNC4zNjc5NzU7IC8vXCI0ZDIyJzQuNzFcXFwiRVwiLFxuICAgIGV4cG9ydHMkMS5zdG9ja2hvbG0gPSAxOC4wNTgyNzc3Nzc3Nzg7IC8vXCIxOGQzJzI5LjhcXFwiRVwiLFxuICAgIGV4cG9ydHMkMS5hdGhlbnMgPSAyMy43MTYzMzc1OyAvL1wiMjNkNDInNTguODE1XFxcIkVcIixcbiAgICBleHBvcnRzJDEub3NsbyA9IDEwLjcyMjkxNjY2NjY2NzsgLy9cIjEwZDQzJzIyLjVcXFwiRVwiXG5cbiAgICB2YXIgdW5pdHMgPSB7XG4gICAgICBmdDoge3RvX21ldGVyOiAwLjMwNDh9LFxuICAgICAgJ3VzLWZ0Jzoge3RvX21ldGVyOiAxMjAwIC8gMzkzN31cbiAgICB9O1xuXG4gICAgdmFyIGlnbm9yZWRDaGFyID0gL1tcXHNfXFwtXFwvXFwoXFwpXS9nO1xuICAgIGZ1bmN0aW9uIG1hdGNoKG9iaiwga2V5KSB7XG4gICAgICBpZiAob2JqW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgICAgfVxuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgdmFyIGxrZXkgPSBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGlnbm9yZWRDaGFyLCAnJyk7XG4gICAgICB2YXIgaSA9IC0xO1xuICAgICAgdmFyIHRlc3RrZXksIHByb2Nlc3NlZEtleTtcbiAgICAgIHdoaWxlICgrK2kgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICB0ZXN0a2V5ID0ga2V5c1tpXTtcbiAgICAgICAgcHJvY2Vzc2VkS2V5ID0gdGVzdGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoaWdub3JlZENoYXIsICcnKTtcbiAgICAgICAgaWYgKHByb2Nlc3NlZEtleSA9PT0gbGtleSkge1xuICAgICAgICAgIHJldHVybiBvYmpbdGVzdGtleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFyc2VQcm9qID0gZnVuY3Rpb24oZGVmRGF0YSkge1xuICAgICAgdmFyIHNlbGYgPSB7fTtcbiAgICAgIHZhciBwYXJhbU9iaiA9IGRlZkRhdGEuc3BsaXQoJysnKS5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICByZXR1cm4gdi50cmltKCk7XG4gICAgICB9KS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbihwLCBhKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGEuc3BsaXQoJz0nKTtcbiAgICAgICAgc3BsaXQucHVzaCh0cnVlKTtcbiAgICAgICAgcFtzcGxpdFswXS50b0xvd2VyQ2FzZSgpXSA9IHNwbGl0WzFdO1xuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0sIHt9KTtcbiAgICAgIHZhciBwYXJhbU5hbWUsIHBhcmFtVmFsLCBwYXJhbU91dG5hbWU7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBwcm9qOiAncHJvak5hbWUnLFxuICAgICAgICBkYXR1bTogJ2RhdHVtQ29kZScsXG4gICAgICAgIHJmOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgc2VsZi5yZiA9IHBhcnNlRmxvYXQodik7XG4gICAgICAgIH0sXG4gICAgICAgIGxhdF8wOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgc2VsZi5sYXQwID0gdiAqIEQyUjtcbiAgICAgICAgfSxcbiAgICAgICAgbGF0XzE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLmxhdDEgPSB2ICogRDJSO1xuICAgICAgICB9LFxuICAgICAgICBsYXRfMjogZnVuY3Rpb24odikge1xuICAgICAgICAgIHNlbGYubGF0MiA9IHYgKiBEMlI7XG4gICAgICAgIH0sXG4gICAgICAgIGxhdF90czogZnVuY3Rpb24odikge1xuICAgICAgICAgIHNlbGYubGF0X3RzID0gdiAqIEQyUjtcbiAgICAgICAgfSxcbiAgICAgICAgbG9uXzA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLmxvbmcwID0gdiAqIEQyUjtcbiAgICAgICAgfSxcbiAgICAgICAgbG9uXzE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLmxvbmcxID0gdiAqIEQyUjtcbiAgICAgICAgfSxcbiAgICAgICAgbG9uXzI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLmxvbmcyID0gdiAqIEQyUjtcbiAgICAgICAgfSxcbiAgICAgICAgYWxwaGE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLmFscGhhID0gcGFyc2VGbG9hdCh2KSAqIEQyUjtcbiAgICAgICAgfSxcbiAgICAgICAgbG9uYzogZnVuY3Rpb24odikge1xuICAgICAgICAgIHNlbGYubG9uZ2MgPSB2ICogRDJSO1xuICAgICAgICB9LFxuICAgICAgICB4XzA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLngwID0gcGFyc2VGbG9hdCh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgeV8wOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgc2VsZi55MCA9IHBhcnNlRmxvYXQodik7XG4gICAgICAgIH0sXG4gICAgICAgIGtfMDogZnVuY3Rpb24odikge1xuICAgICAgICAgIHNlbGYuazAgPSBwYXJzZUZsb2F0KHYpO1xuICAgICAgICB9LFxuICAgICAgICBrOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgc2VsZi5rMCA9IHBhcnNlRmxvYXQodik7XG4gICAgICAgIH0sXG4gICAgICAgIGE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLmEgPSBwYXJzZUZsb2F0KHYpO1xuICAgICAgICB9LFxuICAgICAgICBiOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgc2VsZi5iID0gcGFyc2VGbG9hdCh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgcl9hOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLlJfQSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHpvbmU6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBzZWxmLnpvbmUgPSBwYXJzZUludCh2LCAxMCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNvdXRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnV0bVNvdXRoID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgdG93Z3M4NDogZnVuY3Rpb24odikge1xuICAgICAgICAgIHNlbGYuZGF0dW1fcGFyYW1zID0gdi5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0b19tZXRlcjogZnVuY3Rpb24odikge1xuICAgICAgICAgIHNlbGYudG9fbWV0ZXIgPSBwYXJzZUZsb2F0KHYpO1xuICAgICAgICB9LFxuICAgICAgICB1bml0czogZnVuY3Rpb24odikge1xuICAgICAgICAgIHNlbGYudW5pdHMgPSB2O1xuICAgICAgICAgIHZhciB1bml0ID0gbWF0Y2godW5pdHMsIHYpO1xuICAgICAgICAgIGlmICh1bml0KSB7XG4gICAgICAgICAgICBzZWxmLnRvX21ldGVyID0gdW5pdC50b19tZXRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21fZ3JlZW53aWNoOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgc2VsZi5mcm9tX2dyZWVud2ljaCA9IHYgKiBEMlI7XG4gICAgICAgIH0sXG4gICAgICAgIHBtOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgdmFyIHBtID0gbWF0Y2goZXhwb3J0cyQxLCB2KTtcbiAgICAgICAgICBzZWxmLmZyb21fZ3JlZW53aWNoID0gKHBtID8gcG0gOiBwYXJzZUZsb2F0KHYpKSAqIEQyUjtcbiAgICAgICAgfSxcbiAgICAgICAgbmFkZ3JpZHM6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBpZiAodiA9PT0gJ0BudWxsJykge1xuICAgICAgICAgICAgc2VsZi5kYXR1bUNvZGUgPSAnbm9uZSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5uYWRncmlkcyA9IHY7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBheGlzOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgdmFyIGxlZ2FsQXhpcyA9IFwiZXduc3VkXCI7XG4gICAgICAgICAgaWYgKHYubGVuZ3RoID09PSAzICYmIGxlZ2FsQXhpcy5pbmRleE9mKHYuc3Vic3RyKDAsIDEpKSAhPT0gLTEgJiYgbGVnYWxBeGlzLmluZGV4T2Yodi5zdWJzdHIoMSwgMSkpICE9PSAtMSAmJiBsZWdhbEF4aXMuaW5kZXhPZih2LnN1YnN0cigyLCAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICBzZWxmLmF4aXMgPSB2O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZvciAocGFyYW1OYW1lIGluIHBhcmFtT2JqKSB7XG4gICAgICAgIHBhcmFtVmFsID0gcGFyYW1PYmpbcGFyYW1OYW1lXTtcbiAgICAgICAgaWYgKHBhcmFtTmFtZSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICBwYXJhbU91dG5hbWUgPSBwYXJhbXNbcGFyYW1OYW1lXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtT3V0bmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGFyYW1PdXRuYW1lKHBhcmFtVmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxmW3BhcmFtT3V0bmFtZV0gPSBwYXJhbVZhbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc2VsZltwYXJhbU5hbWVdID0gcGFyYW1WYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKHR5cGVvZiBzZWxmLmRhdHVtQ29kZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5kYXR1bUNvZGUgIT09IFwiV0dTODRcIil7XG4gICAgICAgIHNlbGYuZGF0dW1Db2RlID0gc2VsZi5kYXR1bUNvZGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG5cbiAgICB2YXIgTkVVVFJBTCA9IDE7XG4gICAgdmFyIEtFWVdPUkQgPSAyO1xuICAgIHZhciBOVU1CRVIgPSAzO1xuICAgIHZhciBRVU9URUQgPSA0O1xuICAgIHZhciBBRlRFUlFVT1RFID0gNTtcbiAgICB2YXIgRU5ERUQgPSAtMTtcbiAgICB2YXIgd2hpdGVzcGFjZSA9IC9cXHMvO1xuICAgIHZhciBsYXRpbiA9IC9bQS1aYS16XS87XG4gICAgdmFyIGtleXdvcmQgPSAvW0EtWmEtejg0XS87XG4gICAgdmFyIGVuZFRoaW5ncyA9IC9bLFxcXV0vO1xuICAgIHZhciBkaWdldHMgPSAvW1xcZFxcLkVcXC1cXCtdLztcbiAgICAvLyBjb25zdCBpZ25vcmVkQ2hhciA9IC9bXFxzX1xcLVxcL1xcKFxcKV0vZztcbiAgICBmdW5jdGlvbiBQYXJzZXIodGV4dCkge1xuICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBhIHN0cmluZycpO1xuICAgICAgfVxuICAgICAgdGhpcy50ZXh0ID0gdGV4dC50cmltKCk7XG4gICAgICB0aGlzLmxldmVsID0gMDtcbiAgICAgIHRoaXMucGxhY2UgPSAwO1xuICAgICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgICAgIHRoaXMuY3VycmVudE9iamVjdCA9IG51bGw7XG4gICAgICB0aGlzLnN0YXRlID0gTkVVVFJBTDtcbiAgICB9XG4gICAgUGFyc2VyLnByb3RvdHlwZS5yZWFkQ2hhcmljdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2hhciA9IHRoaXMudGV4dFt0aGlzLnBsYWNlKytdO1xuICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFFVT1RFRCkge1xuICAgICAgICB3aGlsZSAod2hpdGVzcGFjZS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgaWYgKHRoaXMucGxhY2UgPj0gdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFyID0gdGhpcy50ZXh0W3RoaXMucGxhY2UrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICBjYXNlIE5FVVRSQUw6XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmV1dHJhbChjaGFyKTtcbiAgICAgICAgY2FzZSBLRVlXT1JEOlxuICAgICAgICAgIHJldHVybiB0aGlzLmtleXdvcmQoY2hhcilcbiAgICAgICAgY2FzZSBRVU9URUQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucXVvdGVkKGNoYXIpO1xuICAgICAgICBjYXNlIEFGVEVSUVVPVEU6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWZ0ZXJxdW90ZShjaGFyKTtcbiAgICAgICAgY2FzZSBOVU1CRVI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMubnVtYmVyKGNoYXIpO1xuICAgICAgICBjYXNlIEVOREVEOlxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUuYWZ0ZXJxdW90ZSA9IGZ1bmN0aW9uKGNoYXIpIHtcbiAgICAgIGlmIChjaGFyID09PSAnXCInKSB7XG4gICAgICAgIHRoaXMud29yZCArPSAnXCInO1xuICAgICAgICB0aGlzLnN0YXRlID0gUVVPVEVEO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZW5kVGhpbmdzLnRlc3QoY2hhcikpIHtcbiAgICAgICAgdGhpcy53b3JkID0gdGhpcy53b3JkLnRyaW0oKTtcbiAgICAgICAgdGhpcy5hZnRlckl0ZW0oY2hhcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignaGF2blxcJ3QgaGFuZGxlZCBcIicgK2NoYXIgKyAnXCIgaW4gYWZ0ZXJxdW90ZSB5ZXQsIGluZGV4ICcgKyB0aGlzLnBsYWNlKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUuYWZ0ZXJJdGVtID0gZnVuY3Rpb24oY2hhcikge1xuICAgICAgaWYgKGNoYXIgPT09ICcsJykge1xuICAgICAgICBpZiAodGhpcy53b3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50T2JqZWN0LnB1c2godGhpcy53b3JkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gTkVVVFJBTDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09ICddJykge1xuICAgICAgICB0aGlzLmxldmVsLS07XG4gICAgICAgIGlmICh0aGlzLndvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRPYmplY3QucHVzaCh0aGlzLndvcmQpO1xuICAgICAgICAgIHRoaXMud29yZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IE5FVVRSQUw7XG4gICAgICAgIHRoaXMuY3VycmVudE9iamVjdCA9IHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50T2JqZWN0KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IEVOREVEO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5udW1iZXIgPSBmdW5jdGlvbihjaGFyKSB7XG4gICAgICBpZiAoZGlnZXRzLnRlc3QoY2hhcikpIHtcbiAgICAgICAgdGhpcy53b3JkICs9IGNoYXI7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlbmRUaGluZ3MudGVzdChjaGFyKSkge1xuICAgICAgICB0aGlzLndvcmQgPSBwYXJzZUZsb2F0KHRoaXMud29yZCk7XG4gICAgICAgIHRoaXMuYWZ0ZXJJdGVtKGNoYXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhdm5cXCd0IGhhbmRsZWQgXCInICtjaGFyICsgJ1wiIGluIG51bWJlciB5ZXQsIGluZGV4ICcgKyB0aGlzLnBsYWNlKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUucXVvdGVkID0gZnVuY3Rpb24oY2hhcikge1xuICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEFGVEVSUVVPVEU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMud29yZCArPSBjaGFyO1xuICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5rZXl3b3JkID0gZnVuY3Rpb24oY2hhcikge1xuICAgICAgaWYgKGtleXdvcmQudGVzdChjaGFyKSkge1xuICAgICAgICB0aGlzLndvcmQgKz0gY2hhcjtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09ICdbJykge1xuICAgICAgICB2YXIgbmV3T2JqZWN0cyA9IFtdO1xuICAgICAgICBuZXdPYmplY3RzLnB1c2godGhpcy53b3JkKTtcbiAgICAgICAgdGhpcy5sZXZlbCsrO1xuICAgICAgICBpZiAodGhpcy5yb290ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5yb290ID0gbmV3T2JqZWN0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRPYmplY3QucHVzaChuZXdPYmplY3RzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5jdXJyZW50T2JqZWN0KTtcbiAgICAgICAgdGhpcy5jdXJyZW50T2JqZWN0ID0gbmV3T2JqZWN0cztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IE5FVVRSQUw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlbmRUaGluZ3MudGVzdChjaGFyKSkge1xuICAgICAgICB0aGlzLmFmdGVySXRlbShjaGFyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdoYXZuXFwndCBoYW5kbGVkIFwiJyArY2hhciArICdcIiBpbiBrZXl3b3JkIHlldCwgaW5kZXggJyArIHRoaXMucGxhY2UpO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5uZXV0cmFsID0gZnVuY3Rpb24oY2hhcikge1xuICAgICAgaWYgKGxhdGluLnRlc3QoY2hhcikpIHtcbiAgICAgICAgdGhpcy53b3JkID0gY2hhcjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEtFWVdPUkQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjaGFyID09PSAnXCInKSB7XG4gICAgICAgIHRoaXMud29yZCA9ICcnO1xuICAgICAgICB0aGlzLnN0YXRlID0gUVVPVEVEO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGlnZXRzLnRlc3QoY2hhcikpIHtcbiAgICAgICAgdGhpcy53b3JkID0gY2hhcjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IE5VTUJFUjtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGVuZFRoaW5ncy50ZXN0KGNoYXIpKSB7XG4gICAgICAgIHRoaXMuYWZ0ZXJJdGVtKGNoYXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhdm5cXCd0IGhhbmRsZWQgXCInICtjaGFyICsgJ1wiIGluIG5ldXRyYWwgeWV0LCBpbmRleCAnICsgdGhpcy5wbGFjZSk7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLm91dHB1dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgd2hpbGUgKHRoaXMucGxhY2UgPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVhZENoYXJpY3RlcigpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IEVOREVEKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Q7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBwYXJzZSBzdHJpbmcgXCInICt0aGlzLnRleHQgKyAnXCIuIFN0YXRlIGlzICcgKyB0aGlzLnN0YXRlKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcGFyc2VTdHJpbmcodHh0KSB7XG4gICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcih0eHQpO1xuICAgICAgcmV0dXJuIHBhcnNlci5vdXRwdXQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXBpdChvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgdmFsdWUudW5zaGlmdChrZXkpO1xuICAgICAgICBrZXkgPSBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIHRoaW5nID0ga2V5ID8ge30gOiBvYmo7XG5cbiAgICAgIHZhciBvdXQgPSB2YWx1ZS5yZWR1Y2UoZnVuY3Rpb24obmV3T2JqLCBpdGVtKSB7XG4gICAgICAgIHNFeHByKGl0ZW0sIG5ld09iaik7XG4gICAgICAgIHJldHVybiBuZXdPYmpcbiAgICAgIH0sIHRoaW5nKTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBvdXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc0V4cHIodiwgb2JqKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgb2JqW3ZdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHYuc2hpZnQoKTtcbiAgICAgIGlmIChrZXkgPT09ICdQQVJBTUVURVInKSB7XG4gICAgICAgIGtleSA9IHYuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIGlmICh2Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2WzBdKSkge1xuICAgICAgICAgIG9ialtrZXldID0ge307XG4gICAgICAgICAgc0V4cHIodlswXSwgb2JqW2tleV0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvYmpba2V5XSA9IHZbMF07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdi5sZW5ndGgpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnVE9XR1M4NCcpIHtcbiAgICAgICAgb2JqW2tleV0gPSB2O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnQVhJUycpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIG9iaikpIHtcbiAgICAgICAgICBvYmpba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG9ialtrZXldLnB1c2godik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgIG9ialtrZXldID0ge307XG4gICAgICB9XG5cbiAgICAgIHZhciBpO1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSAnVU5JVCc6XG4gICAgICAgIGNhc2UgJ1BSSU1FTSc6XG4gICAgICAgIGNhc2UgJ1ZFUlRfREFUVU0nOlxuICAgICAgICAgIG9ialtrZXldID0ge1xuICAgICAgICAgICAgbmFtZTogdlswXS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgY29udmVydDogdlsxXVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKHYubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICBzRXhwcih2WzJdLCBvYmpba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSAnU1BIRVJPSUQnOlxuICAgICAgICBjYXNlICdFTExJUFNPSUQnOlxuICAgICAgICAgIG9ialtrZXldID0ge1xuICAgICAgICAgICAgbmFtZTogdlswXSxcbiAgICAgICAgICAgIGE6IHZbMV0sXG4gICAgICAgICAgICByZjogdlsyXVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKHYubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICBzRXhwcih2WzNdLCBvYmpba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSAnUFJPSkVDVEVEQ1JTJzpcbiAgICAgICAgY2FzZSAnUFJPSkNSUyc6XG4gICAgICAgIGNhc2UgJ0dFT0dDUyc6XG4gICAgICAgIGNhc2UgJ0dFT0NDUyc6XG4gICAgICAgIGNhc2UgJ1BST0pDUyc6XG4gICAgICAgIGNhc2UgJ0xPQ0FMX0NTJzpcbiAgICAgICAgY2FzZSAnR0VPRENSUyc6XG4gICAgICAgIGNhc2UgJ0dFT0RFVElDQ1JTJzpcbiAgICAgICAgY2FzZSAnR0VPREVUSUNEQVRVTSc6XG4gICAgICAgIGNhc2UgJ0VEQVRVTSc6XG4gICAgICAgIGNhc2UgJ0VOR0lORUVSSU5HREFUVU0nOlxuICAgICAgICBjYXNlICdWRVJUX0NTJzpcbiAgICAgICAgY2FzZSAnVkVSVENSUyc6XG4gICAgICAgIGNhc2UgJ1ZFUlRJQ0FMQ1JTJzpcbiAgICAgICAgY2FzZSAnQ09NUERfQ1MnOlxuICAgICAgICBjYXNlICdDT01QT1VORENSUyc6XG4gICAgICAgIGNhc2UgJ0VOR0lORUVSSU5HQ1JTJzpcbiAgICAgICAgY2FzZSAnRU5HQ1JTJzpcbiAgICAgICAgY2FzZSAnRklUVEVEX0NTJzpcbiAgICAgICAgY2FzZSAnTE9DQUxfREFUVU0nOlxuICAgICAgICBjYXNlICdEQVRVTSc6XG4gICAgICAgICAgdlswXSA9IFsnbmFtZScsIHZbMF1dO1xuICAgICAgICAgIG1hcGl0KG9iaiwga2V5LCB2KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaSA9IC0xO1xuICAgICAgICAgIHdoaWxlICgrK2kgPCB2Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZbaV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzRXhwcih2LCBvYmpba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtYXBpdChvYmosIGtleSwgdik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIEQyUiQxID0gMC4wMTc0NTMyOTI1MTk5NDMyOTU3NztcbiAgICBmdW5jdGlvbiByZW5hbWUob2JqLCBwYXJhbXMpIHtcbiAgICAgIHZhciBvdXROYW1lID0gcGFyYW1zWzBdO1xuICAgICAgdmFyIGluTmFtZSA9IHBhcmFtc1sxXTtcbiAgICAgIGlmICghKG91dE5hbWUgaW4gb2JqKSAmJiAoaW5OYW1lIGluIG9iaikpIHtcbiAgICAgICAgb2JqW291dE5hbWVdID0gb2JqW2luTmFtZV07XG4gICAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgb2JqW291dE5hbWVdID0gcGFyYW1zWzJdKG9ialtvdXROYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkMnIoaW5wdXQpIHtcbiAgICAgIHJldHVybiBpbnB1dCAqIEQyUiQxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFuV0tUKHdrdCkge1xuICAgICAgaWYgKHdrdC50eXBlID09PSAnR0VPR0NTJykge1xuICAgICAgICB3a3QucHJvak5hbWUgPSAnbG9uZ2xhdCc7XG4gICAgICB9IGVsc2UgaWYgKHdrdC50eXBlID09PSAnTE9DQUxfQ1MnKSB7XG4gICAgICAgIHdrdC5wcm9qTmFtZSA9ICdpZGVudGl0eSc7XG4gICAgICAgIHdrdC5sb2NhbCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHdrdC5QUk9KRUNUSU9OID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHdrdC5wcm9qTmFtZSA9IE9iamVjdC5rZXlzKHdrdC5QUk9KRUNUSU9OKVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3a3QucHJvak5hbWUgPSB3a3QuUFJPSkVDVElPTjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdrdC5BWElTKSB7XG4gICAgICAgIHZhciBheGlzT3JkZXIgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gd2t0LkFYSVMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgIHZhciBheGlzID0gd2t0LkFYSVNbaV07XG4gICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBheGlzWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKGRlc2NyaXB0b3IuaW5kZXhPZignbm9ydGgnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGF4aXNPcmRlciArPSAnbic7XG4gICAgICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdG9yLmluZGV4T2YoJ3NvdXRoJykgIT09IC0xKSB7XG4gICAgICAgICAgICBheGlzT3JkZXIgKz0gJ3MnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGVzY3JpcHRvci5pbmRleE9mKCdlYXN0JykgIT09IC0xKSB7XG4gICAgICAgICAgICBheGlzT3JkZXIgKz0gJ2UnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGVzY3JpcHRvci5pbmRleE9mKCd3ZXN0JykgIT09IC0xKSB7XG4gICAgICAgICAgICBheGlzT3JkZXIgKz0gJ3cnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXhpc09yZGVyLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIGF4aXNPcmRlciArPSAndSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF4aXNPcmRlci5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICB3a3QuYXhpcyA9IGF4aXNPcmRlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdrdC5VTklUKSB7XG4gICAgICAgIHdrdC51bml0cyA9IHdrdC5VTklULm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHdrdC51bml0cyA9PT0gJ21ldHJlJykge1xuICAgICAgICAgIHdrdC51bml0cyA9ICdtZXRlcic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdrdC5VTklULmNvbnZlcnQpIHtcbiAgICAgICAgICBpZiAod2t0LnR5cGUgPT09ICdHRU9HQ1MnKSB7XG4gICAgICAgICAgICBpZiAod2t0LkRBVFVNICYmIHdrdC5EQVRVTS5TUEhFUk9JRCkge1xuICAgICAgICAgICAgICB3a3QudG9fbWV0ZXIgPSB3a3QuVU5JVC5jb252ZXJ0KndrdC5EQVRVTS5TUEhFUk9JRC5hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3a3QudG9fbWV0ZXIgPSB3a3QuVU5JVC5jb252ZXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGdlb2djcyA9IHdrdC5HRU9HQ1M7XG4gICAgICBpZiAod2t0LnR5cGUgPT09ICdHRU9HQ1MnKSB7XG4gICAgICAgIGdlb2djcyA9IHdrdDtcbiAgICAgIH1cbiAgICAgIGlmIChnZW9nY3MpIHtcbiAgICAgICAgLy9pZih3a3QuR0VPR0NTLlBSSU1FTSYmd2t0LkdFT0dDUy5QUklNRU0uY29udmVydCl7XG4gICAgICAgIC8vICB3a3QuZnJvbV9ncmVlbndpY2g9d2t0LkdFT0dDUy5QUklNRU0uY29udmVydCpEMlI7XG4gICAgICAgIC8vfVxuICAgICAgICBpZiAoZ2VvZ2NzLkRBVFVNKSB7XG4gICAgICAgICAgd2t0LmRhdHVtQ29kZSA9IGdlb2djcy5EQVRVTS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2t0LmRhdHVtQ29kZSA9IGdlb2djcy5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdrdC5kYXR1bUNvZGUuc2xpY2UoMCwgMikgPT09ICdkXycpIHtcbiAgICAgICAgICB3a3QuZGF0dW1Db2RlID0gd2t0LmRhdHVtQ29kZS5zbGljZSgyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2t0LmRhdHVtQ29kZSA9PT0gJ25ld196ZWFsYW5kX2dlb2RldGljX2RhdHVtXzE5NDknIHx8IHdrdC5kYXR1bUNvZGUgPT09ICduZXdfemVhbGFuZF8xOTQ5Jykge1xuICAgICAgICAgIHdrdC5kYXR1bUNvZGUgPSAnbnpnZDQ5JztcbiAgICAgICAgfVxuICAgICAgICBpZiAod2t0LmRhdHVtQ29kZSA9PT0gJ3dnc18xOTg0JyB8fCB3a3QuZGF0dW1Db2RlID09PSAnd29ybGRfZ2VvZGV0aWNfc3lzdGVtXzE5ODQnKSB7XG4gICAgICAgICAgaWYgKHdrdC5QUk9KRUNUSU9OID09PSAnTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZScpIHtcbiAgICAgICAgICAgIHdrdC5zcGhlcmUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3a3QuZGF0dW1Db2RlID0gJ3dnczg0JztcbiAgICAgICAgfVxuICAgICAgICBpZiAod2t0LmRhdHVtQ29kZS5zbGljZSgtNikgPT09ICdfZmVycm8nKSB7XG4gICAgICAgICAgd2t0LmRhdHVtQ29kZSA9IHdrdC5kYXR1bUNvZGUuc2xpY2UoMCwgLSA2KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2t0LmRhdHVtQ29kZS5zbGljZSgtOCkgPT09ICdfamFrYXJ0YScpIHtcbiAgICAgICAgICB3a3QuZGF0dW1Db2RlID0gd2t0LmRhdHVtQ29kZS5zbGljZSgwLCAtIDgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh+d2t0LmRhdHVtQ29kZS5pbmRleE9mKCdiZWxnZScpKSB7XG4gICAgICAgICAgd2t0LmRhdHVtQ29kZSA9ICdybmI3Mic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlb2djcy5EQVRVTSAmJiBnZW9nY3MuREFUVU0uU1BIRVJPSUQpIHtcbiAgICAgICAgICB3a3QuZWxscHMgPSBnZW9nY3MuREFUVU0uU1BIRVJPSUQubmFtZS5yZXBsYWNlKCdfMTknLCAnJykucmVwbGFjZSgvW0NjXWxhcmtlXFxfMTgvLCAnY2xyaycpO1xuICAgICAgICAgIGlmICh3a3QuZWxscHMudG9Mb3dlckNhc2UoKS5zbGljZSgwLCAxMykgPT09ICdpbnRlcm5hdGlvbmFsJykge1xuICAgICAgICAgICAgd2t0LmVsbHBzID0gJ2ludGwnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdrdC5hID0gZ2VvZ2NzLkRBVFVNLlNQSEVST0lELmE7XG4gICAgICAgICAgd2t0LnJmID0gcGFyc2VGbG9hdChnZW9nY3MuREFUVU0uU1BIRVJPSUQucmYsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZW9nY3MuREFUVU0gJiYgZ2VvZ2NzLkRBVFVNLlRPV0dTODQpIHtcbiAgICAgICAgICB3a3QuZGF0dW1fcGFyYW1zID0gZ2VvZ2NzLkRBVFVNLlRPV0dTODQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKH53a3QuZGF0dW1Db2RlLmluZGV4T2YoJ29zZ2JfMTkzNicpKSB7XG4gICAgICAgICAgd2t0LmRhdHVtQ29kZSA9ICdvc2diMzYnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh+d2t0LmRhdHVtQ29kZS5pbmRleE9mKCdvc25pXzE5NTInKSkge1xuICAgICAgICAgIHdrdC5kYXR1bUNvZGUgPSAnb3NuaTUyJztcbiAgICAgICAgfVxuICAgICAgICBpZiAofndrdC5kYXR1bUNvZGUuaW5kZXhPZigndG02NScpXG4gICAgICAgICAgfHwgfndrdC5kYXR1bUNvZGUuaW5kZXhPZignZ2VvZGV0aWNfZGF0dW1fb2ZfMTk2NScpKSB7XG4gICAgICAgICAgd2t0LmRhdHVtQ29kZSA9ICdpcmU2NSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdrdC5kYXR1bUNvZGUgPT09ICdjaDE5MDMrJykge1xuICAgICAgICAgIHdrdC5kYXR1bUNvZGUgPSAnY2gxOTAzJztcbiAgICAgICAgfVxuICAgICAgICBpZiAofndrdC5kYXR1bUNvZGUuaW5kZXhPZignaXNyYWVsJykpIHtcbiAgICAgICAgICB3a3QuZGF0dW1Db2RlID0gJ2lzcjkzJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdrdC5iICYmICFpc0Zpbml0ZSh3a3QuYikpIHtcbiAgICAgICAgd2t0LmIgPSB3a3QuYTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdG9NZXRlcihpbnB1dCkge1xuICAgICAgICB2YXIgcmF0aW8gPSB3a3QudG9fbWV0ZXIgfHwgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ICogcmF0aW87XG4gICAgICB9XG4gICAgICB2YXIgcmVuYW1lciA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgcmV0dXJuIHJlbmFtZSh3a3QsIGEpO1xuICAgICAgfTtcbiAgICAgIHZhciBsaXN0ID0gW1xuICAgICAgICBbJ3N0YW5kYXJkX3BhcmFsbGVsXzEnLCAnU3RhbmRhcmRfUGFyYWxsZWxfMSddLFxuICAgICAgICBbJ3N0YW5kYXJkX3BhcmFsbGVsXzInLCAnU3RhbmRhcmRfUGFyYWxsZWxfMiddLFxuICAgICAgICBbJ2ZhbHNlX2Vhc3RpbmcnLCAnRmFsc2VfRWFzdGluZyddLFxuICAgICAgICBbJ2ZhbHNlX25vcnRoaW5nJywgJ0ZhbHNlX05vcnRoaW5nJ10sXG4gICAgICAgIFsnY2VudHJhbF9tZXJpZGlhbicsICdDZW50cmFsX01lcmlkaWFuJ10sXG4gICAgICAgIFsnbGF0aXR1ZGVfb2Zfb3JpZ2luJywgJ0xhdGl0dWRlX09mX09yaWdpbiddLFxuICAgICAgICBbJ2xhdGl0dWRlX29mX29yaWdpbicsICdDZW50cmFsX1BhcmFsbGVsJ10sXG4gICAgICAgIFsnc2NhbGVfZmFjdG9yJywgJ1NjYWxlX0ZhY3RvciddLFxuICAgICAgICBbJ2swJywgJ3NjYWxlX2ZhY3RvciddLFxuICAgICAgICBbJ2xhdGl0dWRlX29mX2NlbnRlcicsICdMYXRpdHVkZV9PZl9DZW50ZXInXSxcbiAgICAgICAgWydsYXRpdHVkZV9vZl9jZW50ZXInLCAnTGF0aXR1ZGVfb2ZfY2VudGVyJ10sXG4gICAgICAgIFsnbGF0MCcsICdsYXRpdHVkZV9vZl9jZW50ZXInLCBkMnJdLFxuICAgICAgICBbJ2xvbmdpdHVkZV9vZl9jZW50ZXInLCAnTG9uZ2l0dWRlX09mX0NlbnRlciddLFxuICAgICAgICBbJ2xvbmdpdHVkZV9vZl9jZW50ZXInLCAnTG9uZ2l0dWRlX29mX2NlbnRlciddLFxuICAgICAgICBbJ2xvbmdjJywgJ2xvbmdpdHVkZV9vZl9jZW50ZXInLCBkMnJdLFxuICAgICAgICBbJ3gwJywgJ2ZhbHNlX2Vhc3RpbmcnLCB0b01ldGVyXSxcbiAgICAgICAgWyd5MCcsICdmYWxzZV9ub3J0aGluZycsIHRvTWV0ZXJdLFxuICAgICAgICBbJ2xvbmcwJywgJ2NlbnRyYWxfbWVyaWRpYW4nLCBkMnJdLFxuICAgICAgICBbJ2xhdDAnLCAnbGF0aXR1ZGVfb2Zfb3JpZ2luJywgZDJyXSxcbiAgICAgICAgWydsYXQwJywgJ3N0YW5kYXJkX3BhcmFsbGVsXzEnLCBkMnJdLFxuICAgICAgICBbJ2xhdDEnLCAnc3RhbmRhcmRfcGFyYWxsZWxfMScsIGQycl0sXG4gICAgICAgIFsnbGF0MicsICdzdGFuZGFyZF9wYXJhbGxlbF8yJywgZDJyXSxcbiAgICAgICAgWydhemltdXRoJywgJ0F6aW11dGgnXSxcbiAgICAgICAgWydhbHBoYScsICdhemltdXRoJywgZDJyXSxcbiAgICAgICAgWydzcnNDb2RlJywgJ25hbWUnXVxuICAgICAgXTtcbiAgICAgIGxpc3QuZm9yRWFjaChyZW5hbWVyKTtcbiAgICAgIGlmICghd2t0LmxvbmcwICYmIHdrdC5sb25nYyAmJiAod2t0LnByb2pOYW1lID09PSAnQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEnIHx8IHdrdC5wcm9qTmFtZSA9PT0gJ0xhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEnKSkge1xuICAgICAgICB3a3QubG9uZzAgPSB3a3QubG9uZ2M7XG4gICAgICB9XG4gICAgICBpZiAoIXdrdC5sYXRfdHMgJiYgd2t0LmxhdDEgJiYgKHdrdC5wcm9qTmFtZSA9PT0gJ1N0ZXJlb2dyYXBoaWNfU291dGhfUG9sZScgfHwgd2t0LnByb2pOYW1lID09PSAnUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKScpKSB7XG4gICAgICAgIHdrdC5sYXQwID0gZDJyKHdrdC5sYXQxID4gMCA/IDkwIDogLTkwKTtcbiAgICAgICAgd2t0LmxhdF90cyA9IHdrdC5sYXQxO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgd2t0ID0gZnVuY3Rpb24od2t0KSB7XG4gICAgICB2YXIgbGlzcCA9IHBhcnNlU3RyaW5nKHdrdCk7XG4gICAgICB2YXIgdHlwZSA9IGxpc3Auc2hpZnQoKTtcbiAgICAgIHZhciBuYW1lID0gbGlzcC5zaGlmdCgpO1xuICAgICAgbGlzcC51bnNoaWZ0KFsnbmFtZScsIG5hbWVdKTtcbiAgICAgIGxpc3AudW5zaGlmdChbJ3R5cGUnLCB0eXBlXSk7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBzRXhwcihsaXNwLCBvYmopO1xuICAgICAgY2xlYW5XS1Qob2JqKTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGRlZnMobmFtZSkge1xuICAgICAgLypnbG9iYWwgY29uc29sZSovXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICB2YXIgZGVmID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAodHlwZW9mIGRlZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoZGVmLmNoYXJBdCgwKSA9PT0gJysnKSB7XG4gICAgICAgICAgICBkZWZzW25hbWVdID0gcGFyc2VQcm9qKGFyZ3VtZW50c1sxXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVmc1tuYW1lXSA9IHdrdChhcmd1bWVudHNbMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZzW25hbWVdID0gZGVmO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIG5hbWUubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgICAgIGRlZnMuYXBwbHkodGhhdCwgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZGVmcyh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAobmFtZSBpbiBkZWZzKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmc1tuYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoJ0VQU0cnIGluIG5hbWUpIHtcbiAgICAgICAgICBkZWZzWydFUFNHOicgKyBuYW1lLkVQU0ddID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgnRVNSSScgaW4gbmFtZSkge1xuICAgICAgICAgIGRlZnNbJ0VTUkk6JyArIG5hbWUuRVNSSV0gPSBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCdJQVUyMDAwJyBpbiBuYW1lKSB7XG4gICAgICAgICAgZGVmc1snSUFVMjAwMDonICsgbmFtZS5JQVUyMDAwXSA9IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2cobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG5cbiAgICB9XG4gICAgZ2xvYmFscyhkZWZzKTtcblxuICAgIGZ1bmN0aW9uIHRlc3RPYmooY29kZSl7XG4gICAgICByZXR1cm4gdHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0RGVmKGNvZGUpe1xuICAgICAgcmV0dXJuIGNvZGUgaW4gZGVmcztcbiAgICB9XG4gICAgIHZhciBjb2RlV29yZHMgPSBbJ1BST0pFQ1RFRENSUycsICdQUk9KQ1JTJywgJ0dFT0dDUycsJ0dFT0NDUycsJ1BST0pDUycsJ0xPQ0FMX0NTJywgJ0dFT0RDUlMnLCAnR0VPREVUSUNDUlMnLCAnR0VPREVUSUNEQVRVTScsICdFTkdDUlMnLCAnRU5HSU5FRVJJTkdDUlMnXTtcbiAgICBmdW5jdGlvbiB0ZXN0V0tUKGNvZGUpe1xuICAgICAgcmV0dXJuIGNvZGVXb3Jkcy5zb21lKGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICAgIHJldHVybiBjb2RlLmluZGV4T2Yod29yZCkgPiAtMTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgY29kZXMgPSBbJzM4NTcnLCAnOTAwOTEzJywgJzM3ODUnLCAnMTAyMTEzJ107XG4gICAgZnVuY3Rpb24gY2hlY2tNZXJjYXRvcihpdGVtKSB7XG4gICAgICB2YXIgYXV0aCA9IG1hdGNoKGl0ZW0sICdhdXRob3JpdHknKTtcbiAgICAgIGlmICghYXV0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29kZSA9IG1hdGNoKGF1dGgsICdlcHNnJyk7XG4gICAgICByZXR1cm4gY29kZSAmJiBjb2Rlcy5pbmRleE9mKGNvZGUpID4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrUHJvalN0cihpdGVtKSB7XG4gICAgICB2YXIgZXh0ID0gbWF0Y2goaXRlbSwgJ2V4dGVuc2lvbicpO1xuICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoKGV4dCwgJ3Byb2o0Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RQcm9qKGNvZGUpe1xuICAgICAgcmV0dXJuIGNvZGVbMF0gPT09ICcrJztcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2UoY29kZSl7XG4gICAgICBpZiAodGVzdE9iaihjb2RlKSkge1xuICAgICAgICAvL2NoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgV0tUIHN0cmluZ1xuICAgICAgICBpZiAodGVzdERlZihjb2RlKSkge1xuICAgICAgICAgIHJldHVybiBkZWZzW2NvZGVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXN0V0tUKGNvZGUpKSB7XG4gICAgICAgICAgdmFyIG91dCA9IHdrdChjb2RlKTtcbiAgICAgICAgICAvLyB0ZXN0IG9mIHNwZXRpYWwgY2FzZSwgZHVlIHRvIHRoaXMgYmVpbmcgYSB2ZXJ5IGNvbW1vbiBhbmQgb2Z0ZW4gbWFsZm9ybWVkXG4gICAgICAgICAgaWYgKGNoZWNrTWVyY2F0b3Iob3V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZnNbJ0VQU0c6Mzg1NyddO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbWF5YmVQcm9qU3RyID0gY2hlY2tQcm9qU3RyKG91dCk7XG4gICAgICAgICAgaWYgKG1heWJlUHJvalN0cikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUHJvaihtYXliZVByb2pTdHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXN0UHJvaihjb2RlKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVByb2ooY29kZSk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gY29kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZXh0ZW5kID0gZnVuY3Rpb24oZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbiB8fCB7fTtcbiAgICAgIHZhciB2YWx1ZSwgcHJvcGVydHk7XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gZGVzdGluYXRpb247XG4gICAgICB9XG4gICAgICBmb3IgKHByb3BlcnR5IGluIHNvdXJjZSkge1xuICAgICAgICB2YWx1ZSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9O1xuXG4gICAgdmFyIG1zZm56ID0gZnVuY3Rpb24oZWNjZW50LCBzaW5waGksIGNvc3BoaSkge1xuICAgICAgdmFyIGNvbiA9IGVjY2VudCAqIHNpbnBoaTtcbiAgICAgIHJldHVybiBjb3NwaGkgLyAoTWF0aC5zcXJ0KDEgLSBjb24gKiBjb24pKTtcbiAgICB9O1xuXG4gICAgdmFyIHNpZ24gPSBmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4geDwwID8gLTEgOiAxO1xuICAgIH07XG5cbiAgICB2YXIgYWRqdXN0X2xvbiA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiAoTWF0aC5hYnMoeCkgPD0gU1BJKSA/IHggOiAoeCAtIChzaWduKHgpICogVFdPX1BJKSk7XG4gICAgfTtcblxuICAgIHZhciB0c2ZueiA9IGZ1bmN0aW9uKGVjY2VudCwgcGhpLCBzaW5waGkpIHtcbiAgICAgIHZhciBjb24gPSBlY2NlbnQgKiBzaW5waGk7XG4gICAgICB2YXIgY29tID0gMC41ICogZWNjZW50O1xuICAgICAgY29uID0gTWF0aC5wb3coKCgxIC0gY29uKSAvICgxICsgY29uKSksIGNvbSk7XG4gICAgICByZXR1cm4gKE1hdGgudGFuKDAuNSAqIChIQUxGX1BJIC0gcGhpKSkgLyBjb24pO1xuICAgIH07XG5cbiAgICB2YXIgcGhpMnogPSBmdW5jdGlvbihlY2NlbnQsIHRzKSB7XG4gICAgICB2YXIgZWNjbnRoID0gMC41ICogZWNjZW50O1xuICAgICAgdmFyIGNvbiwgZHBoaTtcbiAgICAgIHZhciBwaGkgPSBIQUxGX1BJIC0gMiAqIE1hdGguYXRhbih0cyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSAxNTsgaSsrKSB7XG4gICAgICAgIGNvbiA9IGVjY2VudCAqIE1hdGguc2luKHBoaSk7XG4gICAgICAgIGRwaGkgPSBIQUxGX1BJIC0gMiAqIE1hdGguYXRhbih0cyAqIChNYXRoLnBvdygoKDEgLSBjb24pIC8gKDEgKyBjb24pKSwgZWNjbnRoKSkpIC0gcGhpO1xuICAgICAgICBwaGkgKz0gZHBoaTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRwaGkpIDw9IDAuMDAwMDAwMDAwMSkge1xuICAgICAgICAgIHJldHVybiBwaGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vY29uc29sZS5sb2coXCJwaGkyeiBoYXMgTm9Db252ZXJnZW5jZVwiKTtcbiAgICAgIHJldHVybiAtOTk5OTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBjb24gPSB0aGlzLmIgLyB0aGlzLmE7XG4gICAgICB0aGlzLmVzID0gMSAtIGNvbiAqIGNvbjtcbiAgICAgIGlmKCEoJ3gwJyBpbiB0aGlzKSl7XG4gICAgICAgIHRoaXMueDAgPSAwO1xuICAgICAgfVxuICAgICAgaWYoISgneTAnIGluIHRoaXMpKXtcbiAgICAgICAgdGhpcy55MCA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLmUgPSBNYXRoLnNxcnQodGhpcy5lcyk7XG4gICAgICBpZiAodGhpcy5sYXRfdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgICAgICAgdGhpcy5rMCA9IE1hdGguY29zKHRoaXMubGF0X3RzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmswID0gbXNmbnoodGhpcy5lLCBNYXRoLnNpbih0aGlzLmxhdF90cyksIE1hdGguY29zKHRoaXMubGF0X3RzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMuazApIHtcbiAgICAgICAgICBpZiAodGhpcy5rKSB7XG4gICAgICAgICAgICB0aGlzLmswID0gdGhpcy5rO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuazAgPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qIE1lcmNhdG9yIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgZnVuY3Rpb24gZm9yd2FyZChwKSB7XG4gICAgICB2YXIgbG9uID0gcC54O1xuICAgICAgdmFyIGxhdCA9IHAueTtcbiAgICAgIC8vIGNvbnZlcnQgdG8gcmFkaWFuc1xuICAgICAgaWYgKGxhdCAqIFIyRCA+IDkwICYmIGxhdCAqIFIyRCA8IC05MCAmJiBsb24gKiBSMkQgPiAxODAgJiYgbG9uICogUjJEIDwgLTE4MCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHgsIHk7XG4gICAgICBpZiAoTWF0aC5hYnMoTWF0aC5hYnMobGF0KSAtIEhBTEZfUEkpIDw9IEVQU0xOKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnNwaGVyZSkge1xuICAgICAgICAgIHggPSB0aGlzLngwICsgdGhpcy5hICogdGhpcy5rMCAqIGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gICAgICAgICAgeSA9IHRoaXMueTAgKyB0aGlzLmEgKiB0aGlzLmswICogTWF0aC5sb2coTWF0aC50YW4oRk9SVFBJICsgMC41ICogbGF0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHNpbnBoaSA9IE1hdGguc2luKGxhdCk7XG4gICAgICAgICAgdmFyIHRzID0gdHNmbnoodGhpcy5lLCBsYXQsIHNpbnBoaSk7XG4gICAgICAgICAgeCA9IHRoaXMueDAgKyB0aGlzLmEgKiB0aGlzLmswICogYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgICAgICB5ID0gdGhpcy55MCAtIHRoaXMuYSAqIHRoaXMuazAgKiBNYXRoLmxvZyh0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcC54ID0geDtcbiAgICAgICAgcC55ID0geTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogTWVyY2F0b3IgaW52ZXJzZSBlcXVhdGlvbnMtLW1hcHBpbmcgeCx5IHRvIGxhdC9sb25nXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gaW52ZXJzZShwKSB7XG5cbiAgICAgIHZhciB4ID0gcC54IC0gdGhpcy54MDtcbiAgICAgIHZhciB5ID0gcC55IC0gdGhpcy55MDtcbiAgICAgIHZhciBsb24sIGxhdDtcblxuICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgICAgIGxhdCA9IEhBTEZfUEkgLSAyICogTWF0aC5hdGFuKE1hdGguZXhwKC15IC8gKHRoaXMuYSAqIHRoaXMuazApKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRzID0gTWF0aC5leHAoLXkgLyAodGhpcy5hICogdGhpcy5rMCkpO1xuICAgICAgICBsYXQgPSBwaGkyeih0aGlzLmUsIHRzKTtcbiAgICAgICAgaWYgKGxhdCA9PT0gLTk5OTkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgeCAvICh0aGlzLmEgKiB0aGlzLmswKSk7XG5cbiAgICAgIHAueCA9IGxvbjtcbiAgICAgIHAueSA9IGxhdDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQxID0gW1wiTWVyY2F0b3JcIiwgXCJQb3B1bGFyIFZpc3VhbGlzYXRpb24gUHNldWRvIE1lcmNhdG9yXCIsIFwiTWVyY2F0b3JfMVNQXCIsIFwiTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZVwiLCBcIm1lcmNcIl07XG4gICAgdmFyIG1lcmMgPSB7XG4gICAgICBpbml0OiBpbml0LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCxcbiAgICAgIGludmVyc2U6IGludmVyc2UsXG4gICAgICBuYW1lczogbmFtZXMkMVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbml0JDEoKSB7XG4gICAgICAvL25vLW9wIGZvciBsb25nbGF0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkocHQpIHtcbiAgICAgIHJldHVybiBwdDtcbiAgICB9XG4gICAgdmFyIG5hbWVzJDIgPSBbXCJsb25nbGF0XCIsIFwiaWRlbnRpdHlcIl07XG4gICAgdmFyIGxvbmdsYXQgPSB7XG4gICAgICBpbml0OiBpbml0JDEsXG4gICAgICBmb3J3YXJkOiBpZGVudGl0eSxcbiAgICAgIGludmVyc2U6IGlkZW50aXR5LFxuICAgICAgbmFtZXM6IG5hbWVzJDJcbiAgICB9O1xuXG4gICAgdmFyIHByb2pzID0gW21lcmMsIGxvbmdsYXRdO1xuICAgIHZhciBuYW1lcyA9IHt9O1xuICAgIHZhciBwcm9qU3RvcmUgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFkZChwcm9qLCBpKSB7XG4gICAgICB2YXIgbGVuID0gcHJvalN0b3JlLmxlbmd0aDtcbiAgICAgIGlmICghcHJvai5uYW1lcykge1xuICAgICAgICBjb25zb2xlLmxvZyhpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBwcm9qU3RvcmVbbGVuXSA9IHByb2o7XG4gICAgICBwcm9qLm5hbWVzLmZvckVhY2goZnVuY3Rpb24obikge1xuICAgICAgICBuYW1lc1tuLnRvTG93ZXJDYXNlKCldID0gbGVuO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXQobmFtZSkge1xuICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBuID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGVvZiBuYW1lc1tuXSAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvalN0b3JlW25hbWVzW25dXSkge1xuICAgICAgICByZXR1cm4gcHJvalN0b3JlW25hbWVzW25dXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgIHByb2pzLmZvckVhY2goYWRkKTtcbiAgICB9XG4gICAgdmFyIHByb2plY3Rpb25zID0ge1xuICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgYWRkOiBhZGQsXG4gICAgICBnZXQ6IGdldFxuICAgIH07XG5cbiAgICB2YXIgZXhwb3J0cyQyID0ge307XG4gICAgZXhwb3J0cyQyLk1FUklUID0ge1xuICAgICAgYTogNjM3ODEzNy4wLFxuICAgICAgcmY6IDI5OC4yNTcsXG4gICAgICBlbGxpcHNlTmFtZTogXCJNRVJJVCAxOTgzXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLlNHUzg1ID0ge1xuICAgICAgYTogNjM3ODEzNi4wLFxuICAgICAgcmY6IDI5OC4yNTcsXG4gICAgICBlbGxpcHNlTmFtZTogXCJTb3ZpZXQgR2VvZGV0aWMgU3lzdGVtIDg1XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLkdSUzgwID0ge1xuICAgICAgYTogNjM3ODEzNy4wLFxuICAgICAgcmY6IDI5OC4yNTcyMjIxMDEsXG4gICAgICBlbGxpcHNlTmFtZTogXCJHUlMgMTk4MChJVUdHLCAxOTgwKVwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5JQVU3NiA9IHtcbiAgICAgIGE6IDYzNzgxNDAuMCxcbiAgICAgIHJmOiAyOTguMjU3LFxuICAgICAgZWxsaXBzZU5hbWU6IFwiSUFVIDE5NzZcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIuYWlyeSA9IHtcbiAgICAgIGE6IDYzNzc1NjMuMzk2LFxuICAgICAgYjogNjM1NjI1Ni45MTAsXG4gICAgICBlbGxpcHNlTmFtZTogXCJBaXJ5IDE4MzBcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIuQVBMNCA9IHtcbiAgICAgIGE6IDYzNzgxMzcsXG4gICAgICByZjogMjk4LjI1LFxuICAgICAgZWxsaXBzZU5hbWU6IFwiQXBwbC4gUGh5c2ljcy4gMTk2NVwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5OV0w5RCA9IHtcbiAgICAgIGE6IDYzNzgxNDUuMCxcbiAgICAgIHJmOiAyOTguMjUsXG4gICAgICBlbGxpcHNlTmFtZTogXCJOYXZhbCBXZWFwb25zIExhYi4sIDE5NjVcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIubW9kX2FpcnkgPSB7XG4gICAgICBhOiA2Mzc3MzQwLjE4OSxcbiAgICAgIGI6IDYzNTYwMzQuNDQ2LFxuICAgICAgZWxsaXBzZU5hbWU6IFwiTW9kaWZpZWQgQWlyeVwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5hbmRyYWUgPSB7XG4gICAgICBhOiA2Mzc3MTA0LjQzLFxuICAgICAgcmY6IDMwMC4wLFxuICAgICAgZWxsaXBzZU5hbWU6IFwiQW5kcmFlIDE4NzYgKERlbi4sIEljbG5kLilcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIuYXVzdF9TQSA9IHtcbiAgICAgIGE6IDYzNzgxNjAuMCxcbiAgICAgIHJmOiAyOTguMjUsXG4gICAgICBlbGxpcHNlTmFtZTogXCJBdXN0cmFsaWFuIE5hdGwgJiBTLiBBbWVyLiAxOTY5XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLkdSUzY3ID0ge1xuICAgICAgYTogNjM3ODE2MC4wLFxuICAgICAgcmY6IDI5OC4yNDcxNjc0MjcwLFxuICAgICAgZWxsaXBzZU5hbWU6IFwiR1JTIDY3KElVR0cgMTk2NylcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIuYmVzc2VsID0ge1xuICAgICAgYTogNjM3NzM5Ny4xNTUsXG4gICAgICByZjogMjk5LjE1MjgxMjgsXG4gICAgICBlbGxpcHNlTmFtZTogXCJCZXNzZWwgMTg0MVwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5iZXNzX25hbSA9IHtcbiAgICAgIGE6IDYzNzc0ODMuODY1LFxuICAgICAgcmY6IDI5OS4xNTI4MTI4LFxuICAgICAgZWxsaXBzZU5hbWU6IFwiQmVzc2VsIDE4NDEgKE5hbWliaWEpXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmNscms2NiA9IHtcbiAgICAgIGE6IDYzNzgyMDYuNCxcbiAgICAgIGI6IDYzNTY1ODMuOCxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkNsYXJrZSAxODY2XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmNscms4MCA9IHtcbiAgICAgIGE6IDYzNzgyNDkuMTQ1LFxuICAgICAgcmY6IDI5My40NjYzLFxuICAgICAgZWxsaXBzZU5hbWU6IFwiQ2xhcmtlIDE4ODAgbW9kLlwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5jbHJrNTggPSB7XG4gICAgICBhOiA2Mzc4MjkzLjY0NTIwODc1OSxcbiAgICAgIHJmOiAyOTQuMjYwNjc2MzY5MjY1NCxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkNsYXJrZSAxODU4XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLkNQTSA9IHtcbiAgICAgIGE6IDYzNzU3MzguNyxcbiAgICAgIHJmOiAzMzQuMjksXG4gICAgICBlbGxpcHNlTmFtZTogXCJDb21tLiBkZXMgUG9pZHMgZXQgTWVzdXJlcyAxNzk5XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmRlbG1iciA9IHtcbiAgICAgIGE6IDYzNzY0MjguMCxcbiAgICAgIHJmOiAzMTEuNSxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkRlbGFtYnJlIDE4MTAgKEJlbGdpdW0pXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmVuZ2VsaXMgPSB7XG4gICAgICBhOiA2Mzc4MTM2LjA1LFxuICAgICAgcmY6IDI5OC4yNTY2LFxuICAgICAgZWxsaXBzZU5hbWU6IFwiRW5nZWxpcyAxOTg1XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmV2cnN0MzAgPSB7XG4gICAgICBhOiA2Mzc3Mjc2LjM0NSxcbiAgICAgIHJmOiAzMDAuODAxNyxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkV2ZXJlc3QgMTgzMFwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5ldnJzdDQ4ID0ge1xuICAgICAgYTogNjM3NzMwNC4wNjMsXG4gICAgICByZjogMzAwLjgwMTcsXG4gICAgICBlbGxpcHNlTmFtZTogXCJFdmVyZXN0IDE5NDhcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIuZXZyc3Q1NiA9IHtcbiAgICAgIGE6IDYzNzczMDEuMjQzLFxuICAgICAgcmY6IDMwMC44MDE3LFxuICAgICAgZWxsaXBzZU5hbWU6IFwiRXZlcmVzdCAxOTU2XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmV2cnN0NjkgPSB7XG4gICAgICBhOiA2Mzc3Mjk1LjY2NCxcbiAgICAgIHJmOiAzMDAuODAxNyxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkV2ZXJlc3QgMTk2OVwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5ldnJzdFNTID0ge1xuICAgICAgYTogNjM3NzI5OC41NTYsXG4gICAgICByZjogMzAwLjgwMTcsXG4gICAgICBlbGxpcHNlTmFtZTogXCJFdmVyZXN0IChTYWJhaCAmIFNhcmF3YWspXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmZzY2hyNjAgPSB7XG4gICAgICBhOiA2Mzc4MTY2LjAsXG4gICAgICByZjogMjk4LjMsXG4gICAgICBlbGxpcHNlTmFtZTogXCJGaXNjaGVyIChNZXJjdXJ5IERhdHVtKSAxOTYwXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmZzY2hyNjBtID0ge1xuICAgICAgYTogNjM3ODE1NS4wLFxuICAgICAgcmY6IDI5OC4zLFxuICAgICAgZWxsaXBzZU5hbWU6IFwiRmlzY2hlciAxOTYwXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmZzY2hyNjggPSB7XG4gICAgICBhOiA2Mzc4MTUwLjAsXG4gICAgICByZjogMjk4LjMsXG4gICAgICBlbGxpcHNlTmFtZTogXCJGaXNjaGVyIDE5NjhcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIuaGVsbWVydCA9IHtcbiAgICAgIGE6IDYzNzgyMDAuMCxcbiAgICAgIHJmOiAyOTguMyxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkhlbG1lcnQgMTkwNlwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5ob3VnaCA9IHtcbiAgICAgIGE6IDYzNzgyNzAuMCxcbiAgICAgIHJmOiAyOTcuMCxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkhvdWdoXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmludGwgPSB7XG4gICAgICBhOiA2Mzc4Mzg4LjAsXG4gICAgICByZjogMjk3LjAsXG4gICAgICBlbGxpcHNlTmFtZTogXCJJbnRlcm5hdGlvbmFsIDE5MDkgKEhheWZvcmQpXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmthdWxhID0ge1xuICAgICAgYTogNjM3ODE2My4wLFxuICAgICAgcmY6IDI5OC4yNCxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkthdWxhIDE5NjFcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIubGVyY2ggPSB7XG4gICAgICBhOiA2Mzc4MTM5LjAsXG4gICAgICByZjogMjk4LjI1NyxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIkxlcmNoIDE5NzlcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIubXBydHMgPSB7XG4gICAgICBhOiA2Mzk3MzAwLjAsXG4gICAgICByZjogMTkxLjAsXG4gICAgICBlbGxpcHNlTmFtZTogXCJNYXVwZXJ0aXVzIDE3MzhcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIubmV3X2ludGwgPSB7XG4gICAgICBhOiA2Mzc4MTU3LjUsXG4gICAgICBiOiA2MzU2NzcyLjIsXG4gICAgICBlbGxpcHNlTmFtZTogXCJOZXcgSW50ZXJuYXRpb25hbCAxOTY3XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLnBsZXNzaXMgPSB7XG4gICAgICBhOiA2Mzc2NTIzLjAsXG4gICAgICByZjogNjM1NTg2My4wLFxuICAgICAgZWxsaXBzZU5hbWU6IFwiUGxlc3NpcyAxODE3IChGcmFuY2UpXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQyLmtyYXNzID0ge1xuICAgICAgYTogNjM3ODI0NS4wLFxuICAgICAgcmY6IDI5OC4zLFxuICAgICAgZWxsaXBzZU5hbWU6IFwiS3Jhc3NvdnNreSwgMTk0MlwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5TRWFzaWEgPSB7XG4gICAgICBhOiA2Mzc4MTU1LjAsXG4gICAgICBiOiA2MzU2NzczLjMyMDUsXG4gICAgICBlbGxpcHNlTmFtZTogXCJTb3V0aGVhc3QgQXNpYVwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi53YWxiZWNrID0ge1xuICAgICAgYTogNjM3Njg5Ni4wLFxuICAgICAgYjogNjM1NTgzNC44NDY3LFxuICAgICAgZWxsaXBzZU5hbWU6IFwiV2FsYmVja1wiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5XR1M2MCA9IHtcbiAgICAgIGE6IDYzNzgxNjUuMCxcbiAgICAgIHJmOiAyOTguMyxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIldHUyA2MFwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5XR1M2NiA9IHtcbiAgICAgIGE6IDYzNzgxNDUuMCxcbiAgICAgIHJmOiAyOTguMjUsXG4gICAgICBlbGxpcHNlTmFtZTogXCJXR1MgNjZcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDIuV0dTNyA9IHtcbiAgICAgIGE6IDYzNzgxMzUuMCxcbiAgICAgIHJmOiAyOTguMjYsXG4gICAgICBlbGxpcHNlTmFtZTogXCJXR1MgNzJcIlxuICAgIH07XG5cbiAgICB2YXIgV0dTODQgPSBleHBvcnRzJDIuV0dTODQgPSB7XG4gICAgICBhOiA2Mzc4MTM3LjAsXG4gICAgICByZjogMjk4LjI1NzIyMzU2MyxcbiAgICAgIGVsbGlwc2VOYW1lOiBcIldHUyA4NFwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMi5zcGhlcmUgPSB7XG4gICAgICBhOiA2MzcwOTk3LjAsXG4gICAgICBiOiA2MzcwOTk3LjAsXG4gICAgICBlbGxpcHNlTmFtZTogXCJOb3JtYWwgU3BoZXJlIChyPTYzNzA5OTcpXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZWNjZW50cmljaXR5KGEsIGIsIHJmLCBSX0EpIHtcbiAgICAgIHZhciBhMiA9IGEgKiBhOyAvLyB1c2VkIGluIGdlb2NlbnRyaWNcbiAgICAgIHZhciBiMiA9IGIgKiBiOyAvLyB1c2VkIGluIGdlb2NlbnRyaWNcbiAgICAgIHZhciBlcyA9IChhMiAtIGIyKSAvIGEyOyAvLyBlIF4gMlxuICAgICAgdmFyIGUgPSAwO1xuICAgICAgaWYgKFJfQSkge1xuICAgICAgICBhICo9IDEgLSBlcyAqIChTSVhUSCArIGVzICogKFJBNCArIGVzICogUkE2KSk7XG4gICAgICAgIGEyID0gYSAqIGE7XG4gICAgICAgIGVzID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUgPSBNYXRoLnNxcnQoZXMpOyAvLyBlY2NlbnRyaWNpdHlcbiAgICAgIH1cbiAgICAgIHZhciBlcDIgPSAoYTIgLSBiMikgLyBiMjsgLy8gdXNlZCBpbiBnZW9jZW50cmljXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlczogZXMsXG4gICAgICAgIGU6IGUsXG4gICAgICAgIGVwMjogZXAyXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzcGhlcmUoYSwgYiwgcmYsIGVsbHBzLCBzcGhlcmUpIHtcbiAgICAgIGlmICghYSkgeyAvLyBkbyB3ZSBoYXZlIGFuIGVsbGlwc29pZD9cbiAgICAgICAgdmFyIGVsbGlwc2UgPSBtYXRjaChleHBvcnRzJDIsIGVsbHBzKTtcbiAgICAgICAgaWYgKCFlbGxpcHNlKSB7XG4gICAgICAgICAgZWxsaXBzZSA9IFdHUzg0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBlbGxpcHNlLmE7XG4gICAgICAgIGIgPSBlbGxpcHNlLmI7XG4gICAgICAgIHJmID0gZWxsaXBzZS5yZjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJmICYmICFiKSB7XG4gICAgICAgIGIgPSAoMS4wIC0gMS4wIC8gcmYpICogYTtcbiAgICAgIH1cbiAgICAgIGlmIChyZiA9PT0gMCB8fCBNYXRoLmFicyhhIC0gYikgPCBFUFNMTikge1xuICAgICAgICBzcGhlcmUgPSB0cnVlO1xuICAgICAgICBiID0gYTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGE6IGEsXG4gICAgICAgIGI6IGIsXG4gICAgICAgIHJmOiByZixcbiAgICAgICAgc3BoZXJlOiBzcGhlcmVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGV4cG9ydHMkMyA9IHt9O1xuICAgIGV4cG9ydHMkMy53Z3M4NCA9IHtcbiAgICAgIHRvd2dzODQ6IFwiMCwwLDBcIixcbiAgICAgIGVsbGlwc2U6IFwiV0dTODRcIixcbiAgICAgIGRhdHVtTmFtZTogXCJXR1M4NFwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMy5jaDE5MDMgPSB7XG4gICAgICB0b3dnczg0OiBcIjY3NC4zNzQsMTUuMDU2LDQwNS4zNDZcIixcbiAgICAgIGVsbGlwc2U6IFwiYmVzc2VsXCIsXG4gICAgICBkYXR1bU5hbWU6IFwic3dpc3NcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDMuZ2dyczg3ID0ge1xuICAgICAgdG93Z3M4NDogXCItMTk5Ljg3LDc0Ljc5LDI0Ni42MlwiLFxuICAgICAgZWxsaXBzZTogXCJHUlM4MFwiLFxuICAgICAgZGF0dW1OYW1lOiBcIkdyZWVrX0dlb2RldGljX1JlZmVyZW5jZV9TeXN0ZW1fMTk4N1wiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMy5uYWQ4MyA9IHtcbiAgICAgIHRvd2dzODQ6IFwiMCwwLDBcIixcbiAgICAgIGVsbGlwc2U6IFwiR1JTODBcIixcbiAgICAgIGRhdHVtTmFtZTogXCJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTgzXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQzLm5hZDI3ID0ge1xuICAgICAgbmFkZ3JpZHM6IFwiQGNvbnVzLEBhbGFza2EsQG50djJfMC5nc2IsQG50djFfY2FuLmRhdFwiLFxuICAgICAgZWxsaXBzZTogXCJjbHJrNjZcIixcbiAgICAgIGRhdHVtTmFtZTogXCJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTI3XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQzLnBvdHNkYW0gPSB7XG4gICAgICB0b3dnczg0OiBcIjYwNi4wLDIzLjAsNDEzLjBcIixcbiAgICAgIGVsbGlwc2U6IFwiYmVzc2VsXCIsXG4gICAgICBkYXR1bU5hbWU6IFwiUG90c2RhbSBSYXVlbmJlcmcgMTk1MCBESEROXCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQzLmNhcnRoYWdlID0ge1xuICAgICAgdG93Z3M4NDogXCItMjYzLjAsNi4wLDQzMS4wXCIsXG4gICAgICBlbGxpcHNlOiBcImNsYXJrODBcIixcbiAgICAgIGRhdHVtTmFtZTogXCJDYXJ0aGFnZSAxOTM0IFR1bmlzaWFcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDMuaGVybWFubnNrb2dlbCA9IHtcbiAgICAgIHRvd2dzODQ6IFwiNjUzLjAsLTIxMi4wLDQ0OS4wXCIsXG4gICAgICBlbGxpcHNlOiBcImJlc3NlbFwiLFxuICAgICAgZGF0dW1OYW1lOiBcIkhlcm1hbm5za29nZWxcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDMub3NuaTUyID0ge1xuICAgICAgdG93Z3M4NDogXCI0ODIuNTMwLC0xMzAuNTk2LDU2NC41NTcsLTEuMDQyLC0wLjIxNCwtMC42MzEsOC4xNVwiLFxuICAgICAgZWxsaXBzZTogXCJhaXJ5XCIsXG4gICAgICBkYXR1bU5hbWU6IFwiSXJpc2ggTmF0aW9uYWxcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDMuaXJlNjUgPSB7XG4gICAgICB0b3dnczg0OiBcIjQ4Mi41MzAsLTEzMC41OTYsNTY0LjU1NywtMS4wNDIsLTAuMjE0LC0wLjYzMSw4LjE1XCIsXG4gICAgICBlbGxpcHNlOiBcIm1vZF9haXJ5XCIsXG4gICAgICBkYXR1bU5hbWU6IFwiSXJlbGFuZCAxOTY1XCJcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQzLnJhc3NhZGlyYW4gPSB7XG4gICAgICB0b3dnczg0OiBcIi0xMzMuNjMsLTE1Ny41LC0xNTguNjJcIixcbiAgICAgIGVsbGlwc2U6IFwiaW50bFwiLFxuICAgICAgZGF0dW1OYW1lOiBcIlJhc3NhZGlyYW5cIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDMubnpnZDQ5ID0ge1xuICAgICAgdG93Z3M4NDogXCI1OS40NywtNS4wNCwxODcuNDQsMC40NywtMC4xLDEuMDI0LC00LjU5OTNcIixcbiAgICAgIGVsbGlwc2U6IFwiaW50bFwiLFxuICAgICAgZGF0dW1OYW1lOiBcIk5ldyBaZWFsYW5kIEdlb2RldGljIERhdHVtIDE5NDlcIlxuICAgIH07XG5cbiAgICBleHBvcnRzJDMub3NnYjM2ID0ge1xuICAgICAgdG93Z3M4NDogXCI0NDYuNDQ4LC0xMjUuMTU3LDU0Mi4wNjAsMC4xNTAyLDAuMjQ3MCwwLjg0MjEsLTIwLjQ4OTRcIixcbiAgICAgIGVsbGlwc2U6IFwiYWlyeVwiLFxuICAgICAgZGF0dW1OYW1lOiBcIkFpcnkgMTgzMFwiXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMy5zX2p0c2sgPSB7XG4gICAgICB0b3dnczg0OiBcIjU4OSw3Niw0ODBcIixcbiAgICAgIGVsbGlwc2U6ICdiZXNzZWwnLFxuICAgICAgZGF0dW1OYW1lOiAnUy1KVFNLIChGZXJybyknXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMy5iZWR1YXJhbSA9IHtcbiAgICAgIHRvd2dzODQ6ICctMTA2LC04NywxODgnLFxuICAgICAgZWxsaXBzZTogJ2Nscms4MCcsXG4gICAgICBkYXR1bU5hbWU6ICdCZWR1YXJhbSdcbiAgICB9O1xuXG4gICAgZXhwb3J0cyQzLmd1bnVuZ19zZWdhcmEgPSB7XG4gICAgICB0b3dnczg0OiAnLTQwMyw2ODQsNDEnLFxuICAgICAgZWxsaXBzZTogJ2Jlc3NlbCcsXG4gICAgICBkYXR1bU5hbWU6ICdHdW51bmcgU2VnYXJhIEpha2FydGEnXG4gICAgfTtcblxuICAgIGV4cG9ydHMkMy5ybmI3MiA9IHtcbiAgICAgIHRvd2dzODQ6IFwiMTA2Ljg2OSwtNTIuMjk3OCwxMDMuNzI0LC0wLjMzNjU3LDAuNDU2OTU1LC0xLjg0MjE4LDFcIixcbiAgICAgIGVsbGlwc2U6IFwiaW50bFwiLFxuICAgICAgZGF0dW1OYW1lOiBcIlJlc2VhdSBOYXRpb25hbCBCZWxnZSAxOTcyXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZGF0dW0oZGF0dW1Db2RlLCBkYXR1bV9wYXJhbXMsIGEsIGIsIGVzLCBlcDIpIHtcbiAgICAgIHZhciBvdXQgPSB7fTtcblxuICAgICAgaWYgKGRhdHVtQ29kZSA9PT0gdW5kZWZpbmVkIHx8IGRhdHVtQ29kZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIG91dC5kYXR1bV90eXBlID0gUEpEX05PREFUVU07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQuZGF0dW1fdHlwZSA9IFBKRF9XR1M4NDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdHVtX3BhcmFtcykge1xuICAgICAgICBvdXQuZGF0dW1fcGFyYW1zID0gZGF0dW1fcGFyYW1zLm1hcChwYXJzZUZsb2F0KTtcbiAgICAgICAgaWYgKG91dC5kYXR1bV9wYXJhbXNbMF0gIT09IDAgfHwgb3V0LmRhdHVtX3BhcmFtc1sxXSAhPT0gMCB8fCBvdXQuZGF0dW1fcGFyYW1zWzJdICE9PSAwKSB7XG4gICAgICAgICAgb3V0LmRhdHVtX3R5cGUgPSBQSkRfM1BBUkFNO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXQuZGF0dW1fcGFyYW1zLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICBpZiAob3V0LmRhdHVtX3BhcmFtc1szXSAhPT0gMCB8fCBvdXQuZGF0dW1fcGFyYW1zWzRdICE9PSAwIHx8IG91dC5kYXR1bV9wYXJhbXNbNV0gIT09IDAgfHwgb3V0LmRhdHVtX3BhcmFtc1s2XSAhPT0gMCkge1xuICAgICAgICAgICAgb3V0LmRhdHVtX3R5cGUgPSBQSkRfN1BBUkFNO1xuICAgICAgICAgICAgb3V0LmRhdHVtX3BhcmFtc1szXSAqPSBTRUNfVE9fUkFEO1xuICAgICAgICAgICAgb3V0LmRhdHVtX3BhcmFtc1s0XSAqPSBTRUNfVE9fUkFEO1xuICAgICAgICAgICAgb3V0LmRhdHVtX3BhcmFtc1s1XSAqPSBTRUNfVE9fUkFEO1xuICAgICAgICAgICAgb3V0LmRhdHVtX3BhcmFtc1s2XSA9IChvdXQuZGF0dW1fcGFyYW1zWzZdIC8gMTAwMDAwMC4wKSArIDEuMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgb3V0LmEgPSBhOyAvL2RhdHVtIG9iamVjdCBhbHNvIHVzZXMgdGhlc2UgdmFsdWVzXG4gICAgICBvdXQuYiA9IGI7XG4gICAgICBvdXQuZXMgPSBlcztcbiAgICAgIG91dC5lcDIgPSBlcDI7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFByb2plY3Rpb24oc3JzQ29kZSxjYWxsYmFjaykge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb2plY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvamVjdGlvbihzcnNDb2RlKTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyb3Ipe1xuICAgICAgICBpZihlcnJvcil7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIganNvbiA9IHBhcnNlKHNyc0NvZGUpO1xuICAgICAgaWYodHlwZW9mIGpzb24gIT09ICdvYmplY3QnKXtcbiAgICAgICAgY2FsbGJhY2soc3JzQ29kZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBvdXJQcm9qID0gUHJvamVjdGlvbi5wcm9qZWN0aW9ucy5nZXQoanNvbi5wcm9qTmFtZSk7XG4gICAgICBpZighb3VyUHJvail7XG4gICAgICAgIGNhbGxiYWNrKHNyc0NvZGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoanNvbi5kYXR1bUNvZGUgJiYganNvbi5kYXR1bUNvZGUgIT09ICdub25lJykge1xuICAgICAgICB2YXIgZGF0dW1EZWYgPSBtYXRjaChleHBvcnRzJDMsIGpzb24uZGF0dW1Db2RlKTtcbiAgICAgICAgaWYgKGRhdHVtRGVmKSB7XG4gICAgICAgICAganNvbi5kYXR1bV9wYXJhbXMgPSBkYXR1bURlZi50b3dnczg0ID8gZGF0dW1EZWYudG93Z3M4NC5zcGxpdCgnLCcpIDogbnVsbDtcbiAgICAgICAgICBqc29uLmVsbHBzID0gZGF0dW1EZWYuZWxsaXBzZTtcbiAgICAgICAgICBqc29uLmRhdHVtTmFtZSA9IGRhdHVtRGVmLmRhdHVtTmFtZSA/IGRhdHVtRGVmLmRhdHVtTmFtZSA6IGpzb24uZGF0dW1Db2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBqc29uLmswID0ganNvbi5rMCB8fCAxLjA7XG4gICAgICBqc29uLmF4aXMgPSBqc29uLmF4aXMgfHwgJ2VudSc7XG4gICAgICBqc29uLmVsbHBzID0ganNvbi5lbGxwcyB8fCAnd2dzODQnO1xuICAgICAgdmFyIHNwaGVyZV8gPSBzcGhlcmUoanNvbi5hLCBqc29uLmIsIGpzb24ucmYsIGpzb24uZWxscHMsIGpzb24uc3BoZXJlKTtcbiAgICAgIHZhciBlY2MgPSBlY2NlbnRyaWNpdHkoc3BoZXJlXy5hLCBzcGhlcmVfLmIsIHNwaGVyZV8ucmYsIGpzb24uUl9BKTtcbiAgICAgIHZhciBkYXR1bU9iaiA9IGpzb24uZGF0dW0gfHwgZGF0dW0oanNvbi5kYXR1bUNvZGUsIGpzb24uZGF0dW1fcGFyYW1zLCBzcGhlcmVfLmEsIHNwaGVyZV8uYiwgZWNjLmVzLCBlY2MuZXAyKTtcblxuICAgICAgZXh0ZW5kKHRoaXMsIGpzb24pOyAvLyB0cmFuc2ZlciBldmVyeXRoaW5nIG92ZXIgZnJvbSB0aGUgcHJvamVjdGlvbiBiZWNhdXNlIHdlIGRvbid0IGtub3cgd2hhdCB3ZSdsbCBuZWVkXG4gICAgICBleHRlbmQodGhpcywgb3VyUHJvaik7IC8vIHRyYW5zZmVyIGFsbCB0aGUgbWV0aG9kcyBmcm9tIHRoZSBwcm9qZWN0aW9uXG5cbiAgICAgIC8vIGNvcHkgdGhlIDQgdGhpbmdzIG92ZXIgd2UgY2FsdWxhdGVkIGluIGRlcml2ZUNvbnN0YW50cy5zcGhlcmVcbiAgICAgIHRoaXMuYSA9IHNwaGVyZV8uYTtcbiAgICAgIHRoaXMuYiA9IHNwaGVyZV8uYjtcbiAgICAgIHRoaXMucmYgPSBzcGhlcmVfLnJmO1xuICAgICAgdGhpcy5zcGhlcmUgPSBzcGhlcmVfLnNwaGVyZTtcblxuICAgICAgLy8gY29weSB0aGUgMyB0aGluZ3Mgd2UgY2FsY3VsYXRlZCBpbiBkZXJpdmVDb25zdGFudHMuZWNjZW50cmljaXR5XG4gICAgICB0aGlzLmVzID0gZWNjLmVzO1xuICAgICAgdGhpcy5lID0gZWNjLmU7XG4gICAgICB0aGlzLmVwMiA9IGVjYy5lcDI7XG5cbiAgICAgIC8vIGFkZCBpbiB0aGUgZGF0dW0gb2JqZWN0XG4gICAgICB0aGlzLmRhdHVtID0gZGF0dW1PYmo7XG5cbiAgICAgIC8vIGluaXQgdGhlIHByb2plY3Rpb25cbiAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICAvLyBsZWdlY3kgY2FsbGJhY2sgZnJvbSBiYWNrIGluIHRoZSBkYXkgd2hlbiBpdCB3ZW50IHRvIHNwYXRpYWxyZWZlcmVuY2Uub3JnXG4gICAgICBjYWxsYmFjayhudWxsLCB0aGlzKTtcblxuICAgIH1cbiAgICBQcm9qZWN0aW9uLnByb2plY3Rpb25zID0gcHJvamVjdGlvbnM7XG4gICAgUHJvamVjdGlvbi5wcm9qZWN0aW9ucy5zdGFydCgpO1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVEYXR1bXMoc291cmNlLCBkZXN0KSB7XG4gICAgICBpZiAoc291cmNlLmRhdHVtX3R5cGUgIT09IGRlc3QuZGF0dW1fdHlwZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGZhbHNlLCBkYXR1bXMgYXJlIG5vdCBlcXVhbFxuICAgICAgfSBlbHNlIGlmIChzb3VyY2UuYSAhPT0gZGVzdC5hIHx8IE1hdGguYWJzKHNvdXJjZS5lcyAtIGRlc3QuZXMpID4gMC4wMDAwMDAwMDAwNTApIHtcbiAgICAgICAgLy8gdGhlIHRvbGVyYW5jZSBmb3IgZXMgaXMgdG8gZW5zdXJlIHRoYXQgR1JTODAgYW5kIFdHUzg0XG4gICAgICAgIC8vIGFyZSBjb25zaWRlcmVkIGlkZW50aWNhbFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZS5kYXR1bV90eXBlID09PSBQSkRfM1BBUkFNKSB7XG4gICAgICAgIHJldHVybiAoc291cmNlLmRhdHVtX3BhcmFtc1swXSA9PT0gZGVzdC5kYXR1bV9wYXJhbXNbMF0gJiYgc291cmNlLmRhdHVtX3BhcmFtc1sxXSA9PT0gZGVzdC5kYXR1bV9wYXJhbXNbMV0gJiYgc291cmNlLmRhdHVtX3BhcmFtc1syXSA9PT0gZGVzdC5kYXR1bV9wYXJhbXNbMl0pO1xuICAgICAgfSBlbHNlIGlmIChzb3VyY2UuZGF0dW1fdHlwZSA9PT0gUEpEXzdQQVJBTSkge1xuICAgICAgICByZXR1cm4gKHNvdXJjZS5kYXR1bV9wYXJhbXNbMF0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzBdICYmIHNvdXJjZS5kYXR1bV9wYXJhbXNbMV0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzFdICYmIHNvdXJjZS5kYXR1bV9wYXJhbXNbMl0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzJdICYmIHNvdXJjZS5kYXR1bV9wYXJhbXNbM10gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzNdICYmIHNvdXJjZS5kYXR1bV9wYXJhbXNbNF0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzRdICYmIHNvdXJjZS5kYXR1bV9wYXJhbXNbNV0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzVdICYmIHNvdXJjZS5kYXR1bV9wYXJhbXNbNl0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzZdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBkYXR1bXMgYXJlIGVxdWFsXG4gICAgICB9XG4gICAgfSAvLyBjc19jb21wYXJlX2RhdHVtcygpXG5cbiAgICAvKlxuICAgICAqIFRoZSBmdW5jdGlvbiBDb252ZXJ0X0dlb2RldGljX1RvX0dlb2NlbnRyaWMgY29udmVydHMgZ2VvZGV0aWMgY29vcmRpbmF0ZXNcbiAgICAgKiAobGF0aXR1ZGUsIGxvbmdpdHVkZSwgYW5kIGhlaWdodCkgdG8gZ2VvY2VudHJpYyBjb29yZGluYXRlcyAoWCwgWSwgWiksXG4gICAgICogYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IGVsbGlwc29pZCBwYXJhbWV0ZXJzLlxuICAgICAqXG4gICAgICogICAgTGF0aXR1ZGUgIDogR2VvZGV0aWMgbGF0aXR1ZGUgaW4gcmFkaWFucyAgICAgICAgICAgICAgICAgICAgIChpbnB1dClcbiAgICAgKiAgICBMb25naXR1ZGUgOiBHZW9kZXRpYyBsb25naXR1ZGUgaW4gcmFkaWFucyAgICAgICAgICAgICAgICAgICAgKGlucHV0KVxuICAgICAqICAgIEhlaWdodCAgICA6IEdlb2RldGljIGhlaWdodCwgaW4gbWV0ZXJzICAgICAgICAgICAgICAgICAgICAgICAoaW5wdXQpXG4gICAgICogICAgWCAgICAgICAgIDogQ2FsY3VsYXRlZCBHZW9jZW50cmljIFggY29vcmRpbmF0ZSwgaW4gbWV0ZXJzICAgIChvdXRwdXQpXG4gICAgICogICAgWSAgICAgICAgIDogQ2FsY3VsYXRlZCBHZW9jZW50cmljIFkgY29vcmRpbmF0ZSwgaW4gbWV0ZXJzICAgIChvdXRwdXQpXG4gICAgICogICAgWiAgICAgICAgIDogQ2FsY3VsYXRlZCBHZW9jZW50cmljIFogY29vcmRpbmF0ZSwgaW4gbWV0ZXJzICAgIChvdXRwdXQpXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZW9kZXRpY1RvR2VvY2VudHJpYyhwLCBlcywgYSkge1xuICAgICAgdmFyIExvbmdpdHVkZSA9IHAueDtcbiAgICAgIHZhciBMYXRpdHVkZSA9IHAueTtcbiAgICAgIHZhciBIZWlnaHQgPSBwLnogPyBwLnogOiAwOyAvL1ogdmFsdWUgbm90IGFsd2F5cyBzdXBwbGllZFxuXG4gICAgICB2YXIgUm47IC8qICBFYXJ0aCByYWRpdXMgYXQgbG9jYXRpb24gICovXG4gICAgICB2YXIgU2luX0xhdDsgLyogIE1hdGguc2luKExhdGl0dWRlKSAgKi9cbiAgICAgIHZhciBTaW4yX0xhdDsgLyogIFNxdWFyZSBvZiBNYXRoLnNpbihMYXRpdHVkZSkgICovXG4gICAgICB2YXIgQ29zX0xhdDsgLyogIE1hdGguY29zKExhdGl0dWRlKSAgKi9cblxuICAgICAgLypcbiAgICAgICAqKiBEb24ndCBibG93IHVwIGlmIExhdGl0dWRlIGlzIGp1c3QgYSBsaXR0bGUgb3V0IG9mIHRoZSB2YWx1ZVxuICAgICAgICoqIHJhbmdlIGFzIGl0IG1heSBqdXN0IGJlIGEgcm91bmRpbmcgaXNzdWUuICBBbHNvIHJlbW92ZWQgbG9uZ2l0dWRlXG4gICAgICAgKiogdGVzdCwgaXQgc2hvdWxkIGJlIHdyYXBwZWQgYnkgTWF0aC5jb3MoKSBhbmQgTWF0aC5zaW4oKS4gIE5GVyBmb3IgUFJPSi40LCBTZXAvMjAwMS5cbiAgICAgICAqL1xuICAgICAgaWYgKExhdGl0dWRlIDwgLUhBTEZfUEkgJiYgTGF0aXR1ZGUgPiAtMS4wMDEgKiBIQUxGX1BJKSB7XG4gICAgICAgIExhdGl0dWRlID0gLUhBTEZfUEk7XG4gICAgICB9IGVsc2UgaWYgKExhdGl0dWRlID4gSEFMRl9QSSAmJiBMYXRpdHVkZSA8IDEuMDAxICogSEFMRl9QSSkge1xuICAgICAgICBMYXRpdHVkZSA9IEhBTEZfUEk7XG4gICAgICB9IGVsc2UgaWYgKExhdGl0dWRlIDwgLUhBTEZfUEkpIHtcbiAgICAgICAgLyogTGF0aXR1ZGUgb3V0IG9mIHJhbmdlICovXG4gICAgICAgIC8vLi5yZXBvcnRFcnJvcignZ2VvY2VudDpsYXQgb3V0IG9mIHJhbmdlOicgKyBMYXRpdHVkZSk7XG4gICAgICAgIHJldHVybiB7IHg6IC1JbmZpbml0eSwgeTogLUluZmluaXR5LCB6OiBwLnogfTtcbiAgICAgIH0gZWxzZSBpZiAoTGF0aXR1ZGUgPiBIQUxGX1BJKSB7XG4gICAgICAgIC8qIExhdGl0dWRlIG91dCBvZiByYW5nZSAqL1xuICAgICAgICByZXR1cm4geyB4OiBJbmZpbml0eSwgeTogSW5maW5pdHksIHo6IHAueiB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoTG9uZ2l0dWRlID4gTWF0aC5QSSkge1xuICAgICAgICBMb25naXR1ZGUgLT0gKDIgKiBNYXRoLlBJKTtcbiAgICAgIH1cbiAgICAgIFNpbl9MYXQgPSBNYXRoLnNpbihMYXRpdHVkZSk7XG4gICAgICBDb3NfTGF0ID0gTWF0aC5jb3MoTGF0aXR1ZGUpO1xuICAgICAgU2luMl9MYXQgPSBTaW5fTGF0ICogU2luX0xhdDtcbiAgICAgIFJuID0gYSAvIChNYXRoLnNxcnQoMS4wZTAgLSBlcyAqIFNpbjJfTGF0KSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiAoUm4gKyBIZWlnaHQpICogQ29zX0xhdCAqIE1hdGguY29zKExvbmdpdHVkZSksXG4gICAgICAgIHk6IChSbiArIEhlaWdodCkgKiBDb3NfTGF0ICogTWF0aC5zaW4oTG9uZ2l0dWRlKSxcbiAgICAgICAgejogKChSbiAqICgxIC0gZXMpKSArIEhlaWdodCkgKiBTaW5fTGF0XG4gICAgICB9O1xuICAgIH0gLy8gY3NfZ2VvZGV0aWNfdG9fZ2VvY2VudHJpYygpXG5cbiAgICBmdW5jdGlvbiBnZW9jZW50cmljVG9HZW9kZXRpYyhwLCBlcywgYSwgYikge1xuICAgICAgLyogbG9jYWwgZGVmaW50aW9ucyBhbmQgdmFyaWFibGVzICovXG4gICAgICAvKiBlbmQtY3JpdGVyaXVtIG9mIGxvb3AsIGFjY3VyYWN5IG9mIHNpbihMYXRpdHVkZSkgKi9cbiAgICAgIHZhciBnZW5hdSA9IDFlLTEyO1xuICAgICAgdmFyIGdlbmF1MiA9IChnZW5hdSAqIGdlbmF1KTtcbiAgICAgIHZhciBtYXhpdGVyID0gMzA7XG5cbiAgICAgIHZhciBQOyAvKiBkaXN0YW5jZSBiZXR3ZWVuIHNlbWktbWlub3IgYXhpcyBhbmQgbG9jYXRpb24gKi9cbiAgICAgIHZhciBSUjsgLyogZGlzdGFuY2UgYmV0d2VlbiBjZW50ZXIgYW5kIGxvY2F0aW9uICovXG4gICAgICB2YXIgQ1Q7IC8qIHNpbiBvZiBnZW9jZW50cmljIGxhdGl0dWRlICovXG4gICAgICB2YXIgU1Q7IC8qIGNvcyBvZiBnZW9jZW50cmljIGxhdGl0dWRlICovXG4gICAgICB2YXIgUlg7XG4gICAgICB2YXIgUks7XG4gICAgICB2YXIgUk47IC8qIEVhcnRoIHJhZGl1cyBhdCBsb2NhdGlvbiAqL1xuICAgICAgdmFyIENQSEkwOyAvKiBjb3Mgb2Ygc3RhcnQgb3Igb2xkIGdlb2RldGljIGxhdGl0dWRlIGluIGl0ZXJhdGlvbnMgKi9cbiAgICAgIHZhciBTUEhJMDsgLyogc2luIG9mIHN0YXJ0IG9yIG9sZCBnZW9kZXRpYyBsYXRpdHVkZSBpbiBpdGVyYXRpb25zICovXG4gICAgICB2YXIgQ1BISTsgLyogY29zIG9mIHNlYXJjaGVkIGdlb2RldGljIGxhdGl0dWRlICovXG4gICAgICB2YXIgU1BISTsgLyogc2luIG9mIHNlYXJjaGVkIGdlb2RldGljIGxhdGl0dWRlICovXG4gICAgICB2YXIgU0RQSEk7IC8qIGVuZC1jcml0ZXJpdW06IGFkZGl0aW9uLXRoZW9yZW0gb2Ygc2luKExhdGl0dWRlKGl0ZXIpLUxhdGl0dWRlKGl0ZXItMSkpICovXG4gICAgICB2YXIgaXRlcjsgLyogIyBvZiBjb250aW5vdXMgaXRlcmF0aW9uLCBtYXguIDMwIGlzIGFsd2F5cyBlbm91Z2ggKHMuYS4pICovXG5cbiAgICAgIHZhciBYID0gcC54O1xuICAgICAgdmFyIFkgPSBwLnk7XG4gICAgICB2YXIgWiA9IHAueiA/IHAueiA6IDAuMDsgLy9aIHZhbHVlIG5vdCBhbHdheXMgc3VwcGxpZWRcbiAgICAgIHZhciBMb25naXR1ZGU7XG4gICAgICB2YXIgTGF0aXR1ZGU7XG4gICAgICB2YXIgSGVpZ2h0O1xuXG4gICAgICBQID0gTWF0aC5zcXJ0KFggKiBYICsgWSAqIFkpO1xuICAgICAgUlIgPSBNYXRoLnNxcnQoWCAqIFggKyBZICogWSArIFogKiBaKTtcblxuICAgICAgLyogICAgICBzcGVjaWFsIGNhc2VzIGZvciBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlICovXG4gICAgICBpZiAoUCAvIGEgPCBnZW5hdSkge1xuXG4gICAgICAgIC8qICBzcGVjaWFsIGNhc2UsIGlmIFA9MC4gKFg9MC4sIFk9MC4pICovXG4gICAgICAgIExvbmdpdHVkZSA9IDAuMDtcblxuICAgICAgICAvKiAgaWYgKFgsWSxaKT0oMC4sMC4sMC4pIHRoZW4gSGVpZ2h0IGJlY29tZXMgc2VtaS1taW5vciBheGlzXG4gICAgICAgICAqICBvZiBlbGxpcHNvaWQgKD1jZW50ZXIgb2YgbWFzcyksIExhdGl0dWRlIGJlY29tZXMgUEkvMiAqL1xuICAgICAgICBpZiAoUlIgLyBhIDwgZ2VuYXUpIHtcbiAgICAgICAgICBMYXRpdHVkZSA9IEhBTEZfUEk7XG4gICAgICAgICAgSGVpZ2h0ID0gLWI7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHAueCxcbiAgICAgICAgICAgIHk6IHAueSxcbiAgICAgICAgICAgIHo6IHAuelxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qICBlbGxpcHNvaWRhbCAoZ2VvZGV0aWMpIGxvbmdpdHVkZVxuICAgICAgICAgKiAgaW50ZXJ2YWw6IC1QSSA8IExvbmdpdHVkZSA8PSArUEkgKi9cbiAgICAgICAgTG9uZ2l0dWRlID0gTWF0aC5hdGFuMihZLCBYKTtcbiAgICAgIH1cblxuICAgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAqIEZvbGxvd2luZyBpdGVyYXRpdmUgYWxnb3JpdGhtIHdhcyBkZXZlbG9wcGVkIGJ5XG4gICAgICAgKiBcIkluc3RpdHV0IGZvciBFcmRtZXNzdW5nXCIsIFVuaXZlcnNpdHkgb2YgSGFubm92ZXIsIEp1bHkgMTk4OC5cbiAgICAgICAqIEludGVybmV0OiB3d3cuaWZlLnVuaS1oYW5ub3Zlci5kZVxuICAgICAgICogSXRlcmF0aXZlIGNvbXB1dGF0aW9uIG9mIENQSEksU1BISSBhbmQgSGVpZ2h0LlxuICAgICAgICogSXRlcmF0aW9uIG9mIENQSEkgYW5kIFNQSEkgdG8gMTAqKi0xMiByYWRpYW4gcmVzcC5cbiAgICAgICAqIDIqMTAqKi03IGFyY3NlYy5cbiAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgKi9cbiAgICAgIENUID0gWiAvIFJSO1xuICAgICAgU1QgPSBQIC8gUlI7XG4gICAgICBSWCA9IDEuMCAvIE1hdGguc3FydCgxLjAgLSBlcyAqICgyLjAgLSBlcykgKiBTVCAqIFNUKTtcbiAgICAgIENQSEkwID0gU1QgKiAoMS4wIC0gZXMpICogUlg7XG4gICAgICBTUEhJMCA9IENUICogUlg7XG4gICAgICBpdGVyID0gMDtcblxuICAgICAgLyogbG9vcCB0byBmaW5kIHNpbihMYXRpdHVkZSkgcmVzcC4gTGF0aXR1ZGVcbiAgICAgICAqIHVudGlsIHxzaW4oTGF0aXR1ZGUoaXRlciktTGF0aXR1ZGUoaXRlci0xKSl8IDwgZ2VuYXUgKi9cbiAgICAgIGRvIHtcbiAgICAgICAgaXRlcisrO1xuICAgICAgICBSTiA9IGEgLyBNYXRoLnNxcnQoMS4wIC0gZXMgKiBTUEhJMCAqIFNQSEkwKTtcblxuICAgICAgICAvKiAgZWxsaXBzb2lkYWwgKGdlb2RldGljKSBoZWlnaHQgKi9cbiAgICAgICAgSGVpZ2h0ID0gUCAqIENQSEkwICsgWiAqIFNQSEkwIC0gUk4gKiAoMS4wIC0gZXMgKiBTUEhJMCAqIFNQSEkwKTtcblxuICAgICAgICBSSyA9IGVzICogUk4gLyAoUk4gKyBIZWlnaHQpO1xuICAgICAgICBSWCA9IDEuMCAvIE1hdGguc3FydCgxLjAgLSBSSyAqICgyLjAgLSBSSykgKiBTVCAqIFNUKTtcbiAgICAgICAgQ1BISSA9IFNUICogKDEuMCAtIFJLKSAqIFJYO1xuICAgICAgICBTUEhJID0gQ1QgKiBSWDtcbiAgICAgICAgU0RQSEkgPSBTUEhJICogQ1BISTAgLSBDUEhJICogU1BISTA7XG4gICAgICAgIENQSEkwID0gQ1BISTtcbiAgICAgICAgU1BISTAgPSBTUEhJO1xuICAgICAgfVxuICAgICAgd2hpbGUgKFNEUEhJICogU0RQSEkgPiBnZW5hdTIgJiYgaXRlciA8IG1heGl0ZXIpO1xuXG4gICAgICAvKiAgICAgIGVsbGlwc29pZGFsIChnZW9kZXRpYykgbGF0aXR1ZGUgKi9cbiAgICAgIExhdGl0dWRlID0gTWF0aC5hdGFuKFNQSEkgLyBNYXRoLmFicyhDUEhJKSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBMb25naXR1ZGUsXG4gICAgICAgIHk6IExhdGl0dWRlLFxuICAgICAgICB6OiBIZWlnaHRcbiAgICAgIH07XG4gICAgfSAvLyBjc19nZW9jZW50cmljX3RvX2dlb2RldGljKClcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8vIHBqX2dlb2NlbnRpY190b193Z3M4NCggcCApXG4gICAgLy8gIHAgPSBwb2ludCB0byB0cmFuc2Zvcm0gaW4gZ2VvY2VudHJpYyBjb29yZGluYXRlcyAoeCx5LHopXG5cblxuICAgIC8qKiBwb2ludCBvYmplY3QsIG5vdGhpbmcgZmFuY3ksIGp1c3QgYWxsb3dzIHZhbHVlcyB0byBiZVxuICAgICAgICBwYXNzZWQgYmFjayBhbmQgZm9ydGggYnkgcmVmZXJlbmNlIHJhdGhlciB0aGFuIGJ5IHZhbHVlLlxuICAgICAgICBPdGhlciBwb2ludCBjbGFzc2VzIG1heSBiZSB1c2VkIGFzIGxvbmcgYXMgdGhleSBoYXZlXG4gICAgICAgIHggYW5kIHkgcHJvcGVydGllcywgd2hpY2ggd2lsbCBnZXQgbW9kaWZpZWQgaW4gdGhlIHRyYW5zZm9ybSBtZXRob2QuXG4gICAgKi9cbiAgICBmdW5jdGlvbiBnZW9jZW50cmljVG9XZ3M4NChwLCBkYXR1bV90eXBlLCBkYXR1bV9wYXJhbXMpIHtcblxuICAgICAgaWYgKGRhdHVtX3R5cGUgPT09IFBKRF8zUEFSQU0pIHtcbiAgICAgICAgLy8gaWYoIHhbaW9dID09PSBIVUdFX1ZBTCApXG4gICAgICAgIC8vICAgIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IHAueCArIGRhdHVtX3BhcmFtc1swXSxcbiAgICAgICAgICB5OiBwLnkgKyBkYXR1bV9wYXJhbXNbMV0sXG4gICAgICAgICAgejogcC56ICsgZGF0dW1fcGFyYW1zWzJdLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChkYXR1bV90eXBlID09PSBQSkRfN1BBUkFNKSB7XG4gICAgICAgIHZhciBEeF9CRiA9IGRhdHVtX3BhcmFtc1swXTtcbiAgICAgICAgdmFyIER5X0JGID0gZGF0dW1fcGFyYW1zWzFdO1xuICAgICAgICB2YXIgRHpfQkYgPSBkYXR1bV9wYXJhbXNbMl07XG4gICAgICAgIHZhciBSeF9CRiA9IGRhdHVtX3BhcmFtc1szXTtcbiAgICAgICAgdmFyIFJ5X0JGID0gZGF0dW1fcGFyYW1zWzRdO1xuICAgICAgICB2YXIgUnpfQkYgPSBkYXR1bV9wYXJhbXNbNV07XG4gICAgICAgIHZhciBNX0JGID0gZGF0dW1fcGFyYW1zWzZdO1xuICAgICAgICAvLyBpZiggeFtpb10gPT09IEhVR0VfVkFMIClcbiAgICAgICAgLy8gICAgY29udGludWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogTV9CRiAqIChwLnggLSBSel9CRiAqIHAueSArIFJ5X0JGICogcC56KSArIER4X0JGLFxuICAgICAgICAgIHk6IE1fQkYgKiAoUnpfQkYgKiBwLnggKyBwLnkgLSBSeF9CRiAqIHAueikgKyBEeV9CRixcbiAgICAgICAgICB6OiBNX0JGICogKC1SeV9CRiAqIHAueCArIFJ4X0JGICogcC55ICsgcC56KSArIER6X0JGXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSAvLyBjc19nZW9jZW50cmljX3RvX3dnczg0XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAvLyBwal9nZW9jZW50aWNfZnJvbV93Z3M4NCgpXG4gICAgLy8gIGNvb3JkaW5hdGUgc3lzdGVtIGRlZmluaXRpb24sXG4gICAgLy8gIHBvaW50IHRvIHRyYW5zZm9ybSBpbiBnZW9jZW50cmljIGNvb3JkaW5hdGVzICh4LHkseilcbiAgICBmdW5jdGlvbiBnZW9jZW50cmljRnJvbVdnczg0KHAsIGRhdHVtX3R5cGUsIGRhdHVtX3BhcmFtcykge1xuXG4gICAgICBpZiAoZGF0dW1fdHlwZSA9PT0gUEpEXzNQQVJBTSkge1xuICAgICAgICAvL2lmKCB4W2lvXSA9PT0gSFVHRV9WQUwgKVxuICAgICAgICAvLyAgICBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBwLnggLSBkYXR1bV9wYXJhbXNbMF0sXG4gICAgICAgICAgeTogcC55IC0gZGF0dW1fcGFyYW1zWzFdLFxuICAgICAgICAgIHo6IHAueiAtIGRhdHVtX3BhcmFtc1syXSxcbiAgICAgICAgfTtcblxuICAgICAgfSBlbHNlIGlmIChkYXR1bV90eXBlID09PSBQSkRfN1BBUkFNKSB7XG4gICAgICAgIHZhciBEeF9CRiA9IGRhdHVtX3BhcmFtc1swXTtcbiAgICAgICAgdmFyIER5X0JGID0gZGF0dW1fcGFyYW1zWzFdO1xuICAgICAgICB2YXIgRHpfQkYgPSBkYXR1bV9wYXJhbXNbMl07XG4gICAgICAgIHZhciBSeF9CRiA9IGRhdHVtX3BhcmFtc1szXTtcbiAgICAgICAgdmFyIFJ5X0JGID0gZGF0dW1fcGFyYW1zWzRdO1xuICAgICAgICB2YXIgUnpfQkYgPSBkYXR1bV9wYXJhbXNbNV07XG4gICAgICAgIHZhciBNX0JGID0gZGF0dW1fcGFyYW1zWzZdO1xuICAgICAgICB2YXIgeF90bXAgPSAocC54IC0gRHhfQkYpIC8gTV9CRjtcbiAgICAgICAgdmFyIHlfdG1wID0gKHAueSAtIER5X0JGKSAvIE1fQkY7XG4gICAgICAgIHZhciB6X3RtcCA9IChwLnogLSBEel9CRikgLyBNX0JGO1xuICAgICAgICAvL2lmKCB4W2lvXSA9PT0gSFVHRV9WQUwgKVxuICAgICAgICAvLyAgICBjb250aW51ZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IHhfdG1wICsgUnpfQkYgKiB5X3RtcCAtIFJ5X0JGICogel90bXAsXG4gICAgICAgICAgeTogLVJ6X0JGICogeF90bXAgKyB5X3RtcCArIFJ4X0JGICogel90bXAsXG4gICAgICAgICAgejogUnlfQkYgKiB4X3RtcCAtIFJ4X0JGICogeV90bXAgKyB6X3RtcFxuICAgICAgICB9O1xuICAgICAgfSAvL2NzX2dlb2NlbnRyaWNfZnJvbV93Z3M4NCgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tQYXJhbXModHlwZSkge1xuICAgICAgcmV0dXJuICh0eXBlID09PSBQSkRfM1BBUkFNIHx8IHR5cGUgPT09IFBKRF83UEFSQU0pO1xuICAgIH1cblxuICAgIHZhciBkYXR1bV90cmFuc2Zvcm0gPSBmdW5jdGlvbihzb3VyY2UsIGRlc3QsIHBvaW50KSB7XG4gICAgICAvLyBTaG9ydCBjdXQgaWYgdGhlIGRhdHVtcyBhcmUgaWRlbnRpY2FsLlxuICAgICAgaWYgKGNvbXBhcmVEYXR1bXMoc291cmNlLCBkZXN0KSkge1xuICAgICAgICByZXR1cm4gcG9pbnQ7IC8vIGluIHRoaXMgY2FzZSwgemVybyBpcyBzdWNlc3MsXG4gICAgICAgIC8vIHdoZXJlYXMgY3NfY29tcGFyZV9kYXR1bXMgcmV0dXJucyAxIHRvIGluZGljYXRlIFRSVUVcbiAgICAgICAgLy8gY29uZnVzaW5nLCBzaG91bGQgZml4IHRoaXNcbiAgICAgIH1cblxuICAgICAgLy8gRXhwbGljaXRseSBza2lwIGRhdHVtIHRyYW5zZm9ybSBieSBzZXR0aW5nICdkYXR1bT1ub25lJyBhcyBwYXJhbWV0ZXIgZm9yIGVpdGhlciBzb3VyY2Ugb3IgZGVzdFxuICAgICAgaWYgKHNvdXJjZS5kYXR1bV90eXBlID09PSBQSkRfTk9EQVRVTSB8fCBkZXN0LmRhdHVtX3R5cGUgPT09IFBKRF9OT0RBVFVNKSB7XG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhpcyBkYXR1bSByZXF1aXJlcyBncmlkIHNoaWZ0cywgdGhlbiBhcHBseSBpdCB0byBnZW9kZXRpYyBjb29yZGluYXRlcy5cblxuICAgICAgLy8gRG8gd2UgbmVlZCB0byBnbyB0aHJvdWdoIGdlb2NlbnRyaWMgY29vcmRpbmF0ZXM/XG4gICAgICBpZiAoc291cmNlLmVzID09PSBkZXN0LmVzICYmIHNvdXJjZS5hID09PSBkZXN0LmEgJiYgIWNoZWNrUGFyYW1zKHNvdXJjZS5kYXR1bV90eXBlKSAmJiAgIWNoZWNrUGFyYW1zKGRlc3QuZGF0dW1fdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHRvIGdlb2NlbnRyaWMgY29vcmRpbmF0ZXMuXG4gICAgICBwb2ludCA9IGdlb2RldGljVG9HZW9jZW50cmljKHBvaW50LCBzb3VyY2UuZXMsIHNvdXJjZS5hKTtcbiAgICAgIC8vIENvbnZlcnQgYmV0d2VlbiBkYXR1bXNcbiAgICAgIGlmIChjaGVja1BhcmFtcyhzb3VyY2UuZGF0dW1fdHlwZSkpIHtcbiAgICAgICAgcG9pbnQgPSBnZW9jZW50cmljVG9XZ3M4NChwb2ludCwgc291cmNlLmRhdHVtX3R5cGUsIHNvdXJjZS5kYXR1bV9wYXJhbXMpO1xuICAgICAgfVxuICAgICAgaWYgKGNoZWNrUGFyYW1zKGRlc3QuZGF0dW1fdHlwZSkpIHtcbiAgICAgICAgcG9pbnQgPSBnZW9jZW50cmljRnJvbVdnczg0KHBvaW50LCBkZXN0LmRhdHVtX3R5cGUsIGRlc3QuZGF0dW1fcGFyYW1zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW9jZW50cmljVG9HZW9kZXRpYyhwb2ludCwgZGVzdC5lcywgZGVzdC5hLCBkZXN0LmIpO1xuXG4gICAgfTtcblxuICAgIHZhciBhZGp1c3RfYXhpcyA9IGZ1bmN0aW9uKGNycywgZGVub3JtLCBwb2ludCkge1xuICAgICAgdmFyIHhpbiA9IHBvaW50LngsXG4gICAgICAgIHlpbiA9IHBvaW50LnksXG4gICAgICAgIHppbiA9IHBvaW50LnogfHwgMC4wO1xuICAgICAgdmFyIHYsIHQsIGk7XG4gICAgICB2YXIgb3V0ID0ge307XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGlmIChkZW5vcm0gJiYgaSA9PT0gMiAmJiBwb2ludC56ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHYgPSB4aW47XG4gICAgICAgICAgaWYgKFwiZXdcIi5pbmRleE9mKGNycy5heGlzW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHQgPSAneCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQgPSAneSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaSA9PT0gMSkge1xuICAgICAgICAgIHYgPSB5aW47XG4gICAgICAgICAgaWYgKFwibnNcIi5pbmRleE9mKGNycy5heGlzW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHQgPSAneSc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQgPSAneCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHYgPSB6aW47XG4gICAgICAgICAgdCA9ICd6JztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGNycy5heGlzW2ldKSB7XG4gICAgICAgIGNhc2UgJ2UnOlxuICAgICAgICBjYXNlICd3JzpcbiAgICAgICAgY2FzZSAnbic6XG4gICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgIG91dFt0XSA9IHY7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3UnOlxuICAgICAgICAgIGlmIChwb2ludFt0XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdXQueiA9IHY7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICBpZiAocG9pbnRbdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3V0LnogPSAtdjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkVSUk9SOiB1bmtub3cgYXhpcyAoXCIrY3JzLmF4aXNbaV0rXCIpIC0gY2hlY2sgZGVmaW5pdGlvbiBvZiBcIitjcnMucHJvak5hbWUpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICB2YXIgdG9Qb2ludCA9IGZ1bmN0aW9uIChhcnJheSl7XG4gICAgICB2YXIgb3V0ID0ge1xuICAgICAgICB4OiBhcnJheVswXSxcbiAgICAgICAgeTogYXJyYXlbMV1cbiAgICAgIH07XG4gICAgICBpZiAoYXJyYXkubGVuZ3RoPjIpIHtcbiAgICAgICAgb3V0LnogPSBhcnJheVsyXTtcbiAgICAgIH1cbiAgICAgIGlmIChhcnJheS5sZW5ndGg+Mykge1xuICAgICAgICBvdXQubSA9IGFycmF5WzNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrU2FuaXR5ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICBjaGVja0Nvb3JkKHBvaW50LngpO1xuICAgICAgY2hlY2tDb29yZChwb2ludC55KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGNoZWNrQ29vcmQobnVtKSB7XG4gICAgICBpZiAodHlwZW9mIE51bWJlci5pc0Zpbml0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG51bSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY29vcmRpbmF0ZXMgbXVzdCBiZSBmaW5pdGUgbnVtYmVycycpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInIHx8IG51bSAhPT0gbnVtIHx8ICFpc0Zpbml0ZShudW0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nvb3JkaW5hdGVzIG11c3QgYmUgZmluaXRlIG51bWJlcnMnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja05vdFdHUyhzb3VyY2UsIGRlc3QpIHtcbiAgICAgIHJldHVybiAoKHNvdXJjZS5kYXR1bS5kYXR1bV90eXBlID09PSBQSkRfM1BBUkFNIHx8IHNvdXJjZS5kYXR1bS5kYXR1bV90eXBlID09PSBQSkRfN1BBUkFNKSAmJiBkZXN0LmRhdHVtQ29kZSAhPT0gJ1dHUzg0JykgfHwgKChkZXN0LmRhdHVtLmRhdHVtX3R5cGUgPT09IFBKRF8zUEFSQU0gfHwgZGVzdC5kYXR1bS5kYXR1bV90eXBlID09PSBQSkRfN1BBUkFNKSAmJiBzb3VyY2UuZGF0dW1Db2RlICE9PSAnV0dTODQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0oc291cmNlLCBkZXN0LCBwb2ludCkge1xuICAgICAgdmFyIHdnczg0O1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocG9pbnQpKSB7XG4gICAgICAgIHBvaW50ID0gdG9Qb2ludChwb2ludCk7XG4gICAgICB9XG4gICAgICBjaGVja1Nhbml0eShwb2ludCk7XG4gICAgICAvLyBXb3JrYXJvdW5kIGZvciBkYXR1bSBzaGlmdHMgdG93Z3M4NCwgaWYgZWl0aGVyIHNvdXJjZSBvciBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uIGlzIG5vdCB3Z3M4NFxuICAgICAgaWYgKHNvdXJjZS5kYXR1bSAmJiBkZXN0LmRhdHVtICYmIGNoZWNrTm90V0dTKHNvdXJjZSwgZGVzdCkpIHtcbiAgICAgICAgd2dzODQgPSBuZXcgUHJvamVjdGlvbignV0dTODQnKTtcbiAgICAgICAgcG9pbnQgPSB0cmFuc2Zvcm0oc291cmNlLCB3Z3M4NCwgcG9pbnQpO1xuICAgICAgICBzb3VyY2UgPSB3Z3M4NDtcbiAgICAgIH1cbiAgICAgIC8vIERHUiwgMjAxMC8xMS8xMlxuICAgICAgaWYgKHNvdXJjZS5heGlzICE9PSAnZW51Jykge1xuICAgICAgICBwb2ludCA9IGFkanVzdF9heGlzKHNvdXJjZSwgZmFsc2UsIHBvaW50KTtcbiAgICAgIH1cbiAgICAgIC8vIFRyYW5zZm9ybSBzb3VyY2UgcG9pbnRzIHRvIGxvbmcvbGF0LCBpZiB0aGV5IGFyZW4ndCBhbHJlYWR5LlxuICAgICAgaWYgKHNvdXJjZS5wcm9qTmFtZSA9PT0gJ2xvbmdsYXQnKSB7XG4gICAgICAgIHBvaW50ID0ge1xuICAgICAgICAgIHg6IHBvaW50LnggKiBEMlIsXG4gICAgICAgICAgeTogcG9pbnQueSAqIEQyUixcbiAgICAgICAgICB6OiBwb2ludC56IHx8IDBcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzb3VyY2UudG9fbWV0ZXIpIHtcbiAgICAgICAgICBwb2ludCA9IHtcbiAgICAgICAgICAgIHg6IHBvaW50LnggKiBzb3VyY2UudG9fbWV0ZXIsXG4gICAgICAgICAgICB5OiBwb2ludC55ICogc291cmNlLnRvX21ldGVyLFxuICAgICAgICAgICAgejogcG9pbnQueiB8fCAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBwb2ludCA9IHNvdXJjZS5pbnZlcnNlKHBvaW50KTsgLy8gQ29udmVydCBDYXJ0ZXNpYW4gdG8gbG9uZ2xhdFxuICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBBZGp1c3QgZm9yIHRoZSBwcmltZSBtZXJpZGlhbiBpZiBuZWNlc3NhcnlcbiAgICAgIGlmIChzb3VyY2UuZnJvbV9ncmVlbndpY2gpIHtcbiAgICAgICAgcG9pbnQueCArPSBzb3VyY2UuZnJvbV9ncmVlbndpY2g7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgZGF0dW1zIGlmIG5lZWRlZCwgYW5kIGlmIHBvc3NpYmxlLlxuICAgICAgcG9pbnQgPSBkYXR1bV90cmFuc2Zvcm0oc291cmNlLmRhdHVtLCBkZXN0LmRhdHVtLCBwb2ludCk7XG5cbiAgICAgIC8vIEFkanVzdCBmb3IgdGhlIHByaW1lIG1lcmlkaWFuIGlmIG5lY2Vzc2FyeVxuICAgICAgaWYgKGRlc3QuZnJvbV9ncmVlbndpY2gpIHtcbiAgICAgICAgcG9pbnQgPSB7XG4gICAgICAgICAgeDogcG9pbnQueCAtIGRlc3QuZnJvbV9ncmVlbndpY2gsXG4gICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICB6OiBwb2ludC56IHx8IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlc3QucHJvak5hbWUgPT09ICdsb25nbGF0Jykge1xuICAgICAgICAvLyBjb252ZXJ0IHJhZGlhbnMgdG8gZGVjaW1hbCBkZWdyZWVzXG4gICAgICAgIHBvaW50ID0ge1xuICAgICAgICAgIHg6IHBvaW50LnggKiBSMkQsXG4gICAgICAgICAgeTogcG9pbnQueSAqIFIyRCxcbiAgICAgICAgICB6OiBwb2ludC56IHx8IDBcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7IC8vIGVsc2UgcHJvamVjdFxuICAgICAgICBwb2ludCA9IGRlc3QuZm9yd2FyZChwb2ludCk7XG4gICAgICAgIGlmIChkZXN0LnRvX21ldGVyKSB7XG4gICAgICAgICAgcG9pbnQgPSB7XG4gICAgICAgICAgICB4OiBwb2ludC54IC8gZGVzdC50b19tZXRlcixcbiAgICAgICAgICAgIHk6IHBvaW50LnkgLyBkZXN0LnRvX21ldGVyLFxuICAgICAgICAgICAgejogcG9pbnQueiB8fCAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBER1IsIDIwMTAvMTEvMTJcbiAgICAgIGlmIChkZXN0LmF4aXMgIT09ICdlbnUnKSB7XG4gICAgICAgIHJldHVybiBhZGp1c3RfYXhpcyhkZXN0LCB0cnVlLCBwb2ludCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICB2YXIgd2dzODQgPSBQcm9qZWN0aW9uKCdXR1M4NCcpO1xuXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtZXIoZnJvbSwgdG8sIGNvb3Jkcykge1xuICAgICAgdmFyIHRyYW5zZm9ybWVkQXJyYXksIG91dCwga2V5cztcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvb3JkcykpIHtcbiAgICAgICAgdHJhbnNmb3JtZWRBcnJheSA9IHRyYW5zZm9ybShmcm9tLCB0bywgY29vcmRzKSB8fCB7eDogTmFOLCB5OiBOYU59O1xuICAgICAgICBpZiAoY29vcmRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICBpZiAoKHR5cGVvZiBmcm9tLm5hbWUgIT09ICd1bmRlZmluZWQnICYmIGZyb20ubmFtZSA9PT0gJ2dlb2NlbnQnKSB8fCAodHlwZW9mIHRvLm5hbWUgIT09ICd1bmRlZmluZWQnICYmIHRvLm5hbWUgPT09ICdnZW9jZW50JykpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHJhbnNmb3JtZWRBcnJheS56ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICByZXR1cm4gW3RyYW5zZm9ybWVkQXJyYXkueCwgdHJhbnNmb3JtZWRBcnJheS55LCB0cmFuc2Zvcm1lZEFycmF5LnpdLmNvbmNhdChjb29yZHMuc3BsaWNlKDMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBbdHJhbnNmb3JtZWRBcnJheS54LCB0cmFuc2Zvcm1lZEFycmF5LnksIGNvb3Jkc1syXV0uY29uY2F0KGNvb3Jkcy5zcGxpY2UoMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RyYW5zZm9ybWVkQXJyYXkueCwgdHJhbnNmb3JtZWRBcnJheS55XS5jb25jYXQoY29vcmRzLnNwbGljZSgyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbdHJhbnNmb3JtZWRBcnJheS54LCB0cmFuc2Zvcm1lZEFycmF5LnldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgPSB0cmFuc2Zvcm0oZnJvbSwgdG8sIGNvb3Jkcyk7XG4gICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhjb29yZHMpO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgaWYgKCh0eXBlb2YgZnJvbS5uYW1lICE9PSAndW5kZWZpbmVkJyAmJiBmcm9tLm5hbWUgPT09ICdnZW9jZW50JykgfHwgKHR5cGVvZiB0by5uYW1lICE9PSAndW5kZWZpbmVkJyAmJiB0by5uYW1lID09PSAnZ2VvY2VudCcpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAneCcgfHwga2V5ID09PSAneScgfHwga2V5ID09PSAneicpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAneCcgfHwga2V5ID09PSAneScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBvdXRba2V5XSA9IGNvb3Jkc1trZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1Byb2ooaXRlbSkge1xuICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBQcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0ub1Byb2opIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ub1Byb2o7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvamVjdGlvbihpdGVtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9qNCQxKGZyb21Qcm9qLCB0b1Byb2osIGNvb3JkKSB7XG4gICAgICBmcm9tUHJvaiA9IGNoZWNrUHJvaihmcm9tUHJvaik7XG4gICAgICB2YXIgc2luZ2xlID0gZmFsc2U7XG4gICAgICB2YXIgb2JqO1xuICAgICAgaWYgKHR5cGVvZiB0b1Byb2ogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRvUHJvaiA9IGZyb21Qcm9qO1xuICAgICAgICBmcm9tUHJvaiA9IHdnczg0O1xuICAgICAgICBzaW5nbGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdG9Qcm9qLnggIT09ICd1bmRlZmluZWQnIHx8IEFycmF5LmlzQXJyYXkodG9Qcm9qKSkge1xuICAgICAgICBjb29yZCA9IHRvUHJvajtcbiAgICAgICAgdG9Qcm9qID0gZnJvbVByb2o7XG4gICAgICAgIGZyb21Qcm9qID0gd2dzODQ7XG4gICAgICAgIHNpbmdsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICB0b1Byb2ogPSBjaGVja1Byb2oodG9Qcm9qKTtcbiAgICAgIGlmIChjb29yZCkge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXIoZnJvbVByb2osIHRvUHJvaiwgY29vcmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqID0ge1xuICAgICAgICAgIGZvcndhcmQ6IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lcihmcm9tUHJvaiwgdG9Qcm9qLCBjb29yZHMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaW52ZXJzZTogZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyKHRvUHJvaiwgZnJvbVByb2osIGNvb3Jkcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoc2luZ2xlKSB7XG4gICAgICAgICAgb2JqLm9Qcm9qID0gdG9Qcm9qO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVVRNIHpvbmVzIGFyZSBncm91cGVkLCBhbmQgYXNzaWduZWQgdG8gb25lIG9mIGEgZ3JvdXAgb2YgNlxuICAgICAqIHNldHMuXG4gICAgICpcbiAgICAgKiB7aW50fSBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHZhciBOVU1fMTAwS19TRVRTID0gNjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb2x1bW4gbGV0dGVycyAoZm9yIGVhc3RpbmcpIG9mIHRoZSBsb3dlciBsZWZ0IHZhbHVlLCBwZXJcbiAgICAgKiBzZXQuXG4gICAgICpcbiAgICAgKiB7c3RyaW5nfSBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHZhciBTRVRfT1JJR0lOX0NPTFVNTl9MRVRURVJTID0gJ0FKU0FKUyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm93IGxldHRlcnMgKGZvciBub3J0aGluZykgb2YgdGhlIGxvd2VyIGxlZnQgdmFsdWUsIHBlclxuICAgICAqIHNldC5cbiAgICAgKlxuICAgICAqIHtzdHJpbmd9IEBwcml2YXRlXG4gICAgICovXG4gICAgdmFyIFNFVF9PUklHSU5fUk9XX0xFVFRFUlMgPSAnQUZBRkFGJztcblxuICAgIHZhciBBID0gNjU7IC8vIEFcbiAgICB2YXIgSSA9IDczOyAvLyBJXG4gICAgdmFyIE8gPSA3OTsgLy8gT1xuICAgIHZhciBWID0gODY7IC8vIFZcbiAgICB2YXIgWiA9IDkwOyAvLyBaXG4gICAgdmFyIG1ncnMgPSB7XG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDEsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDEsXG4gICAgICB0b1BvaW50OiB0b1BvaW50JDFcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnNpb24gb2YgbGF0L2xvbiB0byBNR1JTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGxsIE9iamVjdCBsaXRlcmFsIHdpdGggbGF0IGFuZCBsb24gcHJvcGVydGllcyBvbiBhXG4gICAgICogICAgIFdHUzg0IGVsbGlwc29pZC5cbiAgICAgKiBAcGFyYW0ge2ludH0gYWNjdXJhY3kgQWNjdXJhY3kgaW4gZGlnaXRzICg1IGZvciAxIG0sIDQgZm9yIDEwIG0sIDMgZm9yXG4gICAgICogICAgICAxMDAgbSwgMiBmb3IgMTAwMCBtIG9yIDEgZm9yIDEwMDAwIG0pLiBPcHRpb25hbCwgZGVmYXVsdCBpcyA1LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gdGhlIE1HUlMgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gbG9jYXRpb24gYW5kIGFjY3VyYWN5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvcndhcmQkMShsbCwgYWNjdXJhY3kpIHtcbiAgICAgIGFjY3VyYWN5ID0gYWNjdXJhY3kgfHwgNTsgLy8gZGVmYXVsdCBhY2N1cmFjeSAxbVxuICAgICAgcmV0dXJuIGVuY29kZShMTHRvVVRNKHtcbiAgICAgICAgbGF0OiBsbFsxXSxcbiAgICAgICAgbG9uOiBsbFswXVxuICAgICAgfSksIGFjY3VyYWN5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJzaW9uIG9mIE1HUlMgdG8gbGF0L2xvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZ3JzIE1HUlMgc3RyaW5nLlxuICAgICAqIEByZXR1cm4ge2FycmF5fSBBbiBhcnJheSB3aXRoIGxlZnQgKGxvbmdpdHVkZSksIGJvdHRvbSAobGF0aXR1ZGUpLCByaWdodFxuICAgICAqICAgICAobG9uZ2l0dWRlKSBhbmQgdG9wIChsYXRpdHVkZSkgdmFsdWVzIGluIFdHUzg0LCByZXByZXNlbnRpbmcgdGhlXG4gICAgICogICAgIGJvdW5kaW5nIGJveCBmb3IgdGhlIHByb3ZpZGVkIE1HUlMgcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVyc2UkMShtZ3JzKSB7XG4gICAgICB2YXIgYmJveCA9IFVUTXRvTEwoZGVjb2RlKG1ncnMudG9VcHBlckNhc2UoKSkpO1xuICAgICAgaWYgKGJib3gubGF0ICYmIGJib3gubG9uKSB7XG4gICAgICAgIHJldHVybiBbYmJveC5sb24sIGJib3gubGF0LCBiYm94LmxvbiwgYmJveC5sYXRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtiYm94LmxlZnQsIGJib3guYm90dG9tLCBiYm94LnJpZ2h0LCBiYm94LnRvcF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9Qb2ludCQxKG1ncnMpIHtcbiAgICAgIHZhciBiYm94ID0gVVRNdG9MTChkZWNvZGUobWdycy50b1VwcGVyQ2FzZSgpKSk7XG4gICAgICBpZiAoYmJveC5sYXQgJiYgYmJveC5sb24pIHtcbiAgICAgICAgcmV0dXJuIFtiYm94LmxvbiwgYmJveC5sYXRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFsoYmJveC5sZWZ0ICsgYmJveC5yaWdodCkgLyAyLCAoYmJveC50b3AgKyBiYm94LmJvdHRvbSkgLyAyXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVyc2lvbiBmcm9tIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlZyB0aGUgYW5nbGUgaW4gZGVncmVlcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZ1RvUmFkKGRlZykge1xuICAgICAgcmV0dXJuIChkZWcgKiAoTWF0aC5QSSAvIDE4MC4wKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVyc2lvbiBmcm9tIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZCB0aGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBhbmdsZSBpbiBkZWdyZWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhZFRvRGVnKHJhZCkge1xuICAgICAgcmV0dXJuICgxODAuMCAqIChyYWQgLyBNYXRoLlBJKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBzZXQgb2YgTG9uZ2l0dWRlIGFuZCBMYXRpdHVkZSBjby1vcmRpbmF0ZXMgdG8gVVRNXG4gICAgICogdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGxsIE9iamVjdCBsaXRlcmFsIHdpdGggbGF0IGFuZCBsb24gcHJvcGVydGllc1xuICAgICAqICAgICByZXByZXNlbnRpbmcgdGhlIFdHUzg0IGNvb3JkaW5hdGUgdG8gYmUgY29udmVydGVkLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IGxpdGVyYWwgY29udGFpbmluZyB0aGUgVVRNIHZhbHVlIHdpdGggZWFzdGluZyxcbiAgICAgKiAgICAgbm9ydGhpbmcsIHpvbmVOdW1iZXIgYW5kIHpvbmVMZXR0ZXIgcHJvcGVydGllcywgYW5kIGFuIG9wdGlvbmFsXG4gICAgICogICAgIGFjY3VyYWN5IHByb3BlcnR5IGluIGRpZ2l0cy4gUmV0dXJucyBudWxsIGlmIHRoZSBjb252ZXJzaW9uIGZhaWxlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMTHRvVVRNKGxsKSB7XG4gICAgICB2YXIgTGF0ID0gbGwubGF0O1xuICAgICAgdmFyIExvbmcgPSBsbC5sb247XG4gICAgICB2YXIgYSA9IDYzNzgxMzcuMDsgLy9lbGxpcC5yYWRpdXM7XG4gICAgICB2YXIgZWNjU3F1YXJlZCA9IDAuMDA2Njk0Mzg7IC8vZWxsaXAuZWNjc3E7XG4gICAgICB2YXIgazAgPSAwLjk5OTY7XG4gICAgICB2YXIgTG9uZ09yaWdpbjtcbiAgICAgIHZhciBlY2NQcmltZVNxdWFyZWQ7XG4gICAgICB2YXIgTiwgVCwgQywgQSwgTTtcbiAgICAgIHZhciBMYXRSYWQgPSBkZWdUb1JhZChMYXQpO1xuICAgICAgdmFyIExvbmdSYWQgPSBkZWdUb1JhZChMb25nKTtcbiAgICAgIHZhciBMb25nT3JpZ2luUmFkO1xuICAgICAgdmFyIFpvbmVOdW1iZXI7XG4gICAgICAvLyAoaW50KVxuICAgICAgWm9uZU51bWJlciA9IE1hdGguZmxvb3IoKExvbmcgKyAxODApIC8gNikgKyAxO1xuXG4gICAgICAvL01ha2Ugc3VyZSB0aGUgbG9uZ2l0dWRlIDE4MC4wMCBpcyBpbiBab25lIDYwXG4gICAgICBpZiAoTG9uZyA9PT0gMTgwKSB7XG4gICAgICAgIFpvbmVOdW1iZXIgPSA2MDtcbiAgICAgIH1cblxuICAgICAgLy8gU3BlY2lhbCB6b25lIGZvciBOb3J3YXlcbiAgICAgIGlmIChMYXQgPj0gNTYuMCAmJiBMYXQgPCA2NC4wICYmIExvbmcgPj0gMy4wICYmIExvbmcgPCAxMi4wKSB7XG4gICAgICAgIFpvbmVOdW1iZXIgPSAzMjtcbiAgICAgIH1cblxuICAgICAgLy8gU3BlY2lhbCB6b25lcyBmb3IgU3ZhbGJhcmRcbiAgICAgIGlmIChMYXQgPj0gNzIuMCAmJiBMYXQgPCA4NC4wKSB7XG4gICAgICAgIGlmIChMb25nID49IDAuMCAmJiBMb25nIDwgOS4wKSB7XG4gICAgICAgICAgWm9uZU51bWJlciA9IDMxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKExvbmcgPj0gOS4wICYmIExvbmcgPCAyMS4wKSB7XG4gICAgICAgICAgWm9uZU51bWJlciA9IDMzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKExvbmcgPj0gMjEuMCAmJiBMb25nIDwgMzMuMCkge1xuICAgICAgICAgIFpvbmVOdW1iZXIgPSAzNTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChMb25nID49IDMzLjAgJiYgTG9uZyA8IDQyLjApIHtcbiAgICAgICAgICBab25lTnVtYmVyID0gMzc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgTG9uZ09yaWdpbiA9IChab25lTnVtYmVyIC0gMSkgKiA2IC0gMTgwICsgMzsgLy8rMyBwdXRzIG9yaWdpblxuICAgICAgLy8gaW4gbWlkZGxlIG9mXG4gICAgICAvLyB6b25lXG4gICAgICBMb25nT3JpZ2luUmFkID0gZGVnVG9SYWQoTG9uZ09yaWdpbik7XG5cbiAgICAgIGVjY1ByaW1lU3F1YXJlZCA9IChlY2NTcXVhcmVkKSAvICgxIC0gZWNjU3F1YXJlZCk7XG5cbiAgICAgIE4gPSBhIC8gTWF0aC5zcXJ0KDEgLSBlY2NTcXVhcmVkICogTWF0aC5zaW4oTGF0UmFkKSAqIE1hdGguc2luKExhdFJhZCkpO1xuICAgICAgVCA9IE1hdGgudGFuKExhdFJhZCkgKiBNYXRoLnRhbihMYXRSYWQpO1xuICAgICAgQyA9IGVjY1ByaW1lU3F1YXJlZCAqIE1hdGguY29zKExhdFJhZCkgKiBNYXRoLmNvcyhMYXRSYWQpO1xuICAgICAgQSA9IE1hdGguY29zKExhdFJhZCkgKiAoTG9uZ1JhZCAtIExvbmdPcmlnaW5SYWQpO1xuXG4gICAgICBNID0gYSAqICgoMSAtIGVjY1NxdWFyZWQgLyA0IC0gMyAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gNjQgLSA1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMjU2KSAqIExhdFJhZCAtICgzICogZWNjU3F1YXJlZCAvIDggKyAzICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgLyAzMiArIDQ1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMTAyNCkgKiBNYXRoLnNpbigyICogTGF0UmFkKSArICgxNSAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMjU2ICsgNDUgKiBlY2NTcXVhcmVkICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgLyAxMDI0KSAqIE1hdGguc2luKDQgKiBMYXRSYWQpIC0gKDM1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMzA3MikgKiBNYXRoLnNpbig2ICogTGF0UmFkKSk7XG5cbiAgICAgIHZhciBVVE1FYXN0aW5nID0gKGswICogTiAqIChBICsgKDEgLSBUICsgQykgKiBBICogQSAqIEEgLyA2LjAgKyAoNSAtIDE4ICogVCArIFQgKiBUICsgNzIgKiBDIC0gNTggKiBlY2NQcmltZVNxdWFyZWQpICogQSAqIEEgKiBBICogQSAqIEEgLyAxMjAuMCkgKyA1MDAwMDAuMCk7XG5cbiAgICAgIHZhciBVVE1Ob3J0aGluZyA9IChrMCAqIChNICsgTiAqIE1hdGgudGFuKExhdFJhZCkgKiAoQSAqIEEgLyAyICsgKDUgLSBUICsgOSAqIEMgKyA0ICogQyAqIEMpICogQSAqIEEgKiBBICogQSAvIDI0LjAgKyAoNjEgLSA1OCAqIFQgKyBUICogVCArIDYwMCAqIEMgLSAzMzAgKiBlY2NQcmltZVNxdWFyZWQpICogQSAqIEEgKiBBICogQSAqIEEgKiBBIC8gNzIwLjApKSk7XG4gICAgICBpZiAoTGF0IDwgMC4wKSB7XG4gICAgICAgIFVUTU5vcnRoaW5nICs9IDEwMDAwMDAwLjA7IC8vMTAwMDAwMDAgbWV0ZXIgb2Zmc2V0IGZvclxuICAgICAgICAvLyBzb3V0aGVybiBoZW1pc3BoZXJlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vcnRoaW5nOiBNYXRoLnJvdW5kKFVUTU5vcnRoaW5nKSxcbiAgICAgICAgZWFzdGluZzogTWF0aC5yb3VuZChVVE1FYXN0aW5nKSxcbiAgICAgICAgem9uZU51bWJlcjogWm9uZU51bWJlcixcbiAgICAgICAgem9uZUxldHRlcjogZ2V0TGV0dGVyRGVzaWduYXRvcihMYXQpXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIFVUTSBjb29yZHMgdG8gbGF0L2xvbmcsIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQuIFRoaXMgaXMgYSBjb252ZW5pZW5jZVxuICAgICAqIGNsYXNzIHdoZXJlIHRoZSBab25lIGNhbiBiZSBzcGVjaWZpZWQgYXMgYSBzaW5nbGUgc3RyaW5nIGVnLlwiNjBOXCIgd2hpY2hcbiAgICAgKiBpcyB0aGVuIGJyb2tlbiBkb3duIGludG8gdGhlIFpvbmVOdW1iZXIgYW5kIFpvbmVMZXR0ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB1dG0gQW4gb2JqZWN0IGxpdGVyYWwgd2l0aCBub3J0aGluZywgZWFzdGluZywgem9uZU51bWJlclxuICAgICAqICAgICBhbmQgem9uZUxldHRlciBwcm9wZXJ0aWVzLiBJZiBhbiBvcHRpb25hbCBhY2N1cmFjeSBwcm9wZXJ0eSBpc1xuICAgICAqICAgICBwcm92aWRlZCAoaW4gbWV0ZXJzKSwgYSBib3VuZGluZyBib3ggd2lsbCBiZSByZXR1cm5lZCBpbnN0ZWFkIG9mXG4gICAgICogICAgIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgbGl0ZXJhbCBjb250YWluaW5nIGVpdGhlciBsYXQgYW5kIGxvbiB2YWx1ZXNcbiAgICAgKiAgICAgKGlmIG5vIGFjY3VyYWN5IHdhcyBwcm92aWRlZCksIG9yIHRvcCwgcmlnaHQsIGJvdHRvbSBhbmQgbGVmdCB2YWx1ZXNcbiAgICAgKiAgICAgZm9yIHRoZSBib3VuZGluZyBib3ggY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIHByb3ZpZGVkIGFjY3VyYWN5LlxuICAgICAqICAgICBSZXR1cm5zIG51bGwgaWYgdGhlIGNvbnZlcnNpb24gZmFpbGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVUTXRvTEwodXRtKSB7XG5cbiAgICAgIHZhciBVVE1Ob3J0aGluZyA9IHV0bS5ub3J0aGluZztcbiAgICAgIHZhciBVVE1FYXN0aW5nID0gdXRtLmVhc3Rpbmc7XG4gICAgICB2YXIgem9uZUxldHRlciA9IHV0bS56b25lTGV0dGVyO1xuICAgICAgdmFyIHpvbmVOdW1iZXIgPSB1dG0uem9uZU51bWJlcjtcbiAgICAgIC8vIGNoZWNrIHRoZSBab25lTnVtbWJlciBpcyB2YWxpZFxuICAgICAgaWYgKHpvbmVOdW1iZXIgPCAwIHx8IHpvbmVOdW1iZXIgPiA2MCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGswID0gMC45OTk2O1xuICAgICAgdmFyIGEgPSA2Mzc4MTM3LjA7IC8vZWxsaXAucmFkaXVzO1xuICAgICAgdmFyIGVjY1NxdWFyZWQgPSAwLjAwNjY5NDM4OyAvL2VsbGlwLmVjY3NxO1xuICAgICAgdmFyIGVjY1ByaW1lU3F1YXJlZDtcbiAgICAgIHZhciBlMSA9ICgxIC0gTWF0aC5zcXJ0KDEgLSBlY2NTcXVhcmVkKSkgLyAoMSArIE1hdGguc3FydCgxIC0gZWNjU3F1YXJlZCkpO1xuICAgICAgdmFyIE4xLCBUMSwgQzEsIFIxLCBELCBNO1xuICAgICAgdmFyIExvbmdPcmlnaW47XG4gICAgICB2YXIgbXUsIHBoaTFSYWQ7XG5cbiAgICAgIC8vIHJlbW92ZSA1MDAsMDAwIG1ldGVyIG9mZnNldCBmb3IgbG9uZ2l0dWRlXG4gICAgICB2YXIgeCA9IFVUTUVhc3RpbmcgLSA1MDAwMDAuMDtcbiAgICAgIHZhciB5ID0gVVRNTm9ydGhpbmc7XG5cbiAgICAgIC8vIFdlIG11c3Qga25vdyBzb21laG93IGlmIHdlIGFyZSBpbiB0aGUgTm9ydGhlcm4gb3IgU291dGhlcm5cbiAgICAgIC8vIGhlbWlzcGhlcmUsIHRoaXMgaXMgdGhlIG9ubHkgdGltZSB3ZSB1c2UgdGhlIGxldHRlciBTbyBldmVuXG4gICAgICAvLyBpZiB0aGUgWm9uZSBsZXR0ZXIgaXNuJ3QgZXhhY3RseSBjb3JyZWN0IGl0IHNob3VsZCBpbmRpY2F0ZVxuICAgICAgLy8gdGhlIGhlbWlzcGhlcmUgY29ycmVjdGx5XG4gICAgICBpZiAoem9uZUxldHRlciA8ICdOJykge1xuICAgICAgICB5IC09IDEwMDAwMDAwLjA7IC8vIHJlbW92ZSAxMCwwMDAsMDAwIG1ldGVyIG9mZnNldCB1c2VkXG4gICAgICAgIC8vIGZvciBzb3V0aGVybiBoZW1pc3BoZXJlXG4gICAgICB9XG5cbiAgICAgIC8vIFRoZXJlIGFyZSA2MCB6b25lcyB3aXRoIHpvbmUgMSBiZWluZyBhdCBXZXN0IC0xODAgdG8gLTE3NFxuICAgICAgTG9uZ09yaWdpbiA9ICh6b25lTnVtYmVyIC0gMSkgKiA2IC0gMTgwICsgMzsgLy8gKzMgcHV0cyBvcmlnaW5cbiAgICAgIC8vIGluIG1pZGRsZSBvZlxuICAgICAgLy8gem9uZVxuXG4gICAgICBlY2NQcmltZVNxdWFyZWQgPSAoZWNjU3F1YXJlZCkgLyAoMSAtIGVjY1NxdWFyZWQpO1xuXG4gICAgICBNID0geSAvIGswO1xuICAgICAgbXUgPSBNIC8gKGEgKiAoMSAtIGVjY1NxdWFyZWQgLyA0IC0gMyAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gNjQgLSA1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMjU2KSk7XG5cbiAgICAgIHBoaTFSYWQgPSBtdSArICgzICogZTEgLyAyIC0gMjcgKiBlMSAqIGUxICogZTEgLyAzMikgKiBNYXRoLnNpbigyICogbXUpICsgKDIxICogZTEgKiBlMSAvIDE2IC0gNTUgKiBlMSAqIGUxICogZTEgKiBlMSAvIDMyKSAqIE1hdGguc2luKDQgKiBtdSkgKyAoMTUxICogZTEgKiBlMSAqIGUxIC8gOTYpICogTWF0aC5zaW4oNiAqIG11KTtcbiAgICAgIC8vIGRvdWJsZSBwaGkxID0gUHJvak1hdGgucmFkVG9EZWcocGhpMVJhZCk7XG5cbiAgICAgIE4xID0gYSAvIE1hdGguc3FydCgxIC0gZWNjU3F1YXJlZCAqIE1hdGguc2luKHBoaTFSYWQpICogTWF0aC5zaW4ocGhpMVJhZCkpO1xuICAgICAgVDEgPSBNYXRoLnRhbihwaGkxUmFkKSAqIE1hdGgudGFuKHBoaTFSYWQpO1xuICAgICAgQzEgPSBlY2NQcmltZVNxdWFyZWQgKiBNYXRoLmNvcyhwaGkxUmFkKSAqIE1hdGguY29zKHBoaTFSYWQpO1xuICAgICAgUjEgPSBhICogKDEgLSBlY2NTcXVhcmVkKSAvIE1hdGgucG93KDEgLSBlY2NTcXVhcmVkICogTWF0aC5zaW4ocGhpMVJhZCkgKiBNYXRoLnNpbihwaGkxUmFkKSwgMS41KTtcbiAgICAgIEQgPSB4IC8gKE4xICogazApO1xuXG4gICAgICB2YXIgbGF0ID0gcGhpMVJhZCAtIChOMSAqIE1hdGgudGFuKHBoaTFSYWQpIC8gUjEpICogKEQgKiBEIC8gMiAtICg1ICsgMyAqIFQxICsgMTAgKiBDMSAtIDQgKiBDMSAqIEMxIC0gOSAqIGVjY1ByaW1lU3F1YXJlZCkgKiBEICogRCAqIEQgKiBEIC8gMjQgKyAoNjEgKyA5MCAqIFQxICsgMjk4ICogQzEgKyA0NSAqIFQxICogVDEgLSAyNTIgKiBlY2NQcmltZVNxdWFyZWQgLSAzICogQzEgKiBDMSkgKiBEICogRCAqIEQgKiBEICogRCAqIEQgLyA3MjApO1xuICAgICAgbGF0ID0gcmFkVG9EZWcobGF0KTtcblxuICAgICAgdmFyIGxvbiA9IChEIC0gKDEgKyAyICogVDEgKyBDMSkgKiBEICogRCAqIEQgLyA2ICsgKDUgLSAyICogQzEgKyAyOCAqIFQxIC0gMyAqIEMxICogQzEgKyA4ICogZWNjUHJpbWVTcXVhcmVkICsgMjQgKiBUMSAqIFQxKSAqIEQgKiBEICogRCAqIEQgKiBEIC8gMTIwKSAvIE1hdGguY29zKHBoaTFSYWQpO1xuICAgICAgbG9uID0gTG9uZ09yaWdpbiArIHJhZFRvRGVnKGxvbik7XG5cbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodXRtLmFjY3VyYWN5KSB7XG4gICAgICAgIHZhciB0b3BSaWdodCA9IFVUTXRvTEwoe1xuICAgICAgICAgIG5vcnRoaW5nOiB1dG0ubm9ydGhpbmcgKyB1dG0uYWNjdXJhY3ksXG4gICAgICAgICAgZWFzdGluZzogdXRtLmVhc3RpbmcgKyB1dG0uYWNjdXJhY3ksXG4gICAgICAgICAgem9uZUxldHRlcjogdXRtLnpvbmVMZXR0ZXIsXG4gICAgICAgICAgem9uZU51bWJlcjogdXRtLnpvbmVOdW1iZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB0b3A6IHRvcFJpZ2h0LmxhdCxcbiAgICAgICAgICByaWdodDogdG9wUmlnaHQubG9uLFxuICAgICAgICAgIGJvdHRvbTogbGF0LFxuICAgICAgICAgIGxlZnQ6IGxvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICBsYXQ6IGxhdCxcbiAgICAgICAgICBsb246IGxvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBNR1JTIGxldHRlciBkZXNpZ25hdG9yIGZvciB0aGUgZ2l2ZW4gbGF0aXR1ZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsYXQgVGhlIGxhdGl0dWRlIGluIFdHUzg0IHRvIGdldCB0aGUgbGV0dGVyIGRlc2lnbmF0b3JcbiAgICAgKiAgICAgZm9yLlxuICAgICAqIEByZXR1cm4ge2NoYXJ9IFRoZSBsZXR0ZXIgZGVzaWduYXRvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRMZXR0ZXJEZXNpZ25hdG9yKGxhdCkge1xuICAgICAgLy9UaGlzIGlzIGhlcmUgYXMgYW4gZXJyb3IgZmxhZyB0byBzaG93IHRoYXQgdGhlIExhdGl0dWRlIGlzXG4gICAgICAvL291dHNpZGUgTUdSUyBsaW1pdHNcbiAgICAgIHZhciBMZXR0ZXJEZXNpZ25hdG9yID0gJ1onO1xuXG4gICAgICBpZiAoKDg0ID49IGxhdCkgJiYgKGxhdCA+PSA3MikpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdYJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCg3MiA+IGxhdCkgJiYgKGxhdCA+PSA2NCkpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdXJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCg2NCA+IGxhdCkgJiYgKGxhdCA+PSA1NikpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdWJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCg1NiA+IGxhdCkgJiYgKGxhdCA+PSA0OCkpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdVJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCg0OCA+IGxhdCkgJiYgKGxhdCA+PSA0MCkpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdUJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCg0MCA+IGxhdCkgJiYgKGxhdCA+PSAzMikpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdTJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgzMiA+IGxhdCkgJiYgKGxhdCA+PSAyNCkpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdSJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgyNCA+IGxhdCkgJiYgKGxhdCA+PSAxNikpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdRJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgxNiA+IGxhdCkgJiYgKGxhdCA+PSA4KSkge1xuICAgICAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ1AnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoKDggPiBsYXQpICYmIChsYXQgPj0gMCkpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdOJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgwID4gbGF0KSAmJiAobGF0ID49IC04KSkge1xuICAgICAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ00nO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoKC04ID4gbGF0KSAmJiAobGF0ID49IC0xNikpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdMJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgtMTYgPiBsYXQpICYmIChsYXQgPj0gLTI0KSkge1xuICAgICAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ0snO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoKC0yNCA+IGxhdCkgJiYgKGxhdCA+PSAtMzIpKSB7XG4gICAgICAgIExldHRlckRlc2lnbmF0b3IgPSAnSic7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgoLTMyID4gbGF0KSAmJiAobGF0ID49IC00MCkpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdIJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgtNDAgPiBsYXQpICYmIChsYXQgPj0gLTQ4KSkge1xuICAgICAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ0cnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoKC00OCA+IGxhdCkgJiYgKGxhdCA+PSAtNTYpKSB7XG4gICAgICAgIExldHRlckRlc2lnbmF0b3IgPSAnRic7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgoLTU2ID4gbGF0KSAmJiAobGF0ID49IC02NCkpIHtcbiAgICAgICAgTGV0dGVyRGVzaWduYXRvciA9ICdFJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgtNjQgPiBsYXQpICYmIChsYXQgPj0gLTcyKSkge1xuICAgICAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ0QnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoKC03MiA+IGxhdCkgJiYgKGxhdCA+PSAtODApKSB7XG4gICAgICAgIExldHRlckRlc2lnbmF0b3IgPSAnQyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gTGV0dGVyRGVzaWduYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGEgVVRNIGxvY2F0aW9uIGFzIE1HUlMgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdXRtIEFuIG9iamVjdCBsaXRlcmFsIHdpdGggZWFzdGluZywgbm9ydGhpbmcsXG4gICAgICogICAgIHpvbmVMZXR0ZXIsIHpvbmVOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWNjdXJhY3kgQWNjdXJhY3kgaW4gZGlnaXRzICgxLTUpLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTUdSUyBzdHJpbmcgZm9yIHRoZSBnaXZlbiBVVE0gbG9jYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5jb2RlKHV0bSwgYWNjdXJhY3kpIHtcbiAgICAgIC8vIHByZXBlbmQgd2l0aCBsZWFkaW5nIHplcm9lc1xuICAgICAgdmFyIHNlYXN0aW5nID0gXCIwMDAwMFwiICsgdXRtLmVhc3RpbmcsXG4gICAgICAgIHNub3J0aGluZyA9IFwiMDAwMDBcIiArIHV0bS5ub3J0aGluZztcblxuICAgICAgcmV0dXJuIHV0bS56b25lTnVtYmVyICsgdXRtLnpvbmVMZXR0ZXIgKyBnZXQxMDBrSUQodXRtLmVhc3RpbmcsIHV0bS5ub3J0aGluZywgdXRtLnpvbmVOdW1iZXIpICsgc2Vhc3Rpbmcuc3Vic3RyKHNlYXN0aW5nLmxlbmd0aCAtIDUsIGFjY3VyYWN5KSArIHNub3J0aGluZy5zdWJzdHIoc25vcnRoaW5nLmxlbmd0aCAtIDUsIGFjY3VyYWN5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR3byBsZXR0ZXIgMTAwayBkZXNpZ25hdG9yIGZvciBhIGdpdmVuIFVUTSBlYXN0aW5nLFxuICAgICAqIG5vcnRoaW5nIGFuZCB6b25lIG51bWJlciB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVhc3RpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbm9ydGhpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9uZU51bWJlclxuICAgICAqIEByZXR1cm4gdGhlIHR3byBsZXR0ZXIgMTAwayBkZXNpZ25hdG9yIGZvciB0aGUgZ2l2ZW4gVVRNIGxvY2F0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldDEwMGtJRChlYXN0aW5nLCBub3J0aGluZywgem9uZU51bWJlcikge1xuICAgICAgdmFyIHNldFBhcm0gPSBnZXQxMDBrU2V0Rm9yWm9uZSh6b25lTnVtYmVyKTtcbiAgICAgIHZhciBzZXRDb2x1bW4gPSBNYXRoLmZsb29yKGVhc3RpbmcgLyAxMDAwMDApO1xuICAgICAgdmFyIHNldFJvdyA9IE1hdGguZmxvb3Iobm9ydGhpbmcgLyAxMDAwMDApICUgMjA7XG4gICAgICByZXR1cm4gZ2V0TGV0dGVyMTAwa0lEKHNldENvbHVtbiwgc2V0Um93LCBzZXRQYXJtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIFVUTSB6b25lIG51bWJlciwgZmlndXJlIG91dCB0aGUgTUdSUyAxMDBLIHNldCBpdCBpcyBpbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGkgQW4gVVRNIHpvbmUgbnVtYmVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIDEwMGsgc2V0IHRoZSBVVE0gem9uZSBpcyBpbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQxMDBrU2V0Rm9yWm9uZShpKSB7XG4gICAgICB2YXIgc2V0UGFybSA9IGkgJSBOVU1fMTAwS19TRVRTO1xuICAgICAgaWYgKHNldFBhcm0gPT09IDApIHtcbiAgICAgICAgc2V0UGFybSA9IE5VTV8xMDBLX1NFVFM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRQYXJtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdHdvLWxldHRlciBNR1JTIDEwMGsgZGVzaWduYXRvciBnaXZlbiBpbmZvcm1hdGlvblxuICAgICAqIHRyYW5zbGF0ZWQgZnJvbSB0aGUgVVRNIG5vcnRoaW5nLCBlYXN0aW5nIGFuZCB6b25lIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbiB0aGUgY29sdW1uIGluZGV4IGFzIGl0IHJlbGF0ZXMgdG8gdGhlIE1HUlNcbiAgICAgKiAgICAgICAgMTAwayBzZXQgc3ByZWFkc2hlZXQsIGNyZWF0ZWQgZnJvbSB0aGUgVVRNIGVhc3RpbmcuXG4gICAgICogICAgICAgIFZhbHVlcyBhcmUgMS04LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3cgdGhlIHJvdyBpbmRleCBhcyBpdCByZWxhdGVzIHRvIHRoZSBNR1JTIDEwMGsgc2V0XG4gICAgICogICAgICAgIHNwcmVhZHNoZWV0LCBjcmVhdGVkIGZyb20gdGhlIFVUTSBub3J0aGluZyB2YWx1ZS4gVmFsdWVzXG4gICAgICogICAgICAgIGFyZSBmcm9tIDAtMTkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcm0gdGhlIHNldCBibG9jaywgYXMgaXQgcmVsYXRlcyB0byB0aGUgTUdSUyAxMDBrIHNldFxuICAgICAqICAgICAgICBzcHJlYWRzaGVldCwgY3JlYXRlZCBmcm9tIHRoZSBVVE0gem9uZS4gVmFsdWVzIGFyZSBmcm9tXG4gICAgICogICAgICAgIDEtNjAuXG4gICAgICogQHJldHVybiB0d28gbGV0dGVyIE1HUlMgMTAwayBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldExldHRlcjEwMGtJRChjb2x1bW4sIHJvdywgcGFybSkge1xuICAgICAgLy8gY29sT3JpZ2luIGFuZCByb3dPcmlnaW4gYXJlIHRoZSBsZXR0ZXJzIGF0IHRoZSBvcmlnaW4gb2YgdGhlIHNldFxuICAgICAgdmFyIGluZGV4ID0gcGFybSAtIDE7XG4gICAgICB2YXIgY29sT3JpZ2luID0gU0VUX09SSUdJTl9DT0xVTU5fTEVUVEVSUy5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgIHZhciByb3dPcmlnaW4gPSBTRVRfT1JJR0lOX1JPV19MRVRURVJTLmNoYXJDb2RlQXQoaW5kZXgpO1xuXG4gICAgICAvLyBjb2xJbnQgYW5kIHJvd0ludCBhcmUgdGhlIGxldHRlcnMgdG8gYnVpbGQgdG8gcmV0dXJuXG4gICAgICB2YXIgY29sSW50ID0gY29sT3JpZ2luICsgY29sdW1uIC0gMTtcbiAgICAgIHZhciByb3dJbnQgPSByb3dPcmlnaW4gKyByb3c7XG4gICAgICB2YXIgcm9sbG92ZXIgPSBmYWxzZTtcblxuICAgICAgaWYgKGNvbEludCA+IFopIHtcbiAgICAgICAgY29sSW50ID0gY29sSW50IC0gWiArIEEgLSAxO1xuICAgICAgICByb2xsb3ZlciA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb2xJbnQgPT09IEkgfHwgKGNvbE9yaWdpbiA8IEkgJiYgY29sSW50ID4gSSkgfHwgKChjb2xJbnQgPiBJIHx8IGNvbE9yaWdpbiA8IEkpICYmIHJvbGxvdmVyKSkge1xuICAgICAgICBjb2xJbnQrKztcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbEludCA9PT0gTyB8fCAoY29sT3JpZ2luIDwgTyAmJiBjb2xJbnQgPiBPKSB8fCAoKGNvbEludCA+IE8gfHwgY29sT3JpZ2luIDwgTykgJiYgcm9sbG92ZXIpKSB7XG4gICAgICAgIGNvbEludCsrO1xuXG4gICAgICAgIGlmIChjb2xJbnQgPT09IEkpIHtcbiAgICAgICAgICBjb2xJbnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY29sSW50ID4gWikge1xuICAgICAgICBjb2xJbnQgPSBjb2xJbnQgLSBaICsgQSAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3dJbnQgPiBWKSB7XG4gICAgICAgIHJvd0ludCA9IHJvd0ludCAtIFYgKyBBIC0gMTtcbiAgICAgICAgcm9sbG92ZXIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJvbGxvdmVyID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICgoKHJvd0ludCA9PT0gSSkgfHwgKChyb3dPcmlnaW4gPCBJKSAmJiAocm93SW50ID4gSSkpKSB8fCAoKChyb3dJbnQgPiBJKSB8fCAocm93T3JpZ2luIDwgSSkpICYmIHJvbGxvdmVyKSkge1xuICAgICAgICByb3dJbnQrKztcbiAgICAgIH1cblxuICAgICAgaWYgKCgocm93SW50ID09PSBPKSB8fCAoKHJvd09yaWdpbiA8IE8pICYmIChyb3dJbnQgPiBPKSkpIHx8ICgoKHJvd0ludCA+IE8pIHx8IChyb3dPcmlnaW4gPCBPKSkgJiYgcm9sbG92ZXIpKSB7XG4gICAgICAgIHJvd0ludCsrO1xuXG4gICAgICAgIGlmIChyb3dJbnQgPT09IEkpIHtcbiAgICAgICAgICByb3dJbnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocm93SW50ID4gVikge1xuICAgICAgICByb3dJbnQgPSByb3dJbnQgLSBWICsgQSAtIDE7XG4gICAgICB9XG5cbiAgICAgIHZhciB0d29MZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvbEludCkgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHJvd0ludCk7XG4gICAgICByZXR1cm4gdHdvTGV0dGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29kZSB0aGUgVVRNIHBhcmFtZXRlcnMgZnJvbSBhIE1HUlMgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWdyc1N0cmluZyBhbiBVUFBFUkNBU0UgY29vcmRpbmF0ZSBzdHJpbmcgaXMgZXhwZWN0ZWQuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgbGl0ZXJhbCB3aXRoIGVhc3RpbmcsIG5vcnRoaW5nLCB6b25lTGV0dGVyLFxuICAgICAqICAgICB6b25lTnVtYmVyIGFuZCBhY2N1cmFjeSAoaW4gbWV0ZXJzKSBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlY29kZShtZ3JzU3RyaW5nKSB7XG5cbiAgICAgIGlmIChtZ3JzU3RyaW5nICYmIG1ncnNTdHJpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IChcIk1HUlNQb2ludCBjb3ZlcnRpbmcgZnJvbSBub3RoaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVuZ3RoID0gbWdyc1N0cmluZy5sZW5ndGg7XG5cbiAgICAgIHZhciBodW5LID0gbnVsbDtcbiAgICAgIHZhciBzYiA9IFwiXCI7XG4gICAgICB2YXIgdGVzdENoYXI7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIC8vIGdldCBab25lIG51bWJlclxuICAgICAgd2hpbGUgKCEoL1tBLVpdLykudGVzdCh0ZXN0Q2hhciA9IG1ncnNTdHJpbmcuY2hhckF0KGkpKSkge1xuICAgICAgICBpZiAoaSA+PSAyKSB7XG4gICAgICAgICAgdGhyb3cgKFwiTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206IFwiICsgbWdyc1N0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgc2IgKz0gdGVzdENoYXI7XG4gICAgICAgIGkrKztcbiAgICAgIH1cblxuICAgICAgdmFyIHpvbmVOdW1iZXIgPSBwYXJzZUludChzYiwgMTApO1xuXG4gICAgICBpZiAoaSA9PT0gMCB8fCBpICsgMyA+IGxlbmd0aCkge1xuICAgICAgICAvLyBBIGdvb2QgTUdSUyBzdHJpbmcgaGFzIHRvIGJlIDQtNSBkaWdpdHMgbG9uZyxcbiAgICAgICAgLy8gIyNBQUEvI0FBQSBhdCBsZWFzdC5cbiAgICAgICAgdGhyb3cgKFwiTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206IFwiICsgbWdyc1N0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB6b25lTGV0dGVyID0gbWdyc1N0cmluZy5jaGFyQXQoaSsrKTtcblxuICAgICAgLy8gU2hvdWxkIHdlIGNoZWNrIHRoZSB6b25lIGxldHRlciBoZXJlPyBXaHkgbm90LlxuICAgICAgaWYgKHpvbmVMZXR0ZXIgPD0gJ0EnIHx8IHpvbmVMZXR0ZXIgPT09ICdCJyB8fCB6b25lTGV0dGVyID09PSAnWScgfHwgem9uZUxldHRlciA+PSAnWicgfHwgem9uZUxldHRlciA9PT0gJ0knIHx8IHpvbmVMZXR0ZXIgPT09ICdPJykge1xuICAgICAgICB0aHJvdyAoXCJNR1JTUG9pbnQgem9uZSBsZXR0ZXIgXCIgKyB6b25lTGV0dGVyICsgXCIgbm90IGhhbmRsZWQ6IFwiICsgbWdyc1N0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIGh1bksgPSBtZ3JzU3RyaW5nLnN1YnN0cmluZyhpLCBpICs9IDIpO1xuXG4gICAgICB2YXIgc2V0ID0gZ2V0MTAwa1NldEZvclpvbmUoem9uZU51bWJlcik7XG5cbiAgICAgIHZhciBlYXN0MTAwayA9IGdldEVhc3RpbmdGcm9tQ2hhcihodW5LLmNoYXJBdCgwKSwgc2V0KTtcbiAgICAgIHZhciBub3J0aDEwMGsgPSBnZXROb3J0aGluZ0Zyb21DaGFyKGh1bksuY2hhckF0KDEpLCBzZXQpO1xuXG4gICAgICAvLyBXZSBoYXZlIGEgYnVnIHdoZXJlIHRoZSBub3J0aGluZyBtYXkgYmUgMjAwMDAwMCB0b28gbG93LlxuICAgICAgLy8gSG93XG4gICAgICAvLyBkbyB3ZSBrbm93IHdoZW4gdG8gcm9sbCBvdmVyP1xuXG4gICAgICB3aGlsZSAobm9ydGgxMDBrIDwgZ2V0TWluTm9ydGhpbmcoem9uZUxldHRlcikpIHtcbiAgICAgICAgbm9ydGgxMDBrICs9IDIwMDAwMDA7XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgY2hhciBpbmRleCBmb3IgZWFzdGluZy9ub3J0aGluZyBzZXBhcmF0b3JcbiAgICAgIHZhciByZW1haW5kZXIgPSBsZW5ndGggLSBpO1xuXG4gICAgICBpZiAocmVtYWluZGVyICUgMiAhPT0gMCkge1xuICAgICAgICB0aHJvdyAoXCJNR1JTUG9pbnQgaGFzIHRvIGhhdmUgYW4gZXZlbiBudW1iZXIgXFxub2YgZGlnaXRzIGFmdGVyIHRoZSB6b25lIGxldHRlciBhbmQgdHdvIDEwMGttIGxldHRlcnMgLSBmcm9udCBcXG5oYWxmIGZvciBlYXN0aW5nIG1ldGVycywgc2Vjb25kIGhhbGYgZm9yIFxcbm5vcnRoaW5nIG1ldGVyc1wiICsgbWdyc1N0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZXAgPSByZW1haW5kZXIgLyAyO1xuXG4gICAgICB2YXIgc2VwRWFzdGluZyA9IDAuMDtcbiAgICAgIHZhciBzZXBOb3J0aGluZyA9IDAuMDtcbiAgICAgIHZhciBhY2N1cmFjeUJvbnVzLCBzZXBFYXN0aW5nU3RyaW5nLCBzZXBOb3J0aGluZ1N0cmluZywgZWFzdGluZywgbm9ydGhpbmc7XG4gICAgICBpZiAoc2VwID4gMCkge1xuICAgICAgICBhY2N1cmFjeUJvbnVzID0gMTAwMDAwLjAgLyBNYXRoLnBvdygxMCwgc2VwKTtcbiAgICAgICAgc2VwRWFzdGluZ1N0cmluZyA9IG1ncnNTdHJpbmcuc3Vic3RyaW5nKGksIGkgKyBzZXApO1xuICAgICAgICBzZXBFYXN0aW5nID0gcGFyc2VGbG9hdChzZXBFYXN0aW5nU3RyaW5nKSAqIGFjY3VyYWN5Qm9udXM7XG4gICAgICAgIHNlcE5vcnRoaW5nU3RyaW5nID0gbWdyc1N0cmluZy5zdWJzdHJpbmcoaSArIHNlcCk7XG4gICAgICAgIHNlcE5vcnRoaW5nID0gcGFyc2VGbG9hdChzZXBOb3J0aGluZ1N0cmluZykgKiBhY2N1cmFjeUJvbnVzO1xuICAgICAgfVxuXG4gICAgICBlYXN0aW5nID0gc2VwRWFzdGluZyArIGVhc3QxMDBrO1xuICAgICAgbm9ydGhpbmcgPSBzZXBOb3J0aGluZyArIG5vcnRoMTAwaztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWFzdGluZzogZWFzdGluZyxcbiAgICAgICAgbm9ydGhpbmc6IG5vcnRoaW5nLFxuICAgICAgICB6b25lTGV0dGVyOiB6b25lTGV0dGVyLFxuICAgICAgICB6b25lTnVtYmVyOiB6b25lTnVtYmVyLFxuICAgICAgICBhY2N1cmFjeTogYWNjdXJhY3lCb251c1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aGUgZmlyc3QgbGV0dGVyIGZyb20gYSB0d28tbGV0dGVyIE1HUlMgMTAwayB6b25lLCBhbmQgZ2l2ZW4gdGhlXG4gICAgICogTUdSUyB0YWJsZSBzZXQgZm9yIHRoZSB6b25lIG51bWJlciwgZmlndXJlIG91dCB0aGUgZWFzdGluZyB2YWx1ZSB0aGF0XG4gICAgICogc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBvdGhlciwgc2Vjb25kYXJ5IGVhc3RpbmcgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Y2hhcn0gZSBUaGUgZmlyc3QgbGV0dGVyIGZyb20gYSB0d28tbGV0dGVyIE1HUlMgMTAwwrRrIHpvbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNldCBUaGUgTUdSUyB0YWJsZSBzZXQgZm9yIHRoZSB6b25lIG51bWJlci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBlYXN0aW5nIHZhbHVlIGZvciB0aGUgZ2l2ZW4gbGV0dGVyIGFuZCBzZXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RWFzdGluZ0Zyb21DaGFyKGUsIHNldCkge1xuICAgICAgLy8gY29sT3JpZ2luIGlzIHRoZSBsZXR0ZXIgYXQgdGhlIG9yaWdpbiBvZiB0aGUgc2V0IGZvciB0aGVcbiAgICAgIC8vIGNvbHVtblxuICAgICAgdmFyIGN1ckNvbCA9IFNFVF9PUklHSU5fQ09MVU1OX0xFVFRFUlMuY2hhckNvZGVBdChzZXQgLSAxKTtcbiAgICAgIHZhciBlYXN0aW5nVmFsdWUgPSAxMDAwMDAuMDtcbiAgICAgIHZhciByZXdpbmRNYXJrZXIgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKGN1ckNvbCAhPT0gZS5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIGN1ckNvbCsrO1xuICAgICAgICBpZiAoY3VyQ29sID09PSBJKSB7XG4gICAgICAgICAgY3VyQ29sKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1ckNvbCA9PT0gTykge1xuICAgICAgICAgIGN1ckNvbCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJDb2wgPiBaKSB7XG4gICAgICAgICAgaWYgKHJld2luZE1hcmtlcikge1xuICAgICAgICAgICAgdGhyb3cgKFwiQmFkIGNoYXJhY3RlcjogXCIgKyBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VyQ29sID0gQTtcbiAgICAgICAgICByZXdpbmRNYXJrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVhc3RpbmdWYWx1ZSArPSAxMDAwMDAuMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVhc3RpbmdWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aGUgc2Vjb25kIGxldHRlciBmcm9tIGEgdHdvLWxldHRlciBNR1JTIDEwMGsgem9uZSwgYW5kIGdpdmVuIHRoZVxuICAgICAqIE1HUlMgdGFibGUgc2V0IGZvciB0aGUgem9uZSBudW1iZXIsIGZpZ3VyZSBvdXQgdGhlIG5vcnRoaW5nIHZhbHVlIHRoYXRcbiAgICAgKiBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIG90aGVyLCBzZWNvbmRhcnkgbm9ydGhpbmcgdmFsdWUuIFlvdSBoYXZlIHRvXG4gICAgICogcmVtZW1iZXIgdGhhdCBOb3J0aGluZ3MgYXJlIGRldGVybWluZWQgZnJvbSB0aGUgZXF1YXRvciwgYW5kIHRoZSB2ZXJ0aWNhbFxuICAgICAqIGN5Y2xlIG9mIGxldHRlcnMgbWVhbiBhIDIwMDAwMDAgYWRkaXRpb25hbCBub3J0aGluZyBtZXRlcnMuIFRoaXMgaGFwcGVuc1xuICAgICAqIGFwcHJveC4gZXZlcnkgMTggZGVncmVlcyBvZiBsYXRpdHVkZS4gVGhpcyBtZXRob2QgZG9lcyAqTk9UKiBjb3VudCBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIG5vcnRoaW5ncy4gWW91IGhhdmUgdG8gZmlndXJlIG91dCBob3cgbWFueSAyMDAwMDAwIG1ldGVycyBuZWVkXG4gICAgICogdG8gYmUgYWRkZWQgZm9yIHRoZSB6b25lIGxldHRlciBvZiB0aGUgTUdSUyBjb29yZGluYXRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2NoYXJ9IG4gU2Vjb25kIGxldHRlciBvZiB0aGUgTUdSUyAxMDBrIHpvbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2V0IFRoZSBNR1JTIHRhYmxlIHNldCBudW1iZXIsIHdoaWNoIGlzIGRlcGVuZGVudCBvbiB0aGVcbiAgICAgKiAgICAgVVRNIHpvbmUgbnVtYmVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5vcnRoaW5nIHZhbHVlIGZvciB0aGUgZ2l2ZW4gbGV0dGVyIGFuZCBzZXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Tm9ydGhpbmdGcm9tQ2hhcihuLCBzZXQpIHtcblxuICAgICAgaWYgKG4gPiAnVicpIHtcbiAgICAgICAgdGhyb3cgKFwiTUdSU1BvaW50IGdpdmVuIGludmFsaWQgTm9ydGhpbmcgXCIgKyBuKTtcbiAgICAgIH1cblxuICAgICAgLy8gcm93T3JpZ2luIGlzIHRoZSBsZXR0ZXIgYXQgdGhlIG9yaWdpbiBvZiB0aGUgc2V0IGZvciB0aGVcbiAgICAgIC8vIGNvbHVtblxuICAgICAgdmFyIGN1clJvdyA9IFNFVF9PUklHSU5fUk9XX0xFVFRFUlMuY2hhckNvZGVBdChzZXQgLSAxKTtcbiAgICAgIHZhciBub3J0aGluZ1ZhbHVlID0gMC4wO1xuICAgICAgdmFyIHJld2luZE1hcmtlciA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoY3VyUm93ICE9PSBuLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgICAgY3VyUm93Kys7XG4gICAgICAgIGlmIChjdXJSb3cgPT09IEkpIHtcbiAgICAgICAgICBjdXJSb3crKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VyUm93ID09PSBPKSB7XG4gICAgICAgICAgY3VyUm93Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZml4aW5nIGEgYnVnIG1ha2luZyB3aG9sZSBhcHBsaWNhdGlvbiBoYW5nIGluIHRoaXMgbG9vcFxuICAgICAgICAvLyB3aGVuICduJyBpcyBhIHdyb25nIGNoYXJhY3RlclxuICAgICAgICBpZiAoY3VyUm93ID4gVikge1xuICAgICAgICAgIGlmIChyZXdpbmRNYXJrZXIpIHsgLy8gbWFraW5nIHN1cmUgdGhhdCB0aGlzIGxvb3AgZW5kc1xuICAgICAgICAgICAgdGhyb3cgKFwiQmFkIGNoYXJhY3RlcjogXCIgKyBuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VyUm93ID0gQTtcbiAgICAgICAgICByZXdpbmRNYXJrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG5vcnRoaW5nVmFsdWUgKz0gMTAwMDAwLjA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub3J0aGluZ1ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiBnZXRNaW5Ob3J0aGluZyByZXR1cm5zIHRoZSBtaW5pbXVtIG5vcnRoaW5nIHZhbHVlIG9mIGEgTUdSU1xuICAgICAqIHpvbmUuXG4gICAgICpcbiAgICAgKiBQb3J0ZWQgZnJvbSBHZW90cmFucycgYyBMYXR0aXR1ZGVfQmFuZF9WYWx1ZSBzdHJ1Y3R1cmUgdGFibGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Y2hhcn0gem9uZUxldHRlciBUaGUgTUdSUyB6b25lIHRvIGdldCB0aGUgbWluIG5vcnRoaW5nIGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWluTm9ydGhpbmcoem9uZUxldHRlcikge1xuICAgICAgdmFyIG5vcnRoaW5nO1xuICAgICAgc3dpdGNoICh6b25lTGV0dGVyKSB7XG4gICAgICBjYXNlICdDJzpcbiAgICAgICAgbm9ydGhpbmcgPSAxMTAwMDAwLjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRCc6XG4gICAgICAgIG5vcnRoaW5nID0gMjAwMDAwMC4wO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBub3J0aGluZyA9IDI4MDAwMDAuMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdGJzpcbiAgICAgICAgbm9ydGhpbmcgPSAzNzAwMDAwLjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRyc6XG4gICAgICAgIG5vcnRoaW5nID0gNDYwMDAwMC4wO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0gnOlxuICAgICAgICBub3J0aGluZyA9IDU1MDAwMDAuMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdKJzpcbiAgICAgICAgbm9ydGhpbmcgPSA2NDAwMDAwLjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnSyc6XG4gICAgICAgIG5vcnRoaW5nID0gNzMwMDAwMC4wO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0wnOlxuICAgICAgICBub3J0aGluZyA9IDgyMDAwMDAuMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNJzpcbiAgICAgICAgbm9ydGhpbmcgPSA5MTAwMDAwLjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTic6XG4gICAgICAgIG5vcnRoaW5nID0gMC4wO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1AnOlxuICAgICAgICBub3J0aGluZyA9IDgwMDAwMC4wO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1EnOlxuICAgICAgICBub3J0aGluZyA9IDE3MDAwMDAuMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdSJzpcbiAgICAgICAgbm9ydGhpbmcgPSAyNjAwMDAwLjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnUyc6XG4gICAgICAgIG5vcnRoaW5nID0gMzUwMDAwMC4wO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1QnOlxuICAgICAgICBub3J0aGluZyA9IDQ0MDAwMDAuMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdVJzpcbiAgICAgICAgbm9ydGhpbmcgPSA1MzAwMDAwLjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVic6XG4gICAgICAgIG5vcnRoaW5nID0gNjIwMDAwMC4wO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1cnOlxuICAgICAgICBub3J0aGluZyA9IDcwMDAwMDAuMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdYJzpcbiAgICAgICAgbm9ydGhpbmcgPSA3OTAwMDAwLjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbm9ydGhpbmcgPSAtMS4wO1xuICAgICAgfVxuICAgICAgaWYgKG5vcnRoaW5nID49IDAuMCkge1xuICAgICAgICByZXR1cm4gbm9ydGhpbmc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgKFwiSW52YWxpZCB6b25lIGxldHRlcjogXCIgKyB6b25lTGV0dGVyKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIFBvaW50KHgsIHksIHopIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb2ludCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LCB5LCB6KTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICAgIHRoaXMueCA9IHhbMF07XG4gICAgICAgIHRoaXMueSA9IHhbMV07XG4gICAgICAgIHRoaXMueiA9IHhbMl0gfHwgMC4wO1xuICAgICAgfSBlbHNlIGlmKHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLnggPSB4Lng7XG4gICAgICAgIHRoaXMueSA9IHgueTtcbiAgICAgICAgdGhpcy56ID0geC56IHx8IDAuMDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnICYmIHR5cGVvZiB5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgY29vcmRzID0geC5zcGxpdCgnLCcpO1xuICAgICAgICB0aGlzLnggPSBwYXJzZUZsb2F0KGNvb3Jkc1swXSwgMTApO1xuICAgICAgICB0aGlzLnkgPSBwYXJzZUZsb2F0KGNvb3Jkc1sxXSwgMTApO1xuICAgICAgICB0aGlzLnogPSBwYXJzZUZsb2F0KGNvb3Jkc1syXSwgMTApIHx8IDAuMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHogfHwgMC4wO1xuICAgICAgfVxuICAgICAgY29uc29sZS53YXJuKCdwcm9qNC5Qb2ludCB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiAzLCB1c2UgcHJvajQudG9Qb2ludCcpO1xuICAgIH1cblxuICAgIFBvaW50LmZyb21NR1JTID0gZnVuY3Rpb24obWdyc1N0cikge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0b1BvaW50JDEobWdyc1N0cikpO1xuICAgIH07XG4gICAgUG9pbnQucHJvdG90eXBlLnRvTUdSUyA9IGZ1bmN0aW9uKGFjY3VyYWN5KSB7XG4gICAgICByZXR1cm4gZm9yd2FyZCQxKFt0aGlzLngsIHRoaXMueV0sIGFjY3VyYWN5KTtcbiAgICB9O1xuXG4gICAgdmFyIEMwMCA9IDE7XG4gICAgdmFyIEMwMiA9IDAuMjU7XG4gICAgdmFyIEMwNCA9IDAuMDQ2ODc1O1xuICAgIHZhciBDMDYgPSAwLjAxOTUzMTI1O1xuICAgIHZhciBDMDggPSAwLjAxMDY4MTE1MjM0Mzc1O1xuICAgIHZhciBDMjIgPSAwLjc1O1xuICAgIHZhciBDNDQgPSAwLjQ2ODc1O1xuICAgIHZhciBDNDYgPSAwLjAxMzAyMDgzMzMzMzMzMzMzMzMzO1xuICAgIHZhciBDNDggPSAwLjAwNzEyMDc2ODIyOTE2NjY2NjY2O1xuICAgIHZhciBDNjYgPSAwLjM2NDU4MzMzMzMzMzMzMzMzMzMzO1xuICAgIHZhciBDNjggPSAwLjAwNTY5NjYxNDU4MzMzMzMzMzMzO1xuICAgIHZhciBDODggPSAwLjMwNzYxNzE4NzU7XG5cbiAgICB2YXIgcGpfZW5mbiA9IGZ1bmN0aW9uKGVzKSB7XG4gICAgICB2YXIgZW4gPSBbXTtcbiAgICAgIGVuWzBdID0gQzAwIC0gZXMgKiAoQzAyICsgZXMgKiAoQzA0ICsgZXMgKiAoQzA2ICsgZXMgKiBDMDgpKSk7XG4gICAgICBlblsxXSA9IGVzICogKEMyMiAtIGVzICogKEMwNCArIGVzICogKEMwNiArIGVzICogQzA4KSkpO1xuICAgICAgdmFyIHQgPSBlcyAqIGVzO1xuICAgICAgZW5bMl0gPSB0ICogKEM0NCAtIGVzICogKEM0NiArIGVzICogQzQ4KSk7XG4gICAgICB0ICo9IGVzO1xuICAgICAgZW5bM10gPSB0ICogKEM2NiAtIGVzICogQzY4KTtcbiAgICAgIGVuWzRdID0gdCAqIGVzICogQzg4O1xuICAgICAgcmV0dXJuIGVuO1xuICAgIH07XG5cbiAgICB2YXIgcGpfbWxmbiA9IGZ1bmN0aW9uKHBoaSwgc3BoaSwgY3BoaSwgZW4pIHtcbiAgICAgIGNwaGkgKj0gc3BoaTtcbiAgICAgIHNwaGkgKj0gc3BoaTtcbiAgICAgIHJldHVybiAoZW5bMF0gKiBwaGkgLSBjcGhpICogKGVuWzFdICsgc3BoaSAqIChlblsyXSArIHNwaGkgKiAoZW5bM10gKyBzcGhpICogZW5bNF0pKSkpO1xuICAgIH07XG5cbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIHZhciBwal9pbnZfbWxmbiA9IGZ1bmN0aW9uKGFyZywgZXMsIGVuKSB7XG4gICAgICB2YXIgayA9IDEgLyAoMSAtIGVzKTtcbiAgICAgIHZhciBwaGkgPSBhcmc7XG4gICAgICBmb3IgKHZhciBpID0gTUFYX0lURVI7IGk7IC0taSkgeyAvKiByYXJlbHkgZ29lcyBvdmVyIDIgaXRlcmF0aW9ucyAqL1xuICAgICAgICB2YXIgcyA9IE1hdGguc2luKHBoaSk7XG4gICAgICAgIHZhciB0ID0gMSAtIGVzICogcyAqIHM7XG4gICAgICAgIC8vdCA9IHRoaXMucGpfbWxmbihwaGksIHMsIE1hdGguY29zKHBoaSksIGVuKSAtIGFyZztcbiAgICAgICAgLy9waGkgLT0gdCAqICh0ICogTWF0aC5zcXJ0KHQpKSAqIGs7XG4gICAgICAgIHQgPSAocGpfbWxmbihwaGksIHMsIE1hdGguY29zKHBoaSksIGVuKSAtIGFyZykgKiAodCAqIE1hdGguc3FydCh0KSkgKiBrO1xuICAgICAgICBwaGkgLT0gdDtcbiAgICAgICAgaWYgKE1hdGguYWJzKHQpIDwgRVBTTE4pIHtcbiAgICAgICAgICByZXR1cm4gcGhpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLy4ucmVwb3J0RXJyb3IoXCJjYXNzOnBqX2ludl9tbGZuOiBDb252ZXJnZW5jZSBlcnJvclwiKTtcbiAgICAgIHJldHVybiBwaGk7XG4gICAgfTtcblxuICAgIC8vIEhlYXZpbHkgYmFzZWQgb24gdGhpcyB0bWVyYyBwcm9qZWN0aW9uIGltcGxlbWVudGF0aW9uXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21ibG9jaC9tYXBzaGFwZXItcHJvai9ibG9iL21hc3Rlci9zcmMvcHJvamVjdGlvbnMvdG1lcmMuanNcblxuICAgIGZ1bmN0aW9uIGluaXQkMigpIHtcbiAgICAgIHRoaXMueDAgPSB0aGlzLngwICE9PSB1bmRlZmluZWQgPyB0aGlzLngwIDogMDtcbiAgICAgIHRoaXMueTAgPSB0aGlzLnkwICE9PSB1bmRlZmluZWQgPyB0aGlzLnkwIDogMDtcbiAgICAgIHRoaXMubG9uZzAgPSB0aGlzLmxvbmcwICE9PSB1bmRlZmluZWQgPyB0aGlzLmxvbmcwIDogMDtcbiAgICAgIHRoaXMubGF0MCA9IHRoaXMubGF0MCAhPT0gdW5kZWZpbmVkID8gdGhpcy5sYXQwIDogMDtcblxuICAgICAgaWYgKHRoaXMuZXMpIHtcbiAgICAgICAgdGhpcy5lbiA9IHBqX2VuZm4odGhpcy5lcyk7XG4gICAgICAgIHRoaXMubWwwID0gcGpfbWxmbih0aGlzLmxhdDAsIE1hdGguc2luKHRoaXMubGF0MCksIE1hdGguY29zKHRoaXMubGF0MCksIHRoaXMuZW4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAgICBUcmFuc3ZlcnNlIE1lcmNhdG9yIEZvcndhcmQgIC0gbG9uZy9sYXQgdG8geC95XG4gICAgICAgIGxvbmcvbGF0IGluIHJhZGlhbnNcbiAgICAgICovXG4gICAgZnVuY3Rpb24gZm9yd2FyZCQyKHApIHtcbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuXG4gICAgICB2YXIgZGVsdGFfbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgIHZhciBjb247XG4gICAgICB2YXIgeCwgeTtcbiAgICAgIHZhciBzaW5fcGhpID0gTWF0aC5zaW4obGF0KTtcbiAgICAgIHZhciBjb3NfcGhpID0gTWF0aC5jb3MobGF0KTtcblxuICAgICAgaWYgKCF0aGlzLmVzKSB7XG4gICAgICAgIHZhciBiID0gY29zX3BoaSAqIE1hdGguc2luKGRlbHRhX2xvbik7XG5cbiAgICAgICAgaWYgKChNYXRoLmFicyhNYXRoLmFicyhiKSAtIDEpKSA8IEVQU0xOKSB7XG4gICAgICAgICAgcmV0dXJuICg5Myk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgeCA9IDAuNSAqIHRoaXMuYSAqIHRoaXMuazAgKiBNYXRoLmxvZygoMSArIGIpIC8gKDEgLSBiKSkgKyB0aGlzLngwO1xuICAgICAgICAgIHkgPSBjb3NfcGhpICogTWF0aC5jb3MoZGVsdGFfbG9uKSAvIE1hdGguc3FydCgxIC0gTWF0aC5wb3coYiwgMikpO1xuICAgICAgICAgIGIgPSBNYXRoLmFicyh5KTtcblxuICAgICAgICAgIGlmIChiID49IDEpIHtcbiAgICAgICAgICAgIGlmICgoYiAtIDEpID4gRVBTTE4pIHtcbiAgICAgICAgICAgICAgcmV0dXJuICg5Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeSA9IE1hdGguYWNvcyh5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobGF0IDwgMCkge1xuICAgICAgICAgICAgeSA9IC15O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHkgPSB0aGlzLmEgKiB0aGlzLmswICogKHkgLSB0aGlzLmxhdDApICsgdGhpcy55MDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBhbCA9IGNvc19waGkgKiBkZWx0YV9sb247XG4gICAgICAgIHZhciBhbHMgPSBNYXRoLnBvdyhhbCwgMik7XG4gICAgICAgIHZhciBjID0gdGhpcy5lcDIgKiBNYXRoLnBvdyhjb3NfcGhpLCAyKTtcbiAgICAgICAgdmFyIGNzID0gTWF0aC5wb3coYywgMik7XG4gICAgICAgIHZhciB0cSA9IE1hdGguYWJzKGNvc19waGkpID4gRVBTTE4gPyBNYXRoLnRhbihsYXQpIDogMDtcbiAgICAgICAgdmFyIHQgPSBNYXRoLnBvdyh0cSwgMik7XG4gICAgICAgIHZhciB0cyA9IE1hdGgucG93KHQsIDIpO1xuICAgICAgICBjb24gPSAxIC0gdGhpcy5lcyAqIE1hdGgucG93KHNpbl9waGksIDIpO1xuICAgICAgICBhbCA9IGFsIC8gTWF0aC5zcXJ0KGNvbik7XG4gICAgICAgIHZhciBtbCA9IHBqX21sZm4obGF0LCBzaW5fcGhpLCBjb3NfcGhpLCB0aGlzLmVuKTtcblxuICAgICAgICB4ID0gdGhpcy5hICogKHRoaXMuazAgKiBhbCAqICgxICtcbiAgICAgICAgICBhbHMgLyA2ICogKDEgLSB0ICsgYyArXG4gICAgICAgICAgYWxzIC8gMjAgKiAoNSAtIDE4ICogdCArIHRzICsgMTQgKiBjIC0gNTggKiB0ICogYyArXG4gICAgICAgICAgYWxzIC8gNDIgKiAoNjEgKyAxNzkgKiB0cyAtIHRzICogdCAtIDQ3OSAqIHQpKSkpKSArXG4gICAgICAgICAgdGhpcy54MDtcblxuICAgICAgICB5ID0gdGhpcy5hICogKHRoaXMuazAgKiAobWwgLSB0aGlzLm1sMCArXG4gICAgICAgICAgc2luX3BoaSAqIGRlbHRhX2xvbiAqIGFsIC8gMiAqICgxICtcbiAgICAgICAgICBhbHMgLyAxMiAqICg1IC0gdCArIDkgKiBjICsgNCAqIGNzICtcbiAgICAgICAgICBhbHMgLyAzMCAqICg2MSArIHRzIC0gNTggKiB0ICsgMjcwICogYyAtIDMzMCAqIHQgKiBjICtcbiAgICAgICAgICBhbHMgLyA1NiAqICgxMzg1ICsgNTQzICogdHMgLSB0cyAqIHQgLSAzMTExICogdCkpKSkpKSArXG4gICAgICAgICAgdGhpcy55MDtcbiAgICAgIH1cblxuICAgICAgcC54ID0geDtcbiAgICAgIHAueSA9IHk7XG5cbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAgICBUcmFuc3ZlcnNlIE1lcmNhdG9yIEludmVyc2UgIC0gIHgveSB0byBsb25nL2xhdFxuICAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDIocCkge1xuICAgICAgdmFyIGNvbiwgcGhpO1xuICAgICAgdmFyIGxhdCwgbG9uO1xuICAgICAgdmFyIHggPSAocC54IC0gdGhpcy54MCkgKiAoMSAvIHRoaXMuYSk7XG4gICAgICB2YXIgeSA9IChwLnkgLSB0aGlzLnkwKSAqICgxIC8gdGhpcy5hKTtcblxuICAgICAgaWYgKCF0aGlzLmVzKSB7XG4gICAgICAgIHZhciBmID0gTWF0aC5leHAoeCAvIHRoaXMuazApO1xuICAgICAgICB2YXIgZyA9IDAuNSAqIChmIC0gMSAvIGYpO1xuICAgICAgICB2YXIgdGVtcCA9IHRoaXMubGF0MCArIHkgLyB0aGlzLmswO1xuICAgICAgICB2YXIgaCA9IE1hdGguY29zKHRlbXApO1xuICAgICAgICBjb24gPSBNYXRoLnNxcnQoKDEgLSBNYXRoLnBvdyhoLCAyKSkgLyAoMSArIE1hdGgucG93KGcsIDIpKSk7XG4gICAgICAgIGxhdCA9IE1hdGguYXNpbihjb24pO1xuXG4gICAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICAgIGxhdCA9IC1sYXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKGcgPT09IDApICYmIChoID09PSAwKSkge1xuICAgICAgICAgIGxvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9uID0gYWRqdXN0X2xvbihNYXRoLmF0YW4yKGcsIGgpICsgdGhpcy5sb25nMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgeyAvLyBlbGxpcHNvaWRhbCBmb3JtXG4gICAgICAgIGNvbiA9IHRoaXMubWwwICsgeSAvIHRoaXMuazA7XG4gICAgICAgIHBoaSA9IHBqX2ludl9tbGZuKGNvbiwgdGhpcy5lcywgdGhpcy5lbik7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHBoaSkgPCBIQUxGX1BJKSB7XG4gICAgICAgICAgdmFyIHNpbl9waGkgPSBNYXRoLnNpbihwaGkpO1xuICAgICAgICAgIHZhciBjb3NfcGhpID0gTWF0aC5jb3MocGhpKTtcbiAgICAgICAgICB2YXIgdGFuX3BoaSA9IE1hdGguYWJzKGNvc19waGkpID4gRVBTTE4gPyBNYXRoLnRhbihwaGkpIDogMDtcbiAgICAgICAgICB2YXIgYyA9IHRoaXMuZXAyICogTWF0aC5wb3coY29zX3BoaSwgMik7XG4gICAgICAgICAgdmFyIGNzID0gTWF0aC5wb3coYywgMik7XG4gICAgICAgICAgdmFyIHQgPSBNYXRoLnBvdyh0YW5fcGhpLCAyKTtcbiAgICAgICAgICB2YXIgdHMgPSBNYXRoLnBvdyh0LCAyKTtcbiAgICAgICAgICBjb24gPSAxIC0gdGhpcy5lcyAqIE1hdGgucG93KHNpbl9waGksIDIpO1xuICAgICAgICAgIHZhciBkID0geCAqIE1hdGguc3FydChjb24pIC8gdGhpcy5rMDtcbiAgICAgICAgICB2YXIgZHMgPSBNYXRoLnBvdyhkLCAyKTtcbiAgICAgICAgICBjb24gPSBjb24gKiB0YW5fcGhpO1xuXG4gICAgICAgICAgbGF0ID0gcGhpIC0gKGNvbiAqIGRzIC8gKDEgLSB0aGlzLmVzKSkgKiAwLjUgKiAoMSAtXG4gICAgICAgICAgICBkcyAvIDEyICogKDUgKyAzICogdCAtIDkgKiBjICogdCArIGMgLSA0ICogY3MgLVxuICAgICAgICAgICAgZHMgLyAzMCAqICg2MSArIDkwICogdCAtIDI1MiAqIGMgKiB0ICsgNDUgKiB0cyArIDQ2ICogYyAtXG4gICAgICAgICAgICBkcyAvIDU2ICogKDEzODUgKyAzNjMzICogdCArIDQwOTUgKiB0cyArIDE1NzQgKiB0cyAqIHQpKSkpO1xuXG4gICAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgKGQgKiAoMSAtXG4gICAgICAgICAgICBkcyAvIDYgKiAoMSArIDIgKiB0ICsgYyAtXG4gICAgICAgICAgICBkcyAvIDIwICogKDUgKyAyOCAqIHQgKyAyNCAqIHRzICsgOCAqIGMgKiB0ICsgNiAqIGMgLVxuICAgICAgICAgICAgZHMgLyA0MiAqICg2MSArIDY2MiAqIHQgKyAxMzIwICogdHMgKyA3MjAgKiB0cyAqIHQpKSkpIC8gY29zX3BoaSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxhdCA9IEhBTEZfUEkgKiBzaWduKHkpO1xuICAgICAgICAgIGxvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkMyA9IFtcIlRyYW5zdmVyc2VfTWVyY2F0b3JcIiwgXCJUcmFuc3ZlcnNlIE1lcmNhdG9yXCIsIFwidG1lcmNcIl07XG4gICAgdmFyIHRtZXJjID0ge1xuICAgICAgaW5pdDogaW5pdCQyLFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQyLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQyLFxuICAgICAgbmFtZXM6IG5hbWVzJDNcbiAgICB9O1xuXG4gICAgdmFyIHNpbmggPSBmdW5jdGlvbih4KSB7XG4gICAgICB2YXIgciA9IE1hdGguZXhwKHgpO1xuICAgICAgciA9IChyIC0gMSAvIHIpIC8gMjtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICB2YXIgaHlwb3QgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICB4ID0gTWF0aC5hYnMoeCk7XG4gICAgICB5ID0gTWF0aC5hYnMoeSk7XG4gICAgICB2YXIgYSA9IE1hdGgubWF4KHgsIHkpO1xuICAgICAgdmFyIGIgPSBNYXRoLm1pbih4LCB5KSAvIChhID8gYSA6IDEpO1xuXG4gICAgICByZXR1cm4gYSAqIE1hdGguc3FydCgxICsgTWF0aC5wb3coYiwgMikpO1xuICAgIH07XG5cbiAgICB2YXIgbG9nMXB5ID0gZnVuY3Rpb24oeCkge1xuICAgICAgdmFyIHkgPSAxICsgeDtcbiAgICAgIHZhciB6ID0geSAtIDE7XG5cbiAgICAgIHJldHVybiB6ID09PSAwID8geCA6IHggKiBNYXRoLmxvZyh5KSAvIHo7XG4gICAgfTtcblxuICAgIHZhciBhc2luaHkgPSBmdW5jdGlvbih4KSB7XG4gICAgICB2YXIgeSA9IE1hdGguYWJzKHgpO1xuICAgICAgeSA9IGxvZzFweSh5ICogKDEgKyB5IC8gKGh5cG90KDEsIHkpICsgMSkpKTtcblxuICAgICAgcmV0dXJuIHggPCAwID8gLXkgOiB5O1xuICAgIH07XG5cbiAgICB2YXIgZ2F0ZyA9IGZ1bmN0aW9uKHBwLCBCKSB7XG4gICAgICB2YXIgY29zXzJCID0gMiAqIE1hdGguY29zKDIgKiBCKTtcbiAgICAgIHZhciBpID0gcHAubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBoMSA9IHBwW2ldO1xuICAgICAgdmFyIGgyID0gMDtcbiAgICAgIHZhciBoO1xuXG4gICAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgICAgaCA9IC1oMiArIGNvc18yQiAqIGgxICsgcHBbaV07XG4gICAgICAgIGgyID0gaDE7XG4gICAgICAgIGgxID0gaDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChCICsgaCAqIE1hdGguc2luKDIgKiBCKSk7XG4gICAgfTtcblxuICAgIHZhciBjbGVucyA9IGZ1bmN0aW9uKHBwLCBhcmdfcikge1xuICAgICAgdmFyIHIgPSAyICogTWF0aC5jb3MoYXJnX3IpO1xuICAgICAgdmFyIGkgPSBwcC5sZW5ndGggLSAxO1xuICAgICAgdmFyIGhyMSA9IHBwW2ldO1xuICAgICAgdmFyIGhyMiA9IDA7XG4gICAgICB2YXIgaHI7XG5cbiAgICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgICBociA9IC1ocjIgKyByICogaHIxICsgcHBbaV07XG4gICAgICAgIGhyMiA9IGhyMTtcbiAgICAgICAgaHIxID0gaHI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBNYXRoLnNpbihhcmdfcikgKiBocjtcbiAgICB9O1xuXG4gICAgdmFyIGNvc2ggPSBmdW5jdGlvbih4KSB7XG4gICAgICB2YXIgciA9IE1hdGguZXhwKHgpO1xuICAgICAgciA9IChyICsgMSAvIHIpIC8gMjtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICB2YXIgY2xlbnNfY21wbHggPSBmdW5jdGlvbihwcCwgYXJnX3IsIGFyZ19pKSB7XG4gICAgICB2YXIgc2luX2FyZ19yID0gTWF0aC5zaW4oYXJnX3IpO1xuICAgICAgdmFyIGNvc19hcmdfciA9IE1hdGguY29zKGFyZ19yKTtcbiAgICAgIHZhciBzaW5oX2FyZ19pID0gc2luaChhcmdfaSk7XG4gICAgICB2YXIgY29zaF9hcmdfaSA9IGNvc2goYXJnX2kpO1xuICAgICAgdmFyIHIgPSAyICogY29zX2FyZ19yICogY29zaF9hcmdfaTtcbiAgICAgIHZhciBpID0gLTIgKiBzaW5fYXJnX3IgKiBzaW5oX2FyZ19pO1xuICAgICAgdmFyIGogPSBwcC5sZW5ndGggLSAxO1xuICAgICAgdmFyIGhyID0gcHBbal07XG4gICAgICB2YXIgaGkxID0gMDtcbiAgICAgIHZhciBocjEgPSAwO1xuICAgICAgdmFyIGhpID0gMDtcbiAgICAgIHZhciBocjI7XG4gICAgICB2YXIgaGkyO1xuXG4gICAgICB3aGlsZSAoLS1qID49IDApIHtcbiAgICAgICAgaHIyID0gaHIxO1xuICAgICAgICBoaTIgPSBoaTE7XG4gICAgICAgIGhyMSA9IGhyO1xuICAgICAgICBoaTEgPSBoaTtcbiAgICAgICAgaHIgPSAtaHIyICsgciAqIGhyMSAtIGkgKiBoaTEgKyBwcFtqXTtcbiAgICAgICAgaGkgPSAtaGkyICsgaSAqIGhyMSArIHIgKiBoaTE7XG4gICAgICB9XG5cbiAgICAgIHIgPSBzaW5fYXJnX3IgKiBjb3NoX2FyZ19pO1xuICAgICAgaSA9IGNvc19hcmdfciAqIHNpbmhfYXJnX2k7XG5cbiAgICAgIHJldHVybiBbciAqIGhyIC0gaSAqIGhpLCByICogaGkgKyBpICogaHJdO1xuICAgIH07XG5cbiAgICAvLyBIZWF2aWx5IGJhc2VkIG9uIHRoaXMgZXRtZXJjIHByb2plY3Rpb24gaW1wbGVtZW50YXRpb25cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWJsb2NoL21hcHNoYXBlci1wcm9qL2Jsb2IvbWFzdGVyL3NyYy9wcm9qZWN0aW9ucy9ldG1lcmMuanNcblxuICAgIGZ1bmN0aW9uIGluaXQkMygpIHtcbiAgICAgIGlmICh0aGlzLmVzID09PSB1bmRlZmluZWQgfHwgdGhpcy5lcyA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW5jb3JyZWN0IGVsbGlwdGljYWwgdXNhZ2UnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy54MCA9IHRoaXMueDAgIT09IHVuZGVmaW5lZCA/IHRoaXMueDAgOiAwO1xuICAgICAgdGhpcy55MCA9IHRoaXMueTAgIT09IHVuZGVmaW5lZCA/IHRoaXMueTAgOiAwO1xuICAgICAgdGhpcy5sb25nMCA9IHRoaXMubG9uZzAgIT09IHVuZGVmaW5lZCA/IHRoaXMubG9uZzAgOiAwO1xuICAgICAgdGhpcy5sYXQwID0gdGhpcy5sYXQwICE9PSB1bmRlZmluZWQgPyB0aGlzLmxhdDAgOiAwO1xuXG4gICAgICB0aGlzLmNnYiA9IFtdO1xuICAgICAgdGhpcy5jYmcgPSBbXTtcbiAgICAgIHRoaXMudXRnID0gW107XG4gICAgICB0aGlzLmd0dSA9IFtdO1xuXG4gICAgICB2YXIgZiA9IHRoaXMuZXMgLyAoMSArIE1hdGguc3FydCgxIC0gdGhpcy5lcykpO1xuICAgICAgdmFyIG4gPSBmIC8gKDIgLSBmKTtcbiAgICAgIHZhciBucCA9IG47XG5cbiAgICAgIHRoaXMuY2diWzBdID0gbiAqICgyICsgbiAqICgtMiAvIDMgKyBuICogKC0yICsgbiAqICgxMTYgLyA0NSArIG4gKiAoMjYgLyA0NSArIG4gKiAoLTI4NTQgLyA2NzUgKSkpKSkpO1xuICAgICAgdGhpcy5jYmdbMF0gPSBuICogKC0yICsgbiAqICggMiAvIDMgKyBuICogKCA0IC8gMyArIG4gKiAoLTgyIC8gNDUgKyBuICogKDMyIC8gNDUgKyBuICogKDQ2NDIgLyA0NzI1KSkpKSkpO1xuXG4gICAgICBucCA9IG5wICogbjtcbiAgICAgIHRoaXMuY2diWzFdID0gbnAgKiAoNyAvIDMgKyBuICogKC04IC8gNSArIG4gKiAoLTIyNyAvIDQ1ICsgbiAqICgyNzA0IC8gMzE1ICsgbiAqICgyMzIzIC8gOTQ1KSkpKSk7XG4gICAgICB0aGlzLmNiZ1sxXSA9IG5wICogKDUgLyAzICsgbiAqICgtMTYgLyAxNSArIG4gKiAoIC0xMyAvIDkgKyBuICogKDkwNCAvIDMxNSArIG4gKiAoLTE1MjIgLyA5NDUpKSkpKTtcblxuICAgICAgbnAgPSBucCAqIG47XG4gICAgICB0aGlzLmNnYlsyXSA9IG5wICogKDU2IC8gMTUgKyBuICogKC0xMzYgLyAzNSArIG4gKiAoLTEyNjIgLyAxMDUgKyBuICogKDczODE0IC8gMjgzNSkpKSk7XG4gICAgICB0aGlzLmNiZ1syXSA9IG5wICogKC0yNiAvIDE1ICsgbiAqICgzNCAvIDIxICsgbiAqICg4IC8gNSArIG4gKiAoLTEyNjg2IC8gMjgzNSkpKSk7XG5cbiAgICAgIG5wID0gbnAgKiBuO1xuICAgICAgdGhpcy5jZ2JbM10gPSBucCAqICg0Mjc5IC8gNjMwICsgbiAqICgtMzMyIC8gMzUgKyBuICogKC0zOTk1NzIgLyAxNDE3NSkpKTtcbiAgICAgIHRoaXMuY2JnWzNdID0gbnAgKiAoMTIzNyAvIDYzMCArIG4gKiAoLTEyIC8gNSArIG4gKiAoIC0yNDgzMiAvIDE0MTc1KSkpO1xuXG4gICAgICBucCA9IG5wICogbjtcbiAgICAgIHRoaXMuY2diWzRdID0gbnAgKiAoNDE3NCAvIDMxNSArIG4gKiAoLTE0NDgzOCAvIDYyMzcpKTtcbiAgICAgIHRoaXMuY2JnWzRdID0gbnAgKiAoLTczNCAvIDMxNSArIG4gKiAoMTA5NTk4IC8gMzExODUpKTtcblxuICAgICAgbnAgPSBucCAqIG47XG4gICAgICB0aGlzLmNnYls1XSA9IG5wICogKDYwMTY3NiAvIDIyMjc1KTtcbiAgICAgIHRoaXMuY2JnWzVdID0gbnAgKiAoNDQ0MzM3IC8gMTU1OTI1KTtcblxuICAgICAgbnAgPSBNYXRoLnBvdyhuLCAyKTtcbiAgICAgIHRoaXMuUW4gPSB0aGlzLmswIC8gKDEgKyBuKSAqICgxICsgbnAgKiAoMSAvIDQgKyBucCAqICgxIC8gNjQgKyBucCAvIDI1NikpKTtcblxuICAgICAgdGhpcy51dGdbMF0gPSBuICogKC0wLjUgKyBuICogKCAyIC8gMyArIG4gKiAoLTM3IC8gOTYgKyBuICogKCAxIC8gMzYwICsgbiAqICg4MSAvIDUxMiArIG4gKiAoLTk2MTk5IC8gNjA0ODAwKSkpKSkpO1xuICAgICAgdGhpcy5ndHVbMF0gPSBuICogKDAuNSArIG4gKiAoLTIgLyAzICsgbiAqICg1IC8gMTYgKyBuICogKDQxIC8gMTgwICsgbiAqICgtMTI3IC8gMjg4ICsgbiAqICg3ODkxIC8gMzc4MDApKSkpKSk7XG5cbiAgICAgIHRoaXMudXRnWzFdID0gbnAgKiAoLTEgLyA0OCArIG4gKiAoLTEgLyAxNSArIG4gKiAoNDM3IC8gMTQ0MCArIG4gKiAoLTQ2IC8gMTA1ICsgbiAqICgxMTE4NzExIC8gMzg3MDcyMCkpKSkpO1xuICAgICAgdGhpcy5ndHVbMV0gPSBucCAqICgxMyAvIDQ4ICsgbiAqICgtMyAvIDUgKyBuICogKDU1NyAvIDE0NDAgKyBuICogKDI4MSAvIDYzMCArIG4gKiAoLTE5ODM0MzMgLyAxOTM1MzYwKSkpKSk7XG5cbiAgICAgIG5wID0gbnAgKiBuO1xuICAgICAgdGhpcy51dGdbMl0gPSBucCAqICgtMTcgLyA0ODAgKyBuICogKDM3IC8gODQwICsgbiAqICgyMDkgLyA0NDgwICsgbiAqICgtNTU2OSAvIDkwNzIwICkpKSk7XG4gICAgICB0aGlzLmd0dVsyXSA9IG5wICogKDYxIC8gMjQwICsgbiAqICgtMTAzIC8gMTQwICsgbiAqICgxNTA2MSAvIDI2ODgwICsgbiAqICgxNjc2MDMgLyAxODE0NDApKSkpO1xuXG4gICAgICBucCA9IG5wICogbjtcbiAgICAgIHRoaXMudXRnWzNdID0gbnAgKiAoLTQzOTcgLyAxNjEyODAgKyBuICogKDExIC8gNTA0ICsgbiAqICg4MzAyNTEgLyA3MjU3NjAwKSkpO1xuICAgICAgdGhpcy5ndHVbM10gPSBucCAqICg0OTU2MSAvIDE2MTI4MCArIG4gKiAoLTE3OSAvIDE2OCArIG4gKiAoNjYwMTY2MSAvIDcyNTc2MDApKSk7XG5cbiAgICAgIG5wID0gbnAgKiBuO1xuICAgICAgdGhpcy51dGdbNF0gPSBucCAqICgtNDU4MyAvIDE2MTI4MCArIG4gKiAoMTA4ODQ3IC8gMzk5MTY4MCkpO1xuICAgICAgdGhpcy5ndHVbNF0gPSBucCAqICgzNDcyOSAvIDgwNjQwICsgbiAqICgtMzQxODg4OSAvIDE5OTU4NDApKTtcblxuICAgICAgbnAgPSBucCAqIG47XG4gICAgICB0aGlzLnV0Z1s1XSA9IG5wICogKC0yMDY0ODY5MyAvIDYzODY2ODgwMCk7XG4gICAgICB0aGlzLmd0dVs1XSA9IG5wICogKDIxMjM3ODk0MSAvIDMxOTMzNDQwMCk7XG5cbiAgICAgIHZhciBaID0gZ2F0Zyh0aGlzLmNiZywgdGhpcy5sYXQwKTtcbiAgICAgIHRoaXMuWmIgPSAtdGhpcy5RbiAqIChaICsgY2xlbnModGhpcy5ndHUsIDIgKiBaKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9yd2FyZCQzKHApIHtcbiAgICAgIHZhciBDZSA9IGFkanVzdF9sb24ocC54IC0gdGhpcy5sb25nMCk7XG4gICAgICB2YXIgQ24gPSBwLnk7XG5cbiAgICAgIENuID0gZ2F0Zyh0aGlzLmNiZywgQ24pO1xuICAgICAgdmFyIHNpbl9DbiA9IE1hdGguc2luKENuKTtcbiAgICAgIHZhciBjb3NfQ24gPSBNYXRoLmNvcyhDbik7XG4gICAgICB2YXIgc2luX0NlID0gTWF0aC5zaW4oQ2UpO1xuICAgICAgdmFyIGNvc19DZSA9IE1hdGguY29zKENlKTtcblxuICAgICAgQ24gPSBNYXRoLmF0YW4yKHNpbl9DbiwgY29zX0NlICogY29zX0NuKTtcbiAgICAgIENlID0gTWF0aC5hdGFuMihzaW5fQ2UgKiBjb3NfQ24sIGh5cG90KHNpbl9DbiwgY29zX0NuICogY29zX0NlKSk7XG4gICAgICBDZSA9IGFzaW5oeShNYXRoLnRhbihDZSkpO1xuXG4gICAgICB2YXIgdG1wID0gY2xlbnNfY21wbHgodGhpcy5ndHUsIDIgKiBDbiwgMiAqIENlKTtcblxuICAgICAgQ24gPSBDbiArIHRtcFswXTtcbiAgICAgIENlID0gQ2UgKyB0bXBbMV07XG5cbiAgICAgIHZhciB4O1xuICAgICAgdmFyIHk7XG5cbiAgICAgIGlmIChNYXRoLmFicyhDZSkgPD0gMi42MjMzOTUxNjI3NzgpIHtcbiAgICAgICAgeCA9IHRoaXMuYSAqICh0aGlzLlFuICogQ2UpICsgdGhpcy54MDtcbiAgICAgICAgeSA9IHRoaXMuYSAqICh0aGlzLlFuICogQ24gKyB0aGlzLlpiKSArIHRoaXMueTA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgeCA9IEluZmluaXR5O1xuICAgICAgICB5ID0gSW5maW5pdHk7XG4gICAgICB9XG5cbiAgICAgIHAueCA9IHg7XG4gICAgICBwLnkgPSB5O1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDMocCkge1xuICAgICAgdmFyIENlID0gKHAueCAtIHRoaXMueDApICogKDEgLyB0aGlzLmEpO1xuICAgICAgdmFyIENuID0gKHAueSAtIHRoaXMueTApICogKDEgLyB0aGlzLmEpO1xuXG4gICAgICBDbiA9IChDbiAtIHRoaXMuWmIpIC8gdGhpcy5RbjtcbiAgICAgIENlID0gQ2UgLyB0aGlzLlFuO1xuXG4gICAgICB2YXIgbG9uO1xuICAgICAgdmFyIGxhdDtcblxuICAgICAgaWYgKE1hdGguYWJzKENlKSA8PSAyLjYyMzM5NTE2Mjc3OCkge1xuICAgICAgICB2YXIgdG1wID0gY2xlbnNfY21wbHgodGhpcy51dGcsIDIgKiBDbiwgMiAqIENlKTtcblxuICAgICAgICBDbiA9IENuICsgdG1wWzBdO1xuICAgICAgICBDZSA9IENlICsgdG1wWzFdO1xuICAgICAgICBDZSA9IE1hdGguYXRhbihzaW5oKENlKSk7XG5cbiAgICAgICAgdmFyIHNpbl9DbiA9IE1hdGguc2luKENuKTtcbiAgICAgICAgdmFyIGNvc19DbiA9IE1hdGguY29zKENuKTtcbiAgICAgICAgdmFyIHNpbl9DZSA9IE1hdGguc2luKENlKTtcbiAgICAgICAgdmFyIGNvc19DZSA9IE1hdGguY29zKENlKTtcblxuICAgICAgICBDbiA9IE1hdGguYXRhbjIoc2luX0NuICogY29zX0NlLCBoeXBvdChzaW5fQ2UsIGNvc19DZSAqIGNvc19DbikpO1xuICAgICAgICBDZSA9IE1hdGguYXRhbjIoc2luX0NlLCBjb3NfQ2UgKiBjb3NfQ24pO1xuXG4gICAgICAgIGxvbiA9IGFkanVzdF9sb24oQ2UgKyB0aGlzLmxvbmcwKTtcbiAgICAgICAgbGF0ID0gZ2F0Zyh0aGlzLmNnYiwgQ24pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvbiA9IEluZmluaXR5O1xuICAgICAgICBsYXQgPSBJbmZpbml0eTtcbiAgICAgIH1cblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkNCA9IFtcIkV4dGVuZGVkX1RyYW5zdmVyc2VfTWVyY2F0b3JcIiwgXCJFeHRlbmRlZCBUcmFuc3ZlcnNlIE1lcmNhdG9yXCIsIFwiZXRtZXJjXCJdO1xuICAgIHZhciBldG1lcmMgPSB7XG4gICAgICBpbml0OiBpbml0JDMsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDMsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDMsXG4gICAgICBuYW1lczogbmFtZXMkNFxuICAgIH07XG5cbiAgICB2YXIgYWRqdXN0X3pvbmUgPSBmdW5jdGlvbih6b25lLCBsb24pIHtcbiAgICAgIGlmICh6b25lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgem9uZSA9IE1hdGguZmxvb3IoKGFkanVzdF9sb24obG9uKSArIE1hdGguUEkpICogMzAgLyBNYXRoLlBJKSArIDE7XG5cbiAgICAgICAgaWYgKHpvbmUgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0gZWxzZSBpZiAoem9uZSA+IDYwKSB7XG4gICAgICAgICAgcmV0dXJuIDYwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gem9uZTtcbiAgICB9O1xuXG4gICAgdmFyIGRlcGVuZHNPbiA9ICdldG1lcmMnO1xuICAgIGZ1bmN0aW9uIGluaXQkNCgpIHtcbiAgICAgIHZhciB6b25lID0gYWRqdXN0X3pvbmUodGhpcy56b25lLCB0aGlzLmxvbmcwKTtcbiAgICAgIGlmICh6b25lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHV0bSB6b25lJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmxhdDAgPSAwO1xuICAgICAgdGhpcy5sb25nMCA9ICAoKDYgKiBNYXRoLmFicyh6b25lKSkgLSAxODMpICogRDJSO1xuICAgICAgdGhpcy54MCA9IDUwMDAwMDtcbiAgICAgIHRoaXMueTAgPSB0aGlzLnV0bVNvdXRoID8gMTAwMDAwMDAgOiAwO1xuICAgICAgdGhpcy5rMCA9IDAuOTk5NjtcblxuICAgICAgZXRtZXJjLmluaXQuYXBwbHkodGhpcyk7XG4gICAgICB0aGlzLmZvcndhcmQgPSBldG1lcmMuZm9yd2FyZDtcbiAgICAgIHRoaXMuaW52ZXJzZSA9IGV0bWVyYy5pbnZlcnNlO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQ1ID0gW1wiVW5pdmVyc2FsIFRyYW5zdmVyc2UgTWVyY2F0b3IgU3lzdGVtXCIsIFwidXRtXCJdO1xuICAgIHZhciB1dG0gPSB7XG4gICAgICBpbml0OiBpbml0JDQsXG4gICAgICBuYW1lczogbmFtZXMkNSxcbiAgICAgIGRlcGVuZHNPbjogZGVwZW5kc09uXG4gICAgfTtcblxuICAgIHZhciBzcmF0ID0gZnVuY3Rpb24oZXNpbnAsIGV4cCkge1xuICAgICAgcmV0dXJuIChNYXRoLnBvdygoMSAtIGVzaW5wKSAvICgxICsgZXNpbnApLCBleHApKTtcbiAgICB9O1xuXG4gICAgdmFyIE1BWF9JVEVSJDEgPSAyMDtcbiAgICBmdW5jdGlvbiBpbml0JDYoKSB7XG4gICAgICB2YXIgc3BoaSA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICB2YXIgY3BoaSA9IE1hdGguY29zKHRoaXMubGF0MCk7XG4gICAgICBjcGhpICo9IGNwaGk7XG4gICAgICB0aGlzLnJjID0gTWF0aC5zcXJ0KDEgLSB0aGlzLmVzKSAvICgxIC0gdGhpcy5lcyAqIHNwaGkgKiBzcGhpKTtcbiAgICAgIHRoaXMuQyA9IE1hdGguc3FydCgxICsgdGhpcy5lcyAqIGNwaGkgKiBjcGhpIC8gKDEgLSB0aGlzLmVzKSk7XG4gICAgICB0aGlzLnBoaWMwID0gTWF0aC5hc2luKHNwaGkgLyB0aGlzLkMpO1xuICAgICAgdGhpcy5yYXRleHAgPSAwLjUgKiB0aGlzLkMgKiB0aGlzLmU7XG4gICAgICB0aGlzLksgPSBNYXRoLnRhbigwLjUgKiB0aGlzLnBoaWMwICsgRk9SVFBJKSAvIChNYXRoLnBvdyhNYXRoLnRhbigwLjUgKiB0aGlzLmxhdDAgKyBGT1JUUEkpLCB0aGlzLkMpICogc3JhdCh0aGlzLmUgKiBzcGhpLCB0aGlzLnJhdGV4cCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcndhcmQkNShwKSB7XG4gICAgICB2YXIgbG9uID0gcC54O1xuICAgICAgdmFyIGxhdCA9IHAueTtcblxuICAgICAgcC55ID0gMiAqIE1hdGguYXRhbih0aGlzLksgKiBNYXRoLnBvdyhNYXRoLnRhbigwLjUgKiBsYXQgKyBGT1JUUEkpLCB0aGlzLkMpICogc3JhdCh0aGlzLmUgKiBNYXRoLnNpbihsYXQpLCB0aGlzLnJhdGV4cCkpIC0gSEFMRl9QSTtcbiAgICAgIHAueCA9IHRoaXMuQyAqIGxvbjtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludmVyc2UkNShwKSB7XG4gICAgICB2YXIgREVMX1RPTCA9IDFlLTE0O1xuICAgICAgdmFyIGxvbiA9IHAueCAvIHRoaXMuQztcbiAgICAgIHZhciBsYXQgPSBwLnk7XG4gICAgICB2YXIgbnVtID0gTWF0aC5wb3coTWF0aC50YW4oMC41ICogbGF0ICsgRk9SVFBJKSAvIHRoaXMuSywgMSAvIHRoaXMuQyk7XG4gICAgICBmb3IgKHZhciBpID0gTUFYX0lURVIkMTsgaSA+IDA7IC0taSkge1xuICAgICAgICBsYXQgPSAyICogTWF0aC5hdGFuKG51bSAqIHNyYXQodGhpcy5lICogTWF0aC5zaW4ocC55KSwgLSAwLjUgKiB0aGlzLmUpKSAtIEhBTEZfUEk7XG4gICAgICAgIGlmIChNYXRoLmFicyhsYXQgLSBwLnkpIDwgREVMX1RPTCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHAueSA9IGxhdDtcbiAgICAgIH1cbiAgICAgIC8qIGNvbnZlcmdlbmNlIGZhaWxlZCAqL1xuICAgICAgaWYgKCFpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVzJDcgPSBbXCJnYXVzc1wiXTtcbiAgICB2YXIgZ2F1c3MgPSB7XG4gICAgICBpbml0OiBpbml0JDYsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDUsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDUsXG4gICAgICBuYW1lczogbmFtZXMkN1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbml0JDUoKSB7XG4gICAgICBnYXVzcy5pbml0LmFwcGx5KHRoaXMpO1xuICAgICAgaWYgKCF0aGlzLnJjKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2luYzAgPSBNYXRoLnNpbih0aGlzLnBoaWMwKTtcbiAgICAgIHRoaXMuY29zYzAgPSBNYXRoLmNvcyh0aGlzLnBoaWMwKTtcbiAgICAgIHRoaXMuUjIgPSAyICogdGhpcy5yYztcbiAgICAgIGlmICghdGhpcy50aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gXCJPYmxpcXVlIFN0ZXJlb2dyYXBoaWMgQWx0ZXJuYXRpdmVcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDQocCkge1xuICAgICAgdmFyIHNpbmMsIGNvc2MsIGNvc2wsIGs7XG4gICAgICBwLnggPSBhZGp1c3RfbG9uKHAueCAtIHRoaXMubG9uZzApO1xuICAgICAgZ2F1c3MuZm9yd2FyZC5hcHBseSh0aGlzLCBbcF0pO1xuICAgICAgc2luYyA9IE1hdGguc2luKHAueSk7XG4gICAgICBjb3NjID0gTWF0aC5jb3MocC55KTtcbiAgICAgIGNvc2wgPSBNYXRoLmNvcyhwLngpO1xuICAgICAgayA9IHRoaXMuazAgKiB0aGlzLlIyIC8gKDEgKyB0aGlzLnNpbmMwICogc2luYyArIHRoaXMuY29zYzAgKiBjb3NjICogY29zbCk7XG4gICAgICBwLnggPSBrICogY29zYyAqIE1hdGguc2luKHAueCk7XG4gICAgICBwLnkgPSBrICogKHRoaXMuY29zYzAgKiBzaW5jIC0gdGhpcy5zaW5jMCAqIGNvc2MgKiBjb3NsKTtcbiAgICAgIHAueCA9IHRoaXMuYSAqIHAueCArIHRoaXMueDA7XG4gICAgICBwLnkgPSB0aGlzLmEgKiBwLnkgKyB0aGlzLnkwO1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQ0KHApIHtcbiAgICAgIHZhciBzaW5jLCBjb3NjLCBsb24sIGxhdCwgcmhvO1xuICAgICAgcC54ID0gKHAueCAtIHRoaXMueDApIC8gdGhpcy5hO1xuICAgICAgcC55ID0gKHAueSAtIHRoaXMueTApIC8gdGhpcy5hO1xuXG4gICAgICBwLnggLz0gdGhpcy5rMDtcbiAgICAgIHAueSAvPSB0aGlzLmswO1xuICAgICAgaWYgKChyaG8gPSBNYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KSkpIHtcbiAgICAgICAgdmFyIGMgPSAyICogTWF0aC5hdGFuMihyaG8sIHRoaXMuUjIpO1xuICAgICAgICBzaW5jID0gTWF0aC5zaW4oYyk7XG4gICAgICAgIGNvc2MgPSBNYXRoLmNvcyhjKTtcbiAgICAgICAgbGF0ID0gTWF0aC5hc2luKGNvc2MgKiB0aGlzLnNpbmMwICsgcC55ICogc2luYyAqIHRoaXMuY29zYzAgLyByaG8pO1xuICAgICAgICBsb24gPSBNYXRoLmF0YW4yKHAueCAqIHNpbmMsIHJobyAqIHRoaXMuY29zYzAgKiBjb3NjIC0gcC55ICogdGhpcy5zaW5jMCAqIHNpbmMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxhdCA9IHRoaXMucGhpYzA7XG4gICAgICAgIGxvbiA9IDA7XG4gICAgICB9XG5cbiAgICAgIHAueCA9IGxvbjtcbiAgICAgIHAueSA9IGxhdDtcbiAgICAgIGdhdXNzLmludmVyc2UuYXBwbHkodGhpcywgW3BdKTtcbiAgICAgIHAueCA9IGFkanVzdF9sb24ocC54ICsgdGhpcy5sb25nMCk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkNiA9IFtcIlN0ZXJlb2dyYXBoaWNfTm9ydGhfUG9sZVwiLCBcIk9ibGlxdWVfU3RlcmVvZ3JhcGhpY1wiLCBcIlBvbGFyX1N0ZXJlb2dyYXBoaWNcIiwgXCJzdGVyZWFcIixcIk9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZVwiLFwiRG91YmxlX1N0ZXJlb2dyYXBoaWNcIl07XG4gICAgdmFyIHN0ZXJlYSA9IHtcbiAgICAgIGluaXQ6IGluaXQkNSxcbiAgICAgIGZvcndhcmQ6IGZvcndhcmQkNCxcbiAgICAgIGludmVyc2U6IGludmVyc2UkNCxcbiAgICAgIG5hbWVzOiBuYW1lcyQ2XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNzZm5fKHBoaXQsIHNpbnBoaSwgZWNjZW4pIHtcbiAgICAgIHNpbnBoaSAqPSBlY2NlbjtcbiAgICAgIHJldHVybiAoTWF0aC50YW4oMC41ICogKEhBTEZfUEkgKyBwaGl0KSkgKiBNYXRoLnBvdygoMSAtIHNpbnBoaSkgLyAoMSArIHNpbnBoaSksIDAuNSAqIGVjY2VuKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdCQ3KCkge1xuICAgICAgdGhpcy5jb3NsYXQwID0gTWF0aC5jb3ModGhpcy5sYXQwKTtcbiAgICAgIHRoaXMuc2lubGF0MCA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMuazAgPT09IDEgJiYgIWlzTmFOKHRoaXMubGF0X3RzKSAmJiBNYXRoLmFicyh0aGlzLmNvc2xhdDApIDw9IEVQU0xOKSB7XG4gICAgICAgICAgdGhpcy5rMCA9IDAuNSAqICgxICsgc2lnbih0aGlzLmxhdDApICogTWF0aC5zaW4odGhpcy5sYXRfdHMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmNvc2xhdDApIDw9IEVQU0xOKSB7XG4gICAgICAgICAgaWYgKHRoaXMubGF0MCA+IDApIHtcbiAgICAgICAgICAgIC8vTm9ydGggcG9sZVxuICAgICAgICAgICAgLy90cmFjZSgnc3RlcmU6bm9ydGggcG9sZScpO1xuICAgICAgICAgICAgdGhpcy5jb24gPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vU291dGggcG9sZVxuICAgICAgICAgICAgLy90cmFjZSgnc3RlcmU6c291dGggcG9sZScpO1xuICAgICAgICAgICAgdGhpcy5jb24gPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25zID0gTWF0aC5zcXJ0KE1hdGgucG93KDEgKyB0aGlzLmUsIDEgKyB0aGlzLmUpICogTWF0aC5wb3coMSAtIHRoaXMuZSwgMSAtIHRoaXMuZSkpO1xuICAgICAgICBpZiAodGhpcy5rMCA9PT0gMSAmJiAhaXNOYU4odGhpcy5sYXRfdHMpICYmIE1hdGguYWJzKHRoaXMuY29zbGF0MCkgPD0gRVBTTE4pIHtcbiAgICAgICAgICB0aGlzLmswID0gMC41ICogdGhpcy5jb25zICogbXNmbnoodGhpcy5lLCBNYXRoLnNpbih0aGlzLmxhdF90cyksIE1hdGguY29zKHRoaXMubGF0X3RzKSkgLyB0c2Zueih0aGlzLmUsIHRoaXMuY29uICogdGhpcy5sYXRfdHMsIHRoaXMuY29uICogTWF0aC5zaW4odGhpcy5sYXRfdHMpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1zMSA9IG1zZm56KHRoaXMuZSwgdGhpcy5zaW5sYXQwLCB0aGlzLmNvc2xhdDApO1xuICAgICAgICB0aGlzLlgwID0gMiAqIE1hdGguYXRhbih0aGlzLnNzZm5fKHRoaXMubGF0MCwgdGhpcy5zaW5sYXQwLCB0aGlzLmUpKSAtIEhBTEZfUEk7XG4gICAgICAgIHRoaXMuY29zWDAgPSBNYXRoLmNvcyh0aGlzLlgwKTtcbiAgICAgICAgdGhpcy5zaW5YMCA9IE1hdGguc2luKHRoaXMuWDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0ZXJlb2dyYXBoaWMgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgZnVuY3Rpb24gZm9yd2FyZCQ2KHApIHtcbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuICAgICAgdmFyIHNpbmxhdCA9IE1hdGguc2luKGxhdCk7XG4gICAgICB2YXIgY29zbGF0ID0gTWF0aC5jb3MobGF0KTtcbiAgICAgIHZhciBBLCBYLCBzaW5YLCBjb3NYLCB0cywgcmg7XG4gICAgICB2YXIgZGxvbiA9IGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG5cbiAgICAgIGlmIChNYXRoLmFicyhNYXRoLmFicyhsb24gLSB0aGlzLmxvbmcwKSAtIE1hdGguUEkpIDw9IEVQU0xOICYmIE1hdGguYWJzKGxhdCArIHRoaXMubGF0MCkgPD0gRVBTTE4pIHtcbiAgICAgICAgLy9jYXNlIG9mIHRoZSBvcmlnaW5lIHBvaW50XG4gICAgICAgIC8vdHJhY2UoJ3N0ZXJlOnRoaXMgaXMgdGhlIG9yaWdpbiBwb2ludCcpO1xuICAgICAgICBwLnggPSBOYU47XG4gICAgICAgIHAueSA9IE5hTjtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgLy90cmFjZSgnc3RlcmU6c3BoZXJlIGNhc2UnKTtcbiAgICAgICAgQSA9IDIgKiB0aGlzLmswIC8gKDEgKyB0aGlzLnNpbmxhdDAgKiBzaW5sYXQgKyB0aGlzLmNvc2xhdDAgKiBjb3NsYXQgKiBNYXRoLmNvcyhkbG9uKSk7XG4gICAgICAgIHAueCA9IHRoaXMuYSAqIEEgKiBjb3NsYXQgKiBNYXRoLnNpbihkbG9uKSArIHRoaXMueDA7XG4gICAgICAgIHAueSA9IHRoaXMuYSAqIEEgKiAodGhpcy5jb3NsYXQwICogc2lubGF0IC0gdGhpcy5zaW5sYXQwICogY29zbGF0ICogTWF0aC5jb3MoZGxvbikpICsgdGhpcy55MDtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgWCA9IDIgKiBNYXRoLmF0YW4odGhpcy5zc2ZuXyhsYXQsIHNpbmxhdCwgdGhpcy5lKSkgLSBIQUxGX1BJO1xuICAgICAgICBjb3NYID0gTWF0aC5jb3MoWCk7XG4gICAgICAgIHNpblggPSBNYXRoLnNpbihYKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuY29zbGF0MCkgPD0gRVBTTE4pIHtcbiAgICAgICAgICB0cyA9IHRzZm56KHRoaXMuZSwgbGF0ICogdGhpcy5jb24sIHRoaXMuY29uICogc2lubGF0KTtcbiAgICAgICAgICByaCA9IDIgKiB0aGlzLmEgKiB0aGlzLmswICogdHMgLyB0aGlzLmNvbnM7XG4gICAgICAgICAgcC54ID0gdGhpcy54MCArIHJoICogTWF0aC5zaW4obG9uIC0gdGhpcy5sb25nMCk7XG4gICAgICAgICAgcC55ID0gdGhpcy55MCAtIHRoaXMuY29uICogcmggKiBNYXRoLmNvcyhsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgICAgICAvL3RyYWNlKHAudG9TdHJpbmcoKSk7XG4gICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoTWF0aC5hYnModGhpcy5zaW5sYXQwKSA8IEVQU0xOKSB7XG4gICAgICAgICAgLy9FcVxuICAgICAgICAgIC8vdHJhY2UoJ3N0ZXJlOmVxdWF0ZXVyJyk7XG4gICAgICAgICAgQSA9IDIgKiB0aGlzLmEgKiB0aGlzLmswIC8gKDEgKyBjb3NYICogTWF0aC5jb3MoZGxvbikpO1xuICAgICAgICAgIHAueSA9IEEgKiBzaW5YO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vb3RoZXIgY2FzZVxuICAgICAgICAgIC8vdHJhY2UoJ3N0ZXJlOm5vcm1hbCBjYXNlJyk7XG4gICAgICAgICAgQSA9IDIgKiB0aGlzLmEgKiB0aGlzLmswICogdGhpcy5tczEgLyAodGhpcy5jb3NYMCAqICgxICsgdGhpcy5zaW5YMCAqIHNpblggKyB0aGlzLmNvc1gwICogY29zWCAqIE1hdGguY29zKGRsb24pKSk7XG4gICAgICAgICAgcC55ID0gQSAqICh0aGlzLmNvc1gwICogc2luWCAtIHRoaXMuc2luWDAgKiBjb3NYICogTWF0aC5jb3MoZGxvbikpICsgdGhpcy55MDtcbiAgICAgICAgfVxuICAgICAgICBwLnggPSBBICogY29zWCAqIE1hdGguc2luKGRsb24pICsgdGhpcy54MDtcbiAgICAgIH1cbiAgICAgIC8vdHJhY2UocC50b1N0cmluZygpKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8vKiBTdGVyZW9ncmFwaGljIGludmVyc2UgZXF1YXRpb25zLS1tYXBwaW5nIHgseSB0byBsYXQvbG9uZ1xuICAgIGZ1bmN0aW9uIGludmVyc2UkNihwKSB7XG4gICAgICBwLnggLT0gdGhpcy54MDtcbiAgICAgIHAueSAtPSB0aGlzLnkwO1xuICAgICAgdmFyIGxvbiwgbGF0LCB0cywgY2UsIENoaTtcbiAgICAgIHZhciByaCA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbihyaCAvICgyICogdGhpcy5hICogdGhpcy5rMCkpO1xuICAgICAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgICAgICBsYXQgPSB0aGlzLmxhdDA7XG4gICAgICAgIGlmIChyaCA8PSBFUFNMTikge1xuICAgICAgICAgIHAueCA9IGxvbjtcbiAgICAgICAgICBwLnkgPSBsYXQ7XG4gICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICAgICAgbGF0ID0gTWF0aC5hc2luKE1hdGguY29zKGMpICogdGhpcy5zaW5sYXQwICsgcC55ICogTWF0aC5zaW4oYykgKiB0aGlzLmNvc2xhdDAgLyByaCk7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmNvc2xhdDApIDwgRVBTTE4pIHtcbiAgICAgICAgICBpZiAodGhpcy5sYXQwID4gMCkge1xuICAgICAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hdGFuMihwLngsIC0gMSAqIHAueSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXRhbjIocC54LCBwLnkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hdGFuMihwLnggKiBNYXRoLnNpbihjKSwgcmggKiB0aGlzLmNvc2xhdDAgKiBNYXRoLmNvcyhjKSAtIHAueSAqIHRoaXMuc2lubGF0MCAqIE1hdGguc2luKGMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcC54ID0gbG9uO1xuICAgICAgICBwLnkgPSBsYXQ7XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmNvc2xhdDApIDw9IEVQU0xOKSB7XG4gICAgICAgICAgaWYgKHJoIDw9IEVQU0xOKSB7XG4gICAgICAgICAgICBsYXQgPSB0aGlzLmxhdDA7XG4gICAgICAgICAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgICAgICAgICAgcC54ID0gbG9uO1xuICAgICAgICAgICAgcC55ID0gbGF0O1xuICAgICAgICAgICAgLy90cmFjZShwLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHAueCAqPSB0aGlzLmNvbjtcbiAgICAgICAgICBwLnkgKj0gdGhpcy5jb247XG4gICAgICAgICAgdHMgPSByaCAqIHRoaXMuY29ucyAvICgyICogdGhpcy5hICogdGhpcy5rMCk7XG4gICAgICAgICAgbGF0ID0gdGhpcy5jb24gKiBwaGkyeih0aGlzLmUsIHRzKTtcbiAgICAgICAgICBsb24gPSB0aGlzLmNvbiAqIGFkanVzdF9sb24odGhpcy5jb24gKiB0aGlzLmxvbmcwICsgTWF0aC5hdGFuMihwLngsIC0gMSAqIHAueSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNlID0gMiAqIE1hdGguYXRhbihyaCAqIHRoaXMuY29zWDAgLyAoMiAqIHRoaXMuYSAqIHRoaXMuazAgKiB0aGlzLm1zMSkpO1xuICAgICAgICAgIGxvbiA9IHRoaXMubG9uZzA7XG4gICAgICAgICAgaWYgKHJoIDw9IEVQU0xOKSB7XG4gICAgICAgICAgICBDaGkgPSB0aGlzLlgwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIENoaSA9IE1hdGguYXNpbihNYXRoLmNvcyhjZSkgKiB0aGlzLnNpblgwICsgcC55ICogTWF0aC5zaW4oY2UpICogdGhpcy5jb3NYMCAvIHJoKTtcbiAgICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXRhbjIocC54ICogTWF0aC5zaW4oY2UpLCByaCAqIHRoaXMuY29zWDAgKiBNYXRoLmNvcyhjZSkgLSBwLnkgKiB0aGlzLnNpblgwICogTWF0aC5zaW4oY2UpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdCA9IC0xICogcGhpMnoodGhpcy5lLCBNYXRoLnRhbigwLjUgKiAoSEFMRl9QSSArIENoaSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuXG4gICAgICAvL3RyYWNlKHAudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gcDtcblxuICAgIH1cblxuICAgIHZhciBuYW1lcyQ4ID0gW1wic3RlcmVcIiwgXCJTdGVyZW9ncmFwaGljX1NvdXRoX1BvbGVcIiwgXCJQb2xhciBTdGVyZW9ncmFwaGljICh2YXJpYW50IEIpXCJdO1xuICAgIHZhciBzdGVyZSA9IHtcbiAgICAgIGluaXQ6IGluaXQkNyxcbiAgICAgIGZvcndhcmQ6IGZvcndhcmQkNixcbiAgICAgIGludmVyc2U6IGludmVyc2UkNixcbiAgICAgIG5hbWVzOiBuYW1lcyQ4LFxuICAgICAgc3Nmbl86IHNzZm5fXG4gICAgfTtcblxuICAgIC8qXG4gICAgICByZWZlcmVuY2VzOlxuICAgICAgICBGb3JtdWxlcyBldCBjb25zdGFudGVzIHBvdXIgbGUgQ2FsY3VsIHBvdXIgbGFcbiAgICAgICAgcHJvamVjdGlvbiBjeWxpbmRyaXF1ZSBjb25mb3JtZSDDoCBheGUgb2JsaXF1ZSBldCBwb3VyIGxhIHRyYW5zZm9ybWF0aW9uIGVudHJlXG4gICAgICAgIGRlcyBzeXN0w6htZXMgZGUgcsOpZsOpcmVuY2UuXG4gICAgICAgIGh0dHA6Ly93d3cuc3dpc3N0b3BvLmFkbWluLmNoL2ludGVybmV0L3N3aXNzdG9wby9mci9ob21lL3RvcGljcy9zdXJ2ZXkvc3lzL3JlZnN5cy9zd2l0emVybGFuZC5wYXJzeXNyZWxhdGVkMS4zMTIxNi5kb3dubG9hZExpc3QuNzcwMDQuRG93bmxvYWRGaWxlLnRtcC9zd2lzc3Byb2plY3Rpb25mci5wZGZcbiAgICAgICovXG5cbiAgICBmdW5jdGlvbiBpbml0JDgoKSB7XG4gICAgICB2YXIgcGh5MCA9IHRoaXMubGF0MDtcbiAgICAgIHRoaXMubGFtYmRhMCA9IHRoaXMubG9uZzA7XG4gICAgICB2YXIgc2luUGh5MCA9IE1hdGguc2luKHBoeTApO1xuICAgICAgdmFyIHNlbWlNYWpvckF4aXMgPSB0aGlzLmE7XG4gICAgICB2YXIgaW52RiA9IHRoaXMucmY7XG4gICAgICB2YXIgZmxhdHRlbmluZyA9IDEgLyBpbnZGO1xuICAgICAgdmFyIGUyID0gMiAqIGZsYXR0ZW5pbmcgLSBNYXRoLnBvdyhmbGF0dGVuaW5nLCAyKTtcbiAgICAgIHZhciBlID0gdGhpcy5lID0gTWF0aC5zcXJ0KGUyKTtcbiAgICAgIHRoaXMuUiA9IHRoaXMuazAgKiBzZW1pTWFqb3JBeGlzICogTWF0aC5zcXJ0KDEgLSBlMikgLyAoMSAtIGUyICogTWF0aC5wb3coc2luUGh5MCwgMikpO1xuICAgICAgdGhpcy5hbHBoYSA9IE1hdGguc3FydCgxICsgZTIgLyAoMSAtIGUyKSAqIE1hdGgucG93KE1hdGguY29zKHBoeTApLCA0KSk7XG4gICAgICB0aGlzLmIwID0gTWF0aC5hc2luKHNpblBoeTAgLyB0aGlzLmFscGhhKTtcbiAgICAgIHZhciBrMSA9IE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyA0ICsgdGhpcy5iMCAvIDIpKTtcbiAgICAgIHZhciBrMiA9IE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyA0ICsgcGh5MCAvIDIpKTtcbiAgICAgIHZhciBrMyA9IE1hdGgubG9nKCgxICsgZSAqIHNpblBoeTApIC8gKDEgLSBlICogc2luUGh5MCkpO1xuICAgICAgdGhpcy5LID0gazEgLSB0aGlzLmFscGhhICogazIgKyB0aGlzLmFscGhhICogZSAvIDIgKiBrMztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDcocCkge1xuICAgICAgdmFyIFNhMSA9IE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyA0IC0gcC55IC8gMikpO1xuICAgICAgdmFyIFNhMiA9IHRoaXMuZSAvIDIgKiBNYXRoLmxvZygoMSArIHRoaXMuZSAqIE1hdGguc2luKHAueSkpIC8gKDEgLSB0aGlzLmUgKiBNYXRoLnNpbihwLnkpKSk7XG4gICAgICB2YXIgUyA9IC10aGlzLmFscGhhICogKFNhMSArIFNhMikgKyB0aGlzLks7XG5cbiAgICAgIC8vIHNwaGVyaWMgbGF0aXR1ZGVcbiAgICAgIHZhciBiID0gMiAqIChNYXRoLmF0YW4oTWF0aC5leHAoUykpIC0gTWF0aC5QSSAvIDQpO1xuXG4gICAgICAvLyBzcGhlcmljIGxvbmdpdHVkZVxuICAgICAgdmFyIEkgPSB0aGlzLmFscGhhICogKHAueCAtIHRoaXMubGFtYmRhMCk7XG5cbiAgICAgIC8vIHBzb2V1ZG8gZXF1YXRvcmlhbCByb3RhdGlvblxuICAgICAgdmFyIHJvdEkgPSBNYXRoLmF0YW4oTWF0aC5zaW4oSSkgLyAoTWF0aC5zaW4odGhpcy5iMCkgKiBNYXRoLnRhbihiKSArIE1hdGguY29zKHRoaXMuYjApICogTWF0aC5jb3MoSSkpKTtcblxuICAgICAgdmFyIHJvdEIgPSBNYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5iMCkgKiBNYXRoLnNpbihiKSAtIE1hdGguc2luKHRoaXMuYjApICogTWF0aC5jb3MoYikgKiBNYXRoLmNvcyhJKSk7XG5cbiAgICAgIHAueSA9IHRoaXMuUiAvIDIgKiBNYXRoLmxvZygoMSArIE1hdGguc2luKHJvdEIpKSAvICgxIC0gTWF0aC5zaW4ocm90QikpKSArIHRoaXMueTA7XG4gICAgICBwLnggPSB0aGlzLlIgKiByb3RJICsgdGhpcy54MDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludmVyc2UkNyhwKSB7XG4gICAgICB2YXIgWSA9IHAueCAtIHRoaXMueDA7XG4gICAgICB2YXIgWCA9IHAueSAtIHRoaXMueTA7XG5cbiAgICAgIHZhciByb3RJID0gWSAvIHRoaXMuUjtcbiAgICAgIHZhciByb3RCID0gMiAqIChNYXRoLmF0YW4oTWF0aC5leHAoWCAvIHRoaXMuUikpIC0gTWF0aC5QSSAvIDQpO1xuXG4gICAgICB2YXIgYiA9IE1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmIwKSAqIE1hdGguc2luKHJvdEIpICsgTWF0aC5zaW4odGhpcy5iMCkgKiBNYXRoLmNvcyhyb3RCKSAqIE1hdGguY29zKHJvdEkpKTtcbiAgICAgIHZhciBJID0gTWF0aC5hdGFuKE1hdGguc2luKHJvdEkpIC8gKE1hdGguY29zKHRoaXMuYjApICogTWF0aC5jb3Mocm90SSkgLSBNYXRoLnNpbih0aGlzLmIwKSAqIE1hdGgudGFuKHJvdEIpKSk7XG5cbiAgICAgIHZhciBsYW1iZGEgPSB0aGlzLmxhbWJkYTAgKyBJIC8gdGhpcy5hbHBoYTtcblxuICAgICAgdmFyIFMgPSAwO1xuICAgICAgdmFyIHBoeSA9IGI7XG4gICAgICB2YXIgcHJldlBoeSA9IC0xMDAwO1xuICAgICAgdmFyIGl0ZXJhdGlvbiA9IDA7XG4gICAgICB3aGlsZSAoTWF0aC5hYnMocGh5IC0gcHJldlBoeSkgPiAwLjAwMDAwMDEpIHtcbiAgICAgICAgaWYgKCsraXRlcmF0aW9uID4gMjApIHtcbiAgICAgICAgICAvLy4uLnJlcG9ydEVycm9yKFwib21lcmNGd2RJbmZpbml0eVwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy9TID0gTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSSAvIDQgKyBwaHkgLyAyKSk7XG4gICAgICAgIFMgPSAxIC8gdGhpcy5hbHBoYSAqIChNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJIC8gNCArIGIgLyAyKSkgLSB0aGlzLkspICsgdGhpcy5lICogTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSSAvIDQgKyBNYXRoLmFzaW4odGhpcy5lICogTWF0aC5zaW4ocGh5KSkgLyAyKSk7XG4gICAgICAgIHByZXZQaHkgPSBwaHk7XG4gICAgICAgIHBoeSA9IDIgKiBNYXRoLmF0YW4oTWF0aC5leHAoUykpIC0gTWF0aC5QSSAvIDI7XG4gICAgICB9XG5cbiAgICAgIHAueCA9IGxhbWJkYTtcbiAgICAgIHAueSA9IHBoeTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQ5ID0gW1wic29tZXJjXCJdO1xuICAgIHZhciBzb21lcmMgPSB7XG4gICAgICBpbml0OiBpbml0JDgsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDcsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDcsXG4gICAgICBuYW1lczogbmFtZXMkOVxuICAgIH07XG5cbiAgICAvKiBJbml0aWFsaXplIHRoZSBPYmxpcXVlIE1lcmNhdG9yICBwcm9qZWN0aW9uXG4gICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gaW5pdCQ5KCkge1xuICAgICAgdGhpcy5ub19vZmYgPSB0aGlzLm5vX29mZiB8fCBmYWxzZTtcbiAgICAgIHRoaXMubm9fcm90ID0gdGhpcy5ub19yb3QgfHwgZmFsc2U7XG5cbiAgICAgIGlmIChpc05hTih0aGlzLmswKSkge1xuICAgICAgICB0aGlzLmswID0gMTtcbiAgICAgIH1cbiAgICAgIHZhciBzaW5sYXQgPSBNYXRoLnNpbih0aGlzLmxhdDApO1xuICAgICAgdmFyIGNvc2xhdCA9IE1hdGguY29zKHRoaXMubGF0MCk7XG4gICAgICB2YXIgY29uID0gdGhpcy5lICogc2lubGF0O1xuXG4gICAgICB0aGlzLmJsID0gTWF0aC5zcXJ0KDEgKyB0aGlzLmVzIC8gKDEgLSB0aGlzLmVzKSAqIE1hdGgucG93KGNvc2xhdCwgNCkpO1xuICAgICAgdGhpcy5hbCA9IHRoaXMuYSAqIHRoaXMuYmwgKiB0aGlzLmswICogTWF0aC5zcXJ0KDEgLSB0aGlzLmVzKSAvICgxIC0gY29uICogY29uKTtcbiAgICAgIHZhciB0MCA9IHRzZm56KHRoaXMuZSwgdGhpcy5sYXQwLCBzaW5sYXQpO1xuICAgICAgdmFyIGRsID0gdGhpcy5ibCAvIGNvc2xhdCAqIE1hdGguc3FydCgoMSAtIHRoaXMuZXMpIC8gKDEgLSBjb24gKiBjb24pKTtcbiAgICAgIGlmIChkbCAqIGRsIDwgMSkge1xuICAgICAgICBkbCA9IDE7XG4gICAgICB9XG4gICAgICB2YXIgZmw7XG4gICAgICB2YXIgZ2w7XG4gICAgICBpZiAoIWlzTmFOKHRoaXMubG9uZ2MpKSB7XG4gICAgICAgIC8vQ2VudHJhbCBwb2ludCBhbmQgYXppbXV0aCBtZXRob2RcblxuICAgICAgICBpZiAodGhpcy5sYXQwID49IDApIHtcbiAgICAgICAgICBmbCA9IGRsICsgTWF0aC5zcXJ0KGRsICogZGwgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmbCA9IGRsIC0gTWF0aC5zcXJ0KGRsICogZGwgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsID0gZmwgKiBNYXRoLnBvdyh0MCwgdGhpcy5ibCk7XG4gICAgICAgIGdsID0gMC41ICogKGZsIC0gMSAvIGZsKTtcbiAgICAgICAgdGhpcy5nYW1tYTAgPSBNYXRoLmFzaW4oTWF0aC5zaW4odGhpcy5hbHBoYSkgLyBkbCk7XG4gICAgICAgIHRoaXMubG9uZzAgPSB0aGlzLmxvbmdjIC0gTWF0aC5hc2luKGdsICogTWF0aC50YW4odGhpcy5nYW1tYTApKSAvIHRoaXMuYmw7XG5cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLzIgcG9pbnRzIG1ldGhvZFxuICAgICAgICB2YXIgdDEgPSB0c2Zueih0aGlzLmUsIHRoaXMubGF0MSwgTWF0aC5zaW4odGhpcy5sYXQxKSk7XG4gICAgICAgIHZhciB0MiA9IHRzZm56KHRoaXMuZSwgdGhpcy5sYXQyLCBNYXRoLnNpbih0aGlzLmxhdDIpKTtcbiAgICAgICAgaWYgKHRoaXMubGF0MCA+PSAwKSB7XG4gICAgICAgICAgdGhpcy5lbCA9IChkbCArIE1hdGguc3FydChkbCAqIGRsIC0gMSkpICogTWF0aC5wb3codDAsIHRoaXMuYmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuZWwgPSAoZGwgLSBNYXRoLnNxcnQoZGwgKiBkbCAtIDEpKSAqIE1hdGgucG93KHQwLCB0aGlzLmJsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGwgPSBNYXRoLnBvdyh0MSwgdGhpcy5ibCk7XG4gICAgICAgIHZhciBsbCA9IE1hdGgucG93KHQyLCB0aGlzLmJsKTtcbiAgICAgICAgZmwgPSB0aGlzLmVsIC8gaGw7XG4gICAgICAgIGdsID0gMC41ICogKGZsIC0gMSAvIGZsKTtcbiAgICAgICAgdmFyIGpsID0gKHRoaXMuZWwgKiB0aGlzLmVsIC0gbGwgKiBobCkgLyAodGhpcy5lbCAqIHRoaXMuZWwgKyBsbCAqIGhsKTtcbiAgICAgICAgdmFyIHBsID0gKGxsIC0gaGwpIC8gKGxsICsgaGwpO1xuICAgICAgICB2YXIgZGxvbjEyID0gYWRqdXN0X2xvbih0aGlzLmxvbmcxIC0gdGhpcy5sb25nMik7XG4gICAgICAgIHRoaXMubG9uZzAgPSAwLjUgKiAodGhpcy5sb25nMSArIHRoaXMubG9uZzIpIC0gTWF0aC5hdGFuKGpsICogTWF0aC50YW4oMC41ICogdGhpcy5ibCAqIChkbG9uMTIpKSAvIHBsKSAvIHRoaXMuYmw7XG4gICAgICAgIHRoaXMubG9uZzAgPSBhZGp1c3RfbG9uKHRoaXMubG9uZzApO1xuICAgICAgICB2YXIgZGxvbjEwID0gYWRqdXN0X2xvbih0aGlzLmxvbmcxIC0gdGhpcy5sb25nMCk7XG4gICAgICAgIHRoaXMuZ2FtbWEwID0gTWF0aC5hdGFuKE1hdGguc2luKHRoaXMuYmwgKiAoZGxvbjEwKSkgLyBnbCk7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBNYXRoLmFzaW4oZGwgKiBNYXRoLnNpbih0aGlzLmdhbW1hMCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5ub19vZmYpIHtcbiAgICAgICAgdGhpcy51YyA9IDA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMubGF0MCA+PSAwKSB7XG4gICAgICAgICAgdGhpcy51YyA9IHRoaXMuYWwgLyB0aGlzLmJsICogTWF0aC5hdGFuMihNYXRoLnNxcnQoZGwgKiBkbCAtIDEpLCBNYXRoLmNvcyh0aGlzLmFscGhhKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy51YyA9IC0xICogdGhpcy5hbCAvIHRoaXMuYmwgKiBNYXRoLmF0YW4yKE1hdGguc3FydChkbCAqIGRsIC0gMSksIE1hdGguY29zKHRoaXMuYWxwaGEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyogT2JsaXF1ZSBNZXJjYXRvciBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gZm9yd2FyZCQ4KHApIHtcbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuICAgICAgdmFyIGRsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAgICAgdmFyIHVzLCB2cztcbiAgICAgIHZhciBjb247XG4gICAgICBpZiAoTWF0aC5hYnMoTWF0aC5hYnMobGF0KSAtIEhBTEZfUEkpIDw9IEVQU0xOKSB7XG4gICAgICAgIGlmIChsYXQgPiAwKSB7XG4gICAgICAgICAgY29uID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uID0gMTtcbiAgICAgICAgfVxuICAgICAgICB2cyA9IHRoaXMuYWwgLyB0aGlzLmJsICogTWF0aC5sb2coTWF0aC50YW4oRk9SVFBJICsgY29uICogdGhpcy5nYW1tYTAgKiAwLjUpKTtcbiAgICAgICAgdXMgPSAtMSAqIGNvbiAqIEhBTEZfUEkgKiB0aGlzLmFsIC8gdGhpcy5ibDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgdCA9IHRzZm56KHRoaXMuZSwgbGF0LCBNYXRoLnNpbihsYXQpKTtcbiAgICAgICAgdmFyIHFsID0gdGhpcy5lbCAvIE1hdGgucG93KHQsIHRoaXMuYmwpO1xuICAgICAgICB2YXIgc2wgPSAwLjUgKiAocWwgLSAxIC8gcWwpO1xuICAgICAgICB2YXIgdGwgPSAwLjUgKiAocWwgKyAxIC8gcWwpO1xuICAgICAgICB2YXIgdmwgPSBNYXRoLnNpbih0aGlzLmJsICogKGRsb24pKTtcbiAgICAgICAgdmFyIHVsID0gKHNsICogTWF0aC5zaW4odGhpcy5nYW1tYTApIC0gdmwgKiBNYXRoLmNvcyh0aGlzLmdhbW1hMCkpIC8gdGw7XG4gICAgICAgIGlmIChNYXRoLmFicyhNYXRoLmFicyh1bCkgLSAxKSA8PSBFUFNMTikge1xuICAgICAgICAgIHZzID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZzID0gMC41ICogdGhpcy5hbCAqIE1hdGgubG9nKCgxIC0gdWwpIC8gKDEgKyB1bCkpIC8gdGhpcy5ibDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5hYnMoTWF0aC5jb3ModGhpcy5ibCAqIChkbG9uKSkpIDw9IEVQU0xOKSB7XG4gICAgICAgICAgdXMgPSB0aGlzLmFsICogdGhpcy5ibCAqIChkbG9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB1cyA9IHRoaXMuYWwgKiBNYXRoLmF0YW4yKHNsICogTWF0aC5jb3ModGhpcy5nYW1tYTApICsgdmwgKiBNYXRoLnNpbih0aGlzLmdhbW1hMCksIE1hdGguY29zKHRoaXMuYmwgKiBkbG9uKSkgLyB0aGlzLmJsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm5vX3JvdCkge1xuICAgICAgICBwLnggPSB0aGlzLngwICsgdXM7XG4gICAgICAgIHAueSA9IHRoaXMueTAgKyB2cztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuXG4gICAgICAgIHVzIC09IHRoaXMudWM7XG4gICAgICAgIHAueCA9IHRoaXMueDAgKyB2cyAqIE1hdGguY29zKHRoaXMuYWxwaGEpICsgdXMgKiBNYXRoLnNpbih0aGlzLmFscGhhKTtcbiAgICAgICAgcC55ID0gdGhpcy55MCArIHVzICogTWF0aC5jb3ModGhpcy5hbHBoYSkgLSB2cyAqIE1hdGguc2luKHRoaXMuYWxwaGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQ4KHApIHtcbiAgICAgIHZhciB1cywgdnM7XG4gICAgICBpZiAodGhpcy5ub19yb3QpIHtcbiAgICAgICAgdnMgPSBwLnkgLSB0aGlzLnkwO1xuICAgICAgICB1cyA9IHAueCAtIHRoaXMueDA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdnMgPSAocC54IC0gdGhpcy54MCkgKiBNYXRoLmNvcyh0aGlzLmFscGhhKSAtIChwLnkgLSB0aGlzLnkwKSAqIE1hdGguc2luKHRoaXMuYWxwaGEpO1xuICAgICAgICB1cyA9IChwLnkgLSB0aGlzLnkwKSAqIE1hdGguY29zKHRoaXMuYWxwaGEpICsgKHAueCAtIHRoaXMueDApICogTWF0aC5zaW4odGhpcy5hbHBoYSk7XG4gICAgICAgIHVzICs9IHRoaXMudWM7XG4gICAgICB9XG4gICAgICB2YXIgcXAgPSBNYXRoLmV4cCgtMSAqIHRoaXMuYmwgKiB2cyAvIHRoaXMuYWwpO1xuICAgICAgdmFyIHNwID0gMC41ICogKHFwIC0gMSAvIHFwKTtcbiAgICAgIHZhciB0cCA9IDAuNSAqIChxcCArIDEgLyBxcCk7XG4gICAgICB2YXIgdnAgPSBNYXRoLnNpbih0aGlzLmJsICogdXMgLyB0aGlzLmFsKTtcbiAgICAgIHZhciB1cCA9ICh2cCAqIE1hdGguY29zKHRoaXMuZ2FtbWEwKSArIHNwICogTWF0aC5zaW4odGhpcy5nYW1tYTApKSAvIHRwO1xuICAgICAgdmFyIHRzID0gTWF0aC5wb3codGhpcy5lbCAvIE1hdGguc3FydCgoMSArIHVwKSAvICgxIC0gdXApKSwgMSAvIHRoaXMuYmwpO1xuICAgICAgaWYgKE1hdGguYWJzKHVwIC0gMSkgPCBFUFNMTikge1xuICAgICAgICBwLnggPSB0aGlzLmxvbmcwO1xuICAgICAgICBwLnkgPSBIQUxGX1BJO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoTWF0aC5hYnModXAgKyAxKSA8IEVQU0xOKSB7XG4gICAgICAgIHAueCA9IHRoaXMubG9uZzA7XG4gICAgICAgIHAueSA9IC0xICogSEFMRl9QSTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBwLnkgPSBwaGkyeih0aGlzLmUsIHRzKTtcbiAgICAgICAgcC54ID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwIC0gTWF0aC5hdGFuMihzcCAqIE1hdGguY29zKHRoaXMuZ2FtbWEwKSAtIHZwICogTWF0aC5zaW4odGhpcy5nYW1tYTApLCBNYXRoLmNvcyh0aGlzLmJsICogdXMgLyB0aGlzLmFsKSkgLyB0aGlzLmJsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQxMCA9IFtcIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yXCIsIFwiSG90aW5lIE9ibGlxdWUgTWVyY2F0b3JcIiwgXCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9BemltdXRoX05hdHVyYWxfT3JpZ2luXCIsIFwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9DZW50ZXJcIiwgXCJvbWVyY1wiXTtcbiAgICB2YXIgb21lcmMgPSB7XG4gICAgICBpbml0OiBpbml0JDksXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDgsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDgsXG4gICAgICBuYW1lczogbmFtZXMkMTBcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCQxMCgpIHtcblxuICAgICAgLy8gYXJyYXkgb2Y6ICByX21haixyX21pbixsYXQxLGxhdDIsY19sb24sY19sYXQsZmFsc2VfZWFzdCxmYWxzZV9ub3J0aFxuICAgICAgLy9kb3VibGUgY19sYXQ7ICAgICAgICAgICAgICAgICAgIC8qIGNlbnRlciBsYXRpdHVkZSAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgLy9kb3VibGUgY19sb247ICAgICAgICAgICAgICAgICAgIC8qIGNlbnRlciBsb25naXR1ZGUgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgLy9kb3VibGUgbGF0MTsgICAgICAgICAgICAgICAgICAgIC8qIGZpcnN0IHN0YW5kYXJkIHBhcmFsbGVsICAgICAgICAgICAgICAqL1xuICAgICAgLy9kb3VibGUgbGF0MjsgICAgICAgICAgICAgICAgICAgIC8qIHNlY29uZCBzdGFuZGFyZCBwYXJhbGxlbCAgICAgICAgICAgICAqL1xuICAgICAgLy9kb3VibGUgcl9tYWo7ICAgICAgICAgICAgICAgICAgIC8qIG1ham9yIGF4aXMgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgLy9kb3VibGUgcl9taW47ICAgICAgICAgICAgICAgICAgIC8qIG1pbm9yIGF4aXMgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgLy9kb3VibGUgZmFsc2VfZWFzdDsgICAgICAgICAgICAgIC8qIHggb2Zmc2V0IGluIG1ldGVycyAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgLy9kb3VibGUgZmFsc2Vfbm9ydGg7ICAgICAgICAgICAgIC8qIHkgb2Zmc2V0IGluIG1ldGVycyAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICBpZiAoIXRoaXMubGF0Mikge1xuICAgICAgICB0aGlzLmxhdDIgPSB0aGlzLmxhdDE7XG4gICAgICB9IC8vaWYgbGF0MiBpcyBub3QgZGVmaW5lZFxuICAgICAgaWYgKCF0aGlzLmswKSB7XG4gICAgICAgIHRoaXMuazAgPSAxO1xuICAgICAgfVxuICAgICAgdGhpcy54MCA9IHRoaXMueDAgfHwgMDtcbiAgICAgIHRoaXMueTAgPSB0aGlzLnkwIHx8IDA7XG4gICAgICAvLyBTdGFuZGFyZCBQYXJhbGxlbHMgY2Fubm90IGJlIGVxdWFsIGFuZCBvbiBvcHBvc2l0ZSBzaWRlcyBvZiB0aGUgZXF1YXRvclxuICAgICAgaWYgKE1hdGguYWJzKHRoaXMubGF0MSArIHRoaXMubGF0MikgPCBFUFNMTikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0ZW1wID0gdGhpcy5iIC8gdGhpcy5hO1xuICAgICAgdGhpcy5lID0gTWF0aC5zcXJ0KDEgLSB0ZW1wICogdGVtcCk7XG5cbiAgICAgIHZhciBzaW4xID0gTWF0aC5zaW4odGhpcy5sYXQxKTtcbiAgICAgIHZhciBjb3MxID0gTWF0aC5jb3ModGhpcy5sYXQxKTtcbiAgICAgIHZhciBtczEgPSBtc2Zueih0aGlzLmUsIHNpbjEsIGNvczEpO1xuICAgICAgdmFyIHRzMSA9IHRzZm56KHRoaXMuZSwgdGhpcy5sYXQxLCBzaW4xKTtcblxuICAgICAgdmFyIHNpbjIgPSBNYXRoLnNpbih0aGlzLmxhdDIpO1xuICAgICAgdmFyIGNvczIgPSBNYXRoLmNvcyh0aGlzLmxhdDIpO1xuICAgICAgdmFyIG1zMiA9IG1zZm56KHRoaXMuZSwgc2luMiwgY29zMik7XG4gICAgICB2YXIgdHMyID0gdHNmbnoodGhpcy5lLCB0aGlzLmxhdDIsIHNpbjIpO1xuXG4gICAgICB2YXIgdHMwID0gdHNmbnoodGhpcy5lLCB0aGlzLmxhdDAsIE1hdGguc2luKHRoaXMubGF0MCkpO1xuXG4gICAgICBpZiAoTWF0aC5hYnModGhpcy5sYXQxIC0gdGhpcy5sYXQyKSA+IEVQU0xOKSB7XG4gICAgICAgIHRoaXMubnMgPSBNYXRoLmxvZyhtczEgLyBtczIpIC8gTWF0aC5sb2codHMxIC8gdHMyKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLm5zID0gc2luMTtcbiAgICAgIH1cbiAgICAgIGlmIChpc05hTih0aGlzLm5zKSkge1xuICAgICAgICB0aGlzLm5zID0gc2luMTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZjAgPSBtczEgLyAodGhpcy5ucyAqIE1hdGgucG93KHRzMSwgdGhpcy5ucykpO1xuICAgICAgdGhpcy5yaCA9IHRoaXMuYSAqIHRoaXMuZjAgKiBNYXRoLnBvdyh0czAsIHRoaXMubnMpO1xuICAgICAgaWYgKCF0aGlzLnRpdGxlKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSBcIkxhbWJlcnQgQ29uZm9ybWFsIENvbmljXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGFtYmVydCBDb25mb3JtYWwgY29uaWMgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDkocCkge1xuXG4gICAgICB2YXIgbG9uID0gcC54O1xuICAgICAgdmFyIGxhdCA9IHAueTtcblxuICAgICAgLy8gc2luZ3VsYXIgY2FzZXMgOlxuICAgICAgaWYgKE1hdGguYWJzKDIgKiBNYXRoLmFicyhsYXQpIC0gTWF0aC5QSSkgPD0gRVBTTE4pIHtcbiAgICAgICAgbGF0ID0gc2lnbihsYXQpICogKEhBTEZfUEkgLSAyICogRVBTTE4pO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29uID0gTWF0aC5hYnMoTWF0aC5hYnMobGF0KSAtIEhBTEZfUEkpO1xuICAgICAgdmFyIHRzLCByaDE7XG4gICAgICBpZiAoY29uID4gRVBTTE4pIHtcbiAgICAgICAgdHMgPSB0c2Zueih0aGlzLmUsIGxhdCwgTWF0aC5zaW4obGF0KSk7XG4gICAgICAgIHJoMSA9IHRoaXMuYSAqIHRoaXMuZjAgKiBNYXRoLnBvdyh0cywgdGhpcy5ucyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uID0gbGF0ICogdGhpcy5ucztcbiAgICAgICAgaWYgKGNvbiA8PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmgxID0gMDtcbiAgICAgIH1cbiAgICAgIHZhciB0aGV0YSA9IHRoaXMubnMgKiBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAgICAgcC54ID0gdGhpcy5rMCAqIChyaDEgKiBNYXRoLnNpbih0aGV0YSkpICsgdGhpcy54MDtcbiAgICAgIHAueSA9IHRoaXMuazAgKiAodGhpcy5yaCAtIHJoMSAqIE1hdGguY29zKHRoZXRhKSkgKyB0aGlzLnkwO1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvLyBMYW1iZXJ0IENvbmZvcm1hbCBDb25pYyBpbnZlcnNlIGVxdWF0aW9ucy0tbWFwcGluZyB4LHkgdG8gbGF0L2xvbmdcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIGludmVyc2UkOShwKSB7XG5cbiAgICAgIHZhciByaDEsIGNvbiwgdHM7XG4gICAgICB2YXIgbGF0LCBsb247XG4gICAgICB2YXIgeCA9IChwLnggLSB0aGlzLngwKSAvIHRoaXMuazA7XG4gICAgICB2YXIgeSA9ICh0aGlzLnJoIC0gKHAueSAtIHRoaXMueTApIC8gdGhpcy5rMCk7XG4gICAgICBpZiAodGhpcy5ucyA+IDApIHtcbiAgICAgICAgcmgxID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgICAgICBjb24gPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJoMSA9IC1NYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgICAgIGNvbiA9IC0xO1xuICAgICAgfVxuICAgICAgdmFyIHRoZXRhID0gMDtcbiAgICAgIGlmIChyaDEgIT09IDApIHtcbiAgICAgICAgdGhldGEgPSBNYXRoLmF0YW4yKChjb24gKiB4KSwgKGNvbiAqIHkpKTtcbiAgICAgIH1cbiAgICAgIGlmICgocmgxICE9PSAwKSB8fCAodGhpcy5ucyA+IDApKSB7XG4gICAgICAgIGNvbiA9IDEgLyB0aGlzLm5zO1xuICAgICAgICB0cyA9IE1hdGgucG93KChyaDEgLyAodGhpcy5hICogdGhpcy5mMCkpLCBjb24pO1xuICAgICAgICBsYXQgPSBwaGkyeih0aGlzLmUsIHRzKTtcbiAgICAgICAgaWYgKGxhdCA9PT0gLTk5OTkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxhdCA9IC1IQUxGX1BJO1xuICAgICAgfVxuICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGV0YSAvIHRoaXMubnMgKyB0aGlzLmxvbmcwKTtcblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVzJDExID0gW1wiTGFtYmVydCBUYW5nZW50aWFsIENvbmZvcm1hbCBDb25pYyBQcm9qZWN0aW9uXCIsIFwiTGFtYmVydF9Db25mb3JtYWxfQ29uaWNcIiwgXCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pY18yU1BcIiwgXCJsY2NcIl07XG4gICAgdmFyIGxjYyA9IHtcbiAgICAgIGluaXQ6IGluaXQkMTAsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDksXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDksXG4gICAgICBuYW1lczogbmFtZXMkMTFcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCQxMSgpIHtcbiAgICAgIHRoaXMuYSA9IDYzNzczOTcuMTU1O1xuICAgICAgdGhpcy5lcyA9IDAuMDA2Njc0MzcyMjMwNjE0O1xuICAgICAgdGhpcy5lID0gTWF0aC5zcXJ0KHRoaXMuZXMpO1xuICAgICAgaWYgKCF0aGlzLmxhdDApIHtcbiAgICAgICAgdGhpcy5sYXQwID0gMC44NjM5Mzc5Nzk3MzcxOTM7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMubG9uZzApIHtcbiAgICAgICAgdGhpcy5sb25nMCA9IDAuNzQxNzY0OTMyMDk3NTkwMSAtIDAuMzA4MzQxNTAxMTg1NjY1O1xuICAgICAgfVxuICAgICAgLyogaWYgc2NhbGUgbm90IHNldCBkZWZhdWx0IHRvIDAuOTk5OSAqL1xuICAgICAgaWYgKCF0aGlzLmswKSB7XG4gICAgICAgIHRoaXMuazAgPSAwLjk5OTk7XG4gICAgICB9XG4gICAgICB0aGlzLnM0NSA9IDAuNzg1Mzk4MTYzMzk3NDQ4OyAvKiA0NSAqL1xuICAgICAgdGhpcy5zOTAgPSAyICogdGhpcy5zNDU7XG4gICAgICB0aGlzLmZpMCA9IHRoaXMubGF0MDtcbiAgICAgIHRoaXMuZTIgPSB0aGlzLmVzO1xuICAgICAgdGhpcy5lID0gTWF0aC5zcXJ0KHRoaXMuZTIpO1xuICAgICAgdGhpcy5hbGZhID0gTWF0aC5zcXJ0KDEgKyAodGhpcy5lMiAqIE1hdGgucG93KE1hdGguY29zKHRoaXMuZmkwKSwgNCkpIC8gKDEgLSB0aGlzLmUyKSk7XG4gICAgICB0aGlzLnVxID0gMS4wNDIxNjg1NjM4MDQ3NDtcbiAgICAgIHRoaXMudTAgPSBNYXRoLmFzaW4oTWF0aC5zaW4odGhpcy5maTApIC8gdGhpcy5hbGZhKTtcbiAgICAgIHRoaXMuZyA9IE1hdGgucG93KCgxICsgdGhpcy5lICogTWF0aC5zaW4odGhpcy5maTApKSAvICgxIC0gdGhpcy5lICogTWF0aC5zaW4odGhpcy5maTApKSwgdGhpcy5hbGZhICogdGhpcy5lIC8gMik7XG4gICAgICB0aGlzLmsgPSBNYXRoLnRhbih0aGlzLnUwIC8gMiArIHRoaXMuczQ1KSAvIE1hdGgucG93KE1hdGgudGFuKHRoaXMuZmkwIC8gMiArIHRoaXMuczQ1KSwgdGhpcy5hbGZhKSAqIHRoaXMuZztcbiAgICAgIHRoaXMuazEgPSB0aGlzLmswO1xuICAgICAgdGhpcy5uMCA9IHRoaXMuYSAqIE1hdGguc3FydCgxIC0gdGhpcy5lMikgLyAoMSAtIHRoaXMuZTIgKiBNYXRoLnBvdyhNYXRoLnNpbih0aGlzLmZpMCksIDIpKTtcbiAgICAgIHRoaXMuczAgPSAxLjM3MDA4MzQ2MjgxNTU1O1xuICAgICAgdGhpcy5uID0gTWF0aC5zaW4odGhpcy5zMCk7XG4gICAgICB0aGlzLnJvMCA9IHRoaXMuazEgKiB0aGlzLm4wIC8gTWF0aC50YW4odGhpcy5zMCk7XG4gICAgICB0aGlzLmFkID0gdGhpcy5zOTAgLSB0aGlzLnVxO1xuICAgIH1cblxuICAgIC8qIGVsbGlwc29pZCAqL1xuICAgIC8qIGNhbGN1bGF0ZSB4eSBmcm9tIGxhdC9sb24gKi9cbiAgICAvKiBDb25zdGFudHMsIGlkZW50aWNhbCB0byBpbnZlcnNlIHRyYW5zZm9ybSBmdW5jdGlvbiAqL1xuICAgIGZ1bmN0aW9uIGZvcndhcmQkMTAocCkge1xuICAgICAgdmFyIGdmaSwgdSwgZGVsdGF2LCBzLCBkLCBlcHMsIHJvO1xuICAgICAgdmFyIGxvbiA9IHAueDtcbiAgICAgIHZhciBsYXQgPSBwLnk7XG4gICAgICB2YXIgZGVsdGFfbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgIC8qIFRyYW5zZm9ybWF0aW9uICovXG4gICAgICBnZmkgPSBNYXRoLnBvdygoKDEgKyB0aGlzLmUgKiBNYXRoLnNpbihsYXQpKSAvICgxIC0gdGhpcy5lICogTWF0aC5zaW4obGF0KSkpLCAodGhpcy5hbGZhICogdGhpcy5lIC8gMikpO1xuICAgICAgdSA9IDIgKiAoTWF0aC5hdGFuKHRoaXMuayAqIE1hdGgucG93KE1hdGgudGFuKGxhdCAvIDIgKyB0aGlzLnM0NSksIHRoaXMuYWxmYSkgLyBnZmkpIC0gdGhpcy5zNDUpO1xuICAgICAgZGVsdGF2ID0gLWRlbHRhX2xvbiAqIHRoaXMuYWxmYTtcbiAgICAgIHMgPSBNYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5hZCkgKiBNYXRoLnNpbih1KSArIE1hdGguc2luKHRoaXMuYWQpICogTWF0aC5jb3ModSkgKiBNYXRoLmNvcyhkZWx0YXYpKTtcbiAgICAgIGQgPSBNYXRoLmFzaW4oTWF0aC5jb3ModSkgKiBNYXRoLnNpbihkZWx0YXYpIC8gTWF0aC5jb3MocykpO1xuICAgICAgZXBzID0gdGhpcy5uICogZDtcbiAgICAgIHJvID0gdGhpcy5ybzAgKiBNYXRoLnBvdyhNYXRoLnRhbih0aGlzLnMwIC8gMiArIHRoaXMuczQ1KSwgdGhpcy5uKSAvIE1hdGgucG93KE1hdGgudGFuKHMgLyAyICsgdGhpcy5zNDUpLCB0aGlzLm4pO1xuICAgICAgcC55ID0gcm8gKiBNYXRoLmNvcyhlcHMpIC8gMTtcbiAgICAgIHAueCA9IHJvICogTWF0aC5zaW4oZXBzKSAvIDE7XG5cbiAgICAgIGlmICghdGhpcy5jemVjaCkge1xuICAgICAgICBwLnkgKj0gLTE7XG4gICAgICAgIHAueCAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAocCk7XG4gICAgfVxuXG4gICAgLyogY2FsY3VsYXRlIGxhdC9sb24gZnJvbSB4eSAqL1xuICAgIGZ1bmN0aW9uIGludmVyc2UkMTAocCkge1xuICAgICAgdmFyIHUsIGRlbHRhdiwgcywgZCwgZXBzLCBybywgZmkxO1xuICAgICAgdmFyIG9rO1xuXG4gICAgICAvKiBUcmFuc2Zvcm1hdGlvbiAqL1xuICAgICAgLyogcmV2ZXJ0IHksIHgqL1xuICAgICAgdmFyIHRtcCA9IHAueDtcbiAgICAgIHAueCA9IHAueTtcbiAgICAgIHAueSA9IHRtcDtcbiAgICAgIGlmICghdGhpcy5jemVjaCkge1xuICAgICAgICBwLnkgKj0gLTE7XG4gICAgICAgIHAueCAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJvID0gTWF0aC5zcXJ0KHAueCAqIHAueCArIHAueSAqIHAueSk7XG4gICAgICBlcHMgPSBNYXRoLmF0YW4yKHAueSwgcC54KTtcbiAgICAgIGQgPSBlcHMgLyBNYXRoLnNpbih0aGlzLnMwKTtcbiAgICAgIHMgPSAyICogKE1hdGguYXRhbihNYXRoLnBvdyh0aGlzLnJvMCAvIHJvLCAxIC8gdGhpcy5uKSAqIE1hdGgudGFuKHRoaXMuczAgLyAyICsgdGhpcy5zNDUpKSAtIHRoaXMuczQ1KTtcbiAgICAgIHUgPSBNYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5hZCkgKiBNYXRoLnNpbihzKSAtIE1hdGguc2luKHRoaXMuYWQpICogTWF0aC5jb3MocykgKiBNYXRoLmNvcyhkKSk7XG4gICAgICBkZWx0YXYgPSBNYXRoLmFzaW4oTWF0aC5jb3MocykgKiBNYXRoLnNpbihkKSAvIE1hdGguY29zKHUpKTtcbiAgICAgIHAueCA9IHRoaXMubG9uZzAgLSBkZWx0YXYgLyB0aGlzLmFsZmE7XG4gICAgICBmaTEgPSB1O1xuICAgICAgb2sgPSAwO1xuICAgICAgdmFyIGl0ZXIgPSAwO1xuICAgICAgZG8ge1xuICAgICAgICBwLnkgPSAyICogKE1hdGguYXRhbihNYXRoLnBvdyh0aGlzLmssIC0gMSAvIHRoaXMuYWxmYSkgKiBNYXRoLnBvdyhNYXRoLnRhbih1IC8gMiArIHRoaXMuczQ1KSwgMSAvIHRoaXMuYWxmYSkgKiBNYXRoLnBvdygoMSArIHRoaXMuZSAqIE1hdGguc2luKGZpMSkpIC8gKDEgLSB0aGlzLmUgKiBNYXRoLnNpbihmaTEpKSwgdGhpcy5lIC8gMikpIC0gdGhpcy5zNDUpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZmkxIC0gcC55KSA8IDAuMDAwMDAwMDAwMSkge1xuICAgICAgICAgIG9rID0gMTtcbiAgICAgICAgfVxuICAgICAgICBmaTEgPSBwLnk7XG4gICAgICAgIGl0ZXIgKz0gMTtcbiAgICAgIH0gd2hpbGUgKG9rID09PSAwICYmIGl0ZXIgPCAxNSk7XG4gICAgICBpZiAoaXRlciA+PSAxNSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChwKTtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkMTIgPSBbXCJLcm92YWtcIiwgXCJrcm92YWtcIl07XG4gICAgdmFyIGtyb3ZhayA9IHtcbiAgICAgIGluaXQ6IGluaXQkMTEsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDEwLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQxMCxcbiAgICAgIG5hbWVzOiBuYW1lcyQxMlxuICAgIH07XG5cbiAgICB2YXIgbWxmbiA9IGZ1bmN0aW9uKGUwLCBlMSwgZTIsIGUzLCBwaGkpIHtcbiAgICAgIHJldHVybiAoZTAgKiBwaGkgLSBlMSAqIE1hdGguc2luKDIgKiBwaGkpICsgZTIgKiBNYXRoLnNpbig0ICogcGhpKSAtIGUzICogTWF0aC5zaW4oNiAqIHBoaSkpO1xuICAgIH07XG5cbiAgICB2YXIgZTBmbiA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiAoMSAtIDAuMjUgKiB4ICogKDEgKyB4IC8gMTYgKiAoMyArIDEuMjUgKiB4KSkpO1xuICAgIH07XG5cbiAgICB2YXIgZTFmbiA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiAoMC4zNzUgKiB4ICogKDEgKyAwLjI1ICogeCAqICgxICsgMC40Njg3NSAqIHgpKSk7XG4gICAgfTtcblxuICAgIHZhciBlMmZuID0gZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuICgwLjA1ODU5Mzc1ICogeCAqIHggKiAoMSArIDAuNzUgKiB4KSk7XG4gICAgfTtcblxuICAgIHZhciBlM2ZuID0gZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuICh4ICogeCAqIHggKiAoMzUgLyAzMDcyKSk7XG4gICAgfTtcblxuICAgIHZhciBnTiA9IGZ1bmN0aW9uKGEsIGUsIHNpbnBoaSkge1xuICAgICAgdmFyIHRlbXAgPSBlICogc2lucGhpO1xuICAgICAgcmV0dXJuIGEgLyBNYXRoLnNxcnQoMSAtIHRlbXAgKiB0ZW1wKTtcbiAgICB9O1xuXG4gICAgdmFyIGFkanVzdF9sYXQgPSBmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gKE1hdGguYWJzKHgpIDwgSEFMRl9QSSkgPyB4IDogKHggLSAoc2lnbih4KSAqIE1hdGguUEkpKTtcbiAgICB9O1xuXG4gICAgdmFyIGltbGZuID0gZnVuY3Rpb24obWwsIGUwLCBlMSwgZTIsIGUzKSB7XG4gICAgICB2YXIgcGhpO1xuICAgICAgdmFyIGRwaGk7XG5cbiAgICAgIHBoaSA9IG1sIC8gZTA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE1OyBpKyspIHtcbiAgICAgICAgZHBoaSA9IChtbCAtIChlMCAqIHBoaSAtIGUxICogTWF0aC5zaW4oMiAqIHBoaSkgKyBlMiAqIE1hdGguc2luKDQgKiBwaGkpIC0gZTMgKiBNYXRoLnNpbig2ICogcGhpKSkpIC8gKGUwIC0gMiAqIGUxICogTWF0aC5jb3MoMiAqIHBoaSkgKyA0ICogZTIgKiBNYXRoLmNvcyg0ICogcGhpKSAtIDYgKiBlMyAqIE1hdGguY29zKDYgKiBwaGkpKTtcbiAgICAgICAgcGhpICs9IGRwaGk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkcGhpKSA8PSAwLjAwMDAwMDAwMDEpIHtcbiAgICAgICAgICByZXR1cm4gcGhpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vLi5yZXBvcnRFcnJvcihcIklNTEZOLUNPTlY6TGF0aXR1ZGUgZmFpbGVkIHRvIGNvbnZlcmdlIGFmdGVyIDE1IGl0ZXJhdGlvbnNcIik7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbml0JDEyKCkge1xuICAgICAgaWYgKCF0aGlzLnNwaGVyZSkge1xuICAgICAgICB0aGlzLmUwID0gZTBmbih0aGlzLmVzKTtcbiAgICAgICAgdGhpcy5lMSA9IGUxZm4odGhpcy5lcyk7XG4gICAgICAgIHRoaXMuZTIgPSBlMmZuKHRoaXMuZXMpO1xuICAgICAgICB0aGlzLmUzID0gZTNmbih0aGlzLmVzKTtcbiAgICAgICAgdGhpcy5tbDAgPSB0aGlzLmEgKiBtbGZuKHRoaXMuZTAsIHRoaXMuZTEsIHRoaXMuZTIsIHRoaXMuZTMsIHRoaXMubGF0MCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogQ2Fzc2luaSBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDExKHApIHtcblxuICAgICAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICB2YXIgeCwgeTtcbiAgICAgIHZhciBsYW0gPSBwLng7XG4gICAgICB2YXIgcGhpID0gcC55O1xuICAgICAgbGFtID0gYWRqdXN0X2xvbihsYW0gLSB0aGlzLmxvbmcwKTtcblxuICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgICAgIHggPSB0aGlzLmEgKiBNYXRoLmFzaW4oTWF0aC5jb3MocGhpKSAqIE1hdGguc2luKGxhbSkpO1xuICAgICAgICB5ID0gdGhpcy5hICogKE1hdGguYXRhbjIoTWF0aC50YW4ocGhpKSwgTWF0aC5jb3MobGFtKSkgLSB0aGlzLmxhdDApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vZWxsaXBzb2lkXG4gICAgICAgIHZhciBzaW5waGkgPSBNYXRoLnNpbihwaGkpO1xuICAgICAgICB2YXIgY29zcGhpID0gTWF0aC5jb3MocGhpKTtcbiAgICAgICAgdmFyIG5sID0gZ04odGhpcy5hLCB0aGlzLmUsIHNpbnBoaSk7XG4gICAgICAgIHZhciB0bCA9IE1hdGgudGFuKHBoaSkgKiBNYXRoLnRhbihwaGkpO1xuICAgICAgICB2YXIgYWwgPSBsYW0gKiBNYXRoLmNvcyhwaGkpO1xuICAgICAgICB2YXIgYXNxID0gYWwgKiBhbDtcbiAgICAgICAgdmFyIGNsID0gdGhpcy5lcyAqIGNvc3BoaSAqIGNvc3BoaSAvICgxIC0gdGhpcy5lcyk7XG4gICAgICAgIHZhciBtbCA9IHRoaXMuYSAqIG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgcGhpKTtcblxuICAgICAgICB4ID0gbmwgKiBhbCAqICgxIC0gYXNxICogdGwgKiAoMSAvIDYgLSAoOCAtIHRsICsgOCAqIGNsKSAqIGFzcSAvIDEyMCkpO1xuICAgICAgICB5ID0gbWwgLSB0aGlzLm1sMCArIG5sICogc2lucGhpIC8gY29zcGhpICogYXNxICogKDAuNSArICg1IC0gdGwgKyA2ICogY2wpICogYXNxIC8gMjQpO1xuXG5cbiAgICAgIH1cblxuICAgICAgcC54ID0geCArIHRoaXMueDA7XG4gICAgICBwLnkgPSB5ICsgdGhpcy55MDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qIEludmVyc2UgZXF1YXRpb25zXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQxMShwKSB7XG4gICAgICBwLnggLT0gdGhpcy54MDtcbiAgICAgIHAueSAtPSB0aGlzLnkwO1xuICAgICAgdmFyIHggPSBwLnggLyB0aGlzLmE7XG4gICAgICB2YXIgeSA9IHAueSAvIHRoaXMuYTtcbiAgICAgIHZhciBwaGksIGxhbTtcblxuICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgICAgIHZhciBkZCA9IHkgKyB0aGlzLmxhdDA7XG4gICAgICAgIHBoaSA9IE1hdGguYXNpbihNYXRoLnNpbihkZCkgKiBNYXRoLmNvcyh4KSk7XG4gICAgICAgIGxhbSA9IE1hdGguYXRhbjIoTWF0aC50YW4oeCksIE1hdGguY29zKGRkKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLyogZWxsaXBzb2lkICovXG4gICAgICAgIHZhciBtbDEgPSB0aGlzLm1sMCAvIHRoaXMuYSArIHk7XG4gICAgICAgIHZhciBwaGkxID0gaW1sZm4obWwxLCB0aGlzLmUwLCB0aGlzLmUxLCB0aGlzLmUyLCB0aGlzLmUzKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKE1hdGguYWJzKHBoaTEpIC0gSEFMRl9QSSkgPD0gRVBTTE4pIHtcbiAgICAgICAgICBwLnggPSB0aGlzLmxvbmcwO1xuICAgICAgICAgIHAueSA9IEhBTEZfUEk7XG4gICAgICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgICAgICBwLnkgKj0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBubDEgPSBnTih0aGlzLmEsIHRoaXMuZSwgTWF0aC5zaW4ocGhpMSkpO1xuXG4gICAgICAgIHZhciBybDEgPSBubDEgKiBubDEgKiBubDEgLyB0aGlzLmEgLyB0aGlzLmEgKiAoMSAtIHRoaXMuZXMpO1xuICAgICAgICB2YXIgdGwxID0gTWF0aC5wb3coTWF0aC50YW4ocGhpMSksIDIpO1xuICAgICAgICB2YXIgZGwgPSB4ICogdGhpcy5hIC8gbmwxO1xuICAgICAgICB2YXIgZHNxID0gZGwgKiBkbDtcbiAgICAgICAgcGhpID0gcGhpMSAtIG5sMSAqIE1hdGgudGFuKHBoaTEpIC8gcmwxICogZGwgKiBkbCAqICgwLjUgLSAoMSArIDMgKiB0bDEpICogZGwgKiBkbCAvIDI0KTtcbiAgICAgICAgbGFtID0gZGwgKiAoMSAtIGRzcSAqICh0bDEgLyAzICsgKDEgKyAzICogdGwxKSAqIHRsMSAqIGRzcSAvIDE1KSkgLyBNYXRoLmNvcyhwaGkxKTtcblxuICAgICAgfVxuXG4gICAgICBwLnggPSBhZGp1c3RfbG9uKGxhbSArIHRoaXMubG9uZzApO1xuICAgICAgcC55ID0gYWRqdXN0X2xhdChwaGkpO1xuICAgICAgcmV0dXJuIHA7XG5cbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkMTMgPSBbXCJDYXNzaW5pXCIsIFwiQ2Fzc2luaV9Tb2xkbmVyXCIsIFwiY2Fzc1wiXTtcbiAgICB2YXIgY2FzcyA9IHtcbiAgICAgIGluaXQ6IGluaXQkMTIsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDExLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQxMSxcbiAgICAgIG5hbWVzOiBuYW1lcyQxM1xuICAgIH07XG5cbiAgICB2YXIgcXNmbnogPSBmdW5jdGlvbihlY2NlbnQsIHNpbnBoaSkge1xuICAgICAgdmFyIGNvbjtcbiAgICAgIGlmIChlY2NlbnQgPiAxLjBlLTcpIHtcbiAgICAgICAgY29uID0gZWNjZW50ICogc2lucGhpO1xuICAgICAgICByZXR1cm4gKCgxIC0gZWNjZW50ICogZWNjZW50KSAqIChzaW5waGkgLyAoMSAtIGNvbiAqIGNvbikgLSAoMC41IC8gZWNjZW50KSAqIE1hdGgubG9nKCgxIC0gY29uKSAvICgxICsgY29uKSkpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKDIgKiBzaW5waGkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICAgcmVmZXJlbmNlXG4gICAgICAgIFwiTmV3IEVxdWFsLUFyZWEgTWFwIFByb2plY3Rpb25zIGZvciBOb25jaXJjdWxhciBSZWdpb25zXCIsIEpvaG4gUC4gU255ZGVyLFxuICAgICAgICBUaGUgQW1lcmljYW4gQ2FydG9ncmFwaGVyLCBWb2wgMTUsIE5vLiA0LCBPY3RvYmVyIDE5ODgsIHBwLiAzNDEtMzU1LlxuICAgICAgKi9cblxuICAgIHZhciBTX1BPTEUgPSAxO1xuXG4gICAgdmFyIE5fUE9MRSA9IDI7XG4gICAgdmFyIEVRVUlUID0gMztcbiAgICB2YXIgT0JMSVEgPSA0O1xuXG4gICAgLyogSW5pdGlhbGl6ZSB0aGUgTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSBwcm9qZWN0aW9uXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIGZ1bmN0aW9uIGluaXQkMTMoKSB7XG4gICAgICB2YXIgdCA9IE1hdGguYWJzKHRoaXMubGF0MCk7XG4gICAgICBpZiAoTWF0aC5hYnModCAtIEhBTEZfUEkpIDwgRVBTTE4pIHtcbiAgICAgICAgdGhpcy5tb2RlID0gdGhpcy5sYXQwIDwgMCA/IHRoaXMuU19QT0xFIDogdGhpcy5OX1BPTEU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChNYXRoLmFicyh0KSA8IEVQU0xOKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IHRoaXMuRVFVSVQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5tb2RlID0gdGhpcy5PQkxJUTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmVzID4gMCkge1xuICAgICAgICB2YXIgc2lucGhpO1xuXG4gICAgICAgIHRoaXMucXAgPSBxc2Zueih0aGlzLmUsIDEpO1xuICAgICAgICB0aGlzLm1tZiA9IDAuNSAvICgxIC0gdGhpcy5lcyk7XG4gICAgICAgIHRoaXMuYXBhID0gYXV0aHNldCh0aGlzLmVzKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgICAgY2FzZSB0aGlzLk5fUE9MRTpcbiAgICAgICAgICB0aGlzLmRkID0gMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0aGlzLlNfUE9MRTpcbiAgICAgICAgICB0aGlzLmRkID0gMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0aGlzLkVRVUlUOlxuICAgICAgICAgIHRoaXMucnEgPSBNYXRoLnNxcnQoMC41ICogdGhpcy5xcCk7XG4gICAgICAgICAgdGhpcy5kZCA9IDEgLyB0aGlzLnJxO1xuICAgICAgICAgIHRoaXMueG1mID0gMTtcbiAgICAgICAgICB0aGlzLnltZiA9IDAuNSAqIHRoaXMucXA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdGhpcy5PQkxJUTpcbiAgICAgICAgICB0aGlzLnJxID0gTWF0aC5zcXJ0KDAuNSAqIHRoaXMucXApO1xuICAgICAgICAgIHNpbnBoaSA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICAgICAgdGhpcy5zaW5iMSA9IHFzZm56KHRoaXMuZSwgc2lucGhpKSAvIHRoaXMucXA7XG4gICAgICAgICAgdGhpcy5jb3NiMSA9IE1hdGguc3FydCgxIC0gdGhpcy5zaW5iMSAqIHRoaXMuc2luYjEpO1xuICAgICAgICAgIHRoaXMuZGQgPSBNYXRoLmNvcyh0aGlzLmxhdDApIC8gKE1hdGguc3FydCgxIC0gdGhpcy5lcyAqIHNpbnBoaSAqIHNpbnBoaSkgKiB0aGlzLnJxICogdGhpcy5jb3NiMSk7XG4gICAgICAgICAgdGhpcy55bWYgPSAodGhpcy54bWYgPSB0aGlzLnJxKSAvIHRoaXMuZGQ7XG4gICAgICAgICAgdGhpcy54bWYgKj0gdGhpcy5kZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuT0JMSVEpIHtcbiAgICAgICAgICB0aGlzLnNpbnBoMCA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICAgICAgdGhpcy5jb3NwaDAgPSBNYXRoLmNvcyh0aGlzLmxhdDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDEyKHApIHtcblxuICAgICAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICB2YXIgeCwgeSwgY29zbGFtLCBzaW5sYW0sIHNpbnBoaSwgcSwgc2luYiwgY29zYiwgYiwgY29zcGhpO1xuICAgICAgdmFyIGxhbSA9IHAueDtcbiAgICAgIHZhciBwaGkgPSBwLnk7XG5cbiAgICAgIGxhbSA9IGFkanVzdF9sb24obGFtIC0gdGhpcy5sb25nMCk7XG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgc2lucGhpID0gTWF0aC5zaW4ocGhpKTtcbiAgICAgICAgY29zcGhpID0gTWF0aC5jb3MocGhpKTtcbiAgICAgICAgY29zbGFtID0gTWF0aC5jb3MobGFtKTtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5PQkxJUSB8fCB0aGlzLm1vZGUgPT09IHRoaXMuRVFVSVQpIHtcbiAgICAgICAgICB5ID0gKHRoaXMubW9kZSA9PT0gdGhpcy5FUVVJVCkgPyAxICsgY29zcGhpICogY29zbGFtIDogMSArIHRoaXMuc2lucGgwICogc2lucGhpICsgdGhpcy5jb3NwaDAgKiBjb3NwaGkgKiBjb3NsYW07XG4gICAgICAgICAgaWYgKHkgPD0gRVBTTE4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB5ID0gTWF0aC5zcXJ0KDIgLyB5KTtcbiAgICAgICAgICB4ID0geSAqIGNvc3BoaSAqIE1hdGguc2luKGxhbSk7XG4gICAgICAgICAgeSAqPSAodGhpcy5tb2RlID09PSB0aGlzLkVRVUlUKSA/IHNpbnBoaSA6IHRoaXMuY29zcGgwICogc2lucGhpIC0gdGhpcy5zaW5waDAgKiBjb3NwaGkgKiBjb3NsYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb2RlID09PSB0aGlzLk5fUE9MRSB8fCB0aGlzLm1vZGUgPT09IHRoaXMuU19QT0xFKSB7XG4gICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5OX1BPTEUpIHtcbiAgICAgICAgICAgIGNvc2xhbSA9IC1jb3NsYW07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChNYXRoLmFicyhwaGkgKyB0aGlzLmxhdDApIDwgRVBTTE4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB5ID0gRk9SVFBJIC0gcGhpICogMC41O1xuICAgICAgICAgIHkgPSAyICogKCh0aGlzLm1vZGUgPT09IHRoaXMuU19QT0xFKSA/IE1hdGguY29zKHkpIDogTWF0aC5zaW4oeSkpO1xuICAgICAgICAgIHggPSB5ICogTWF0aC5zaW4obGFtKTtcbiAgICAgICAgICB5ICo9IGNvc2xhbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNpbmIgPSAwO1xuICAgICAgICBjb3NiID0gMDtcbiAgICAgICAgYiA9IDA7XG4gICAgICAgIGNvc2xhbSA9IE1hdGguY29zKGxhbSk7XG4gICAgICAgIHNpbmxhbSA9IE1hdGguc2luKGxhbSk7XG4gICAgICAgIHNpbnBoaSA9IE1hdGguc2luKHBoaSk7XG4gICAgICAgIHEgPSBxc2Zueih0aGlzLmUsIHNpbnBoaSk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuT0JMSVEgfHwgdGhpcy5tb2RlID09PSB0aGlzLkVRVUlUKSB7XG4gICAgICAgICAgc2luYiA9IHEgLyB0aGlzLnFwO1xuICAgICAgICAgIGNvc2IgPSBNYXRoLnNxcnQoMSAtIHNpbmIgKiBzaW5iKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICBjYXNlIHRoaXMuT0JMSVE6XG4gICAgICAgICAgYiA9IDEgKyB0aGlzLnNpbmIxICogc2luYiArIHRoaXMuY29zYjEgKiBjb3NiICogY29zbGFtO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRoaXMuRVFVSVQ6XG4gICAgICAgICAgYiA9IDEgKyBjb3NiICogY29zbGFtO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRoaXMuTl9QT0xFOlxuICAgICAgICAgIGIgPSBIQUxGX1BJICsgcGhpO1xuICAgICAgICAgIHEgPSB0aGlzLnFwIC0gcTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0aGlzLlNfUE9MRTpcbiAgICAgICAgICBiID0gcGhpIC0gSEFMRl9QSTtcbiAgICAgICAgICBxID0gdGhpcy5xcCArIHE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1hdGguYWJzKGIpIDwgRVBTTE4pIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICBjYXNlIHRoaXMuT0JMSVE6XG4gICAgICAgIGNhc2UgdGhpcy5FUVVJVDpcbiAgICAgICAgICBiID0gTWF0aC5zcXJ0KDIgLyBiKTtcbiAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSB0aGlzLk9CTElRKSB7XG4gICAgICAgICAgICB5ID0gdGhpcy55bWYgKiBiICogKHRoaXMuY29zYjEgKiBzaW5iIC0gdGhpcy5zaW5iMSAqIGNvc2IgKiBjb3NsYW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHkgPSAoYiA9IE1hdGguc3FydCgyIC8gKDEgKyBjb3NiICogY29zbGFtKSkpICogc2luYiAqIHRoaXMueW1mO1xuICAgICAgICAgIH1cbiAgICAgICAgICB4ID0gdGhpcy54bWYgKiBiICogY29zYiAqIHNpbmxhbTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0aGlzLk5fUE9MRTpcbiAgICAgICAgY2FzZSB0aGlzLlNfUE9MRTpcbiAgICAgICAgICBpZiAocSA+PSAwKSB7XG4gICAgICAgICAgICB4ID0gKGIgPSBNYXRoLnNxcnQocSkpICogc2lubGFtO1xuICAgICAgICAgICAgeSA9IGNvc2xhbSAqICgodGhpcy5tb2RlID09PSB0aGlzLlNfUE9MRSkgPyBiIDogLWIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHggPSB5ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcC54ID0gdGhpcy5hICogeCArIHRoaXMueDA7XG4gICAgICBwLnkgPSB0aGlzLmEgKiB5ICsgdGhpcy55MDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qIEludmVyc2UgZXF1YXRpb25zXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQxMihwKSB7XG4gICAgICBwLnggLT0gdGhpcy54MDtcbiAgICAgIHAueSAtPSB0aGlzLnkwO1xuICAgICAgdmFyIHggPSBwLnggLyB0aGlzLmE7XG4gICAgICB2YXIgeSA9IHAueSAvIHRoaXMuYTtcbiAgICAgIHZhciBsYW0sIHBoaSwgY0NlLCBzQ2UsIHEsIHJobywgYWI7XG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgdmFyIGNvc3ogPSAwLFxuICAgICAgICAgIHJoLCBzaW56ID0gMDtcblxuICAgICAgICByaCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbiAgICAgICAgcGhpID0gcmggKiAwLjU7XG4gICAgICAgIGlmIChwaGkgPiAxKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcGhpID0gMiAqIE1hdGguYXNpbihwaGkpO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSB0aGlzLk9CTElRIHx8IHRoaXMubW9kZSA9PT0gdGhpcy5FUVVJVCkge1xuICAgICAgICAgIHNpbnogPSBNYXRoLnNpbihwaGkpO1xuICAgICAgICAgIGNvc3ogPSBNYXRoLmNvcyhwaGkpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICAgIGNhc2UgdGhpcy5FUVVJVDpcbiAgICAgICAgICBwaGkgPSAoTWF0aC5hYnMocmgpIDw9IEVQU0xOKSA/IDAgOiBNYXRoLmFzaW4oeSAqIHNpbnogLyByaCk7XG4gICAgICAgICAgeCAqPSBzaW56O1xuICAgICAgICAgIHkgPSBjb3N6ICogcmg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdGhpcy5PQkxJUTpcbiAgICAgICAgICBwaGkgPSAoTWF0aC5hYnMocmgpIDw9IEVQU0xOKSA/IHRoaXMubGF0MCA6IE1hdGguYXNpbihjb3N6ICogdGhpcy5zaW5waDAgKyB5ICogc2lueiAqIHRoaXMuY29zcGgwIC8gcmgpO1xuICAgICAgICAgIHggKj0gc2lueiAqIHRoaXMuY29zcGgwO1xuICAgICAgICAgIHkgPSAoY29zeiAtIE1hdGguc2luKHBoaSkgKiB0aGlzLnNpbnBoMCkgKiByaDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0aGlzLk5fUE9MRTpcbiAgICAgICAgICB5ID0gLXk7XG4gICAgICAgICAgcGhpID0gSEFMRl9QSSAtIHBoaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0aGlzLlNfUE9MRTpcbiAgICAgICAgICBwaGkgLT0gSEFMRl9QSTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsYW0gPSAoeSA9PT0gMCAmJiAodGhpcy5tb2RlID09PSB0aGlzLkVRVUlUIHx8IHRoaXMubW9kZSA9PT0gdGhpcy5PQkxJUSkpID8gMCA6IE1hdGguYXRhbjIoeCwgeSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWIgPSAwO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSB0aGlzLk9CTElRIHx8IHRoaXMubW9kZSA9PT0gdGhpcy5FUVVJVCkge1xuICAgICAgICAgIHggLz0gdGhpcy5kZDtcbiAgICAgICAgICB5ICo9IHRoaXMuZGQ7XG4gICAgICAgICAgcmhvID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgICAgICAgIGlmIChyaG8gPCBFUFNMTikge1xuICAgICAgICAgICAgcC54ID0gdGhpcy5sb25nMDtcbiAgICAgICAgICAgIHAueSA9IHRoaXMubGF0MDtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzQ2UgPSAyICogTWF0aC5hc2luKDAuNSAqIHJobyAvIHRoaXMucnEpO1xuICAgICAgICAgIGNDZSA9IE1hdGguY29zKHNDZSk7XG4gICAgICAgICAgeCAqPSAoc0NlID0gTWF0aC5zaW4oc0NlKSk7XG4gICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5PQkxJUSkge1xuICAgICAgICAgICAgYWIgPSBjQ2UgKiB0aGlzLnNpbmIxICsgeSAqIHNDZSAqIHRoaXMuY29zYjEgLyByaG87XG4gICAgICAgICAgICBxID0gdGhpcy5xcCAqIGFiO1xuICAgICAgICAgICAgeSA9IHJobyAqIHRoaXMuY29zYjEgKiBjQ2UgLSB5ICogdGhpcy5zaW5iMSAqIHNDZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhYiA9IHkgKiBzQ2UgLyByaG87XG4gICAgICAgICAgICBxID0gdGhpcy5xcCAqIGFiO1xuICAgICAgICAgICAgeSA9IHJobyAqIGNDZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb2RlID09PSB0aGlzLk5fUE9MRSB8fCB0aGlzLm1vZGUgPT09IHRoaXMuU19QT0xFKSB7XG4gICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5OX1BPTEUpIHtcbiAgICAgICAgICAgIHkgPSAteTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcSA9ICh4ICogeCArIHkgKiB5KTtcbiAgICAgICAgICBpZiAoIXEpIHtcbiAgICAgICAgICAgIHAueCA9IHRoaXMubG9uZzA7XG4gICAgICAgICAgICBwLnkgPSB0aGlzLmxhdDA7XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWIgPSAxIC0gcSAvIHRoaXMucXA7XG4gICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5TX1BPTEUpIHtcbiAgICAgICAgICAgIGFiID0gLWFiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsYW0gPSBNYXRoLmF0YW4yKHgsIHkpO1xuICAgICAgICBwaGkgPSBhdXRobGF0KE1hdGguYXNpbihhYiksIHRoaXMuYXBhKTtcbiAgICAgIH1cblxuICAgICAgcC54ID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgbGFtKTtcbiAgICAgIHAueSA9IHBoaTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qIGRldGVybWluZSBsYXRpdHVkZSBmcm9tIGF1dGhhbGljIGxhdGl0dWRlICovXG4gICAgdmFyIFAwMCA9IDAuMzMzMzMzMzMzMzMzMzMzMzMzMzM7XG5cbiAgICB2YXIgUDAxID0gMC4xNzIyMjIyMjIyMjIyMjIyMjIyMjtcbiAgICB2YXIgUDAyID0gMC4xMDI1NzkzNjUwNzkzNjUwNzkzNjtcbiAgICB2YXIgUDEwID0gMC4wNjM4ODg4ODg4ODg4ODg4ODg4ODtcbiAgICB2YXIgUDExID0gMC4wNjY0MDIxMTY0MDIxMTY0MDIxMTtcbiAgICB2YXIgUDIwID0gMC4wMTY0MTUwMTI5NDIxOTE1NDQ0MztcblxuICAgIGZ1bmN0aW9uIGF1dGhzZXQoZXMpIHtcbiAgICAgIHZhciB0O1xuICAgICAgdmFyIEFQQSA9IFtdO1xuICAgICAgQVBBWzBdID0gZXMgKiBQMDA7XG4gICAgICB0ID0gZXMgKiBlcztcbiAgICAgIEFQQVswXSArPSB0ICogUDAxO1xuICAgICAgQVBBWzFdID0gdCAqIFAxMDtcbiAgICAgIHQgKj0gZXM7XG4gICAgICBBUEFbMF0gKz0gdCAqIFAwMjtcbiAgICAgIEFQQVsxXSArPSB0ICogUDExO1xuICAgICAgQVBBWzJdID0gdCAqIFAyMDtcbiAgICAgIHJldHVybiBBUEE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXV0aGxhdChiZXRhLCBBUEEpIHtcbiAgICAgIHZhciB0ID0gYmV0YSArIGJldGE7XG4gICAgICByZXR1cm4gKGJldGEgKyBBUEFbMF0gKiBNYXRoLnNpbih0KSArIEFQQVsxXSAqIE1hdGguc2luKHQgKyB0KSArIEFQQVsyXSAqIE1hdGguc2luKHQgKyB0ICsgdCkpO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQxNCA9IFtcIkxhbWJlcnQgQXppbXV0aGFsIEVxdWFsIEFyZWFcIiwgXCJMYW1iZXJ0X0F6aW11dGhhbF9FcXVhbF9BcmVhXCIsIFwibGFlYVwiXTtcbiAgICB2YXIgbGFlYSA9IHtcbiAgICAgIGluaXQ6IGluaXQkMTMsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDEyLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQxMixcbiAgICAgIG5hbWVzOiBuYW1lcyQxNCxcbiAgICAgIFNfUE9MRTogU19QT0xFLFxuICAgICAgTl9QT0xFOiBOX1BPTEUsXG4gICAgICBFUVVJVDogRVFVSVQsXG4gICAgICBPQkxJUTogT0JMSVFcbiAgICB9O1xuXG4gICAgdmFyIGFzaW56ID0gZnVuY3Rpb24oeCkge1xuICAgICAgaWYgKE1hdGguYWJzKHgpID4gMSkge1xuICAgICAgICB4ID0gKHggPiAxKSA/IDEgOiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNYXRoLmFzaW4oeCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXQkMTQoKSB7XG5cbiAgICAgIGlmIChNYXRoLmFicyh0aGlzLmxhdDEgKyB0aGlzLmxhdDIpIDwgRVBTTE4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy50ZW1wID0gdGhpcy5iIC8gdGhpcy5hO1xuICAgICAgdGhpcy5lcyA9IDEgLSBNYXRoLnBvdyh0aGlzLnRlbXAsIDIpO1xuICAgICAgdGhpcy5lMyA9IE1hdGguc3FydCh0aGlzLmVzKTtcblxuICAgICAgdGhpcy5zaW5fcG8gPSBNYXRoLnNpbih0aGlzLmxhdDEpO1xuICAgICAgdGhpcy5jb3NfcG8gPSBNYXRoLmNvcyh0aGlzLmxhdDEpO1xuICAgICAgdGhpcy50MSA9IHRoaXMuc2luX3BvO1xuICAgICAgdGhpcy5jb24gPSB0aGlzLnNpbl9wbztcbiAgICAgIHRoaXMubXMxID0gbXNmbnoodGhpcy5lMywgdGhpcy5zaW5fcG8sIHRoaXMuY29zX3BvKTtcbiAgICAgIHRoaXMucXMxID0gcXNmbnoodGhpcy5lMywgdGhpcy5zaW5fcG8sIHRoaXMuY29zX3BvKTtcblxuICAgICAgdGhpcy5zaW5fcG8gPSBNYXRoLnNpbih0aGlzLmxhdDIpO1xuICAgICAgdGhpcy5jb3NfcG8gPSBNYXRoLmNvcyh0aGlzLmxhdDIpO1xuICAgICAgdGhpcy50MiA9IHRoaXMuc2luX3BvO1xuICAgICAgdGhpcy5tczIgPSBtc2Zueih0aGlzLmUzLCB0aGlzLnNpbl9wbywgdGhpcy5jb3NfcG8pO1xuICAgICAgdGhpcy5xczIgPSBxc2Zueih0aGlzLmUzLCB0aGlzLnNpbl9wbywgdGhpcy5jb3NfcG8pO1xuXG4gICAgICB0aGlzLnNpbl9wbyA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICB0aGlzLmNvc19wbyA9IE1hdGguY29zKHRoaXMubGF0MCk7XG4gICAgICB0aGlzLnQzID0gdGhpcy5zaW5fcG87XG4gICAgICB0aGlzLnFzMCA9IHFzZm56KHRoaXMuZTMsIHRoaXMuc2luX3BvLCB0aGlzLmNvc19wbyk7XG5cbiAgICAgIGlmIChNYXRoLmFicyh0aGlzLmxhdDEgLSB0aGlzLmxhdDIpID4gRVBTTE4pIHtcbiAgICAgICAgdGhpcy5uczAgPSAodGhpcy5tczEgKiB0aGlzLm1zMSAtIHRoaXMubXMyICogdGhpcy5tczIpIC8gKHRoaXMucXMyIC0gdGhpcy5xczEpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMubnMwID0gdGhpcy5jb247XG4gICAgICB9XG4gICAgICB0aGlzLmMgPSB0aGlzLm1zMSAqIHRoaXMubXMxICsgdGhpcy5uczAgKiB0aGlzLnFzMTtcbiAgICAgIHRoaXMucmggPSB0aGlzLmEgKiBNYXRoLnNxcnQodGhpcy5jIC0gdGhpcy5uczAgKiB0aGlzLnFzMCkgLyB0aGlzLm5zMDtcbiAgICB9XG5cbiAgICAvKiBBbGJlcnMgQ29uaWNhbCBFcXVhbCBBcmVhIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gZm9yd2FyZCQxMyhwKSB7XG5cbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuXG4gICAgICB0aGlzLnNpbl9waGkgPSBNYXRoLnNpbihsYXQpO1xuICAgICAgdGhpcy5jb3NfcGhpID0gTWF0aC5jb3MobGF0KTtcblxuICAgICAgdmFyIHFzID0gcXNmbnoodGhpcy5lMywgdGhpcy5zaW5fcGhpLCB0aGlzLmNvc19waGkpO1xuICAgICAgdmFyIHJoMSA9IHRoaXMuYSAqIE1hdGguc3FydCh0aGlzLmMgLSB0aGlzLm5zMCAqIHFzKSAvIHRoaXMubnMwO1xuICAgICAgdmFyIHRoZXRhID0gdGhpcy5uczAgKiBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAgICAgdmFyIHggPSByaDEgKiBNYXRoLnNpbih0aGV0YSkgKyB0aGlzLngwO1xuICAgICAgdmFyIHkgPSB0aGlzLnJoIC0gcmgxICogTWF0aC5jb3ModGhldGEpICsgdGhpcy55MDtcblxuICAgICAgcC54ID0geDtcbiAgICAgIHAueSA9IHk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDEzKHApIHtcbiAgICAgIHZhciByaDEsIHFzLCBjb24sIHRoZXRhLCBsb24sIGxhdDtcblxuICAgICAgcC54IC09IHRoaXMueDA7XG4gICAgICBwLnkgPSB0aGlzLnJoIC0gcC55ICsgdGhpcy55MDtcbiAgICAgIGlmICh0aGlzLm5zMCA+PSAwKSB7XG4gICAgICAgIHJoMSA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgICAgICBjb24gPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJoMSA9IC1NYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KTtcbiAgICAgICAgY29uID0gLTE7XG4gICAgICB9XG4gICAgICB0aGV0YSA9IDA7XG4gICAgICBpZiAocmgxICE9PSAwKSB7XG4gICAgICAgIHRoZXRhID0gTWF0aC5hdGFuMihjb24gKiBwLngsIGNvbiAqIHAueSk7XG4gICAgICB9XG4gICAgICBjb24gPSByaDEgKiB0aGlzLm5zMCAvIHRoaXMuYTtcbiAgICAgIGlmICh0aGlzLnNwaGVyZSkge1xuICAgICAgICBsYXQgPSBNYXRoLmFzaW4oKHRoaXMuYyAtIGNvbiAqIGNvbikgLyAoMiAqIHRoaXMubnMwKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcXMgPSAodGhpcy5jIC0gY29uICogY29uKSAvIHRoaXMubnMwO1xuICAgICAgICBsYXQgPSB0aGlzLnBoaTF6KHRoaXMuZTMsIHFzKTtcbiAgICAgIH1cblxuICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGV0YSAvIHRoaXMubnMwICsgdGhpcy5sb25nMCk7XG4gICAgICBwLnggPSBsb247XG4gICAgICBwLnkgPSBsYXQ7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvKiBGdW5jdGlvbiB0byBjb21wdXRlIHBoaTEsIHRoZSBsYXRpdHVkZSBmb3IgdGhlIGludmVyc2Ugb2YgdGhlXG4gICAgICAgQWxiZXJzIENvbmljYWwgRXF1YWwtQXJlYSBwcm9qZWN0aW9uLlxuICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIGZ1bmN0aW9uIHBoaTF6KGVjY2VudCwgcXMpIHtcbiAgICAgIHZhciBzaW5waGksIGNvc3BoaSwgY29uLCBjb20sIGRwaGk7XG4gICAgICB2YXIgcGhpID0gYXNpbnooMC41ICogcXMpO1xuICAgICAgaWYgKGVjY2VudCA8IEVQU0xOKSB7XG4gICAgICAgIHJldHVybiBwaGk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlY2NudHMgPSBlY2NlbnQgKiBlY2NlbnQ7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAyNTsgaSsrKSB7XG4gICAgICAgIHNpbnBoaSA9IE1hdGguc2luKHBoaSk7XG4gICAgICAgIGNvc3BoaSA9IE1hdGguY29zKHBoaSk7XG4gICAgICAgIGNvbiA9IGVjY2VudCAqIHNpbnBoaTtcbiAgICAgICAgY29tID0gMSAtIGNvbiAqIGNvbjtcbiAgICAgICAgZHBoaSA9IDAuNSAqIGNvbSAqIGNvbSAvIGNvc3BoaSAqIChxcyAvICgxIC0gZWNjbnRzKSAtIHNpbnBoaSAvIGNvbSArIDAuNSAvIGVjY2VudCAqIE1hdGgubG9nKCgxIC0gY29uKSAvICgxICsgY29uKSkpO1xuICAgICAgICBwaGkgPSBwaGkgKyBkcGhpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHBoaSkgPD0gMWUtNykge1xuICAgICAgICAgIHJldHVybiBwaGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQxNSA9IFtcIkFsYmVyc19Db25pY19FcXVhbF9BcmVhXCIsIFwiQWxiZXJzXCIsIFwiYWVhXCJdO1xuICAgIHZhciBhZWEgPSB7XG4gICAgICBpbml0OiBpbml0JDE0LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQxMyxcbiAgICAgIGludmVyc2U6IGludmVyc2UkMTMsXG4gICAgICBuYW1lczogbmFtZXMkMTUsXG4gICAgICBwaGkxejogcGhpMXpcbiAgICB9O1xuXG4gICAgLypcbiAgICAgIHJlZmVyZW5jZTpcbiAgICAgICAgV29sZnJhbSBNYXRod29ybGQgXCJHbm9tb25pYyBQcm9qZWN0aW9uXCJcbiAgICAgICAgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9Hbm9tb25pY1Byb2plY3Rpb24uaHRtbFxuICAgICAgICBBY2Nlc3NlZDogMTJ0aCBOb3ZlbWJlciAyMDA5XG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXQkMTUoKSB7XG5cbiAgICAgIC8qIFBsYWNlIHBhcmFtZXRlcnMgaW4gc3RhdGljIHN0b3JhZ2UgZm9yIGNvbW1vbiB1c2VcbiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgIHRoaXMuc2luX3AxNCA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICB0aGlzLmNvc19wMTQgPSBNYXRoLmNvcyh0aGlzLmxhdDApO1xuICAgICAgLy8gQXBwcm94aW1hdGlvbiBmb3IgcHJvamVjdGluZyBwb2ludHMgdG8gdGhlIGhvcml6b24gKGluZmluaXR5KVxuICAgICAgdGhpcy5pbmZpbml0eV9kaXN0ID0gMTAwMCAqIHRoaXMuYTtcbiAgICAgIHRoaXMucmMgPSAxO1xuICAgIH1cblxuICAgIC8qIEdub21vbmljIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIGZ1bmN0aW9uIGZvcndhcmQkMTQocCkge1xuICAgICAgdmFyIHNpbnBoaSwgY29zcGhpOyAvKiBzaW4gYW5kIGNvcyB2YWx1ZSAgICAgICAgKi9cbiAgICAgIHZhciBkbG9uOyAvKiBkZWx0YSBsb25naXR1ZGUgdmFsdWUgICAgICAqL1xuICAgICAgdmFyIGNvc2xvbjsgLyogY29zIG9mIGxvbmdpdHVkZSAgICAgICAgKi9cbiAgICAgIHZhciBrc3A7IC8qIHNjYWxlIGZhY3RvciAgICAgICAgICAqL1xuICAgICAgdmFyIGc7XG4gICAgICB2YXIgeCwgeTtcbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuICAgICAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICBkbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcblxuICAgICAgc2lucGhpID0gTWF0aC5zaW4obGF0KTtcbiAgICAgIGNvc3BoaSA9IE1hdGguY29zKGxhdCk7XG5cbiAgICAgIGNvc2xvbiA9IE1hdGguY29zKGRsb24pO1xuICAgICAgZyA9IHRoaXMuc2luX3AxNCAqIHNpbnBoaSArIHRoaXMuY29zX3AxNCAqIGNvc3BoaSAqIGNvc2xvbjtcbiAgICAgIGtzcCA9IDE7XG4gICAgICBpZiAoKGcgPiAwKSB8fCAoTWF0aC5hYnMoZykgPD0gRVBTTE4pKSB7XG4gICAgICAgIHggPSB0aGlzLngwICsgdGhpcy5hICoga3NwICogY29zcGhpICogTWF0aC5zaW4oZGxvbikgLyBnO1xuICAgICAgICB5ID0gdGhpcy55MCArIHRoaXMuYSAqIGtzcCAqICh0aGlzLmNvc19wMTQgKiBzaW5waGkgLSB0aGlzLnNpbl9wMTQgKiBjb3NwaGkgKiBjb3Nsb24pIC8gZztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuXG4gICAgICAgIC8vIFBvaW50IGlzIGluIHRoZSBvcHBvc2luZyBoZW1pc3BoZXJlIGFuZCBpcyB1bnByb2plY3RhYmxlXG4gICAgICAgIC8vIFdlIHN0aWxsIG5lZWQgdG8gcmV0dXJuIGEgcmVhc29uYWJsZSBwb2ludCwgc28gd2UgcHJvamVjdFxuICAgICAgICAvLyB0byBpbmZpbml0eSwgb24gYSBiZWFyaW5nXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gdGhlIG5vcnRoZXJuIGhlbWlzcGhlcmUgZXF1aXZhbGVudFxuICAgICAgICAvLyBUaGlzIGlzIGEgcmVhc29uYWJsZSBhcHByb3hpbWF0aW9uIGZvciBzaG9ydCBzaGFwZXMgYW5kIGxpbmVzIHRoYXRcbiAgICAgICAgLy8gc3RyYWRkbGUgdGhlIGhvcml6b24uXG5cbiAgICAgICAgeCA9IHRoaXMueDAgKyB0aGlzLmluZmluaXR5X2Rpc3QgKiBjb3NwaGkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgICAgeSA9IHRoaXMueTAgKyB0aGlzLmluZmluaXR5X2Rpc3QgKiAodGhpcy5jb3NfcDE0ICogc2lucGhpIC0gdGhpcy5zaW5fcDE0ICogY29zcGhpICogY29zbG9uKTtcblxuICAgICAgfVxuICAgICAgcC54ID0geDtcbiAgICAgIHAueSA9IHk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDE0KHApIHtcbiAgICAgIHZhciByaDsgLyogUmhvICovXG4gICAgICB2YXIgc2luYywgY29zYztcbiAgICAgIHZhciBjO1xuICAgICAgdmFyIGxvbiwgbGF0O1xuXG4gICAgICAvKiBJbnZlcnNlIGVxdWF0aW9uc1xuICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgIHAueCA9IChwLnggLSB0aGlzLngwKSAvIHRoaXMuYTtcbiAgICAgIHAueSA9IChwLnkgLSB0aGlzLnkwKSAvIHRoaXMuYTtcblxuICAgICAgcC54IC89IHRoaXMuazA7XG4gICAgICBwLnkgLz0gdGhpcy5rMDtcblxuICAgICAgaWYgKChyaCA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpKSkge1xuICAgICAgICBjID0gTWF0aC5hdGFuMihyaCwgdGhpcy5yYyk7XG4gICAgICAgIHNpbmMgPSBNYXRoLnNpbihjKTtcbiAgICAgICAgY29zYyA9IE1hdGguY29zKGMpO1xuXG4gICAgICAgIGxhdCA9IGFzaW56KGNvc2MgKiB0aGlzLnNpbl9wMTQgKyAocC55ICogc2luYyAqIHRoaXMuY29zX3AxNCkgLyByaCk7XG4gICAgICAgIGxvbiA9IE1hdGguYXRhbjIocC54ICogc2luYywgcmggKiB0aGlzLmNvc19wMTQgKiBjb3NjIC0gcC55ICogdGhpcy5zaW5fcDE0ICogc2luYyk7XG4gICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIGxvbik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGF0ID0gdGhpcy5waGljMDtcbiAgICAgICAgbG9uID0gMDtcbiAgICAgIH1cblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVzJDE2ID0gW1wiZ25vbVwiXTtcbiAgICB2YXIgZ25vbSA9IHtcbiAgICAgIGluaXQ6IGluaXQkMTUsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDE0LFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQxNCxcbiAgICAgIG5hbWVzOiBuYW1lcyQxNlxuICAgIH07XG5cbiAgICB2YXIgaXFzZm56ID0gZnVuY3Rpb24oZWNjZW50LCBxKSB7XG4gICAgICB2YXIgdGVtcCA9IDEgLSAoMSAtIGVjY2VudCAqIGVjY2VudCkgLyAoMiAqIGVjY2VudCkgKiBNYXRoLmxvZygoMSAtIGVjY2VudCkgLyAoMSArIGVjY2VudCkpO1xuICAgICAgaWYgKE1hdGguYWJzKE1hdGguYWJzKHEpIC0gdGVtcCkgPCAxLjBFLTYpIHtcbiAgICAgICAgaWYgKHEgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuICgtMSAqIEhBTEZfUEkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBIQUxGX1BJO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL3ZhciBwaGkgPSAwLjUqIHEvKDEtZWNjZW50KmVjY2VudCk7XG4gICAgICB2YXIgcGhpID0gTWF0aC5hc2luKDAuNSAqIHEpO1xuICAgICAgdmFyIGRwaGk7XG4gICAgICB2YXIgc2luX3BoaTtcbiAgICAgIHZhciBjb3NfcGhpO1xuICAgICAgdmFyIGNvbjtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzA7IGkrKykge1xuICAgICAgICBzaW5fcGhpID0gTWF0aC5zaW4ocGhpKTtcbiAgICAgICAgY29zX3BoaSA9IE1hdGguY29zKHBoaSk7XG4gICAgICAgIGNvbiA9IGVjY2VudCAqIHNpbl9waGk7XG4gICAgICAgIGRwaGkgPSBNYXRoLnBvdygxIC0gY29uICogY29uLCAyKSAvICgyICogY29zX3BoaSkgKiAocSAvICgxIC0gZWNjZW50ICogZWNjZW50KSAtIHNpbl9waGkgLyAoMSAtIGNvbiAqIGNvbikgKyAwLjUgLyBlY2NlbnQgKiBNYXRoLmxvZygoMSAtIGNvbikgLyAoMSArIGNvbikpKTtcbiAgICAgICAgcGhpICs9IGRwaGk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkcGhpKSA8PSAwLjAwMDAwMDAwMDEpIHtcbiAgICAgICAgICByZXR1cm4gcGhpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vY29uc29sZS5sb2coXCJJUVNGTi1DT05WOkxhdGl0dWRlIGZhaWxlZCB0byBjb252ZXJnZSBhZnRlciAzMCBpdGVyYXRpb25zXCIpO1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9O1xuXG4gICAgLypcbiAgICAgIHJlZmVyZW5jZTpcbiAgICAgICAgXCJDYXJ0b2dyYXBoaWMgUHJvamVjdGlvbiBQcm9jZWR1cmVzIGZvciB0aGUgVU5JWCBFbnZpcm9ubWVudC1cbiAgICAgICAgQSBVc2VyJ3MgTWFudWFsXCIgYnkgR2VyYWxkIEkuIEV2ZW5kZW4sXG4gICAgICAgIFVTR1MgT3BlbiBGaWxlIFJlcG9ydCA5MC0yODRhbmQgUmVsZWFzZSA0IEludGVyaW0gUmVwb3J0cyAoMjAwMylcbiAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXQkMTYoKSB7XG4gICAgICAvL25vLW9wXG4gICAgICBpZiAoIXRoaXMuc3BoZXJlKSB7XG4gICAgICAgIHRoaXMuazAgPSBtc2Zueih0aGlzLmUsIE1hdGguc2luKHRoaXMubGF0X3RzKSwgTWF0aC5jb3ModGhpcy5sYXRfdHMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBDeWxpbmRyaWNhbCBFcXVhbCBBcmVhIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIGZ1bmN0aW9uIGZvcndhcmQkMTUocCkge1xuICAgICAgdmFyIGxvbiA9IHAueDtcbiAgICAgIHZhciBsYXQgPSBwLnk7XG4gICAgICB2YXIgeCwgeTtcbiAgICAgIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgdmFyIGRsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgICAgIHggPSB0aGlzLngwICsgdGhpcy5hICogZGxvbiAqIE1hdGguY29zKHRoaXMubGF0X3RzKTtcbiAgICAgICAgeSA9IHRoaXMueTAgKyB0aGlzLmEgKiBNYXRoLnNpbihsYXQpIC8gTWF0aC5jb3ModGhpcy5sYXRfdHMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBxcyA9IHFzZm56KHRoaXMuZSwgTWF0aC5zaW4obGF0KSk7XG4gICAgICAgIHggPSB0aGlzLngwICsgdGhpcy5hICogdGhpcy5rMCAqIGRsb247XG4gICAgICAgIHkgPSB0aGlzLnkwICsgdGhpcy5hICogcXMgKiAwLjUgLyB0aGlzLmswO1xuICAgICAgfVxuXG4gICAgICBwLnggPSB4O1xuICAgICAgcC55ID0geTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qIEN5bGluZHJpY2FsIEVxdWFsIEFyZWEgaW52ZXJzZSBlcXVhdGlvbnMtLW1hcHBpbmcgeCx5IHRvIGxhdC9sb25nXG4gICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQxNShwKSB7XG4gICAgICBwLnggLT0gdGhpcy54MDtcbiAgICAgIHAueSAtPSB0aGlzLnkwO1xuICAgICAgdmFyIGxvbiwgbGF0O1xuXG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgKHAueCAvIHRoaXMuYSkgLyBNYXRoLmNvcyh0aGlzLmxhdF90cykpO1xuICAgICAgICBsYXQgPSBNYXRoLmFzaW4oKHAueSAvIHRoaXMuYSkgKiBNYXRoLmNvcyh0aGlzLmxhdF90cykpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxhdCA9IGlxc2Zueih0aGlzLmUsIDIgKiBwLnkgKiB0aGlzLmswIC8gdGhpcy5hKTtcbiAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgcC54IC8gKHRoaXMuYSAqIHRoaXMuazApKTtcbiAgICAgIH1cblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVzJDE3ID0gW1wiY2VhXCJdO1xuICAgIHZhciBjZWEgPSB7XG4gICAgICBpbml0OiBpbml0JDE2LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQxNSxcbiAgICAgIGludmVyc2U6IGludmVyc2UkMTUsXG4gICAgICBuYW1lczogbmFtZXMkMTdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCQxNygpIHtcblxuICAgICAgdGhpcy54MCA9IHRoaXMueDAgfHwgMDtcbiAgICAgIHRoaXMueTAgPSB0aGlzLnkwIHx8IDA7XG4gICAgICB0aGlzLmxhdDAgPSB0aGlzLmxhdDAgfHwgMDtcbiAgICAgIHRoaXMubG9uZzAgPSB0aGlzLmxvbmcwIHx8IDA7XG4gICAgICB0aGlzLmxhdF90cyA9IHRoaXMubGF0X3RzIHx8IDA7XG4gICAgICB0aGlzLnRpdGxlID0gdGhpcy50aXRsZSB8fCBcIkVxdWlkaXN0YW50IEN5bGluZHJpY2FsIChQbGF0ZSBDYXJyZSlcIjtcblxuICAgICAgdGhpcy5yYyA9IE1hdGguY29zKHRoaXMubGF0X3RzKTtcbiAgICB9XG5cbiAgICAvLyBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIGZvcndhcmQkMTYocCkge1xuXG4gICAgICB2YXIgbG9uID0gcC54O1xuICAgICAgdmFyIGxhdCA9IHAueTtcblxuICAgICAgdmFyIGRsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAgICAgdmFyIGRsYXQgPSBhZGp1c3RfbGF0KGxhdCAtIHRoaXMubGF0MCk7XG4gICAgICBwLnggPSB0aGlzLngwICsgKHRoaXMuYSAqIGRsb24gKiB0aGlzLnJjKTtcbiAgICAgIHAueSA9IHRoaXMueTAgKyAodGhpcy5hICogZGxhdCk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvLyBpbnZlcnNlIGVxdWF0aW9ucy0tbWFwcGluZyB4LHkgdG8gbGF0L2xvbmdcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIGludmVyc2UkMTYocCkge1xuXG4gICAgICB2YXIgeCA9IHAueDtcbiAgICAgIHZhciB5ID0gcC55O1xuXG4gICAgICBwLnggPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyAoKHggLSB0aGlzLngwKSAvICh0aGlzLmEgKiB0aGlzLnJjKSkpO1xuICAgICAgcC55ID0gYWRqdXN0X2xhdCh0aGlzLmxhdDAgKyAoKHkgLSB0aGlzLnkwKSAvICh0aGlzLmEpKSk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkMTggPSBbXCJFcXVpcmVjdGFuZ3VsYXJcIiwgXCJFcXVpZGlzdGFudF9DeWxpbmRyaWNhbFwiLCBcImVxY1wiXTtcbiAgICB2YXIgZXFjID0ge1xuICAgICAgaW5pdDogaW5pdCQxNyxcbiAgICAgIGZvcndhcmQ6IGZvcndhcmQkMTYsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDE2LFxuICAgICAgbmFtZXM6IG5hbWVzJDE4XG4gICAgfTtcblxuICAgIHZhciBNQVhfSVRFUiQyID0gMjA7XG5cbiAgICBmdW5jdGlvbiBpbml0JDE4KCkge1xuICAgICAgLyogUGxhY2UgcGFyYW1ldGVycyBpbiBzdGF0aWMgc3RvcmFnZSBmb3IgY29tbW9uIHVzZVxuICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgdGhpcy50ZW1wID0gdGhpcy5iIC8gdGhpcy5hO1xuICAgICAgdGhpcy5lcyA9IDEgLSBNYXRoLnBvdyh0aGlzLnRlbXAsIDIpOyAvLyBkZXZhaXQgZXRyZSBkYW5zIHRtZXJjLmpzIG1haXMgbiB5IGVzdCBwYXMgZG9uYyBqZSBjb21tZW50ZSBzaW5vbiByZXRvdXIgZGUgdmFsZXVycyBudWxsZXNcbiAgICAgIHRoaXMuZSA9IE1hdGguc3FydCh0aGlzLmVzKTtcbiAgICAgIHRoaXMuZTAgPSBlMGZuKHRoaXMuZXMpO1xuICAgICAgdGhpcy5lMSA9IGUxZm4odGhpcy5lcyk7XG4gICAgICB0aGlzLmUyID0gZTJmbih0aGlzLmVzKTtcbiAgICAgIHRoaXMuZTMgPSBlM2ZuKHRoaXMuZXMpO1xuICAgICAgdGhpcy5tbDAgPSB0aGlzLmEgKiBtbGZuKHRoaXMuZTAsIHRoaXMuZTEsIHRoaXMuZTIsIHRoaXMuZTMsIHRoaXMubGF0MCk7IC8vc2kgcXVlIGRlcyB6ZXJvcyBsZSBjYWxjdWwgbmUgc2UgZmFpdCBwYXNcbiAgICB9XG5cbiAgICAvKiBQb2x5Y29uaWMgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gZm9yd2FyZCQxNyhwKSB7XG4gICAgICB2YXIgbG9uID0gcC54O1xuICAgICAgdmFyIGxhdCA9IHAueTtcbiAgICAgIHZhciB4LCB5LCBlbDtcbiAgICAgIHZhciBkbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgIGVsID0gZGxvbiAqIE1hdGguc2luKGxhdCk7XG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGxhdCkgPD0gRVBTTE4pIHtcbiAgICAgICAgICB4ID0gdGhpcy5hICogZGxvbjtcbiAgICAgICAgICB5ID0gLTEgKiB0aGlzLmEgKiB0aGlzLmxhdDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgeCA9IHRoaXMuYSAqIE1hdGguc2luKGVsKSAvIE1hdGgudGFuKGxhdCk7XG4gICAgICAgICAgeSA9IHRoaXMuYSAqIChhZGp1c3RfbGF0KGxhdCAtIHRoaXMubGF0MCkgKyAoMSAtIE1hdGguY29zKGVsKSkgLyBNYXRoLnRhbihsYXQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhsYXQpIDw9IEVQU0xOKSB7XG4gICAgICAgICAgeCA9IHRoaXMuYSAqIGRsb247XG4gICAgICAgICAgeSA9IC0xICogdGhpcy5tbDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5sID0gZ04odGhpcy5hLCB0aGlzLmUsIE1hdGguc2luKGxhdCkpIC8gTWF0aC50YW4obGF0KTtcbiAgICAgICAgICB4ID0gbmwgKiBNYXRoLnNpbihlbCk7XG4gICAgICAgICAgeSA9IHRoaXMuYSAqIG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgbGF0KSAtIHRoaXMubWwwICsgbmwgKiAoMSAtIE1hdGguY29zKGVsKSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgcC54ID0geCArIHRoaXMueDA7XG4gICAgICBwLnkgPSB5ICsgdGhpcy55MDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qIEludmVyc2UgZXF1YXRpb25zXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQxNyhwKSB7XG4gICAgICB2YXIgbG9uLCBsYXQsIHgsIHksIGk7XG4gICAgICB2YXIgYWwsIGJsO1xuICAgICAgdmFyIHBoaSwgZHBoaTtcbiAgICAgIHggPSBwLnggLSB0aGlzLngwO1xuICAgICAgeSA9IHAueSAtIHRoaXMueTA7XG5cbiAgICAgIGlmICh0aGlzLnNwaGVyZSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoeSArIHRoaXMuYSAqIHRoaXMubGF0MCkgPD0gRVBTTE4pIHtcbiAgICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHggLyB0aGlzLmEgKyB0aGlzLmxvbmcwKTtcbiAgICAgICAgICBsYXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFsID0gdGhpcy5sYXQwICsgeSAvIHRoaXMuYTtcbiAgICAgICAgICBibCA9IHggKiB4IC8gdGhpcy5hIC8gdGhpcy5hICsgYWwgKiBhbDtcbiAgICAgICAgICBwaGkgPSBhbDtcbiAgICAgICAgICB2YXIgdGFucGhpO1xuICAgICAgICAgIGZvciAoaSA9IE1BWF9JVEVSJDI7IGk7IC0taSkge1xuICAgICAgICAgICAgdGFucGhpID0gTWF0aC50YW4ocGhpKTtcbiAgICAgICAgICAgIGRwaGkgPSAtMSAqIChhbCAqIChwaGkgKiB0YW5waGkgKyAxKSAtIHBoaSAtIDAuNSAqIChwaGkgKiBwaGkgKyBibCkgKiB0YW5waGkpIC8gKChwaGkgLSBhbCkgLyB0YW5waGkgLSAxKTtcbiAgICAgICAgICAgIHBoaSArPSBkcGhpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRwaGkpIDw9IEVQU0xOKSB7XG4gICAgICAgICAgICAgIGxhdCA9IHBoaTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIChNYXRoLmFzaW4oeCAqIE1hdGgudGFuKHBoaSkgLyB0aGlzLmEpKSAvIE1hdGguc2luKGxhdCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHkgKyB0aGlzLm1sMCkgPD0gRVBTTE4pIHtcbiAgICAgICAgICBsYXQgPSAwO1xuICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIHggLyB0aGlzLmEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgYWwgPSAodGhpcy5tbDAgKyB5KSAvIHRoaXMuYTtcbiAgICAgICAgICBibCA9IHggKiB4IC8gdGhpcy5hIC8gdGhpcy5hICsgYWwgKiBhbDtcbiAgICAgICAgICBwaGkgPSBhbDtcbiAgICAgICAgICB2YXIgY2wsIG1sbiwgbWxucCwgbWE7XG4gICAgICAgICAgdmFyIGNvbjtcbiAgICAgICAgICBmb3IgKGkgPSBNQVhfSVRFUiQyOyBpOyAtLWkpIHtcbiAgICAgICAgICAgIGNvbiA9IHRoaXMuZSAqIE1hdGguc2luKHBoaSk7XG4gICAgICAgICAgICBjbCA9IE1hdGguc3FydCgxIC0gY29uICogY29uKSAqIE1hdGgudGFuKHBoaSk7XG4gICAgICAgICAgICBtbG4gPSB0aGlzLmEgKiBtbGZuKHRoaXMuZTAsIHRoaXMuZTEsIHRoaXMuZTIsIHRoaXMuZTMsIHBoaSk7XG4gICAgICAgICAgICBtbG5wID0gdGhpcy5lMCAtIDIgKiB0aGlzLmUxICogTWF0aC5jb3MoMiAqIHBoaSkgKyA0ICogdGhpcy5lMiAqIE1hdGguY29zKDQgKiBwaGkpIC0gNiAqIHRoaXMuZTMgKiBNYXRoLmNvcyg2ICogcGhpKTtcbiAgICAgICAgICAgIG1hID0gbWxuIC8gdGhpcy5hO1xuICAgICAgICAgICAgZHBoaSA9IChhbCAqIChjbCAqIG1hICsgMSkgLSBtYSAtIDAuNSAqIGNsICogKG1hICogbWEgKyBibCkpIC8gKHRoaXMuZXMgKiBNYXRoLnNpbigyICogcGhpKSAqIChtYSAqIG1hICsgYmwgLSAyICogYWwgKiBtYSkgLyAoNCAqIGNsKSArIChhbCAtIG1hKSAqIChjbCAqIG1sbnAgLSAyIC8gTWF0aC5zaW4oMiAqIHBoaSkpIC0gbWxucCk7XG4gICAgICAgICAgICBwaGkgLT0gZHBoaTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkcGhpKSA8PSBFUFNMTikge1xuICAgICAgICAgICAgICBsYXQgPSBwaGk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vbGF0PXBoaTR6KHRoaXMuZSx0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLGFsLGJsLDAsMCk7XG4gICAgICAgICAgY2wgPSBNYXRoLnNxcnQoMSAtIHRoaXMuZXMgKiBNYXRoLnBvdyhNYXRoLnNpbihsYXQpLCAyKSkgKiBNYXRoLnRhbihsYXQpO1xuICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXNpbih4ICogY2wgLyB0aGlzLmEpIC8gTWF0aC5zaW4obGF0KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVzJDE5ID0gW1wiUG9seWNvbmljXCIsIFwicG9seVwiXTtcbiAgICB2YXIgcG9seSA9IHtcbiAgICAgIGluaXQ6IGluaXQkMTgsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDE3LFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQxNyxcbiAgICAgIG5hbWVzOiBuYW1lcyQxOVxuICAgIH07XG5cbiAgICAvKlxuICAgICAgcmVmZXJlbmNlXG4gICAgICAgIERlcGFydG1lbnQgb2YgTGFuZCBhbmQgU3VydmV5IFRlY2huaWNhbCBDaXJjdWxhciAxOTczLzMyXG4gICAgICAgICAgaHR0cDovL3d3dy5saW56LmdvdnQubnovZG9jcy9taXNjZWxsYW5lb3VzL256LW1hcC1kZWZpbml0aW9uLnBkZlxuICAgICAgICBPU0cgVGVjaG5pY2FsIFJlcG9ydCA0LjFcbiAgICAgICAgICBodHRwOi8vd3d3LmxpbnouZ292dC5uei9kb2NzL21pc2NlbGxhbmVvdXMvbnptZy5wZGZcbiAgICAgICovXG5cbiAgICAvKipcbiAgICAgKiBpdGVyYXRpb25zOiBOdW1iZXIgb2YgaXRlcmF0aW9ucyB0byByZWZpbmUgaW52ZXJzZSB0cmFuc2Zvcm0uXG4gICAgICogICAgIDAgLT4ga20gYWNjdXJhY3lcbiAgICAgKiAgICAgMSAtPiBtIGFjY3VyYWN5IC0tIHN1aXRhYmxlIGZvciBtb3N0IG1hcHBpbmcgYXBwbGljYXRpb25zXG4gICAgICogICAgIDIgLT4gbW0gYWNjdXJhY3lcbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gaW5pdCQxOSgpIHtcbiAgICAgIHRoaXMuQSA9IFtdO1xuICAgICAgdGhpcy5BWzFdID0gMC42Mzk5MTc1MDczO1xuICAgICAgdGhpcy5BWzJdID0gLTAuMTM1ODc5NzYxMztcbiAgICAgIHRoaXMuQVszXSA9IDAuMDYzMjk0NDA5O1xuICAgICAgdGhpcy5BWzRdID0gLTAuMDI1MjY4NTM7XG4gICAgICB0aGlzLkFbNV0gPSAwLjAxMTc4Nzk7XG4gICAgICB0aGlzLkFbNl0gPSAtMC4wMDU1MTYxO1xuICAgICAgdGhpcy5BWzddID0gMC4wMDI2OTA2O1xuICAgICAgdGhpcy5BWzhdID0gLTAuMDAxMzMzO1xuICAgICAgdGhpcy5BWzldID0gMC4wMDA2NztcbiAgICAgIHRoaXMuQVsxMF0gPSAtMC4wMDAzNDtcblxuICAgICAgdGhpcy5CX3JlID0gW107XG4gICAgICB0aGlzLkJfaW0gPSBbXTtcbiAgICAgIHRoaXMuQl9yZVsxXSA9IDAuNzU1Nzg1MzIyODtcbiAgICAgIHRoaXMuQl9pbVsxXSA9IDA7XG4gICAgICB0aGlzLkJfcmVbMl0gPSAwLjI0OTIwNDY0NjtcbiAgICAgIHRoaXMuQl9pbVsyXSA9IDAuMDAzMzcxNTA3O1xuICAgICAgdGhpcy5CX3JlWzNdID0gLTAuMDAxNTQxNzM5O1xuICAgICAgdGhpcy5CX2ltWzNdID0gMC4wNDEwNTg1NjA7XG4gICAgICB0aGlzLkJfcmVbNF0gPSAtMC4xMDE2MjkwNztcbiAgICAgIHRoaXMuQl9pbVs0XSA9IDAuMDE3Mjc2MDk7XG4gICAgICB0aGlzLkJfcmVbNV0gPSAtMC4yNjYyMzQ4OTtcbiAgICAgIHRoaXMuQl9pbVs1XSA9IC0wLjM2MjQ5MjE4O1xuICAgICAgdGhpcy5CX3JlWzZdID0gLTAuNjg3MDk4MztcbiAgICAgIHRoaXMuQl9pbVs2XSA9IC0xLjE2NTE5Njc7XG5cbiAgICAgIHRoaXMuQ19yZSA9IFtdO1xuICAgICAgdGhpcy5DX2ltID0gW107XG4gICAgICB0aGlzLkNfcmVbMV0gPSAxLjMyMzEyNzA0Mzk7XG4gICAgICB0aGlzLkNfaW1bMV0gPSAwO1xuICAgICAgdGhpcy5DX3JlWzJdID0gLTAuNTc3MjQ1Nzg5O1xuICAgICAgdGhpcy5DX2ltWzJdID0gLTAuMDA3ODA5NTk4O1xuICAgICAgdGhpcy5DX3JlWzNdID0gMC41MDgzMDc1MTM7XG4gICAgICB0aGlzLkNfaW1bM10gPSAtMC4xMTIyMDg5NTI7XG4gICAgICB0aGlzLkNfcmVbNF0gPSAtMC4xNTA5NDc2MjtcbiAgICAgIHRoaXMuQ19pbVs0XSA9IDAuMTgyMDA2MDI7XG4gICAgICB0aGlzLkNfcmVbNV0gPSAxLjAxNDE4MTc5O1xuICAgICAgdGhpcy5DX2ltWzVdID0gMS42NDQ5NzY5NjtcbiAgICAgIHRoaXMuQ19yZVs2XSA9IDEuOTY2MDU0OTtcbiAgICAgIHRoaXMuQ19pbVs2XSA9IDIuNTEyNzY0NTtcblxuICAgICAgdGhpcy5EID0gW107XG4gICAgICB0aGlzLkRbMV0gPSAxLjU2MjcwMTQyNDM7XG4gICAgICB0aGlzLkRbMl0gPSAwLjUxODU0MDYzOTg7XG4gICAgICB0aGlzLkRbM10gPSAtMC4wMzMzMzA5ODtcbiAgICAgIHRoaXMuRFs0XSA9IC0wLjEwNTI5MDY7XG4gICAgICB0aGlzLkRbNV0gPSAtMC4wMzY4NTk0O1xuICAgICAgdGhpcy5EWzZdID0gMC4wMDczMTc7XG4gICAgICB0aGlzLkRbN10gPSAwLjAxMjIwO1xuICAgICAgdGhpcy5EWzhdID0gMC4wMDM5NDtcbiAgICAgIHRoaXMuRFs5XSA9IC0wLjAwMTM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICAgIE5ldyBaZWFsYW5kIE1hcCBHcmlkIEZvcndhcmQgIC0gbG9uZy9sYXQgdG8geC95XG4gICAgICAgIGxvbmcvbGF0IGluIHJhZGlhbnNcbiAgICAgICovXG4gICAgZnVuY3Rpb24gZm9yd2FyZCQxOChwKSB7XG4gICAgICB2YXIgbjtcbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuXG4gICAgICB2YXIgZGVsdGFfbGF0ID0gbGF0IC0gdGhpcy5sYXQwO1xuICAgICAgdmFyIGRlbHRhX2xvbiA9IGxvbiAtIHRoaXMubG9uZzA7XG5cbiAgICAgIC8vIDEuIENhbGN1bGF0ZSBkX3BoaSBhbmQgZF9wc2kgICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZF9sYW1iZGFcbiAgICAgIC8vIEZvciB0aGlzIGFsZ29yaXRobSwgZGVsdGFfbGF0aXR1ZGUgaXMgaW4gc2Vjb25kcyBvZiBhcmMgeCAxMC01LCBzbyB3ZSBuZWVkIHRvIHNjYWxlIHRvIHRob3NlIHVuaXRzLiBMb25naXR1ZGUgaXMgcmFkaWFucy5cbiAgICAgIHZhciBkX3BoaSA9IGRlbHRhX2xhdCAvIFNFQ19UT19SQUQgKiAxRS01O1xuICAgICAgdmFyIGRfbGFtYmRhID0gZGVsdGFfbG9uO1xuICAgICAgdmFyIGRfcGhpX24gPSAxOyAvLyBkX3BoaV4wXG5cbiAgICAgIHZhciBkX3BzaSA9IDA7XG4gICAgICBmb3IgKG4gPSAxOyBuIDw9IDEwOyBuKyspIHtcbiAgICAgICAgZF9waGlfbiA9IGRfcGhpX24gKiBkX3BoaTtcbiAgICAgICAgZF9wc2kgPSBkX3BzaSArIHRoaXMuQVtuXSAqIGRfcGhpX247XG4gICAgICB9XG5cbiAgICAgIC8vIDIuIENhbGN1bGF0ZSB0aGV0YVxuICAgICAgdmFyIHRoX3JlID0gZF9wc2k7XG4gICAgICB2YXIgdGhfaW0gPSBkX2xhbWJkYTtcblxuICAgICAgLy8gMy4gQ2FsY3VsYXRlIHpcbiAgICAgIHZhciB0aF9uX3JlID0gMTtcbiAgICAgIHZhciB0aF9uX2ltID0gMDsgLy8gdGhldGFeMFxuICAgICAgdmFyIHRoX25fcmUxO1xuICAgICAgdmFyIHRoX25faW0xO1xuXG4gICAgICB2YXIgel9yZSA9IDA7XG4gICAgICB2YXIgel9pbSA9IDA7XG4gICAgICBmb3IgKG4gPSAxOyBuIDw9IDY7IG4rKykge1xuICAgICAgICB0aF9uX3JlMSA9IHRoX25fcmUgKiB0aF9yZSAtIHRoX25faW0gKiB0aF9pbTtcbiAgICAgICAgdGhfbl9pbTEgPSB0aF9uX2ltICogdGhfcmUgKyB0aF9uX3JlICogdGhfaW07XG4gICAgICAgIHRoX25fcmUgPSB0aF9uX3JlMTtcbiAgICAgICAgdGhfbl9pbSA9IHRoX25faW0xO1xuICAgICAgICB6X3JlID0gel9yZSArIHRoaXMuQl9yZVtuXSAqIHRoX25fcmUgLSB0aGlzLkJfaW1bbl0gKiB0aF9uX2ltO1xuICAgICAgICB6X2ltID0gel9pbSArIHRoaXMuQl9pbVtuXSAqIHRoX25fcmUgKyB0aGlzLkJfcmVbbl0gKiB0aF9uX2ltO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBDYWxjdWxhdGUgZWFzdGluZyBhbmQgbm9ydGhpbmdcbiAgICAgIHAueCA9ICh6X2ltICogdGhpcy5hKSArIHRoaXMueDA7XG4gICAgICBwLnkgPSAoel9yZSAqIHRoaXMuYSkgKyB0aGlzLnkwO1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgICAgTmV3IFplYWxhbmQgTWFwIEdyaWQgSW52ZXJzZSAgLSAgeC95IHRvIGxvbmcvbGF0XG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVyc2UkMTgocCkge1xuICAgICAgdmFyIG47XG4gICAgICB2YXIgeCA9IHAueDtcbiAgICAgIHZhciB5ID0gcC55O1xuXG4gICAgICB2YXIgZGVsdGFfeCA9IHggLSB0aGlzLngwO1xuICAgICAgdmFyIGRlbHRhX3kgPSB5IC0gdGhpcy55MDtcblxuICAgICAgLy8gMS4gQ2FsY3VsYXRlIHpcbiAgICAgIHZhciB6X3JlID0gZGVsdGFfeSAvIHRoaXMuYTtcbiAgICAgIHZhciB6X2ltID0gZGVsdGFfeCAvIHRoaXMuYTtcblxuICAgICAgLy8gMmEuIENhbGN1bGF0ZSB0aGV0YSAtIGZpcnN0IGFwcHJveGltYXRpb24gZ2l2ZXMga20gYWNjdXJhY3lcbiAgICAgIHZhciB6X25fcmUgPSAxO1xuICAgICAgdmFyIHpfbl9pbSA9IDA7IC8vIHpeMFxuICAgICAgdmFyIHpfbl9yZTE7XG4gICAgICB2YXIgel9uX2ltMTtcblxuICAgICAgdmFyIHRoX3JlID0gMDtcbiAgICAgIHZhciB0aF9pbSA9IDA7XG4gICAgICBmb3IgKG4gPSAxOyBuIDw9IDY7IG4rKykge1xuICAgICAgICB6X25fcmUxID0gel9uX3JlICogel9yZSAtIHpfbl9pbSAqIHpfaW07XG4gICAgICAgIHpfbl9pbTEgPSB6X25faW0gKiB6X3JlICsgel9uX3JlICogel9pbTtcbiAgICAgICAgel9uX3JlID0gel9uX3JlMTtcbiAgICAgICAgel9uX2ltID0gel9uX2ltMTtcbiAgICAgICAgdGhfcmUgPSB0aF9yZSArIHRoaXMuQ19yZVtuXSAqIHpfbl9yZSAtIHRoaXMuQ19pbVtuXSAqIHpfbl9pbTtcbiAgICAgICAgdGhfaW0gPSB0aF9pbSArIHRoaXMuQ19pbVtuXSAqIHpfbl9yZSArIHRoaXMuQ19yZVtuXSAqIHpfbl9pbTtcbiAgICAgIH1cblxuICAgICAgLy8gMmIuIEl0ZXJhdGUgdG8gcmVmaW5lIHRoZSBhY2N1cmFjeSBvZiB0aGUgY2FsY3VsYXRpb25cbiAgICAgIC8vICAgICAgICAwIGl0ZXJhdGlvbnMgZ2l2ZXMga20gYWNjdXJhY3lcbiAgICAgIC8vICAgICAgICAxIGl0ZXJhdGlvbiBnaXZlcyBtIGFjY3VyYWN5IC0tIGdvb2QgZW5vdWdoIGZvciBtb3N0IG1hcHBpbmcgYXBwbGljYXRpb25zXG4gICAgICAvLyAgICAgICAgMiBpdGVyYXRpb25zIGJpdmVzIG1tIGFjY3VyYWN5XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgIHZhciB0aF9uX3JlID0gdGhfcmU7XG4gICAgICAgIHZhciB0aF9uX2ltID0gdGhfaW07XG4gICAgICAgIHZhciB0aF9uX3JlMTtcbiAgICAgICAgdmFyIHRoX25faW0xO1xuXG4gICAgICAgIHZhciBudW1fcmUgPSB6X3JlO1xuICAgICAgICB2YXIgbnVtX2ltID0gel9pbTtcbiAgICAgICAgZm9yIChuID0gMjsgbiA8PSA2OyBuKyspIHtcbiAgICAgICAgICB0aF9uX3JlMSA9IHRoX25fcmUgKiB0aF9yZSAtIHRoX25faW0gKiB0aF9pbTtcbiAgICAgICAgICB0aF9uX2ltMSA9IHRoX25faW0gKiB0aF9yZSArIHRoX25fcmUgKiB0aF9pbTtcbiAgICAgICAgICB0aF9uX3JlID0gdGhfbl9yZTE7XG4gICAgICAgICAgdGhfbl9pbSA9IHRoX25faW0xO1xuICAgICAgICAgIG51bV9yZSA9IG51bV9yZSArIChuIC0gMSkgKiAodGhpcy5CX3JlW25dICogdGhfbl9yZSAtIHRoaXMuQl9pbVtuXSAqIHRoX25faW0pO1xuICAgICAgICAgIG51bV9pbSA9IG51bV9pbSArIChuIC0gMSkgKiAodGhpcy5CX2ltW25dICogdGhfbl9yZSArIHRoaXMuQl9yZVtuXSAqIHRoX25faW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhfbl9yZSA9IDE7XG4gICAgICAgIHRoX25faW0gPSAwO1xuICAgICAgICB2YXIgZGVuX3JlID0gdGhpcy5CX3JlWzFdO1xuICAgICAgICB2YXIgZGVuX2ltID0gdGhpcy5CX2ltWzFdO1xuICAgICAgICBmb3IgKG4gPSAyOyBuIDw9IDY7IG4rKykge1xuICAgICAgICAgIHRoX25fcmUxID0gdGhfbl9yZSAqIHRoX3JlIC0gdGhfbl9pbSAqIHRoX2ltO1xuICAgICAgICAgIHRoX25faW0xID0gdGhfbl9pbSAqIHRoX3JlICsgdGhfbl9yZSAqIHRoX2ltO1xuICAgICAgICAgIHRoX25fcmUgPSB0aF9uX3JlMTtcbiAgICAgICAgICB0aF9uX2ltID0gdGhfbl9pbTE7XG4gICAgICAgICAgZGVuX3JlID0gZGVuX3JlICsgbiAqICh0aGlzLkJfcmVbbl0gKiB0aF9uX3JlIC0gdGhpcy5CX2ltW25dICogdGhfbl9pbSk7XG4gICAgICAgICAgZGVuX2ltID0gZGVuX2ltICsgbiAqICh0aGlzLkJfaW1bbl0gKiB0aF9uX3JlICsgdGhpcy5CX3JlW25dICogdGhfbl9pbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wbGV4IGRpdmlzaW9uXG4gICAgICAgIHZhciBkZW4yID0gZGVuX3JlICogZGVuX3JlICsgZGVuX2ltICogZGVuX2ltO1xuICAgICAgICB0aF9yZSA9IChudW1fcmUgKiBkZW5fcmUgKyBudW1faW0gKiBkZW5faW0pIC8gZGVuMjtcbiAgICAgICAgdGhfaW0gPSAobnVtX2ltICogZGVuX3JlIC0gbnVtX3JlICogZGVuX2ltKSAvIGRlbjI7XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIENhbGN1bGF0ZSBkX3BoaSAgICAgICAgICAgICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGRfbGFtYmRhXG4gICAgICB2YXIgZF9wc2kgPSB0aF9yZTtcbiAgICAgIHZhciBkX2xhbWJkYSA9IHRoX2ltO1xuICAgICAgdmFyIGRfcHNpX24gPSAxOyAvLyBkX3BzaV4wXG5cbiAgICAgIHZhciBkX3BoaSA9IDA7XG4gICAgICBmb3IgKG4gPSAxOyBuIDw9IDk7IG4rKykge1xuICAgICAgICBkX3BzaV9uID0gZF9wc2lfbiAqIGRfcHNpO1xuICAgICAgICBkX3BoaSA9IGRfcGhpICsgdGhpcy5EW25dICogZF9wc2lfbjtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gQ2FsY3VsYXRlIGxhdGl0dWRlIGFuZCBsb25naXR1ZGVcbiAgICAgIC8vIGRfcGhpIGlzIGNhbGN1YXRlZCBpbiBzZWNvbmQgb2YgYXJjICogMTBeLTUsIHNvIHdlIG5lZWQgdG8gc2NhbGUgYmFjayB0byByYWRpYW5zLiBkX2xhbWJkYSBpcyBpbiByYWRpYW5zLlxuICAgICAgdmFyIGxhdCA9IHRoaXMubGF0MCArIChkX3BoaSAqIFNFQ19UT19SQUQgKiAxRTUpO1xuICAgICAgdmFyIGxvbiA9IHRoaXMubG9uZzAgKyBkX2xhbWJkYTtcblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuXG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkMjAgPSBbXCJOZXdfWmVhbGFuZF9NYXBfR3JpZFwiLCBcIm56bWdcIl07XG4gICAgdmFyIG56bWcgPSB7XG4gICAgICBpbml0OiBpbml0JDE5LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQxOCxcbiAgICAgIGludmVyc2U6IGludmVyc2UkMTgsXG4gICAgICBuYW1lczogbmFtZXMkMjBcbiAgICB9O1xuXG4gICAgLypcbiAgICAgIHJlZmVyZW5jZVxuICAgICAgICBcIk5ldyBFcXVhbC1BcmVhIE1hcCBQcm9qZWN0aW9ucyBmb3IgTm9uY2lyY3VsYXIgUmVnaW9uc1wiLCBKb2huIFAuIFNueWRlcixcbiAgICAgICAgVGhlIEFtZXJpY2FuIENhcnRvZ3JhcGhlciwgVm9sIDE1LCBOby4gNCwgT2N0b2JlciAxOTg4LCBwcC4gMzQxLTM1NS5cbiAgICAgICovXG5cblxuICAgIC8qIEluaXRpYWxpemUgdGhlIE1pbGxlciBDeWxpbmRyaWNhbCBwcm9qZWN0aW9uXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBpbml0JDIwKCkge1xuICAgICAgLy9uby1vcFxuICAgIH1cblxuICAgIC8qIE1pbGxlciBDeWxpbmRyaWNhbCBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDE5KHApIHtcbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuICAgICAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICB2YXIgZGxvbiA9IGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gICAgICB2YXIgeCA9IHRoaXMueDAgKyB0aGlzLmEgKiBkbG9uO1xuICAgICAgdmFyIHkgPSB0aGlzLnkwICsgdGhpcy5hICogTWF0aC5sb2coTWF0aC50YW4oKE1hdGguUEkgLyA0KSArIChsYXQgLyAyLjUpKSkgKiAxLjI1O1xuXG4gICAgICBwLnggPSB4O1xuICAgICAgcC55ID0geTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qIE1pbGxlciBDeWxpbmRyaWNhbCBpbnZlcnNlIGVxdWF0aW9ucy0tbWFwcGluZyB4LHkgdG8gbGF0L2xvbmdcbiAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDE5KHApIHtcbiAgICAgIHAueCAtPSB0aGlzLngwO1xuICAgICAgcC55IC09IHRoaXMueTA7XG5cbiAgICAgIHZhciBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBwLnggLyB0aGlzLmEpO1xuICAgICAgdmFyIGxhdCA9IDIuNSAqIChNYXRoLmF0YW4oTWF0aC5leHAoMC44ICogcC55IC8gdGhpcy5hKSkgLSBNYXRoLlBJIC8gNCk7XG5cbiAgICAgIHAueCA9IGxvbjtcbiAgICAgIHAueSA9IGxhdDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQyMSA9IFtcIk1pbGxlcl9DeWxpbmRyaWNhbFwiLCBcIm1pbGxcIl07XG4gICAgdmFyIG1pbGwgPSB7XG4gICAgICBpbml0OiBpbml0JDIwLFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQxOSxcbiAgICAgIGludmVyc2U6IGludmVyc2UkMTksXG4gICAgICBuYW1lczogbmFtZXMkMjFcbiAgICB9O1xuXG4gICAgdmFyIE1BWF9JVEVSJDMgPSAyMDtcbiAgICBmdW5jdGlvbiBpbml0JDIxKCkge1xuICAgICAgLyogUGxhY2UgcGFyYW1ldGVycyBpbiBzdGF0aWMgc3RvcmFnZSBmb3IgY29tbW9uIHVzZVxuICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXG4gICAgICBpZiAoIXRoaXMuc3BoZXJlKSB7XG4gICAgICAgIHRoaXMuZW4gPSBwal9lbmZuKHRoaXMuZXMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMubiA9IDE7XG4gICAgICAgIHRoaXMubSA9IDA7XG4gICAgICAgIHRoaXMuZXMgPSAwO1xuICAgICAgICB0aGlzLkNfeSA9IE1hdGguc3FydCgodGhpcy5tICsgMSkgLyB0aGlzLm4pO1xuICAgICAgICB0aGlzLkNfeCA9IHRoaXMuQ195IC8gKHRoaXMubSArIDEpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyogU2ludXNvaWRhbCBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDIwKHApIHtcbiAgICAgIHZhciB4LCB5O1xuICAgICAgdmFyIGxvbiA9IHAueDtcbiAgICAgIHZhciBsYXQgPSBwLnk7XG4gICAgICAvKiBGb3J3YXJkIGVxdWF0aW9uc1xuICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICBsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuXG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm0pIHtcbiAgICAgICAgICBsYXQgPSB0aGlzLm4gIT09IDEgPyBNYXRoLmFzaW4odGhpcy5uICogTWF0aC5zaW4obGF0KSkgOiBsYXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGsgPSB0aGlzLm4gKiBNYXRoLnNpbihsYXQpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSBNQVhfSVRFUiQzOyBpOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBWID0gKHRoaXMubSAqIGxhdCArIE1hdGguc2luKGxhdCkgLSBrKSAvICh0aGlzLm0gKyBNYXRoLmNvcyhsYXQpKTtcbiAgICAgICAgICAgIGxhdCAtPSBWO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKFYpIDwgRVBTTE4pIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHggPSB0aGlzLmEgKiB0aGlzLkNfeCAqIGxvbiAqICh0aGlzLm0gKyBNYXRoLmNvcyhsYXQpKTtcbiAgICAgICAgeSA9IHRoaXMuYSAqIHRoaXMuQ195ICogbGF0O1xuXG4gICAgICB9XG4gICAgICBlbHNlIHtcblxuICAgICAgICB2YXIgcyA9IE1hdGguc2luKGxhdCk7XG4gICAgICAgIHZhciBjID0gTWF0aC5jb3MobGF0KTtcbiAgICAgICAgeSA9IHRoaXMuYSAqIHBqX21sZm4obGF0LCBzLCBjLCB0aGlzLmVuKTtcbiAgICAgICAgeCA9IHRoaXMuYSAqIGxvbiAqIGMgLyBNYXRoLnNxcnQoMSAtIHRoaXMuZXMgKiBzICogcyk7XG4gICAgICB9XG5cbiAgICAgIHAueCA9IHg7XG4gICAgICBwLnkgPSB5O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQyMChwKSB7XG4gICAgICB2YXIgbGF0LCB0ZW1wLCBsb24sIHM7XG5cbiAgICAgIHAueCAtPSB0aGlzLngwO1xuICAgICAgbG9uID0gcC54IC8gdGhpcy5hO1xuICAgICAgcC55IC09IHRoaXMueTA7XG4gICAgICBsYXQgPSBwLnkgLyB0aGlzLmE7XG5cbiAgICAgIGlmICh0aGlzLnNwaGVyZSkge1xuICAgICAgICBsYXQgLz0gdGhpcy5DX3k7XG4gICAgICAgIGxvbiA9IGxvbiAvICh0aGlzLkNfeCAqICh0aGlzLm0gKyBNYXRoLmNvcyhsYXQpKSk7XG4gICAgICAgIGlmICh0aGlzLm0pIHtcbiAgICAgICAgICBsYXQgPSBhc2lueigodGhpcy5tICogbGF0ICsgTWF0aC5zaW4obGF0KSkgLyB0aGlzLm4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubiAhPT0gMSkge1xuICAgICAgICAgIGxhdCA9IGFzaW56KE1hdGguc2luKGxhdCkgLyB0aGlzLm4pO1xuICAgICAgICB9XG4gICAgICAgIGxvbiA9IGFkanVzdF9sb24obG9uICsgdGhpcy5sb25nMCk7XG4gICAgICAgIGxhdCA9IGFkanVzdF9sYXQobGF0KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsYXQgPSBwal9pbnZfbWxmbihwLnkgLyB0aGlzLmEsIHRoaXMuZXMsIHRoaXMuZW4pO1xuICAgICAgICBzID0gTWF0aC5hYnMobGF0KTtcbiAgICAgICAgaWYgKHMgPCBIQUxGX1BJKSB7XG4gICAgICAgICAgcyA9IE1hdGguc2luKGxhdCk7XG4gICAgICAgICAgdGVtcCA9IHRoaXMubG9uZzAgKyBwLnggKiBNYXRoLnNxcnQoMSAtIHRoaXMuZXMgKiBzICogcykgLyAodGhpcy5hICogTWF0aC5jb3MobGF0KSk7XG4gICAgICAgICAgLy90ZW1wID0gdGhpcy5sb25nMCArIHAueCAvICh0aGlzLmEgKiBNYXRoLmNvcyhsYXQpKTtcbiAgICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRlbXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChzIC0gRVBTTE4pIDwgSEFMRl9QSSkge1xuICAgICAgICAgIGxvbiA9IHRoaXMubG9uZzA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHAueCA9IGxvbjtcbiAgICAgIHAueSA9IGxhdDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQyMiA9IFtcIlNpbnVzb2lkYWxcIiwgXCJzaW51XCJdO1xuICAgIHZhciBzaW51ID0ge1xuICAgICAgaW5pdDogaW5pdCQyMSxcbiAgICAgIGZvcndhcmQ6IGZvcndhcmQkMjAsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDIwLFxuICAgICAgbmFtZXM6IG5hbWVzJDIyXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXQkMjIoKSB7fVxuICAgIC8qIE1vbGx3ZWlkZSBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gZm9yd2FyZCQyMShwKSB7XG5cbiAgICAgIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgdmFyIGxvbiA9IHAueDtcbiAgICAgIHZhciBsYXQgPSBwLnk7XG5cbiAgICAgIHZhciBkZWx0YV9sb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAgICAgdmFyIHRoZXRhID0gbGF0O1xuICAgICAgdmFyIGNvbiA9IE1hdGguUEkgKiBNYXRoLnNpbihsYXQpO1xuXG4gICAgICAvKiBJdGVyYXRlIHVzaW5nIHRoZSBOZXd0b24tUmFwaHNvbiBtZXRob2QgdG8gZmluZCB0aGV0YVxuICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWx0YV90aGV0YSA9IC0odGhldGEgKyBNYXRoLnNpbih0aGV0YSkgLSBjb24pIC8gKDEgKyBNYXRoLmNvcyh0aGV0YSkpO1xuICAgICAgICB0aGV0YSArPSBkZWx0YV90aGV0YTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhX3RoZXRhKSA8IEVQU0xOKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoZXRhIC89IDI7XG5cbiAgICAgIC8qIElmIHRoZSBsYXRpdHVkZSBpcyA5MCBkZWcsIGZvcmNlIHRoZSB4IGNvb3JkaW5hdGUgdG8gYmUgXCIwICsgZmFsc2UgZWFzdGluZ1wiXG4gICAgICAgICAgIHRoaXMgaXMgZG9uZSBoZXJlIGJlY2F1c2Ugb2YgcHJlY2lzaW9uIHByb2JsZW1zIHdpdGggXCJjb3ModGhldGEpXCJcbiAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgaWYgKE1hdGguUEkgLyAyIC0gTWF0aC5hYnMobGF0KSA8IEVQU0xOKSB7XG4gICAgICAgIGRlbHRhX2xvbiA9IDA7XG4gICAgICB9XG4gICAgICB2YXIgeCA9IDAuOTAwMzE2MzE2MTU4ICogdGhpcy5hICogZGVsdGFfbG9uICogTWF0aC5jb3ModGhldGEpICsgdGhpcy54MDtcbiAgICAgIHZhciB5ID0gMS40MTQyMTM1NjIzNzMxICogdGhpcy5hICogTWF0aC5zaW4odGhldGEpICsgdGhpcy55MDtcblxuICAgICAgcC54ID0geDtcbiAgICAgIHAueSA9IHk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDIxKHApIHtcbiAgICAgIHZhciB0aGV0YTtcbiAgICAgIHZhciBhcmc7XG5cbiAgICAgIC8qIEludmVyc2UgZXF1YXRpb25zXG4gICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgcC54IC09IHRoaXMueDA7XG4gICAgICBwLnkgLT0gdGhpcy55MDtcbiAgICAgIGFyZyA9IHAueSAvICgxLjQxNDIxMzU2MjM3MzEgKiB0aGlzLmEpO1xuXG4gICAgICAvKiBCZWNhdXNlIG9mIGRpdmlzaW9uIGJ5IHplcm8gcHJvYmxlbXMsICdhcmcnIGNhbiBub3QgYmUgMS4gIFRoZXJlZm9yZVxuICAgICAgICAgICBhIG51bWJlciB2ZXJ5IGNsb3NlIHRvIG9uZSBpcyB1c2VkIGluc3RlYWQuXG4gICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgaWYgKE1hdGguYWJzKGFyZykgPiAwLjk5OTk5OTk5OTk5OSkge1xuICAgICAgICBhcmcgPSAwLjk5OTk5OTk5OTk5OTtcbiAgICAgIH1cbiAgICAgIHRoZXRhID0gTWF0aC5hc2luKGFyZyk7XG4gICAgICB2YXIgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgKHAueCAvICgwLjkwMDMxNjMxNjE1OCAqIHRoaXMuYSAqIE1hdGguY29zKHRoZXRhKSkpKTtcbiAgICAgIGlmIChsb24gPCAoLU1hdGguUEkpKSB7XG4gICAgICAgIGxvbiA9IC1NYXRoLlBJO1xuICAgICAgfVxuICAgICAgaWYgKGxvbiA+IE1hdGguUEkpIHtcbiAgICAgICAgbG9uID0gTWF0aC5QSTtcbiAgICAgIH1cbiAgICAgIGFyZyA9ICgyICogdGhldGEgKyBNYXRoLnNpbigyICogdGhldGEpKSAvIE1hdGguUEk7XG4gICAgICBpZiAoTWF0aC5hYnMoYXJnKSA+IDEpIHtcbiAgICAgICAgYXJnID0gMTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXQgPSBNYXRoLmFzaW4oYXJnKTtcblxuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVzJDIzID0gW1wiTW9sbHdlaWRlXCIsIFwibW9sbFwiXTtcbiAgICB2YXIgbW9sbCA9IHtcbiAgICAgIGluaXQ6IGluaXQkMjIsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDIxLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQyMSxcbiAgICAgIG5hbWVzOiBuYW1lcyQyM1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbml0JDIzKCkge1xuXG4gICAgICAvKiBQbGFjZSBwYXJhbWV0ZXJzIGluIHN0YXRpYyBzdG9yYWdlIGZvciBjb21tb24gdXNlXG4gICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICAvLyBTdGFuZGFyZCBQYXJhbGxlbHMgY2Fubm90IGJlIGVxdWFsIGFuZCBvbiBvcHBvc2l0ZSBzaWRlcyBvZiB0aGUgZXF1YXRvclxuICAgICAgaWYgKE1hdGguYWJzKHRoaXMubGF0MSArIHRoaXMubGF0MikgPCBFUFNMTikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmxhdDIgPSB0aGlzLmxhdDIgfHwgdGhpcy5sYXQxO1xuICAgICAgdGhpcy50ZW1wID0gdGhpcy5iIC8gdGhpcy5hO1xuICAgICAgdGhpcy5lcyA9IDEgLSBNYXRoLnBvdyh0aGlzLnRlbXAsIDIpO1xuICAgICAgdGhpcy5lID0gTWF0aC5zcXJ0KHRoaXMuZXMpO1xuICAgICAgdGhpcy5lMCA9IGUwZm4odGhpcy5lcyk7XG4gICAgICB0aGlzLmUxID0gZTFmbih0aGlzLmVzKTtcbiAgICAgIHRoaXMuZTIgPSBlMmZuKHRoaXMuZXMpO1xuICAgICAgdGhpcy5lMyA9IGUzZm4odGhpcy5lcyk7XG5cbiAgICAgIHRoaXMuc2lucGhpID0gTWF0aC5zaW4odGhpcy5sYXQxKTtcbiAgICAgIHRoaXMuY29zcGhpID0gTWF0aC5jb3ModGhpcy5sYXQxKTtcblxuICAgICAgdGhpcy5tczEgPSBtc2Zueih0aGlzLmUsIHRoaXMuc2lucGhpLCB0aGlzLmNvc3BoaSk7XG4gICAgICB0aGlzLm1sMSA9IG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgdGhpcy5sYXQxKTtcblxuICAgICAgaWYgKE1hdGguYWJzKHRoaXMubGF0MSAtIHRoaXMubGF0MikgPCBFUFNMTikge1xuICAgICAgICB0aGlzLm5zID0gdGhpcy5zaW5waGk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zaW5waGkgPSBNYXRoLnNpbih0aGlzLmxhdDIpO1xuICAgICAgICB0aGlzLmNvc3BoaSA9IE1hdGguY29zKHRoaXMubGF0Mik7XG4gICAgICAgIHRoaXMubXMyID0gbXNmbnoodGhpcy5lLCB0aGlzLnNpbnBoaSwgdGhpcy5jb3NwaGkpO1xuICAgICAgICB0aGlzLm1sMiA9IG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgdGhpcy5sYXQyKTtcbiAgICAgICAgdGhpcy5ucyA9ICh0aGlzLm1zMSAtIHRoaXMubXMyKSAvICh0aGlzLm1sMiAtIHRoaXMubWwxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZyA9IHRoaXMubWwxICsgdGhpcy5tczEgLyB0aGlzLm5zO1xuICAgICAgdGhpcy5tbDAgPSBtbGZuKHRoaXMuZTAsIHRoaXMuZTEsIHRoaXMuZTIsIHRoaXMuZTMsIHRoaXMubGF0MCk7XG4gICAgICB0aGlzLnJoID0gdGhpcy5hICogKHRoaXMuZyAtIHRoaXMubWwwKTtcbiAgICB9XG5cbiAgICAvKiBFcXVpZGlzdGFudCBDb25pYyBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDIyKHApIHtcbiAgICAgIHZhciBsb24gPSBwLng7XG4gICAgICB2YXIgbGF0ID0gcC55O1xuICAgICAgdmFyIHJoMTtcblxuICAgICAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgcmgxID0gdGhpcy5hICogKHRoaXMuZyAtIGxhdCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIG1sID0gbWxmbih0aGlzLmUwLCB0aGlzLmUxLCB0aGlzLmUyLCB0aGlzLmUzLCBsYXQpO1xuICAgICAgICByaDEgPSB0aGlzLmEgKiAodGhpcy5nIC0gbWwpO1xuICAgICAgfVxuICAgICAgdmFyIHRoZXRhID0gdGhpcy5ucyAqIGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gICAgICB2YXIgeCA9IHRoaXMueDAgKyByaDEgKiBNYXRoLnNpbih0aGV0YSk7XG4gICAgICB2YXIgeSA9IHRoaXMueTAgKyB0aGlzLnJoIC0gcmgxICogTWF0aC5jb3ModGhldGEpO1xuICAgICAgcC54ID0geDtcbiAgICAgIHAueSA9IHk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvKiBJbnZlcnNlIGVxdWF0aW9uc1xuICAgICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIGZ1bmN0aW9uIGludmVyc2UkMjIocCkge1xuICAgICAgcC54IC09IHRoaXMueDA7XG4gICAgICBwLnkgPSB0aGlzLnJoIC0gcC55ICsgdGhpcy55MDtcbiAgICAgIHZhciBjb24sIHJoMSwgbGF0LCBsb247XG4gICAgICBpZiAodGhpcy5ucyA+PSAwKSB7XG4gICAgICAgIHJoMSA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgICAgICBjb24gPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJoMSA9IC1NYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KTtcbiAgICAgICAgY29uID0gLTE7XG4gICAgICB9XG4gICAgICB2YXIgdGhldGEgPSAwO1xuICAgICAgaWYgKHJoMSAhPT0gMCkge1xuICAgICAgICB0aGV0YSA9IE1hdGguYXRhbjIoY29uICogcC54LCBjb24gKiBwLnkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgdGhldGEgLyB0aGlzLm5zKTtcbiAgICAgICAgbGF0ID0gYWRqdXN0X2xhdCh0aGlzLmcgLSByaDEgLyB0aGlzLmEpO1xuICAgICAgICBwLnggPSBsb247XG4gICAgICAgIHAueSA9IGxhdDtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIG1sID0gdGhpcy5nIC0gcmgxIC8gdGhpcy5hO1xuICAgICAgICBsYXQgPSBpbWxmbihtbCwgdGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMyk7XG4gICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIHRoZXRhIC8gdGhpcy5ucyk7XG4gICAgICAgIHAueCA9IGxvbjtcbiAgICAgICAgcC55ID0gbGF0O1xuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHZhciBuYW1lcyQyNCA9IFtcIkVxdWlkaXN0YW50X0NvbmljXCIsIFwiZXFkY1wiXTtcbiAgICB2YXIgZXFkYyA9IHtcbiAgICAgIGluaXQ6IGluaXQkMjMsXG4gICAgICBmb3J3YXJkOiBmb3J3YXJkJDIyLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZSQyMixcbiAgICAgIG5hbWVzOiBuYW1lcyQyNFxuICAgIH07XG5cbiAgICAvKiBJbml0aWFsaXplIHRoZSBWYW4gRGVyIEdyaW50ZW4gcHJvamVjdGlvblxuICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgZnVuY3Rpb24gaW5pdCQyNCgpIHtcbiAgICAgIC8vdGhpcy5SID0gNjM3MDk5NzsgLy9SYWRpdXMgb2YgZWFydGhcbiAgICAgIHRoaXMuUiA9IHRoaXMuYTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDIzKHApIHtcblxuICAgICAgdmFyIGxvbiA9IHAueDtcbiAgICAgIHZhciBsYXQgPSBwLnk7XG5cbiAgICAgIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgIHZhciBkbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgIHZhciB4LCB5O1xuXG4gICAgICBpZiAoTWF0aC5hYnMobGF0KSA8PSBFUFNMTikge1xuICAgICAgICB4ID0gdGhpcy54MCArIHRoaXMuUiAqIGRsb247XG4gICAgICAgIHkgPSB0aGlzLnkwO1xuICAgICAgfVxuICAgICAgdmFyIHRoZXRhID0gYXNpbnooMiAqIE1hdGguYWJzKGxhdCAvIE1hdGguUEkpKTtcbiAgICAgIGlmICgoTWF0aC5hYnMoZGxvbikgPD0gRVBTTE4pIHx8IChNYXRoLmFicyhNYXRoLmFicyhsYXQpIC0gSEFMRl9QSSkgPD0gRVBTTE4pKSB7XG4gICAgICAgIHggPSB0aGlzLngwO1xuICAgICAgICBpZiAobGF0ID49IDApIHtcbiAgICAgICAgICB5ID0gdGhpcy55MCArIE1hdGguUEkgKiB0aGlzLlIgKiBNYXRoLnRhbigwLjUgKiB0aGV0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgeSA9IHRoaXMueTAgKyBNYXRoLlBJICogdGhpcy5SICogLU1hdGgudGFuKDAuNSAqIHRoZXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAgcmV0dXJuKE9LKTtcbiAgICAgIH1cbiAgICAgIHZhciBhbCA9IDAuNSAqIE1hdGguYWJzKChNYXRoLlBJIC8gZGxvbikgLSAoZGxvbiAvIE1hdGguUEkpKTtcbiAgICAgIHZhciBhc3EgPSBhbCAqIGFsO1xuICAgICAgdmFyIHNpbnRoID0gTWF0aC5zaW4odGhldGEpO1xuICAgICAgdmFyIGNvc3RoID0gTWF0aC5jb3ModGhldGEpO1xuXG4gICAgICB2YXIgZyA9IGNvc3RoIC8gKHNpbnRoICsgY29zdGggLSAxKTtcbiAgICAgIHZhciBnc3EgPSBnICogZztcbiAgICAgIHZhciBtID0gZyAqICgyIC8gc2ludGggLSAxKTtcbiAgICAgIHZhciBtc3EgPSBtICogbTtcbiAgICAgIHZhciBjb24gPSBNYXRoLlBJICogdGhpcy5SICogKGFsICogKGcgLSBtc3EpICsgTWF0aC5zcXJ0KGFzcSAqIChnIC0gbXNxKSAqIChnIC0gbXNxKSAtIChtc3EgKyBhc3EpICogKGdzcSAtIG1zcSkpKSAvIChtc3EgKyBhc3EpO1xuICAgICAgaWYgKGRsb24gPCAwKSB7XG4gICAgICAgIGNvbiA9IC1jb247XG4gICAgICB9XG4gICAgICB4ID0gdGhpcy54MCArIGNvbjtcbiAgICAgIC8vY29uID0gTWF0aC5hYnMoY29uIC8gKE1hdGguUEkgKiB0aGlzLlIpKTtcbiAgICAgIHZhciBxID0gYXNxICsgZztcbiAgICAgIGNvbiA9IE1hdGguUEkgKiB0aGlzLlIgKiAobSAqIHEgLSBhbCAqIE1hdGguc3FydCgobXNxICsgYXNxKSAqIChhc3EgKyAxKSAtIHEgKiBxKSkgLyAobXNxICsgYXNxKTtcbiAgICAgIGlmIChsYXQgPj0gMCkge1xuICAgICAgICAvL3kgPSB0aGlzLnkwICsgTWF0aC5QSSAqIHRoaXMuUiAqIE1hdGguc3FydCgxIC0gY29uICogY29uIC0gMiAqIGFsICogY29uKTtcbiAgICAgICAgeSA9IHRoaXMueTAgKyBjb247XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy95ID0gdGhpcy55MCAtIE1hdGguUEkgKiB0aGlzLlIgKiBNYXRoLnNxcnQoMSAtIGNvbiAqIGNvbiAtIDIgKiBhbCAqIGNvbik7XG4gICAgICAgIHkgPSB0aGlzLnkwIC0gY29uO1xuICAgICAgfVxuICAgICAgcC54ID0geDtcbiAgICAgIHAueSA9IHk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvKiBWYW4gRGVyIEdyaW50ZW4gaW52ZXJzZSBlcXVhdGlvbnMtLW1hcHBpbmcgeCx5IHRvIGxhdC9sb25nXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIGZ1bmN0aW9uIGludmVyc2UkMjMocCkge1xuICAgICAgdmFyIGxvbiwgbGF0O1xuICAgICAgdmFyIHh4LCB5eSwgeHlzLCBjMSwgYzIsIGMzO1xuICAgICAgdmFyIGExO1xuICAgICAgdmFyIG0xO1xuICAgICAgdmFyIGNvbjtcbiAgICAgIHZhciB0aDE7XG4gICAgICB2YXIgZDtcblxuICAgICAgLyogaW52ZXJzZSBlcXVhdGlvbnNcbiAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgcC54IC09IHRoaXMueDA7XG4gICAgICBwLnkgLT0gdGhpcy55MDtcbiAgICAgIGNvbiA9IE1hdGguUEkgKiB0aGlzLlI7XG4gICAgICB4eCA9IHAueCAvIGNvbjtcbiAgICAgIHl5ID0gcC55IC8gY29uO1xuICAgICAgeHlzID0geHggKiB4eCArIHl5ICogeXk7XG4gICAgICBjMSA9IC1NYXRoLmFicyh5eSkgKiAoMSArIHh5cyk7XG4gICAgICBjMiA9IGMxIC0gMiAqIHl5ICogeXkgKyB4eCAqIHh4O1xuICAgICAgYzMgPSAtMiAqIGMxICsgMSArIDIgKiB5eSAqIHl5ICsgeHlzICogeHlzO1xuICAgICAgZCA9IHl5ICogeXkgLyBjMyArICgyICogYzIgKiBjMiAqIGMyIC8gYzMgLyBjMyAvIGMzIC0gOSAqIGMxICogYzIgLyBjMyAvIGMzKSAvIDI3O1xuICAgICAgYTEgPSAoYzEgLSBjMiAqIGMyIC8gMyAvIGMzKSAvIGMzO1xuICAgICAgbTEgPSAyICogTWF0aC5zcXJ0KC1hMSAvIDMpO1xuICAgICAgY29uID0gKCgzICogZCkgLyBhMSkgLyBtMTtcbiAgICAgIGlmIChNYXRoLmFicyhjb24pID4gMSkge1xuICAgICAgICBpZiAoY29uID49IDApIHtcbiAgICAgICAgICBjb24gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbiA9IC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aDEgPSBNYXRoLmFjb3MoY29uKSAvIDM7XG4gICAgICBpZiAocC55ID49IDApIHtcbiAgICAgICAgbGF0ID0gKC1tMSAqIE1hdGguY29zKHRoMSArIE1hdGguUEkgLyAzKSAtIGMyIC8gMyAvIGMzKSAqIE1hdGguUEk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGF0ID0gLSgtbTEgKiBNYXRoLmNvcyh0aDEgKyBNYXRoLlBJIC8gMykgLSBjMiAvIDMgLyBjMykgKiBNYXRoLlBJO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoeHgpIDwgRVBTTE4pIHtcbiAgICAgICAgbG9uID0gdGhpcy5sb25nMDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLlBJICogKHh5cyAtIDEgKyBNYXRoLnNxcnQoMSArIDIgKiAoeHggKiB4eCAtIHl5ICogeXkpICsgeHlzICogeHlzKSkgLyAyIC8geHgpO1xuICAgICAgfVxuXG4gICAgICBwLnggPSBsb247XG4gICAgICBwLnkgPSBsYXQ7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkMjUgPSBbXCJWYW5fZGVyX0dyaW50ZW5fSVwiLCBcIlZhbkRlckdyaW50ZW5cIiwgXCJ2YW5kZ1wiXTtcbiAgICB2YXIgdmFuZGcgPSB7XG4gICAgICBpbml0OiBpbml0JDI0LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQyMyxcbiAgICAgIGludmVyc2U6IGludmVyc2UkMjMsXG4gICAgICBuYW1lczogbmFtZXMkMjVcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCQyNSgpIHtcbiAgICAgIHRoaXMuc2luX3AxMiA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICB0aGlzLmNvc19wMTIgPSBNYXRoLmNvcyh0aGlzLmxhdDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcndhcmQkMjQocCkge1xuICAgICAgdmFyIGxvbiA9IHAueDtcbiAgICAgIHZhciBsYXQgPSBwLnk7XG4gICAgICB2YXIgc2lucGhpID0gTWF0aC5zaW4ocC55KTtcbiAgICAgIHZhciBjb3NwaGkgPSBNYXRoLmNvcyhwLnkpO1xuICAgICAgdmFyIGRsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAgICAgdmFyIGUwLCBlMSwgZTIsIGUzLCBNbHAsIE1sLCB0YW5waGksIE5sMSwgTmwsIHBzaSwgQXosIEcsIEgsIEdILCBIcywgYywga3AsIGNvc19jLCBzLCBzMiwgczMsIHM0LCBzNTtcbiAgICAgIGlmICh0aGlzLnNwaGVyZSkge1xuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5zaW5fcDEyIC0gMSkgPD0gRVBTTE4pIHtcbiAgICAgICAgICAvL05vcnRoIFBvbGUgY2FzZVxuICAgICAgICAgIHAueCA9IHRoaXMueDAgKyB0aGlzLmEgKiAoSEFMRl9QSSAtIGxhdCkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgICAgICBwLnkgPSB0aGlzLnkwIC0gdGhpcy5hICogKEhBTEZfUEkgLSBsYXQpICogTWF0aC5jb3MoZGxvbik7XG4gICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoTWF0aC5hYnModGhpcy5zaW5fcDEyICsgMSkgPD0gRVBTTE4pIHtcbiAgICAgICAgICAvL1NvdXRoIFBvbGUgY2FzZVxuICAgICAgICAgIHAueCA9IHRoaXMueDAgKyB0aGlzLmEgKiAoSEFMRl9QSSArIGxhdCkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgICAgICBwLnkgPSB0aGlzLnkwICsgdGhpcy5hICogKEhBTEZfUEkgKyBsYXQpICogTWF0aC5jb3MoZGxvbik7XG4gICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy9kZWZhdWx0IGNhc2VcbiAgICAgICAgICBjb3NfYyA9IHRoaXMuc2luX3AxMiAqIHNpbnBoaSArIHRoaXMuY29zX3AxMiAqIGNvc3BoaSAqIE1hdGguY29zKGRsb24pO1xuICAgICAgICAgIGMgPSBNYXRoLmFjb3MoY29zX2MpO1xuICAgICAgICAgIGtwID0gYyA/IGMgLyBNYXRoLnNpbihjKSA6IDE7XG4gICAgICAgICAgcC54ID0gdGhpcy54MCArIHRoaXMuYSAqIGtwICogY29zcGhpICogTWF0aC5zaW4oZGxvbik7XG4gICAgICAgICAgcC55ID0gdGhpcy55MCArIHRoaXMuYSAqIGtwICogKHRoaXMuY29zX3AxMiAqIHNpbnBoaSAtIHRoaXMuc2luX3AxMiAqIGNvc3BoaSAqIE1hdGguY29zKGRsb24pKTtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGUwID0gZTBmbih0aGlzLmVzKTtcbiAgICAgICAgZTEgPSBlMWZuKHRoaXMuZXMpO1xuICAgICAgICBlMiA9IGUyZm4odGhpcy5lcyk7XG4gICAgICAgIGUzID0gZTNmbih0aGlzLmVzKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuc2luX3AxMiAtIDEpIDw9IEVQU0xOKSB7XG4gICAgICAgICAgLy9Ob3J0aCBQb2xlIGNhc2VcbiAgICAgICAgICBNbHAgPSB0aGlzLmEgKiBtbGZuKGUwLCBlMSwgZTIsIGUzLCBIQUxGX1BJKTtcbiAgICAgICAgICBNbCA9IHRoaXMuYSAqIG1sZm4oZTAsIGUxLCBlMiwgZTMsIGxhdCk7XG4gICAgICAgICAgcC54ID0gdGhpcy54MCArIChNbHAgLSBNbCkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgICAgICBwLnkgPSB0aGlzLnkwIC0gKE1scCAtIE1sKSAqIE1hdGguY29zKGRsb24pO1xuICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKHRoaXMuc2luX3AxMiArIDEpIDw9IEVQU0xOKSB7XG4gICAgICAgICAgLy9Tb3V0aCBQb2xlIGNhc2VcbiAgICAgICAgICBNbHAgPSB0aGlzLmEgKiBtbGZuKGUwLCBlMSwgZTIsIGUzLCBIQUxGX1BJKTtcbiAgICAgICAgICBNbCA9IHRoaXMuYSAqIG1sZm4oZTAsIGUxLCBlMiwgZTMsIGxhdCk7XG4gICAgICAgICAgcC54ID0gdGhpcy54MCArIChNbHAgKyBNbCkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgICAgICBwLnkgPSB0aGlzLnkwICsgKE1scCArIE1sKSAqIE1hdGguY29zKGRsb24pO1xuICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vRGVmYXVsdCBjYXNlXG4gICAgICAgICAgdGFucGhpID0gc2lucGhpIC8gY29zcGhpO1xuICAgICAgICAgIE5sMSA9IGdOKHRoaXMuYSwgdGhpcy5lLCB0aGlzLnNpbl9wMTIpO1xuICAgICAgICAgIE5sID0gZ04odGhpcy5hLCB0aGlzLmUsIHNpbnBoaSk7XG4gICAgICAgICAgcHNpID0gTWF0aC5hdGFuKCgxIC0gdGhpcy5lcykgKiB0YW5waGkgKyB0aGlzLmVzICogTmwxICogdGhpcy5zaW5fcDEyIC8gKE5sICogY29zcGhpKSk7XG4gICAgICAgICAgQXogPSBNYXRoLmF0YW4yKE1hdGguc2luKGRsb24pLCB0aGlzLmNvc19wMTIgKiBNYXRoLnRhbihwc2kpIC0gdGhpcy5zaW5fcDEyICogTWF0aC5jb3MoZGxvbikpO1xuICAgICAgICAgIGlmIChBeiA9PT0gMCkge1xuICAgICAgICAgICAgcyA9IE1hdGguYXNpbih0aGlzLmNvc19wMTIgKiBNYXRoLnNpbihwc2kpIC0gdGhpcy5zaW5fcDEyICogTWF0aC5jb3MocHNpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKE1hdGguYWJzKEF6KSAtIE1hdGguUEkpIDw9IEVQU0xOKSB7XG4gICAgICAgICAgICBzID0gLU1hdGguYXNpbih0aGlzLmNvc19wMTIgKiBNYXRoLnNpbihwc2kpIC0gdGhpcy5zaW5fcDEyICogTWF0aC5jb3MocHNpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcyA9IE1hdGguYXNpbihNYXRoLnNpbihkbG9uKSAqIE1hdGguY29zKHBzaSkgLyBNYXRoLnNpbihBeikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBHID0gdGhpcy5lICogdGhpcy5zaW5fcDEyIC8gTWF0aC5zcXJ0KDEgLSB0aGlzLmVzKTtcbiAgICAgICAgICBIID0gdGhpcy5lICogdGhpcy5jb3NfcDEyICogTWF0aC5jb3MoQXopIC8gTWF0aC5zcXJ0KDEgLSB0aGlzLmVzKTtcbiAgICAgICAgICBHSCA9IEcgKiBIO1xuICAgICAgICAgIEhzID0gSCAqIEg7XG4gICAgICAgICAgczIgPSBzICogcztcbiAgICAgICAgICBzMyA9IHMyICogcztcbiAgICAgICAgICBzNCA9IHMzICogcztcbiAgICAgICAgICBzNSA9IHM0ICogcztcbiAgICAgICAgICBjID0gTmwxICogcyAqICgxIC0gczIgKiBIcyAqICgxIC0gSHMpIC8gNiArIHMzIC8gOCAqIEdIICogKDEgLSAyICogSHMpICsgczQgLyAxMjAgKiAoSHMgKiAoNCAtIDcgKiBIcykgLSAzICogRyAqIEcgKiAoMSAtIDcgKiBIcykpIC0gczUgLyA0OCAqIEdIKTtcbiAgICAgICAgICBwLnggPSB0aGlzLngwICsgYyAqIE1hdGguc2luKEF6KTtcbiAgICAgICAgICBwLnkgPSB0aGlzLnkwICsgYyAqIE1hdGguY29zKEF6KTtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDI0KHApIHtcbiAgICAgIHAueCAtPSB0aGlzLngwO1xuICAgICAgcC55IC09IHRoaXMueTA7XG4gICAgICB2YXIgcmgsIHosIHNpbnosIGNvc3osIGxvbiwgbGF0LCBjb24sIGUwLCBlMSwgZTIsIGUzLCBNbHAsIE0sIE4xLCBwc2ksIEF6LCBjb3NBeiwgdG1wLCBBLCBCLCBELCBFZSwgRiwgc2lucHNpO1xuICAgICAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgICAgIHJoID0gTWF0aC5zcXJ0KHAueCAqIHAueCArIHAueSAqIHAueSk7XG4gICAgICAgIGlmIChyaCA+ICgyICogSEFMRl9QSSAqIHRoaXMuYSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgeiA9IHJoIC8gdGhpcy5hO1xuXG4gICAgICAgIHNpbnogPSBNYXRoLnNpbih6KTtcbiAgICAgICAgY29zeiA9IE1hdGguY29zKHopO1xuXG4gICAgICAgIGxvbiA9IHRoaXMubG9uZzA7XG4gICAgICAgIGlmIChNYXRoLmFicyhyaCkgPD0gRVBTTE4pIHtcbiAgICAgICAgICBsYXQgPSB0aGlzLmxhdDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGF0ID0gYXNpbnooY29zeiAqIHRoaXMuc2luX3AxMiArIChwLnkgKiBzaW56ICogdGhpcy5jb3NfcDEyKSAvIHJoKTtcbiAgICAgICAgICBjb24gPSBNYXRoLmFicyh0aGlzLmxhdDApIC0gSEFMRl9QSTtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoY29uKSA8PSBFUFNMTikge1xuICAgICAgICAgICAgaWYgKHRoaXMubGF0MCA+PSAwKSB7XG4gICAgICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXRhbjIocC54LCAtIHAueSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCAtIE1hdGguYXRhbjIoLXAueCwgcC55KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLypjb24gPSBjb3N6IC0gdGhpcy5zaW5fcDEyICogTWF0aC5zaW4obGF0KTtcbiAgICAgICAgICAgIGlmICgoTWF0aC5hYnMoY29uKSA8IEVQU0xOKSAmJiAoTWF0aC5hYnMocC54KSA8IEVQU0xOKSkge1xuICAgICAgICAgICAgICAvL25vLW9wLCBqdXN0IGtlZXAgdGhlIGxvbiB2YWx1ZSBhcyBpc1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBNYXRoLmF0YW4yKChwLnggKiBzaW56ICogdGhpcy5jb3NfcDEyKSwgKGNvbiAqIHJoKSk7XG4gICAgICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXRhbjIoKHAueCAqIHNpbnogKiB0aGlzLmNvc19wMTIpLCAoY29uICogcmgpKSk7XG4gICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXRhbjIocC54ICogc2lueiwgcmggKiB0aGlzLmNvc19wMTIgKiBjb3N6IC0gcC55ICogdGhpcy5zaW5fcDEyICogc2lueikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAueCA9IGxvbjtcbiAgICAgICAgcC55ID0gbGF0O1xuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBlMCA9IGUwZm4odGhpcy5lcyk7XG4gICAgICAgIGUxID0gZTFmbih0aGlzLmVzKTtcbiAgICAgICAgZTIgPSBlMmZuKHRoaXMuZXMpO1xuICAgICAgICBlMyA9IGUzZm4odGhpcy5lcyk7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnNpbl9wMTIgLSAxKSA8PSBFUFNMTikge1xuICAgICAgICAgIC8vTm9ydGggcG9sZSBjYXNlXG4gICAgICAgICAgTWxwID0gdGhpcy5hICogbWxmbihlMCwgZTEsIGUyLCBlMywgSEFMRl9QSSk7XG4gICAgICAgICAgcmggPSBNYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KTtcbiAgICAgICAgICBNID0gTWxwIC0gcmg7XG4gICAgICAgICAgbGF0ID0gaW1sZm4oTSAvIHRoaXMuYSwgZTAsIGUxLCBlMiwgZTMpO1xuICAgICAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXRhbjIocC54LCAtIDEgKiBwLnkpKTtcbiAgICAgICAgICBwLnggPSBsb247XG4gICAgICAgICAgcC55ID0gbGF0O1xuICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKHRoaXMuc2luX3AxMiArIDEpIDw9IEVQU0xOKSB7XG4gICAgICAgICAgLy9Tb3V0aCBwb2xlIGNhc2VcbiAgICAgICAgICBNbHAgPSB0aGlzLmEgKiBtbGZuKGUwLCBlMSwgZTIsIGUzLCBIQUxGX1BJKTtcbiAgICAgICAgICByaCA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgICAgICAgIE0gPSByaCAtIE1scDtcblxuICAgICAgICAgIGxhdCA9IGltbGZuKE0gLyB0aGlzLmEsIGUwLCBlMSwgZTIsIGUzKTtcbiAgICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKHAueCwgcC55KSk7XG4gICAgICAgICAgcC54ID0gbG9uO1xuICAgICAgICAgIHAueSA9IGxhdDtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvL2RlZmF1bHQgY2FzZVxuICAgICAgICAgIHJoID0gTWF0aC5zcXJ0KHAueCAqIHAueCArIHAueSAqIHAueSk7XG4gICAgICAgICAgQXogPSBNYXRoLmF0YW4yKHAueCwgcC55KTtcbiAgICAgICAgICBOMSA9IGdOKHRoaXMuYSwgdGhpcy5lLCB0aGlzLnNpbl9wMTIpO1xuICAgICAgICAgIGNvc0F6ID0gTWF0aC5jb3MoQXopO1xuICAgICAgICAgIHRtcCA9IHRoaXMuZSAqIHRoaXMuY29zX3AxMiAqIGNvc0F6O1xuICAgICAgICAgIEEgPSAtdG1wICogdG1wIC8gKDEgLSB0aGlzLmVzKTtcbiAgICAgICAgICBCID0gMyAqIHRoaXMuZXMgKiAoMSAtIEEpICogdGhpcy5zaW5fcDEyICogdGhpcy5jb3NfcDEyICogY29zQXogLyAoMSAtIHRoaXMuZXMpO1xuICAgICAgICAgIEQgPSByaCAvIE4xO1xuICAgICAgICAgIEVlID0gRCAtIEEgKiAoMSArIEEpICogTWF0aC5wb3coRCwgMykgLyA2IC0gQiAqICgxICsgMyAqIEEpICogTWF0aC5wb3coRCwgNCkgLyAyNDtcbiAgICAgICAgICBGID0gMSAtIEEgKiBFZSAqIEVlIC8gMiAtIEQgKiBFZSAqIEVlICogRWUgLyA2O1xuICAgICAgICAgIHBzaSA9IE1hdGguYXNpbih0aGlzLnNpbl9wMTIgKiBNYXRoLmNvcyhFZSkgKyB0aGlzLmNvc19wMTIgKiBNYXRoLnNpbihFZSkgKiBjb3NBeik7XG4gICAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hc2luKE1hdGguc2luKEF6KSAqIE1hdGguc2luKEVlKSAvIE1hdGguY29zKHBzaSkpKTtcbiAgICAgICAgICBzaW5wc2kgPSBNYXRoLnNpbihwc2kpO1xuICAgICAgICAgIGxhdCA9IE1hdGguYXRhbjIoKHNpbnBzaSAtIHRoaXMuZXMgKiBGICogdGhpcy5zaW5fcDEyKSAqIE1hdGgudGFuKHBzaSksIHNpbnBzaSAqICgxIC0gdGhpcy5lcykpO1xuICAgICAgICAgIHAueCA9IGxvbjtcbiAgICAgICAgICBwLnkgPSBsYXQ7XG4gICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH1cblxuICAgIHZhciBuYW1lcyQyNiA9IFtcIkF6aW11dGhhbF9FcXVpZGlzdGFudFwiLCBcImFlcWRcIl07XG4gICAgdmFyIGFlcWQgPSB7XG4gICAgICBpbml0OiBpbml0JDI1LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQyNCxcbiAgICAgIGludmVyc2U6IGludmVyc2UkMjQsXG4gICAgICBuYW1lczogbmFtZXMkMjZcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCQyNigpIHtcbiAgICAgIC8vZG91YmxlIHRlbXA7ICAgICAgLyogdGVtcG9yYXJ5IHZhcmlhYmxlICAgICovXG5cbiAgICAgIC8qIFBsYWNlIHBhcmFtZXRlcnMgaW4gc3RhdGljIHN0b3JhZ2UgZm9yIGNvbW1vbiB1c2VcbiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgIHRoaXMuc2luX3AxNCA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICB0aGlzLmNvc19wMTQgPSBNYXRoLmNvcyh0aGlzLmxhdDApO1xuICAgIH1cblxuICAgIC8qIE9ydGhvZ3JhcGhpYyBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDI1KHApIHtcbiAgICAgIHZhciBzaW5waGksIGNvc3BoaTsgLyogc2luIGFuZCBjb3MgdmFsdWUgICAgICAgICovXG4gICAgICB2YXIgZGxvbjsgLyogZGVsdGEgbG9uZ2l0dWRlIHZhbHVlICAgICAgKi9cbiAgICAgIHZhciBjb3Nsb247IC8qIGNvcyBvZiBsb25naXR1ZGUgICAgICAgICovXG4gICAgICB2YXIga3NwOyAvKiBzY2FsZSBmYWN0b3IgICAgICAgICAgKi9cbiAgICAgIHZhciBnLCB4LCB5O1xuICAgICAgdmFyIGxvbiA9IHAueDtcbiAgICAgIHZhciBsYXQgPSBwLnk7XG4gICAgICAvKiBGb3J3YXJkIGVxdWF0aW9uc1xuICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgIGRsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuXG4gICAgICBzaW5waGkgPSBNYXRoLnNpbihsYXQpO1xuICAgICAgY29zcGhpID0gTWF0aC5jb3MobGF0KTtcblxuICAgICAgY29zbG9uID0gTWF0aC5jb3MoZGxvbik7XG4gICAgICBnID0gdGhpcy5zaW5fcDE0ICogc2lucGhpICsgdGhpcy5jb3NfcDE0ICogY29zcGhpICogY29zbG9uO1xuICAgICAga3NwID0gMTtcbiAgICAgIGlmICgoZyA+IDApIHx8IChNYXRoLmFicyhnKSA8PSBFUFNMTikpIHtcbiAgICAgICAgeCA9IHRoaXMuYSAqIGtzcCAqIGNvc3BoaSAqIE1hdGguc2luKGRsb24pO1xuICAgICAgICB5ID0gdGhpcy55MCArIHRoaXMuYSAqIGtzcCAqICh0aGlzLmNvc19wMTQgKiBzaW5waGkgLSB0aGlzLnNpbl9wMTQgKiBjb3NwaGkgKiBjb3Nsb24pO1xuICAgICAgfVxuICAgICAgcC54ID0geDtcbiAgICAgIHAueSA9IHk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZlcnNlJDI1KHApIHtcbiAgICAgIHZhciByaDsgLyogaGVpZ2h0IGFib3ZlIGVsbGlwc29pZCAgICAgICovXG4gICAgICB2YXIgejsgLyogYW5nbGUgICAgICAgICAgKi9cbiAgICAgIHZhciBzaW56LCBjb3N6OyAvKiBzaW4gb2YgeiBhbmQgY29zIG9mIHogICAgICAqL1xuICAgICAgdmFyIGNvbjtcbiAgICAgIHZhciBsb24sIGxhdDtcbiAgICAgIC8qIEludmVyc2UgZXF1YXRpb25zXG4gICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgcC54IC09IHRoaXMueDA7XG4gICAgICBwLnkgLT0gdGhpcy55MDtcbiAgICAgIHJoID0gTWF0aC5zcXJ0KHAueCAqIHAueCArIHAueSAqIHAueSk7XG4gICAgICB6ID0gYXNpbnoocmggLyB0aGlzLmEpO1xuXG4gICAgICBzaW56ID0gTWF0aC5zaW4oeik7XG4gICAgICBjb3N6ID0gTWF0aC5jb3Moeik7XG5cbiAgICAgIGxvbiA9IHRoaXMubG9uZzA7XG4gICAgICBpZiAoTWF0aC5hYnMocmgpIDw9IEVQU0xOKSB7XG4gICAgICAgIGxhdCA9IHRoaXMubGF0MDtcbiAgICAgICAgcC54ID0gbG9uO1xuICAgICAgICBwLnkgPSBsYXQ7XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfVxuICAgICAgbGF0ID0gYXNpbnooY29zeiAqIHRoaXMuc2luX3AxNCArIChwLnkgKiBzaW56ICogdGhpcy5jb3NfcDE0KSAvIHJoKTtcbiAgICAgIGNvbiA9IE1hdGguYWJzKHRoaXMubGF0MCkgLSBIQUxGX1BJO1xuICAgICAgaWYgKE1hdGguYWJzKGNvbikgPD0gRVBTTE4pIHtcbiAgICAgICAgaWYgKHRoaXMubGF0MCA+PSAwKSB7XG4gICAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hdGFuMihwLngsIC0gcC55KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwIC0gTWF0aC5hdGFuMigtcC54LCBwLnkpKTtcbiAgICAgICAgfVxuICAgICAgICBwLnggPSBsb247XG4gICAgICAgIHAueSA9IGxhdDtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9XG4gICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKChwLnggKiBzaW56KSwgcmggKiB0aGlzLmNvc19wMTQgKiBjb3N6IC0gcC55ICogdGhpcy5zaW5fcDE0ICogc2lueikpO1xuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVzJDI3ID0gW1wib3J0aG9cIl07XG4gICAgdmFyIG9ydGhvID0ge1xuICAgICAgaW5pdDogaW5pdCQyNixcbiAgICAgIGZvcndhcmQ6IGZvcndhcmQkMjUsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDI1LFxuICAgICAgbmFtZXM6IG5hbWVzJDI3XG4gICAgfTtcblxuICAgIC8vIFFTQyBwcm9qZWN0aW9uIHJld3JpdHRlbiBmcm9tIHRoZSBvcmlnaW5hbCBQUk9KNFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PU0dlby9wcm9qLjQvYmxvYi9tYXN0ZXIvc3JjL1BKX3FzYy5jXG5cbiAgICAvKiBjb25zdGFudHMgKi9cbiAgICB2YXIgRkFDRV9FTlVNID0ge1xuICAgICAgICBGUk9OVDogMSxcbiAgICAgICAgUklHSFQ6IDIsXG4gICAgICAgIEJBQ0s6IDMsXG4gICAgICAgIExFRlQ6IDQsXG4gICAgICAgIFRPUDogNSxcbiAgICAgICAgQk9UVE9NOiA2XG4gICAgfTtcblxuICAgIHZhciBBUkVBX0VOVU0gPSB7XG4gICAgICAgIEFSRUFfMDogMSxcbiAgICAgICAgQVJFQV8xOiAyLFxuICAgICAgICBBUkVBXzI6IDMsXG4gICAgICAgIEFSRUFfMzogNFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbml0JDI3KCkge1xuXG4gICAgICB0aGlzLngwID0gdGhpcy54MCB8fCAwO1xuICAgICAgdGhpcy55MCA9IHRoaXMueTAgfHwgMDtcbiAgICAgIHRoaXMubGF0MCA9IHRoaXMubGF0MCB8fCAwO1xuICAgICAgdGhpcy5sb25nMCA9IHRoaXMubG9uZzAgfHwgMDtcbiAgICAgIHRoaXMubGF0X3RzID0gdGhpcy5sYXRfdHMgfHwgMDtcbiAgICAgIHRoaXMudGl0bGUgPSB0aGlzLnRpdGxlIHx8IFwiUXVhZHJpbGF0ZXJhbGl6ZWQgU3BoZXJpY2FsIEN1YmVcIjtcblxuICAgICAgLyogRGV0ZXJtaW5lIHRoZSBjdWJlIGZhY2UgZnJvbSB0aGUgY2VudGVyIG9mIHByb2plY3Rpb24uICovXG4gICAgICBpZiAodGhpcy5sYXQwID49IEhBTEZfUEkgLSBGT1JUUEkgLyAyLjApIHtcbiAgICAgICAgdGhpcy5mYWNlID0gRkFDRV9FTlVNLlRPUDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXQwIDw9IC0oSEFMRl9QSSAtIEZPUlRQSSAvIDIuMCkpIHtcbiAgICAgICAgdGhpcy5mYWNlID0gRkFDRV9FTlVNLkJPVFRPTTtcbiAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModGhpcy5sb25nMCkgPD0gRk9SVFBJKSB7XG4gICAgICAgIHRoaXMuZmFjZSA9IEZBQ0VfRU5VTS5GUk9OVDtcbiAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModGhpcy5sb25nMCkgPD0gSEFMRl9QSSArIEZPUlRQSSkge1xuICAgICAgICB0aGlzLmZhY2UgPSB0aGlzLmxvbmcwID4gMC4wID8gRkFDRV9FTlVNLlJJR0hUIDogRkFDRV9FTlVNLkxFRlQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZhY2UgPSBGQUNFX0VOVU0uQkFDSztcbiAgICAgIH1cblxuICAgICAgLyogRmlsbCBpbiB1c2VmdWwgdmFsdWVzIGZvciB0aGUgZWxsaXBzb2lkIDwtPiBzcGhlcmUgc2hpZnRcbiAgICAgICAqIGRlc2NyaWJlZCBpbiBbTEsxMl0uICovXG4gICAgICBpZiAodGhpcy5lcyAhPT0gMCkge1xuICAgICAgICB0aGlzLm9uZV9taW51c19mID0gMSAtICh0aGlzLmEgLSB0aGlzLmIpIC8gdGhpcy5hO1xuICAgICAgICB0aGlzLm9uZV9taW51c19mX3NxdWFyZWQgPSB0aGlzLm9uZV9taW51c19mICogdGhpcy5vbmVfbWludXNfZjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBRU0MgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbiBmb3J3YXJkJDI2KHApIHtcbiAgICAgIHZhciB4eSA9IHt4OiAwLCB5OiAwfTtcbiAgICAgIHZhciBsYXQsIGxvbjtcbiAgICAgIHZhciB0aGV0YSwgcGhpO1xuICAgICAgdmFyIHQsIG11O1xuICAgICAgLyogbnU7ICovXG4gICAgICB2YXIgYXJlYSA9IHt2YWx1ZTogMH07XG5cbiAgICAgIC8vIG1vdmUgbG9uIGFjY29yZGluZyB0byBwcm9qZWN0aW9uJ3MgbG9uXG4gICAgICBwLnggLT0gdGhpcy5sb25nMDtcblxuICAgICAgLyogQ29udmVydCB0aGUgZ2VvZGV0aWMgbGF0aXR1ZGUgdG8gYSBnZW9jZW50cmljIGxhdGl0dWRlLlxuICAgICAgICogVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgc2hpZnQgZnJvbSB0aGUgZWxsaXBzb2lkIHRvIHRoZSBzcGhlcmVcbiAgICAgICAqIGRlc2NyaWJlZCBpbiBbTEsxMl0uICovXG4gICAgICBpZiAodGhpcy5lcyAhPT0gMCkgey8vaWYgKFAtPmVzICE9IDApIHtcbiAgICAgICAgbGF0ID0gTWF0aC5hdGFuKHRoaXMub25lX21pbnVzX2Zfc3F1YXJlZCAqIE1hdGgudGFuKHAueSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF0ID0gcC55O1xuICAgICAgfVxuXG4gICAgICAvKiBDb252ZXJ0IHRoZSBpbnB1dCBsYXQsIGxvbiBpbnRvIHRoZXRhLCBwaGkgYXMgdXNlZCBieSBRU0MuXG4gICAgICAgKiBUaGlzIGRlcGVuZHMgb24gdGhlIGN1YmUgZmFjZSBhbmQgdGhlIGFyZWEgb24gaXQuXG4gICAgICAgKiBGb3IgdGhlIHRvcCBhbmQgYm90dG9tIGZhY2UsIHdlIGNhbiBjb21wdXRlIHRoZXRhIGFuZCBwaGlcbiAgICAgICAqIGRpcmVjdGx5IGZyb20gcGhpLCBsYW0uIEZvciB0aGUgb3RoZXIgZmFjZXMsIHdlIG11c3QgdXNlXG4gICAgICAgKiB1bml0IHNwaGVyZSBjYXJ0ZXNpYW4gY29vcmRpbmF0ZXMgYXMgYW4gaW50ZXJtZWRpYXRlIHN0ZXAuICovXG4gICAgICBsb24gPSBwLng7IC8vbG9uID0gbHAubGFtO1xuICAgICAgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLlRPUCkge1xuICAgICAgICBwaGkgPSBIQUxGX1BJIC0gbGF0O1xuICAgICAgICBpZiAobG9uID49IEZPUlRQSSAmJiBsb24gPD0gSEFMRl9QSSArIEZPUlRQSSkge1xuICAgICAgICAgIGFyZWEudmFsdWUgPSBBUkVBX0VOVU0uQVJFQV8wO1xuICAgICAgICAgIHRoZXRhID0gbG9uIC0gSEFMRl9QSTtcbiAgICAgICAgfSBlbHNlIGlmIChsb24gPiBIQUxGX1BJICsgRk9SVFBJIHx8IGxvbiA8PSAtKEhBTEZfUEkgKyBGT1JUUEkpKSB7XG4gICAgICAgICAgYXJlYS52YWx1ZSA9IEFSRUFfRU5VTS5BUkVBXzE7XG4gICAgICAgICAgdGhldGEgPSAobG9uID4gMC4wID8gbG9uIC0gU1BJIDogbG9uICsgU1BJKTtcbiAgICAgICAgfSBlbHNlIGlmIChsb24gPiAtKEhBTEZfUEkgKyBGT1JUUEkpICYmIGxvbiA8PSAtRk9SVFBJKSB7XG4gICAgICAgICAgYXJlYS52YWx1ZSA9IEFSRUFfRU5VTS5BUkVBXzI7XG4gICAgICAgICAgdGhldGEgPSBsb24gKyBIQUxGX1BJO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyZWEudmFsdWUgPSBBUkVBX0VOVU0uQVJFQV8zO1xuICAgICAgICAgIHRoZXRhID0gbG9uO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkJPVFRPTSkge1xuICAgICAgICBwaGkgPSBIQUxGX1BJICsgbGF0O1xuICAgICAgICBpZiAobG9uID49IEZPUlRQSSAmJiBsb24gPD0gSEFMRl9QSSArIEZPUlRQSSkge1xuICAgICAgICAgIGFyZWEudmFsdWUgPSBBUkVBX0VOVU0uQVJFQV8wO1xuICAgICAgICAgIHRoZXRhID0gLWxvbiArIEhBTEZfUEk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9uIDwgRk9SVFBJICYmIGxvbiA+PSAtRk9SVFBJKSB7XG4gICAgICAgICAgYXJlYS52YWx1ZSA9IEFSRUFfRU5VTS5BUkVBXzE7XG4gICAgICAgICAgdGhldGEgPSAtbG9uO1xuICAgICAgICB9IGVsc2UgaWYgKGxvbiA8IC1GT1JUUEkgJiYgbG9uID49IC0oSEFMRl9QSSArIEZPUlRQSSkpIHtcbiAgICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMjtcbiAgICAgICAgICB0aGV0YSA9IC1sb24gLSBIQUxGX1BJO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyZWEudmFsdWUgPSBBUkVBX0VOVU0uQVJFQV8zO1xuICAgICAgICAgIHRoZXRhID0gKGxvbiA+IDAuMCA/IC1sb24gKyBTUEkgOiAtbG9uIC0gU1BJKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHEsIHIsIHM7XG4gICAgICAgIHZhciBzaW5sYXQsIGNvc2xhdDtcbiAgICAgICAgdmFyIHNpbmxvbiwgY29zbG9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZhY2UgPT09IEZBQ0VfRU5VTS5SSUdIVCkge1xuICAgICAgICAgIGxvbiA9IHFzY19zaGlmdF9sb25fb3JpZ2luKGxvbiwgK0hBTEZfUEkpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkJBQ0spIHtcbiAgICAgICAgICBsb24gPSBxc2Nfc2hpZnRfbG9uX29yaWdpbihsb24sICtTUEkpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkxFRlQpIHtcbiAgICAgICAgICBsb24gPSBxc2Nfc2hpZnRfbG9uX29yaWdpbihsb24sIC1IQUxGX1BJKTtcbiAgICAgICAgfVxuICAgICAgICBzaW5sYXQgPSBNYXRoLnNpbihsYXQpO1xuICAgICAgICBjb3NsYXQgPSBNYXRoLmNvcyhsYXQpO1xuICAgICAgICBzaW5sb24gPSBNYXRoLnNpbihsb24pO1xuICAgICAgICBjb3Nsb24gPSBNYXRoLmNvcyhsb24pO1xuICAgICAgICBxID0gY29zbGF0ICogY29zbG9uO1xuICAgICAgICByID0gY29zbGF0ICogc2lubG9uO1xuICAgICAgICBzID0gc2lubGF0O1xuXG4gICAgICAgIGlmICh0aGlzLmZhY2UgPT09IEZBQ0VfRU5VTS5GUk9OVCkge1xuICAgICAgICAgIHBoaSA9IE1hdGguYWNvcyhxKTtcbiAgICAgICAgICB0aGV0YSA9IHFzY19md2RfZXF1YXRfZmFjZV90aGV0YShwaGksIHMsIHIsIGFyZWEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLlJJR0hUKSB7XG4gICAgICAgICAgcGhpID0gTWF0aC5hY29zKHIpO1xuICAgICAgICAgIHRoZXRhID0gcXNjX2Z3ZF9lcXVhdF9mYWNlX3RoZXRhKHBoaSwgcywgLXEsIGFyZWEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkJBQ0spIHtcbiAgICAgICAgICBwaGkgPSBNYXRoLmFjb3MoLXEpO1xuICAgICAgICAgIHRoZXRhID0gcXNjX2Z3ZF9lcXVhdF9mYWNlX3RoZXRhKHBoaSwgcywgLXIsIGFyZWEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkxFRlQpIHtcbiAgICAgICAgICBwaGkgPSBNYXRoLmFjb3MoLXIpO1xuICAgICAgICAgIHRoZXRhID0gcXNjX2Z3ZF9lcXVhdF9mYWNlX3RoZXRhKHBoaSwgcywgcSwgYXJlYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLyogSW1wb3NzaWJsZSAqL1xuICAgICAgICAgIHBoaSA9IHRoZXRhID0gMDtcbiAgICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBDb21wdXRlIG11IGFuZCBudSBmb3IgdGhlIGFyZWEgb2YgZGVmaW5pdGlvbi5cbiAgICAgICAqIEZvciBtdSwgc2VlIEVxLiAoMy0yMSkgaW4gW09MNzZdLCBidXQgbm90ZSB0aGUgdHlwb3M6XG4gICAgICAgKiBjb21wYXJlIHdpdGggRXEuICgzLTE0KS4gRm9yIG51LCBzZWUgRXEuICgzLTM4KS4gKi9cbiAgICAgIG11ID0gTWF0aC5hdGFuKCgxMiAvIFNQSSkgKiAodGhldGEgKyBNYXRoLmFjb3MoTWF0aC5zaW4odGhldGEpICogTWF0aC5jb3MoRk9SVFBJKSkgLSBIQUxGX1BJKSk7XG4gICAgICB0ID0gTWF0aC5zcXJ0KCgxIC0gTWF0aC5jb3MocGhpKSkgLyAoTWF0aC5jb3MobXUpICogTWF0aC5jb3MobXUpKSAvICgxIC0gTWF0aC5jb3MoTWF0aC5hdGFuKDEgLyBNYXRoLmNvcyh0aGV0YSkpKSkpO1xuXG4gICAgICAvKiBBcHBseSB0aGUgcmVzdWx0IHRvIHRoZSByZWFsIGFyZWEuICovXG4gICAgICBpZiAoYXJlYS52YWx1ZSA9PT0gQVJFQV9FTlVNLkFSRUFfMSkge1xuICAgICAgICBtdSArPSBIQUxGX1BJO1xuICAgICAgfSBlbHNlIGlmIChhcmVhLnZhbHVlID09PSBBUkVBX0VOVU0uQVJFQV8yKSB7XG4gICAgICAgIG11ICs9IFNQSTtcbiAgICAgIH0gZWxzZSBpZiAoYXJlYS52YWx1ZSA9PT0gQVJFQV9FTlVNLkFSRUFfMykge1xuICAgICAgICBtdSArPSAxLjUgKiBTUEk7XG4gICAgICB9XG5cbiAgICAgIC8qIE5vdyBjb21wdXRlIHgsIHkgZnJvbSBtdSBhbmQgbnUgKi9cbiAgICAgIHh5LnggPSB0ICogTWF0aC5jb3MobXUpO1xuICAgICAgeHkueSA9IHQgKiBNYXRoLnNpbihtdSk7XG4gICAgICB4eS54ID0geHkueCAqIHRoaXMuYSArIHRoaXMueDA7XG4gICAgICB4eS55ID0geHkueSAqIHRoaXMuYSArIHRoaXMueTA7XG5cbiAgICAgIHAueCA9IHh5Lng7XG4gICAgICBwLnkgPSB4eS55O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgLy8gUVNDIGludmVyc2UgZXF1YXRpb25zLS1tYXBwaW5nIHgseSB0byBsYXQvbG9uZ1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQyNihwKSB7XG4gICAgICB2YXIgbHAgPSB7bGFtOiAwLCBwaGk6IDB9O1xuICAgICAgdmFyIG11LCBudSwgY29zbXUsIHRhbm51O1xuICAgICAgdmFyIHRhbnRoZXRhLCB0aGV0YSwgY29zcGhpLCBwaGk7XG4gICAgICB2YXIgdDtcbiAgICAgIHZhciBhcmVhID0ge3ZhbHVlOiAwfTtcblxuICAgICAgLyogZGUtb2Zmc2V0ICovXG4gICAgICBwLnggPSAocC54IC0gdGhpcy54MCkgLyB0aGlzLmE7XG4gICAgICBwLnkgPSAocC55IC0gdGhpcy55MCkgLyB0aGlzLmE7XG5cbiAgICAgIC8qIENvbnZlcnQgdGhlIGlucHV0IHgsIHkgdG8gdGhlIG11IGFuZCBudSBhbmdsZXMgYXMgdXNlZCBieSBRU0MuXG4gICAgICAgKiBUaGlzIGRlcGVuZHMgb24gdGhlIGFyZWEgb2YgdGhlIGN1YmUgZmFjZS4gKi9cbiAgICAgIG51ID0gTWF0aC5hdGFuKE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpKTtcbiAgICAgIG11ID0gTWF0aC5hdGFuMihwLnksIHAueCk7XG4gICAgICBpZiAocC54ID49IDAuMCAmJiBwLnggPj0gTWF0aC5hYnMocC55KSkge1xuICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMDtcbiAgICAgIH0gZWxzZSBpZiAocC55ID49IDAuMCAmJiBwLnkgPj0gTWF0aC5hYnMocC54KSkge1xuICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMTtcbiAgICAgICAgbXUgLT0gSEFMRl9QSTtcbiAgICAgIH0gZWxzZSBpZiAocC54IDwgMC4wICYmIC1wLnggPj0gTWF0aC5hYnMocC55KSkge1xuICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMjtcbiAgICAgICAgbXUgPSAobXUgPCAwLjAgPyBtdSArIFNQSSA6IG11IC0gU1BJKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZWEudmFsdWUgPSBBUkVBX0VOVU0uQVJFQV8zO1xuICAgICAgICBtdSArPSBIQUxGX1BJO1xuICAgICAgfVxuXG4gICAgICAvKiBDb21wdXRlIHBoaSBhbmQgdGhldGEgZm9yIHRoZSBhcmVhIG9mIGRlZmluaXRpb24uXG4gICAgICAgKiBUaGUgaW52ZXJzZSBwcm9qZWN0aW9uIGlzIG5vdCBkZXNjcmliZWQgaW4gdGhlIG9yaWdpbmFsIHBhcGVyLCBidXQgc29tZVxuICAgICAgICogZ29vZCBoaW50cyBjYW4gYmUgZm91bmQgaGVyZSAoYXMgb2YgMjAxMS0xMi0xNCk6XG4gICAgICAgKiBodHRwOi8vZml0cy5nc2ZjLm5hc2EuZ292L2ZpdHNiaXRzL3NhZi45My9zYWYuOTMwMlxuICAgICAgICogKHNlYXJjaCBmb3IgXCJNZXNzYWdlLUlkOiA8OTMwMjE4MTc1OS5BQTI1NDc3IGF0IGZpdHMuY3YubnJhby5lZHU+XCIpICovXG4gICAgICB0ID0gKFNQSSAvIDEyKSAqIE1hdGgudGFuKG11KTtcbiAgICAgIHRhbnRoZXRhID0gTWF0aC5zaW4odCkgLyAoTWF0aC5jb3ModCkgLSAoMSAvIE1hdGguc3FydCgyKSkpO1xuICAgICAgdGhldGEgPSBNYXRoLmF0YW4odGFudGhldGEpO1xuICAgICAgY29zbXUgPSBNYXRoLmNvcyhtdSk7XG4gICAgICB0YW5udSA9IE1hdGgudGFuKG51KTtcbiAgICAgIGNvc3BoaSA9IDEgLSBjb3NtdSAqIGNvc211ICogdGFubnUgKiB0YW5udSAqICgxIC0gTWF0aC5jb3MoTWF0aC5hdGFuKDEgLyBNYXRoLmNvcyh0aGV0YSkpKSk7XG4gICAgICBpZiAoY29zcGhpIDwgLTEpIHtcbiAgICAgICAgY29zcGhpID0gLTE7XG4gICAgICB9IGVsc2UgaWYgKGNvc3BoaSA+ICsxKSB7XG4gICAgICAgIGNvc3BoaSA9ICsxO1xuICAgICAgfVxuXG4gICAgICAvKiBBcHBseSB0aGUgcmVzdWx0IHRvIHRoZSByZWFsIGFyZWEgb24gdGhlIGN1YmUgZmFjZS5cbiAgICAgICAqIEZvciB0aGUgdG9wIGFuZCBib3R0b20gZmFjZSwgd2UgY2FuIGNvbXB1dGUgcGhpIGFuZCBsYW0gZGlyZWN0bHkuXG4gICAgICAgKiBGb3IgdGhlIG90aGVyIGZhY2VzLCB3ZSBtdXN0IHVzZSB1bml0IHNwaGVyZSBjYXJ0ZXNpYW4gY29vcmRpbmF0ZXNcbiAgICAgICAqIGFzIGFuIGludGVybWVkaWF0ZSBzdGVwLiAqL1xuICAgICAgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLlRPUCkge1xuICAgICAgICBwaGkgPSBNYXRoLmFjb3MoY29zcGhpKTtcbiAgICAgICAgbHAucGhpID0gSEFMRl9QSSAtIHBoaTtcbiAgICAgICAgaWYgKGFyZWEudmFsdWUgPT09IEFSRUFfRU5VTS5BUkVBXzApIHtcbiAgICAgICAgICBscC5sYW0gPSB0aGV0YSArIEhBTEZfUEk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJlYS52YWx1ZSA9PT0gQVJFQV9FTlVNLkFSRUFfMSkge1xuICAgICAgICAgIGxwLmxhbSA9ICh0aGV0YSA8IDAuMCA/IHRoZXRhICsgU1BJIDogdGhldGEgLSBTUEkpO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZWEudmFsdWUgPT09IEFSRUFfRU5VTS5BUkVBXzIpIHtcbiAgICAgICAgICBscC5sYW0gPSB0aGV0YSAtIEhBTEZfUEk7XG4gICAgICAgIH0gZWxzZSAvKiBhcmVhLnZhbHVlID09IEFSRUFfRU5VTS5BUkVBXzMgKi8ge1xuICAgICAgICAgIGxwLmxhbSA9IHRoZXRhO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkJPVFRPTSkge1xuICAgICAgICBwaGkgPSBNYXRoLmFjb3MoY29zcGhpKTtcbiAgICAgICAgbHAucGhpID0gcGhpIC0gSEFMRl9QSTtcbiAgICAgICAgaWYgKGFyZWEudmFsdWUgPT09IEFSRUFfRU5VTS5BUkVBXzApIHtcbiAgICAgICAgICBscC5sYW0gPSAtdGhldGEgKyBIQUxGX1BJO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZWEudmFsdWUgPT09IEFSRUFfRU5VTS5BUkVBXzEpIHtcbiAgICAgICAgICBscC5sYW0gPSAtdGhldGE7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJlYS52YWx1ZSA9PT0gQVJFQV9FTlVNLkFSRUFfMikge1xuICAgICAgICAgIGxwLmxhbSA9IC10aGV0YSAtIEhBTEZfUEk7XG4gICAgICAgIH0gZWxzZSAvKiBhcmVhLnZhbHVlID09IEFSRUFfRU5VTS5BUkVBXzMgKi8ge1xuICAgICAgICAgIGxwLmxhbSA9ICh0aGV0YSA8IDAuMCA/IC10aGV0YSAtIFNQSSA6IC10aGV0YSArIFNQSSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIENvbXB1dGUgcGhpIGFuZCBsYW0gdmlhIGNhcnRlc2lhbiB1bml0IHNwaGVyZSBjb29yZGluYXRlcy4gKi9cbiAgICAgICAgdmFyIHEsIHIsIHM7XG4gICAgICAgIHEgPSBjb3NwaGk7XG4gICAgICAgIHQgPSBxICogcTtcbiAgICAgICAgaWYgKHQgPj0gMSkge1xuICAgICAgICAgIHMgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMgPSBNYXRoLnNxcnQoMSAtIHQpICogTWF0aC5zaW4odGhldGEpO1xuICAgICAgICB9XG4gICAgICAgIHQgKz0gcyAqIHM7XG4gICAgICAgIGlmICh0ID49IDEpIHtcbiAgICAgICAgICByID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByID0gTWF0aC5zcXJ0KDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBSb3RhdGUgcSxyLHMgaW50byB0aGUgY29ycmVjdCBhcmVhLiAqL1xuICAgICAgICBpZiAoYXJlYS52YWx1ZSA9PT0gQVJFQV9FTlVNLkFSRUFfMSkge1xuICAgICAgICAgIHQgPSByO1xuICAgICAgICAgIHIgPSAtcztcbiAgICAgICAgICBzID0gdDtcbiAgICAgICAgfSBlbHNlIGlmIChhcmVhLnZhbHVlID09PSBBUkVBX0VOVU0uQVJFQV8yKSB7XG4gICAgICAgICAgciA9IC1yO1xuICAgICAgICAgIHMgPSAtcztcbiAgICAgICAgfSBlbHNlIGlmIChhcmVhLnZhbHVlID09PSBBUkVBX0VOVU0uQVJFQV8zKSB7XG4gICAgICAgICAgdCA9IHI7XG4gICAgICAgICAgciA9IHM7XG4gICAgICAgICAgcyA9IC10O1xuICAgICAgICB9XG4gICAgICAgIC8qIFJvdGF0ZSBxLHIscyBpbnRvIHRoZSBjb3JyZWN0IGN1YmUgZmFjZS4gKi9cbiAgICAgICAgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLlJJR0hUKSB7XG4gICAgICAgICAgdCA9IHE7XG4gICAgICAgICAgcSA9IC1yO1xuICAgICAgICAgIHIgPSB0O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkJBQ0spIHtcbiAgICAgICAgICBxID0gLXE7XG4gICAgICAgICAgciA9IC1yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmFjZSA9PT0gRkFDRV9FTlVNLkxFRlQpIHtcbiAgICAgICAgICB0ID0gcTtcbiAgICAgICAgICBxID0gcjtcbiAgICAgICAgICByID0gLXQ7XG4gICAgICAgIH1cbiAgICAgICAgLyogTm93IGNvbXB1dGUgcGhpIGFuZCBsYW0gZnJvbSB0aGUgdW5pdCBzcGhlcmUgY29vcmRpbmF0ZXMuICovXG4gICAgICAgIGxwLnBoaSA9IE1hdGguYWNvcygtcykgLSBIQUxGX1BJO1xuICAgICAgICBscC5sYW0gPSBNYXRoLmF0YW4yKHIsIHEpO1xuICAgICAgICBpZiAodGhpcy5mYWNlID09PSBGQUNFX0VOVU0uUklHSFQpIHtcbiAgICAgICAgICBscC5sYW0gPSBxc2Nfc2hpZnRfbG9uX29yaWdpbihscC5sYW0sIC1IQUxGX1BJKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZhY2UgPT09IEZBQ0VfRU5VTS5CQUNLKSB7XG4gICAgICAgICAgbHAubGFtID0gcXNjX3NoaWZ0X2xvbl9vcmlnaW4obHAubGFtLCAtU1BJKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZhY2UgPT09IEZBQ0VfRU5VTS5MRUZUKSB7XG4gICAgICAgICAgbHAubGFtID0gcXNjX3NoaWZ0X2xvbl9vcmlnaW4obHAubGFtLCArSEFMRl9QSSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogQXBwbHkgdGhlIHNoaWZ0IGZyb20gdGhlIHNwaGVyZSB0byB0aGUgZWxsaXBzb2lkIGFzIGRlc2NyaWJlZFxuICAgICAgICogaW4gW0xLMTJdLiAqL1xuICAgICAgaWYgKHRoaXMuZXMgIT09IDApIHtcbiAgICAgICAgdmFyIGludmVydF9zaWduO1xuICAgICAgICB2YXIgdGFucGhpLCB4YTtcbiAgICAgICAgaW52ZXJ0X3NpZ24gPSAobHAucGhpIDwgMCA/IDEgOiAwKTtcbiAgICAgICAgdGFucGhpID0gTWF0aC50YW4obHAucGhpKTtcbiAgICAgICAgeGEgPSB0aGlzLmIgLyBNYXRoLnNxcnQodGFucGhpICogdGFucGhpICsgdGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKTtcbiAgICAgICAgbHAucGhpID0gTWF0aC5hdGFuKE1hdGguc3FydCh0aGlzLmEgKiB0aGlzLmEgLSB4YSAqIHhhKSAvICh0aGlzLm9uZV9taW51c19mICogeGEpKTtcbiAgICAgICAgaWYgKGludmVydF9zaWduKSB7XG4gICAgICAgICAgbHAucGhpID0gLWxwLnBoaTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBscC5sYW0gKz0gdGhpcy5sb25nMDtcbiAgICAgIHAueCA9IGxwLmxhbTtcbiAgICAgIHAueSA9IGxwLnBoaTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qIEhlbHBlciBmdW5jdGlvbiBmb3IgZm9yd2FyZCBwcm9qZWN0aW9uOiBjb21wdXRlIHRoZSB0aGV0YSBhbmdsZVxuICAgICAqIGFuZCBkZXRlcm1pbmUgdGhlIGFyZWEgbnVtYmVyLiAqL1xuICAgIGZ1bmN0aW9uIHFzY19md2RfZXF1YXRfZmFjZV90aGV0YShwaGksIHksIHgsIGFyZWEpIHtcbiAgICAgIHZhciB0aGV0YTtcbiAgICAgIGlmIChwaGkgPCBFUFNMTikge1xuICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMDtcbiAgICAgICAgdGhldGEgPSAwLjA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGV0YSA9IE1hdGguYXRhbjIoeSwgeCk7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGV0YSkgPD0gRk9SVFBJKSB7XG4gICAgICAgICAgYXJlYS52YWx1ZSA9IEFSRUFfRU5VTS5BUkVBXzA7XG4gICAgICAgIH0gZWxzZSBpZiAodGhldGEgPiBGT1JUUEkgJiYgdGhldGEgPD0gSEFMRl9QSSArIEZPUlRQSSkge1xuICAgICAgICAgIGFyZWEudmFsdWUgPSBBUkVBX0VOVU0uQVJFQV8xO1xuICAgICAgICAgIHRoZXRhIC09IEhBTEZfUEk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhldGEgPiBIQUxGX1BJICsgRk9SVFBJIHx8IHRoZXRhIDw9IC0oSEFMRl9QSSArIEZPUlRQSSkpIHtcbiAgICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMjtcbiAgICAgICAgICB0aGV0YSA9ICh0aGV0YSA+PSAwLjAgPyB0aGV0YSAtIFNQSSA6IHRoZXRhICsgU1BJKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcmVhLnZhbHVlID0gQVJFQV9FTlVNLkFSRUFfMztcbiAgICAgICAgICB0aGV0YSArPSBIQUxGX1BJO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhldGE7XG4gICAgfVxuXG4gICAgLyogSGVscGVyIGZ1bmN0aW9uOiBzaGlmdCB0aGUgbG9uZ2l0dWRlLiAqL1xuICAgIGZ1bmN0aW9uIHFzY19zaGlmdF9sb25fb3JpZ2luKGxvbiwgb2Zmc2V0KSB7XG4gICAgICB2YXIgc2xvbiA9IGxvbiArIG9mZnNldDtcbiAgICAgIGlmIChzbG9uIDwgLVNQSSkge1xuICAgICAgICBzbG9uICs9IFRXT19QSTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvbiA+ICtTUEkpIHtcbiAgICAgICAgc2xvbiAtPSBUV09fUEk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2xvbjtcbiAgICB9XG5cbiAgICB2YXIgbmFtZXMkMjggPSBbXCJRdWFkcmlsYXRlcmFsaXplZCBTcGhlcmljYWwgQ3ViZVwiLCBcIlF1YWRyaWxhdGVyYWxpemVkX1NwaGVyaWNhbF9DdWJlXCIsIFwicXNjXCJdO1xuICAgIHZhciBxc2MgPSB7XG4gICAgICBpbml0OiBpbml0JDI3LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCQyNixcbiAgICAgIGludmVyc2U6IGludmVyc2UkMjYsXG4gICAgICBuYW1lczogbmFtZXMkMjhcbiAgICB9O1xuXG4gICAgLy8gUm9iaW5zb24gcHJvamVjdGlvblxuICAgIC8vIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9PU0dlby9wcm9qLjQvYmxvYi9tYXN0ZXIvc3JjL1BKX3JvYmluLmNcbiAgICAvLyBQb2x5bm9taWFsIGNvZWZpY2llbnRzIGZyb20gaHR0cDovL2FydGljbGUuZ21hbmUub3JnL2dtYW5lLmNvbXAuZ2lzLnByb2otNC5kZXZlbC82MDM5XG5cbiAgICB2YXIgQ09FRlNfWCA9IFtcbiAgICAgICAgWzEuMDAwMCwgMi4yMTk5ZS0xNywgLTcuMTU1MTVlLTA1LCAzLjExMDNlLTA2XSxcbiAgICAgICAgWzAuOTk4NiwgLTAuMDAwNDgyMjQzLCAtMi40ODk3ZS0wNSwgLTEuMzMwOWUtMDZdLFxuICAgICAgICBbMC45OTU0LCAtMC4wMDA4MzEwMywgLTQuNDg2MDVlLTA1LCAtOS44NjcwMWUtMDddLFxuICAgICAgICBbMC45OTAwLCAtMC4wMDEzNTM2NCwgLTUuOTY2MWUtMDUsIDMuNjc3N2UtMDZdLFxuICAgICAgICBbMC45ODIyLCAtMC4wMDE2NzQ0MiwgLTQuNDk1NDdlLTA2LCAtNS43MjQxMWUtMDZdLFxuICAgICAgICBbMC45NzMwLCAtMC4wMDIxNDg2OCwgLTkuMDM1NzFlLTA1LCAxLjg3MzZlLTA4XSxcbiAgICAgICAgWzAuOTYwMCwgLTAuMDAzMDUwODUsIC05LjAwNzYxZS0wNSwgMS42NDkxN2UtMDZdLFxuICAgICAgICBbMC45NDI3LCAtMC4wMDM4Mjc5MiwgLTYuNTMzODZlLTA1LCAtMi42MTU0ZS0wNl0sXG4gICAgICAgIFswLjkyMTYsIC0wLjAwNDY3NzQ2LCAtMC4wMDAxMDQ1NywgNC44MTI0M2UtMDZdLFxuICAgICAgICBbMC44OTYyLCAtMC4wMDUzNjIyMywgLTMuMjM4MzFlLTA1LCAtNS40MzQzMmUtMDZdLFxuICAgICAgICBbMC44Njc5LCAtMC4wMDYwOTM2MywgLTAuMDAwMTEzODk4LCAzLjMyNDg0ZS0wNl0sXG4gICAgICAgIFswLjgzNTAsIC0wLjAwNjk4MzI1LCAtNi40MDI1M2UtMDUsIDkuMzQ5NTllLTA3XSxcbiAgICAgICAgWzAuNzk4NiwgLTAuMDA3NTUzMzgsIC01LjAwMDA5ZS0wNSwgOS4zNTMyNGUtMDddLFxuICAgICAgICBbMC43NTk3LCAtMC4wMDc5ODMyNCwgLTMuNTk3MWUtMDUsIC0yLjI3NjI2ZS0wNl0sXG4gICAgICAgIFswLjcxODYsIC0wLjAwODUxMzY3LCAtNy4wMTE0OWUtMDUsIC04LjYzMDNlLTA2XSxcbiAgICAgICAgWzAuNjczMiwgLTAuMDA5ODYyMDksIC0wLjAwMDE5OTU2OSwgMS45MTk3NGUtMDVdLFxuICAgICAgICBbMC42MjEzLCAtMC4wMTA0MTgsIDguODM5MjNlLTA1LCA2LjI0MDUxZS0wNl0sXG4gICAgICAgIFswLjU3MjIsIC0wLjAwOTA2NjAxLCAwLjAwMDE4MiwgNi4yNDA1MWUtMDZdLFxuICAgICAgICBbMC41MzIyLCAtMC4wMDY3Nzc5NywgMC4wMDAyNzU2MDgsIDYuMjQwNTFlLTA2XVxuICAgIF07XG5cbiAgICB2YXIgQ09FRlNfWSA9IFtcbiAgICAgICAgWy01LjIwNDE3ZS0xOCwgMC4wMTI0LCAxLjIxNDMxZS0xOCwgLTguNDUyODRlLTExXSxcbiAgICAgICAgWzAuMDYyMCwgMC4wMTI0LCAtMS4yNjc5M2UtMDksIDQuMjI2NDJlLTEwXSxcbiAgICAgICAgWzAuMTI0MCwgMC4wMTI0LCA1LjA3MTcxZS0wOSwgLTEuNjA2MDRlLTA5XSxcbiAgICAgICAgWzAuMTg2MCwgMC4wMTIzOTk5LCAtMS45MDE4OWUtMDgsIDYuMDAxNTJlLTA5XSxcbiAgICAgICAgWzAuMjQ4MCwgMC4wMTI0MDAyLCA3LjEwMDM5ZS0wOCwgLTIuMjRlLTA4XSxcbiAgICAgICAgWzAuMzEwMCwgMC4wMTIzOTkyLCAtMi42NDk5N2UtMDcsIDguMzU5ODZlLTA4XSxcbiAgICAgICAgWzAuMzcyMCwgMC4wMTI0MDI5LCA5Ljg4OTgzZS0wNywgLTMuMTE5OTRlLTA3XSxcbiAgICAgICAgWzAuNDM0MCwgMC4wMTIzODkzLCAtMy42OTA5M2UtMDYsIC00LjM1NjIxZS0wN10sXG4gICAgICAgIFswLjQ5NTgsIDAuMDEyMzE5OCwgLTEuMDIyNTJlLTA1LCAtMy40NTUyM2UtMDddLFxuICAgICAgICBbMC41NTcxLCAwLjAxMjE5MTYsIC0xLjU0MDgxZS0wNSwgLTUuODIyODhlLTA3XSxcbiAgICAgICAgWzAuNjE3NiwgMC4wMTE5OTM4LCAtMi40MTQyNGUtMDUsIC01LjI1MzI3ZS0wN10sXG4gICAgICAgIFswLjY3NjksIDAuMDExNzEzLCAtMy4yMDIyM2UtMDUsIC01LjE2NDA1ZS0wN10sXG4gICAgICAgIFswLjczNDYsIDAuMDExMzU0MSwgLTMuOTc2ODRlLTA1LCAtNi4wOTA1MmUtMDddLFxuICAgICAgICBbMC43OTAzLCAwLjAxMDkxMDcsIC00Ljg5MDQyZS0wNSwgLTEuMDQ3MzllLTA2XSxcbiAgICAgICAgWzAuODQzNSwgMC4wMTAzNDMxLCAtNi40NjE1ZS0wNSwgLTEuNDAzNzRlLTA5XSxcbiAgICAgICAgWzAuODkzNiwgMC4wMDk2OTY4NiwgLTYuNDYzNmUtMDUsIC04LjU0N2UtMDZdLFxuICAgICAgICBbMC45Mzk0LCAwLjAwODQwOTQ3LCAtMC4wMDAxOTI4NDEsIC00LjIxMDZlLTA2XSxcbiAgICAgICAgWzAuOTc2MSwgMC4wMDYxNjUyNywgLTAuMDAwMjU2LCAtNC4yMTA2ZS0wNl0sXG4gICAgICAgIFsxLjAwMDAsIDAuMDAzMjg5NDcsIC0wLjAwMDMxOTE1OSwgLTQuMjEwNmUtMDZdXG4gICAgXTtcblxuICAgIHZhciBGWEMgPSAwLjg0ODc7XG4gICAgdmFyIEZZQyA9IDEuMzUyMztcbiAgICB2YXIgQzEgPSBSMkQvNTsgLy8gcmFkIHRvIDUtZGVncmVlIGludGVydmFsXG4gICAgdmFyIFJDMSA9IDEvQzE7XG4gICAgdmFyIE5PREVTID0gMTg7XG5cbiAgICB2YXIgcG9seTNfdmFsID0gZnVuY3Rpb24oY29lZnMsIHgpIHtcbiAgICAgICAgcmV0dXJuIGNvZWZzWzBdICsgeCAqIChjb2Vmc1sxXSArIHggKiAoY29lZnNbMl0gKyB4ICogY29lZnNbM10pKTtcbiAgICB9O1xuXG4gICAgdmFyIHBvbHkzX2RlciA9IGZ1bmN0aW9uKGNvZWZzLCB4KSB7XG4gICAgICAgIHJldHVybiBjb2Vmc1sxXSArIHggKiAoMiAqIGNvZWZzWzJdICsgeCAqIDMgKiBjb2Vmc1szXSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG5ld3Rvbl9yYXBzaG9uKGZfZGYsIHN0YXJ0LCBtYXhfZXJyLCBpdGVycykge1xuICAgICAgICB2YXIgeCA9IHN0YXJ0O1xuICAgICAgICBmb3IgKDsgaXRlcnM7IC0taXRlcnMpIHtcbiAgICAgICAgICAgIHZhciB1cGQgPSBmX2RmKHgpO1xuICAgICAgICAgICAgeCAtPSB1cGQ7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModXBkKSA8IG1heF9lcnIpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0JDI4KCkge1xuICAgICAgICB0aGlzLngwID0gdGhpcy54MCB8fCAwO1xuICAgICAgICB0aGlzLnkwID0gdGhpcy55MCB8fCAwO1xuICAgICAgICB0aGlzLmxvbmcwID0gdGhpcy5sb25nMCB8fCAwO1xuICAgICAgICB0aGlzLmVzID0gMDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMudGl0bGUgfHwgXCJSb2JpbnNvblwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcndhcmQkMjcobGwpIHtcbiAgICAgICAgdmFyIGxvbiA9IGFkanVzdF9sb24obGwueCAtIHRoaXMubG9uZzApO1xuXG4gICAgICAgIHZhciBkcGhpID0gTWF0aC5hYnMobGwueSk7XG4gICAgICAgIHZhciBpID0gTWF0aC5mbG9vcihkcGhpICogQzEpO1xuICAgICAgICBpZiAoaSA8IDApIHtcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPj0gTk9ERVMpIHtcbiAgICAgICAgICAgIGkgPSBOT0RFUyAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZHBoaSA9IFIyRCAqIChkcGhpIC0gUkMxICogaSk7XG4gICAgICAgIHZhciB4eSA9IHtcbiAgICAgICAgICAgIHg6IHBvbHkzX3ZhbChDT0VGU19YW2ldLCBkcGhpKSAqIGxvbixcbiAgICAgICAgICAgIHk6IHBvbHkzX3ZhbChDT0VGU19ZW2ldLCBkcGhpKVxuICAgICAgICB9O1xuICAgICAgICBpZiAobGwueSA8IDApIHtcbiAgICAgICAgICAgIHh5LnkgPSAteHkueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHh5LnggPSB4eS54ICogdGhpcy5hICogRlhDICsgdGhpcy54MDtcbiAgICAgICAgeHkueSA9IHh5LnkgKiB0aGlzLmEgKiBGWUMgKyB0aGlzLnkwO1xuICAgICAgICByZXR1cm4geHk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQyNyh4eSkge1xuICAgICAgICB2YXIgbGwgPSB7XG4gICAgICAgICAgICB4OiAoeHkueCAtIHRoaXMueDApIC8gKHRoaXMuYSAqIEZYQyksXG4gICAgICAgICAgICB5OiBNYXRoLmFicyh4eS55IC0gdGhpcy55MCkgLyAodGhpcy5hICogRllDKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChsbC55ID49IDEpIHsgLy8gcGF0aG9sb2dpYyBjYXNlXG4gICAgICAgICAgICBsbC54IC89IENPRUZTX1hbTk9ERVNdWzBdO1xuICAgICAgICAgICAgbGwueSA9IHh5LnkgPCAwID8gLUhBTEZfUEkgOiBIQUxGX1BJO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmluZCB0YWJsZSBpbnRlcnZhbFxuICAgICAgICAgICAgdmFyIGkgPSBNYXRoLmZsb29yKGxsLnkgKiBOT0RFUyk7XG4gICAgICAgICAgICBpZiAoaSA8IDApIHtcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+PSBOT0RFUykge1xuICAgICAgICAgICAgICAgIGkgPSBOT0RFUyAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKENPRUZTX1lbaV1bMF0gPiBsbC55KSB7XG4gICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKENPRUZTX1lbaSsxXVswXSA8PSBsbC55KSB7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaW5lYXIgaW50ZXJwb2xhdGlvbiBpbiA1IGRlZ3JlZSBpbnRlcnZhbFxuICAgICAgICAgICAgdmFyIGNvZWZzID0gQ09FRlNfWVtpXTtcbiAgICAgICAgICAgIHZhciB0ID0gNSAqIChsbC55IC0gY29lZnNbMF0pIC8gKENPRUZTX1lbaSsxXVswXSAtIGNvZWZzWzBdKTtcbiAgICAgICAgICAgIC8vIGZpbmQgdCBzbyB0aGF0IHBvbHkzX3ZhbChjb2VmcywgdCkgPSBsbC55XG4gICAgICAgICAgICB0ID0gbmV3dG9uX3JhcHNob24oZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAocG9seTNfdmFsKGNvZWZzLCB4KSAtIGxsLnkpIC8gcG9seTNfZGVyKGNvZWZzLCB4KTtcbiAgICAgICAgICAgIH0sIHQsIEVQU0xOLCAxMDApO1xuXG4gICAgICAgICAgICBsbC54IC89IHBvbHkzX3ZhbChDT0VGU19YW2ldLCB0KTtcbiAgICAgICAgICAgIGxsLnkgPSAoNSAqIGkgKyB0KSAqIEQyUjtcbiAgICAgICAgICAgIGlmICh4eS55IDwgMCkge1xuICAgICAgICAgICAgICAgIGxsLnkgPSAtbGwueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxsLnggPSBhZGp1c3RfbG9uKGxsLnggKyB0aGlzLmxvbmcwKTtcbiAgICAgICAgcmV0dXJuIGxsO1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQyOSA9IFtcIlJvYmluc29uXCIsIFwicm9iaW5cIl07XG4gICAgdmFyIHJvYmluID0ge1xuICAgICAgaW5pdDogaW5pdCQyOCxcbiAgICAgIGZvcndhcmQ6IGZvcndhcmQkMjcsXG4gICAgICBpbnZlcnNlOiBpbnZlcnNlJDI3LFxuICAgICAgbmFtZXM6IG5hbWVzJDI5XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXQkMjkoKSB7XG4gICAgICAgIHRoaXMubmFtZSA9ICdnZW9jZW50JztcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcndhcmQkMjgocCkge1xuICAgICAgICB2YXIgcG9pbnQgPSBnZW9kZXRpY1RvR2VvY2VudHJpYyhwLCB0aGlzLmVzLCB0aGlzLmEpO1xuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52ZXJzZSQyOChwKSB7XG4gICAgICAgIHZhciBwb2ludCA9IGdlb2NlbnRyaWNUb0dlb2RldGljKHAsIHRoaXMuZXMsIHRoaXMuYSwgdGhpcy5iKTtcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIHZhciBuYW1lcyQzMCA9IFtcIkdlb2NlbnRyaWNcIiwgJ2dlb2NlbnRyaWMnLCBcImdlb2NlbnRcIiwgXCJHZW9jZW50XCJdO1xuICAgIHZhciBnZW9jZW50ID0ge1xuICAgICAgICBpbml0OiBpbml0JDI5LFxuICAgICAgICBmb3J3YXJkOiBmb3J3YXJkJDI4LFxuICAgICAgICBpbnZlcnNlOiBpbnZlcnNlJDI4LFxuICAgICAgICBuYW1lczogbmFtZXMkMzBcbiAgICB9O1xuXG4gICAgdmFyIGluY2x1ZGVkUHJvamVjdGlvbnMgPSBmdW5jdGlvbihwcm9qNCl7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZCh0bWVyYyk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChldG1lcmMpO1xuICAgICAgcHJvajQuUHJvai5wcm9qZWN0aW9ucy5hZGQodXRtKTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKHN0ZXJlYSk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChzdGVyZSk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChzb21lcmMpO1xuICAgICAgcHJvajQuUHJvai5wcm9qZWN0aW9ucy5hZGQob21lcmMpO1xuICAgICAgcHJvajQuUHJvai5wcm9qZWN0aW9ucy5hZGQobGNjKTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKGtyb3Zhayk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChjYXNzKTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKGxhZWEpO1xuICAgICAgcHJvajQuUHJvai5wcm9qZWN0aW9ucy5hZGQoYWVhKTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKGdub20pO1xuICAgICAgcHJvajQuUHJvai5wcm9qZWN0aW9ucy5hZGQoY2VhKTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKGVxYyk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChwb2x5KTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKG56bWcpO1xuICAgICAgcHJvajQuUHJvai5wcm9qZWN0aW9ucy5hZGQobWlsbCk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChzaW51KTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKG1vbGwpO1xuICAgICAgcHJvajQuUHJvai5wcm9qZWN0aW9ucy5hZGQoZXFkYyk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZCh2YW5kZyk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChhZXFkKTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKG9ydGhvKTtcbiAgICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKHFzYyk7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChyb2Jpbik7XG4gICAgICBwcm9qNC5Qcm9qLnByb2plY3Rpb25zLmFkZChnZW9jZW50KTtcbiAgICB9O1xuXG4gICAgcHJvajQkMS5kZWZhdWx0RGF0dW0gPSAnV0dTODQnOyAvL2RlZmF1bHQgZGF0dW1cbiAgICBwcm9qNCQxLlByb2ogPSBQcm9qZWN0aW9uO1xuICAgIHByb2o0JDEuV0dTODQgPSBuZXcgcHJvajQkMS5Qcm9qKCdXR1M4NCcpO1xuICAgIHByb2o0JDEuUG9pbnQgPSBQb2ludDtcbiAgICBwcm9qNCQxLnRvUG9pbnQgPSB0b1BvaW50O1xuICAgIHByb2o0JDEuZGVmcyA9IGRlZnM7XG4gICAgcHJvajQkMS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgcHJvajQkMS5tZ3JzID0gbWdycztcbiAgICBwcm9qNCQxLnZlcnNpb24gPSAnMi42LjInO1xuICAgIGluY2x1ZGVkUHJvamVjdGlvbnMocHJvajQkMSk7XG5cbiAgICByZXR1cm4gcHJvajQkMTtcblxufSkpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/proj4/dist/proj4-src.js\n");

/***/ }),

/***/ "./node_modules/proj4/dist/proj4-src.js-exposed":
/*!******************************************************!*\
  !*** ./node_modules/proj4/dist/proj4-src.js-exposed ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"proj4\"] = __webpack_require__(/*! -!./proj4-src.js */ \"./node_modules/proj4/dist/proj4-src.js\");\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9wcm9qNC9kaXN0L3Byb2o0LXNyYy5qcy1leHBvc2VkPzkzMzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUZBQW1DLG1CQUFPLENBQUMsZ0VBQWtCLEUiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvajQvZGlzdC9wcm9qNC1zcmMuanMtZXhwb3NlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wicHJvajRcIl0gPSByZXF1aXJlKFwiLSEuL3Byb2o0LXNyYy5qc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/proj4/dist/proj4-src.js-exposed\n");

/***/ }),

/***/ "./node_modules/sortablejs/Sortable.js":
/*!*********************************************!*\
  !*** ./node_modules/sortablejs/Sortable.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\n\telse {}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window === \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScrolls = [],\n\t\tscrolling = false,\n\n\t\tawaitingDragStarted = false,\n\t\tignoreNextClick = false,\n\t\tsortables = [],\n\n\t\tpointerElemChangedInterval,\n\t\tlastPointerElemX,\n\t\tlastPointerElemY,\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\n\t\tlastTarget,\n\t\tlastDirection,\n\t\tpastFirstInvertThresh = false,\n\t\tisCircumstantialInvert = false,\n\t\tlastMode, // 'swap' or 'insert'\n\n\t\ttargetMoveDistance,\n\n\t\t// For positioning ghost absolutely\n\t\tghostRelativeParent,\n\t\tghostRelativeParentInitialScroll = [], // (left, top)\n\n\n\t\tforRepaintDummy,\n\t\trealDragElRect, // dragEl rect after current animation\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\t\tsetTimeout = win.setTimeout,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = {\n\t\t\tcapture: false,\n\t\t\tpassive: false\n\t\t},\n\n\t\tIE11OrLess = !!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\\.|msie|iemobile)/i),\n\t\tEdge = !!navigator.userAgent.match(/Edge/i),\n\t\tFireFox = !!navigator.userAgent.match(/firefox/i),\n\t\tSafari = !!(navigator.userAgent.match(/safari/i) && !navigator.userAgent.match(/chrome/i) && !navigator.userAgent.match(/android/i)),\n\t\tIOS = !!(navigator.userAgent.match(/iP(ad|od|hone)/i)),\n\n\t\tPositionGhostAbsolutely = IOS,\n\n\t\tCSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n\n\t\t// This will not pass for IE9, because IE9 DnD only works on anchors\n\t\tsupportDraggable = ('draggable' in document.createElement('div')),\n\n\t\tsupportCssPointerEvents = (function() {\n\t\t\t// false when <= IE11\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar el = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\t\t_alignedSilent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\t\tmax = Math.max,\n\n\t\tsavedInputChecked = [],\n\n\t\t_detectDirection = function(el, options) {\n\t\t\tvar elCSS = _css(el),\n\t\t\t\telWidth = parseInt(elCSS.width)\n\t\t\t\t\t- parseInt(elCSS.paddingLeft)\n\t\t\t\t\t- parseInt(elCSS.paddingRight)\n\t\t\t\t\t- parseInt(elCSS.borderLeftWidth)\n\t\t\t\t\t- parseInt(elCSS.borderRightWidth),\n\t\t\t\tchild1 = _getChild(el, 0, options),\n\t\t\t\tchild2 = _getChild(el, 1, options),\n\t\t\t\tfirstChildCSS = child1 && _css(child1),\n\t\t\t\tsecondChildCSS = child2 && _css(child2),\n\t\t\t\tfirstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + _getRect(child1).width,\n\t\t\t\tsecondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + _getRect(child2).width;\n\n\t\t\tif (elCSS.display === 'flex') {\n\t\t\t\treturn elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse'\n\t\t\t\t? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (elCSS.display === 'grid') {\n\t\t\t\treturn elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (child1 && firstChildCSS.float !== 'none') {\n\t\t\t\tvar touchingSideChild2 = firstChildCSS.float === 'left' ? 'left' : 'right';\n\n\t\t\t\treturn child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ?\n\t\t\t\t\t'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\treturn (child1 &&\n\t\t\t\t(\n\t\t\t\t\tfirstChildCSS.display === 'block' ||\n\t\t\t\t\tfirstChildCSS.display === 'flex' ||\n\t\t\t\t\tfirstChildCSS.display === 'table' ||\n\t\t\t\t\tfirstChildCSS.display === 'grid' ||\n\t\t\t\t\tfirstChildWidth >= elWidth &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' ||\n\t\t\t\t\tchild2 &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' &&\n\t\t\t\t\tfirstChildWidth + secondChildWidth > elWidth\n\t\t\t\t) ?\n\t\t\t\t'vertical' : 'horizontal'\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n\t\t * @param  {Number} x      X position\n\t\t * @param  {Number} y      Y position\n\t\t * @return {HTMLElement}   Element of the first found nearest Sortable\n\t\t */\n\t\t_detectNearestEmptySortable = function(x, y) {\n\t\t\tfor (var i = 0; i < sortables.length; i++) {\n\t\t\t\tif (_lastChild(sortables[i])) continue;\n\n\t\t\t\tvar rect = _getRect(sortables[i]),\n\t\t\t\t\tthreshold = sortables[i][expando].options.emptyInsertThreshold,\n\t\t\t\t\tinsideHorizontally = x >= (rect.left - threshold) && x <= (rect.right + threshold),\n\t\t\t\t\tinsideVertically = y >= (rect.top - threshold) && y <= (rect.bottom + threshold);\n\n\t\t\t\tif (insideHorizontally && insideVertically) {\n\t\t\t\t\treturn sortables[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_isClientInRowColumn = function(x, y, el, axis, options) {\n\t\t\tvar targetRect = _getRect(el),\n\t\t\t\ttargetS1Opp = axis === 'vertical' ? targetRect.left : targetRect.top,\n\t\t\t\ttargetS2Opp = axis === 'vertical' ? targetRect.right : targetRect.bottom,\n\t\t\t\tmouseOnOppAxis = axis === 'vertical' ? x : y;\n\n\t\t\treturn targetS1Opp < mouseOnOppAxis && mouseOnOppAxis < targetS2Opp;\n\t\t},\n\n\t\t_isElInRowColumn = function(el1, el2, axis) {\n\t\t\tvar el1Rect = el1 === dragEl && realDragElRect || _getRect(el1),\n\t\t\t\tel2Rect = el2 === dragEl && realDragElRect || _getRect(el2),\n\t\t\t\tel1S1Opp = axis === 'vertical' ? el1Rect.left : el1Rect.top,\n\t\t\t\tel1S2Opp = axis === 'vertical' ? el1Rect.right : el1Rect.bottom,\n\t\t\t\tel1OppLength = axis === 'vertical' ? el1Rect.width : el1Rect.height,\n\t\t\t\tel2S1Opp = axis === 'vertical' ? el2Rect.left : el2Rect.top,\n\t\t\t\tel2S2Opp = axis === 'vertical' ? el2Rect.right : el2Rect.bottom,\n\t\t\t\tel2OppLength = axis === 'vertical' ? el2Rect.width : el2Rect.height;\n\n\t\t\treturn (\n\t\t\t\tel1S1Opp === el2S1Opp ||\n\t\t\t\tel1S2Opp === el2S2Opp ||\n\t\t\t\t(el1S1Opp + el1OppLength / 2) === (el2S1Opp + el2OppLength / 2)\n\t\t\t);\n\t\t},\n\n\t\t_getParentAutoScrollElement = function(el, includeSelf) {\n\t\t\t// skip to window\n\t\t\tif (!el || !el.getBoundingClientRect) return _getWindowScrollingElement();\n\n\t\t\tvar elem = el;\n\t\t\tvar gotSelf = false;\n\t\t\tdo {\n\t\t\t\t// we don't need to get elem css if it isn't even overflowing in the first place (performance)\n\t\t\t\tif (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n\t\t\t\t\tvar elemCSS = _css(elem);\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') ||\n\t\t\t\t\t\telem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!elem || !elem.getBoundingClientRect || elem === document.body) return _getWindowScrollingElement();\n\n\t\t\t\t\t\tif (gotSelf || includeSelf) return elem;\n\t\t\t\t\t\tgotSelf = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t\t} while (elem = elem.parentNode);\n\n\t\t\treturn _getWindowScrollingElement();\n\t\t},\n\n\t\t_getWindowScrollingElement = function() {\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn document.documentElement;\n\t\t\t} else {\n\t\t\t\treturn document.scrollingElement;\n\t\t\t}\n\t\t},\n\n\t\t_scrollBy = function(el, x, y) {\n\t\t\tel.scrollLeft += x;\n\t\t\tel.scrollTop += y;\n\t\t},\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl, /**Boolean*/isFallback) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (options.scroll) {\n\t\t\t\tvar _this = rootEl ? rootEl[expando] : window,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinScroller = _getWindowScrollingElement(),\n\n\t\t\t\t\tscrollThisInstance = false;\n\n\t\t\t\t// Detect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\t_clearAutoScrolls();\n\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = _getParentAutoScrollElement(rootEl, true);\n\t\t\t\t\t\tscrollParentEl = scrollEl;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tvar layersOut = 0;\n\t\t\t\tvar currentParent = scrollEl;\n\t\t\t\tdo {\n\t\t\t\t\tvar\tel = currentParent,\n\t\t\t\t\t\trect = _getRect(el),\n\n\t\t\t\t\t\ttop = rect.top,\n\t\t\t\t\t\tbottom = rect.bottom,\n\t\t\t\t\t\tleft = rect.left,\n\t\t\t\t\t\tright = rect.right,\n\n\t\t\t\t\t\twidth = rect.width,\n\t\t\t\t\t\theight = rect.height,\n\n\t\t\t\t\t\tscrollWidth,\n\t\t\t\t\t\tscrollHeight,\n\n\t\t\t\t\t\tcss,\n\n\t\t\t\t\t\tvx,\n\t\t\t\t\t\tvy,\n\n\t\t\t\t\t\tcanScrollX,\n\t\t\t\t\t\tcanScrollY,\n\n\t\t\t\t\t\tscrollPosX,\n\t\t\t\t\t\tscrollPosY;\n\n\n\t\t\t\t\tscrollWidth = el.scrollWidth;\n\t\t\t\t\tscrollHeight = el.scrollHeight;\n\n\t\t\t\t\tcss = _css(el);\n\n\t\t\t\t\tscrollPosX = el.scrollLeft;\n\t\t\t\t\tscrollPosY = el.scrollTop;\n\n\t\t\t\t\tif (el === winScroller) {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll' || css.overflowX === 'visible');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll' || css.overflowY === 'visible');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll');\n\t\t\t\t\t}\n\n\t\t\t\t\tvx = canScrollX && (abs(right - x) <= sens && (scrollPosX + width) < scrollWidth) - (abs(left - x) <= sens && !!scrollPosX);\n\n\t\t\t\t\tvy = canScrollY && (abs(bottom - y) <= sens && (scrollPosY + height) < scrollHeight) - (abs(top - y) <= sens && !!scrollPosY);\n\n\n\t\t\t\t\tif (!autoScrolls[layersOut]) {\n\t\t\t\t\t\tfor (var i = 0; i <= layersOut; i++) {\n\t\t\t\t\t\t\tif (!autoScrolls[i]) {\n\t\t\t\t\t\t\t\tautoScrolls[i] = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n\t\t\t\t\t\tautoScrolls[layersOut].el = el;\n\t\t\t\t\t\tautoScrolls[layersOut].vx = vx;\n\t\t\t\t\t\tautoScrolls[layersOut].vy = vy;\n\n\t\t\t\t\t\tclearInterval(autoScrolls[layersOut].pid);\n\n\t\t\t\t\t\tif (el && (vx != 0 || vy != 0)) {\n\t\t\t\t\t\t\tscrollThisInstance = true;\n\t\t\t\t\t\t\t/* jshint loopfunc:true */\n\t\t\t\t\t\t\tautoScrolls[layersOut].pid = setInterval((function () {\n\t\t\t\t\t\t\t\t// emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n\t\t\t\t\t\t\t\tif (isFallback && this.layer === 0) {\n\t\t\t\t\t\t\t\t\tSortable.active._emulateDragOver(true);\n\t\t\t\t\t\t\t\t\tSortable.active._onTouchMove(touchEvt, true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n\t\t\t\t\t\t\t\tvar scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n\t\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\t\tif (scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt, touchEvt, autoScrolls[this.layer].el) !== 'continue') {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n\t\t\t\t\t\t\t}).bind({layer: layersOut}), 24);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlayersOut++;\n\t\t\t\t} while (options.bubbleScroll && currentParent !== winScroller && (currentParent = _getParentAutoScrollElement(currentParent, false)));\n\t\t\t\tscrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n\t\t\t}\n\t\t}, 30),\n\n\t\t_clearAutoScrolls = function () {\n\t\t\tautoScrolls.forEach(function(autoScroll) {\n\t\t\t\tclearInterval(autoScroll.pid);\n\t\t\t});\n\t\t\tautoScrolls = [];\n\t\t},\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\treturn function(to, from, dragEl, evt) {\n\t\t\t\t\tvar sameGroup = to.options.group.name &&\n\t\t\t\t\t\t\t\t\tfrom.options.group.name &&\n\t\t\t\t\t\t\t\t\tto.options.group.name === from.options.group.name;\n\n\t\t\t\t\tif (value == null && (pull || sameGroup)) {\n\t\t\t\t\t\t// Default pull value\n\t\t\t\t\t\t// Default pull and put value if same group\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (value == null || value === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (pull && value === 'clone') {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else if (typeof value === 'function') {\n\t\t\t\t\t\treturn toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar otherGroup = (pull ? to : from).options.group.name;\n\n\t\t\t\t\t\treturn (value === true ||\n\t\t\t\t\t\t(typeof value === 'string' && value === otherGroup) ||\n\t\t\t\t\t\t(value.join && value.indexOf(otherGroup) > -1));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t},\n\n\t\t_checkAlignment = function(evt) {\n\t\t\tif (!dragEl || !dragEl.parentNode) return;\n\t\t\tdragEl.parentNode[expando] && dragEl.parentNode[expando]._computeIsAligned(evt);\n\t\t},\n\n\t\t_isTrueParentSortable = function(el, target) {\n\t\t\tvar trueParent = target;\n\t\t\twhile (!trueParent[expando]) {\n\t\t\t\ttrueParent = trueParent.parentNode;\n\t\t\t}\n\n\t\t\treturn el === trueParent;\n\t\t},\n\n\t\t_artificalBubble = function(sortable, originalEvt, method) {\n\t\t\t// Artificial IE bubbling\n\t\t\tvar nextParent = sortable.parentNode;\n\t\t\twhile (nextParent && !nextParent[expando]) {\n\t\t\t\tnextParent = nextParent.parentNode;\n\t\t\t}\n\n\t\t\tif (nextParent) {\n\t\t\t\tnextParent[expando][method](_extend(originalEvt, {\n\t\t\t\t\tartificialBubble: true\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\n\t\t_hideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t_unhideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t}\n\t\t};\n\n\n\t// #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\tdocument.addEventListener('click', function(evt) {\n\t\tif (ignoreNextClick) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation && evt.stopPropagation();\n\t\t\tevt.stopImmediatePropagation && evt.stopImmediatePropagation();\n\t\t\tignoreNextClick = false;\n\t\t\treturn false;\n\t\t}\n\t}, true);\n\n\tvar nearestEmptyInsertDetectEvent = function(evt) {\n\t\tevt = evt.touches ? evt.touches[0] : evt;\n\t\tif (dragEl) {\n\t\t\tvar nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n\t\t\tif (nearest) {\n\t\t\t\tnearest[expando]._onDragOver({\n\t\t\t\t\tclientX: evt.clientX,\n\t\t\t\t\tclientY: evt.clientY,\n\t\t\t\t\ttarget: nearest,\n\t\t\t\t\trootEl: nearest\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\t// We do not want this to be triggered if completed (bubbling canceled), so only define it here\n\t_on(document, 'dragover', nearestEmptyInsertDetectEvent);\n\t_on(document, 'mousemove', nearestEmptyInsertDetectEvent);\n\t_on(document, 'touchmove', nearestEmptyInsertDetectEvent);\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: null,\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tbubbleScroll: true,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? '>li' : '>*',\n\t\t\tswapThreshold: 1, // percentage; 0 <= x <= 1\n\t\t\tinvertSwap: false, // invert always\n\t\t\tinvertedSwapThreshold: null, // will be set to same as swapThreshold if default\n\t\t\tremoveCloneOnHide: true,\n\t\t\tdirection: function() {\n\t\t\t\treturn _detectDirection(el, this.options);\n\t\t\t},\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\teasing: null,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\ttouchStartThreshold: parseInt(window.devicePixelRatio, 10) || 1,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0},\n\t\t\tsupportPointer: Sortable.supportPointer !== false && (\n\t\t\t\t('PointerEvent' in window) ||\n\t\t\t\twindow.navigator && ('msPointerEnabled' in window.navigator) // microsoft\n\t\t\t),\n\t\t\temptyInsertThreshold: 5\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\tif (this.nativeDraggable) {\n\t\t\t// Touch start threshold cannot be greater than the native dragstart threshold\n\t\t\tthis.options.touchStartThreshold = 1;\n\t\t}\n\n\t\t// Bind events\n\t\tif (options.supportPointer) {\n\t\t\t_on(el, 'pointerdown', this._onTapStart);\n\t\t} else {\n\t\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t}\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\tsortables.push(this.el);\n\n\t\t// Restore sorting\n\t\toptions.store && options.store.get && this.sort(options.store.get(this) || []);\n\t}\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_computeIsAligned: function(evt) {\n\t\t\tvar target;\n\n\t\t\tif (ghostEl && !supportCssPointerEvents) {\n\t\t\t\t_hideGhostForTarget();\n\t\t\t\ttarget = document.elementFromPoint(evt.clientX, evt.clientY);\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t} else {\n\t\t\t\ttarget = evt.target;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, this.options.draggable, this.el, false);\n\t\t\tif (_alignedSilent) return;\n\t\t\tif (!dragEl || dragEl.parentNode !== this.el) return;\n\n\t\t\tvar children = this.el.children;\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t// Don't change for target in case it is changed to aligned before onDragOver is fired\n\t\t\t\tif (_closest(children[i], this.options.draggable, this.el, false) && children[i] !== target) {\n\t\t\t\t\tchildren[i].sortableMouseAligned = _isClientInRowColumn(evt.clientX, evt.clientY, children[i], this._getDirection(evt, null), this.options);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Used for nulling last target when not in element, nothing to do with checking if aligned\n\t\t\tif (!_closest(target, this.options.draggable, this.el, true)) {\n\t\t\t\tlastTarget = null;\n\t\t\t}\n\n\t\t\t_alignedSilent = true;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_alignedSilent = false;\n\t\t\t}, 30);\n\n\t\t},\n\n\t\t_getDirection: function(evt, target) {\n\t\t\treturn (typeof this.options.direction === 'function') ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n\t\t},\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tif (!evt.cancelable) return;\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && ((evt.path && evt.path[0]) || (evt.composedPath && evt.composedPath()[0])) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\n\t\t\t// IE: Calls events in capture mode if event element is nested. This ensures only correct element's _onTapStart goes through.\n\t\t\t// This process is also done in _onDragOver\n\t\t\tif (IE11OrLess && !evt.artificialBubble && !_isTrueParentSortable(el, target)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button and enabled\n\t\t\t}\n\n\t\t\t// cancel dnd if original target is content editable\n\t\t\tif (originalTarget.isContentEditable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el, false);\n\n\t\t\tif (!target) {\n\t\t\t\tif (IE11OrLess) {\n\t\t\t\t\t_artificalBubble(el, evt, '_onTapStart');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, el, startIndex);\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el, false);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, el, startIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el, false)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex);\n\t\t},\n\n\n\t\t_handleAutoScroll: function(evt, fallback) {\n\t\t\tif (!dragEl || !this.options.scroll) return;\n\t\t\tvar x = evt.clientX,\n\t\t\t\ty = evt.clientY,\n\n\t\t\t\telem = document.elementFromPoint(x, y),\n\t\t\t\t_this = this;\n\n\t\t\t// IE does not seem to have native autoscroll,\n\t\t\t// Edge's autoscroll seems too conditional,\n\t\t\t// MACOS Safari does not have autoscroll,\n\t\t\t// Firefox and Chrome are good\n\t\t\tif (fallback || Edge || IE11OrLess || Safari) {\n\t\t\t\t_autoScroll(evt, _this.options, elem, fallback);\n\n\t\t\t\t// Listener for pointer element change\n\t\t\t\tvar ogElemScroller = _getParentAutoScrollElement(elem, true);\n\t\t\t\tif (\n\t\t\t\t\tscrolling &&\n\t\t\t\t\t(\n\t\t\t\t\t\t!pointerElemChangedInterval ||\n\t\t\t\t\t\tx !== lastPointerElemX ||\n\t\t\t\t\t\ty !== lastPointerElemY\n\t\t\t\t\t)\n\t\t\t\t) {\n\n\t\t\t\t\tpointerElemChangedInterval && clearInterval(pointerElemChangedInterval);\n\t\t\t\t\t// Detect for pointer elem change, emulating native DnD behaviour\n\t\t\t\t\tpointerElemChangedInterval = setInterval(function() {\n\t\t\t\t\t\tif (!dragEl) return;\n\t\t\t\t\t\t// could also check if scroll direction on newElem changes due to parent autoscrolling\n\t\t\t\t\t\tvar newElem = _getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\t\t\t\t\t\tif (newElem !== ogElemScroller) {\n\t\t\t\t\t\t\togElemScroller = newElem;\n\t\t\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\t\t\t_autoScroll(evt, _this.options, ogElemScroller, fallback);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlastPointerElemX = x;\n\t\t\t\t\tlastPointerElemY = y;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n\t\t\t\tif (!_this.options.bubbleScroll || _getParentAutoScrollElement(elem, true) === _getWindowScrollingElement()) {\n\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_autoScroll(evt, _this.options, _getParentAutoScrollElement(elem, false), false);\n\t\t\t}\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: (touch || evt).clientX,\n\t\t\t\t\tclientY: (touch || evt).clientY\n\t\t\t\t};\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'all';\n\t\t\t\t// undo animation if needed\n\t\t\t\tdragEl.style.transition = '';\n\t\t\t\tdragEl.style.transform = '';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDragEvents();\n\n\t\t\t\t\tif (!FireFox && _this.nativeDraggable) {\n\t\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, rootEl, oldIndex);\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\tif (options.supportPointer) {\n\t\t\t\t\t_on(ownerDocument, 'pointerup', _this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\t\t\t\t}\n\n\t\t\t\t// Make dragEl draggable (must be before delay for FireFox)\n\t\t\t\tif (FireFox && this.nativeDraggable) {\n\t\t\t\t\tthis.options.touchStartThreshold = 4;\n\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t}\n\n\t\t\t\t// Delay is impossible for native DnD in Edge or IE\n\t\t\t\tif (options.delay && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\toptions.supportPointer && _on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/e) {\n\t\t\tvar touch = e.touches ? e.touches[0] : e;\n\t\t\tif (max(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY))\n\t\t\t\t\t>= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))\n\t\t\t) {\n\t\t\t\tthis._disableDelayedDrag();\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tdragEl && _disableDraggable(dragEl);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\tthis._disableDelayedDragEvents();\n\t\t},\n\n\t\t_disableDelayedDragEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (!this.nativeDraggable || touch) {\n\t\t\t\tif (this.options.supportPointer) {\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t} else if (touch) {\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t} else {\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\t_nextTick(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function (fallback, evt) {\n\t\t\tawaitingDragStarted = false;\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t_on(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t\t_on(document, 'dragover', _checkAlignment);\n\t\t\t\t}\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, false);\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\n\t\t\t\t// In case dragging an animated element\n\t\t\t\t_css(dragEl, 'transform', '');\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\tfallback && this._appendGhost();\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, rootEl, oldIndex, undefined, evt);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function (forAutoScroll) {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY && !forAutoScroll) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\t_hideGhostForTarget();\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\tvar parent = target;\n\n\t\t\t\twhile (target && target.shadowRoot) {\n\t\t\t\t\ttarget = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\t\tparent = target;\n\t\t\t\t}\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\tvar inserted;\n\n\t\t\t\t\t\t\tinserted = parent[expando]._onDragOver({\n\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (inserted && !this.options.dragoverBubble) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(touchEvt);\n\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt, forAutoScroll) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tmatrix = ghostEl && _matrix(ghostEl),\n\t\t\t\t\tscaleX = ghostEl && matrix && matrix.a,\n\t\t\t\t\tscaleY = ghostEl && matrix && matrix.d,\n\t\t\t\t\trelativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && _getRelativeScrollOffset(ghostRelativeParent),\n\t\t\t\t\tdx = ((touch.clientX - tapEvt.clientX)\n\t\t\t\t\t\t\t+ fallbackOffset.x) / (scaleX || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0]) : 0) / (scaleX || 1),\n\t\t\t\t\tdy = ((touch.clientY - tapEvt.clientY)\n\t\t\t\t\t\t\t+ fallbackOffset.y) / (scaleY || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1]) : 0) / (scaleY || 1),\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active && !awaitingDragStarted) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._onDragStart(evt, true);\n\t\t\t\t}\n\n\t\t\t\t!forAutoScroll && this._handleAutoScroll(touch, true);\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\t// Bug if using scale(): https://stackoverflow.com/questions/2637058\n\t\t\t// Not being adjusted for\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar container = this.options.fallbackOnBody ? document.body : rootEl,\n\t\t\t\t\trect = _getRect(dragEl, true, container, !PositionGhostAbsolutely),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options;\n\n\t\t\t\t// Position absolutely\n\t\t\t\tif (PositionGhostAbsolutely) {\n\t\t\t\t\t// Get relatively positioned parent\n\t\t\t\t\tghostRelativeParent = container;\n\n\t\t\t\t\twhile (\n\t\t\t\t\t\t_css(ghostRelativeParent, 'position') === 'static' &&\n\t\t\t\t\t\t_css(ghostRelativeParent, 'transform') === 'none' &&\n\t\t\t\t\t\tghostRelativeParent !== document\n\t\t\t\t\t) {\n\t\t\t\t\t\tghostRelativeParent = ghostRelativeParent.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document) {\n\t\t\t\t\t\tvar ghostRelativeParentRect = _getRect(ghostRelativeParent, true);\n\n\t\t\t\t\t\trect.top -= ghostRelativeParentRect.top;\n\t\t\t\t\t\trect.left -= ghostRelativeParentRect.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n\t\t\t\t\t\tif (ghostRelativeParent === document) ghostRelativeParent = _getWindowScrollingElement();\n\n\t\t\t\t\t\trect.top += ghostRelativeParent.scrollTop;\n\t\t\t\t\t\trect.left += ghostRelativeParent.scrollLeft;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tghostRelativeParent = _getWindowScrollingElement();\n\t\t\t\t\t}\n\t\t\t\t\tghostRelativeParentInitialScroll = _getRelativeScrollOffset(ghostRelativeParent);\n\t\t\t\t}\n\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'box-sizing', 'border-box');\n\t\t\t\t_css(ghostEl, 'margin', 0);\n\t\t\t\t_css(ghostEl, 'top', rect.top);\n\t\t\t\t_css(ghostEl, 'left', rect.left);\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', (PositionGhostAbsolutely ? 'absolute' : 'fixed'));\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\tcontainer.appendChild(ghostEl);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/fallback) {\n\t\t\tvar _this = this;\n\t\t\tvar dataTransfer = evt.dataTransfer;\n\t\t\tvar options = _this.options;\n\n\t\t\t// Setup clone\n\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\tcloneEl.draggable = false;\n\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\tthis._hideClone();\n\n\t\t\t_toggleClass(cloneEl, _this.options.chosenClass, false);\n\n\n\t\t\t// #1143: IFrame support workaround\n\t\t\t_this._cloneId = _nextTick(function () {\n\t\t\t\tif (!_this.options.removeCloneOnHide) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t}\n\t\t\t\t_dispatchEvent(_this, rootEl, 'clone', dragEl);\n\t\t\t});\n\n\n\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, true);\n\n\t\t\t// Set proper drop events\n\t\t\tif (fallback) {\n\t\t\t\tignoreNextClick = true;\n\t\t\t\t_this._loopId = setInterval(_this._emulateDragOver, 50);\n\t\t\t} else {\n\t\t\t\t// Undo what was set in _prepareDragStart before drag started\n\t\t\t\t_off(document, 'mouseup', _this._onDrop);\n\t\t\t\t_off(document, 'touchend', _this._onDrop);\n\t\t\t\t_off(document, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(_this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', _this);\n\n\t\t\t\t// #1276 fix:\n\t\t\t\t_css(dragEl, 'transform', 'translateZ(0)');\n\t\t\t}\n\n\t\t\tawaitingDragStarted = true;\n\n\t\t\t_this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n\t\t\t_on(document, 'selectstart', _this);\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', 'none');\n\t\t\t}\n\t\t},\n\n\n\t\t// Returns true - if no further action is needed (either inserted or another condition)\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget = evt.target,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort,\n\t\t\t\t_this = this;\n\n\t\t\tif (_silent) return;\n\n\t\t\t// IE event order fix\n\t\t\tif (IE11OrLess && !evt.rootEl && !evt.artificialBubble && !_isTrueParentSortable(el, target)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Return invocation when dragEl is inserted (or completed)\n\t\t\tfunction completed(insertion) {\n\t\t\t\tif (insertion) {\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(_this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (activeSortable) {\n\t\t\t\t\t\t// Set ghost class to new sortable's ghost class\n\t\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n\t\t\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (putSortable !== _this && _this !== Sortable.active) {\n\t\t\t\t\t\tputSortable = _this;\n\t\t\t\t\t} else if (_this === Sortable.active) {\n\t\t\t\t\t\tputSortable = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Animation\n\t\t\t\t\tdragRect && _this._animate(dragRect, dragEl);\n\t\t\t\t\ttarget && targetRect && _this._animate(targetRect, target);\n\t\t\t\t}\n\n\n\t\t\t\t// Null lastTarget if it is not inside a previously swapped element\n\t\t\t\tif ((target === dragEl && !dragEl.animated) || (target === el && !target.animated)) {\n\t\t\t\t\tlastTarget = null;\n\t\t\t\t}\n\t\t\t\t// no bubbling and not fallback\n\t\t\t\tif (!options.dragoverBubble && !evt.rootEl && target !== document) {\n\t\t\t\t\t_this._handleAutoScroll(evt);\n\t\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(evt);\n\t\t\t\t}\n\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Call when dragEl has been inserted\n\t\t\tfunction changed() {\n\t\t\t\t_dispatchEvent(_this, rootEl, 'change', target, el, rootEl, oldIndex, _index(dragEl, options.draggable), evt);\n\t\t\t}\n\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\n\n\t\t\tmoved = true;\n\n\t\t\ttarget = _closest(target, options.draggable, el, true);\n\n\t\t\t// target is dragEl or target is animated\n\t\t\tif (!!_closest(evt.target, null, dragEl, true) || target.animated) {\n\t\t\t\treturn completed(false);\n\t\t\t}\n\n\t\t\tif (target !== dragEl) {\n\t\t\t\tignoreNextClick = false;\n\t\t\t}\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar axis = this._getDirection(evt, target);\n\n\t\t\t\tdragRect = _getRect(dragEl);\n\n\t\t\t\tif (revert) {\n\t\t\t\t\tthis._hideClone();\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, nextEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn completed(true);\n\t\t\t\t}\n\n\t\t\t\tvar elLastChild = _lastChild(el);\n\n\t\t\t\tif (!elLastChild || _ghostIsLast(evt, axis, el) && !elLastChild.animated) {\n\t\t\t\t\t// assign target only if condition is true\n\t\t\t\t\tif (elLastChild && el === evt.target) {\n\t\t\t\t\t\ttarget = elLastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\ttargetRect = _getRect(target);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\trealDragElRect = null;\n\n\t\t\t\t\t\tchanged();\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && target !== dragEl && target.parentNode === el) {\n\t\t\t\t\tvar direction = 0,\n\t\t\t\t\t\ttargetBeforeFirstSwap,\n\t\t\t\t\t\taligned = target.sortableMouseAligned,\n\t\t\t\t\t\tdifferentLevel = dragEl.parentNode !== el,\n\t\t\t\t\t\tside1 = axis === 'vertical' ? 'top' : 'left',\n\t\t\t\t\t\tscrolledPastTop = _isScrolledPast(target, 'top') || _isScrolledPast(dragEl, 'top'),\n\t\t\t\t\t\tscrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n\n\t\t\t\t\tif (lastTarget !== target) {\n\t\t\t\t\t\tlastMode = null;\n\t\t\t\t\t\ttargetBeforeFirstSwap = _getRect(target)[side1];\n\t\t\t\t\t\tpastFirstInvertThresh = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reference: https://www.lucidchart.com/documents/view/10fa0e93-e362-4126-aca2-b709ee56bd8b/0\n\t\t\t\t\tif (\n\t\t\t\t\t\t_isElInRowColumn(dragEl, target, axis) && aligned ||\n\t\t\t\t\t\tdifferentLevel ||\n\t\t\t\t\t\tscrolledPastTop ||\n\t\t\t\t\t\toptions.invertSwap ||\n\t\t\t\t\t\tlastMode === 'insert' ||\n\t\t\t\t\t\t// Needed, in the case that we are inside target and inserted because not aligned... aligned will stay false while inside\n\t\t\t\t\t\t// and lastMode will change to 'insert', but we must swap\n\t\t\t\t\t\tlastMode === 'swap'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// New target that we will be inside\n\t\t\t\t\t\tif (lastMode !== 'swap') {\n\t\t\t\t\t\t\tisCircumstantialInvert = options.invertSwap || differentLevel;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdirection = _getSwapDirection(evt, target, axis,\n\t\t\t\t\t\t\toptions.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold,\n\t\t\t\t\t\t\tisCircumstantialInvert,\n\t\t\t\t\t\t\tlastTarget === target);\n\t\t\t\t\t\tlastMode = 'swap';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Insert at position\n\t\t\t\t\t\tdirection = _getInsertDirection(target);\n\t\t\t\t\t\tlastMode = 'insert';\n\t\t\t\t\t}\n\t\t\t\t\tif (direction === 0) return completed(false);\n\n\t\t\t\t\trealDragElRect = null;\n\t\t\t\t\tlastTarget = target;\n\n\t\t\t\t\tlastDirection = direction;\n\n\t\t\t\t\ttargetRect = _getRect(target);\n\n\t\t\t\t\tvar nextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false;\n\n\t\t\t\t\tafter = direction === 1;\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Undo chrome's scroll adjustment\n\t\t\t\t\t\tif (scrolledPastTop) {\n\t\t\t\t\t\t\t_scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\t// must be done before animation\n\t\t\t\t\t\tif (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n\t\t\t\t\t\t\ttargetMoveDistance = abs(targetBeforeFirstSwap - _getRect(target)[side1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchanged();\n\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (el.contains(dragEl)) {\n\t\t\t\t\treturn completed(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (IE11OrLess && !evt.rootEl) {\n\t\t\t\t_artificalBubble(el, evt, '_onDragOver');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = _getRect(target);\n\n\t\t\t\tif (target === dragEl) {\n\t\t\t\t\trealDragElRect = currentRect;\n\t\t\t\t}\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = _getRect(prevRect);\n\t\t\t\t}\n\n\t\t\t\t// Check if actually moving position\n\t\t\t\tif ((prevRect.left + prevRect.width / 2) !== (currentRect.left + currentRect.width / 2)\n\t\t\t\t\t|| (prevRect.top + prevRect.height / 2) !== (currentRect.top + currentRect.height / 2)\n\t\t\t\t) {\n\t\t\t\t\tvar matrix = _matrix(this.el),\n\t\t\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t\t+ (prevRect.left - currentRect.left) / (scaleX ? scaleX : 1) + 'px,'\n\t\t\t\t\t\t+ (prevRect.top - currentRect.top) / (scaleY ? scaleY : 1) + 'px,0)'\n\t\t\t\t\t);\n\n\t\t\t\t\tforRepaintDummy = target.offsetWidth; // repaint\n\t\t\t\t\t_css(target, 'transition', 'transform ' + ms + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n\t\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\t\t\t\t}\n\n\t\t\t\t(typeof target.animated === 'number') && clearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(document, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\t\t\tawaitingDragStarted = false;\n\t\t\tscrolling = false;\n\t\t\tisCircumstantialInvert = false;\n\t\t\tpastFirstInvertThresh = false;\n\n\t\t\tclearInterval(this._loopId);\n\n\t\t\tclearInterval(pointerElemChangedInterval);\n\t\t\t_clearAutoScrolls();\n\t\t\t_cancelThrottle();\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t_cancelNextTick(this._cloneId);\n\t\t\t_cancelNextTick(this._dragStartId);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t\t_off(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t_off(document, 'dragover', _checkAlignment);\n\t\t\t}\n\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', '');\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, parentEl, rootEl, oldIndex, null, evt);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tputSortable && putSortable.save();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\t\t\tautoScrolls.length =\n\n\t\t\tpointerElemChangedInterval =\n\t\t\tlastPointerElemX =\n\t\t\tlastPointerElemY =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\t\t\toldIndex =\n\n\t\t\tlastTarget =\n\t\t\tlastDirection =\n\n\t\t\tforRepaintDummy =\n\t\t\trealDragElRect =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragenter':\n\t\t\t\tcase 'dragover':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el, false)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl, false)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el, false);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\tthis._onDrop();\n\n\t\t\tsortables.splice(sortables.indexOf(this.el), 1);\n\n\t\t\tthis.el = el = null;\n\t\t},\n\n\t\t_hideClone: function() {\n\t\t\tif (!cloneEl.cloneHidden) {\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\tcloneEl.cloneHidden = true;\n\t\t\t\tif (cloneEl.parentNode && this.options.removeCloneOnHide) {\n\t\t\t\t\tcloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showClone: function(putSortable) {\n\t\t\tif (putSortable.lastPutMode !== 'clone') {\n\t\t\t\tthis._hideClone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (cloneEl.cloneHidden) {\n\t\t\t\t// show clone at dragEl or original position\n\t\t\t\tif (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t} else if (nextEl) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t} else {\n\t\t\t\t\trootEl.appendChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (this.options.group.revertClone) {\n\t\t\t\t\tthis._animate(dragEl, cloneEl);\n\t\t\t\t}\n\t\t\t\t_css(cloneEl, 'display', '');\n\t\t\t\tcloneEl.cloneHidden = false;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\tselector != null &&\n\t\t\t\t\t(\n\t\t\t\t\t\tselector[0] === '>' && el.parentNode === ctx && _matches(el, selector.substring(1)) ||\n\t\t\t\t\t\t_matches(el, selector)\n\t\t\t\t\t) ||\n\t\t\t\t\tincludeCTX && el === ctx\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tif (el === ctx) break;\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\treturn (el.host && el !== document && el.host.nodeType)\n\t\t\t? el.host\n\t\t\t: el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.cancelable && evt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el && name) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style) && prop.indexOf('webkit') === -1) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _matrix(el) {\n\t\tvar appliedTransforms = '';\n\t\tdo {\n\t\t\tvar transform = _css(el, 'transform');\n\n\t\t\tif (transform && transform !== 'none') {\n\t\t\t\tappliedTransforms = transform + ' ' + appliedTransforms;\n\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t} while (el = el.parentNode);\n\n\t\tif (window.DOMMatrix) {\n\t\t\treturn new DOMMatrix(appliedTransforms);\n\t\t} else if (window.WebKitCSSMatrix) {\n\t\t\treturn new WebKitCSSMatrix(appliedTransforms);\n\t\t} else if (window.CSSMatrix) {\n\t\t\treturn new CSSMatrix(appliedTransforms);\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, toEl, fromEl, startIndex, newIndex, originalEvt) {\n\t\tsortable = (sortable || rootEl[expando]);\n\t\tvar evt,\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent(name, {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, true);\n\t\t}\n\n\t\tevt.to = toEl || rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\tevt.originalEvent = originalEvt;\n\t\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n\t\tif (rootEl) {\n\t\t\trootEl.dispatchEvent(evt);\n\t\t}\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent('move', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent('move', true, true);\n\t\t}\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || _getRect(toEl);\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tevt.originalEvent = originalEvt;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\t/**\n\t * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n\t * and non-draggable elements\n\t * @param  {HTMLElement} el       The parent element\n\t * @param  {Number} childNum      The index of the child\n\t * @param  {Object} options       Parent Sortable's options\n\t * @return {HTMLElement}          The child at index childNum, or null if not found\n\t */\n\tfunction _getChild(el, childNum, options) {\n\t\tvar currentChild = 0,\n\t\t\ti = 0,\n\t\t\tchildren = el.children;\n\n\t\twhile (i < children.length) {\n\t\t\tif (\n\t\t\t\tchildren[i].style.display !== 'none' &&\n\t\t\t\tchildren[i] !== ghostEl &&\n\t\t\t\tchildren[i] !== dragEl &&\n\t\t\t\t_closest(children[i], options.draggable, el, false)\n\t\t\t) {\n\t\t\t\tif (currentChild === childNum) {\n\t\t\t\t\treturn children[i];\n\t\t\t\t}\n\t\t\t\tcurrentChild++;\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n\t * @param  {HTMLElement} el       Parent element\n\t * @return {HTMLElement}          The last child, ignoring ghostEl\n\t */\n\tfunction _lastChild(el) {\n\t\tvar last = el.lastElementChild;\n\n\t\twhile (last && (last === ghostEl || last.style.display === 'none')) {\n\t\t\tlast = last.previousElementSibling;\n\t\t}\n\n\t\treturn last || null;\n\t}\n\n\tfunction _ghostIsLast(evt, axis, el) {\n\t\tvar elRect = _getRect(_lastChild(el)),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\tmouseOnOppAxis = axis === 'vertical' ? evt.clientX : evt.clientY,\n\t\t\ttargetS2 = axis === 'vertical' ? elRect.bottom : elRect.right,\n\t\t\ttargetS1Opp = axis === 'vertical' ? elRect.left : elRect.top,\n\t\t\ttargetS2Opp = axis === 'vertical' ? elRect.right : elRect.bottom,\n\t\t\tspacer = 10;\n\n\t\treturn (\n\t\t\taxis === 'vertical' ?\n\t\t\t\t(mouseOnOppAxis > targetS2Opp + spacer || mouseOnOppAxis <= targetS2Opp && mouseOnAxis > targetS2 && mouseOnOppAxis >= targetS1Opp) :\n\t\t\t\t(mouseOnAxis > targetS2 && mouseOnOppAxis > targetS1Opp || mouseOnAxis <= targetS2 && mouseOnOppAxis > targetS2Opp + spacer)\n\t\t);\n\t}\n\n\tfunction _getSwapDirection(evt, target, axis, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n\t\tvar targetRect = _getRect(target),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\ttargetLength = axis === 'vertical' ? targetRect.height : targetRect.width,\n\t\t\ttargetS1 = axis === 'vertical' ? targetRect.top : targetRect.left,\n\t\t\ttargetS2 = axis === 'vertical' ? targetRect.bottom : targetRect.right,\n\t\t\tdragRect = _getRect(dragEl),\n\t\t\tinvert = false;\n\n\n\t\tif (!invertSwap) {\n\t\t\t// Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n\t\t\tif (isLastTarget && targetMoveDistance < targetLength * swapThreshold) { // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n\t\t\t\t// check if past first invert threshold on side opposite of lastDirection\n\t\t\t\tif (!pastFirstInvertThresh &&\n\t\t\t\t\t(lastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\t// past first invert threshold, do not restrict inverted threshold to dragEl shadow\n\t\t\t\t\tpastFirstInvertThresh = true;\n\t\t\t\t}\n\n\t\t\t\tif (!pastFirstInvertThresh) {\n\t\t\t\t\tvar dragS1 = axis === 'vertical' ? dragRect.top : dragRect.left,\n\t\t\t\t\t\tdragS2 = axis === 'vertical' ? dragRect.bottom : dragRect.right;\n\t\t\t\t\t// dragEl shadow (target move distance shadow)\n\t\t\t\t\tif (\n\t\t\t\t\t\tlastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS2 - targetMoveDistance\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn lastDirection * -1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinvert = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Regular\n\t\t\t\tif (\n\t\t\t\t\tmouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold) / 2) &&\n\t\t\t\t\tmouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold) / 2)\n\t\t\t\t) {\n\t\t\t\t\treturn _getInsertDirection(target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinvert = invert || invertSwap;\n\n\t\tif (invert) {\n\t\t\t// Invert of regular\n\t\t\tif (\n\t\t\t\tmouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold / 2) ||\n\t\t\t\tmouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold / 2)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? 1 : -1);\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t/**\n\t * Gets the direction dragEl must be swapped relative to target in order to make it\n\t * seem that dragEl has been \"inserted\" into that element's position\n\t * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n\t * @return {Number}                   Direction dragEl must be swapped\n\t */\n\tfunction _getInsertDirection(target) {\n\t\tvar dragElIndex = _index(dragEl),\n\t\t\ttargetIndex = _index(target);\n\n\t\tif (dragElIndex < targetIndex) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && el !== cloneEl) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (el) {\n\t\t\ttry {\n\t\t\t\tif (el.matches) {\n\t\t\t\t\treturn el.matches(selector);\n\t\t\t\t} else if (el.msMatchesSelector) {\n\t\t\t\t\treturn el.msMatchesSelector(selector);\n\t\t\t\t} else if (el.webkitMatchesSelector) {\n\t\t\t\t\treturn el.webkitMatchesSelector(selector);\n\t\t\t\t}\n\t\t\t} catch(_) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar _throttleTimeout;\n\tfunction _throttle(callback, ms) {\n\t\treturn function () {\n\t\t\tif (!_throttleTimeout) {\n\t\t\t\tvar args = arguments,\n\t\t\t\t\t_this = this;\n\n\t\t\t\t_throttleTimeout = setTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\t_throttleTimeout = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _cancelThrottle() {\n\t\tclearTimeout(_throttleTimeout);\n\t\t_throttleTimeout = void 0;\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\tif (Polymer && Polymer.dom) {\n\t\t\treturn Polymer.dom(el).cloneNode(true);\n\t\t}\n\t\telse if ($) {\n\t\t\treturn $(el).clone(true)[0];\n\t\t}\n\t\telse {\n\t\t\treturn el.cloneNode(true);\n\t\t}\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tsavedInputChecked.length = 0;\n\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\tfunction _nextTick(fn) {\n\t\treturn setTimeout(fn, 0);\n\t}\n\n\tfunction _cancelNextTick(id) {\n\t\treturn clearTimeout(id);\n\t}\n\n\n\t/**\n\t * Returns the \"bounding client rect\" of given element\n\t * @param  {HTMLElement} el                The element whose boundingClientRect is wanted\n\t * @param  {[HTMLElement]} container       the parent the element will be placed in\n\t * @param  {[Boolean]} adjustForTransform  Whether the rect should compensate for parent's transform\n\t * @return {Object}                        The boundingClientRect of el\n\t */\n\tfunction _getRect(el, adjustForTransform, container, adjustForFixed) {\n\t\tif (!el.getBoundingClientRect && el !== win) return;\n\n\t\tvar elRect,\n\t\t\ttop,\n\t\t\tleft,\n\t\t\tbottom,\n\t\t\tright,\n\t\t\theight,\n\t\t\twidth;\n\n\t\tif (el !== win && el !== _getWindowScrollingElement()) {\n\t\t\telRect = el.getBoundingClientRect();\n\t\t\ttop = elRect.top;\n\t\t\tleft = elRect.left;\n\t\t\tbottom = elRect.bottom;\n\t\t\tright = elRect.right;\n\t\t\theight = elRect.height;\n\t\t\twidth = elRect.width;\n\t\t} else {\n\t\t\ttop = 0;\n\t\t\tleft = 0;\n\t\t\tbottom = window.innerHeight;\n\t\t\tright = window.innerWidth;\n\t\t\theight = window.innerHeight;\n\t\t\twidth = window.innerWidth;\n\t\t}\n\n\t\tif (adjustForFixed && el !== win) {\n\t\t\t// Adjust for translate()\n\t\t\tcontainer = container || el.parentNode;\n\n\t\t\t// solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n\t\t\t// Not needed on <= IE11\n\t\t\tif (!IE11OrLess) {\n\t\t\t\tdo {\n\t\t\t\t\tif (container && container.getBoundingClientRect && _css(container, 'transform') !== 'none') {\n\t\t\t\t\t\tvar containerRect = container.getBoundingClientRect();\n\n\t\t\t\t\t\t// Set relative to edges of padding box of container\n\t\t\t\t\t\ttop -= containerRect.top + parseInt(_css(container, 'border-top-width'));\n\t\t\t\t\t\tleft -= containerRect.left + parseInt(_css(container, 'border-left-width'));\n\t\t\t\t\t\tbottom = top + elRect.height;\n\t\t\t\t\t\tright = left + elRect.width;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t} while (container = container.parentNode);\n\t\t\t}\n\t\t}\n\n\t\tif (adjustForTransform && el !== win) {\n\t\t\t// Adjust for scale()\n\t\t\tvar matrix = _matrix(container || el),\n\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\tif (matrix) {\n\t\t\t\ttop /= scaleY;\n\t\t\t\tleft /= scaleX;\n\n\t\t\t\twidth /= scaleX;\n\t\t\t\theight /= scaleY;\n\n\t\t\t\tbottom = top + height;\n\t\t\t\tright = left + width;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: top,\n\t\t\tleft: left,\n\t\t\tbottom: bottom,\n\t\t\tright: right,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\n\t/**\n\t * Checks if a side of an element is scrolled past a side of it's parents\n\t * @param  {HTMLElement}  el       The element who's side being scrolled out of view is in question\n\t * @param  {String}       side     Side of the element in question ('top', 'left', 'right', 'bottom')\n\t * @return {HTMLElement}           The parent scroll element that the el's side is scrolled past, or null if there is no such element\n\t */\n\tfunction _isScrolledPast(el, side) {\n\t\tvar parent = _getParentAutoScrollElement(el, true),\n\t\t\telSide = _getRect(el)[side];\n\n\t\t/* jshint boss:true */\n\t\twhile (parent) {\n\t\t\tvar parentSide = _getRect(parent)[side],\n\t\t\t\tvisible;\n\n\t\t\tif (side === 'top' || side === 'left') {\n\t\t\t\tvisible = elSide >= parentSide;\n\t\t\t} else {\n\t\t\t\tvisible = elSide <= parentSide;\n\t\t\t}\n\n\t\t\tif (!visible) return parent;\n\n\t\t\tif (parent === _getWindowScrollingElement()) break;\n\n\t\t\tparent = _getParentAutoScrollElement(parent, false);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n\t * The value is returned in real pixels.\n\t * @param  {HTMLElement} el\n\t * @return {Array}             Offsets in the format of [left, top]\n\t */\n\tfunction _getRelativeScrollOffset(el) {\n\t\tvar offsetLeft = 0,\n\t\t\toffsetTop = 0,\n\t\t\twinScroller = _getWindowScrollingElement();\n\n\t\tif (el) {\n\t\t\tdo {\n\t\t\t\tvar matrix = _matrix(el),\n\t\t\t\t\tscaleX = matrix.a,\n\t\t\t\t\tscaleY = matrix.d;\n\n\t\t\t\toffsetLeft += el.scrollLeft * scaleX;\n\t\t\t\toffsetTop += el.scrollTop * scaleY;\n\t\t\t} while (el !== winScroller && (el = el.parentNode));\n\t\t}\n\n\t\treturn [offsetLeft, offsetTop];\n\t}\n\n\t// Fixed #973:\n\t_on(document, 'touchmove', function(evt) {\n\t\tif ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el, false);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index,\n\t\tnextTick: _nextTick,\n\t\tcancelNextTick: _cancelNextTick,\n\t\tdetectDirection: _detectDirection,\n\t\tgetChild: _getChild\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.8.4';\n\treturn Sortable;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL25vZGVfbW9kdWxlcy9zb3J0YWJsZWpzL1NvcnRhYmxlLmpzPzUzZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSyxJQUEwQztBQUMvQyxFQUFFLG9DQUFPLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUNqQjtBQUNBLE1BQU0sRUFNSjtBQUNGLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCOztBQUV2QjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxPQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQSxlQUFlLFlBQVk7QUFDM0IsZUFBZSxPQUFPO0FBQ3RCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsRUFBRTtBQUNqQixlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFF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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3NvcnRhYmxlanMvU29ydGFibGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiohXG4gKiBTb3J0YWJsZVxuICogQGF1dGhvclx0UnViYVhhICAgPHRyYXNoQHJ1YmF4YS5vcmc+XG4gKiBAYXV0aG9yXHRvd2VubSAgICA8b3dlbjIzMzU1QGdtYWlsLmNvbT5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbihmdW5jdGlvbiBzb3J0YWJsZU1vZHVsZShmYWN0b3J5KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fVxuXHRlbHNlIHtcblx0XHQvKiBqc2hpbnQgc3ViOnRydWUgKi9cblx0XHR3aW5kb3dbXCJTb3J0YWJsZVwiXSA9IGZhY3RvcnkoKTtcblx0fVxufSkoZnVuY3Rpb24gc29ydGFibGVGYWN0b3J5KCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhd2luZG93LmRvY3VtZW50KSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHNvcnRhYmxlRXJyb3IoKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJTb3J0YWJsZS5qcyByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7XG5cdFx0fTtcblx0fVxuXG5cdHZhciBkcmFnRWwsXG5cdFx0cGFyZW50RWwsXG5cdFx0Z2hvc3RFbCxcblx0XHRjbG9uZUVsLFxuXHRcdHJvb3RFbCxcblx0XHRuZXh0RWwsXG5cdFx0bGFzdERvd25FbCxcblxuXHRcdHNjcm9sbEVsLFxuXHRcdHNjcm9sbFBhcmVudEVsLFxuXHRcdHNjcm9sbEN1c3RvbUZuLFxuXG5cdFx0b2xkSW5kZXgsXG5cdFx0bmV3SW5kZXgsXG5cblx0XHRhY3RpdmVHcm91cCxcblx0XHRwdXRTb3J0YWJsZSxcblxuXHRcdGF1dG9TY3JvbGxzID0gW10sXG5cdFx0c2Nyb2xsaW5nID0gZmFsc2UsXG5cblx0XHRhd2FpdGluZ0RyYWdTdGFydGVkID0gZmFsc2UsXG5cdFx0aWdub3JlTmV4dENsaWNrID0gZmFsc2UsXG5cdFx0c29ydGFibGVzID0gW10sXG5cblx0XHRwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCxcblx0XHRsYXN0UG9pbnRlckVsZW1YLFxuXHRcdGxhc3RQb2ludGVyRWxlbVksXG5cblx0XHR0YXBFdnQsXG5cdFx0dG91Y2hFdnQsXG5cblx0XHRtb3ZlZCxcblxuXG5cdFx0bGFzdFRhcmdldCxcblx0XHRsYXN0RGlyZWN0aW9uLFxuXHRcdHBhc3RGaXJzdEludmVydFRocmVzaCA9IGZhbHNlLFxuXHRcdGlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQgPSBmYWxzZSxcblx0XHRsYXN0TW9kZSwgLy8gJ3N3YXAnIG9yICdpbnNlcnQnXG5cblx0XHR0YXJnZXRNb3ZlRGlzdGFuY2UsXG5cblx0XHQvLyBGb3IgcG9zaXRpb25pbmcgZ2hvc3QgYWJzb2x1dGVseVxuXHRcdGdob3N0UmVsYXRpdmVQYXJlbnQsXG5cdFx0Z2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGwgPSBbXSwgLy8gKGxlZnQsIHRvcClcblxuXG5cdFx0Zm9yUmVwYWludER1bW15LFxuXHRcdHJlYWxEcmFnRWxSZWN0LCAvLyBkcmFnRWwgcmVjdCBhZnRlciBjdXJyZW50IGFuaW1hdGlvblxuXG5cdFx0LyoqIEBjb25zdCAqL1xuXHRcdFJfU1BBQ0UgPSAvXFxzKy9nLFxuXG5cdFx0ZXhwYW5kbyA9ICdTb3J0YWJsZScgKyAobmV3IERhdGUpLmdldFRpbWUoKSxcblxuXHRcdHdpbiA9IHdpbmRvdyxcblx0XHRkb2N1bWVudCA9IHdpbi5kb2N1bWVudCxcblx0XHRwYXJzZUludCA9IHdpbi5wYXJzZUludCxcblx0XHRzZXRUaW1lb3V0ID0gd2luLnNldFRpbWVvdXQsXG5cblx0XHQkID0gd2luLmpRdWVyeSB8fCB3aW4uWmVwdG8sXG5cdFx0UG9seW1lciA9IHdpbi5Qb2x5bWVyLFxuXG5cdFx0Y2FwdHVyZU1vZGUgPSB7XG5cdFx0XHRjYXB0dXJlOiBmYWxzZSxcblx0XHRcdHBhc3NpdmU6IGZhbHNlXG5cdFx0fSxcblxuXHRcdElFMTFPckxlc3MgPSAhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyg/OlRyaWRlbnQuKnJ2WyA6XT8xMVxcLnxtc2llfGllbW9iaWxlKS9pKSxcblx0XHRFZGdlID0gISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlL2kpLFxuXHRcdEZpcmVGb3ggPSAhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3gvaSksXG5cdFx0U2FmYXJpID0gISEobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvc2FmYXJpL2kpICYmICFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9jaHJvbWUvaSkgJiYgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2FuZHJvaWQvaSkpLFxuXHRcdElPUyA9ICEhKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQKGFkfG9kfGhvbmUpL2kpKSxcblxuXHRcdFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ID0gSU9TLFxuXG5cdFx0Q1NTRmxvYXRQcm9wZXJ0eSA9IEVkZ2UgfHwgSUUxMU9yTGVzcyA/ICdjc3NGbG9hdCcgOiAnZmxvYXQnLFxuXG5cdFx0Ly8gVGhpcyB3aWxsIG5vdCBwYXNzIGZvciBJRTksIGJlY2F1c2UgSUU5IERuRCBvbmx5IHdvcmtzIG9uIGFuY2hvcnNcblx0XHRzdXBwb3J0RHJhZ2dhYmxlID0gKCdkcmFnZ2FibGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSxcblxuXHRcdHN1cHBvcnRDc3NQb2ludGVyRXZlbnRzID0gKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gZmFsc2Ugd2hlbiA8PSBJRTExXG5cdFx0XHRpZiAoSUUxMU9yTGVzcykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd4Jyk7XG5cdFx0XHRlbC5zdHlsZS5jc3NUZXh0ID0gJ3BvaW50ZXItZXZlbnRzOmF1dG8nO1xuXHRcdFx0cmV0dXJuIGVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPT09ICdhdXRvJztcblx0XHR9KSgpLFxuXG5cdFx0X3NpbGVudCA9IGZhbHNlLFxuXHRcdF9hbGlnbmVkU2lsZW50ID0gZmFsc2UsXG5cblx0XHRhYnMgPSBNYXRoLmFicyxcblx0XHRtaW4gPSBNYXRoLm1pbixcblx0XHRtYXggPSBNYXRoLm1heCxcblxuXHRcdHNhdmVkSW5wdXRDaGVja2VkID0gW10sXG5cblx0XHRfZGV0ZWN0RGlyZWN0aW9uID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcblx0XHRcdHZhciBlbENTUyA9IF9jc3MoZWwpLFxuXHRcdFx0XHRlbFdpZHRoID0gcGFyc2VJbnQoZWxDU1Mud2lkdGgpXG5cdFx0XHRcdFx0LSBwYXJzZUludChlbENTUy5wYWRkaW5nTGVmdClcblx0XHRcdFx0XHQtIHBhcnNlSW50KGVsQ1NTLnBhZGRpbmdSaWdodClcblx0XHRcdFx0XHQtIHBhcnNlSW50KGVsQ1NTLmJvcmRlckxlZnRXaWR0aClcblx0XHRcdFx0XHQtIHBhcnNlSW50KGVsQ1NTLmJvcmRlclJpZ2h0V2lkdGgpLFxuXHRcdFx0XHRjaGlsZDEgPSBfZ2V0Q2hpbGQoZWwsIDAsIG9wdGlvbnMpLFxuXHRcdFx0XHRjaGlsZDIgPSBfZ2V0Q2hpbGQoZWwsIDEsIG9wdGlvbnMpLFxuXHRcdFx0XHRmaXJzdENoaWxkQ1NTID0gY2hpbGQxICYmIF9jc3MoY2hpbGQxKSxcblx0XHRcdFx0c2Vjb25kQ2hpbGRDU1MgPSBjaGlsZDIgJiYgX2NzcyhjaGlsZDIpLFxuXHRcdFx0XHRmaXJzdENoaWxkV2lkdGggPSBmaXJzdENoaWxkQ1NTICYmIHBhcnNlSW50KGZpcnN0Q2hpbGRDU1MubWFyZ2luTGVmdCkgKyBwYXJzZUludChmaXJzdENoaWxkQ1NTLm1hcmdpblJpZ2h0KSArIF9nZXRSZWN0KGNoaWxkMSkud2lkdGgsXG5cdFx0XHRcdHNlY29uZENoaWxkV2lkdGggPSBzZWNvbmRDaGlsZENTUyAmJiBwYXJzZUludChzZWNvbmRDaGlsZENTUy5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KHNlY29uZENoaWxkQ1NTLm1hcmdpblJpZ2h0KSArIF9nZXRSZWN0KGNoaWxkMikud2lkdGg7XG5cblx0XHRcdGlmIChlbENTUy5kaXNwbGF5ID09PSAnZmxleCcpIHtcblx0XHRcdFx0cmV0dXJuIGVsQ1NTLmZsZXhEaXJlY3Rpb24gPT09ICdjb2x1bW4nIHx8IGVsQ1NTLmZsZXhEaXJlY3Rpb24gPT09ICdjb2x1bW4tcmV2ZXJzZSdcblx0XHRcdFx0PyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZWxDU1MuZGlzcGxheSA9PT0gJ2dyaWQnKSB7XG5cdFx0XHRcdHJldHVybiBlbENTUy5ncmlkVGVtcGxhdGVDb2x1bW5zLnNwbGl0KCcgJykubGVuZ3RoIDw9IDEgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hpbGQxICYmIGZpcnN0Q2hpbGRDU1MuZmxvYXQgIT09ICdub25lJykge1xuXHRcdFx0XHR2YXIgdG91Y2hpbmdTaWRlQ2hpbGQyID0gZmlyc3RDaGlsZENTUy5mbG9hdCA9PT0gJ2xlZnQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcblxuXHRcdFx0XHRyZXR1cm4gY2hpbGQyICYmIChzZWNvbmRDaGlsZENTUy5jbGVhciA9PT0gJ2JvdGgnIHx8IHNlY29uZENoaWxkQ1NTLmNsZWFyID09PSB0b3VjaGluZ1NpZGVDaGlsZDIpID9cblx0XHRcdFx0XHQndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKGNoaWxkMSAmJlxuXHRcdFx0XHQoXG5cdFx0XHRcdFx0Zmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAnYmxvY2snIHx8XG5cdFx0XHRcdFx0Zmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAnZmxleCcgfHxcblx0XHRcdFx0XHRmaXJzdENoaWxkQ1NTLmRpc3BsYXkgPT09ICd0YWJsZScgfHxcblx0XHRcdFx0XHRmaXJzdENoaWxkQ1NTLmRpc3BsYXkgPT09ICdncmlkJyB8fFxuXHRcdFx0XHRcdGZpcnN0Q2hpbGRXaWR0aCA+PSBlbFdpZHRoICYmXG5cdFx0XHRcdFx0ZWxDU1NbQ1NTRmxvYXRQcm9wZXJ0eV0gPT09ICdub25lJyB8fFxuXHRcdFx0XHRcdGNoaWxkMiAmJlxuXHRcdFx0XHRcdGVsQ1NTW0NTU0Zsb2F0UHJvcGVydHldID09PSAnbm9uZScgJiZcblx0XHRcdFx0XHRmaXJzdENoaWxkV2lkdGggKyBzZWNvbmRDaGlsZFdpZHRoID4gZWxXaWR0aFxuXHRcdFx0XHQpID9cblx0XHRcdFx0J3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJ1xuXHRcdFx0KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRGV0ZWN0cyBmaXJzdCBuZWFyZXN0IGVtcHR5IHNvcnRhYmxlIHRvIFggYW5kIFkgcG9zaXRpb24gdXNpbmcgZW1wdHlJbnNlcnRUaHJlc2hvbGQuXG5cdFx0ICogQHBhcmFtICB7TnVtYmVyfSB4ICAgICAgWCBwb3NpdGlvblxuXHRcdCAqIEBwYXJhbSAge051bWJlcn0geSAgICAgIFkgcG9zaXRpb25cblx0XHQgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICBFbGVtZW50IG9mIHRoZSBmaXJzdCBmb3VuZCBuZWFyZXN0IFNvcnRhYmxlXG5cdFx0ICovXG5cdFx0X2RldGVjdE5lYXJlc3RFbXB0eVNvcnRhYmxlID0gZnVuY3Rpb24oeCwgeSkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0YWJsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKF9sYXN0Q2hpbGQoc29ydGFibGVzW2ldKSkgY29udGludWU7XG5cblx0XHRcdFx0dmFyIHJlY3QgPSBfZ2V0UmVjdChzb3J0YWJsZXNbaV0pLFxuXHRcdFx0XHRcdHRocmVzaG9sZCA9IHNvcnRhYmxlc1tpXVtleHBhbmRvXS5vcHRpb25zLmVtcHR5SW5zZXJ0VGhyZXNob2xkLFxuXHRcdFx0XHRcdGluc2lkZUhvcml6b250YWxseSA9IHggPj0gKHJlY3QubGVmdCAtIHRocmVzaG9sZCkgJiYgeCA8PSAocmVjdC5yaWdodCArIHRocmVzaG9sZCksXG5cdFx0XHRcdFx0aW5zaWRlVmVydGljYWxseSA9IHkgPj0gKHJlY3QudG9wIC0gdGhyZXNob2xkKSAmJiB5IDw9IChyZWN0LmJvdHRvbSArIHRocmVzaG9sZCk7XG5cblx0XHRcdFx0aWYgKGluc2lkZUhvcml6b250YWxseSAmJiBpbnNpZGVWZXJ0aWNhbGx5KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHNvcnRhYmxlc1tpXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfaXNDbGllbnRJblJvd0NvbHVtbiA9IGZ1bmN0aW9uKHgsIHksIGVsLCBheGlzLCBvcHRpb25zKSB7XG5cdFx0XHR2YXIgdGFyZ2V0UmVjdCA9IF9nZXRSZWN0KGVsKSxcblx0XHRcdFx0dGFyZ2V0UzFPcHAgPSBheGlzID09PSAndmVydGljYWwnID8gdGFyZ2V0UmVjdC5sZWZ0IDogdGFyZ2V0UmVjdC50b3AsXG5cdFx0XHRcdHRhcmdldFMyT3BwID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/IHRhcmdldFJlY3QucmlnaHQgOiB0YXJnZXRSZWN0LmJvdHRvbSxcblx0XHRcdFx0bW91c2VPbk9wcEF4aXMgPSBheGlzID09PSAndmVydGljYWwnID8geCA6IHk7XG5cblx0XHRcdHJldHVybiB0YXJnZXRTMU9wcCA8IG1vdXNlT25PcHBBeGlzICYmIG1vdXNlT25PcHBBeGlzIDwgdGFyZ2V0UzJPcHA7XG5cdFx0fSxcblxuXHRcdF9pc0VsSW5Sb3dDb2x1bW4gPSBmdW5jdGlvbihlbDEsIGVsMiwgYXhpcykge1xuXHRcdFx0dmFyIGVsMVJlY3QgPSBlbDEgPT09IGRyYWdFbCAmJiByZWFsRHJhZ0VsUmVjdCB8fCBfZ2V0UmVjdChlbDEpLFxuXHRcdFx0XHRlbDJSZWN0ID0gZWwyID09PSBkcmFnRWwgJiYgcmVhbERyYWdFbFJlY3QgfHwgX2dldFJlY3QoZWwyKSxcblx0XHRcdFx0ZWwxUzFPcHAgPSBheGlzID09PSAndmVydGljYWwnID8gZWwxUmVjdC5sZWZ0IDogZWwxUmVjdC50b3AsXG5cdFx0XHRcdGVsMVMyT3BwID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/IGVsMVJlY3QucmlnaHQgOiBlbDFSZWN0LmJvdHRvbSxcblx0XHRcdFx0ZWwxT3BwTGVuZ3RoID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/IGVsMVJlY3Qud2lkdGggOiBlbDFSZWN0LmhlaWdodCxcblx0XHRcdFx0ZWwyUzFPcHAgPSBheGlzID09PSAndmVydGljYWwnID8gZWwyUmVjdC5sZWZ0IDogZWwyUmVjdC50b3AsXG5cdFx0XHRcdGVsMlMyT3BwID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/IGVsMlJlY3QucmlnaHQgOiBlbDJSZWN0LmJvdHRvbSxcblx0XHRcdFx0ZWwyT3BwTGVuZ3RoID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/IGVsMlJlY3Qud2lkdGggOiBlbDJSZWN0LmhlaWdodDtcblxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0ZWwxUzFPcHAgPT09IGVsMlMxT3BwIHx8XG5cdFx0XHRcdGVsMVMyT3BwID09PSBlbDJTMk9wcCB8fFxuXHRcdFx0XHQoZWwxUzFPcHAgKyBlbDFPcHBMZW5ndGggLyAyKSA9PT0gKGVsMlMxT3BwICsgZWwyT3BwTGVuZ3RoIC8gMilcblx0XHRcdCk7XG5cdFx0fSxcblxuXHRcdF9nZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudCA9IGZ1bmN0aW9uKGVsLCBpbmNsdWRlU2VsZikge1xuXHRcdFx0Ly8gc2tpcCB0byB3aW5kb3dcblx0XHRcdGlmICghZWwgfHwgIWVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkgcmV0dXJuIF9nZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG5cblx0XHRcdHZhciBlbGVtID0gZWw7XG5cdFx0XHR2YXIgZ290U2VsZiA9IGZhbHNlO1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHQvLyB3ZSBkb24ndCBuZWVkIHRvIGdldCBlbGVtIGNzcyBpZiBpdCBpc24ndCBldmVuIG92ZXJmbG93aW5nIGluIHRoZSBmaXJzdCBwbGFjZSAocGVyZm9ybWFuY2UpXG5cdFx0XHRcdGlmIChlbGVtLmNsaWVudFdpZHRoIDwgZWxlbS5zY3JvbGxXaWR0aCB8fCBlbGVtLmNsaWVudEhlaWdodCA8IGVsZW0uc2Nyb2xsSGVpZ2h0KSB7XG5cdFx0XHRcdFx0dmFyIGVsZW1DU1MgPSBfY3NzKGVsZW0pO1xuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGVsZW0uY2xpZW50V2lkdGggPCBlbGVtLnNjcm9sbFdpZHRoICYmIChlbGVtQ1NTLm92ZXJmbG93WCA9PSAnYXV0bycgfHwgZWxlbUNTUy5vdmVyZmxvd1ggPT0gJ3Njcm9sbCcpIHx8XG5cdFx0XHRcdFx0XHRlbGVtLmNsaWVudEhlaWdodCA8IGVsZW0uc2Nyb2xsSGVpZ2h0ICYmIChlbGVtQ1NTLm92ZXJmbG93WSA9PSAnYXV0bycgfHwgZWxlbUNTUy5vdmVyZmxvd1kgPT0gJ3Njcm9sbCcpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRpZiAoIWVsZW0gfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHx8IGVsZW0gPT09IGRvY3VtZW50LmJvZHkpIHJldHVybiBfZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuXG5cdFx0XHRcdFx0XHRpZiAoZ290U2VsZiB8fCBpbmNsdWRlU2VsZikgcmV0dXJuIGVsZW07XG5cdFx0XHRcdFx0XHRnb3RTZWxmID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdH0gd2hpbGUgKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpO1xuXG5cdFx0XHRyZXR1cm4gX2dldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcblx0XHR9LFxuXG5cdFx0X2dldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmIChJRTExT3JMZXNzKSB7XG5cdFx0XHRcdHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudDtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X3Njcm9sbEJ5ID0gZnVuY3Rpb24oZWwsIHgsIHkpIHtcblx0XHRcdGVsLnNjcm9sbExlZnQgKz0geDtcblx0XHRcdGVsLnNjcm9sbFRvcCArPSB5O1xuXHRcdH0sXG5cblx0XHRfYXV0b1Njcm9sbCA9IF90aHJvdHRsZShmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCwgLyoqT2JqZWN0Ki9vcHRpb25zLCAvKipIVE1MRWxlbWVudCovcm9vdEVsLCAvKipCb29sZWFuKi9pc0ZhbGxiYWNrKSB7XG5cdFx0XHQvLyBCdWc6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTUwNTUyMVxuXHRcdFx0aWYgKG9wdGlvbnMuc2Nyb2xsKSB7XG5cdFx0XHRcdHZhciBfdGhpcyA9IHJvb3RFbCA/IHJvb3RFbFtleHBhbmRvXSA6IHdpbmRvdyxcblx0XHRcdFx0XHRzZW5zID0gb3B0aW9ucy5zY3JvbGxTZW5zaXRpdml0eSxcblx0XHRcdFx0XHRzcGVlZCA9IG9wdGlvbnMuc2Nyb2xsU3BlZWQsXG5cblx0XHRcdFx0XHR4ID0gZXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0eSA9IGV2dC5jbGllbnRZLFxuXG5cdFx0XHRcdFx0d2luU2Nyb2xsZXIgPSBfZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpLFxuXG5cdFx0XHRcdFx0c2Nyb2xsVGhpc0luc3RhbmNlID0gZmFsc2U7XG5cblx0XHRcdFx0Ly8gRGV0ZWN0IHNjcm9sbEVsXG5cdFx0XHRcdGlmIChzY3JvbGxQYXJlbnRFbCAhPT0gcm9vdEVsKSB7XG5cdFx0XHRcdFx0X2NsZWFyQXV0b1Njcm9sbHMoKTtcblxuXHRcdFx0XHRcdHNjcm9sbEVsID0gb3B0aW9ucy5zY3JvbGw7XG5cdFx0XHRcdFx0c2Nyb2xsQ3VzdG9tRm4gPSBvcHRpb25zLnNjcm9sbEZuO1xuXG5cdFx0XHRcdFx0aWYgKHNjcm9sbEVsID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRzY3JvbGxFbCA9IF9nZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChyb290RWwsIHRydWUpO1xuXHRcdFx0XHRcdFx0c2Nyb2xsUGFyZW50RWwgPSBzY3JvbGxFbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdHZhciBsYXllcnNPdXQgPSAwO1xuXHRcdFx0XHR2YXIgY3VycmVudFBhcmVudCA9IHNjcm9sbEVsO1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0dmFyXHRlbCA9IGN1cnJlbnRQYXJlbnQsXG5cdFx0XHRcdFx0XHRyZWN0ID0gX2dldFJlY3QoZWwpLFxuXG5cdFx0XHRcdFx0XHR0b3AgPSByZWN0LnRvcCxcblx0XHRcdFx0XHRcdGJvdHRvbSA9IHJlY3QuYm90dG9tLFxuXHRcdFx0XHRcdFx0bGVmdCA9IHJlY3QubGVmdCxcblx0XHRcdFx0XHRcdHJpZ2h0ID0gcmVjdC5yaWdodCxcblxuXHRcdFx0XHRcdFx0d2lkdGggPSByZWN0LndpZHRoLFxuXHRcdFx0XHRcdFx0aGVpZ2h0ID0gcmVjdC5oZWlnaHQsXG5cblx0XHRcdFx0XHRcdHNjcm9sbFdpZHRoLFxuXHRcdFx0XHRcdFx0c2Nyb2xsSGVpZ2h0LFxuXG5cdFx0XHRcdFx0XHRjc3MsXG5cblx0XHRcdFx0XHRcdHZ4LFxuXHRcdFx0XHRcdFx0dnksXG5cblx0XHRcdFx0XHRcdGNhblNjcm9sbFgsXG5cdFx0XHRcdFx0XHRjYW5TY3JvbGxZLFxuXG5cdFx0XHRcdFx0XHRzY3JvbGxQb3NYLFxuXHRcdFx0XHRcdFx0c2Nyb2xsUG9zWTtcblxuXG5cdFx0XHRcdFx0c2Nyb2xsV2lkdGggPSBlbC5zY3JvbGxXaWR0aDtcblx0XHRcdFx0XHRzY3JvbGxIZWlnaHQgPSBlbC5zY3JvbGxIZWlnaHQ7XG5cblx0XHRcdFx0XHRjc3MgPSBfY3NzKGVsKTtcblxuXHRcdFx0XHRcdHNjcm9sbFBvc1ggPSBlbC5zY3JvbGxMZWZ0O1xuXHRcdFx0XHRcdHNjcm9sbFBvc1kgPSBlbC5zY3JvbGxUb3A7XG5cblx0XHRcdFx0XHRpZiAoZWwgPT09IHdpblNjcm9sbGVyKSB7XG5cdFx0XHRcdFx0XHRjYW5TY3JvbGxYID0gd2lkdGggPCBzY3JvbGxXaWR0aCAmJiAoY3NzLm92ZXJmbG93WCA9PT0gJ2F1dG8nIHx8IGNzcy5vdmVyZmxvd1ggPT09ICdzY3JvbGwnIHx8IGNzcy5vdmVyZmxvd1ggPT09ICd2aXNpYmxlJyk7XG5cdFx0XHRcdFx0XHRjYW5TY3JvbGxZID0gaGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0ICYmIChjc3Mub3ZlcmZsb3dZID09PSAnYXV0bycgfHwgY3NzLm92ZXJmbG93WSA9PT0gJ3Njcm9sbCcgfHwgY3NzLm92ZXJmbG93WSA9PT0gJ3Zpc2libGUnKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2FuU2Nyb2xsWCA9IHdpZHRoIDwgc2Nyb2xsV2lkdGggJiYgKGNzcy5vdmVyZmxvd1ggPT09ICdhdXRvJyB8fCBjc3Mub3ZlcmZsb3dYID09PSAnc2Nyb2xsJyk7XG5cdFx0XHRcdFx0XHRjYW5TY3JvbGxZID0gaGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0ICYmIChjc3Mub3ZlcmZsb3dZID09PSAnYXV0bycgfHwgY3NzLm92ZXJmbG93WSA9PT0gJ3Njcm9sbCcpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZ4ID0gY2FuU2Nyb2xsWCAmJiAoYWJzKHJpZ2h0IC0geCkgPD0gc2VucyAmJiAoc2Nyb2xsUG9zWCArIHdpZHRoKSA8IHNjcm9sbFdpZHRoKSAtIChhYnMobGVmdCAtIHgpIDw9IHNlbnMgJiYgISFzY3JvbGxQb3NYKTtcblxuXHRcdFx0XHRcdHZ5ID0gY2FuU2Nyb2xsWSAmJiAoYWJzKGJvdHRvbSAtIHkpIDw9IHNlbnMgJiYgKHNjcm9sbFBvc1kgKyBoZWlnaHQpIDwgc2Nyb2xsSGVpZ2h0KSAtIChhYnModG9wIC0geSkgPD0gc2VucyAmJiAhIXNjcm9sbFBvc1kpO1xuXG5cblx0XHRcdFx0XHRpZiAoIWF1dG9TY3JvbGxzW2xheWVyc091dF0pIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDw9IGxheWVyc091dDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdGlmICghYXV0b1Njcm9sbHNbaV0pIHtcblx0XHRcdFx0XHRcdFx0XHRhdXRvU2Nyb2xsc1tpXSA9IHt9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGF1dG9TY3JvbGxzW2xheWVyc091dF0udnggIT0gdnggfHwgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eSAhPSB2eSB8fCBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLmVsICE9PSBlbCkge1xuXHRcdFx0XHRcdFx0YXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS5lbCA9IGVsO1xuXHRcdFx0XHRcdFx0YXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eCA9IHZ4O1xuXHRcdFx0XHRcdFx0YXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eSA9IHZ5O1xuXG5cdFx0XHRcdFx0XHRjbGVhckludGVydmFsKGF1dG9TY3JvbGxzW2xheWVyc091dF0ucGlkKTtcblxuXHRcdFx0XHRcdFx0aWYgKGVsICYmICh2eCAhPSAwIHx8IHZ5ICE9IDApKSB7XG5cdFx0XHRcdFx0XHRcdHNjcm9sbFRoaXNJbnN0YW5jZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdC8qIGpzaGludCBsb29wZnVuYzp0cnVlICovXG5cdFx0XHRcdFx0XHRcdGF1dG9TY3JvbGxzW2xheWVyc091dF0ucGlkID0gc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBlbXVsYXRlIGRyYWcgb3ZlciBkdXJpbmcgYXV0b3Njcm9sbCAoZmFsbGJhY2spLCBlbXVsYXRpbmcgbmF0aXZlIERuRCBiZWhhdmlvdXJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaXNGYWxsYmFjayAmJiB0aGlzLmxheWVyID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRTb3J0YWJsZS5hY3RpdmUuX2VtdWxhdGVEcmFnT3Zlcih0cnVlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFNvcnRhYmxlLmFjdGl2ZS5fb25Ub3VjaE1vdmUodG91Y2hFdnQsIHRydWUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR2YXIgc2Nyb2xsT2Zmc2V0WSA9IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ5ID8gYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0udnkgKiBzcGVlZCA6IDA7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHNjcm9sbE9mZnNldFggPSBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eCA/IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ4ICogc3BlZWQgOiAwO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZihzY3JvbGxDdXN0b21GbikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY3JvbGxDdXN0b21Gbi5jYWxsKF90aGlzLCBzY3JvbGxPZmZzZXRYLCBzY3JvbGxPZmZzZXRZLCBldnQsIHRvdWNoRXZ0LCBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS5lbCkgIT09ICdjb250aW51ZScpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdF9zY3JvbGxCeShhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS5lbCwgc2Nyb2xsT2Zmc2V0WCwgc2Nyb2xsT2Zmc2V0WSk7XG5cdFx0XHRcdFx0XHRcdH0pLmJpbmQoe2xheWVyOiBsYXllcnNPdXR9KSwgMjQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsYXllcnNPdXQrKztcblx0XHRcdFx0fSB3aGlsZSAob3B0aW9ucy5idWJibGVTY3JvbGwgJiYgY3VycmVudFBhcmVudCAhPT0gd2luU2Nyb2xsZXIgJiYgKGN1cnJlbnRQYXJlbnQgPSBfZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoY3VycmVudFBhcmVudCwgZmFsc2UpKSk7XG5cdFx0XHRcdHNjcm9sbGluZyA9IHNjcm9sbFRoaXNJbnN0YW5jZTsgLy8gaW4gY2FzZSBhbm90aGVyIGZ1bmN0aW9uIGNhdGNoZXMgc2Nyb2xsaW5nIGFzIGZhbHNlIGluIGJldHdlZW4gd2hlbiBpdCBpcyBub3Rcblx0XHRcdH1cblx0XHR9LCAzMCksXG5cblx0XHRfY2xlYXJBdXRvU2Nyb2xscyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGF1dG9TY3JvbGxzLmZvckVhY2goZnVuY3Rpb24oYXV0b1Njcm9sbCkge1xuXHRcdFx0XHRjbGVhckludGVydmFsKGF1dG9TY3JvbGwucGlkKTtcblx0XHRcdH0pO1xuXHRcdFx0YXV0b1Njcm9sbHMgPSBbXTtcblx0XHR9LFxuXG5cdFx0X3ByZXBhcmVHcm91cCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0XHRmdW5jdGlvbiB0b0ZuKHZhbHVlLCBwdWxsKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih0bywgZnJvbSwgZHJhZ0VsLCBldnQpIHtcblx0XHRcdFx0XHR2YXIgc2FtZUdyb3VwID0gdG8ub3B0aW9ucy5ncm91cC5uYW1lICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRmcm9tLm9wdGlvbnMuZ3JvdXAubmFtZSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0dG8ub3B0aW9ucy5ncm91cC5uYW1lID09PSBmcm9tLm9wdGlvbnMuZ3JvdXAubmFtZTtcblxuXHRcdFx0XHRcdGlmICh2YWx1ZSA9PSBudWxsICYmIChwdWxsIHx8IHNhbWVHcm91cCkpIHtcblx0XHRcdFx0XHRcdC8vIERlZmF1bHQgcHVsbCB2YWx1ZVxuXHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwdWxsIGFuZCBwdXQgdmFsdWUgaWYgc2FtZSBncm91cFxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAocHVsbCAmJiB2YWx1ZSA9PT0gJ2Nsb25lJykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdG9Gbih2YWx1ZSh0bywgZnJvbSwgZHJhZ0VsLCBldnQpLCBwdWxsKSh0bywgZnJvbSwgZHJhZ0VsLCBldnQpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2YXIgb3RoZXJHcm91cCA9IChwdWxsID8gdG8gOiBmcm9tKS5vcHRpb25zLmdyb3VwLm5hbWU7XG5cblx0XHRcdFx0XHRcdHJldHVybiAodmFsdWUgPT09IHRydWUgfHxcblx0XHRcdFx0XHRcdCh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlID09PSBvdGhlckdyb3VwKSB8fFxuXHRcdFx0XHRcdFx0KHZhbHVlLmpvaW4gJiYgdmFsdWUuaW5kZXhPZihvdGhlckdyb3VwKSA+IC0xKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZ3JvdXAgPSB7fTtcblx0XHRcdHZhciBvcmlnaW5hbEdyb3VwID0gb3B0aW9ucy5ncm91cDtcblxuXHRcdFx0aWYgKCFvcmlnaW5hbEdyb3VwIHx8IHR5cGVvZiBvcmlnaW5hbEdyb3VwICE9ICdvYmplY3QnKSB7XG5cdFx0XHRcdG9yaWdpbmFsR3JvdXAgPSB7bmFtZTogb3JpZ2luYWxHcm91cH07XG5cdFx0XHR9XG5cblx0XHRcdGdyb3VwLm5hbWUgPSBvcmlnaW5hbEdyb3VwLm5hbWU7XG5cdFx0XHRncm91cC5jaGVja1B1bGwgPSB0b0ZuKG9yaWdpbmFsR3JvdXAucHVsbCwgdHJ1ZSk7XG5cdFx0XHRncm91cC5jaGVja1B1dCA9IHRvRm4ob3JpZ2luYWxHcm91cC5wdXQpO1xuXHRcdFx0Z3JvdXAucmV2ZXJ0Q2xvbmUgPSBvcmlnaW5hbEdyb3VwLnJldmVydENsb25lO1xuXG5cdFx0XHRvcHRpb25zLmdyb3VwID0gZ3JvdXA7XG5cdFx0fSxcblxuXHRcdF9jaGVja0FsaWdubWVudCA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0aWYgKCFkcmFnRWwgfHwgIWRyYWdFbC5wYXJlbnROb2RlKSByZXR1cm47XG5cdFx0XHRkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXSAmJiBkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5fY29tcHV0ZUlzQWxpZ25lZChldnQpO1xuXHRcdH0sXG5cblx0XHRfaXNUcnVlUGFyZW50U29ydGFibGUgPSBmdW5jdGlvbihlbCwgdGFyZ2V0KSB7XG5cdFx0XHR2YXIgdHJ1ZVBhcmVudCA9IHRhcmdldDtcblx0XHRcdHdoaWxlICghdHJ1ZVBhcmVudFtleHBhbmRvXSkge1xuXHRcdFx0XHR0cnVlUGFyZW50ID0gdHJ1ZVBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWwgPT09IHRydWVQYXJlbnQ7XG5cdFx0fSxcblxuXHRcdF9hcnRpZmljYWxCdWJibGUgPSBmdW5jdGlvbihzb3J0YWJsZSwgb3JpZ2luYWxFdnQsIG1ldGhvZCkge1xuXHRcdFx0Ly8gQXJ0aWZpY2lhbCBJRSBidWJibGluZ1xuXHRcdFx0dmFyIG5leHRQYXJlbnQgPSBzb3J0YWJsZS5wYXJlbnROb2RlO1xuXHRcdFx0d2hpbGUgKG5leHRQYXJlbnQgJiYgIW5leHRQYXJlbnRbZXhwYW5kb10pIHtcblx0XHRcdFx0bmV4dFBhcmVudCA9IG5leHRQYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5leHRQYXJlbnQpIHtcblx0XHRcdFx0bmV4dFBhcmVudFtleHBhbmRvXVttZXRob2RdKF9leHRlbmQob3JpZ2luYWxFdnQsIHtcblx0XHRcdFx0XHRhcnRpZmljaWFsQnViYmxlOiB0cnVlXG5cdFx0XHRcdH0pKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2hpZGVHaG9zdEZvclRhcmdldCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyAmJiBnaG9zdEVsKSB7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfdW5oaWRlR2hvc3RGb3JUYXJnZXQgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMgJiYgZ2hvc3RFbCkge1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJycpO1xuXHRcdFx0fVxuXHRcdH07XG5cblxuXHQvLyAjMTE4NCBmaXggLSBQcmV2ZW50IGNsaWNrIGV2ZW50IG9uIGZhbGxiYWNrIGlmIGRyYWdnZWQgYnV0IGl0ZW0gbm90IGNoYW5nZWQgcG9zaXRpb25cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcblx0XHRpZiAoaWdub3JlTmV4dENsaWNrKSB7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24gJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZXZ0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiAmJiBldnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRpZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sIHRydWUpO1xuXG5cdHZhciBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdGV2dCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQ7XG5cdFx0aWYgKGRyYWdFbCkge1xuXHRcdFx0dmFyIG5lYXJlc3QgPSBfZGV0ZWN0TmVhcmVzdEVtcHR5U29ydGFibGUoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcblxuXHRcdFx0aWYgKG5lYXJlc3QpIHtcblx0XHRcdFx0bmVhcmVzdFtleHBhbmRvXS5fb25EcmFnT3Zlcih7XG5cdFx0XHRcdFx0Y2xpZW50WDogZXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0Y2xpZW50WTogZXZ0LmNsaWVudFksXG5cdFx0XHRcdFx0dGFyZ2V0OiBuZWFyZXN0LFxuXHRcdFx0XHRcdHJvb3RFbDogbmVhcmVzdFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdC8vIFdlIGRvIG5vdCB3YW50IHRoaXMgdG8gYmUgdHJpZ2dlcmVkIGlmIGNvbXBsZXRlZCAoYnViYmxpbmcgY2FuY2VsZWQpLCBzbyBvbmx5IGRlZmluZSBpdCBoZXJlXG5cdF9vbihkb2N1bWVudCwgJ2RyYWdvdmVyJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuXHRfb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG5cdF9vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcblxuXHQvKipcblx0ICogQGNsYXNzICBTb3J0YWJsZVxuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gIGVsXG5cdCAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnNdXG5cdCAqL1xuXHRmdW5jdGlvbiBTb3J0YWJsZShlbCwgb3B0aW9ucykge1xuXHRcdGlmICghKGVsICYmIGVsLm5vZGVUeXBlICYmIGVsLm5vZGVUeXBlID09PSAxKSkge1xuXHRcdFx0dGhyb3cgJ1NvcnRhYmxlOiBgZWxgIG11c3QgYmUgSFRNTEVsZW1lbnQsIG5vdCAnICsge30udG9TdHJpbmcuY2FsbChlbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbCA9IGVsOyAvLyByb290IGVsZW1lbnRcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gX2V4dGVuZCh7fSwgb3B0aW9ucyk7XG5cblxuXHRcdC8vIEV4cG9ydCBpbnN0YW5jZVxuXHRcdGVsW2V4cGFuZG9dID0gdGhpcztcblxuXHRcdC8vIERlZmF1bHQgb3B0aW9uc1xuXHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdGdyb3VwOiBudWxsLFxuXHRcdFx0c29ydDogdHJ1ZSxcblx0XHRcdGRpc2FibGVkOiBmYWxzZSxcblx0XHRcdHN0b3JlOiBudWxsLFxuXHRcdFx0aGFuZGxlOiBudWxsLFxuXHRcdFx0c2Nyb2xsOiB0cnVlLFxuXHRcdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDMwLFxuXHRcdFx0c2Nyb2xsU3BlZWQ6IDEwLFxuXHRcdFx0YnViYmxlU2Nyb2xsOiB0cnVlLFxuXHRcdFx0ZHJhZ2dhYmxlOiAvW3VvXWwvaS50ZXN0KGVsLm5vZGVOYW1lKSA/ICc+bGknIDogJz4qJyxcblx0XHRcdHN3YXBUaHJlc2hvbGQ6IDEsIC8vIHBlcmNlbnRhZ2U7IDAgPD0geCA8PSAxXG5cdFx0XHRpbnZlcnRTd2FwOiBmYWxzZSwgLy8gaW52ZXJ0IGFsd2F5c1xuXHRcdFx0aW52ZXJ0ZWRTd2FwVGhyZXNob2xkOiBudWxsLCAvLyB3aWxsIGJlIHNldCB0byBzYW1lIGFzIHN3YXBUaHJlc2hvbGQgaWYgZGVmYXVsdFxuXHRcdFx0cmVtb3ZlQ2xvbmVPbkhpZGU6IHRydWUsXG5cdFx0XHRkaXJlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gX2RldGVjdERpcmVjdGlvbihlbCwgdGhpcy5vcHRpb25zKTtcblx0XHRcdH0sXG5cdFx0XHRnaG9zdENsYXNzOiAnc29ydGFibGUtZ2hvc3QnLFxuXHRcdFx0Y2hvc2VuQ2xhc3M6ICdzb3J0YWJsZS1jaG9zZW4nLFxuXHRcdFx0ZHJhZ0NsYXNzOiAnc29ydGFibGUtZHJhZycsXG5cdFx0XHRpZ25vcmU6ICdhLCBpbWcnLFxuXHRcdFx0ZmlsdGVyOiBudWxsLFxuXHRcdFx0cHJldmVudE9uRmlsdGVyOiB0cnVlLFxuXHRcdFx0YW5pbWF0aW9uOiAwLFxuXHRcdFx0ZWFzaW5nOiBudWxsLFxuXHRcdFx0c2V0RGF0YTogZnVuY3Rpb24gKGRhdGFUcmFuc2ZlciwgZHJhZ0VsKSB7XG5cdFx0XHRcdGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZHJhZ0VsLnRleHRDb250ZW50KTtcblx0XHRcdH0sXG5cdFx0XHRkcm9wQnViYmxlOiBmYWxzZSxcblx0XHRcdGRyYWdvdmVyQnViYmxlOiBmYWxzZSxcblx0XHRcdGRhdGFJZEF0dHI6ICdkYXRhLWlkJyxcblx0XHRcdGRlbGF5OiAwLFxuXHRcdFx0dG91Y2hTdGFydFRocmVzaG9sZDogcGFyc2VJbnQod2luZG93LmRldmljZVBpeGVsUmF0aW8sIDEwKSB8fCAxLFxuXHRcdFx0Zm9yY2VGYWxsYmFjazogZmFsc2UsXG5cdFx0XHRmYWxsYmFja0NsYXNzOiAnc29ydGFibGUtZmFsbGJhY2snLFxuXHRcdFx0ZmFsbGJhY2tPbkJvZHk6IGZhbHNlLFxuXHRcdFx0ZmFsbGJhY2tUb2xlcmFuY2U6IDAsXG5cdFx0XHRmYWxsYmFja09mZnNldDoge3g6IDAsIHk6IDB9LFxuXHRcdFx0c3VwcG9ydFBvaW50ZXI6IFNvcnRhYmxlLnN1cHBvcnRQb2ludGVyICE9PSBmYWxzZSAmJiAoXG5cdFx0XHRcdCgnUG9pbnRlckV2ZW50JyBpbiB3aW5kb3cpIHx8XG5cdFx0XHRcdHdpbmRvdy5uYXZpZ2F0b3IgJiYgKCdtc1BvaW50ZXJFbmFibGVkJyBpbiB3aW5kb3cubmF2aWdhdG9yKSAvLyBtaWNyb3NvZnRcblx0XHRcdCksXG5cdFx0XHRlbXB0eUluc2VydFRocmVzaG9sZDogNVxuXHRcdH07XG5cblxuXHRcdC8vIFNldCBkZWZhdWx0IG9wdGlvbnNcblx0XHRmb3IgKHZhciBuYW1lIGluIGRlZmF1bHRzKSB7XG5cdFx0XHQhKG5hbWUgaW4gb3B0aW9ucykgJiYgKG9wdGlvbnNbbmFtZV0gPSBkZWZhdWx0c1tuYW1lXSk7XG5cdFx0fVxuXG5cdFx0X3ByZXBhcmVHcm91cChvcHRpb25zKTtcblxuXHRcdC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuXHRcdGZvciAodmFyIGZuIGluIHRoaXMpIHtcblx0XHRcdGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldHVwIGRyYWcgbW9kZVxuXHRcdHRoaXMubmF0aXZlRHJhZ2dhYmxlID0gb3B0aW9ucy5mb3JjZUZhbGxiYWNrID8gZmFsc2UgOiBzdXBwb3J0RHJhZ2dhYmxlO1xuXG5cdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHQvLyBUb3VjaCBzdGFydCB0aHJlc2hvbGQgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiB0aGUgbmF0aXZlIGRyYWdzdGFydCB0aHJlc2hvbGRcblx0XHRcdHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkID0gMTtcblx0XHR9XG5cblx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdGlmIChvcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG5cdFx0XHRfb24oZWwsICdwb2ludGVyZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRfb24oZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHRcdF9vbihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdF9vbihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG5cdFx0XHRfb24oZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcblx0XHR9XG5cblx0XHRzb3J0YWJsZXMucHVzaCh0aGlzLmVsKTtcblxuXHRcdC8vIFJlc3RvcmUgc29ydGluZ1xuXHRcdG9wdGlvbnMuc3RvcmUgJiYgb3B0aW9ucy5zdG9yZS5nZXQgJiYgdGhpcy5zb3J0KG9wdGlvbnMuc3RvcmUuZ2V0KHRoaXMpIHx8IFtdKTtcblx0fVxuXG5cdFNvcnRhYmxlLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgU29ydGFibGUucHJvdG90eXBlICovIHtcblx0XHRjb25zdHJ1Y3RvcjogU29ydGFibGUsXG5cblx0XHRfY29tcHV0ZUlzQWxpZ25lZDogZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHR2YXIgdGFyZ2V0O1xuXG5cdFx0XHRpZiAoZ2hvc3RFbCAmJiAhc3VwcG9ydENzc1BvaW50ZXJFdmVudHMpIHtcblx0XHRcdFx0X2hpZGVHaG9zdEZvclRhcmdldCgpO1xuXHRcdFx0XHR0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG5cdFx0XHRcdF91bmhpZGVHaG9zdEZvclRhcmdldCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFyZ2V0ID0gZXZ0LnRhcmdldDtcblx0XHRcdH1cblxuXHRcdFx0dGFyZ2V0ID0gX2Nsb3Nlc3QodGFyZ2V0LCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsLCBmYWxzZSk7XG5cdFx0XHRpZiAoX2FsaWduZWRTaWxlbnQpIHJldHVybjtcblx0XHRcdGlmICghZHJhZ0VsIHx8IGRyYWdFbC5wYXJlbnROb2RlICE9PSB0aGlzLmVsKSByZXR1cm47XG5cblx0XHRcdHZhciBjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW47XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdC8vIERvbid0IGNoYW5nZSBmb3IgdGFyZ2V0IGluIGNhc2UgaXQgaXMgY2hhbmdlZCB0byBhbGlnbmVkIGJlZm9yZSBvbkRyYWdPdmVyIGlzIGZpcmVkXG5cdFx0XHRcdGlmIChfY2xvc2VzdChjaGlsZHJlbltpXSwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCwgZmFsc2UpICYmIGNoaWxkcmVuW2ldICE9PSB0YXJnZXQpIHtcblx0XHRcdFx0XHRjaGlsZHJlbltpXS5zb3J0YWJsZU1vdXNlQWxpZ25lZCA9IF9pc0NsaWVudEluUm93Q29sdW1uKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSwgY2hpbGRyZW5baV0sIHRoaXMuX2dldERpcmVjdGlvbihldnQsIG51bGwpLCB0aGlzLm9wdGlvbnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBVc2VkIGZvciBudWxsaW5nIGxhc3QgdGFyZ2V0IHdoZW4gbm90IGluIGVsZW1lbnQsIG5vdGhpbmcgdG8gZG8gd2l0aCBjaGVja2luZyBpZiBhbGlnbmVkXG5cdFx0XHRpZiAoIV9jbG9zZXN0KHRhcmdldCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCwgdHJ1ZSkpIHtcblx0XHRcdFx0bGFzdFRhcmdldCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdF9hbGlnbmVkU2lsZW50ID0gdHJ1ZTtcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF9hbGlnbmVkU2lsZW50ID0gZmFsc2U7XG5cdFx0XHR9LCAzMCk7XG5cblx0XHR9LFxuXG5cdFx0X2dldERpcmVjdGlvbjogZnVuY3Rpb24oZXZ0LCB0YXJnZXQpIHtcblx0XHRcdHJldHVybiAodHlwZW9mIHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdmdW5jdGlvbicpID8gdGhpcy5vcHRpb25zLmRpcmVjdGlvbi5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCBkcmFnRWwpIDogdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcblx0XHR9LFxuXG5cdFx0X29uVGFwU3RhcnQ6IGZ1bmN0aW9uICgvKiogRXZlbnR8VG91Y2hFdmVudCAqL2V2dCkge1xuXHRcdFx0aWYgKCFldnQuY2FuY2VsYWJsZSkgcmV0dXJuO1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcyxcblx0XHRcdFx0ZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRwcmV2ZW50T25GaWx0ZXIgPSBvcHRpb25zLnByZXZlbnRPbkZpbHRlcixcblx0XHRcdFx0dHlwZSA9IGV2dC50eXBlLFxuXHRcdFx0XHR0b3VjaCA9IGV2dC50b3VjaGVzICYmIGV2dC50b3VjaGVzWzBdLFxuXHRcdFx0XHR0YXJnZXQgPSAodG91Y2ggfHwgZXZ0KS50YXJnZXQsXG5cdFx0XHRcdG9yaWdpbmFsVGFyZ2V0ID0gZXZ0LnRhcmdldC5zaGFkb3dSb290ICYmICgoZXZ0LnBhdGggJiYgZXZ0LnBhdGhbMF0pIHx8IChldnQuY29tcG9zZWRQYXRoICYmIGV2dC5jb21wb3NlZFBhdGgoKVswXSkpIHx8IHRhcmdldCxcblx0XHRcdFx0ZmlsdGVyID0gb3B0aW9ucy5maWx0ZXIsXG5cdFx0XHRcdHN0YXJ0SW5kZXg7XG5cblx0XHRcdF9zYXZlSW5wdXRDaGVja2VkU3RhdGUoZWwpO1xuXG5cblx0XHRcdC8vIElFOiBDYWxscyBldmVudHMgaW4gY2FwdHVyZSBtb2RlIGlmIGV2ZW50IGVsZW1lbnQgaXMgbmVzdGVkLiBUaGlzIGVuc3VyZXMgb25seSBjb3JyZWN0IGVsZW1lbnQncyBfb25UYXBTdGFydCBnb2VzIHRocm91Z2guXG5cdFx0XHQvLyBUaGlzIHByb2Nlc3MgaXMgYWxzbyBkb25lIGluIF9vbkRyYWdPdmVyXG5cdFx0XHRpZiAoSUUxMU9yTGVzcyAmJiAhZXZ0LmFydGlmaWNpYWxCdWJibGUgJiYgIV9pc1RydWVQYXJlbnRTb3J0YWJsZShlbCwgdGFyZ2V0KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIERvbid0IHRyaWdnZXIgc3RhcnQgZXZlbnQgd2hlbiBhbiBlbGVtZW50IGlzIGJlZW4gZHJhZ2dlZCwgb3RoZXJ3aXNlIHRoZSBldnQub2xkaW5kZXggYWx3YXlzIHdyb25nIHdoZW4gc2V0IG9wdGlvbi5ncm91cC5cblx0XHRcdGlmIChkcmFnRWwpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoL21vdXNlZG93bnxwb2ludGVyZG93bi8udGVzdCh0eXBlKSAmJiBldnQuYnV0dG9uICE9PSAwIHx8IG9wdGlvbnMuZGlzYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuOyAvLyBvbmx5IGxlZnQgYnV0dG9uIGFuZCBlbmFibGVkXG5cdFx0XHR9XG5cblx0XHRcdC8vIGNhbmNlbCBkbmQgaWYgb3JpZ2luYWwgdGFyZ2V0IGlzIGNvbnRlbnQgZWRpdGFibGVcblx0XHRcdGlmIChvcmlnaW5hbFRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRhcmdldCA9IF9jbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsLCBmYWxzZSk7XG5cblx0XHRcdGlmICghdGFyZ2V0KSB7XG5cdFx0XHRcdGlmIChJRTExT3JMZXNzKSB7XG5cdFx0XHRcdFx0X2FydGlmaWNhbEJ1YmJsZShlbCwgZXZ0LCAnX29uVGFwU3RhcnQnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChsYXN0RG93bkVsID09PSB0YXJnZXQpIHtcblx0XHRcdFx0Ly8gSWdub3JpbmcgZHVwbGljYXRlIGBkb3duYFxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRyYWdnZWQgZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXHRcdFx0c3RhcnRJbmRleCA9IF9pbmRleCh0YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcblxuXHRcdFx0Ly8gQ2hlY2sgZmlsdGVyXG5cdFx0XHRpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRpZiAoZmlsdGVyLmNhbGwodGhpcywgZXZ0LCB0YXJnZXQsIHRoaXMpKSB7XG5cdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQoX3RoaXMsIG9yaWdpbmFsVGFyZ2V0LCAnZmlsdGVyJywgdGFyZ2V0LCBlbCwgZWwsIHN0YXJ0SW5kZXgpO1xuXHRcdFx0XHRcdHByZXZlbnRPbkZpbHRlciAmJiBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47IC8vIGNhbmNlbCBkbmRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZmlsdGVyKSB7XG5cdFx0XHRcdGZpbHRlciA9IGZpbHRlci5zcGxpdCgnLCcpLnNvbWUoZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0Y3JpdGVyaWEgPSBfY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgY3JpdGVyaWEudHJpbSgpLCBlbCwgZmFsc2UpO1xuXG5cdFx0XHRcdFx0aWYgKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChfdGhpcywgY3JpdGVyaWEsICdmaWx0ZXInLCB0YXJnZXQsIGVsLCBlbCwgc3RhcnRJbmRleCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChmaWx0ZXIpIHtcblx0XHRcdFx0XHRwcmV2ZW50T25GaWx0ZXIgJiYgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0cmV0dXJuOyAvLyBjYW5jZWwgZG5kXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMuaGFuZGxlICYmICFfY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgb3B0aW9ucy5oYW5kbGUsIGVsLCBmYWxzZSkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQcmVwYXJlIGBkcmFnc3RhcnRgXG5cdFx0XHR0aGlzLl9wcmVwYXJlRHJhZ1N0YXJ0KGV2dCwgdG91Y2gsIHRhcmdldCwgc3RhcnRJbmRleCk7XG5cdFx0fSxcblxuXG5cdFx0X2hhbmRsZUF1dG9TY3JvbGw6IGZ1bmN0aW9uKGV2dCwgZmFsbGJhY2spIHtcblx0XHRcdGlmICghZHJhZ0VsIHx8ICF0aGlzLm9wdGlvbnMuc2Nyb2xsKSByZXR1cm47XG5cdFx0XHR2YXIgeCA9IGV2dC5jbGllbnRYLFxuXHRcdFx0XHR5ID0gZXZ0LmNsaWVudFksXG5cblx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSksXG5cdFx0XHRcdF90aGlzID0gdGhpcztcblxuXHRcdFx0Ly8gSUUgZG9lcyBub3Qgc2VlbSB0byBoYXZlIG5hdGl2ZSBhdXRvc2Nyb2xsLFxuXHRcdFx0Ly8gRWRnZSdzIGF1dG9zY3JvbGwgc2VlbXMgdG9vIGNvbmRpdGlvbmFsLFxuXHRcdFx0Ly8gTUFDT1MgU2FmYXJpIGRvZXMgbm90IGhhdmUgYXV0b3Njcm9sbCxcblx0XHRcdC8vIEZpcmVmb3ggYW5kIENocm9tZSBhcmUgZ29vZFxuXHRcdFx0aWYgKGZhbGxiYWNrIHx8IEVkZ2UgfHwgSUUxMU9yTGVzcyB8fCBTYWZhcmkpIHtcblx0XHRcdFx0X2F1dG9TY3JvbGwoZXZ0LCBfdGhpcy5vcHRpb25zLCBlbGVtLCBmYWxsYmFjayk7XG5cblx0XHRcdFx0Ly8gTGlzdGVuZXIgZm9yIHBvaW50ZXIgZWxlbWVudCBjaGFuZ2Vcblx0XHRcdFx0dmFyIG9nRWxlbVNjcm9sbGVyID0gX2dldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsZW0sIHRydWUpO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0c2Nyb2xsaW5nICYmXG5cdFx0XHRcdFx0KFxuXHRcdFx0XHRcdFx0IXBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsIHx8XG5cdFx0XHRcdFx0XHR4ICE9PSBsYXN0UG9pbnRlckVsZW1YIHx8XG5cdFx0XHRcdFx0XHR5ICE9PSBsYXN0UG9pbnRlckVsZW1ZXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIHtcblxuXHRcdFx0XHRcdHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsICYmIGNsZWFySW50ZXJ2YWwocG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwpO1xuXHRcdFx0XHRcdC8vIERldGVjdCBmb3IgcG9pbnRlciBlbGVtIGNoYW5nZSwgZW11bGF0aW5nIG5hdGl2ZSBEbkQgYmVoYXZpb3VyXG5cdFx0XHRcdFx0cG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICghZHJhZ0VsKSByZXR1cm47XG5cdFx0XHRcdFx0XHQvLyBjb3VsZCBhbHNvIGNoZWNrIGlmIHNjcm9sbCBkaXJlY3Rpb24gb24gbmV3RWxlbSBjaGFuZ2VzIGR1ZSB0byBwYXJlbnQgYXV0b3Njcm9sbGluZ1xuXHRcdFx0XHRcdFx0dmFyIG5ld0VsZW0gPSBfZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KSwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRpZiAobmV3RWxlbSAhPT0gb2dFbGVtU2Nyb2xsZXIpIHtcblx0XHRcdFx0XHRcdFx0b2dFbGVtU2Nyb2xsZXIgPSBuZXdFbGVtO1xuXHRcdFx0XHRcdFx0XHRfY2xlYXJBdXRvU2Nyb2xscygpO1xuXHRcdFx0XHRcdFx0XHRfYXV0b1Njcm9sbChldnQsIF90aGlzLm9wdGlvbnMsIG9nRWxlbVNjcm9sbGVyLCBmYWxsYmFjayk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgMTApO1xuXHRcdFx0XHRcdGxhc3RQb2ludGVyRWxlbVggPSB4O1xuXHRcdFx0XHRcdGxhc3RQb2ludGVyRWxlbVkgPSB5O1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGlmIERuRCBpcyBlbmFibGVkIChhbmQgYnJvd3NlciBoYXMgZ29vZCBhdXRvc2Nyb2xsaW5nKSwgZmlyc3QgYXV0b3Njcm9sbCB3aWxsIGFscmVhZHkgc2Nyb2xsLCBzbyBnZXQgcGFyZW50IGF1dG9zY3JvbGwgb2YgZmlyc3QgYXV0b3Njcm9sbFxuXHRcdFx0XHRpZiAoIV90aGlzLm9wdGlvbnMuYnViYmxlU2Nyb2xsIHx8IF9nZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbGVtLCB0cnVlKSA9PT0gX2dldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSkge1xuXHRcdFx0XHRcdF9jbGVhckF1dG9TY3JvbGxzKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdF9hdXRvU2Nyb2xsKGV2dCwgX3RoaXMub3B0aW9ucywgX2dldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsZW0sIGZhbHNlKSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfcHJlcGFyZURyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudCAqL2V2dCwgLyoqIFRvdWNoICovdG91Y2gsIC8qKiBIVE1MRWxlbWVudCAqL3RhcmdldCwgLyoqIE51bWJlciAqL3N0YXJ0SW5kZXgpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXMsXG5cdFx0XHRcdGVsID0gX3RoaXMuZWwsXG5cdFx0XHRcdG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRvd25lckRvY3VtZW50ID0gZWwub3duZXJEb2N1bWVudCxcblx0XHRcdFx0ZHJhZ1N0YXJ0Rm47XG5cblx0XHRcdGlmICh0YXJnZXQgJiYgIWRyYWdFbCAmJiAodGFyZ2V0LnBhcmVudE5vZGUgPT09IGVsKSkge1xuXHRcdFx0XHRyb290RWwgPSBlbDtcblx0XHRcdFx0ZHJhZ0VsID0gdGFyZ2V0O1xuXHRcdFx0XHRwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlO1xuXHRcdFx0XHRuZXh0RWwgPSBkcmFnRWwubmV4dFNpYmxpbmc7XG5cdFx0XHRcdGxhc3REb3duRWwgPSB0YXJnZXQ7XG5cdFx0XHRcdGFjdGl2ZUdyb3VwID0gb3B0aW9ucy5ncm91cDtcblx0XHRcdFx0b2xkSW5kZXggPSBzdGFydEluZGV4O1xuXG5cdFx0XHRcdHRhcEV2dCA9IHtcblx0XHRcdFx0XHR0YXJnZXQ6IGRyYWdFbCxcblx0XHRcdFx0XHRjbGllbnRYOiAodG91Y2ggfHwgZXZ0KS5jbGllbnRYLFxuXHRcdFx0XHRcdGNsaWVudFk6ICh0b3VjaCB8fCBldnQpLmNsaWVudFlcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLl9sYXN0WCA9ICh0b3VjaCB8fCBldnQpLmNsaWVudFg7XG5cdFx0XHRcdHRoaXMuX2xhc3RZID0gKHRvdWNoIHx8IGV2dCkuY2xpZW50WTtcblxuXHRcdFx0XHRkcmFnRWwuc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAnYWxsJztcblx0XHRcdFx0Ly8gdW5kbyBhbmltYXRpb24gaWYgbmVlZGVkXG5cdFx0XHRcdGRyYWdFbC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG5cdFx0XHRcdGRyYWdFbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcblxuXHRcdFx0XHRkcmFnU3RhcnRGbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQvLyBEZWxheWVkIGRyYWcgaGFzIGJlZW4gdHJpZ2dlcmVkXG5cdFx0XHRcdFx0Ly8gd2UgY2FuIHJlLWVuYWJsZSB0aGUgZXZlbnRzOiB0b3VjaG1vdmUvbW91c2Vtb3ZlXG5cdFx0XHRcdFx0X3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpO1xuXG5cdFx0XHRcdFx0aWYgKCFGaXJlRm94ICYmIF90aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRcdFx0ZHJhZ0VsLmRyYWdnYWJsZSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gQmluZCB0aGUgZXZlbnRzOiBkcmFnc3RhcnQvZHJhZ2VuZFxuXHRcdFx0XHRcdF90aGlzLl90cmlnZ2VyRHJhZ1N0YXJ0KGV2dCwgdG91Y2gpO1xuXG5cdFx0XHRcdFx0Ly8gRHJhZyBzdGFydCBldmVudFxuXHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCByb290RWwsICdjaG9vc2UnLCBkcmFnRWwsIHJvb3RFbCwgcm9vdEVsLCBvbGRJbmRleCk7XG5cblx0XHRcdFx0XHQvLyBDaG9zZW4gaXRlbVxuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuY2hvc2VuQ2xhc3MsIHRydWUpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIERpc2FibGUgXCJkcmFnZ2FibGVcIlxuXHRcdFx0XHRvcHRpb25zLmlnbm9yZS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0X2ZpbmQoZHJhZ0VsLCBjcml0ZXJpYS50cmltKCksIF9kaXNhYmxlRHJhZ2dhYmxlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKG9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIF90aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNYWtlIGRyYWdFbCBkcmFnZ2FibGUgKG11c3QgYmUgYmVmb3JlIGRlbGF5IGZvciBGaXJlRm94KVxuXHRcdFx0XHRpZiAoRmlyZUZveCAmJiB0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRcdHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkID0gNDtcblx0XHRcdFx0XHRkcmFnRWwuZHJhZ2dhYmxlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIERlbGF5IGlzIGltcG9zc2libGUgZm9yIG5hdGl2ZSBEbkQgaW4gRWRnZSBvciBJRVxuXHRcdFx0XHRpZiAob3B0aW9ucy5kZWxheSAmJiAoIXRoaXMubmF0aXZlRHJhZ2dhYmxlIHx8ICEoRWRnZSB8fCBJRTExT3JMZXNzKSkpIHtcblx0XHRcdFx0XHQvLyBJZiB0aGUgdXNlciBtb3ZlcyB0aGUgcG9pbnRlciBvciBsZXQgZ28gdGhlIGNsaWNrIG9yIHRvdWNoXG5cdFx0XHRcdFx0Ly8gYmVmb3JlIHRoZSBkZWxheSBoYXMgYmVlbiByZWFjaGVkOlxuXHRcdFx0XHRcdC8vIGRpc2FibGUgdGhlIGRlbGF5ZWQgZHJhZ1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCBfdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIF90aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuXHRcdFx0XHRcdG9wdGlvbnMuc3VwcG9ydFBvaW50ZXIgJiYgX29uKG93bmVyRG9jdW1lbnQsICdwb2ludGVybW92ZScsIF90aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuXG5cdFx0XHRcdFx0X3RoaXMuX2RyYWdTdGFydFRpbWVyID0gc2V0VGltZW91dChkcmFnU3RhcnRGbiwgb3B0aW9ucy5kZWxheSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZHJhZ1N0YXJ0Rm4oKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyOiBmdW5jdGlvbiAoLyoqIFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50ICoqL2UpIHtcblx0XHRcdHZhciB0b3VjaCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG5cdFx0XHRpZiAobWF4KGFicyh0b3VjaC5jbGllbnRYIC0gdGhpcy5fbGFzdFgpLCBhYnModG91Y2guY2xpZW50WSAtIHRoaXMuX2xhc3RZKSlcblx0XHRcdFx0XHQ+PSBNYXRoLmZsb29yKHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkIC8gKHRoaXMubmF0aXZlRHJhZ2dhYmxlICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfZGlzYWJsZURlbGF5ZWREcmFnOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRkcmFnRWwgJiYgX2Rpc2FibGVEcmFnZ2FibGUoZHJhZ0VsKTtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cblx0XHRcdHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpO1xuXHRcdH0sXG5cblx0XHRfZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZWwub3duZXJEb2N1bWVudDtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG5cdFx0fSxcblxuXHRcdF90cmlnZ2VyRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoLyoqIEV2ZW50ICovZXZ0LCAvKiogVG91Y2ggKi90b3VjaCkge1xuXHRcdFx0dG91Y2ggPSB0b3VjaCB8fCAoZXZ0LnBvaW50ZXJUeXBlID09ICd0b3VjaCcgPyBldnQgOiBudWxsKTtcblxuXHRcdFx0aWYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSB8fCB0b3VjaCkge1xuXHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodG91Y2gpIHtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRfb24oZHJhZ0VsLCAnZHJhZ2VuZCcsIHRoaXMpO1xuXHRcdFx0XHRfb24ocm9vdEVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG5cdFx0XHRcdFx0Ly8gVGltZW91dCBuZWNjZXNzYXJ5IGZvciBJRTlcblx0XHRcdFx0XHRfbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2RyYWdTdGFydGVkOiBmdW5jdGlvbiAoZmFsbGJhY2ssIGV2dCkge1xuXHRcdFx0YXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlO1xuXHRcdFx0aWYgKHJvb3RFbCAmJiBkcmFnRWwpIHtcblx0XHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAnZHJhZ292ZXInLCB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKTtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICdkcmFnb3ZlcicsIF9jaGVja0FsaWdubWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdFx0Ly8gQXBwbHkgZWZmZWN0XG5cdFx0XHRcdCFmYWxsYmFjayAmJiBfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmRyYWdDbGFzcywgZmFsc2UpO1xuXHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdC8vIEluIGNhc2UgZHJhZ2dpbmcgYW4gYW5pbWF0ZWQgZWxlbWVudFxuXHRcdFx0XHRfY3NzKGRyYWdFbCwgJ3RyYW5zZm9ybScsICcnKTtcblxuXHRcdFx0XHRTb3J0YWJsZS5hY3RpdmUgPSB0aGlzO1xuXG5cdFx0XHRcdGZhbGxiYWNrICYmIHRoaXMuX2FwcGVuZEdob3N0KCk7XG5cblx0XHRcdFx0Ly8gRHJhZyBzdGFydCBldmVudFxuXHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzdGFydCcsIGRyYWdFbCwgcm9vdEVsLCByb290RWwsIG9sZEluZGV4LCB1bmRlZmluZWQsIGV2dCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9udWxsaW5nKCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9lbXVsYXRlRHJhZ092ZXI6IGZ1bmN0aW9uIChmb3JBdXRvU2Nyb2xsKSB7XG5cdFx0XHRpZiAodG91Y2hFdnQpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2xhc3RYID09PSB0b3VjaEV2dC5jbGllbnRYICYmIHRoaXMuX2xhc3RZID09PSB0b3VjaEV2dC5jbGllbnRZICYmICFmb3JBdXRvU2Nyb2xsKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX2xhc3RYID0gdG91Y2hFdnQuY2xpZW50WDtcblx0XHRcdFx0dGhpcy5fbGFzdFkgPSB0b3VjaEV2dC5jbGllbnRZO1xuXG5cdFx0XHRcdF9oaWRlR2hvc3RGb3JUYXJnZXQoKTtcblxuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKTtcblx0XHRcdFx0dmFyIHBhcmVudCA9IHRhcmdldDtcblxuXHRcdFx0XHR3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC5zaGFkb3dSb290KSB7XG5cdFx0XHRcdFx0dGFyZ2V0ID0gdGFyZ2V0LnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKTtcblx0XHRcdFx0XHRwYXJlbnQgPSB0YXJnZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFx0aWYgKHBhcmVudFtleHBhbmRvXSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaW5zZXJ0ZWQ7XG5cblx0XHRcdFx0XHRcdFx0aW5zZXJ0ZWQgPSBwYXJlbnRbZXhwYW5kb10uX29uRHJhZ092ZXIoe1xuXHRcdFx0XHRcdFx0XHRcdGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0XHRcdFx0Y2xpZW50WTogdG91Y2hFdnQuY2xpZW50WSxcblx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ6IHRhcmdldCxcblx0XHRcdFx0XHRcdFx0XHRyb290RWw6IHBhcmVudFxuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0ZWQgJiYgIXRoaXMub3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRhcmdldCA9IHBhcmVudDsgLy8gc3RvcmUgbGFzdCBlbGVtZW50XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdFx0XHR3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRyYWdFbC5wYXJlbnROb2RlW2V4cGFuZG9dLl9jb21wdXRlSXNBbGlnbmVkKHRvdWNoRXZ0KTtcblxuXHRcdFx0XHRfdW5oaWRlR2hvc3RGb3JUYXJnZXQoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uICgvKipUb3VjaEV2ZW50Ki9ldnQsIGZvckF1dG9TY3JvbGwpIHtcblx0XHRcdGlmICh0YXBFdnQpIHtcblx0XHRcdFx0dmFyXHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRcdGZhbGxiYWNrVG9sZXJhbmNlID0gb3B0aW9ucy5mYWxsYmFja1RvbGVyYW5jZSxcblx0XHRcdFx0XHRmYWxsYmFja09mZnNldCA9IG9wdGlvbnMuZmFsbGJhY2tPZmZzZXQsXG5cdFx0XHRcdFx0dG91Y2ggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0LFxuXHRcdFx0XHRcdG1hdHJpeCA9IGdob3N0RWwgJiYgX21hdHJpeChnaG9zdEVsKSxcblx0XHRcdFx0XHRzY2FsZVggPSBnaG9zdEVsICYmIG1hdHJpeCAmJiBtYXRyaXguYSxcblx0XHRcdFx0XHRzY2FsZVkgPSBnaG9zdEVsICYmIG1hdHJpeCAmJiBtYXRyaXguZCxcblx0XHRcdFx0XHRyZWxhdGl2ZVNjcm9sbE9mZnNldCA9IFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ICYmIGdob3N0UmVsYXRpdmVQYXJlbnQgJiYgX2dldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0KGdob3N0UmVsYXRpdmVQYXJlbnQpLFxuXHRcdFx0XHRcdGR4ID0gKCh0b3VjaC5jbGllbnRYIC0gdGFwRXZ0LmNsaWVudFgpXG5cdFx0XHRcdFx0XHRcdCsgZmFsbGJhY2tPZmZzZXQueCkgLyAoc2NhbGVYIHx8IDEpXG5cdFx0XHRcdFx0XHRcdCsgKHJlbGF0aXZlU2Nyb2xsT2Zmc2V0ID8gKHJlbGF0aXZlU2Nyb2xsT2Zmc2V0WzBdIC0gZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGxbMF0pIDogMCkgLyAoc2NhbGVYIHx8IDEpLFxuXHRcdFx0XHRcdGR5ID0gKCh0b3VjaC5jbGllbnRZIC0gdGFwRXZ0LmNsaWVudFkpXG5cdFx0XHRcdFx0XHRcdCsgZmFsbGJhY2tPZmZzZXQueSkgLyAoc2NhbGVZIHx8IDEpXG5cdFx0XHRcdFx0XHRcdCsgKHJlbGF0aXZlU2Nyb2xsT2Zmc2V0ID8gKHJlbGF0aXZlU2Nyb2xsT2Zmc2V0WzFdIC0gZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGxbMV0pIDogMCkgLyAoc2NhbGVZIHx8IDEpLFxuXHRcdFx0XHRcdHRyYW5zbGF0ZTNkID0gZXZ0LnRvdWNoZXMgPyAndHJhbnNsYXRlM2QoJyArIGR4ICsgJ3B4LCcgKyBkeSArICdweCwwKScgOiAndHJhbnNsYXRlKCcgKyBkeCArICdweCwnICsgZHkgKyAncHgpJztcblxuXHRcdFx0XHQvLyBvbmx5IHNldCB0aGUgc3RhdHVzIHRvIGRyYWdnaW5nLCB3aGVuIHdlIGFyZSBhY3R1YWxseSBkcmFnZ2luZ1xuXHRcdFx0XHRpZiAoIVNvcnRhYmxlLmFjdGl2ZSAmJiAhYXdhaXRpbmdEcmFnU3RhcnRlZCkge1xuXHRcdFx0XHRcdGlmIChmYWxsYmFja1RvbGVyYW5jZSAmJlxuXHRcdFx0XHRcdFx0bWluKGFicyh0b3VjaC5jbGllbnRYIC0gdGhpcy5fbGFzdFgpLCBhYnModG91Y2guY2xpZW50WSAtIHRoaXMuX2xhc3RZKSkgPCBmYWxsYmFja1RvbGVyYW5jZVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLl9vbkRyYWdTdGFydChldnQsIHRydWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0IWZvckF1dG9TY3JvbGwgJiYgdGhpcy5faGFuZGxlQXV0b1Njcm9sbCh0b3VjaCwgdHJ1ZSk7XG5cblx0XHRcdFx0bW92ZWQgPSB0cnVlO1xuXHRcdFx0XHR0b3VjaEV2dCA9IHRvdWNoO1xuXG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3dlYmtpdFRyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnbW96VHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdtc1RyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAndHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXG5cdFx0XHRcdGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfYXBwZW5kR2hvc3Q6IGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIEJ1ZyBpZiB1c2luZyBzY2FsZSgpOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjM3MDU4XG5cdFx0XHQvLyBOb3QgYmVpbmcgYWRqdXN0ZWQgZm9yXG5cdFx0XHRpZiAoIWdob3N0RWwpIHtcblx0XHRcdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMub3B0aW9ucy5mYWxsYmFja09uQm9keSA/IGRvY3VtZW50LmJvZHkgOiByb290RWwsXG5cdFx0XHRcdFx0cmVjdCA9IF9nZXRSZWN0KGRyYWdFbCwgdHJ1ZSwgY29udGFpbmVyLCAhUG9zaXRpb25HaG9zdEFic29sdXRlbHkpLFxuXHRcdFx0XHRcdGNzcyA9IF9jc3MoZHJhZ0VsKSxcblx0XHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRcdC8vIFBvc2l0aW9uIGFic29sdXRlbHlcblx0XHRcdFx0aWYgKFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5KSB7XG5cdFx0XHRcdFx0Ly8gR2V0IHJlbGF0aXZlbHkgcG9zaXRpb25lZCBwYXJlbnRcblx0XHRcdFx0XHRnaG9zdFJlbGF0aXZlUGFyZW50ID0gY29udGFpbmVyO1xuXG5cdFx0XHRcdFx0d2hpbGUgKFxuXHRcdFx0XHRcdFx0X2NzcyhnaG9zdFJlbGF0aXZlUGFyZW50LCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycgJiZcblx0XHRcdFx0XHRcdF9jc3MoZ2hvc3RSZWxhdGl2ZVBhcmVudCwgJ3RyYW5zZm9ybScpID09PSAnbm9uZScgJiZcblx0XHRcdFx0XHRcdGdob3N0UmVsYXRpdmVQYXJlbnQgIT09IGRvY3VtZW50XG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRnaG9zdFJlbGF0aXZlUGFyZW50ID0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChnaG9zdFJlbGF0aXZlUGFyZW50ICE9PSBkb2N1bWVudCkge1xuXHRcdFx0XHRcdFx0dmFyIGdob3N0UmVsYXRpdmVQYXJlbnRSZWN0ID0gX2dldFJlY3QoZ2hvc3RSZWxhdGl2ZVBhcmVudCwgdHJ1ZSk7XG5cblx0XHRcdFx0XHRcdHJlY3QudG9wIC09IGdob3N0UmVsYXRpdmVQYXJlbnRSZWN0LnRvcDtcblx0XHRcdFx0XHRcdHJlY3QubGVmdCAtPSBnaG9zdFJlbGF0aXZlUGFyZW50UmVjdC5sZWZ0O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChnaG9zdFJlbGF0aXZlUGFyZW50ICE9PSBkb2N1bWVudC5ib2R5ICYmIGdob3N0UmVsYXRpdmVQYXJlbnQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuXHRcdFx0XHRcdFx0aWYgKGdob3N0UmVsYXRpdmVQYXJlbnQgPT09IGRvY3VtZW50KSBnaG9zdFJlbGF0aXZlUGFyZW50ID0gX2dldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcblxuXHRcdFx0XHRcdFx0cmVjdC50b3AgKz0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5zY3JvbGxUb3A7XG5cdFx0XHRcdFx0XHRyZWN0LmxlZnQgKz0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5zY3JvbGxMZWZ0O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRnaG9zdFJlbGF0aXZlUGFyZW50ID0gX2dldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Z2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGwgPSBfZ2V0UmVsYXRpdmVTY3JvbGxPZmZzZXQoZ2hvc3RSZWxhdGl2ZVBhcmVudCk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGdob3N0RWwgPSBkcmFnRWwuY2xvbmVOb2RlKHRydWUpO1xuXG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZmFsbGJhY2tDbGFzcywgdHJ1ZSk7XG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmRyYWdDbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnYm94LXNpemluZycsICdib3JkZXItYm94Jyk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ21hcmdpbicsIDApO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd0b3AnLCByZWN0LnRvcCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2xlZnQnLCByZWN0LmxlZnQpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ29wYWNpdHknLCAnMC44Jyk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3Bvc2l0aW9uJywgKFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ID8gJ2Fic29sdXRlJyA6ICdmaXhlZCcpKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnekluZGV4JywgJzEwMDAwMCcpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdwb2ludGVyRXZlbnRzJywgJ25vbmUnKTtcblxuXHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoZ2hvc3RFbCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vbkRyYWdTdGFydDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQsIC8qKmJvb2xlYW4qL2ZhbGxiYWNrKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcdFx0dmFyIGRhdGFUcmFuc2ZlciA9IGV2dC5kYXRhVHJhbnNmZXI7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG5cblx0XHRcdC8vIFNldHVwIGNsb25lXG5cdFx0XHRjbG9uZUVsID0gX2Nsb25lKGRyYWdFbCk7XG5cblx0XHRcdGNsb25lRWwuZHJhZ2dhYmxlID0gZmFsc2U7XG5cdFx0XHRjbG9uZUVsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJyc7XG5cblx0XHRcdHRoaXMuX2hpZGVDbG9uZSgpO1xuXG5cdFx0XHRfdG9nZ2xlQ2xhc3MoY2xvbmVFbCwgX3RoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuXG5cblx0XHRcdC8vICMxMTQzOiBJRnJhbWUgc3VwcG9ydCB3b3JrYXJvdW5kXG5cdFx0XHRfdGhpcy5fY2xvbmVJZCA9IF9uZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICghX3RoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSkge1xuXHRcdFx0XHRcdHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRfZGlzcGF0Y2hFdmVudChfdGhpcywgcm9vdEVsLCAnY2xvbmUnLCBkcmFnRWwpO1xuXHRcdFx0fSk7XG5cblxuXHRcdFx0IWZhbGxiYWNrICYmIF90b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuZHJhZ0NsYXNzLCB0cnVlKTtcblxuXHRcdFx0Ly8gU2V0IHByb3BlciBkcm9wIGV2ZW50c1xuXHRcdFx0aWYgKGZhbGxiYWNrKSB7XG5cdFx0XHRcdGlnbm9yZU5leHRDbGljayA9IHRydWU7XG5cdFx0XHRcdF90aGlzLl9sb29wSWQgPSBzZXRJbnRlcnZhbChfdGhpcy5fZW11bGF0ZURyYWdPdmVyLCA1MCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBVbmRvIHdoYXQgd2FzIHNldCBpbiBfcHJlcGFyZURyYWdTdGFydCBiZWZvcmUgZHJhZyBzdGFydGVkXG5cdFx0XHRcdF9vZmYoZG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG5cdFx0XHRcdF9vZmYoZG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRfb2ZmKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fb25Ecm9wKTtcblxuXHRcdFx0XHRpZiAoZGF0YVRyYW5zZmVyKSB7XG5cdFx0XHRcdFx0ZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG5cdFx0XHRcdFx0b3B0aW9ucy5zZXREYXRhICYmIG9wdGlvbnMuc2V0RGF0YS5jYWxsKF90aGlzLCBkYXRhVHJhbnNmZXIsIGRyYWdFbCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfb24oZG9jdW1lbnQsICdkcm9wJywgX3RoaXMpO1xuXG5cdFx0XHRcdC8vICMxMjc2IGZpeDpcblx0XHRcdFx0X2NzcyhkcmFnRWwsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWigwKScpO1xuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdGluZ0RyYWdTdGFydGVkID0gdHJ1ZTtcblxuXHRcdFx0X3RoaXMuX2RyYWdTdGFydElkID0gX25leHRUaWNrKF90aGlzLl9kcmFnU3RhcnRlZC5iaW5kKF90aGlzLCBmYWxsYmFjaywgZXZ0KSk7XG5cdFx0XHRfb24oZG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIF90aGlzKTtcblx0XHRcdGlmIChTYWZhcmkpIHtcblx0XHRcdFx0X2Nzcyhkb2N1bWVudC5ib2R5LCAndXNlci1zZWxlY3QnLCAnbm9uZScpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdC8vIFJldHVybnMgdHJ1ZSAtIGlmIG5vIGZ1cnRoZXIgYWN0aW9uIGlzIG5lZWRlZCAoZWl0aGVyIGluc2VydGVkIG9yIGFub3RoZXIgY29uZGl0aW9uKVxuXHRcdF9vbkRyYWdPdmVyOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbCxcblx0XHRcdFx0dGFyZ2V0ID0gZXZ0LnRhcmdldCxcblx0XHRcdFx0ZHJhZ1JlY3QsXG5cdFx0XHRcdHRhcmdldFJlY3QsXG5cdFx0XHRcdHJldmVydCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdFx0Z3JvdXAgPSBvcHRpb25zLmdyb3VwLFxuXHRcdFx0XHRhY3RpdmVTb3J0YWJsZSA9IFNvcnRhYmxlLmFjdGl2ZSxcblx0XHRcdFx0aXNPd25lciA9IChhY3RpdmVHcm91cCA9PT0gZ3JvdXApLFxuXHRcdFx0XHRjYW5Tb3J0ID0gb3B0aW9ucy5zb3J0LFxuXHRcdFx0XHRfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGlmIChfc2lsZW50KSByZXR1cm47XG5cblx0XHRcdC8vIElFIGV2ZW50IG9yZGVyIGZpeFxuXHRcdFx0aWYgKElFMTFPckxlc3MgJiYgIWV2dC5yb290RWwgJiYgIWV2dC5hcnRpZmljaWFsQnViYmxlICYmICFfaXNUcnVlUGFyZW50U29ydGFibGUoZWwsIHRhcmdldCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXR1cm4gaW52b2NhdGlvbiB3aGVuIGRyYWdFbCBpcyBpbnNlcnRlZCAob3IgY29tcGxldGVkKVxuXHRcdFx0ZnVuY3Rpb24gY29tcGxldGVkKGluc2VydGlvbikge1xuXHRcdFx0XHRpZiAoaW5zZXJ0aW9uKSB7XG5cdFx0XHRcdFx0aWYgKGlzT3duZXIpIHtcblx0XHRcdFx0XHRcdGFjdGl2ZVNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YWN0aXZlU29ydGFibGUuX3Nob3dDbG9uZShfdGhpcyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGFjdGl2ZVNvcnRhYmxlKSB7XG5cdFx0XHRcdFx0XHQvLyBTZXQgZ2hvc3QgY2xhc3MgdG8gbmV3IHNvcnRhYmxlJ3MgZ2hvc3QgY2xhc3Ncblx0XHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIHB1dFNvcnRhYmxlID8gcHV0U29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzIDogYWN0aXZlU29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChwdXRTb3J0YWJsZSAhPT0gX3RoaXMgJiYgX3RoaXMgIT09IFNvcnRhYmxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdFx0cHV0U29ydGFibGUgPSBfdGhpcztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKF90aGlzID09PSBTb3J0YWJsZS5hY3RpdmUpIHtcblx0XHRcdFx0XHRcdHB1dFNvcnRhYmxlID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBBbmltYXRpb25cblx0XHRcdFx0XHRkcmFnUmVjdCAmJiBfdGhpcy5fYW5pbWF0ZShkcmFnUmVjdCwgZHJhZ0VsKTtcblx0XHRcdFx0XHR0YXJnZXQgJiYgdGFyZ2V0UmVjdCAmJiBfdGhpcy5fYW5pbWF0ZSh0YXJnZXRSZWN0LCB0YXJnZXQpO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHQvLyBOdWxsIGxhc3RUYXJnZXQgaWYgaXQgaXMgbm90IGluc2lkZSBhIHByZXZpb3VzbHkgc3dhcHBlZCBlbGVtZW50XG5cdFx0XHRcdGlmICgodGFyZ2V0ID09PSBkcmFnRWwgJiYgIWRyYWdFbC5hbmltYXRlZCkgfHwgKHRhcmdldCA9PT0gZWwgJiYgIXRhcmdldC5hbmltYXRlZCkpIHtcblx0XHRcdFx0XHRsYXN0VGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBubyBidWJibGluZyBhbmQgbm90IGZhbGxiYWNrXG5cdFx0XHRcdGlmICghb3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSAmJiAhZXZ0LnJvb3RFbCAmJiB0YXJnZXQgIT09IGRvY3VtZW50KSB7XG5cdFx0XHRcdFx0X3RoaXMuX2hhbmRsZUF1dG9TY3JvbGwoZXZ0KTtcblx0XHRcdFx0XHRkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5fY29tcHV0ZUlzQWxpZ25lZChldnQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0IW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbiAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgd2hlbiBkcmFnRWwgaGFzIGJlZW4gaW5zZXJ0ZWRcblx0XHRcdGZ1bmN0aW9uIGNoYW5nZWQoKSB7XG5cdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCByb290RWwsICdjaGFuZ2UnLCB0YXJnZXQsIGVsLCByb290RWwsIG9sZEluZGV4LCBfaW5kZXgoZHJhZ0VsLCBvcHRpb25zLmRyYWdnYWJsZSksIGV2dCk7XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKGV2dC5wcmV2ZW50RGVmYXVsdCAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXG5cblx0XHRcdG1vdmVkID0gdHJ1ZTtcblxuXHRcdFx0dGFyZ2V0ID0gX2Nsb3Nlc3QodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwsIHRydWUpO1xuXG5cdFx0XHQvLyB0YXJnZXQgaXMgZHJhZ0VsIG9yIHRhcmdldCBpcyBhbmltYXRlZFxuXHRcdFx0aWYgKCEhX2Nsb3Nlc3QoZXZ0LnRhcmdldCwgbnVsbCwgZHJhZ0VsLCB0cnVlKSB8fCB0YXJnZXQuYW5pbWF0ZWQpIHtcblx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0YXJnZXQgIT09IGRyYWdFbCkge1xuXHRcdFx0XHRpZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGFjdGl2ZVNvcnRhYmxlICYmICFvcHRpb25zLmRpc2FibGVkICYmXG5cdFx0XHRcdChpc093bmVyXG5cdFx0XHRcdFx0PyBjYW5Tb3J0IHx8IChyZXZlcnQgPSAhcm9vdEVsLmNvbnRhaW5zKGRyYWdFbCkpIC8vIFJldmVydGluZyBpdGVtIGludG8gdGhlIG9yaWdpbmFsIGxpc3Rcblx0XHRcdFx0XHQ6IChcblx0XHRcdFx0XHRcdHB1dFNvcnRhYmxlID09PSB0aGlzIHx8XG5cdFx0XHRcdFx0XHQoXG5cdFx0XHRcdFx0XHRcdCh0aGlzLmxhc3RQdXRNb2RlID0gYWN0aXZlR3JvdXAuY2hlY2tQdWxsKHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dCkpICYmXG5cdFx0XHRcdFx0XHRcdGdyb3VwLmNoZWNrUHV0KHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHR2YXIgYXhpcyA9IHRoaXMuX2dldERpcmVjdGlvbihldnQsIHRhcmdldCk7XG5cblx0XHRcdFx0ZHJhZ1JlY3QgPSBfZ2V0UmVjdChkcmFnRWwpO1xuXG5cdFx0XHRcdGlmIChyZXZlcnQpIHtcblx0XHRcdFx0XHR0aGlzLl9oaWRlQ2xvbmUoKTtcblx0XHRcdFx0XHRwYXJlbnRFbCA9IHJvb3RFbDsgLy8gYWN0dWFsaXphdGlvblxuXG5cdFx0XHRcdFx0aWYgKG5leHRFbCkge1xuXHRcdFx0XHRcdFx0cm9vdEVsLmluc2VydEJlZm9yZShkcmFnRWwsIG5leHRFbCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJvb3RFbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgZWxMYXN0Q2hpbGQgPSBfbGFzdENoaWxkKGVsKTtcblxuXHRcdFx0XHRpZiAoIWVsTGFzdENoaWxkIHx8IF9naG9zdElzTGFzdChldnQsIGF4aXMsIGVsKSAmJiAhZWxMYXN0Q2hpbGQuYW5pbWF0ZWQpIHtcblx0XHRcdFx0XHQvLyBhc3NpZ24gdGFyZ2V0IG9ubHkgaWYgY29uZGl0aW9uIGlzIHRydWVcblx0XHRcdFx0XHRpZiAoZWxMYXN0Q2hpbGQgJiYgZWwgPT09IGV2dC50YXJnZXQpIHtcblx0XHRcdFx0XHRcdHRhcmdldCA9IGVsTGFzdENoaWxkO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICh0YXJnZXQpIHtcblx0XHRcdFx0XHRcdHRhcmdldFJlY3QgPSBfZ2V0UmVjdCh0YXJnZXQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChpc093bmVyKSB7XG5cdFx0XHRcdFx0XHRhY3RpdmVTb3J0YWJsZS5faGlkZUNsb25lKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUodGhpcyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQsICEhdGFyZ2V0KSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0XHRwYXJlbnRFbCA9IGVsOyAvLyBhY3R1YWxpemF0aW9uXG5cdFx0XHRcdFx0XHRyZWFsRHJhZ0VsUmVjdCA9IG51bGw7XG5cblx0XHRcdFx0XHRcdGNoYW5nZWQoKTtcblx0XHRcdFx0XHRcdHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09IGRyYWdFbCAmJiB0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpIHtcblx0XHRcdFx0XHR2YXIgZGlyZWN0aW9uID0gMCxcblx0XHRcdFx0XHRcdHRhcmdldEJlZm9yZUZpcnN0U3dhcCxcblx0XHRcdFx0XHRcdGFsaWduZWQgPSB0YXJnZXQuc29ydGFibGVNb3VzZUFsaWduZWQsXG5cdFx0XHRcdFx0XHRkaWZmZXJlbnRMZXZlbCA9IGRyYWdFbC5wYXJlbnROb2RlICE9PSBlbCxcblx0XHRcdFx0XHRcdHNpZGUxID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/ICd0b3AnIDogJ2xlZnQnLFxuXHRcdFx0XHRcdFx0c2Nyb2xsZWRQYXN0VG9wID0gX2lzU2Nyb2xsZWRQYXN0KHRhcmdldCwgJ3RvcCcpIHx8IF9pc1Njcm9sbGVkUGFzdChkcmFnRWwsICd0b3AnKSxcblx0XHRcdFx0XHRcdHNjcm9sbEJlZm9yZSA9IHNjcm9sbGVkUGFzdFRvcCA/IHNjcm9sbGVkUGFzdFRvcC5zY3JvbGxUb3AgOiB2b2lkIDA7XG5cblxuXHRcdFx0XHRcdGlmIChsYXN0VGFyZ2V0ICE9PSB0YXJnZXQpIHtcblx0XHRcdFx0XHRcdGxhc3RNb2RlID0gbnVsbDtcblx0XHRcdFx0XHRcdHRhcmdldEJlZm9yZUZpcnN0U3dhcCA9IF9nZXRSZWN0KHRhcmdldClbc2lkZTFdO1xuXHRcdFx0XHRcdFx0cGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUmVmZXJlbmNlOiBodHRwczovL3d3dy5sdWNpZGNoYXJ0LmNvbS9kb2N1bWVudHMvdmlldy8xMGZhMGU5My1lMzYyLTQxMjYtYWNhMi1iNzA5ZWU1NmJkOGIvMFxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdF9pc0VsSW5Sb3dDb2x1bW4oZHJhZ0VsLCB0YXJnZXQsIGF4aXMpICYmIGFsaWduZWQgfHxcblx0XHRcdFx0XHRcdGRpZmZlcmVudExldmVsIHx8XG5cdFx0XHRcdFx0XHRzY3JvbGxlZFBhc3RUb3AgfHxcblx0XHRcdFx0XHRcdG9wdGlvbnMuaW52ZXJ0U3dhcCB8fFxuXHRcdFx0XHRcdFx0bGFzdE1vZGUgPT09ICdpbnNlcnQnIHx8XG5cdFx0XHRcdFx0XHQvLyBOZWVkZWQsIGluIHRoZSBjYXNlIHRoYXQgd2UgYXJlIGluc2lkZSB0YXJnZXQgYW5kIGluc2VydGVkIGJlY2F1c2Ugbm90IGFsaWduZWQuLi4gYWxpZ25lZCB3aWxsIHN0YXkgZmFsc2Ugd2hpbGUgaW5zaWRlXG5cdFx0XHRcdFx0XHQvLyBhbmQgbGFzdE1vZGUgd2lsbCBjaGFuZ2UgdG8gJ2luc2VydCcsIGJ1dCB3ZSBtdXN0IHN3YXBcblx0XHRcdFx0XHRcdGxhc3RNb2RlID09PSAnc3dhcCdcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdC8vIE5ldyB0YXJnZXQgdGhhdCB3ZSB3aWxsIGJlIGluc2lkZVxuXHRcdFx0XHRcdFx0aWYgKGxhc3RNb2RlICE9PSAnc3dhcCcpIHtcblx0XHRcdFx0XHRcdFx0aXNDaXJjdW1zdGFudGlhbEludmVydCA9IG9wdGlvbnMuaW52ZXJ0U3dhcCB8fCBkaWZmZXJlbnRMZXZlbDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uID0gX2dldFN3YXBEaXJlY3Rpb24oZXZ0LCB0YXJnZXQsIGF4aXMsXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnMuc3dhcFRocmVzaG9sZCwgb3B0aW9ucy5pbnZlcnRlZFN3YXBUaHJlc2hvbGQgPT0gbnVsbCA/IG9wdGlvbnMuc3dhcFRocmVzaG9sZCA6IG9wdGlvbnMuaW52ZXJ0ZWRTd2FwVGhyZXNob2xkLFxuXHRcdFx0XHRcdFx0XHRpc0NpcmN1bXN0YW50aWFsSW52ZXJ0LFxuXHRcdFx0XHRcdFx0XHRsYXN0VGFyZ2V0ID09PSB0YXJnZXQpO1xuXHRcdFx0XHRcdFx0bGFzdE1vZGUgPSAnc3dhcCc7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIEluc2VydCBhdCBwb3NpdGlvblxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uID0gX2dldEluc2VydERpcmVjdGlvbih0YXJnZXQpO1xuXHRcdFx0XHRcdFx0bGFzdE1vZGUgPSAnaW5zZXJ0Jztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGRpcmVjdGlvbiA9PT0gMCkgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG5cblx0XHRcdFx0XHRyZWFsRHJhZ0VsUmVjdCA9IG51bGw7XG5cdFx0XHRcdFx0bGFzdFRhcmdldCA9IHRhcmdldDtcblxuXHRcdFx0XHRcdGxhc3REaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cblx0XHRcdFx0XHR0YXJnZXRSZWN0ID0gX2dldFJlY3QodGFyZ2V0KTtcblxuXHRcdFx0XHRcdHZhciBuZXh0U2libGluZyA9IHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcsXG5cdFx0XHRcdFx0XHRhZnRlciA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0YWZ0ZXIgPSBkaXJlY3Rpb24gPT09IDE7XG5cblx0XHRcdFx0XHR2YXIgbW92ZVZlY3RvciA9IF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQsIGFmdGVyKTtcblxuXHRcdFx0XHRcdGlmIChtb3ZlVmVjdG9yICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0aWYgKG1vdmVWZWN0b3IgPT09IDEgfHwgbW92ZVZlY3RvciA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSAobW92ZVZlY3RvciA9PT0gMSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdF9zaWxlbnQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChfdW5zaWxlbnQsIDMwKTtcblxuXHRcdFx0XHRcdFx0aWYgKGlzT3duZXIpIHtcblx0XHRcdFx0XHRcdFx0YWN0aXZlU29ydGFibGUuX2hpZGVDbG9uZSgpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YWN0aXZlU29ydGFibGUuX3Nob3dDbG9uZSh0aGlzKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGFmdGVyICYmICFuZXh0U2libGluZykge1xuXHRcdFx0XHRcdFx0XHRlbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgYWZ0ZXIgPyBuZXh0U2libGluZyA6IHRhcmdldCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFVuZG8gY2hyb21lJ3Mgc2Nyb2xsIGFkanVzdG1lbnRcblx0XHRcdFx0XHRcdGlmIChzY3JvbGxlZFBhc3RUb3ApIHtcblx0XHRcdFx0XHRcdFx0X3Njcm9sbEJ5KHNjcm9sbGVkUGFzdFRvcCwgMCwgc2Nyb2xsQmVmb3JlIC0gc2Nyb2xsZWRQYXN0VG9wLnNjcm9sbFRvcCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7IC8vIGFjdHVhbGl6YXRpb25cblxuXHRcdFx0XHRcdFx0Ly8gbXVzdCBiZSBkb25lIGJlZm9yZSBhbmltYXRpb25cblx0XHRcdFx0XHRcdGlmICh0YXJnZXRCZWZvcmVGaXJzdFN3YXAgIT09IHVuZGVmaW5lZCAmJiAhaXNDaXJjdW1zdGFudGlhbEludmVydCkge1xuXHRcdFx0XHRcdFx0XHR0YXJnZXRNb3ZlRGlzdGFuY2UgPSBhYnModGFyZ2V0QmVmb3JlRmlyc3RTd2FwIC0gX2dldFJlY3QodGFyZ2V0KVtzaWRlMV0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y2hhbmdlZCgpO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkKHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChlbC5jb250YWlucyhkcmFnRWwpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKElFMTFPckxlc3MgJiYgIWV2dC5yb290RWwpIHtcblx0XHRcdFx0X2FydGlmaWNhbEJ1YmJsZShlbCwgZXZ0LCAnX29uRHJhZ092ZXInKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cblx0XHRfYW5pbWF0ZTogZnVuY3Rpb24gKHByZXZSZWN0LCB0YXJnZXQpIHtcblx0XHRcdHZhciBtcyA9IHRoaXMub3B0aW9ucy5hbmltYXRpb247XG5cblx0XHRcdGlmIChtcykge1xuXHRcdFx0XHR2YXIgY3VycmVudFJlY3QgPSBfZ2V0UmVjdCh0YXJnZXQpO1xuXG5cdFx0XHRcdGlmICh0YXJnZXQgPT09IGRyYWdFbCkge1xuXHRcdFx0XHRcdHJlYWxEcmFnRWxSZWN0ID0gY3VycmVudFJlY3Q7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAocHJldlJlY3Qubm9kZVR5cGUgPT09IDEpIHtcblx0XHRcdFx0XHRwcmV2UmVjdCA9IF9nZXRSZWN0KHByZXZSZWN0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENoZWNrIGlmIGFjdHVhbGx5IG1vdmluZyBwb3NpdGlvblxuXHRcdFx0XHRpZiAoKHByZXZSZWN0LmxlZnQgKyBwcmV2UmVjdC53aWR0aCAvIDIpICE9PSAoY3VycmVudFJlY3QubGVmdCArIGN1cnJlbnRSZWN0LndpZHRoIC8gMilcblx0XHRcdFx0XHR8fCAocHJldlJlY3QudG9wICsgcHJldlJlY3QuaGVpZ2h0IC8gMikgIT09IChjdXJyZW50UmVjdC50b3AgKyBjdXJyZW50UmVjdC5oZWlnaHQgLyAyKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHR2YXIgbWF0cml4ID0gX21hdHJpeCh0aGlzLmVsKSxcblx0XHRcdFx0XHRcdHNjYWxlWCA9IG1hdHJpeCAmJiBtYXRyaXguYSxcblx0XHRcdFx0XHRcdHNjYWxlWSA9IG1hdHJpeCAmJiBtYXRyaXguZDtcblxuXHRcdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICdub25lJyk7XG5cdFx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJ1xuXHRcdFx0XHRcdFx0KyAocHJldlJlY3QubGVmdCAtIGN1cnJlbnRSZWN0LmxlZnQpIC8gKHNjYWxlWCA/IHNjYWxlWCA6IDEpICsgJ3B4LCdcblx0XHRcdFx0XHRcdCsgKHByZXZSZWN0LnRvcCAtIGN1cnJlbnRSZWN0LnRvcCkgLyAoc2NhbGVZID8gc2NhbGVZIDogMSkgKyAncHgsMCknXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGZvclJlcGFpbnREdW1teSA9IHRhcmdldC5vZmZzZXRXaWR0aDsgLy8gcmVwYWludFxuXHRcdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICd0cmFuc2Zvcm0gJyArIG1zICsgJ21zJyArICh0aGlzLm9wdGlvbnMuZWFzaW5nID8gJyAnICsgdGhpcy5vcHRpb25zLmVhc2luZyA6ICcnKSk7XG5cdFx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwwLDApJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQodHlwZW9mIHRhcmdldC5hbmltYXRlZCA9PT0gJ251bWJlcicpICYmIGNsZWFyVGltZW91dCh0YXJnZXQuYW5pbWF0ZWQpO1xuXHRcdFx0XHR0YXJnZXQuYW5pbWF0ZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnJyk7XG5cdFx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAnJyk7XG5cdFx0XHRcdFx0dGFyZ2V0LmFuaW1hdGVkID0gZmFsc2U7XG5cdFx0XHRcdH0sIG1zKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X29mZlVwRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZWwub3duZXJEb2N1bWVudDtcblxuXHRcdFx0X29mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblx0XHRcdF9vZmYoZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAncG9pbnRlcnVwJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYoZG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIHRoaXMpO1xuXHRcdH0sXG5cblx0XHRfb25Ecm9wOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XHRcdGF3YWl0aW5nRHJhZ1N0YXJ0ZWQgPSBmYWxzZTtcblx0XHRcdHNjcm9sbGluZyA9IGZhbHNlO1xuXHRcdFx0aXNDaXJjdW1zdGFudGlhbEludmVydCA9IGZhbHNlO1xuXHRcdFx0cGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2U7XG5cblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5fbG9vcElkKTtcblxuXHRcdFx0Y2xlYXJJbnRlcnZhbChwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCk7XG5cdFx0XHRfY2xlYXJBdXRvU2Nyb2xscygpO1xuXHRcdFx0X2NhbmNlbFRocm90dGxlKCk7XG5cblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cblx0XHRcdF9jYW5jZWxOZXh0VGljayh0aGlzLl9jbG9uZUlkKTtcblx0XHRcdF9jYW5jZWxOZXh0VGljayh0aGlzLl9kcmFnU3RhcnRJZCk7XG5cblx0XHRcdC8vIFVuYmluZCBldmVudHNcblx0XHRcdF9vZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cblxuXHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdF9vZmYoZG9jdW1lbnQsICdkcm9wJywgdGhpcyk7XG5cdFx0XHRcdF9vZmYoZWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG5cdFx0XHRcdF9vZmYoZG9jdW1lbnQsICdkcmFnb3ZlcicsIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwpO1xuXHRcdFx0XHRfb2ZmKGRvY3VtZW50LCAnZHJhZ292ZXInLCBfY2hlY2tBbGlnbm1lbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoU2FmYXJpKSB7XG5cdFx0XHRcdF9jc3MoZG9jdW1lbnQuYm9keSwgJ3VzZXItc2VsZWN0JywgJycpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9vZmZVcEV2ZW50cygpO1xuXG5cdFx0XHRpZiAoZXZ0KSB7XG5cdFx0XHRcdGlmIChtb3ZlZCkge1xuXHRcdFx0XHRcdGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdCFvcHRpb25zLmRyb3BCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2hvc3RFbCAmJiBnaG9zdEVsLnBhcmVudE5vZGUgJiYgZ2hvc3RFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGdob3N0RWwpO1xuXG5cdFx0XHRcdGlmIChyb290RWwgPT09IHBhcmVudEVsIHx8IChwdXRTb3J0YWJsZSAmJiBwdXRTb3J0YWJsZS5sYXN0UHV0TW9kZSAhPT0gJ2Nsb25lJykpIHtcblx0XHRcdFx0XHQvLyBSZW1vdmUgY2xvbmVcblx0XHRcdFx0XHRjbG9uZUVsICYmIGNsb25lRWwucGFyZW50Tm9kZSAmJiBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZHJhZ0VsKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdFx0XHRfb2ZmKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuXHRcdFx0XHRcdGRyYWdFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnO1xuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGNsYXNzJ3Ncblx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcyA6IHRoaXMub3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG5cdFx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7XG5cblx0XHRcdFx0XHQvLyBEcmFnIHN0b3AgZXZlbnRcblx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICd1bmNob29zZScsIGRyYWdFbCwgcGFyZW50RWwsIHJvb3RFbCwgb2xkSW5kZXgsIG51bGwsIGV2dCk7XG5cblx0XHRcdFx0XHRpZiAocm9vdEVsICE9PSBwYXJlbnRFbCkge1xuXHRcdFx0XHRcdFx0bmV3SW5kZXggPSBfaW5kZXgoZHJhZ0VsLCBvcHRpb25zLmRyYWdnYWJsZSk7XG5cblx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEFkZCBldmVudFxuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChudWxsLCBwYXJlbnRFbCwgJ2FkZCcsIGRyYWdFbCwgcGFyZW50RWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4LCBldnQpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFJlbW92ZSBldmVudFxuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdyZW1vdmUnLCBkcmFnRWwsIHBhcmVudEVsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCwgZXZ0KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBkcmFnIGZyb20gb25lIGxpc3QgYW5kIGRyb3AgaW50byBhbm90aGVyXG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KG51bGwsIHBhcmVudEVsLCAnc29ydCcsIGRyYWdFbCwgcGFyZW50RWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4LCBldnQpO1xuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzb3J0JywgZHJhZ0VsLCBwYXJlbnRFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgsIGV2dCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHB1dFNvcnRhYmxlICYmIHB1dFNvcnRhYmxlLnNhdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoZHJhZ0VsLm5leHRTaWJsaW5nICE9PSBuZXh0RWwpIHtcblx0XHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cdFx0XHRcdFx0XHRcdG5ld0luZGV4ID0gX2luZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZHJhZyAmIGRyb3Agd2l0aGluIHRoZSBzYW1lIGxpc3Rcblx0XHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICd1cGRhdGUnLCBkcmFnRWwsIHBhcmVudEVsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCwgZXZ0KTtcblx0XHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzb3J0JywgZHJhZ0VsLCBwYXJlbnRFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgsIGV2dCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoU29ydGFibGUuYWN0aXZlKSB7XG5cdFx0XHRcdFx0XHQvKiBqc2hpbnQgZXFudWxsOnRydWUgKi9cblx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA9PSBudWxsIHx8IG5ld0luZGV4ID09PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRuZXdJbmRleCA9IG9sZEluZGV4O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnZW5kJywgZHJhZ0VsLCBwYXJlbnRFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgsIGV2dCk7XG5cblx0XHRcdFx0XHRcdC8vIFNhdmUgc29ydGluZ1xuXHRcdFx0XHRcdFx0dGhpcy5zYXZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHRcdHRoaXMuX251bGxpbmcoKTtcblx0XHR9LFxuXG5cdFx0X251bGxpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cm9vdEVsID1cblx0XHRcdGRyYWdFbCA9XG5cdFx0XHRwYXJlbnRFbCA9XG5cdFx0XHRnaG9zdEVsID1cblx0XHRcdG5leHRFbCA9XG5cdFx0XHRjbG9uZUVsID1cblx0XHRcdGxhc3REb3duRWwgPVxuXG5cdFx0XHRzY3JvbGxFbCA9XG5cdFx0XHRzY3JvbGxQYXJlbnRFbCA9XG5cdFx0XHRhdXRvU2Nyb2xscy5sZW5ndGggPVxuXG5cdFx0XHRwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCA9XG5cdFx0XHRsYXN0UG9pbnRlckVsZW1YID1cblx0XHRcdGxhc3RQb2ludGVyRWxlbVkgPVxuXG5cdFx0XHR0YXBFdnQgPVxuXHRcdFx0dG91Y2hFdnQgPVxuXG5cdFx0XHRtb3ZlZCA9XG5cdFx0XHRuZXdJbmRleCA9XG5cdFx0XHRvbGRJbmRleCA9XG5cblx0XHRcdGxhc3RUYXJnZXQgPVxuXHRcdFx0bGFzdERpcmVjdGlvbiA9XG5cblx0XHRcdGZvclJlcGFpbnREdW1teSA9XG5cdFx0XHRyZWFsRHJhZ0VsUmVjdCA9XG5cblx0XHRcdHB1dFNvcnRhYmxlID1cblx0XHRcdGFjdGl2ZUdyb3VwID1cblx0XHRcdFNvcnRhYmxlLmFjdGl2ZSA9IG51bGw7XG5cblx0XHRcdHNhdmVkSW5wdXRDaGVja2VkLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdGVsLmNoZWNrZWQgPSB0cnVlO1xuXHRcdFx0fSk7XG5cblx0XHRcdHNhdmVkSW5wdXRDaGVja2VkLmxlbmd0aCA9IDA7XG5cdFx0fSxcblxuXHRcdGhhbmRsZUV2ZW50OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0c3dpdGNoIChldnQudHlwZSkge1xuXHRcdFx0XHRjYXNlICdkcm9wJzpcblx0XHRcdFx0Y2FzZSAnZHJhZ2VuZCc6XG5cdFx0XHRcdFx0dGhpcy5fb25Ecm9wKGV2dCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnZHJhZ2VudGVyJzpcblx0XHRcdFx0Y2FzZSAnZHJhZ292ZXInOlxuXHRcdFx0XHRcdGlmIChkcmFnRWwpIHtcblx0XHRcdFx0XHRcdHRoaXMuX29uRHJhZ092ZXIoZXZ0KTtcblx0XHRcdFx0XHRcdF9nbG9iYWxEcmFnT3ZlcihldnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdzZWxlY3RzdGFydCc6XG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU2VyaWFsaXplcyB0aGUgaXRlbSBpbnRvIGFuIGFycmF5IG9mIHN0cmluZy5cblx0XHQgKiBAcmV0dXJucyB7U3RyaW5nW119XG5cdFx0ICovXG5cdFx0dG9BcnJheTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG9yZGVyID0gW10sXG5cdFx0XHRcdGVsLFxuXHRcdFx0XHRjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW4sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRuID0gY2hpbGRyZW4ubGVuZ3RoLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRmb3IgKDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRlbCA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0XHRpZiAoX2Nsb3Nlc3QoZWwsIG9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsLCBmYWxzZSkpIHtcblx0XHRcdFx0XHRvcmRlci5wdXNoKGVsLmdldEF0dHJpYnV0ZShvcHRpb25zLmRhdGFJZEF0dHIpIHx8IF9nZW5lcmF0ZUlkKGVsKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9yZGVyO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNvcnRzIHRoZSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGFycmF5LlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ1tdfSAgb3JkZXIgIG9yZGVyIG9mIHRoZSBpdGVtc1xuXHRcdCAqL1xuXHRcdHNvcnQ6IGZ1bmN0aW9uIChvcmRlcikge1xuXHRcdFx0dmFyIGl0ZW1zID0ge30sIHJvb3RFbCA9IHRoaXMuZWw7XG5cblx0XHRcdHRoaXMudG9BcnJheSgpLmZvckVhY2goZnVuY3Rpb24gKGlkLCBpKSB7XG5cdFx0XHRcdHZhciBlbCA9IHJvb3RFbC5jaGlsZHJlbltpXTtcblxuXHRcdFx0XHRpZiAoX2Nsb3Nlc3QoZWwsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHJvb3RFbCwgZmFsc2UpKSB7XG5cdFx0XHRcdFx0aXRlbXNbaWRdID0gZWw7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpO1xuXG5cdFx0XHRvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0XHRpZiAoaXRlbXNbaWRdKSB7XG5cdFx0XHRcdFx0cm9vdEVsLnJlbW92ZUNoaWxkKGl0ZW1zW2lkXSk7XG5cdFx0XHRcdFx0cm9vdEVsLmFwcGVuZENoaWxkKGl0ZW1zW2lkXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNhdmUgdGhlIGN1cnJlbnQgc29ydGluZ1xuXHRcdCAqL1xuXHRcdHNhdmU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBzdG9yZSA9IHRoaXMub3B0aW9ucy5zdG9yZTtcblx0XHRcdHN0b3JlICYmIHN0b3JlLnNldCAmJiBzdG9yZS5zZXQodGhpcyk7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogRm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LCBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciBieSB0ZXN0aW5nIHRoZSBlbGVtZW50IGl0c2VsZiBhbmQgdHJhdmVyc2luZyB1cCB0aHJvdWdoIGl0cyBhbmNlc3RvcnMgaW4gdGhlIERPTSB0cmVlLlxuXHRcdCAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gIGVsXG5cdFx0ICogQHBhcmFtICAge1N0cmluZ30gICAgICAgW3NlbGVjdG9yXSAgZGVmYXVsdDogYG9wdGlvbnMuZHJhZ2dhYmxlYFxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxudWxsfVxuXHRcdCAqL1xuXHRcdGNsb3Nlc3Q6IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiBfY2xvc2VzdChlbCwgc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCwgZmFsc2UpO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNldC9nZXQgb3B0aW9uXG5cdFx0ICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuXHRcdCAqIEBwYXJhbSAgIHsqfSAgICAgIFt2YWx1ZV1cblx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHQgKi9cblx0XHRvcHRpb246IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHJldHVybiBvcHRpb25zW25hbWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3B0aW9uc1tuYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHRcdGlmIChuYW1lID09PSAnZ3JvdXAnKSB7XG5cdFx0XHRcdFx0X3ByZXBhcmVHcm91cChvcHRpb25zKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIERlc3Ryb3lcblx0XHQgKi9cblx0XHRkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsO1xuXG5cdFx0XHRlbFtleHBhbmRvXSA9IG51bGw7XG5cblx0XHRcdF9vZmYoZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHRcdF9vZmYoZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG5cdFx0XHRfb2ZmKGVsLCAncG9pbnRlcmRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblxuXHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdF9vZmYoZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBSZW1vdmUgZHJhZ2dhYmxlIGF0dHJpYnV0ZXNcblx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZV0nKSwgZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZSgnZHJhZ2dhYmxlJyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5fb25Ecm9wKCk7XG5cblx0XHRcdHNvcnRhYmxlcy5zcGxpY2Uoc29ydGFibGVzLmluZGV4T2YodGhpcy5lbCksIDEpO1xuXG5cdFx0XHR0aGlzLmVsID0gZWwgPSBudWxsO1xuXHRcdH0sXG5cblx0XHRfaGlkZUNsb25lOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICghY2xvbmVFbC5jbG9uZUhpZGRlbikge1xuXHRcdFx0XHRfY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJ25vbmUnKTtcblx0XHRcdFx0Y2xvbmVFbC5jbG9uZUhpZGRlbiA9IHRydWU7XG5cdFx0XHRcdGlmIChjbG9uZUVsLnBhcmVudE5vZGUgJiYgdGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlKSB7XG5cdFx0XHRcdFx0Y2xvbmVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lRWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9zaG93Q2xvbmU6IGZ1bmN0aW9uKHB1dFNvcnRhYmxlKSB7XG5cdFx0XHRpZiAocHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcblx0XHRcdFx0dGhpcy5faGlkZUNsb25lKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNsb25lRWwuY2xvbmVIaWRkZW4pIHtcblx0XHRcdFx0Ly8gc2hvdyBjbG9uZSBhdCBkcmFnRWwgb3Igb3JpZ2luYWwgcG9zaXRpb25cblx0XHRcdFx0aWYgKHJvb3RFbC5jb250YWlucyhkcmFnRWwpICYmICF0aGlzLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcblx0XHRcdFx0XHRyb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAobmV4dEVsKSB7XG5cdFx0XHRcdFx0cm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBuZXh0RWwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJvb3RFbC5hcHBlbmRDaGlsZChjbG9uZUVsKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcblx0XHRcdFx0XHR0aGlzLl9hbmltYXRlKGRyYWdFbCwgY2xvbmVFbCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0X2NzcyhjbG9uZUVsLCAnZGlzcGxheScsICcnKTtcblx0XHRcdFx0Y2xvbmVFbC5jbG9uZUhpZGRlbiA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRmdW5jdGlvbiBfY2xvc2VzdCgvKipIVE1MRWxlbWVudCovZWwsIC8qKlN0cmluZyovc2VsZWN0b3IsIC8qKkhUTUxFbGVtZW50Ki9jdHgsIGluY2x1ZGVDVFgpIHtcblx0XHRpZiAoZWwpIHtcblx0XHRcdGN0eCA9IGN0eCB8fCBkb2N1bWVudDtcblxuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0c2VsZWN0b3IgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdChcblx0XHRcdFx0XHRcdHNlbGVjdG9yWzBdID09PSAnPicgJiYgZWwucGFyZW50Tm9kZSA9PT0gY3R4ICYmIF9tYXRjaGVzKGVsLCBzZWxlY3Rvci5zdWJzdHJpbmcoMSkpIHx8XG5cdFx0XHRcdFx0XHRfbWF0Y2hlcyhlbCwgc2VsZWN0b3IpXG5cdFx0XHRcdFx0KSB8fFxuXHRcdFx0XHRcdGluY2x1ZGVDVFggJiYgZWwgPT09IGN0eFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZWwgPT09IGN0eCkgYnJlYWs7XG5cdFx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdH0gd2hpbGUgKGVsID0gX2dldFBhcmVudE9ySG9zdChlbCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfZ2V0UGFyZW50T3JIb3N0KGVsKSB7XG5cdFx0cmV0dXJuIChlbC5ob3N0ICYmIGVsICE9PSBkb2N1bWVudCAmJiBlbC5ob3N0Lm5vZGVUeXBlKVxuXHRcdFx0PyBlbC5ob3N0XG5cdFx0XHQ6IGVsLnBhcmVudE5vZGU7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9nbG9iYWxEcmFnT3ZlcigvKipFdmVudCovZXZ0KSB7XG5cdFx0aWYgKGV2dC5kYXRhVHJhbnNmZXIpIHtcblx0XHRcdGV2dC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcblx0XHR9XG5cdFx0ZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vbihlbCwgZXZlbnQsIGZuKSB7XG5cdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIGNhcHR1cmVNb2RlKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX29mZihlbCwgZXZlbnQsIGZuKSB7XG5cdFx0ZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIGNhcHR1cmVNb2RlKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX3RvZ2dsZUNsYXNzKGVsLCBuYW1lLCBzdGF0ZSkge1xuXHRcdGlmIChlbCAmJiBuYW1lKSB7XG5cdFx0XHRpZiAoZWwuY2xhc3NMaXN0KSB7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdFtzdGF0ZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHZhciBjbGFzc05hbWUgPSAoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5yZXBsYWNlKFJfU1BBQ0UsICcgJykucmVwbGFjZSgnICcgKyBuYW1lICsgJyAnLCAnICcpO1xuXHRcdFx0XHRlbC5jbGFzc05hbWUgPSAoY2xhc3NOYW1lICsgKHN0YXRlID8gJyAnICsgbmFtZSA6ICcnKSkucmVwbGFjZShSX1NQQUNFLCAnICcpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2NzcyhlbCwgcHJvcCwgdmFsKSB7XG5cdFx0dmFyIHN0eWxlID0gZWwgJiYgZWwuc3R5bGU7XG5cblx0XHRpZiAoc3R5bGUpIHtcblx0XHRcdGlmICh2YWwgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuXHRcdFx0XHRcdHZhbCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsICcnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChlbC5jdXJyZW50U3R5bGUpIHtcblx0XHRcdFx0XHR2YWwgPSBlbC5jdXJyZW50U3R5bGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gcHJvcCA9PT0gdm9pZCAwID8gdmFsIDogdmFsW3Byb3BdO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICghKHByb3AgaW4gc3R5bGUpICYmIHByb3AuaW5kZXhPZignd2Via2l0JykgPT09IC0xKSB7XG5cdFx0XHRcdFx0cHJvcCA9ICctd2Via2l0LScgKyBwcm9wO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3R5bGVbcHJvcF0gPSB2YWwgKyAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyAnJyA6ICdweCcpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIF9tYXRyaXgoZWwpIHtcblx0XHR2YXIgYXBwbGllZFRyYW5zZm9ybXMgPSAnJztcblx0XHRkbyB7XG5cdFx0XHR2YXIgdHJhbnNmb3JtID0gX2NzcyhlbCwgJ3RyYW5zZm9ybScpO1xuXG5cdFx0XHRpZiAodHJhbnNmb3JtICYmIHRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG5cdFx0XHRcdGFwcGxpZWRUcmFuc2Zvcm1zID0gdHJhbnNmb3JtICsgJyAnICsgYXBwbGllZFRyYW5zZm9ybXM7XG5cdFx0XHR9XG5cdFx0XHQvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cdFx0fSB3aGlsZSAoZWwgPSBlbC5wYXJlbnROb2RlKTtcblxuXHRcdGlmICh3aW5kb3cuRE9NTWF0cml4KSB7XG5cdFx0XHRyZXR1cm4gbmV3IERPTU1hdHJpeChhcHBsaWVkVHJhbnNmb3Jtcyk7XG5cdFx0fSBlbHNlIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSB7XG5cdFx0XHRyZXR1cm4gbmV3IFdlYktpdENTU01hdHJpeChhcHBsaWVkVHJhbnNmb3Jtcyk7XG5cdFx0fSBlbHNlIGlmICh3aW5kb3cuQ1NTTWF0cml4KSB7XG5cdFx0XHRyZXR1cm4gbmV3IENTU01hdHJpeChhcHBsaWVkVHJhbnNmb3Jtcyk7XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfZmluZChjdHgsIHRhZ05hbWUsIGl0ZXJhdG9yKSB7XG5cdFx0aWYgKGN0eCkge1xuXHRcdFx0dmFyIGxpc3QgPSBjdHguZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSksIGkgPSAwLCBuID0gbGlzdC5sZW5ndGg7XG5cblx0XHRcdGlmIChpdGVyYXRvcikge1xuXHRcdFx0XHRmb3IgKDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdGl0ZXJhdG9yKGxpc3RbaV0sIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsaXN0O1xuXHRcdH1cblxuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cblxuXHRmdW5jdGlvbiBfZGlzcGF0Y2hFdmVudChzb3J0YWJsZSwgcm9vdEVsLCBuYW1lLCB0YXJnZXRFbCwgdG9FbCwgZnJvbUVsLCBzdGFydEluZGV4LCBuZXdJbmRleCwgb3JpZ2luYWxFdnQpIHtcblx0XHRzb3J0YWJsZSA9IChzb3J0YWJsZSB8fCByb290RWxbZXhwYW5kb10pO1xuXHRcdHZhciBldnQsXG5cdFx0XHRvcHRpb25zID0gc29ydGFibGUub3B0aW9ucyxcblx0XHRcdG9uTmFtZSA9ICdvbicgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSk7XG5cdFx0Ly8gU3VwcG9ydCBmb3IgbmV3IEN1c3RvbUV2ZW50IGZlYXR1cmVcblx0XHRpZiAod2luZG93LkN1c3RvbUV2ZW50ICYmICFJRTExT3JMZXNzICYmICFFZGdlKSB7XG5cdFx0XHRldnQgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZSwge1xuXHRcdFx0XHRidWJibGVzOiB0cnVlLFxuXHRcdFx0XHRjYW5jZWxhYmxlOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0XHRldnQuaW5pdEV2ZW50KG5hbWUsIHRydWUsIHRydWUpO1xuXHRcdH1cblxuXHRcdGV2dC50byA9IHRvRWwgfHwgcm9vdEVsO1xuXHRcdGV2dC5mcm9tID0gZnJvbUVsIHx8IHJvb3RFbDtcblx0XHRldnQuaXRlbSA9IHRhcmdldEVsIHx8IHJvb3RFbDtcblx0XHRldnQuY2xvbmUgPSBjbG9uZUVsO1xuXG5cdFx0ZXZ0Lm9sZEluZGV4ID0gc3RhcnRJbmRleDtcblx0XHRldnQubmV3SW5kZXggPSBuZXdJbmRleDtcblxuXHRcdGV2dC5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdnQ7XG5cdFx0ZXZ0LnB1bGxNb2RlID0gcHV0U29ydGFibGUgPyBwdXRTb3J0YWJsZS5sYXN0UHV0TW9kZSA6IHVuZGVmaW5lZDtcblxuXHRcdGlmIChyb290RWwpIHtcblx0XHRcdHJvb3RFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnNbb25OYW1lXSkge1xuXHRcdFx0b3B0aW9uc1tvbk5hbWVdLmNhbGwoc29ydGFibGUsIGV2dCk7XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfb25Nb3ZlKGZyb21FbCwgdG9FbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0RWwsIHRhcmdldFJlY3QsIG9yaWdpbmFsRXZ0LCB3aWxsSW5zZXJ0QWZ0ZXIpIHtcblx0XHR2YXIgZXZ0LFxuXHRcdFx0c29ydGFibGUgPSBmcm9tRWxbZXhwYW5kb10sXG5cdFx0XHRvbk1vdmVGbiA9IHNvcnRhYmxlLm9wdGlvbnMub25Nb3ZlLFxuXHRcdFx0cmV0VmFsO1xuXHRcdC8vIFN1cHBvcnQgZm9yIG5ldyBDdXN0b21FdmVudCBmZWF0dXJlXG5cdFx0aWYgKHdpbmRvdy5DdXN0b21FdmVudCAmJiAhSUUxMU9yTGVzcyAmJiAhRWRnZSkge1xuXHRcdFx0ZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KCdtb3ZlJywge1xuXHRcdFx0XHRidWJibGVzOiB0cnVlLFxuXHRcdFx0XHRjYW5jZWxhYmxlOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0XHRldnQuaW5pdEV2ZW50KCdtb3ZlJywgdHJ1ZSwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0ZXZ0LnRvID0gdG9FbDtcblx0XHRldnQuZnJvbSA9IGZyb21FbDtcblx0XHRldnQuZHJhZ2dlZCA9IGRyYWdFbDtcblx0XHRldnQuZHJhZ2dlZFJlY3QgPSBkcmFnUmVjdDtcblx0XHRldnQucmVsYXRlZCA9IHRhcmdldEVsIHx8IHRvRWw7XG5cdFx0ZXZ0LnJlbGF0ZWRSZWN0ID0gdGFyZ2V0UmVjdCB8fCBfZ2V0UmVjdCh0b0VsKTtcblx0XHRldnQud2lsbEluc2VydEFmdGVyID0gd2lsbEluc2VydEFmdGVyO1xuXG5cdFx0ZXZ0Lm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2dDtcblxuXHRcdGZyb21FbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cblx0XHRpZiAob25Nb3ZlRm4pIHtcblx0XHRcdHJldFZhbCA9IG9uTW92ZUZuLmNhbGwoc29ydGFibGUsIGV2dCwgb3JpZ2luYWxFdnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXRWYWw7XG5cdH1cblxuXHRmdW5jdGlvbiBfZGlzYWJsZURyYWdnYWJsZShlbCkge1xuXHRcdGVsLmRyYWdnYWJsZSA9IGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gX3Vuc2lsZW50KCkge1xuXHRcdF9zaWxlbnQgPSBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIG50aCBjaGlsZCBvZiBlbCwgaWdub3JpbmcgaGlkZGVuIGNoaWxkcmVuLCBzb3J0YWJsZSdzIGVsZW1lbnRzIChkb2VzIG5vdCBpZ25vcmUgY2xvbmUgaWYgaXQncyB2aXNpYmxlKVxuXHQgKiBhbmQgbm9uLWRyYWdnYWJsZSBlbGVtZW50c1xuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgVGhlIHBhcmVudCBlbGVtZW50XG5cdCAqIEBwYXJhbSAge051bWJlcn0gY2hpbGROdW0gICAgICBUaGUgaW5kZXggb2YgdGhlIGNoaWxkXG5cdCAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyAgICAgICBQYXJlbnQgU29ydGFibGUncyBvcHRpb25zXG5cdCAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICBUaGUgY2hpbGQgYXQgaW5kZXggY2hpbGROdW0sIG9yIG51bGwgaWYgbm90IGZvdW5kXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0Q2hpbGQoZWwsIGNoaWxkTnVtLCBvcHRpb25zKSB7XG5cdFx0dmFyIGN1cnJlbnRDaGlsZCA9IDAsXG5cdFx0XHRpID0gMCxcblx0XHRcdGNoaWxkcmVuID0gZWwuY2hpbGRyZW47XG5cblx0XHR3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRjaGlsZHJlbltpXS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScgJiZcblx0XHRcdFx0Y2hpbGRyZW5baV0gIT09IGdob3N0RWwgJiZcblx0XHRcdFx0Y2hpbGRyZW5baV0gIT09IGRyYWdFbCAmJlxuXHRcdFx0XHRfY2xvc2VzdChjaGlsZHJlbltpXSwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsLCBmYWxzZSlcblx0XHRcdCkge1xuXHRcdFx0XHRpZiAoY3VycmVudENoaWxkID09PSBjaGlsZE51bSkge1xuXHRcdFx0XHRcdHJldHVybiBjaGlsZHJlbltpXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXJyZW50Q2hpbGQrKztcblx0XHRcdH1cblxuXHRcdFx0aSsrO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBsYXN0IGNoaWxkIGluIHRoZSBlbCwgaWdub3JpbmcgZ2hvc3RFbCBvciBpbnZpc2libGUgZWxlbWVudHMgKGNsb25lcylcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsICAgICAgIFBhcmVudCBlbGVtZW50XG5cdCAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICBUaGUgbGFzdCBjaGlsZCwgaWdub3JpbmcgZ2hvc3RFbFxuXHQgKi9cblx0ZnVuY3Rpb24gX2xhc3RDaGlsZChlbCkge1xuXHRcdHZhciBsYXN0ID0gZWwubGFzdEVsZW1lbnRDaGlsZDtcblxuXHRcdHdoaWxlIChsYXN0ICYmIChsYXN0ID09PSBnaG9zdEVsIHx8IGxhc3Quc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSkge1xuXHRcdFx0bGFzdCA9IGxhc3QucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHR9XG5cblx0XHRyZXR1cm4gbGFzdCB8fCBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2dob3N0SXNMYXN0KGV2dCwgYXhpcywgZWwpIHtcblx0XHR2YXIgZWxSZWN0ID0gX2dldFJlY3QoX2xhc3RDaGlsZChlbCkpLFxuXHRcdFx0bW91c2VPbkF4aXMgPSBheGlzID09PSAndmVydGljYWwnID8gZXZ0LmNsaWVudFkgOiBldnQuY2xpZW50WCxcblx0XHRcdG1vdXNlT25PcHBBeGlzID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/IGV2dC5jbGllbnRYIDogZXZ0LmNsaWVudFksXG5cdFx0XHR0YXJnZXRTMiA9IGF4aXMgPT09ICd2ZXJ0aWNhbCcgPyBlbFJlY3QuYm90dG9tIDogZWxSZWN0LnJpZ2h0LFxuXHRcdFx0dGFyZ2V0UzFPcHAgPSBheGlzID09PSAndmVydGljYWwnID8gZWxSZWN0LmxlZnQgOiBlbFJlY3QudG9wLFxuXHRcdFx0dGFyZ2V0UzJPcHAgPSBheGlzID09PSAndmVydGljYWwnID8gZWxSZWN0LnJpZ2h0IDogZWxSZWN0LmJvdHRvbSxcblx0XHRcdHNwYWNlciA9IDEwO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdGF4aXMgPT09ICd2ZXJ0aWNhbCcgP1xuXHRcdFx0XHQobW91c2VPbk9wcEF4aXMgPiB0YXJnZXRTMk9wcCArIHNwYWNlciB8fCBtb3VzZU9uT3BwQXhpcyA8PSB0YXJnZXRTMk9wcCAmJiBtb3VzZU9uQXhpcyA+IHRhcmdldFMyICYmIG1vdXNlT25PcHBBeGlzID49IHRhcmdldFMxT3BwKSA6XG5cdFx0XHRcdChtb3VzZU9uQXhpcyA+IHRhcmdldFMyICYmIG1vdXNlT25PcHBBeGlzID4gdGFyZ2V0UzFPcHAgfHwgbW91c2VPbkF4aXMgPD0gdGFyZ2V0UzIgJiYgbW91c2VPbk9wcEF4aXMgPiB0YXJnZXRTMk9wcCArIHNwYWNlcilcblx0XHQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2dldFN3YXBEaXJlY3Rpb24oZXZ0LCB0YXJnZXQsIGF4aXMsIHN3YXBUaHJlc2hvbGQsIGludmVydGVkU3dhcFRocmVzaG9sZCwgaW52ZXJ0U3dhcCwgaXNMYXN0VGFyZ2V0KSB7XG5cdFx0dmFyIHRhcmdldFJlY3QgPSBfZ2V0UmVjdCh0YXJnZXQpLFxuXHRcdFx0bW91c2VPbkF4aXMgPSBheGlzID09PSAndmVydGljYWwnID8gZXZ0LmNsaWVudFkgOiBldnQuY2xpZW50WCxcblx0XHRcdHRhcmdldExlbmd0aCA9IGF4aXMgPT09ICd2ZXJ0aWNhbCcgPyB0YXJnZXRSZWN0LmhlaWdodCA6IHRhcmdldFJlY3Qud2lkdGgsXG5cdFx0XHR0YXJnZXRTMSA9IGF4aXMgPT09ICd2ZXJ0aWNhbCcgPyB0YXJnZXRSZWN0LnRvcCA6IHRhcmdldFJlY3QubGVmdCxcblx0XHRcdHRhcmdldFMyID0gYXhpcyA9PT0gJ3ZlcnRpY2FsJyA/IHRhcmdldFJlY3QuYm90dG9tIDogdGFyZ2V0UmVjdC5yaWdodCxcblx0XHRcdGRyYWdSZWN0ID0gX2dldFJlY3QoZHJhZ0VsKSxcblx0XHRcdGludmVydCA9IGZhbHNlO1xuXG5cblx0XHRpZiAoIWludmVydFN3YXApIHtcblx0XHRcdC8vIE5ldmVyIGludmVydCBvciBjcmVhdGUgZHJhZ0VsIHNoYWRvdyB3aGVuIHRhcmdldCBtb3ZlbWVuZXQgY2F1c2VzIG1vdXNlIHRvIG1vdmUgcGFzdCB0aGUgZW5kIG9mIHJlZ3VsYXIgc3dhcFRocmVzaG9sZFxuXHRcdFx0aWYgKGlzTGFzdFRhcmdldCAmJiB0YXJnZXRNb3ZlRGlzdGFuY2UgPCB0YXJnZXRMZW5ndGggKiBzd2FwVGhyZXNob2xkKSB7IC8vIG11bHRpcGxpZWQgb25seSBieSBzd2FwVGhyZXNob2xkIGJlY2F1c2UgbW91c2Ugd2lsbCBhbHJlYWR5IGJlIGluc2lkZSB0YXJnZXQgYnkgKDEgLSB0aHJlc2hvbGQpICogdGFyZ2V0TGVuZ3RoIC8gMlxuXHRcdFx0XHQvLyBjaGVjayBpZiBwYXN0IGZpcnN0IGludmVydCB0aHJlc2hvbGQgb24gc2lkZSBvcHBvc2l0ZSBvZiBsYXN0RGlyZWN0aW9uXG5cdFx0XHRcdGlmICghcGFzdEZpcnN0SW52ZXJ0VGhyZXNoICYmXG5cdFx0XHRcdFx0KGxhc3REaXJlY3Rpb24gPT09IDEgP1xuXHRcdFx0XHRcdFx0KFxuXHRcdFx0XHRcdFx0XHRtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMlxuXHRcdFx0XHRcdFx0KSA6XG5cdFx0XHRcdFx0XHQoXG5cdFx0XHRcdFx0XHRcdG1vdXNlT25BeGlzIDwgdGFyZ2V0UzIgLSB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBwYXN0IGZpcnN0IGludmVydCB0aHJlc2hvbGQsIGRvIG5vdCByZXN0cmljdCBpbnZlcnRlZCB0aHJlc2hvbGQgdG8gZHJhZ0VsIHNoYWRvd1xuXHRcdFx0XHRcdHBhc3RGaXJzdEludmVydFRocmVzaCA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXBhc3RGaXJzdEludmVydFRocmVzaCkge1xuXHRcdFx0XHRcdHZhciBkcmFnUzEgPSBheGlzID09PSAndmVydGljYWwnID8gZHJhZ1JlY3QudG9wIDogZHJhZ1JlY3QubGVmdCxcblx0XHRcdFx0XHRcdGRyYWdTMiA9IGF4aXMgPT09ICd2ZXJ0aWNhbCcgPyBkcmFnUmVjdC5ib3R0b20gOiBkcmFnUmVjdC5yaWdodDtcblx0XHRcdFx0XHQvLyBkcmFnRWwgc2hhZG93ICh0YXJnZXQgbW92ZSBkaXN0YW5jZSBzaGFkb3cpXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0bGFzdERpcmVjdGlvbiA9PT0gMSA/XG5cdFx0XHRcdFx0XHQoXG5cdFx0XHRcdFx0XHRcdG1vdXNlT25BeGlzIDwgdGFyZ2V0UzEgKyB0YXJnZXRNb3ZlRGlzdGFuY2UgLy8gb3ZlciBkcmFnRWwgc2hhZG93XG5cdFx0XHRcdFx0XHQpIDpcblx0XHRcdFx0XHRcdChcblx0XHRcdFx0XHRcdFx0bW91c2VPbkF4aXMgPiB0YXJnZXRTMiAtIHRhcmdldE1vdmVEaXN0YW5jZVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbGFzdERpcmVjdGlvbiAqIC0xO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpbnZlcnQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBSZWd1bGFyXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgKHRhcmdldExlbmd0aCAqICgxIC0gc3dhcFRocmVzaG9sZCkgLyAyKSAmJlxuXHRcdFx0XHRcdG1vdXNlT25BeGlzIDwgdGFyZ2V0UzIgLSAodGFyZ2V0TGVuZ3RoICogKDEgLSBzd2FwVGhyZXNob2xkKSAvIDIpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiBfZ2V0SW5zZXJ0RGlyZWN0aW9uKHRhcmdldCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpbnZlcnQgPSBpbnZlcnQgfHwgaW52ZXJ0U3dhcDtcblxuXHRcdGlmIChpbnZlcnQpIHtcblx0XHRcdC8vIEludmVydCBvZiByZWd1bGFyXG5cdFx0XHRpZiAoXG5cdFx0XHRcdG1vdXNlT25BeGlzIDwgdGFyZ2V0UzEgKyAodGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMikgfHxcblx0XHRcdFx0bW91c2VPbkF4aXMgPiB0YXJnZXRTMiAtICh0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyKVxuXHRcdFx0KVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gKChtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoIC8gMikgPyAxIDogLTEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIGRpcmVjdGlvbiBkcmFnRWwgbXVzdCBiZSBzd2FwcGVkIHJlbGF0aXZlIHRvIHRhcmdldCBpbiBvcmRlciB0byBtYWtlIGl0XG5cdCAqIHNlZW0gdGhhdCBkcmFnRWwgaGFzIGJlZW4gXCJpbnNlcnRlZFwiIGludG8gdGhhdCBlbGVtZW50J3MgcG9zaXRpb25cblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IHRhcmdldCAgICAgICBUaGUgdGFyZ2V0IHdob3NlIHBvc2l0aW9uIGRyYWdFbCBpcyBiZWluZyBpbnNlcnRlZCBhdFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgICAgICAgICAgIERpcmVjdGlvbiBkcmFnRWwgbXVzdCBiZSBzd2FwcGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0SW5zZXJ0RGlyZWN0aW9uKHRhcmdldCkge1xuXHRcdHZhciBkcmFnRWxJbmRleCA9IF9pbmRleChkcmFnRWwpLFxuXHRcdFx0dGFyZ2V0SW5kZXggPSBfaW5kZXgodGFyZ2V0KTtcblxuXHRcdGlmIChkcmFnRWxJbmRleCA8IHRhcmdldEluZGV4KSB7XG5cdFx0XHRyZXR1cm4gMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIGlkXG5cdCAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gZWxcblx0ICogQHJldHVybnMge1N0cmluZ31cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9nZW5lcmF0ZUlkKGVsKSB7XG5cdFx0dmFyIHN0ciA9IGVsLnRhZ05hbWUgKyBlbC5jbGFzc05hbWUgKyBlbC5zcmMgKyBlbC5ocmVmICsgZWwudGV4dENvbnRlbnQsXG5cdFx0XHRpID0gc3RyLmxlbmd0aCxcblx0XHRcdHN1bSA9IDA7XG5cblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRzdW0gKz0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN1bS50b1N0cmluZygzNik7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgaW5kZXggb2YgYW4gZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudCBmb3IgYSBzZWxlY3RlZCBzZXQgb2Zcblx0ICogZWxlbWVudHNcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG5cdCAqIEBwYXJhbSAge3NlbGVjdG9yfSBzZWxlY3RvclxuXHQgKiBAcmV0dXJuIHtudW1iZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBfaW5kZXgoZWwsIHNlbGVjdG9yKSB7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGlmICghZWwgfHwgIWVsLnBhcmVudE5vZGUpIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9XG5cblx0XHR3aGlsZSAoZWwgJiYgKGVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZykpIHtcblx0XHRcdGlmICgoZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPT0gJ1RFTVBMQVRFJykgJiYgZWwgIT09IGNsb25lRWwpIHtcblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaW5kZXg7XG5cdH1cblxuXHRmdW5jdGlvbiBfbWF0Y2hlcygvKipIVE1MRWxlbWVudCovZWwsIC8qKlN0cmluZyovc2VsZWN0b3IpIHtcblx0XHRpZiAoZWwpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChlbC5tYXRjaGVzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsLm1hdGNoZXMoc2VsZWN0b3IpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGVsLm1zTWF0Y2hlc1NlbGVjdG9yKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsLm1zTWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcblx0XHRcdFx0fSBlbHNlIGlmIChlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaChfKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIgX3Rocm90dGxlVGltZW91dDtcblx0ZnVuY3Rpb24gX3Rocm90dGxlKGNhbGxiYWNrLCBtcykge1xuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIV90aHJvdHRsZVRpbWVvdXQpIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0X3RoaXMgPSB0aGlzO1xuXG5cdFx0XHRcdF90aHJvdHRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoX3RoaXMsIGFyZ3NbMF0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X3Rocm90dGxlVGltZW91dCA9IHZvaWQgMDtcblx0XHRcdFx0fSwgbXMpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBfY2FuY2VsVGhyb3R0bGUoKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KF90aHJvdHRsZVRpbWVvdXQpO1xuXHRcdF90aHJvdHRsZVRpbWVvdXQgPSB2b2lkIDA7XG5cdH1cblxuXHRmdW5jdGlvbiBfZXh0ZW5kKGRzdCwgc3JjKSB7XG5cdFx0aWYgKGRzdCAmJiBzcmMpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBzcmMpIHtcblx0XHRcdFx0aWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0ZHN0W2tleV0gPSBzcmNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkc3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBfY2xvbmUoZWwpIHtcblx0XHRpZiAoUG9seW1lciAmJiBQb2x5bWVyLmRvbSkge1xuXHRcdFx0cmV0dXJuIFBvbHltZXIuZG9tKGVsKS5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCQpIHtcblx0XHRcdHJldHVybiAkKGVsKS5jbG9uZSh0cnVlKVswXTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm4gZWwuY2xvbmVOb2RlKHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIF9zYXZlSW5wdXRDaGVja2VkU3RhdGUocm9vdCkge1xuXHRcdHNhdmVkSW5wdXRDaGVja2VkLmxlbmd0aCA9IDA7XG5cblx0XHR2YXIgaW5wdXRzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtcblx0XHR2YXIgaWR4ID0gaW5wdXRzLmxlbmd0aDtcblxuXHRcdHdoaWxlIChpZHgtLSkge1xuXHRcdFx0dmFyIGVsID0gaW5wdXRzW2lkeF07XG5cdFx0XHRlbC5jaGVja2VkICYmIHNhdmVkSW5wdXRDaGVja2VkLnB1c2goZWwpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIF9uZXh0VGljayhmbikge1xuXHRcdHJldHVybiBzZXRUaW1lb3V0KGZuLCAwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9jYW5jZWxOZXh0VGljayhpZCkge1xuXHRcdHJldHVybiBjbGVhclRpbWVvdXQoaWQpO1xuXHR9XG5cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgXCJib3VuZGluZyBjbGllbnQgcmVjdFwiIG9mIGdpdmVuIGVsZW1lbnRcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsICAgICAgICAgICAgICAgIFRoZSBlbGVtZW50IHdob3NlIGJvdW5kaW5nQ2xpZW50UmVjdCBpcyB3YW50ZWRcblx0ICogQHBhcmFtICB7W0hUTUxFbGVtZW50XX0gY29udGFpbmVyICAgICAgIHRoZSBwYXJlbnQgdGhlIGVsZW1lbnQgd2lsbCBiZSBwbGFjZWQgaW5cblx0ICogQHBhcmFtICB7W0Jvb2xlYW5dfSBhZGp1c3RGb3JUcmFuc2Zvcm0gIFdoZXRoZXIgdGhlIHJlY3Qgc2hvdWxkIGNvbXBlbnNhdGUgZm9yIHBhcmVudCdzIHRyYW5zZm9ybVxuXHQgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGJvdW5kaW5nQ2xpZW50UmVjdCBvZiBlbFxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFJlY3QoZWwsIGFkanVzdEZvclRyYW5zZm9ybSwgY29udGFpbmVyLCBhZGp1c3RGb3JGaXhlZCkge1xuXHRcdGlmICghZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIGVsICE9PSB3aW4pIHJldHVybjtcblxuXHRcdHZhciBlbFJlY3QsXG5cdFx0XHR0b3AsXG5cdFx0XHRsZWZ0LFxuXHRcdFx0Ym90dG9tLFxuXHRcdFx0cmlnaHQsXG5cdFx0XHRoZWlnaHQsXG5cdFx0XHR3aWR0aDtcblxuXHRcdGlmIChlbCAhPT0gd2luICYmIGVsICE9PSBfZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpKSB7XG5cdFx0XHRlbFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdHRvcCA9IGVsUmVjdC50b3A7XG5cdFx0XHRsZWZ0ID0gZWxSZWN0LmxlZnQ7XG5cdFx0XHRib3R0b20gPSBlbFJlY3QuYm90dG9tO1xuXHRcdFx0cmlnaHQgPSBlbFJlY3QucmlnaHQ7XG5cdFx0XHRoZWlnaHQgPSBlbFJlY3QuaGVpZ2h0O1xuXHRcdFx0d2lkdGggPSBlbFJlY3Qud2lkdGg7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRvcCA9IDA7XG5cdFx0XHRsZWZ0ID0gMDtcblx0XHRcdGJvdHRvbSA9IHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHRcdHJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0XHRoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdFx0XHR3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRcdH1cblxuXHRcdGlmIChhZGp1c3RGb3JGaXhlZCAmJiBlbCAhPT0gd2luKSB7XG5cdFx0XHQvLyBBZGp1c3QgZm9yIHRyYW5zbGF0ZSgpXG5cdFx0XHRjb250YWluZXIgPSBjb250YWluZXIgfHwgZWwucGFyZW50Tm9kZTtcblxuXHRcdFx0Ly8gc29sdmVzICMxMTIzIChzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNzk1MzgwNi82MDg4MzEyKVxuXHRcdFx0Ly8gTm90IG5lZWRlZCBvbiA8PSBJRTExXG5cdFx0XHRpZiAoIUlFMTFPckxlc3MpIHtcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdGlmIChjb250YWluZXIgJiYgY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiBfY3NzKGNvbnRhaW5lciwgJ3RyYW5zZm9ybScpICE9PSAnbm9uZScpIHtcblx0XHRcdFx0XHRcdHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBTZXQgcmVsYXRpdmUgdG8gZWRnZXMgb2YgcGFkZGluZyBib3ggb2YgY29udGFpbmVyXG5cdFx0XHRcdFx0XHR0b3AgLT0gY29udGFpbmVyUmVjdC50b3AgKyBwYXJzZUludChfY3NzKGNvbnRhaW5lciwgJ2JvcmRlci10b3Atd2lkdGgnKSk7XG5cdFx0XHRcdFx0XHRsZWZ0IC09IGNvbnRhaW5lclJlY3QubGVmdCArIHBhcnNlSW50KF9jc3MoY29udGFpbmVyLCAnYm9yZGVyLWxlZnQtd2lkdGgnKSk7XG5cdFx0XHRcdFx0XHRib3R0b20gPSB0b3AgKyBlbFJlY3QuaGVpZ2h0O1xuXHRcdFx0XHRcdFx0cmlnaHQgPSBsZWZ0ICsgZWxSZWN0LndpZHRoO1xuXG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXHRcdFx0XHR9IHdoaWxlIChjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGFkanVzdEZvclRyYW5zZm9ybSAmJiBlbCAhPT0gd2luKSB7XG5cdFx0XHQvLyBBZGp1c3QgZm9yIHNjYWxlKClcblx0XHRcdHZhciBtYXRyaXggPSBfbWF0cml4KGNvbnRhaW5lciB8fCBlbCksXG5cdFx0XHRcdHNjYWxlWCA9IG1hdHJpeCAmJiBtYXRyaXguYSxcblx0XHRcdFx0c2NhbGVZID0gbWF0cml4ICYmIG1hdHJpeC5kO1xuXG5cdFx0XHRpZiAobWF0cml4KSB7XG5cdFx0XHRcdHRvcCAvPSBzY2FsZVk7XG5cdFx0XHRcdGxlZnQgLz0gc2NhbGVYO1xuXG5cdFx0XHRcdHdpZHRoIC89IHNjYWxlWDtcblx0XHRcdFx0aGVpZ2h0IC89IHNjYWxlWTtcblxuXHRcdFx0XHRib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG5cdFx0XHRcdHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHRvcCxcblx0XHRcdGxlZnQ6IGxlZnQsXG5cdFx0XHRib3R0b206IGJvdHRvbSxcblx0XHRcdHJpZ2h0OiByaWdodCxcblx0XHRcdHdpZHRoOiB3aWR0aCxcblx0XHRcdGhlaWdodDogaGVpZ2h0XG5cdFx0fTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiBhIHNpZGUgb2YgYW4gZWxlbWVudCBpcyBzY3JvbGxlZCBwYXN0IGEgc2lkZSBvZiBpdCdzIHBhcmVudHNcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9ICBlbCAgICAgICBUaGUgZWxlbWVudCB3aG8ncyBzaWRlIGJlaW5nIHNjcm9sbGVkIG91dCBvZiB2aWV3IGlzIGluIHF1ZXN0aW9uXG5cdCAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgc2lkZSAgICAgU2lkZSBvZiB0aGUgZWxlbWVudCBpbiBxdWVzdGlvbiAoJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0JywgJ2JvdHRvbScpXG5cdCAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICAgVGhlIHBhcmVudCBzY3JvbGwgZWxlbWVudCB0aGF0IHRoZSBlbCdzIHNpZGUgaXMgc2Nyb2xsZWQgcGFzdCwgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBzdWNoIGVsZW1lbnRcblx0ICovXG5cdGZ1bmN0aW9uIF9pc1Njcm9sbGVkUGFzdChlbCwgc2lkZSkge1xuXHRcdHZhciBwYXJlbnQgPSBfZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWwsIHRydWUpLFxuXHRcdFx0ZWxTaWRlID0gX2dldFJlY3QoZWwpW3NpZGVdO1xuXG5cdFx0LyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXHRcdHdoaWxlIChwYXJlbnQpIHtcblx0XHRcdHZhciBwYXJlbnRTaWRlID0gX2dldFJlY3QocGFyZW50KVtzaWRlXSxcblx0XHRcdFx0dmlzaWJsZTtcblxuXHRcdFx0aWYgKHNpZGUgPT09ICd0b3AnIHx8IHNpZGUgPT09ICdsZWZ0Jykge1xuXHRcdFx0XHR2aXNpYmxlID0gZWxTaWRlID49IHBhcmVudFNpZGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2aXNpYmxlID0gZWxTaWRlIDw9IHBhcmVudFNpZGU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdmlzaWJsZSkgcmV0dXJuIHBhcmVudDtcblxuXHRcdFx0aWYgKHBhcmVudCA9PT0gX2dldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSkgYnJlYWs7XG5cblx0XHRcdHBhcmVudCA9IF9nZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChwYXJlbnQsIGZhbHNlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgc2Nyb2xsIG9mZnNldCBvZiB0aGUgZ2l2ZW4gZWxlbWVudCwgYWRkZWQgd2l0aCBhbGwgdGhlIHNjcm9sbCBvZmZzZXRzIG9mIHBhcmVudCBlbGVtZW50cy5cblx0ICogVGhlIHZhbHVlIGlzIHJldHVybmVkIGluIHJlYWwgcGl4ZWxzLlxuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcblx0ICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgIE9mZnNldHMgaW4gdGhlIGZvcm1hdCBvZiBbbGVmdCwgdG9wXVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0KGVsKSB7XG5cdFx0dmFyIG9mZnNldExlZnQgPSAwLFxuXHRcdFx0b2Zmc2V0VG9wID0gMCxcblx0XHRcdHdpblNjcm9sbGVyID0gX2dldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcblxuXHRcdGlmIChlbCkge1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHR2YXIgbWF0cml4ID0gX21hdHJpeChlbCksXG5cdFx0XHRcdFx0c2NhbGVYID0gbWF0cml4LmEsXG5cdFx0XHRcdFx0c2NhbGVZID0gbWF0cml4LmQ7XG5cblx0XHRcdFx0b2Zmc2V0TGVmdCArPSBlbC5zY3JvbGxMZWZ0ICogc2NhbGVYO1xuXHRcdFx0XHRvZmZzZXRUb3AgKz0gZWwuc2Nyb2xsVG9wICogc2NhbGVZO1xuXHRcdFx0fSB3aGlsZSAoZWwgIT09IHdpblNjcm9sbGVyICYmIChlbCA9IGVsLnBhcmVudE5vZGUpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gW29mZnNldExlZnQsIG9mZnNldFRvcF07XG5cdH1cblxuXHQvLyBGaXhlZCAjOTczOlxuXHRfb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBmdW5jdGlvbihldnQpIHtcblx0XHRpZiAoKFNvcnRhYmxlLmFjdGl2ZSB8fCBhd2FpdGluZ0RyYWdTdGFydGVkKSAmJiBldnQuY2FuY2VsYWJsZSkge1xuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9KTtcblxuXG5cdC8vIEV4cG9ydCB1dGlsc1xuXHRTb3J0YWJsZS51dGlscyA9IHtcblx0XHRvbjogX29uLFxuXHRcdG9mZjogX29mZixcblx0XHRjc3M6IF9jc3MsXG5cdFx0ZmluZDogX2ZpbmQsXG5cdFx0aXM6IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiAhIV9jbG9zZXN0KGVsLCBzZWxlY3RvciwgZWwsIGZhbHNlKTtcblx0XHR9LFxuXHRcdGV4dGVuZDogX2V4dGVuZCxcblx0XHR0aHJvdHRsZTogX3Rocm90dGxlLFxuXHRcdGNsb3Nlc3Q6IF9jbG9zZXN0LFxuXHRcdHRvZ2dsZUNsYXNzOiBfdG9nZ2xlQ2xhc3MsXG5cdFx0Y2xvbmU6IF9jbG9uZSxcblx0XHRpbmRleDogX2luZGV4LFxuXHRcdG5leHRUaWNrOiBfbmV4dFRpY2ssXG5cdFx0Y2FuY2VsTmV4dFRpY2s6IF9jYW5jZWxOZXh0VGljayxcblx0XHRkZXRlY3REaXJlY3Rpb246IF9kZXRlY3REaXJlY3Rpb24sXG5cdFx0Z2V0Q2hpbGQ6IF9nZXRDaGlsZFxuXHR9O1xuXG5cblx0LyoqXG5cdCAqIENyZWF0ZSBzb3J0YWJsZSBpbnN0YW5jZVxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAgZWxcblx0ICogQHBhcmFtIHtPYmplY3R9ICAgICAgW29wdGlvbnNdXG5cdCAqL1xuXHRTb3J0YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gbmV3IFNvcnRhYmxlKGVsLCBvcHRpb25zKTtcblx0fTtcblxuXG5cdC8vIEV4cG9ydFxuXHRTb3J0YWJsZS52ZXJzaW9uID0gJzEuOC40Jztcblx0cmV0dXJuIFNvcnRhYmxlO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sortablejs/Sortable.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/*! exports provided: name, description, version, date, leafletExtName, leafletExtVersion, olExtName, olExtVersion, itownsExtName, itownsExtVersion, main, module, directories, scripts, repository, author, keywords, license, bugs, homepage, dependencies, devDependencies, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"name\\\":\\\"geoportal-extensions\\\",\\\"description\\\":\\\"French Geoportal Extensions for OpenLayers, Leaflet and iTowns libraries\\\",\\\"version\\\":\\\"2.2.17\\\",\\\"date\\\":\\\"23/09/2020\\\",\\\"leafletExtName\\\":\\\"French Geoportal Extension for Leaflet\\\",\\\"leafletExtVersion\\\":\\\"2.1.6\\\",\\\"olExtName\\\":\\\"French Geoportal Extension for OpenLayers\\\",\\\"olExtVersion\\\":\\\"3.0.12\\\",\\\"itownsExtName\\\":\\\"French Geoportal Extension for Itowns\\\",\\\"itownsExtVersion\\\":\\\"2.2.12\\\",\\\"main\\\":\\\"dist/leaflet/GpPluginLeaflet.js, dist/openlayers/GpPluginOpenLayers.js, dist/itowns/GpPluginItowns.js\\\",\\\"module\\\":\\\"src/Leaflet/index.js, src/OpenLayers/index.js, src/Itowns/index.js\\\",\\\"directories\\\":{},\\\"scripts\\\":{\\\"setup\\\":\\\"npm install\\\",\\\"clean\\\":\\\"echo \\\\\\\"Warning: target not yet implemented!\\\\\\\" && exit 0\\\",\\\"eslint\\\":\\\"eslint src/\\\",\\\"test\\\":\\\"npm run test:serve\\\",\\\"test:serve\\\":\\\"cd test && webpack-dev-server --hot --config webpack.test.serve.js\\\",\\\"sample\\\":\\\"npm run sample:serve\\\",\\\"sample:serve\\\":\\\"npm run sample:ol:serve\\\",\\\"sample:itowns:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.itowns --https --open-page samples/index-itowns-map.html --content-base . --output-public-path '/dist/itowns/' --port 9001 --open 'google-chrome'\\\",\\\"sample:leaflet:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.leaflet --https --open-page samples/index-leaflet-map.html --content-base . --output-public-path '/dist/leaflet/' --port 9001 --open 'google-chrome'\\\",\\\"sample:ol:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.openlayers --https --open-page samples/index-openlayers-map.html --content-base . --output-public-path '/dist/openlayers/' --port 9001 --open 'google-chrome'\\\",\\\"doc\\\":\\\"npm run doc:serve\\\",\\\"doc:serve\\\":\\\"npm run doc:ol:serve\\\",\\\"doc:itowns:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.itowns --content-base jsdoc/itowns --port 9001 --open\\\",\\\"doc:leaflet:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.leaflet --content-base jsdoc/leaflet --port 9001 --open\\\",\\\"doc:ol:serve\\\":\\\"webpack-dev-server --config build/webpack/webpack.config.openlayers --content-base jsdoc/openlayers --port 9001 --open\\\",\\\"build:dev\\\":\\\"npm-run-all --print-label --print-name build:*:dev\\\",\\\"build:prod\\\":\\\"npm-run-all --print-label --print-name build:*:prod\\\",\\\"build:src\\\":\\\"npm-run-all --print-label --print-name build:*:src\\\",\\\"build\\\":\\\"npm-run-all --print-label --print-name build:*:*\\\",\\\"build:itowns\\\":\\\"npm-run-all --print-label --print-name build:itowns:*\\\",\\\"build:itowns:dev\\\":\\\"webpack --config build/webpack/webpack.config.itowns --mode=development\\\",\\\"build:itowns:prod\\\":\\\"webpack --config build/webpack/webpack.config.itowns --mode=production\\\",\\\"build:itowns:src\\\":\\\"webpack --config build/webpack/webpack.config.itowns --mode=none\\\",\\\"build:ol\\\":\\\"npm-run-all --print-label --print-name build:ol:*\\\",\\\"build:ol:dev\\\":\\\"webpack --config build/webpack/webpack.config.openlayers --mode=development\\\",\\\"build:ol:prod\\\":\\\"webpack --config build/webpack/webpack.config.openlayers --mode=production\\\",\\\"build:ol:src\\\":\\\"webpack --config build/webpack/webpack.config.openlayers --mode=none\\\",\\\"build:leaflet\\\":\\\"npm-run-all --print-label --print-name build:leaflet:*\\\",\\\"build:leaflet:dev\\\":\\\"webpack --config build/webpack/webpack.config.leaflet --mode=development\\\",\\\"build:leaflet:prod\\\":\\\"webpack --config build/webpack/webpack.config.leaflet --mode=production\\\",\\\"build:leaflet:src\\\":\\\"webpack --config build/webpack/webpack.config.leaflet --mode=none\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"https://github.com/IGNF/geoportal-extensions.git\\\"},\\\"author\\\":\\\"IGNF\\\",\\\"keywords\\\":[\\\"geoportail\\\",\\\"javascript\\\",\\\"OpenLayers\\\",\\\"Leaflet\\\",\\\"Itowns\\\",\\\"3D\\\"],\\\"license\\\":\\\"CECILL-B\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/IGNF/geoportal-extensions/issues\\\"},\\\"homepage\\\":\\\"https://github.com/IGNF/geoportal-extensions#readme\\\",\\\"dependencies\\\":{\\\"@mapbox/mapbox-gl-style-spec\\\":\\\"13.11.0\\\",\\\"eventbusjs\\\":\\\"0.2.0\\\",\\\"geoportal-access-lib\\\":\\\"2.1.6\\\",\\\"itowns\\\":\\\"2.25.0\\\",\\\"leaflet\\\":\\\"1.5.1\\\",\\\"leaflet-draw\\\":\\\"1.0.4\\\",\\\"loglevel\\\":\\\"^1.6.7\\\",\\\"ol\\\":\\\"5.3.0\\\",\\\"ol-mapbox-style\\\":\\\"4.2.1\\\",\\\"proj4\\\":\\\"^2.6.2\\\",\\\"proj4leaflet\\\":\\\"1.0.2\\\",\\\"sortablejs\\\":\\\"1.8.4\\\",\\\"three\\\":\\\"^0.117.1\\\",\\\"whatwg-fetch\\\":\\\"3.0.0\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"^7.4.4\\\",\\\"@babel/plugin-transform-template-literals\\\":\\\"^7.7.4\\\",\\\"@babel/preset-env\\\":\\\"^7.4.4\\\",\\\"babel-loader\\\":\\\"^8.0.5\\\",\\\"chai\\\":\\\"^4.2.0\\\",\\\"chalk\\\":\\\"^4.0.0\\\",\\\"clean-webpack-plugin\\\":\\\"^3.0.0\\\",\\\"copy-webpack-plugin\\\":\\\"^5.0.3\\\",\\\"core-js\\\":\\\"^3.6.4\\\",\\\"css-loader\\\":\\\"^3.4.2\\\",\\\"eslint\\\":\\\"^6.8.0\\\",\\\"eslint-config-standard\\\":\\\"^14.1.1\\\",\\\"eslint-loader\\\":\\\"^4.0.0\\\",\\\"eslint-plugin-import\\\":\\\"^2.17.2\\\",\\\"eslint-plugin-node\\\":\\\"^11.1.0\\\",\\\"eslint-plugin-promise\\\":\\\"^4.1.1\\\",\\\"eslint-plugin-standard\\\":\\\"^4.0.0\\\",\\\"exports-loader\\\":\\\"^0.7.0\\\",\\\"expose-loader\\\":\\\"^0.7.5\\\",\\\"fs-extra\\\":\\\"^9.0.0\\\",\\\"handlebars\\\":\\\"^4.7.5\\\",\\\"handlebars-layouts\\\":\\\"^3.1.4\\\",\\\"html-webpack-plugin\\\":\\\"^4.0.4\\\",\\\"jsdoc-webpack-plugin\\\":\\\"^0.3.0\\\",\\\"mini-css-extract-plugin\\\":\\\"^0.9.0\\\",\\\"mocha\\\":\\\"^7.1.1\\\",\\\"mocha-loader\\\":\\\"^5.0.0\\\",\\\"npm-run-all\\\":\\\"^4.1.5\\\",\\\"optimize-css-assets-webpack-plugin\\\":\\\"^5.0.1\\\",\\\"path\\\":\\\"^0.12.7\\\",\\\"replace-bundle-webpack-plugin\\\":\\\"^1.0.0\\\",\\\"requirejs\\\":\\\"^2.3.6\\\",\\\"responsive-loader\\\":\\\"^1.2.0\\\",\\\"speed-measure-webpack-plugin\\\":\\\"^1.3.0\\\",\\\"string-template\\\":\\\"^1.0.0\\\",\\\"style-loader\\\":\\\"^1.1.3\\\",\\\"terser-webpack-plugin\\\":\\\"^2.0.0\\\",\\\"url-loader\\\":\\\"^4.0.0\\\",\\\"webpack\\\":\\\"^4.30.0\\\",\\\"webpack-cli\\\":\\\"^3.3.1\\\",\\\"webpack-dev-server\\\":\\\"^3.3.1\\\",\\\"webpack-node-externals\\\":\\\"^1.7.2\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL3BhY2thZ2UuanNvbi5qcyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./package.json\n");

/***/ }),

/***/ "./src/Common/CSS/GPboostRelief.css":
/*!******************************************!*\
  !*** ./src/Common/CSS/GPboostRelief.css ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQYm9vc3RSZWxpZWYuY3NzPzFmMzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUGJvb3N0UmVsaWVmLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPboostRelief.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPdrawing.css":
/*!**************************************!*\
  !*** ./src/Common/CSS/GPdrawing.css ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQZHJhd2luZy5jc3M/MmI2NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQZHJhd2luZy5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPdrawing.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPelevationPath.css":
/*!********************************************!*\
  !*** ./src/Common/CSS/GPelevationPath.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQZWxldmF0aW9uUGF0aC5jc3M/NTAxYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQZWxldmF0aW9uUGF0aC5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPelevationPath.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPgeneralWidget.css":
/*!********************************************!*\
  !*** ./src/Common/CSS/GPgeneralWidget.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQZ2VuZXJhbFdpZGdldC5jc3M/ZjJkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQZ2VuZXJhbFdpZGdldC5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPgeneralWidget.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPgetFeatureInfo.css":
/*!*********************************************!*\
  !*** ./src/Common/CSS/GPgetFeatureInfo.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQZ2V0RmVhdHVyZUluZm8uY3NzPzU5NTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUGdldEZlYXR1cmVJbmZvLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPgetFeatureInfo.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPisochron.css":
/*!***************************************!*\
  !*** ./src/Common/CSS/GPisochron.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQaXNvY2hyb24uY3NzPzI2MjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUGlzb2Nocm9uLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPisochron.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPlayerSwitcher.css":
/*!********************************************!*\
  !*** ./src/Common/CSS/GPlayerSwitcher.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQbGF5ZXJTd2l0Y2hlci5jc3M/MzFlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQbGF5ZXJTd2l0Y2hlci5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPlayerSwitcher.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPlocation.css":
/*!***************************************!*\
  !*** ./src/Common/CSS/GPlocation.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQbG9jYXRpb24uY3NzPzIzYjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUGxvY2F0aW9uLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPlocation.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPmeasureArea.css":
/*!******************************************!*\
  !*** ./src/Common/CSS/GPmeasureArea.css ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQbWVhc3VyZUFyZWEuY3NzP2Q4ZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUG1lYXN1cmVBcmVhLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPmeasureArea.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPmeasureAzimuth.css":
/*!*********************************************!*\
  !*** ./src/Common/CSS/GPmeasureAzimuth.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQbWVhc3VyZUF6aW11dGguY3NzP2IxMmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUG1lYXN1cmVBemltdXRoLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPmeasureAzimuth.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPmeasureLength.css":
/*!********************************************!*\
  !*** ./src/Common/CSS/GPmeasureLength.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQbWVhc3VyZUxlbmd0aC5jc3M/Njg4NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQbWVhc3VyZUxlbmd0aC5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPmeasureLength.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPmeasureToolTip.css":
/*!*********************************************!*\
  !*** ./src/Common/CSS/GPmeasureToolTip.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQbWVhc3VyZVRvb2xUaXAuY3NzPzMyOTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUG1lYXN1cmVUb29sVGlwLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPmeasureToolTip.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPmousePosition.css":
/*!********************************************!*\
  !*** ./src/Common/CSS/GPmousePosition.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQbW91c2VQb3NpdGlvbi5jc3M/MjliNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQbW91c2VQb3NpdGlvbi5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPmousePosition.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPreverseGeocoding.css":
/*!***********************************************!*\
  !*** ./src/Common/CSS/GPreverseGeocoding.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQcmV2ZXJzZUdlb2NvZGluZy5jc3M/OTZiOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQcmV2ZXJzZUdlb2NvZGluZy5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPreverseGeocoding.css\n");

/***/ }),

/***/ "./src/Common/CSS/GProute.css":
/*!************************************!*\
  !*** ./src/Common/CSS/GProute.css ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQcm91dGUuY3NzPzU1MzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NTUy9HUHJvdXRlLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/CSS/GProute.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPsearchEngine.css":
/*!*******************************************!*\
  !*** ./src/Common/CSS/GPsearchEngine.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQc2VhcmNoRW5naW5lLmNzcz81ZTIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ii4vc3JjL0NvbW1vbi9DU1MvR1BzZWFyY2hFbmdpbmUuY3NzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPsearchEngine.css\n");

/***/ }),

/***/ "./src/Common/CSS/GPwaiting.css":
/*!**************************************!*\
  !*** ./src/Common/CSS/GPwaiting.css ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ1NTL0dQd2FpdGluZy5jc3M/OTMwNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9Db21tb24vQ1NTL0dQd2FpdGluZy5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/CSS/GPwaiting.css\n");

/***/ }),

/***/ "./src/Common/Controls/AttributionDOM.js":
/*!***********************************************!*\
  !*** ./src/Common/Controls/AttributionDOM.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// FIXME not use !?\nvar AttributionDOM = {\n  // ################################################################### //\n  // ######################### Main container ########################## //\n  // ################################################################### //\n\n  /**\n  * Add uuid to the tag ID\n  * @param {String} id - id selector\n  * @returns {String} uid - id selector with an unique id\n  */\n  _addUID: function _addUID(id) {\n    var uid = this._uid ? id + \"-\" + this._uid : id;\n    return uid;\n  },\n\n  /**\n   * Creation du container principal (DOM)\n   *\n   * @returns {DOMElement} div DOM\n   */\n  _createMainContainerElement: function _createMainContainerElement() {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPAttribution\");\n    container.className = \"GPwidget\";\n    return container;\n  },\n\n  /**\n   * Creation du selecteur (caché) pour l'affichage/masquage des attributions (DOM)\n   *\n   * @returns {DOMElement} checkbox DOM\n   */\n  _createMainAttributionsShowElement: function _createMainAttributionsShowElement() {\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPshowAttributionsList\");\n    input.type = \"checkbox\";\n    return input;\n  },\n\n  /**\n   * Création de l'élément liste des attributions (DOM)\n   *\n   * @returns {DOMElement} liste DOM\n   */\n  _createAttributionsList: function _createAttributionsList() {\n    var ul = document.createElement(\"ul\");\n    ul.id = this._addUID(\"GPAttributionsList\");\n    return ul;\n  },\n\n  /**\n   * Création du conteneur principal des attributions (DOM)\n   *\n   * @returns {DOMElement} div DOM\n   */\n  _createMainAttributionsListContainer: function _createMainAttributionsListContainer() {\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPAttributionsListContainer\");\n    return div;\n  },\n\n  /**\n   * Création du container du picto du controle (DOM)\n   * @param {Boolean} collapsed - collapsed\n   * @returns {DOMElement} label DOM\n   */\n  _createMainPictoElement: function _createMainPictoElement(collapsed) {\n    var self = this;\n    var label = document.createElement(\"label\");\n    label.id = this._addUID(\"GPshowAttributionsListPicto\");\n    label.className = \"GPshowAdvancedToolPicto\";\n    label.htmlFor = this._addUID(\"GPshowAttributionsList\");\n    label.title = \"Afficher/masquer les attributions\";\n    var spanOpen = document.createElement(\"span\");\n    spanOpen.id = this._addUID(\"GPshowAttributionsListOpenClose\");\n    spanOpen.className = \"GPshowAdvancedToolOpen\";\n    spanOpen.innerHTML = collapsed ? \"i\" : \"»\";\n    /** Evenement de type 'click' sur le picto du controle */\n\n    spanOpen.addEventListener(\"click\", function () {\n      spanOpen.innerHTML = document.getElementById(self._addUID(\"GPshowAttributionsList\")).checked ? \"i\" : \"»\";\n    });\n    label.appendChild(spanOpen);\n    return label;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (AttributionDOM);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ29udHJvbHMvQXR0cmlidXRpb25ET00uanM/ODEyNCJdLCJuYW1lcyI6WyJBdHRyaWJ1dGlvbkRPTSIsIl9hZGRVSUQiLCJpZCIsInVpZCIsIl91aWQiLCJfY3JlYXRlTWFpbkNvbnRhaW5lckVsZW1lbnQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJfY3JlYXRlTWFpbkF0dHJpYnV0aW9uc1Nob3dFbGVtZW50IiwiaW5wdXQiLCJ0eXBlIiwiX2NyZWF0ZUF0dHJpYnV0aW9uc0xpc3QiLCJ1bCIsIl9jcmVhdGVNYWluQXR0cmlidXRpb25zTGlzdENvbnRhaW5lciIsImRpdiIsIl9jcmVhdGVNYWluUGljdG9FbGVtZW50IiwiY29sbGFwc2VkIiwic2VsZiIsImxhYmVsIiwiaHRtbEZvciIsInRpdGxlIiwic3Bhbk9wZW4iLCJpbm5lckhUTUwiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGVja2VkIiwiYXBwZW5kQ2hpbGQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQSxJQUFJQSxjQUFjLEdBQUc7QUFFakI7QUFDQTtBQUNBOztBQUVBOzs7OztBQUtBQyxTQUFPLEVBQUcsaUJBQVVDLEVBQVYsRUFBYztBQUNwQixRQUFJQyxHQUFHLEdBQUksS0FBS0MsSUFBTixHQUFjRixFQUFFLEdBQUcsR0FBTCxHQUFXLEtBQUtFLElBQTlCLEdBQXFDRixFQUEvQztBQUNBLFdBQU9DLEdBQVA7QUFDSCxHQWRnQjs7QUFnQmpCOzs7OztBQUtBRSw2QkFBMkIsRUFBRyx1Q0FBWTtBQUN0QyxRQUFJQyxTQUFTLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFoQjtBQUNBRixhQUFTLENBQUNKLEVBQVYsR0FBZSxLQUFLRCxPQUFMLENBQWEsZUFBYixDQUFmO0FBQ0FLLGFBQVMsQ0FBQ0csU0FBVixHQUFzQixVQUF0QjtBQUVBLFdBQU9ILFNBQVA7QUFDSCxHQTNCZ0I7O0FBNkJqQjs7Ozs7QUFLQUksb0NBQWtDLEVBQUcsOENBQVk7QUFDN0MsUUFBSUMsS0FBSyxHQUFHSixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBWjtBQUNBRyxTQUFLLENBQUNULEVBQU4sR0FBVyxLQUFLRCxPQUFMLENBQWEsd0JBQWIsQ0FBWDtBQUNBVSxTQUFLLENBQUNDLElBQU4sR0FBYSxVQUFiO0FBQ0EsV0FBT0QsS0FBUDtBQUNILEdBdkNnQjs7QUF5Q2pCOzs7OztBQUtBRSx5QkFBdUIsRUFBRyxtQ0FBWTtBQUNsQyxRQUFJQyxFQUFFLEdBQUdQLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixJQUF2QixDQUFUO0FBQ0FNLE1BQUUsQ0FBQ1osRUFBSCxHQUFRLEtBQUtELE9BQUwsQ0FBYSxvQkFBYixDQUFSO0FBQ0EsV0FBT2EsRUFBUDtBQUNILEdBbERnQjs7QUFvRGpCOzs7OztBQUtBQyxzQ0FBb0MsRUFBRyxnREFBWTtBQUMvQyxRQUFJQyxHQUFHLEdBQUdULFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0FRLE9BQUcsQ0FBQ2QsRUFBSixHQUFTLEtBQUtELE9BQUwsQ0FBYSw2QkFBYixDQUFUO0FBRUEsV0FBT2UsR0FBUDtBQUNILEdBOURnQjs7QUFnRWpCOzs7OztBQUtBQyx5QkFBdUIsRUFBRyxpQ0FBVUMsU0FBVixFQUFxQjtBQUMzQyxRQUFJQyxJQUFJLEdBQUcsSUFBWDtBQUVBLFFBQUlDLEtBQUssR0FBR2IsUUFBUSxDQUFDQyxhQUFULENBQXVCLE9BQXZCLENBQVo7QUFDQVksU0FBSyxDQUFDbEIsRUFBTixHQUFXLEtBQUtELE9BQUwsQ0FBYSw2QkFBYixDQUFYO0FBQ0FtQixTQUFLLENBQUNYLFNBQU4sR0FBa0IseUJBQWxCO0FBQ0FXLFNBQUssQ0FBQ0MsT0FBTixHQUFnQixLQUFLcEIsT0FBTCxDQUFhLHdCQUFiLENBQWhCO0FBQ0FtQixTQUFLLENBQUNFLEtBQU4sR0FBYyxtQ0FBZDtBQUVBLFFBQUlDLFFBQVEsR0FBR2hCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixNQUF2QixDQUFmO0FBQ0FlLFlBQVEsQ0FBQ3JCLEVBQVQsR0FBYyxLQUFLRCxPQUFMLENBQWEsaUNBQWIsQ0FBZDtBQUNBc0IsWUFBUSxDQUFDZCxTQUFULEdBQXFCLHdCQUFyQjtBQUNBYyxZQUFRLENBQUNDLFNBQVQsR0FBcUJOLFNBQVMsR0FBRyxHQUFILEdBQVMsR0FBdkM7QUFDQTs7QUFDQUssWUFBUSxDQUFDRSxnQkFBVCxDQUEwQixPQUExQixFQUFtQyxZQUFZO0FBQzNDRixjQUFRLENBQUNDLFNBQVQsR0FBc0JqQixRQUFRLENBQUNtQixjQUFULENBQXdCUCxJQUFJLENBQUNsQixPQUFMLENBQWEsd0JBQWIsQ0FBeEIsRUFBZ0UwQixPQUFqRSxHQUE0RSxHQUE1RSxHQUFrRixHQUF2RztBQUNILEtBRkQ7QUFJQVAsU0FBSyxDQUFDUSxXQUFOLENBQWtCTCxRQUFsQjtBQUVBLFdBQU9ILEtBQVA7QUFDSDtBQTFGZ0IsQ0FBckI7QUE4RmVwQiw2RUFBZiIsImZpbGUiOiIuL3NyYy9Db21tb24vQ29udHJvbHMvQXR0cmlidXRpb25ET00uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGSVhNRSBub3QgdXNlICE/XG52YXIgQXR0cmlidXRpb25ET00gPSB7XG5cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBNYWluIGNvbnRhaW5lciAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuICAgIC8qKlxuICAgICogQWRkIHV1aWQgdG8gdGhlIHRhZyBJRFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gaWQgc2VsZWN0b3JcbiAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHVpZCAtIGlkIHNlbGVjdG9yIHdpdGggYW4gdW5pcXVlIGlkXG4gICAgKi9cbiAgICBfYWRkVUlEIDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB1aWQgPSAodGhpcy5fdWlkKSA/IGlkICsgXCItXCIgKyB0aGlzLl91aWQgOiBpZDtcbiAgICAgICAgcmV0dXJuIHVpZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgY29udGFpbmVyIHByaW5jaXBhbCAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGRpdiBET01cbiAgICAgKi9cbiAgICBfY3JlYXRlTWFpbkNvbnRhaW5lckVsZW1lbnQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb250YWluZXIuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUEF0dHJpYnV0aW9uXCIpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJHUHdpZGdldFwiO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0aW9uIGR1IHNlbGVjdGV1ciAoY2FjaMOpKSBwb3VyIGwnYWZmaWNoYWdlL21hc3F1YWdlIGRlcyBhdHRyaWJ1dGlvbnMgKERPTSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjaGVja2JveCBET01cbiAgICAgKi9cbiAgICBfY3JlYXRlTWFpbkF0dHJpYnV0aW9uc1Nob3dFbGVtZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93QXR0cmlidXRpb25zTGlzdFwiKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcsOpYXRpb24gZGUgbCfDqWzDqW1lbnQgbGlzdGUgZGVzIGF0dHJpYnV0aW9ucyAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGxpc3RlIERPTVxuICAgICAqL1xuICAgIF9jcmVhdGVBdHRyaWJ1dGlvbnNMaXN0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgICAgIHVsLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BBdHRyaWJ1dGlvbnNMaXN0XCIpO1xuICAgICAgICByZXR1cm4gdWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyw6lhdGlvbiBkdSBjb250ZW5ldXIgcHJpbmNpcGFsIGRlcyBhdHRyaWJ1dGlvbnMgKERPTSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBkaXYgRE9NXG4gICAgICovXG4gICAgX2NyZWF0ZU1haW5BdHRyaWJ1dGlvbnNMaXN0Q29udGFpbmVyIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BBdHRyaWJ1dGlvbnNMaXN0Q29udGFpbmVyXCIpO1xuXG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyw6lhdGlvbiBkdSBjb250YWluZXIgZHUgcGljdG8gZHUgY29udHJvbGUgKERPTSlcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNvbGxhcHNlZCAtIGNvbGxhcHNlZFxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBsYWJlbCBET01cbiAgICAgKi9cbiAgICBfY3JlYXRlTWFpblBpY3RvRWxlbWVudCA6IGZ1bmN0aW9uIChjb2xsYXBzZWQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgbGFiZWwuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dBdHRyaWJ1dGlvbnNMaXN0UGljdG9cIik7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwiR1BzaG93QWR2YW5jZWRUb29sUGljdG9cIjtcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9IHRoaXMuX2FkZFVJRChcIkdQc2hvd0F0dHJpYnV0aW9uc0xpc3RcIik7XG4gICAgICAgIGxhYmVsLnRpdGxlID0gXCJBZmZpY2hlci9tYXNxdWVyIGxlcyBhdHRyaWJ1dGlvbnNcIjtcblxuICAgICAgICB2YXIgc3Bhbk9wZW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbk9wZW4uaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dBdHRyaWJ1dGlvbnNMaXN0T3BlbkNsb3NlXCIpO1xuICAgICAgICBzcGFuT3Blbi5jbGFzc05hbWUgPSBcIkdQc2hvd0FkdmFuY2VkVG9vbE9wZW5cIjtcbiAgICAgICAgc3Bhbk9wZW4uaW5uZXJIVE1MID0gY29sbGFwc2VkID8gXCJpXCIgOiBcIsK7XCI7XG4gICAgICAgIC8qKiBFdmVuZW1lbnQgZGUgdHlwZSAnY2xpY2snIHN1ciBsZSBwaWN0byBkdSBjb250cm9sZSAqL1xuICAgICAgICBzcGFuT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Bhbk9wZW4uaW5uZXJIVE1MID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGYuX2FkZFVJRChcIkdQc2hvd0F0dHJpYnV0aW9uc0xpc3RcIikpLmNoZWNrZWQpID8gXCJpXCIgOiBcIsK7XCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHNwYW5PcGVuKTtcblxuICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdHRyaWJ1dGlvbkRPTTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/Controls/AttributionDOM.js\n");

/***/ }),

/***/ "./src/Common/Controls/BoostReliefDOM.js":
/*!***********************************************!*\
  !*** ./src/Common/Controls/BoostReliefDOM.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar BoostReliefDOM = {\n  // ################################################################### //\n  // ######################### Main container ########################## //\n  // ################################################################### //\n\n  /**\n  * Add uuid to the tag ID\n  * @param {String} id - id selector\n  * @returns {String} uid - id selector with an unique id\n  */\n  _addUID: function _addUID(id) {\n    var uid = this._uid ? id + \"-\" + this._uid : id;\n    return uid;\n  },\n\n  /**\n   * Creation du container principal (DOM)\n   *\n   * @returns {DOMElement} container - layer switcher DOM element\n   */\n  _createMainContainerElement: function _createMainContainerElement() {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPboostRelief\");\n    container.className = \"GPwidget\";\n    return container;\n  },\n\n  /**\n   * Creation du selecteur (caché) pour l'affichage/masquage des slides de boostRelief (DOM)\n   *\n   * @param {Boolean} collapsed - option indiquant si le control est déplié\n   *\n   * @returns {DOMElement} checkbox DOM\n   */\n  _createMainBoostReliefShowElement: function _createMainBoostReliefShowElement(collapsed) {\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPshowBoostReliefList\");\n    input.type = \"checkbox\";\n\n    if (collapsed) {\n      input.checked = true;\n    }\n\n    return input;\n  },\n  // ################################################################### //\n  // ############################ Relief tool ########################### //\n  // ################################################################### //\n\n  /**\n   * Creation du container des outils avancés du layer (DOM)\n   *\n   * @param {Object} brOptions - options du control boostRelief\n   *\n   * @returns {DOMElement} container\n   */\n  _createAdvancedToolElement: function _createAdvancedToolElement(brOptions) {\n    // exemple :\n    // <div id=\"GPadvancedToolsRelief_ID_Layer1\" class=\"GPlayerAdvancedToolsRelief\">\n    //     <!-- _createAdvancedToolOpacityElement -->\n    // </div>\n    var container = document.createElement(\"div\");\n    container.className = \"GPlayerAdvancedToolsRelief\";\n\n    var array = this._createAdvancedToolReliefElement(brOptions.scale, brOptions.defaultBoost);\n\n    for (var j = 0; j < array.length; j++) {\n      container.appendChild(array[j]);\n    }\n\n    return container;\n  },\n\n  /**\n   * Creation de l'icone de gestion du relief du layer (DOM)\n   *\n   * @param {Object} scale - définition de l'echelle que le slider utilise (min,max,step)\n   *\n   * @returns {DOMElement[]} array of two containers\n   */\n  _createAdvancedToolReliefElement: function _createAdvancedToolReliefElement(scale, defaultBoost) {\n    // exemple :\n    // <div id=\"GPReliefLayerId_ID_Layer1\" class=\"GPlayerReliefLayerId\" title=\"Layer ID\">\n    //     <span id=\"GPReliefLayerId_ID_Layer1\">Layer1</span>\n    // </div>\n    //\n    // <div id=\"GPrelief_ID_Layer1\" class=\"GPlayerRelief\" title=\"Opacité\">\n    //   <input id=\"GPreliefRange_ID_Layer1\" type=\"range\" value=\"100\" oninput=\"GPchangeLayerRelief(this);\" onchange=\"GPchangeLayerRelief(this);\">\n    // </div>\n    // <div class=\"GPlayerReliefValue\" id=\"GPreliefValueDiv_ID_Layer1\">\n    //   <span id=\"GPreliefValue_ID_Layer1\">100</span>\n    //   %\n    // </div>\n    var list = []; // curseur pour changer l'exageration du relief\n\n    var divB = document.createElement(\"div\");\n    divB.className = \"GPlayerRelief\";\n    divB.title = \"Relief\"; // le relief est à un facteur 1 par défaut\n\n    var relief = 1;\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPreliefValueDiv\");\n    input.type = \"range\"; // echelle de 1 à 50 par defaut\n\n    if (!scale) {\n      scale = {\n        min: 1,\n        max: 50,\n        step: 1\n      };\n    }\n\n    ;\n    input.min = scale.min || 1;\n    input.max = scale.max || 50;\n    input.step = scale.step || 1; // le relief est à un facteur 1 par défaut\n\n    var defaultBoostValue = 1;\n\n    if (defaultBoost) {\n      defaultBoostValue = defaultBoost;\n    } // the reliefValue given must me in the slider range\n\n\n    if (defaultBoostValue > input.max) {\n      defaultBoostValue = input.max;\n    }\n\n    if (defaultBoostValue < input.min) {\n      defaultBoostValue = input.min;\n    } // mise à jour des couches et du slider une fois le controle ajouté\n\n\n    input.value = defaultBoostValue; // add event for relief change\n\n    var context = this;\n\n    if (input.addEventListener) {\n      input.addEventListener(\"change\", function (e) {\n        context._onChangeLayerRelief(e);\n      });\n    } else if (input.attachEvent) {\n      // internet explorer\n      input.attachEvent(\"onchange\", function (e) {\n        context._onChangeLayerRelief(e);\n      });\n    }\n\n    if (input.addEventListener) {\n      input.addEventListener(\"input\", function (e) {\n        context._onChangeLayerRelief(e);\n      });\n    } else if (input.attachEvent) {\n      // internet explorer\n      input.attachEvent(\"oninput\", function (e) {\n        context._onChangeLayerRelief(e);\n      });\n    }\n\n    divB.appendChild(input); // Valeur d'echelle du relief\n\n    var divC = document.createElement(\"div\");\n    divC.id = this._addUID(\"GPreliefValueDiv\");\n    divC.className = \"GPlayerReliefValue\";\n    var span = document.createElement(\"span\");\n    span.id = this._addUID(\"GPreliefValue\");\n    span.innerHTML = \"x\" + relief;\n    divC.appendChild(span);\n    list.push(divB);\n    list.push(divC);\n    return list;\n  },\n\n  /**\n   * Création du conteneur principal des couches MNT boostRelief (DOM)\n   *\n   * @returns {DOMElement} div DOM\n   */\n  _createMainBoostReliefListContainer: function _createMainBoostReliefListContainer() {\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPBoostReliefListContainer\");\n    div.className = \"GPpanel\";\n    return div;\n  },\n\n  /**\n   * Show boostRelief control\n   * @param {Boolean} isDesktop - specifies if the support is desktop or tactile\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createMainPictoElement: function _createMainPictoElement() {\n    var self = this;\n    var label = document.createElement(\"label\");\n    label.id = this._addUID(\"GPshowBoostReliefListPicto\");\n    label.className = \"GPshowAdvancedToolPicto\";\n    label.htmlFor = this._addUID(\"GPshowBoostReliefList\");\n    label.title = \"Afficher/Masquer le control d'exageration du relief\";\n    var spanOpenClose = document.createElement(\"span\");\n    spanOpenClose.id = this._addUID(\"GPshowBoostReliefOpenClose\");\n    spanOpenClose.className = \"GPshowAdvancedToolOpen\";\n    /** Evenement de type 'click' sur le picto du controle */\n\n    label.addEventListener(\"click\", function () {\n      if (document.getElementById(self._addUID(\"GPshowBoostReliefList\")).checked) {\n        document.getElementById(self._addUID(\"GPBoostReliefListContainer\")).style.display = \"none\";\n      } else {\n        document.getElementById(self._addUID(\"GPBoostReliefListContainer\")).style.display = \"block\";\n      }\n    });\n    label.appendChild(spanOpenClose);\n    return label;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BoostReliefDOM);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ29udHJvbHMvQm9vc3RSZWxpZWZET00uanM/NWNiZCJdLCJuYW1lcyI6WyJCb29zdFJlbGllZkRPTSIsIl9hZGRVSUQiLCJpZCIsInVpZCIsIl91aWQiLCJfY3JlYXRlTWFpbkNvbnRhaW5lckVsZW1lbnQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJfY3JlYXRlTWFpbkJvb3N0UmVsaWVmU2hvd0VsZW1lbnQiLCJjb2xsYXBzZWQiLCJpbnB1dCIsInR5cGUiLCJjaGVja2VkIiwiX2NyZWF0ZUFkdmFuY2VkVG9vbEVsZW1lbnQiLCJick9wdGlvbnMiLCJhcnJheSIsIl9jcmVhdGVBZHZhbmNlZFRvb2xSZWxpZWZFbGVtZW50Iiwic2NhbGUiLCJkZWZhdWx0Qm9vc3QiLCJqIiwibGVuZ3RoIiwiYXBwZW5kQ2hpbGQiLCJsaXN0IiwiZGl2QiIsInRpdGxlIiwicmVsaWVmIiwibWluIiwibWF4Iiwic3RlcCIsImRlZmF1bHRCb29zdFZhbHVlIiwidmFsdWUiLCJjb250ZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJfb25DaGFuZ2VMYXllclJlbGllZiIsImF0dGFjaEV2ZW50IiwiZGl2QyIsInNwYW4iLCJpbm5lckhUTUwiLCJwdXNoIiwiX2NyZWF0ZU1haW5Cb29zdFJlbGllZkxpc3RDb250YWluZXIiLCJkaXYiLCJfY3JlYXRlTWFpblBpY3RvRWxlbWVudCIsInNlbGYiLCJsYWJlbCIsImh0bWxGb3IiLCJzcGFuT3BlbkNsb3NlIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsSUFBSUEsY0FBYyxHQUFHO0FBRWpCO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7QUFLQUMsU0FBTyxFQUFHLGlCQUFVQyxFQUFWLEVBQWM7QUFDcEIsUUFBSUMsR0FBRyxHQUFJLEtBQUtDLElBQU4sR0FBY0YsRUFBRSxHQUFH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LEVBQU4sR0FBVyxLQUFLRCxPQUFMLENBQWEsNEJBQWIsQ0FBWDtBQUNBNkMsU0FBSyxDQUFDckMsU0FBTixHQUFrQix5QkFBbEI7QUFDQXFDLFNBQUssQ0FBQ0MsT0FBTixHQUFnQixLQUFLOUMsT0FBTCxDQUFhLHVCQUFiLENBQWhCO0FBQ0E2QyxTQUFLLENBQUNwQixLQUFOLEdBQWMscURBQWQ7QUFFQSxRQUFJc0IsYUFBYSxHQUFHekMsUUFBUSxDQUFDQyxhQUFULENBQXVCLE1BQXZCLENBQXBCO0FBQ0F3QyxpQkFBYSxDQUFDOUMsRUFBZCxHQUFtQixLQUFLRCxPQUFMLENBQWEsNEJBQWIsQ0FBbkI7QUFDQStDLGlCQUFhLENBQUN2QyxTQUFkLEdBQTBCLHdCQUExQjtBQUVBOztBQUNBcUMsU0FBSyxDQUFDWixnQkFBTixDQUF1QixPQUF2QixFQUFnQyxZQUFZO0FBQ3hDLFVBQUkzQixRQUFRLENBQUMwQyxjQUFULENBQXdCSixJQUFJLENBQUM1QyxPQUFMLENBQWEsdUJBQWIsQ0FBeEIsRUFBK0RhLE9BQW5FLEVBQTRFO0FBQ3hFUCxnQkFBUSxDQUFDMEMsY0FBVCxDQUF3QkosSUFBSSxDQUFDNUMsT0FBTCxDQUFhLDRCQUFiLENBQXhCLEVBQW9FaUQsS0FBcEUsQ0FBMEVDLE9BQTFFLEdBQW9GLE1BQXBGO0FBQ0gsT0FGRCxNQUVPO0FBQ0g1QyxnQkFBUSxDQUFDMEMsY0FBVCxDQUF3QkosSUFBSSxDQUFDNUMsT0FBTCxDQUFhLDRCQUFiLENBQXhCLEVBQW9FaUQsS0FBcEUsQ0FBMEVDLE9BQTFFLEdBQW9GLE9BQXBGO0FBQ0g7QUFDSixLQU5EO0FBUUFMLFNBQUssQ0FBQ3ZCLFdBQU4sQ0FBa0J5QixhQUFsQjtBQUVBLFdBQU9GLEtBQVA7QUFDSDtBQTlPZ0IsQ0FBckI7QUFpUGU5Qyw2RUFBZiIsImZpbGUiOiIuL3NyYy9Db21tb24vQ29udHJvbHMvQm9vc3RSZWxpZWZET00uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQm9vc3RSZWxpZWZET00gPSB7XG5cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBNYWluIGNvbnRhaW5lciAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuICAgIC8qKlxuICAgICogQWRkIHV1aWQgdG8gdGhlIHRhZyBJRFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gaWQgc2VsZWN0b3JcbiAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHVpZCAtIGlkIHNlbGVjdG9yIHdpdGggYW4gdW5pcXVlIGlkXG4gICAgKi9cbiAgICBfYWRkVUlEIDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB1aWQgPSAodGhpcy5fdWlkKSA/IGlkICsgXCItXCIgKyB0aGlzLl91aWQgOiBpZDtcbiAgICAgICAgcmV0dXJuIHVpZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgY29udGFpbmVyIHByaW5jaXBhbCAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lciAtIGxheWVyIHN3aXRjaGVyIERPTSBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGFpbmVyLmlkID0gdGhpcy5fYWRkVUlEKFwiR1Bib29zdFJlbGllZlwiKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiR1B3aWRnZXRcIjtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgc2VsZWN0ZXVyIChjYWNow6kpIHBvdXIgbCdhZmZpY2hhZ2UvbWFzcXVhZ2UgZGVzIHNsaWRlcyBkZSBib29zdFJlbGllZiAoRE9NKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBjb2xsYXBzZWQgLSBvcHRpb24gaW5kaXF1YW50IHNpIGxlIGNvbnRyb2wgZXN0IGTDqXBsacOpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY2hlY2tib3ggRE9NXG4gICAgICovXG4gICAgX2NyZWF0ZU1haW5Cb29zdFJlbGllZlNob3dFbGVtZW50IDogZnVuY3Rpb24gKGNvbGxhcHNlZCkge1xuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93Qm9vc3RSZWxpZWZMaXN0XCIpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICBpZiAoY29sbGFwc2VkKSB7XG4gICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfSxcblxuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIFJlbGllZiB0b29sICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuICAgIC8qKlxuICAgICAqIENyZWF0aW9uIGR1IGNvbnRhaW5lciBkZXMgb3V0aWxzIGF2YW5jw6lzIGR1IGxheWVyIChET00pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYnJPcHRpb25zIC0gb3B0aW9ucyBkdSBjb250cm9sIGJvb3N0UmVsaWVmXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY29udGFpbmVyXG4gICAgICovXG4gICAgX2NyZWF0ZUFkdmFuY2VkVG9vbEVsZW1lbnQgOiBmdW5jdGlvbiAoYnJPcHRpb25zKSB7XG4gICAgICAgIC8vIGV4ZW1wbGUgOlxuICAgICAgICAvLyA8ZGl2IGlkPVwiR1BhZHZhbmNlZFRvb2xzUmVsaWVmX0lEX0xheWVyMVwiIGNsYXNzPVwiR1BsYXllckFkdmFuY2VkVG9vbHNSZWxpZWZcIj5cbiAgICAgICAgLy8gICAgIDwhLS0gX2NyZWF0ZUFkdmFuY2VkVG9vbE9wYWNpdHlFbGVtZW50IC0tPlxuICAgICAgICAvLyA8L2Rpdj5cbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcIkdQbGF5ZXJBZHZhbmNlZFRvb2xzUmVsaWVmXCI7XG5cbiAgICAgICAgdmFyIGFycmF5ID0gdGhpcy5fY3JlYXRlQWR2YW5jZWRUb29sUmVsaWVmRWxlbWVudChick9wdGlvbnMuc2NhbGUsIGJyT3B0aW9ucy5kZWZhdWx0Qm9vc3QpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXJyYXlbal0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0aW9uIGRlIGwnaWNvbmUgZGUgZ2VzdGlvbiBkdSByZWxpZWYgZHUgbGF5ZXIgKERPTSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzY2FsZSAtIGTDqWZpbml0aW9uIGRlIGwnZWNoZWxsZSBxdWUgbGUgc2xpZGVyIHV0aWxpc2UgKG1pbixtYXgsc3RlcClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50W119IGFycmF5IG9mIHR3byBjb250YWluZXJzXG4gICAgICovXG4gICAgX2NyZWF0ZUFkdmFuY2VkVG9vbFJlbGllZkVsZW1lbnQgOiBmdW5jdGlvbiAoc2NhbGUsIGRlZmF1bHRCb29zdCkge1xuICAgICAgICAvLyBleGVtcGxlIDpcbiAgICAgICAgLy8gPGRpdiBpZD1cIkdQUmVsaWVmTGF5ZXJJZF9JRF9MYXllcjFcIiBjbGFzcz1cIkdQbGF5ZXJSZWxpZWZMYXllcklkXCIgdGl0bGU9XCJMYXllciBJRFwiPlxuICAgICAgICAvLyAgICAgPHNwYW4gaWQ9XCJHUFJlbGllZkxheWVySWRfSURfTGF5ZXIxXCI+TGF5ZXIxPC9zcGFuPlxuICAgICAgICAvLyA8L2Rpdj5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gPGRpdiBpZD1cIkdQcmVsaWVmX0lEX0xheWVyMVwiIGNsYXNzPVwiR1BsYXllclJlbGllZlwiIHRpdGxlPVwiT3BhY2l0w6lcIj5cbiAgICAgICAgLy8gICA8aW5wdXQgaWQ9XCJHUHJlbGllZlJhbmdlX0lEX0xheWVyMVwiIHR5cGU9XCJyYW5nZVwiIHZhbHVlPVwiMTAwXCIgb25pbnB1dD1cIkdQY2hhbmdlTGF5ZXJSZWxpZWYodGhpcyk7XCIgb25jaGFuZ2U9XCJHUGNoYW5nZUxheWVyUmVsaWVmKHRoaXMpO1wiPlxuICAgICAgICAvLyA8L2Rpdj5cbiAgICAgICAgLy8gPGRpdiBjbGFzcz1cIkdQbGF5ZXJSZWxpZWZWYWx1ZVwiIGlkPVwiR1ByZWxpZWZWYWx1ZURpdl9JRF9MYXllcjFcIj5cbiAgICAgICAgLy8gICA8c3BhbiBpZD1cIkdQcmVsaWVmVmFsdWVfSURfTGF5ZXIxXCI+MTAwPC9zcGFuPlxuICAgICAgICAvLyAgICVcbiAgICAgICAgLy8gPC9kaXY+XG5cbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcblxuICAgICAgICAvLyBjdXJzZXVyIHBvdXIgY2hhbmdlciBsJ2V4YWdlcmF0aW9uIGR1IHJlbGllZlxuICAgICAgICB2YXIgZGl2QiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdkIuY2xhc3NOYW1lID0gXCJHUGxheWVyUmVsaWVmXCI7XG4gICAgICAgIGRpdkIudGl0bGUgPSBcIlJlbGllZlwiO1xuXG4gICAgICAgIC8vIGxlIHJlbGllZiBlc3Qgw6AgdW4gZmFjdGV1ciAxIHBhciBkw6lmYXV0XG4gICAgICAgIHZhciByZWxpZWYgPSAxO1xuXG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXQuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHJlbGllZlZhbHVlRGl2XCIpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJyYW5nZVwiO1xuXG4gICAgICAgIC8vIGVjaGVsbGUgZGUgMSDDoCA1MCBwYXIgZGVmYXV0XG4gICAgICAgIGlmICghc2NhbGUpIHtcbiAgICAgICAgICAgIHNjYWxlID0ge1xuICAgICAgICAgICAgICAgIG1pbiA6IDEsXG4gICAgICAgICAgICAgICAgbWF4IDogNTAsXG4gICAgICAgICAgICAgICAgc3RlcCA6IDFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQubWluID0gc2NhbGUubWluIHx8IDE7XG4gICAgICAgIGlucHV0Lm1heCA9IHNjYWxlLm1heCB8fCA1MDtcbiAgICAgICAgaW5wdXQuc3RlcCA9IHNjYWxlLnN0ZXAgfHwgMTtcblxuXG4gICAgICAgIC8vIGxlIHJlbGllZiBlc3Qgw6AgdW4gZmFjdGV1ciAxIHBhciBkw6lmYXV0XG4gICAgICAgIHZhciBkZWZhdWx0Qm9vc3RWYWx1ZSA9IDE7XG4gICAgICAgIGlmIChkZWZhdWx0Qm9vc3QpIHtcbiAgICAgICAgICAgIGRlZmF1bHRCb29zdFZhbHVlID0gZGVmYXVsdEJvb3N0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIHJlbGllZlZhbHVlIGdpdmVuIG11c3QgbWUgaW4gdGhlIHNsaWRlciByYW5nZVxuICAgICAgICBpZiAoZGVmYXVsdEJvb3N0VmFsdWUgPiBpbnB1dC5tYXgpIHtcbiAgICAgICAgICAgIGRlZmF1bHRCb29zdFZhbHVlID0gaW5wdXQubWF4O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZGVmYXVsdEJvb3N0VmFsdWUgPCBpbnB1dC5taW4pIHtcbiAgICAgICAgICAgIGRlZmF1bHRCb29zdFZhbHVlID0gaW5wdXQubWluO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIG1pc2Ugw6Agam91ciBkZXMgY291Y2hlcyBldCBkdSBzbGlkZXIgdW5lIGZvaXMgbGUgY29udHJvbGUgYWpvdXTDqVxuICAgICAgICBpbnB1dC52YWx1ZSA9IGRlZmF1bHRCb29zdFZhbHVlO1xuXG4gICAgICAgIC8vIGFkZCBldmVudCBmb3IgcmVsaWVmIGNoYW5nZVxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGlmIChpbnB1dC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fb25DaGFuZ2VMYXllclJlbGllZihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICAvLyBpbnRlcm5ldCBleHBsb3JlclxuICAgICAgICAgICAgaW5wdXQuYXR0YWNoRXZlbnQoXG4gICAgICAgICAgICAgICAgXCJvbmNoYW5nZVwiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX29uQ2hhbmdlTGF5ZXJSZWxpZWYoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9vbkNoYW5nZUxheWVyUmVsaWVmKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGludGVybmV0IGV4cGxvcmVyXG4gICAgICAgICAgICBpbnB1dC5hdHRhY2hFdmVudChcbiAgICAgICAgICAgICAgICBcIm9uaW5wdXRcIixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9vbkNoYW5nZUxheWVyUmVsaWVmKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXZCLmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgICAgICAvLyBWYWxldXIgZCdlY2hlbGxlIGR1IHJlbGllZlxuICAgICAgICB2YXIgZGl2QyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdkMuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHJlbGllZlZhbHVlRGl2XCIpO1xuICAgICAgICBkaXZDLmNsYXNzTmFtZSA9IFwiR1BsYXllclJlbGllZlZhbHVlXCI7XG5cbiAgICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbi5pZCA9IHRoaXMuX2FkZFVJRChcIkdQcmVsaWVmVmFsdWVcIik7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gXCJ4XCIgKyByZWxpZWY7XG5cbiAgICAgICAgZGl2Qy5hcHBlbmRDaGlsZChzcGFuKTtcblxuICAgICAgICBsaXN0LnB1c2goZGl2Qik7XG4gICAgICAgIGxpc3QucHVzaChkaXZDKTtcblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3LDqWF0aW9uIGR1IGNvbnRlbmV1ciBwcmluY2lwYWwgZGVzIGNvdWNoZXMgTU5UIGJvb3N0UmVsaWVmIChET00pXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gZGl2IERPTVxuICAgICAqL1xuICAgIF9jcmVhdGVNYWluQm9vc3RSZWxpZWZMaXN0Q29udGFpbmVyIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BCb29zdFJlbGllZkxpc3RDb250YWluZXJcIik7XG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSBcIkdQcGFuZWxcIjtcblxuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTaG93IGJvb3N0UmVsaWVmIGNvbnRyb2xcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzRGVza3RvcCAtIHNwZWNpZmllcyBpZiB0aGUgc3VwcG9ydCBpcyBkZXNrdG9wIG9yIHRhY3RpbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBET00gZWxlbWVudFxuICAgICAqL1xuXG4gICAgX2NyZWF0ZU1haW5QaWN0b0VsZW1lbnQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG4gICAgICAgIGxhYmVsLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93Qm9vc3RSZWxpZWZMaXN0UGljdG9cIik7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwiR1BzaG93QWR2YW5jZWRUb29sUGljdG9cIjtcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9IHRoaXMuX2FkZFVJRChcIkdQc2hvd0Jvb3N0UmVsaWVmTGlzdFwiKTtcbiAgICAgICAgbGFiZWwudGl0bGUgPSBcIkFmZmljaGVyL01hc3F1ZXIgbGUgY29udHJvbCBkJ2V4YWdlcmF0aW9uIGR1IHJlbGllZlwiO1xuXG4gICAgICAgIHZhciBzcGFuT3BlbkNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW5PcGVuQ2xvc2UuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dCb29zdFJlbGllZk9wZW5DbG9zZVwiKTtcbiAgICAgICAgc3Bhbk9wZW5DbG9zZS5jbGFzc05hbWUgPSBcIkdQc2hvd0FkdmFuY2VkVG9vbE9wZW5cIjtcblxuICAgICAgICAvKiogRXZlbmVtZW50IGRlIHR5cGUgJ2NsaWNrJyBzdXIgbGUgcGljdG8gZHUgY29udHJvbGUgKi9cbiAgICAgICAgbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLl9hZGRVSUQoXCJHUHNob3dCb29zdFJlbGllZkxpc3RcIikpLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLl9hZGRVSUQoXCJHUEJvb3N0UmVsaWVmTGlzdENvbnRhaW5lclwiKSkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLl9hZGRVSUQoXCJHUEJvb3N0UmVsaWVmTGlzdENvbnRhaW5lclwiKSkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoc3Bhbk9wZW5DbG9zZSk7XG5cbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJvb3N0UmVsaWVmRE9NO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Controls/BoostReliefDOM.js\n");

/***/ }),

/***/ "./src/Common/Controls/LayerSwitcherDOM.js":
/*!*************************************************!*\
  !*** ./src/Common/Controls/LayerSwitcherDOM.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sortablejs */ \"./node_modules/sortablejs/Sortable.js\");\n/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sortablejs__WEBPACK_IMPORTED_MODULE_0__);\n\nvar LayerSwitcherDOM = {\n  /**\n   * Creation du drag and drop\n   *\n   * @param {Object} elementDraggable - Element HTML (DOM) Container\n   * @param {Object} context - this\n   */\n  _createDraggableElement: function _createDraggableElement(elementDraggable, context) {\n    sortablejs__WEBPACK_IMPORTED_MODULE_0___default.a.create(elementDraggable, {\n      handle: \".GPlayerName\",\n      draggable: \".draggable-layer\",\n      ghostClass: \"GPghostLayer\",\n      animation: 200,\n      // Call event function on drag and drop\n      onEnd: function onEnd(e) {\n        // FIXME pas terrrible, mais il faut bien passer ce contexte...\n        context._onDragAndDropLayerClick(e);\n      }\n    });\n  },\n  // ################################################################### //\n  // ######################### Main container ########################## //\n  // ################################################################### //\n\n  /**\n  * Add uuid to the tag ID\n  * @param {String} id - id selector\n  * @returns {String} uid - id selector with an unique id\n  */\n  _addUID: function _addUID(id) {\n    var uid = this._uid ? id + \"-\" + this._uid : id;\n    return uid;\n  },\n\n  /**\n   * Creation du container principal (DOM)\n   *\n   * @returns {DOMElement} container - layer switcher DOM element\n   */\n  _createMainContainerElement: function _createMainContainerElement() {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPlayerSwitcher\");\n    container.className = \"GPwidget\";\n    return container;\n  },\n\n  /**\n   * Creation du container principal d\"affichage des layers (DOM)\n   *\n   * @returns {DOMElement} input - element for minimizing/maximizing the layer switcher\n   */\n  _createMainLayersShowElement: function _createMainLayersShowElement() {\n    // <!-- Hidden checkbox for minimizing/maximizing -->\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPshowLayersList\");\n    input.type = \"checkbox\";\n    return input;\n  },\n\n  /**\n   * Creation du container principal des layers (DOM)\n   *\n   * @returns {DOMElement} container - layers list container\n   */\n  _createMainLayersElement: function _createMainLayersElement() {\n    // ajout de la liste des layers dans le container principal\n    // <div id=\"GPlayersList\" class=\"GPpanel\">\n    //   (...)\n    // </div>\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPlayersList\");\n    div.className = \"GPpanel\";\n    return div;\n  },\n\n  /**\n   * Creation du container du picto du controle (DOM)\n   *\n   * @returns {DOMElement} label\n   */\n  _createMainPictoElement: function _createMainPictoElement() {\n    var self = this; // exemple :\n    // <!-- Label for minimizing/maximizing -->\n    // <label id=\"GPshowLayersListPicto\" class=\"GPshowAdvancedToolPicto\" for=\"GPshowLayersList\" title=\"Afficher/masquer le gestionnaire de couches\">\n    //    <span id=\"GPshowLayersListOpen\" class=\"GPshowAdvancedToolOpen\"></span><span id=\"GPshowLayersListClose\"></span>\n    // </label>\n\n    var label = document.createElement(\"label\");\n    label.id = this._addUID(\"GPshowLayersListPicto\");\n    label.className = \"GPshowAdvancedToolPicto\";\n    label.htmlFor = this._addUID(\"GPshowLayersList\");\n    label.title = \"Afficher/masquer le gestionnaire de couches\";\n    var spanOpen = document.createElement(\"span\");\n    spanOpen.id = this._addUID(\"GPshowLayersListOpen\");\n    spanOpen.className = \"GPshowAdvancedToolOpen\";\n    spanOpen.addEventListener(\"click\", function () {\n      if (document.getElementById(self._addUID(\"GPshowLayersList\")).checked) {\n        var layers = document.getElementsByClassName(\"GPlayerInfoOpened\");\n\n        for (var i = 0; i < layers.length; i++) {\n          layers[i].className = \"GPlayerInfo\";\n        }\n\n        document.getElementById(self._addUID(\"GPlayerInfoPanel\")).className = \"GPlayerInfoPanelClosed\";\n      }\n    });\n    label.appendChild(spanOpen);\n    var spanClose = document.createElement(\"span\");\n    spanClose.addEventListener(\"click\", function () {\n      if (document.getElementById(self._addUID(\"GPshowLayersList\")).checked) {\n        var layers = document.getElementsByClassName(\"GPlayerInfoOpened\");\n\n        for (var i = 0; i < layers.length; i++) {\n          layers[i].className = \"GPlayerInfo\";\n        }\n\n        document.getElementById(self._addUID(\"GPlayerInfoPanel\")).className = \"GPlayerInfoPanelClosed\";\n      }\n    });\n    spanClose.id = self._addUID(\"GPshowLayersListClose\");\n    label.appendChild(spanClose);\n    return label;\n  },\n\n  /**\n   * Creation du container du panneau d\"information (DOM)\n   *\n   * @returns {DOMElement} container\n   */\n  _createMainInfoElement: function _createMainInfoElement() {\n    // gestion du panneau d\"information dans le container principal\n    // <div id=\"GPlayerInfoPanel\" class=\"GPlayerInfoPanelClosed\">...</div>\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPlayerInfoPanel\");\n    div.className = \"GPpanel GPlayerInfoPanelClosed\";\n    return div;\n  },\n  // ################################################################### //\n  // ######################### Layer container ######################### //\n  // ################################################################### //\n\n  /**\n   * Creation du container du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   * @param {Object} obj.layer - couche (ol ou leaflet)\n   * @param {String} obj.id - identifiant de la couche (pour ol ou leaflet)\n   * @param {String} obj.title - nom de la couche à afficher dans le controle\n   * @param {String} obj.description - description de la couche à afficher\n   * @param {Boolean} obj.visibility - visibilité de la couche dans la carte (true or false)\n   * @param {Float} obj.opacity - opacité de la couche\n   *\n   * @returns {DOMElement} container\n   */\n  _createContainerLayerElement: function _createContainerLayerElement(obj) {\n    // exemple :\n    // <div id=\"GPlayerSwitcher_ID_Layer1\" class=\"GPlayerSwitcher_layer outOfRange\">\n    //     <!-- Basic toolbar : visibility / layer name\n    //     _createBasicToolElement\n    //           _createBasicToolVisibilityElement\n    //           _createBasicToolNameElement\n    //     -->\n    //     <!-- Hidden checkbox + label for showing advanced toolbar\n    //     _createAdvancedToolShowElement\n    //     -->\n    //     <!-- Advanced toolbar : layer info / opacity slider / opacity value / removal\n    //     _createAdvancedToolElement\n    //           _createAdvancedToolDeleteElement\n    //           _createAdvancedToolInformationElement\n    //           _createAdvancedToolOpacityElement\n    //     -->\n    // </div>\n    // <!-- Layer entry in layer list -->\n    // <!-- Every item is marked with layerID, which is defined at layer import -->\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPlayerSwitcher_ID_\" + obj.id);\n    container.className = \"GPlayerSwitcher_layer draggable-layer\"; // ajout des outils basiques (visibility / layer name)\n\n    container.appendChild(this._createBasicToolElement(obj)); // liste des outils avancés (layer info / opacity slider / opacity value / removal)\n\n    var array = this._createAdvancedToolShowElement(obj);\n\n    for (var i = 0; i < array.length; i++) {\n      container.appendChild(array[i]);\n    } // ajout des outils avancés\n\n\n    container.appendChild(this._createAdvancedToolElement(obj));\n    return container;\n  },\n  // ################################################################### //\n  // ############################ Layer tool ########################### //\n  // ################################################################### //\n\n  /**\n   * Creation du container des outils basiques du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement} container\n   */\n  _createBasicToolElement: function _createBasicToolElement(obj) {\n    // exemple :\n    // <div id=\"GPbasicTools_ID_1\" class=\"GPlayerBasicTools\">\n    //      <!-- _createBasicToolVisibilityElement -->\n    //      <!-- _createBasicToolNameElement -->\n    // </div>\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPbasicTools_ID_\" + obj.id);\n    div.className = \"GPlayerBasicTools\";\n    div.appendChild(this._createBasicToolNameElement(obj));\n\n    var array = this._createBasicToolVisibilityElement(obj);\n\n    for (var i = 0; i < array.length; i++) {\n      div.appendChild(array[i]);\n    }\n\n    return div;\n  },\n\n  /**\n   * Creation du nom du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement} container\n   */\n  _createBasicToolNameElement: function _createBasicToolNameElement(obj) {\n    // exemple :\n    // <span id=\"GPname_ID_Layer1\" class=\"GPlayerName\" title=\"Quartiers prioritaires de la ville\">Quartiers prioritaires de la ville</span>\n    var span = document.createElement(\"span\");\n    span.id = this._addUID(\"GPname_ID_\" + obj.id);\n    span.className = \"GPlayerName\";\n    span.title = obj.description || obj.title;\n    span.innerHTML = obj.title;\n    return span;\n  },\n\n  /**\n   * Creation de l'icone de visibilité du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n    * @returns {DOMElement[]} array containing input and label elements\n   */\n  _createBasicToolVisibilityElement: function _createBasicToolVisibilityElement(obj) {\n    // exemple :\n    // <input type=\"checkbox\" id=\"GPvisibility_ID_Layer1\" checked=\"\">\n    // <label for=\"GPvisibility_ID_Layer1\" id=\"GPvisibilityPicto_ID_Layer1\" class=\"GPlayerVisibility\" title=\"Afficher/masquer la couche\"></label>\n    var list = [];\n    var checked = typeof obj.visibility !== \"undefined\" ? obj.visibility : true;\n\n    var id = this._addUID(\"GPvisibility_ID_\" + obj.id);\n\n    var input = document.createElement(\"input\");\n    input.id = id;\n    input.type = \"checkbox\";\n    input.checked = checked;\n    var label = document.createElement(\"label\");\n    label.htmlFor = id;\n    label.id = this._addUID(\"GPvisibilityPicto_ID_\" + obj.id);\n    label.className = \"GPlayerVisibility\";\n    label.title = \"Afficher/masquer la couche\"; // add event for visibility change\n\n    var context = this;\n\n    if (input.addEventListener) {\n      input.addEventListener(\"click\", function (e) {\n        context._onVisibilityLayerClick(e);\n      });\n    } else if (input.attachEvent) {\n      // internet explorer\n      input.attachEvent(\"onclick\", function (e) {\n        context._onVisibilityLayerClick(e);\n      });\n    }\n\n    list.push(input);\n    list.push(label);\n    return list;\n  },\n\n  /**\n   * Creation de l'affichage du menu des outils avancés du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement[]} array containing input and label elements\n   */\n  _createAdvancedToolShowElement: function _createAdvancedToolShowElement(obj) {\n    // <input type=\"checkbox\" id=\"GPshowAdvancedTools_ID_Layer1\">\n    // <label for=\"GPshowAdvancedTools_ID_Layer1\" id=\"GPshowAdvancedToolsPicto_ID_Layer1\" class=\"GPshowMoreOptions GPshowLayerAdvancedTools\" title=\"Plus d'outils\"></label>\n    var list = [];\n    var label = document.createElement(\"label\");\n    label.id = this._addUID(\"GPshowAdvancedToolsPicto_ID_\" + obj.id);\n    label.htmlFor = this._addUID(\"GPshowAdvancedTools_ID_\" + obj.id);\n    label.title = \"Plus d'outils\";\n    label.className = \"GPshowMoreOptions GPshowLayerAdvancedTools\";\n    var input = document.createElement(\"input\");\n    input.type = \"checkbox\";\n    input.id = this._addUID(\"GPshowAdvancedTools_ID_\" + obj.id);\n    list.push(input);\n    list.push(label);\n    return list;\n  },\n\n  /**\n   * Creation du container des outils avancés du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement} container\n   */\n  _createAdvancedToolElement: function _createAdvancedToolElement(obj) {\n    // exemple :\n    // <div id=\"GPadvancedTools_ID_Layer1\" class=\"GPlayerAdvancedTools\">\n    //     <!-- _createAdvancedToolDeleteElement -->\n    //     <!-- _createAdvancedToolInformationElement -->\n    //     <!-- _createAdvancedToolOpacityElement -->\n    // </div>\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPadvancedTools_ID_\" + obj.id);\n    container.className = \"GPlayerAdvancedTools\";\n    container.appendChild(this._createAdvancedToolDeleteElement(obj)); // si on n'a de l'informations à afficher, on met en place ce composant\n\n    if (obj.title && obj.description) {\n      container.appendChild(this._createAdvancedToolInformationElement(obj));\n    }\n\n    if (obj.type !== \"feature\") {\n      var array = this._createAdvancedToolOpacityElement(obj);\n\n      for (var i = 0; i < array.length; i++) {\n        container.appendChild(array[i]);\n      }\n    }\n\n    return container;\n  },\n\n  /**\n   * Creation de l'icone de suppression du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement} container\n   */\n  _createAdvancedToolDeleteElement: function _createAdvancedToolDeleteElement(obj) {\n    // exemple :\n    // <div id=\"GPremove_ID_Layer1\" class=\"GPlayerRemove\" title=\"Supprimer la couche\" onclick=\"GPdropLayer(this);\"></div>\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPremove_ID_\" + obj.id);\n    div.className = \"GPlayerRemove\";\n    div.title = \"Supprimer la couche\";\n    div.layerId = obj.id;\n    var context = this;\n\n    if (div.addEventListener) {\n      div.addEventListener(\"click\", function (e) {\n        context._onDropLayerClick(e);\n      });\n    } else if (div.attachEvent) {\n      // internet explorer\n      div.attachEvent(\"onclick\", function (e) {\n        context._onDropLayerClick(e);\n      });\n    }\n\n    return div;\n  },\n\n  /**\n   * Creation de l'icone d'information du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement} container\n   */\n  _createAdvancedToolInformationElement: function _createAdvancedToolInformationElement(obj) {\n    // exemple :\n    // <div id=\"GPinfo_ID_Layer1\" class=\"GPlayerInfo\" title=\"Informations/légende\" onclick=\"GPopenLayerInfo(this);\"></div>\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPinfo_ID_\" + obj.id);\n    div.className = \"GPlayerInfo\";\n    div.title = \"Informations/légende\";\n    div.layerId = obj.id; // add event on click\n\n    var context = this;\n\n    if (div.addEventListener) {\n      div.addEventListener(\"click\", function (e) {\n        context._onOpenLayerInfoClick(e);\n      });\n    } else if (div.attachEvent) {\n      // internet explorer\n      div.attachEvent(\"onclick\", function (e) {\n        context._onOpenLayerInfoClick(e);\n      });\n    }\n\n    return div;\n  },\n\n  /**\n   * Creation de l'icone de gestion de l'opacité du layer (DOM)\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement[]} array of two containers\n   */\n  _createAdvancedToolOpacityElement: function _createAdvancedToolOpacityElement(obj) {\n    // exemple :\n    // <div id=\"GPopacity_ID_Layer1\" class=\"GPlayerOpacity\" title=\"Opacité\">\n    //   <input id=\"GPopacityRange_ID_Layer1\" type=\"range\" value=\"100\" oninput=\"GPchangeLayerOpacity(this);\" onchange=\"GPchangeLayerOpacity(this);\">\n    // </div>\n    // <div class=\"GPlayerOpacityValue\" id=\"GPopacityValueDiv_ID_Layer1\">\n    //   <span id=\"GPopacityValue_ID_Layer1\">100</span>\n    //   %\n    // </div>\n    var list = []; // curseur pour changer l'opacité\n\n    var divO = document.createElement(\"div\");\n    divO.id = this._addUID(\"GPopacity_ID_\" + obj.id);\n    divO.className = \"GPlayerOpacity\";\n    divO.title = \"Opacité\";\n    var opacity = typeof obj.opacity !== \"undefined\" ? obj.opacity : 1;\n    opacity = Math.round(opacity * 100);\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPopacityValueDiv_ID_\" + obj.id);\n    input.type = \"range\";\n    input.value = opacity; // add event for opacity change\n\n    var context = this;\n\n    if (input.addEventListener) {\n      input.addEventListener(\"change\", function (e) {\n        context._onChangeLayerOpacity(e);\n      });\n    } else if (input.attachEvent) {\n      // internet explorer\n      input.attachEvent(\"onchange\", function (e) {\n        context._onChangeLayerOpacity(e);\n      });\n    }\n\n    if (input.addEventListener) {\n      input.addEventListener(\"input\", function (e) {\n        context._onChangeLayerOpacity(e);\n      });\n    } else if (input.attachEvent) {\n      // internet explorer\n      input.attachEvent(\"oninput\", function (e) {\n        context._onChangeLayerOpacity(e);\n      });\n    }\n\n    divO.appendChild(input); // Valeur d'opacité\n\n    var divC = document.createElement(\"div\");\n    divC.id = this._addUID(\"GPopacityValueDiv_ID_\" + obj.id);\n    divC.className = \"GPlayerOpacityValue\";\n    var span = document.createElement(\"span\");\n    span.id = this._addUID(\"GPopacityValue_ID_\" + obj.id);\n    span.innerHTML = opacity + \"%\";\n    divC.appendChild(span);\n    list.push(divO);\n    list.push(divC);\n    return list;\n  },\n  // ################################################################### //\n  // ############################ Layer info ########################### //\n  // ################################################################### //\n\n  /**\n   * Creation du container du layer info (DOM)\n   *\n   * TODO GPlayerInfoPopup : ???\n   * TODO GPlayerInfoLink  : mettre en forme les échelles !\n   *\n   * @param {Object} obj - options de la couche à ajouter dans le layer switcher\n   *\n   * @returns {DOMElement} container\n   */\n  _createContainerLayerInfoElement: function _createContainerLayerInfoElement(obj) {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPlayerInfoContent\");\n    var title = document.createElement(\"div\");\n    title.id = this._addUID(\"GPlayerInfoTitle\");\n    title.innerHTML = obj.title;\n    container.appendChild(title);\n\n    if (obj.quicklookUrl) {\n      var quick = document.createElement(\"div\");\n      quick.id = this._addUID(\"GPlayerInfoQuicklook\");\n      quick.title = \"Afficher un aperçu de la couche\";\n      var refquick = document.createElement(\"a\");\n      refquick.href = obj.quicklookUrl;\n      refquick.appendChild(quick);\n      container.appendChild(refquick);\n    }\n\n    var close = document.createElement(\"div\");\n    close.id = this._addUID(\"GPlayerInfoClose\");\n    close.title = \"Fermer la fenêtre\";\n    var self = this;\n    /** Call event function on close click */\n\n    var onCloseClick = function onCloseClick() {\n      document.getElementById(self._addUID(\"GPlayerInfoPanel\")).className = \"GPlayerInfoPanelClosed\";\n      var layers = document.getElementsByClassName(\"GPlayerInfoOpened\");\n\n      for (var i = 0; i < layers.length; i++) {\n        layers[i].className = \"GPlayerInfo\";\n      }\n    };\n\n    if (close.addEventListener) {\n      close.addEventListener(\"click\", onCloseClick);\n    } else if (close.attachEvent) {\n      // internet explorer\n      close.attachEvent(\"onclick\", onCloseClick);\n    }\n\n    container.appendChild(close);\n    var desc = document.createElement(\"div\");\n    desc.id = this._addUID(\"GPlayerInfoDescription\");\n    desc.innerHTML = obj.description;\n    container.appendChild(desc);\n\n    if (obj.metadata) {\n      var mtd = document.createElement(\"div\");\n      mtd.id = this._addUID(\"GPlayerInfoMetadata\");\n      var mtdtitle = document.createElement(\"div\");\n      mtdtitle.className = \"GPlayerInfoSubtitle\";\n      mtdtitle.innerHTML = \"Métadonnées\";\n      mtd.appendChild(mtdtitle);\n\n      for (var i = 0; i < obj.metadata.length; i++) {\n        var urlmtd = obj.metadata[i].url;\n        var mtdlink = document.createElement(\"div\");\n        mtdlink.className = \"GPlayerInfoLink\";\n        var refmtd = document.createElement(\"a\");\n        refmtd.href = urlmtd;\n        refmtd.innerHTML = urlmtd;\n        mtdlink.appendChild(refmtd);\n        mtd.appendChild(mtdlink);\n      }\n\n      if (obj.metadata.length !== 0) {\n        container.appendChild(mtd);\n      }\n    }\n\n    if (obj.legends) {\n      var lgd = document.createElement(\"div\");\n      lgd.id = this._addUID(\"GPlayerInfoLegend\");\n      var lgdtitle = document.createElement(\"div\");\n      lgdtitle.className = \"GPlayerInfoSubtitle\";\n      lgdtitle.innerHTML = \"Légende\";\n      lgd.appendChild(lgdtitle);\n      var legends = {};\n      var maxScale = obj.maxScaleDenominator || 560000000; // on crée un tableau temporaire pour ordonner les légendes selon le dénominateur d'échelle\n\n      for (var k = 0; k < obj.legends.length; k++) {\n        var minScale = obj.legends[k].minScaleDenominator;\n\n        if (minScale) {\n          var s = minScale.toString();\n          minScale = Math.round(parseInt(s.substring(0, 3), 10) / 10) * Math.pow(10, s.length - 2);\n        } else {\n          minScale = 270;\n        }\n\n        legends[minScale] = obj.legends[k];\n      }\n\n      for (var scale in legends) {\n        if (legends.hasOwnProperty(scale)) {\n          var urllgd = legends[scale].url; // on n'affiche pas les légendes pointant vers \"nolegend.jpg\"\n\n          if (typeof urllgd === \"string\" && urllgd.toLowerCase().indexOf(\"nolegend.jpg\") === -1) {\n            // TODO GPlayerInfoPopup\n            var lgdlink = document.createElement(\"div\");\n            lgdlink.className = \"GPlayerInfoLink\";\n            maxScale = legends[scale].maxScaleDenominator || maxScale;\n            var reflgd = document.createElement(\"a\");\n            reflgd.href = urllgd;\n            reflgd.innerHTML = \"Du 1/\" + scale + \" au 1/\" + maxScale;\n            lgdlink.appendChild(reflgd);\n            lgd.appendChild(lgdlink);\n          } else {\n            delete legends[scale];\n          }\n        }\n      }\n\n      if (Object.keys(legends).length !== 0) {\n        container.appendChild(lgd);\n      }\n    }\n\n    return container;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerSwitcherDOM);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ29udHJvbHMvTGF5ZXJTd2l0Y2hlckRPTS5qcz8zM2JlIl0sIm5hbWVzIjpbIkxheWVyU3dpdGNoZXJET00iLCJfY3JlYXRlRHJhZ2dhYmxlRWxlbWVudCIsImVsZW1lbnREcmFnZ2FibGUiLCJjb250ZXh0IiwiU29ydGFibGUiLCJjcmVhdGUiLCJoYW5kbGUiLCJkcmFnZ2FibGUiLCJnaG9zdENsYXNzIiwiYW5pbWF0aW9uIiwib25FbmQiLCJlIiwiX29uRHJhZ0FuZERyb3BMYXllckNsaWNrIiwiX2FkZFVJRCIsImlkIiwidWlkIiwiX3VpZCIsIl9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsIl9jcmVhdGVNYWluTGF5ZXJzU2hvd0VsZW1lbnQiLCJpbnB1dCIsInR5cGUiLCJfY3JlYXRlTWFpbkxheWVyc0VsZW1lbnQiLCJkaXYiLCJfY3JlYXRlTWFpblBpY3RvRWxlbWVudCIsInNlbGYiLCJsYWJlbCIsImh0bWxGb3IiLCJ0aXRsZSIsInNwYW5PcGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEVsZW1lbnRCeUlkIiwiY2hlY2tlZCIsImxheWVycyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpIiwibGVuZ3RoIiwiYXBwZW5kQ2hpbGQiLCJzcGFuQ2xvc2UiLCJfY3JlYXRlTWFpbkluZm9FbGVtZW50IiwiX2NyZWF0ZUNvbnRhaW5lckxheWVyRWxlbWVudCIsIm9iaiIsIl9jcmVhdGVCYXNpY1Rvb2xFbGVtZW50IiwiYXJyYXkiLCJfY3JlYXRlQWR2YW5jZWRUb29sU2hvd0VsZW1lbnQiLCJfY3JlYXRlQWR2YW5jZWRUb29sRWxlbWVudCIsIl9jcmVhdGVCYXNpY1Rvb2xOYW1lRWxlbWVudCIsIl9jcmVhdGVCYXNpY1Rvb2xWaXNpYmlsaXR5RWxlbWVudCIsInNwYW4iLCJkZXNjcmlwdGlvbiIsImlubmVySFRNTCIsImxpc3QiLCJ2aXNpYmlsaXR5IiwiX29uVmlzaWJpbGl0eUxheWVyQ2xpY2siLCJhdHRhY2hFdmVudCIsInB1c2giLCJfY3JlYXRlQWR2YW5jZWRUb29sRGVsZXRlRWxlbWVudCIsIl9jcmVhdGVBZHZhbmNlZFRvb2xJbmZvcm1hdGlvbkVsZW1lbnQiLCJfY3JlYXRlQWR2YW5jZWRUb29sT3BhY2l0eUVsZW1lbnQiLCJsYXllcklkIiwiX29uRHJvcExheWVyQ2xpY2siLCJfb25PcGVuTGF5ZXJJbmZvQ2xpY2siLCJkaXZPIiwib3BhY2l0eSIsIk1hdGgiLCJyb3VuZCIsInZhbHVlIiwiX29uQ2hhbmdlTGF5ZXJPcGFjaXR5IiwiZGl2QyIsIl9jcmVhdGVDb250YWluZXJMYXllckluZm9FbGVtZW50IiwicXVpY2tsb29rVXJsIiwicXVpY2siLCJyZWZxdWljayIsImhyZWYiLCJjbG9zZSIsIm9uQ2xvc2VDbGljayIsImRlc2MiLCJtZXRhZGF0YSIsIm10ZCIsIm10ZHRpdGxlIiwidXJsbXRkIiwidXJsIiwibXRkbGluayIsInJlZm10ZCIsImxlZ2VuZHMiLCJsZ2QiLCJsZ2R0aXRsZSIsIm1heFNjYWxlIiwibWF4U2NhbGVEZW5vbWluYXRvciIsImsiLCJtaW5TY2FsZSIsIm1pblNjYWxlRGVub21pbmF0b3IiLCJzIiwidG9TdHJpbmciLCJwYXJzZUludCIsInN1YnN0cmluZyIsInBvdyIsInNjYWxlIiwiaGFzT3duUHJvcGVydHkiLCJ1cmxsZ2QiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJsZ2RsaW5rIiwicmVmbGdkIiwiT2JqZWN0Iiwia2V5cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxJQUFJQSxnQkFBZ0IsR0FBRztBQUVuQjs7Ozs7O0FBTUFDLHlCQUF1QixFQUFHLGlDQUFVQyxnQkFBVixFQUE0QkMsT0FBNUIsRUFBcUM7QUFDM0RDLHFEQUFRLENBQUNDLE1BQVQsQ0FBZ0JILGdCQUFoQixFQUFrQztBQUM5QkksWUFBTSxFQUFHLGNBRHFCO0FB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SU8sTUFBTSxDQUFDQyxJQUFQLENBQVlyQixPQUFaLEVBQXFCaEQsTUFBckIsS0FBZ0MsQ0FBcEMsRUFBdUM7QUFDbkNyQixpQkFBUyxDQUFDc0IsV0FBVixDQUFzQmdELEdBQXRCO0FBQ0g7QUFDSjs7QUFFRCxXQUFPdEUsU0FBUDtBQUNIO0FBOXBCa0IsQ0FBdkI7QUFpcUJlbEIsK0VBQWYiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL0NvbnRyb2xzL0xheWVyU3dpdGNoZXJET00uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGUgZnJvbSBcInNvcnRhYmxlanNcIjtcblxudmFyIExheWVyU3dpdGNoZXJET00gPSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGlvbiBkdSBkcmFnIGFuZCBkcm9wXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudERyYWdnYWJsZSAtIEVsZW1lbnQgSFRNTCAoRE9NKSBDb250YWluZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCAtIHRoaXNcbiAgICAgKi9cbiAgICBfY3JlYXRlRHJhZ2dhYmxlRWxlbWVudCA6IGZ1bmN0aW9uIChlbGVtZW50RHJhZ2dhYmxlLCBjb250ZXh0KSB7XG4gICAgICAgIFNvcnRhYmxlLmNyZWF0ZShlbGVtZW50RHJhZ2dhYmxlLCB7XG4gICAgICAgICAgICBoYW5kbGUgOiBcIi5HUGxheWVyTmFtZVwiLFxuICAgICAgICAgICAgZHJhZ2dhYmxlIDogXCIuZHJhZ2dhYmxlLWxheWVyXCIsXG4gICAgICAgICAgICBnaG9zdENsYXNzIDogXCJHUGdob3N0TGF5ZXJcIixcbiAgICAgICAgICAgIGFuaW1hdGlvbiA6IDIwMCxcbiAgICAgICAgICAgIC8vIENhbGwgZXZlbnQgZnVuY3Rpb24gb24gZHJhZyBhbmQgZHJvcFxuICAgICAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FIHBhcyB0ZXJycmlibGUsIG1haXMgaWwgZmF1dCBiaWVuIHBhc3NlciBjZSBjb250ZXh0ZS4uLlxuICAgICAgICAgICAgICAgIGNvbnRleHQuX29uRHJhZ0FuZERyb3BMYXllckNsaWNrKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgTWFpbiBjb250YWluZXIgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbiAgICAvKipcbiAgICAqIEFkZCB1dWlkIHRvIHRoZSB0YWcgSURcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIGlkIHNlbGVjdG9yXG4gICAgKiBAcmV0dXJucyB7U3RyaW5nfSB1aWQgLSBpZCBzZWxlY3RvciB3aXRoIGFuIHVuaXF1ZSBpZFxuICAgICovXG4gICAgX2FkZFVJRCA6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgdWlkID0gKHRoaXMuX3VpZCkgPyBpZCArIFwiLVwiICsgdGhpcy5fdWlkIDogaWQ7XG4gICAgICAgIHJldHVybiB1aWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0aW9uIGR1IGNvbnRhaW5lciBwcmluY2lwYWwgKERPTSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjb250YWluZXIgLSBsYXllciBzd2l0Y2hlciBET00gZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnRhaW5lci5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbGF5ZXJTd2l0Y2hlclwiKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiR1B3aWRnZXRcIjtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgY29udGFpbmVyIHByaW5jaXBhbCBkXCJhZmZpY2hhZ2UgZGVzIGxheWVycyAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGlucHV0IC0gZWxlbWVudCBmb3IgbWluaW1pemluZy9tYXhpbWl6aW5nIHRoZSBsYXllciBzd2l0Y2hlclxuICAgICAqL1xuICAgIF9jcmVhdGVNYWluTGF5ZXJzU2hvd0VsZW1lbnQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIDwhLS0gSGlkZGVuIGNoZWNrYm94IGZvciBtaW5pbWl6aW5nL21heGltaXppbmcgLS0+XG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXQuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dMYXllcnNMaXN0XCIpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0aW9uIGR1IGNvbnRhaW5lciBwcmluY2lwYWwgZGVzIGxheWVycyAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lciAtIGxheWVycyBsaXN0IGNvbnRhaW5lclxuICAgICAqL1xuICAgIF9jcmVhdGVNYWluTGF5ZXJzRWxlbWVudCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYWpvdXQgZGUgbGEgbGlzdGUgZGVzIGxheWVycyBkYW5zIGxlIGNvbnRhaW5lciBwcmluY2lwYWxcbiAgICAgICAgLy8gPGRpdiBpZD1cIkdQbGF5ZXJzTGlzdFwiIGNsYXNzPVwiR1BwYW5lbFwiPlxuICAgICAgICAvLyAgICguLi4pXG4gICAgICAgIC8vIDwvZGl2PlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BsYXllcnNMaXN0XCIpO1xuICAgICAgICBkaXYuY2xhc3NOYW1lID0gXCJHUHBhbmVsXCI7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0aW9uIGR1IGNvbnRhaW5lciBkdSBwaWN0byBkdSBjb250cm9sZSAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGxhYmVsXG4gICAgICovXG4gICAgX2NyZWF0ZU1haW5QaWN0b0VsZW1lbnQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyBleGVtcGxlIDpcbiAgICAgICAgLy8gPCEtLSBMYWJlbCBmb3IgbWluaW1pemluZy9tYXhpbWl6aW5nIC0tPlxuICAgICAgICAvLyA8bGFiZWwgaWQ9XCJHUHNob3dMYXllcnNMaXN0UGljdG9cIiBjbGFzcz1cIkdQc2hvd0FkdmFuY2VkVG9vbFBpY3RvXCIgZm9yPVwiR1BzaG93TGF5ZXJzTGlzdFwiIHRpdGxlPVwiQWZmaWNoZXIvbWFzcXVlciBsZSBnZXN0aW9ubmFpcmUgZGUgY291Y2hlc1wiPlxuICAgICAgICAvLyAgICA8c3BhbiBpZD1cIkdQc2hvd0xheWVyc0xpc3RPcGVuXCIgY2xhc3M9XCJHUHNob3dBZHZhbmNlZFRvb2xPcGVuXCI+PC9zcGFuPjxzcGFuIGlkPVwiR1BzaG93TGF5ZXJzTGlzdENsb3NlXCI+PC9zcGFuPlxuICAgICAgICAvLyA8L2xhYmVsPlxuXG4gICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgbGFiZWwuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dMYXllcnNMaXN0UGljdG9cIik7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwiR1BzaG93QWR2YW5jZWRUb29sUGljdG9cIjtcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9IHRoaXMuX2FkZFVJRChcIkdQc2hvd0xheWVyc0xpc3RcIik7XG4gICAgICAgIGxhYmVsLnRpdGxlID0gXCJBZmZpY2hlci9tYXNxdWVyIGxlIGdlc3Rpb25uYWlyZSBkZSBjb3VjaGVzXCI7XG5cbiAgICAgICAgdmFyIHNwYW5PcGVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW5PcGVuLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93TGF5ZXJzTGlzdE9wZW5cIik7XG4gICAgICAgIHNwYW5PcGVuLmNsYXNzTmFtZSA9IFwiR1BzaG93QWR2YW5jZWRUb29sT3BlblwiO1xuICAgICAgICBzcGFuT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGYuX2FkZFVJRChcIkdQc2hvd0xheWVyc0xpc3RcIikpLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkdQbGF5ZXJJbmZvT3BlbmVkXCIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyc1tpXS5jbGFzc05hbWUgPSBcIkdQbGF5ZXJJbmZvXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGYuX2FkZFVJRChcIkdQbGF5ZXJJbmZvUGFuZWxcIikpLmNsYXNzTmFtZSA9IFwiR1BsYXllckluZm9QYW5lbENsb3NlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChzcGFuT3Blbik7XG5cbiAgICAgICAgdmFyIHNwYW5DbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLl9hZGRVSUQoXCJHUHNob3dMYXllcnNMaXN0XCIpKS5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJHUGxheWVySW5mb09wZW5lZFwiKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsYXllcnNbaV0uY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLl9hZGRVSUQoXCJHUGxheWVySW5mb1BhbmVsXCIpKS5jbGFzc05hbWUgPSBcIkdQbGF5ZXJJbmZvUGFuZWxDbG9zZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNwYW5DbG9zZS5pZCA9IHNlbGYuX2FkZFVJRChcIkdQc2hvd0xheWVyc0xpc3RDbG9zZVwiKTtcblxuICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChzcGFuQ2xvc2UpO1xuXG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgY29udGFpbmVyIGR1IHBhbm5lYXUgZFwiaW5mb3JtYXRpb24gKERPTSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjb250YWluZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlTWFpbkluZm9FbGVtZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBnZXN0aW9uIGR1IHBhbm5lYXUgZFwiaW5mb3JtYXRpb24gZGFucyBsZSBjb250YWluZXIgcHJpbmNpcGFsXG4gICAgICAgIC8vIDxkaXYgaWQ9XCJHUGxheWVySW5mb1BhbmVsXCIgY2xhc3M9XCJHUGxheWVySW5mb1BhbmVsQ2xvc2VkXCI+Li4uPC9kaXY+XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXYuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUGxheWVySW5mb1BhbmVsXCIpO1xuICAgICAgICBkaXYuY2xhc3NOYW1lID0gXCJHUHBhbmVsIEdQbGF5ZXJJbmZvUGFuZWxDbG9zZWRcIjtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9LFxuXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgTGF5ZXIgY29udGFpbmVyICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGlvbiBkdSBjb250YWluZXIgZHUgbGF5ZXIgKERPTSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBvcHRpb25zIGRlIGxhIGNvdWNoZSDDoCBham91dGVyIGRhbnMgbGUgbGF5ZXIgc3dpdGNoZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqLmxheWVyIC0gY291Y2hlIChvbCBvdSBsZWFmbGV0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvYmouaWQgLSBpZGVudGlmaWFudCBkZSBsYSBjb3VjaGUgKHBvdXIgb2wgb3UgbGVhZmxldClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqLnRpdGxlIC0gbm9tIGRlIGxhIGNvdWNoZSDDoCBhZmZpY2hlciBkYW5zIGxlIGNvbnRyb2xlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9iai5kZXNjcmlwdGlvbiAtIGRlc2NyaXB0aW9uIGRlIGxhIGNvdWNoZSDDoCBhZmZpY2hlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb2JqLnZpc2liaWxpdHkgLSB2aXNpYmlsaXTDqSBkZSBsYSBjb3VjaGUgZGFucyBsYSBjYXJ0ZSAodHJ1ZSBvciBmYWxzZSlcbiAgICAgKiBAcGFyYW0ge0Zsb2F0fSBvYmoub3BhY2l0eSAtIG9wYWNpdMOpIGRlIGxhIGNvdWNoZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lclxuICAgICAqL1xuICAgIF9jcmVhdGVDb250YWluZXJMYXllckVsZW1lbnQgOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIGV4ZW1wbGUgOlxuICAgICAgICAvLyA8ZGl2IGlkPVwiR1BsYXllclN3aXRjaGVyX0lEX0xheWVyMVwiIGNsYXNzPVwiR1BsYXllclN3aXRjaGVyX2xheWVyIG91dE9mUmFuZ2VcIj5cbiAgICAgICAgLy8gICAgIDwhLS0gQmFzaWMgdG9vbGJhciA6IHZpc2liaWxpdHkgLyBsYXllciBuYW1lXG4gICAgICAgIC8vICAgICBfY3JlYXRlQmFzaWNUb29sRWxlbWVudFxuICAgICAgICAvLyAgICAgICAgICAgX2NyZWF0ZUJhc2ljVG9vbFZpc2liaWxpdHlFbGVtZW50XG4gICAgICAgIC8vICAgICAgICAgICBfY3JlYXRlQmFzaWNUb29sTmFtZUVsZW1lbnRcbiAgICAgICAgLy8gICAgIC0tPlxuICAgICAgICAvLyAgICAgPCEtLSBIaWRkZW4gY2hlY2tib3ggKyBsYWJlbCBmb3Igc2hvd2luZyBhZHZhbmNlZCB0b29sYmFyXG4gICAgICAgIC8vICAgICBfY3JlYXRlQWR2YW5jZWRUb29sU2hvd0VsZW1lbnRcbiAgICAgICAgLy8gICAgIC0tPlxuICAgICAgICAvLyAgICAgPCEtLSBBZHZhbmNlZCB0b29sYmFyIDogbGF5ZXIgaW5mbyAvIG9wYWNpdHkgc2xpZGVyIC8gb3BhY2l0eSB2YWx1ZSAvIHJlbW92YWxcbiAgICAgICAgLy8gICAgIF9jcmVhdGVBZHZhbmNlZFRvb2xFbGVtZW50XG4gICAgICAgIC8vICAgICAgICAgICBfY3JlYXRlQWR2YW5jZWRUb29sRGVsZXRlRWxlbWVudFxuICAgICAgICAvLyAgICAgICAgICAgX2NyZWF0ZUFkdmFuY2VkVG9vbEluZm9ybWF0aW9uRWxlbWVudFxuICAgICAgICAvLyAgICAgICAgICAgX2NyZWF0ZUFkdmFuY2VkVG9vbE9wYWNpdHlFbGVtZW50XG4gICAgICAgIC8vICAgICAtLT5cbiAgICAgICAgLy8gPC9kaXY+XG5cbiAgICAgICAgLy8gPCEtLSBMYXllciBlbnRyeSBpbiBsYXllciBsaXN0IC0tPlxuICAgICAgICAvLyA8IS0tIEV2ZXJ5IGl0ZW0gaXMgbWFya2VkIHdpdGggbGF5ZXJJRCwgd2hpY2ggaXMgZGVmaW5lZCBhdCBsYXllciBpbXBvcnQgLS0+XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb250YWluZXIuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUGxheWVyU3dpdGNoZXJfSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJHUGxheWVyU3dpdGNoZXJfbGF5ZXIgZHJhZ2dhYmxlLWxheWVyXCI7XG5cbiAgICAgICAgLy8gYWpvdXQgZGVzIG91dGlscyBiYXNpcXVlcyAodmlzaWJpbGl0eSAvIGxheWVyIG5hbWUpXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVCYXNpY1Rvb2xFbGVtZW50KG9iaikpO1xuXG4gICAgICAgIC8vIGxpc3RlIGRlcyBvdXRpbHMgYXZhbmPDqXMgKGxheWVyIGluZm8gLyBvcGFjaXR5IHNsaWRlciAvIG9wYWNpdHkgdmFsdWUgLyByZW1vdmFsKVxuICAgICAgICB2YXIgYXJyYXkgPSB0aGlzLl9jcmVhdGVBZHZhbmNlZFRvb2xTaG93RWxlbWVudChvYmopO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXJyYXlbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWpvdXQgZGVzIG91dGlscyBhdmFuY8Opc1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlQWR2YW5jZWRUb29sRWxlbWVudChvYmopKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH0sXG5cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBMYXllciB0b29sICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuICAgIC8qKlxuICAgICAqIENyZWF0aW9uIGR1IGNvbnRhaW5lciBkZXMgb3V0aWxzIGJhc2lxdWVzIGR1IGxheWVyIChET00pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gb3B0aW9ucyBkZSBsYSBjb3VjaGUgw6AgYWpvdXRlciBkYW5zIGxlIGxheWVyIHN3aXRjaGVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY29udGFpbmVyXG4gICAgICovXG4gICAgX2NyZWF0ZUJhc2ljVG9vbEVsZW1lbnQgOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIGV4ZW1wbGUgOlxuICAgICAgICAvLyA8ZGl2IGlkPVwiR1BiYXNpY1Rvb2xzX0lEXzFcIiBjbGFzcz1cIkdQbGF5ZXJCYXNpY1Rvb2xzXCI+XG4gICAgICAgIC8vICAgICAgPCEtLSBfY3JlYXRlQmFzaWNUb29sVmlzaWJpbGl0eUVsZW1lbnQgLS0+XG4gICAgICAgIC8vICAgICAgPCEtLSBfY3JlYXRlQmFzaWNUb29sTmFtZUVsZW1lbnQgLS0+XG4gICAgICAgIC8vIDwvZGl2PlxuXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXYuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUGJhc2ljVG9vbHNfSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBkaXYuY2xhc3NOYW1lID0gXCJHUGxheWVyQmFzaWNUb29sc1wiO1xuXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVCYXNpY1Rvb2xOYW1lRWxlbWVudChvYmopKTtcblxuICAgICAgICB2YXIgYXJyYXkgPSB0aGlzLl9jcmVhdGVCYXNpY1Rvb2xWaXNpYmlsaXR5RWxlbWVudChvYmopO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoYXJyYXlbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgbm9tIGR1IGxheWVyIChET00pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gb3B0aW9ucyBkZSBsYSBjb3VjaGUgw6AgYWpvdXRlciBkYW5zIGxlIGxheWVyIHN3aXRjaGVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY29udGFpbmVyXG4gICAgICovXG4gICAgX2NyZWF0ZUJhc2ljVG9vbE5hbWVFbGVtZW50IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAvLyBleGVtcGxlIDpcbiAgICAgICAgLy8gPHNwYW4gaWQ9XCJHUG5hbWVfSURfTGF5ZXIxXCIgY2xhc3M9XCJHUGxheWVyTmFtZVwiIHRpdGxlPVwiUXVhcnRpZXJzIHByaW9yaXRhaXJlcyBkZSBsYSB2aWxsZVwiPlF1YXJ0aWVycyBwcmlvcml0YWlyZXMgZGUgbGEgdmlsbGU8L3NwYW4+XG4gICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4uaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG5hbWVfSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiR1BsYXllck5hbWVcIjtcbiAgICAgICAgc3Bhbi50aXRsZSA9IG9iai5kZXNjcmlwdGlvbiB8fCBvYmoudGl0bGU7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gb2JqLnRpdGxlO1xuXG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGlvbiBkZSBsJ2ljb25lIGRlIHZpc2liaWxpdMOpIGR1IGxheWVyIChET00pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gb3B0aW9ucyBkZSBsYSBjb3VjaGUgw6AgYWpvdXRlciBkYW5zIGxlIGxheWVyIHN3aXRjaGVyXG5cbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudFtdfSBhcnJheSBjb250YWluaW5nIGlucHV0IGFuZCBsYWJlbCBlbGVtZW50c1xuICAgICAqL1xuICAgIF9jcmVhdGVCYXNpY1Rvb2xWaXNpYmlsaXR5RWxlbWVudCA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgLy8gZXhlbXBsZSA6XG4gICAgICAgIC8vIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIkdQdmlzaWJpbGl0eV9JRF9MYXllcjFcIiBjaGVja2VkPVwiXCI+XG4gICAgICAgIC8vIDxsYWJlbCBmb3I9XCJHUHZpc2liaWxpdHlfSURfTGF5ZXIxXCIgaWQ9XCJHUHZpc2liaWxpdHlQaWN0b19JRF9MYXllcjFcIiBjbGFzcz1cIkdQbGF5ZXJWaXNpYmlsaXR5XCIgdGl0bGU9XCJBZmZpY2hlci9tYXNxdWVyIGxhIGNvdWNoZVwiPjwvbGFiZWw+XG5cbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcblxuICAgICAgICB2YXIgY2hlY2tlZCA9ICh0eXBlb2Ygb2JqLnZpc2liaWxpdHkgIT09IFwidW5kZWZpbmVkXCIpID8gb2JqLnZpc2liaWxpdHkgOiB0cnVlO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHZpc2liaWxpdHlfSURfXCIgKyBvYmouaWQpO1xuXG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXQuaWQgPSBpZDtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgaW5wdXQuY2hlY2tlZCA9IGNoZWNrZWQ7XG5cbiAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBsYWJlbC5odG1sRm9yID0gaWQ7XG4gICAgICAgIGxhYmVsLmlkID0gdGhpcy5fYWRkVUlEKFwiR1B2aXNpYmlsaXR5UGljdG9fSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSBcIkdQbGF5ZXJWaXNpYmlsaXR5XCI7XG4gICAgICAgIGxhYmVsLnRpdGxlID0gXCJBZmZpY2hlci9tYXNxdWVyIGxhIGNvdWNoZVwiO1xuXG4gICAgICAgIC8vIGFkZCBldmVudCBmb3IgdmlzaWJpbGl0eSBjaGFuZ2VcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICBpZiAoaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fb25WaXNpYmlsaXR5TGF5ZXJDbGljayhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICAvLyBpbnRlcm5ldCBleHBsb3JlclxuICAgICAgICAgICAgaW5wdXQuYXR0YWNoRXZlbnQoXG4gICAgICAgICAgICAgICAgXCJvbmNsaWNrXCIsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fb25WaXNpYmlsaXR5TGF5ZXJDbGljayhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGlucHV0KTtcbiAgICAgICAgbGlzdC5wdXNoKGxhYmVsKTtcblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZGUgbCdhZmZpY2hhZ2UgZHUgbWVudSBkZXMgb3V0aWxzIGF2YW5jw6lzIGR1IGxheWVyIChET00pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gb3B0aW9ucyBkZSBsYSBjb3VjaGUgw6AgYWpvdXRlciBkYW5zIGxlIGxheWVyIHN3aXRjaGVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudFtdfSBhcnJheSBjb250YWluaW5nIGlucHV0IGFuZCBsYWJlbCBlbGVtZW50c1xuICAgICAqL1xuICAgIF9jcmVhdGVBZHZhbmNlZFRvb2xTaG93RWxlbWVudCA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiR1BzaG93QWR2YW5jZWRUb29sc19JRF9MYXllcjFcIj5cbiAgICAgICAgLy8gPGxhYmVsIGZvcj1cIkdQc2hvd0FkdmFuY2VkVG9vbHNfSURfTGF5ZXIxXCIgaWQ9XCJHUHNob3dBZHZhbmNlZFRvb2xzUGljdG9fSURfTGF5ZXIxXCIgY2xhc3M9XCJHUHNob3dNb3JlT3B0aW9ucyBHUHNob3dMYXllckFkdmFuY2VkVG9vbHNcIiB0aXRsZT1cIlBsdXMgZCdvdXRpbHNcIj48L2xhYmVsPlxuXG4gICAgICAgIHZhciBsaXN0ID0gW107XG5cbiAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBsYWJlbC5pZCA9IHRoaXMuX2FkZFVJRChcIkdQc2hvd0FkdmFuY2VkVG9vbHNQaWN0b19JRF9cIiArIG9iai5pZCk7XG4gICAgICAgIGxhYmVsLmh0bWxGb3IgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dBZHZhbmNlZFRvb2xzX0lEX1wiICsgb2JqLmlkKTtcbiAgICAgICAgbGFiZWwudGl0bGUgPSBcIlBsdXMgZCdvdXRpbHNcIjtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gXCJHUHNob3dNb3JlT3B0aW9ucyBHUHNob3dMYXllckFkdmFuY2VkVG9vbHNcIjtcblxuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIGlucHV0LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93QWR2YW5jZWRUb29sc19JRF9cIiArIG9iai5pZCk7XG5cbiAgICAgICAgbGlzdC5wdXNoKGlucHV0KTtcbiAgICAgICAgbGlzdC5wdXNoKGxhYmVsKTtcblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgY29udGFpbmVyIGRlcyBvdXRpbHMgYXZhbmPDqXMgZHUgbGF5ZXIgKERPTSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBvcHRpb25zIGRlIGxhIGNvdWNoZSDDoCBham91dGVyIGRhbnMgbGUgbGF5ZXIgc3dpdGNoZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjb250YWluZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlQWR2YW5jZWRUb29sRWxlbWVudCA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgLy8gZXhlbXBsZSA6XG4gICAgICAgIC8vIDxkaXYgaWQ9XCJHUGFkdmFuY2VkVG9vbHNfSURfTGF5ZXIxXCIgY2xhc3M9XCJHUGxheWVyQWR2YW5jZWRUb29sc1wiPlxuICAgICAgICAvLyAgICAgPCEtLSBfY3JlYXRlQWR2YW5jZWRUb29sRGVsZXRlRWxlbWVudCAtLT5cbiAgICAgICAgLy8gICAgIDwhLS0gX2NyZWF0ZUFkdmFuY2VkVG9vbEluZm9ybWF0aW9uRWxlbWVudCAtLT5cbiAgICAgICAgLy8gICAgIDwhLS0gX2NyZWF0ZUFkdmFuY2VkVG9vbE9wYWNpdHlFbGVtZW50IC0tPlxuICAgICAgICAvLyA8L2Rpdj5cblxuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGFpbmVyLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BhZHZhbmNlZFRvb2xzX0lEX1wiICsgb2JqLmlkKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiR1BsYXllckFkdmFuY2VkVG9vbHNcIjtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlQWR2YW5jZWRUb29sRGVsZXRlRWxlbWVudChvYmopKTtcblxuICAgICAgICAvLyBzaSBvbiBuJ2EgZGUgbCdpbmZvcm1hdGlvbnMgw6AgYWZmaWNoZXIsIG9uIG1ldCBlbiBwbGFjZSBjZSBjb21wb3NhbnRcbiAgICAgICAgaWYgKG9iai50aXRsZSAmJiBvYmouZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVBZHZhbmNlZFRvb2xJbmZvcm1hdGlvbkVsZW1lbnQob2JqKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iai50eXBlICE9PSBcImZlYXR1cmVcIikge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gdGhpcy5fY3JlYXRlQWR2YW5jZWRUb29sT3BhY2l0eUVsZW1lbnQob2JqKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXJyYXlbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZGUgbCdpY29uZSBkZSBzdXBwcmVzc2lvbiBkdSBsYXllciAoRE9NKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIG9wdGlvbnMgZGUgbGEgY291Y2hlIMOgIGFqb3V0ZXIgZGFucyBsZSBsYXllciBzd2l0Y2hlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lclxuICAgICAqL1xuICAgIF9jcmVhdGVBZHZhbmNlZFRvb2xEZWxldGVFbGVtZW50IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAvLyBleGVtcGxlIDpcbiAgICAgICAgLy8gPGRpdiBpZD1cIkdQcmVtb3ZlX0lEX0xheWVyMVwiIGNsYXNzPVwiR1BsYXllclJlbW92ZVwiIHRpdGxlPVwiU3VwcHJpbWVyIGxhIGNvdWNoZVwiIG9uY2xpY2s9XCJHUGRyb3BMYXllcih0aGlzKTtcIj48L2Rpdj5cblxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gdGhpcy5fYWRkVUlEKFwiR1ByZW1vdmVfSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBkaXYuY2xhc3NOYW1lID0gXCJHUGxheWVyUmVtb3ZlXCI7XG4gICAgICAgIGRpdi50aXRsZSA9IFwiU3VwcHJpbWVyIGxhIGNvdWNoZVwiO1xuICAgICAgICBkaXYubGF5ZXJJZCA9IG9iai5pZDtcblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGlmIChkaXYuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX29uRHJvcExheWVyQ2xpY2soZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXYuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGludGVybmV0IGV4cGxvcmVyXG4gICAgICAgICAgICBkaXYuYXR0YWNoRXZlbnQoXG4gICAgICAgICAgICAgICAgXCJvbmNsaWNrXCIsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fb25Ecm9wTGF5ZXJDbGljayhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZGUgbCdpY29uZSBkJ2luZm9ybWF0aW9uIGR1IGxheWVyIChET00pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gb3B0aW9ucyBkZSBsYSBjb3VjaGUgw6AgYWpvdXRlciBkYW5zIGxlIGxheWVyIHN3aXRjaGVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY29udGFpbmVyXG4gICAgICovXG4gICAgX2NyZWF0ZUFkdmFuY2VkVG9vbEluZm9ybWF0aW9uRWxlbWVudCA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgLy8gZXhlbXBsZSA6XG4gICAgICAgIC8vIDxkaXYgaWQ9XCJHUGluZm9fSURfTGF5ZXIxXCIgY2xhc3M9XCJHUGxheWVySW5mb1wiIHRpdGxlPVwiSW5mb3JtYXRpb25zL2zDqWdlbmRlXCIgb25jbGljaz1cIkdQb3BlbkxheWVySW5mbyh0aGlzKTtcIj48L2Rpdj5cblxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BpbmZvX0lEX1wiICsgb2JqLmlkKTtcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9IFwiR1BsYXllckluZm9cIjtcbiAgICAgICAgZGl2LnRpdGxlID0gXCJJbmZvcm1hdGlvbnMvbMOpZ2VuZGVcIjtcbiAgICAgICAgZGl2LmxheWVySWQgPSBvYmouaWQ7XG4gICAgICAgIC8vIGFkZCBldmVudCBvbiBjbGlja1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGlmIChkaXYuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX29uT3BlbkxheWVySW5mb0NsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGl2LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICAvLyBpbnRlcm5ldCBleHBsb3JlclxuICAgICAgICAgICAgZGl2LmF0dGFjaEV2ZW50KFxuICAgICAgICAgICAgICAgIFwib25jbGlja1wiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX29uT3BlbkxheWVySW5mb0NsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGlvbiBkZSBsJ2ljb25lIGRlIGdlc3Rpb24gZGUgbCdvcGFjaXTDqSBkdSBsYXllciAoRE9NKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIG9wdGlvbnMgZGUgbGEgY291Y2hlIMOgIGFqb3V0ZXIgZGFucyBsZSBsYXllciBzd2l0Y2hlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnRbXX0gYXJyYXkgb2YgdHdvIGNvbnRhaW5lcnNcbiAgICAgKi9cbiAgICBfY3JlYXRlQWR2YW5jZWRUb29sT3BhY2l0eUVsZW1lbnQgOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIGV4ZW1wbGUgOlxuICAgICAgICAvLyA8ZGl2IGlkPVwiR1BvcGFjaXR5X0lEX0xheWVyMVwiIGNsYXNzPVwiR1BsYXllck9wYWNpdHlcIiB0aXRsZT1cIk9wYWNpdMOpXCI+XG4gICAgICAgIC8vICAgPGlucHV0IGlkPVwiR1BvcGFjaXR5UmFuZ2VfSURfTGF5ZXIxXCIgdHlwZT1cInJhbmdlXCIgdmFsdWU9XCIxMDBcIiBvbmlucHV0PVwiR1BjaGFuZ2VMYXllck9wYWNpdHkodGhpcyk7XCIgb25jaGFuZ2U9XCJHUGNoYW5nZUxheWVyT3BhY2l0eSh0aGlzKTtcIj5cbiAgICAgICAgLy8gPC9kaXY+XG4gICAgICAgIC8vIDxkaXYgY2xhc3M9XCJHUGxheWVyT3BhY2l0eVZhbHVlXCIgaWQ9XCJHUG9wYWNpdHlWYWx1ZURpdl9JRF9MYXllcjFcIj5cbiAgICAgICAgLy8gICA8c3BhbiBpZD1cIkdQb3BhY2l0eVZhbHVlX0lEX0xheWVyMVwiPjEwMDwvc3Bhbj5cbiAgICAgICAgLy8gICAlXG4gICAgICAgIC8vIDwvZGl2PlxuXG4gICAgICAgIHZhciBsaXN0ID0gW107XG5cbiAgICAgICAgLy8gY3Vyc2V1ciBwb3VyIGNoYW5nZXIgbCdvcGFjaXTDqVxuICAgICAgICB2YXIgZGl2TyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdk8uaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG9wYWNpdHlfSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBkaXZPLmNsYXNzTmFtZSA9IFwiR1BsYXllck9wYWNpdHlcIjtcbiAgICAgICAgZGl2Ty50aXRsZSA9IFwiT3BhY2l0w6lcIjtcblxuICAgICAgICB2YXIgb3BhY2l0eSA9ICh0eXBlb2Ygb2JqLm9wYWNpdHkgIT09IFwidW5kZWZpbmVkXCIpID8gb2JqLm9wYWNpdHkgOiAxO1xuICAgICAgICBvcGFjaXR5ID0gTWF0aC5yb3VuZChvcGFjaXR5ICogMTAwKTtcblxuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BvcGFjaXR5VmFsdWVEaXZfSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJyYW5nZVwiO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IG9wYWNpdHk7XG5cbiAgICAgICAgLy8gYWRkIGV2ZW50IGZvciBvcGFjaXR5IGNoYW5nZVxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGlmIChpbnB1dC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fb25DaGFuZ2VMYXllck9wYWNpdHkoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgLy8gaW50ZXJuZXQgZXhwbG9yZXJcbiAgICAgICAgICAgIGlucHV0LmF0dGFjaEV2ZW50KFxuICAgICAgICAgICAgICAgIFwib25jaGFuZ2VcIixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9vbkNoYW5nZUxheWVyT3BhY2l0eShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX29uQ2hhbmdlTGF5ZXJPcGFjaXR5KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGludGVybmV0IGV4cGxvcmVyXG4gICAgICAgICAgICBpbnB1dC5hdHRhY2hFdmVudChcbiAgICAgICAgICAgICAgICBcIm9uaW5wdXRcIixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9vbkNoYW5nZUxheWVyT3BhY2l0eShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGl2Ty5hcHBlbmRDaGlsZChpbnB1dCk7XG5cbiAgICAgICAgLy8gVmFsZXVyIGQnb3BhY2l0w6lcbiAgICAgICAgdmFyIGRpdkMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXZDLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BvcGFjaXR5VmFsdWVEaXZfSURfXCIgKyBvYmouaWQpO1xuICAgICAgICBkaXZDLmNsYXNzTmFtZSA9IFwiR1BsYXllck9wYWNpdHlWYWx1ZVwiO1xuXG4gICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4uaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG9wYWNpdHlWYWx1ZV9JRF9cIiArIG9iai5pZCk7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gb3BhY2l0eSArIFwiJVwiO1xuXG4gICAgICAgIGRpdkMuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cbiAgICAgICAgbGlzdC5wdXNoKGRpdk8pO1xuICAgICAgICBsaXN0LnB1c2goZGl2Qyk7XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfSxcblxuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIExheWVyIGluZm8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRpb24gZHUgY29udGFpbmVyIGR1IGxheWVyIGluZm8gKERPTSlcbiAgICAgKlxuICAgICAqIFRPRE8gR1BsYXllckluZm9Qb3B1cCA6ID8/P1xuICAgICAqIFRPRE8gR1BsYXllckluZm9MaW5rICA6IG1ldHRyZSBlbiBmb3JtZSBsZXMgw6ljaGVsbGVzICFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBvcHRpb25zIGRlIGxhIGNvdWNoZSDDoCBham91dGVyIGRhbnMgbGUgbGF5ZXIgc3dpdGNoZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjb250YWluZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlQ29udGFpbmVyTGF5ZXJJbmZvRWxlbWVudCA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnRhaW5lci5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbGF5ZXJJbmZvQ29udGVudFwiKTtcblxuICAgICAgICB2YXIgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aXRsZS5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbGF5ZXJJbmZvVGl0bGVcIik7XG4gICAgICAgIHRpdGxlLmlubmVySFRNTCA9IG9iai50aXRsZTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICAgICAgICBpZiAob2JqLnF1aWNrbG9va1VybCkge1xuICAgICAgICAgICAgdmFyIHF1aWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHF1aWNrLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BsYXllckluZm9RdWlja2xvb2tcIik7XG4gICAgICAgICAgICBxdWljay50aXRsZSA9IFwiQWZmaWNoZXIgdW4gYXBlcsOndSBkZSBsYSBjb3VjaGVcIjtcbiAgICAgICAgICAgIHZhciByZWZxdWljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgcmVmcXVpY2suaHJlZiA9IG9iai5xdWlja2xvb2tVcmw7XG4gICAgICAgICAgICByZWZxdWljay5hcHBlbmRDaGlsZChxdWljayk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVmcXVpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY2xvc2UuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUGxheWVySW5mb0Nsb3NlXCIpO1xuICAgICAgICBjbG9zZS50aXRsZSA9IFwiRmVybWVyIGxhIGZlbsOqdHJlXCI7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvKiogQ2FsbCBldmVudCBmdW5jdGlvbiBvbiBjbG9zZSBjbGljayAqL1xuICAgICAgICB2YXIgb25DbG9zZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZi5fYWRkVUlEKFwiR1BsYXllckluZm9QYW5lbFwiKSkuY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1BhbmVsQ2xvc2VkXCI7XG4gICAgICAgICAgICB2YXIgbGF5ZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkdQbGF5ZXJJbmZvT3BlbmVkXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsYXllcnNbaV0uY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xvc2VDbGljayk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xvc2UuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGludGVybmV0IGV4cGxvcmVyXG4gICAgICAgICAgICBjbG9zZS5hdHRhY2hFdmVudChcIm9uY2xpY2tcIiwgb25DbG9zZUNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2UpO1xuXG4gICAgICAgIHZhciBkZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGVzYy5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbGF5ZXJJbmZvRGVzY3JpcHRpb25cIik7XG4gICAgICAgIGRlc2MuaW5uZXJIVE1MID0gb2JqLmRlc2NyaXB0aW9uO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzYyk7XG5cbiAgICAgICAgaWYgKG9iai5tZXRhZGF0YSkge1xuICAgICAgICAgICAgdmFyIG10ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBtdGQuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUGxheWVySW5mb01ldGFkYXRhXCIpO1xuXG4gICAgICAgICAgICB2YXIgbXRkdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbXRkdGl0bGUuY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1N1YnRpdGxlXCI7XG4gICAgICAgICAgICBtdGR0aXRsZS5pbm5lckhUTUwgPSBcIk3DqXRhZG9ubsOpZXNcIjtcbiAgICAgICAgICAgIG10ZC5hcHBlbmRDaGlsZChtdGR0aXRsZSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLm1ldGFkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybG10ZCA9IG9iai5tZXRhZGF0YVtpXS51cmw7XG5cbiAgICAgICAgICAgICAgICB2YXIgbXRkbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgbXRkbGluay5jbGFzc05hbWUgPSBcIkdQbGF5ZXJJbmZvTGlua1wiO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlZm10ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICAgIHJlZm10ZC5ocmVmID0gdXJsbXRkO1xuICAgICAgICAgICAgICAgIHJlZm10ZC5pbm5lckhUTUwgPSB1cmxtdGQ7XG4gICAgICAgICAgICAgICAgbXRkbGluay5hcHBlbmRDaGlsZChyZWZtdGQpO1xuICAgICAgICAgICAgICAgIG10ZC5hcHBlbmRDaGlsZChtdGRsaW5rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9iai5tZXRhZGF0YS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobXRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYmoubGVnZW5kcykge1xuICAgICAgICAgICAgdmFyIGxnZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBsZ2QuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUGxheWVySW5mb0xlZ2VuZFwiKTtcblxuICAgICAgICAgICAgdmFyIGxnZHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGxnZHRpdGxlLmNsYXNzTmFtZSA9IFwiR1BsYXllckluZm9TdWJ0aXRsZVwiO1xuICAgICAgICAgICAgbGdkdGl0bGUuaW5uZXJIVE1MID0gXCJMw6lnZW5kZVwiO1xuICAgICAgICAgICAgbGdkLmFwcGVuZENoaWxkKGxnZHRpdGxlKTtcblxuICAgICAgICAgICAgdmFyIGxlZ2VuZHMgPSB7fTtcbiAgICAgICAgICAgIHZhciBtYXhTY2FsZSA9IG9iai5tYXhTY2FsZURlbm9taW5hdG9yIHx8IDU2MDAwMDAwMDtcblxuICAgICAgICAgICAgLy8gb24gY3LDqWUgdW4gdGFibGVhdSB0ZW1wb3JhaXJlIHBvdXIgb3Jkb25uZXIgbGVzIGzDqWdlbmRlcyBzZWxvbiBsZSBkw6lub21pbmF0ZXVyIGQnw6ljaGVsbGVcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgb2JqLmxlZ2VuZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbWluU2NhbGUgPSBvYmoubGVnZW5kc1trXS5taW5TY2FsZURlbm9taW5hdG9yO1xuICAgICAgICAgICAgICAgIGlmIChtaW5TY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IG1pblNjYWxlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIG1pblNjYWxlID0gTWF0aC5yb3VuZChwYXJzZUludChzLnN1YnN0cmluZygwLCAzKSwgMTApIC8gMTApICogTWF0aC5wb3coMTAsIHMubGVuZ3RoIC0gMik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWluU2NhbGUgPSAyNzA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxlZ2VuZHNbbWluU2NhbGVdID0gb2JqLmxlZ2VuZHNba107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIHNjYWxlIGluIGxlZ2VuZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kcy5oYXNPd25Qcm9wZXJ0eShzY2FsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybGxnZCA9IGxlZ2VuZHNbc2NhbGVdLnVybDtcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gbidhZmZpY2hlIHBhcyBsZXMgbMOpZ2VuZGVzIHBvaW50YW50IHZlcnMgXCJub2xlZ2VuZC5qcGdcIlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVybGxnZCA9PT0gXCJzdHJpbmdcIiAmJiB1cmxsZ2QudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwibm9sZWdlbmQuanBnXCIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBHUGxheWVySW5mb1BvcHVwXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGdkbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZ2RsaW5rLmNsYXNzTmFtZSA9IFwiR1BsYXllckluZm9MaW5rXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjYWxlID0gbGVnZW5kc1tzY2FsZV0ubWF4U2NhbGVEZW5vbWluYXRvciB8fCBtYXhTY2FsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZmxnZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmbGdkLmhyZWYgPSB1cmxsZ2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZsZ2QuaW5uZXJIVE1MID0gXCJEdSAxL1wiICsgc2NhbGUgKyBcIiBhdSAxL1wiICsgbWF4U2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZ2RsaW5rLmFwcGVuZENoaWxkKHJlZmxnZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZ2QuYXBwZW5kQ2hpbGQobGdkbGluayk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbGVnZW5kc1tzY2FsZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhsZWdlbmRzKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobGdkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXJTd2l0Y2hlckRPTTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/Controls/LayerSwitcherDOM.js\n");

/***/ }),

/***/ "./src/Common/Controls/MiniGlobeDOM.js":
/*!*********************************************!*\
  !*** ./src/Common/Controls/MiniGlobeDOM.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar MiniGlobeDOM = {\n  /**\n  * Add uuid to the tag ID\n  * @param {String} id - id selector\n  * @returns {String} uid - id selector with an unique id\n  */\n  _addUID: function _addUID(id) {\n    var uid = this._uid ? id + \"-\" + this._uid : id;\n    return uid;\n  },\n\n  /**\n   * Main container (DOM)\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createMainContainerElement: function _createMainContainerElement() {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPminiglobeContainer\");\n    container.className = \"GPwidget\";\n    container.style.width = \"100px\";\n    container.style.height = \"100px\";\n    return container;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MiniGlobeDOM);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ29udHJvbHMvTWluaUdsb2JlRE9NLmpzPzBiNTQiXSwibmFtZXMiOlsiTWluaUdsb2JlRE9NIiwiX2FkZFVJRCIsImlkIiwidWlkIiwiX3VpZCIsIl9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsSUFBSUEsWUFBWSxHQUFHO0FBRWY7Ozs7O0FBS0FDLFNBQU8sRUFBRyxpQkFBVUMsRUFBVixFQUFjO0FBQ3BCLFFBQUlDLEdBQUcsR0FBSSxLQUFLQyxJQUFOLEdBQWNGLEVBQUUsR0FBRyxHQUFMLEdBQVcsS0FBS0UsSUFBOUIsR0FBcUNGLEVBQS9DO0FBQ0EsV0FBT0MsR0FBUDtBQUNILEdBVmM7O0FBWWY7Ozs7O0FBS0FFLDZCQUEyQixFQUFHLHVDQUFZO0FBQ3RDLFFBQUlDLFNBQVMsR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0FGLGFBQVMsQ0FBQ0osRUFBVixHQUFlLEtBQUtELE9BQUwsQ0FBYSxzQkFBYixDQUFmO0FBQ0FLLGFBQVMsQ0FBQ0csU0FBVixHQUFzQixVQUF0QjtBQUNBSCxhQUFTLENBQUNJLEtBQVYsQ0FBZ0JDLEtBQWhCLEdBQXdCLE9BQXhCO0FBQ0FMLGFBQVMsQ0FBQ0ksS0FBVixDQUFnQkUsTUFBaEIsR0FBeUIsT0FBekI7QUFDQSxXQUFPTixTQUFQO0FBQ0g7QUF4QmMsQ0FBbkI7QUEyQmVOLDJFQUFmIiwiZmlsZSI6Ii4vc3JjL0NvbW1vbi9Db250cm9scy9NaW5pR2xvYmVET00uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTWluaUdsb2JlRE9NID0ge1xuXG4gICAgLyoqXG4gICAgKiBBZGQgdXVpZCB0byB0aGUgdGFnIElEXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBpZCBzZWxlY3RvclxuICAgICogQHJldHVybnMge1N0cmluZ30gdWlkIC0gaWQgc2VsZWN0b3Igd2l0aCBhbiB1bmlxdWUgaWRcbiAgICAqL1xuICAgIF9hZGRVSUQgOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHVpZCA9ICh0aGlzLl91aWQpID8gaWQgKyBcIi1cIiArIHRoaXMuX3VpZCA6IGlkO1xuICAgICAgICByZXR1cm4gdWlkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYWluIGNvbnRhaW5lciAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IERPTSBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGFpbmVyLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BtaW5pZ2xvYmVDb250YWluZXJcIik7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcIkdQd2lkZ2V0XCI7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IFwiMTAwcHhcIjtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNaW5pR2xvYmVET007XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/Controls/MiniGlobeDOM.js\n");

/***/ }),

/***/ "./src/Common/Controls/MousePositionDOM.js":
/*!*************************************************!*\
  !*** ./src/Common/Controls/MousePositionDOM.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar MousePositionDOM = {\n  /**\n  * Add uuid to the tag ID\n  * @param {String} id - id selector\n  * @returns {String} uid - id selector with an unique id\n  */\n  _addUID: function _addUID(id) {\n    var uid = this._uid ? id + \"-\" + this._uid : id;\n    return uid;\n  },\n\n  /**\n   * Main container (DOM)\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createMainContainerElement: function _createMainContainerElement() {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPmousePosition\");\n    container.className = \"GPwidget\";\n    return container;\n  },\n  // ################################################################### //\n  // ################### Methods of main container ##################### //\n  // ################################################################### //\n\n  /**\n   * Hidden checkbox for minimizing/maximizing\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createShowMousePositionElement: function _createShowMousePositionElement() {\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPshowMousePosition\");\n    input.type = \"checkbox\";\n    return input;\n  },\n\n  /**\n   * Show mouse position control\n   * @param {Boolean} isDesktop - specifies if the support is desktop or tactile\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createShowMousePositionPictoElement: function _createShowMousePositionPictoElement(isDesktop) {\n    // contexte d'execution\n    var self = this;\n    var label = document.createElement(\"label\");\n    label.id = this._addUID(\"GPshowMousePositionPicto\");\n    label.className = \"GPshowAdvancedToolPicto\";\n    label.htmlFor = this._addUID(\"GPshowMousePosition\");\n    label.title = \"Afficher les coordonnées du curseur\"; // FIXME detection disponible dans le JS !\n    // Detection : test for desktop or tactile\n    // var isDesktop = true;\n    // var userAgent = window.navigator.userAgent.toLowerCase();\n    // if (userAgent.indexOf(\"iphone\") !== -1 ||\n    // userAgent.indexOf(\"ipod\") !== -1 ||\n    // userAgent.indexOf(\"ipad\") !== -1 ||\n    // userAgent.indexOf(\"android\") !== -1 ||\n    // userAgent.indexOf(\"mobile\") !== -1 ||\n    // userAgent.indexOf(\"blackberry\") !== -1 ||\n    // userAgent.indexOf(\"tablet\") !== -1 ||\n    // userAgent.indexOf(\"phone\") !== -1 ||\n    // userAgent.indexOf(\"touch\") !== -1 ) {\n    //     isDesktop = false;\n    // }\n    // if (userAgent.indexOf(\"msie\") !== -1 ||\n    // userAgent.indexOf(\"trident\") !== -1) {\n    //     isDesktop = true;\n    // }\n    // Show map center localisation if panel opened and tactile support\n\n    label.addEventListener(\"click\", function (e) {\n      var mapCenterClass = \"\";\n\n      if (!document.getElementById(self._addUID(\"GPshowMousePosition\")).checked && !isDesktop) {\n        mapCenterClass = \"GPmapCenterVisible\";\n      }\n\n      document.getElementById(\"GPmapCenter\").className = mapCenterClass;\n      self.onShowMousePositionClick(e);\n    });\n    var spanOpen = document.createElement(\"span\");\n    spanOpen.id = this._addUID(\"GPshowMousePositionOpen\");\n    spanOpen.className = \"GPshowAdvancedToolOpen\";\n    label.appendChild(spanOpen);\n    return label;\n  },\n\n  /**\n   * mouse position panel\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createMousePositionPanelElement: function _createMousePositionPanelElement() {\n    var panel = document.createElement(\"div\");\n    panel.id = this._addUID(\"GPmousePositionPanel\");\n    panel.className = \"GPpanel\"; // FIXME on decompose la fonction pour les besoins du controle,\n    // on ajoutera ces childs à la main...\n    // div.appendChild(this._createMousePositionPanelHeaderElement());\n    // div.appendChild(this._createMousePositionPanelBasicElement());\n    // div.appendChild(this._createShowMousePositionSettingsElement());\n    // div.appendChild(this._createMousePositionSettingsElement());\n\n    return panel;\n  },\n\n  /**\n   * Map center localisation (tactile use)\n   *\n   * @returns {DOMElement} container\n   */\n  _createMapCenter: function _createMapCenter() {\n    var div = document.createElement(\"div\");\n    div.id = \"GPmapCenter\";\n    div.className = \"\";\n    return div;\n  },\n  // ################################################################### //\n  // ####################### Panel container ########################### //\n  // ################################################################### //\n\n  /**\n   * @returns {DOMElement} container\n   */\n  _createMousePositionPanelHeaderElement: function _createMousePositionPanelHeaderElement() {\n    var container = document.createElement(\"div\");\n    container.className = \"GPpanelHeader\";\n    var divTitle = document.createElement(\"div\");\n    divTitle.className = \"GPpanelTitle\";\n    divTitle.innerHTML = \"Coordonnées\";\n    container.appendChild(divTitle);\n    var divClose = document.createElement(\"div\");\n    divClose.id = \"GPmousePositionPanelClose\";\n    divClose.className = \"GPpanelClose\";\n    divClose.title = \"Fermer le panneau\"; // Link panel close / visibility checkbox\n\n    var self = this;\n\n    if (divClose.addEventListener) {\n      divClose.addEventListener(\"click\", function () {\n        document.getElementById(self._addUID(\"GPshowMousePositionPicto\")).click();\n      }, false);\n    } else if (divClose.attachEvent) {\n      divClose.attachEvent(\"onclick\", function () {\n        document.getElementById(self._addUID(\"GPshowMousePositionPicto\")).click();\n      });\n    }\n\n    container.appendChild(divClose);\n    return container;\n  },\n\n  /**\n   * coordinate panel\n   * @param {Boolean} [displayAltitude] - specifies if the altitude panel must be displayed\n   * @param {Boolean} [displayCoordinates] - specifies if the coordinates panel must be displayed\n   * @param {Boolean} [editCoordinates] - specifies if the coordinates edition is allowed\n   * @param {Boolean} [currentProjectionUnits] - specifies if the current projection units\n   *\n   * FIXME\n   * call this._createMousePositionPanelBasicCoordinateElement\n   * call this._createMousePositionPanelBasicAltitudeElement\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createMousePositionPanelBasicElement: function _createMousePositionPanelBasicElement(displayAltitude, displayCoordinates, editCoordinates, currentProjectionUnits) {\n    // default Values\n    displayAltitude = typeof displayAltitude === \"undefined\" ? true : displayAltitude;\n    displayCoordinates = typeof displayCoordinates === \"undefined\" ? true : displayCoordinates;\n    editCoordinates = typeof editCoordinates === \"undefined\" ? false : editCoordinates;\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPmousePositionBasicPanel\"); // FIXME on devrait decomposer la fonction pour les besoins du controle,\n    // on ajoutera ces childs à la main...\n\n    container.appendChild(this._createMousePositionPanelBasicCoordinateElement(displayCoordinates, editCoordinates, currentProjectionUnits));\n    container.appendChild(this._createMousePositionPanelEditToolsElement(editCoordinates));\n    container.appendChild(this._createMousePositionPanelBasicAltitudeElement(displayAltitude));\n    return container;\n  },\n\n  /**\n   * create coordinate elements\n   *\n   * @param {String} coordType - (\"Lon\" ou \"Lat\")\n   * @param {Boolean} [editCoordinates=false] - specifies if the coordinates edition is allowed\n   *\n   * @returns {Array} list of DOM elements\n   */\n  _createCoordinateElement: function _createCoordinateElement(coordType, editCoordinates) {\n    var context = this;\n\n    if ([\"Lon\", \"Lat\"].indexOf(coordType) === -1) {\n      return [];\n    }\n\n    var list = [];\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPmousePosition\" + coordType);\n    input.title = editCoordinates === true ? \"Cliquer pour saisir des coordonnées\" : \"\";\n    input.readOnly = true;\n\n    if (editCoordinates) {\n      input.addEventListener(\"click\", function () {\n        context.onMousePositionEditModeClick(true);\n      });\n      input.addEventListener(\"change\", function (e) {\n        this.classList.remove(\"error\");\n        var valid = context.validateExtentCoordinate(coordType, this.value, e);\n        valid ? this.classList.remove(\"error\") : this.classList.add(\"error\");\n      });\n    }\n\n    list.push(input);\n    var span = document.createElement(\"span\");\n    span.className = \"GPmousePositionUnits\";\n    list.push(span);\n    return list;\n  },\n\n  /**\n   *\n   * @param {String} coordType - (\"Lon\" ou \"Lat\")\n   * @param {Boolean} [editCoordinates=false] - specifies if the coordinates edition is allowed\n   *\n   * @returns {Array} list of DOM elements\n   */\n  _createDMSCoordinateElement: function _createDMSCoordinateElement(coordType, editCoordinates) {\n    if ([\"Lon\", \"Lat\"].indexOf(coordType) === -1) {\n      return [];\n    }\n\n    var context = this;\n    var list = [];\n    var input = document.createElement(\"input\");\n    input.id = this._addUID(\"GPmousePosition\" + coordType + \"Degrees\");\n    input.className = \"GPSexagesimal\";\n    input.setAttribute(\"name\", \"degrees\");\n    input.title = editCoordinates === true ? \"Cliquer pour saisir des coordonnées\" : \"\";\n    input.readOnly = true;\n    input.dataset.min = 0;\n    input.dataset.max = coordType === \"Lon\" ? 180 : 90;\n\n    if (editCoordinates) {\n      input.addEventListener(\"click\", function () {\n        context.onMousePositionEditModeClick(true);\n      });\n      input.addEventListener(\"change\", function () {\n        this.classList.remove(\"error\");\n\n        var valid = context._checkDMSDegrees(coordType, this);\n\n        valid ? this.classList.remove(\"error\") : this.classList.add(\"error\");\n      });\n    }\n\n    list.push(input);\n    var span = document.createElement(\"span\");\n    span.className = \"GPmousePositionSexagesimalLabel\";\n    span.innerHTML = \"°\";\n    list.push(span);\n    var input1 = document.createElement(\"input\");\n    input1.id = this._addUID(\"GPmousePosition\" + coordType + \"Minutes\");\n    input1.className = \"GPSexagesimal\";\n    input1.setAttribute(\"name\", \"minutes\");\n    input1.title = editCoordinates === true ? \"Cliquer pour saisir des coordonnées\" : \"\";\n    input1.readOnly = true;\n    input1.dataset.min = 0;\n    input1.dataset.max = 59;\n\n    if (editCoordinates) {\n      input1.addEventListener(\"click\", function () {\n        context.onMousePositionEditModeClick(true);\n      });\n      input1.addEventListener(\"change\", function () {\n        this.classList.remove(\"error\");\n\n        var valid = context._checkDMSElement(this);\n\n        valid ? this.classList.remove(\"error\") : this.classList.add(\"error\");\n      });\n    }\n\n    list.push(input1);\n    var span1 = document.createElement(\"span\");\n    span1.className = \"GPmousePositionSexagesimalLabel\";\n    span1.innerHTML = \"'\";\n    list.push(span1);\n    var input2 = document.createElement(\"input\");\n    input2.id = this._addUID(\"GPmousePosition\" + coordType + \"Seconds\");\n    input2.className = \"GPSexagesimalsec\";\n    input2.setAttribute(\"name\", \"seconds\");\n    input2.title = editCoordinates === true ? \"Cliquer pour saisir des coordonnées\" : \"\";\n    input2.readOnly = true;\n    input2.dataset.min = 0;\n    input2.dataset.max = 59;\n\n    if (editCoordinates) {\n      input2.addEventListener(\"click\", function () {\n        context.onMousePositionEditModeClick(true);\n      });\n      input2.addEventListener(\"change\", function () {\n        this.classList.remove(\"error\");\n\n        var valid = context._checkDMSElement(this, true);\n\n        valid ? this.classList.remove(\"error\") : this.classList.add(\"error\");\n      });\n    }\n\n    list.push(input2);\n    var span2 = document.createElement(\"span\");\n    span2.className = \"GPmousePositionSexagesimalLabel\";\n    span2.innerHTML = \"''\";\n    list.push(span2);\n    var select = document.createElement(\"select\");\n    select.id = this._addUID(\"GPmousePosition\" + coordType + \"Direction\");\n    select.className = \"GPmousePositionDirection\";\n    select.setAttribute(\"name\", \"direction\");\n    select.disabled = true;\n    var option = document.createElement(\"option\");\n    option.value = coordType === \"Lon\" ? \"E\" : \"N\";\n    option.innerHTML = coordType === \"Lon\" ? \"E\" : \"N\";\n    select.appendChild(option);\n    var option1 = document.createElement(\"option\");\n    option1.value = coordType === \"Lon\" ? \"O\" : \"S\";\n    option1.innerHTML = coordType === \"Lon\" ? \"O\" : \"S\";\n    select.appendChild(option1);\n    list.push(select);\n    return list;\n  },\n\n  /**\n   * @param {Boolean} [display=false] - specifies if the coordinates panel must be displayed\n   * @param {Boolean} [editCoordinates] - specifies if the coordinates edition is allowed\n   * @param {Boolean} [currentProjectionUnits] - specifies if the current projection units\n   *\n   * @returns {DOMElement} container\n   */\n  _createMousePositionPanelBasicCoordinateElement: function _createMousePositionPanelBasicCoordinateElement(display, editCoordinates, currentProjectionUnits) {\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPmousePositionCoordinate\");\n    div.style.display = display ? \"block\" : \"none\"; // latitude\n\n    var divLat = document.createElement(\"div\");\n    var spanLat = document.createElement(\"span\");\n    spanLat.className = \"GPmousePositionLabel\";\n    spanLat.id = this._addUID(\"GPmousePositionLatLabel\");\n    spanLat.innerHTML = \"Latitude : \";\n    divLat.appendChild(spanLat);\n    var span = document.createElement(\"span\");\n    span.id = this._addUID(\"GPmousePositionLatCoordinate\");\n    var arrayCoords;\n\n    if (currentProjectionUnits === \"DMS\") {\n      arrayCoords = this._createDMSCoordinateElement(\"Lat\", editCoordinates);\n    } else {\n      arrayCoords = this._createCoordinateElement(\"Lat\", editCoordinates);\n    }\n\n    for (var i = 0; i < arrayCoords.length; i++) {\n      span.appendChild(arrayCoords[i]);\n    }\n\n    divLat.appendChild(span);\n    div.appendChild(divLat); // longitude\n\n    var divLon = document.createElement(\"div\");\n    var spanLon = document.createElement(\"span\");\n    spanLon.className = \"GPmousePositionLabel\";\n    spanLon.id = this._addUID(\"GPmousePositionLonLabel\");\n    spanLon.innerHTML = \"Longitude : \";\n    divLon.appendChild(spanLon);\n    var span1 = document.createElement(\"span\");\n    span1.id = this._addUID(\"GPmousePositionLonCoordinate\");\n    var arrayCoords1;\n\n    if (currentProjectionUnits === \"DMS\") {\n      arrayCoords1 = this._createDMSCoordinateElement(\"Lon\", editCoordinates);\n    } else {\n      arrayCoords1 = this._createCoordinateElement(\"Lon\", editCoordinates);\n    }\n\n    for (var j = 0; j < arrayCoords1.length; j++) {\n      span1.appendChild(arrayCoords1[j]);\n    }\n\n    divLon.appendChild(span1);\n    div.appendChild(divLon);\n    return div;\n  },\n\n  /**\n   * @param {Boolean} [display=false] - specifies if the altitude panel must be displayed\n   *\n   * @returns {DOMElement} container\n   */\n  _createMousePositionPanelBasicAltitudeElement: function _createMousePositionPanelBasicAltitudeElement(display) {\n    var div = document.createElement(\"div\");\n    div.id = this._addUID(\"GPmousePositionAltitude\");\n    div.style.display = display ? \"block\" : \"none\";\n    var spanLabel = document.createElement(\"span\");\n    spanLabel.className = \"GPmousePositionLabel\";\n    spanLabel.innerHTML = \"Altitude : \";\n    div.appendChild(spanLabel);\n    var spanAlt = document.createElement(\"span\");\n    spanAlt.className = \"GPmousePositionCoords\";\n    spanAlt.id = this._addUID(\"GPmousePositionAlt\");\n    spanAlt.innerHTML = \"...\";\n    div.appendChild(spanAlt);\n    var spanUnits = document.createElement(\"span\");\n    spanUnits.className = \"GPmousePositionAltitudeUnits\";\n    spanUnits.innerHTML = \"m\";\n    div.appendChild(spanUnits);\n    return div;\n  },\n\n  /**\n   * @param {Boolean} [editCoordinates=false] - specifies if the coordinates edition is allowed\n   *\n   * @returns {DOMElement} container\n   */\n  _createMousePositionPanelEditToolsElement: function _createMousePositionPanelEditToolsElement(editCoordinates) {\n    var context = this;\n    var div = document.createElement(\"div\");\n    div.className = \"GPmousePositionPanelEditTools\";\n    div.id = this._addUID(\"GPmousePositionPanelEditTools\");\n\n    if (!editCoordinates) {\n      div.style.display = \"none\";\n    }\n\n    var span1 = document.createElement(\"span\");\n    span1.className = \"GPmousePositionEditTool\";\n    span1.id = this._addUID(\"GPmousePositionLocate\");\n    span1.title = editCoordinates === true ? \"Cliquer pour saisir des coordonnées\" : \"\";\n\n    if (editCoordinates) {\n      span1.addEventListener(\"click\", function () {\n        context.onMousePositionEditModeLocateClick();\n      });\n    }\n\n    div.appendChild(span1);\n    var span2 = document.createElement(\"span\");\n    span2.className = \"GPmousePositionEditTool\";\n    span2.id = this._addUID(\"GPmousePositionCloseEdit\");\n    span2.title = \"Quitter la saisie des coordonnées\";\n    span2.style.display = \"none\";\n\n    if (editCoordinates) {\n      span2.addEventListener(\"click\", function () {\n        context.onMousePositionEditModeClick(false);\n      });\n    }\n\n    div.appendChild(span2);\n    return div;\n  },\n  // ################################################################### //\n  // #################### Settings container ########################### //\n  // ################################################################### //\n\n  /**\n   * @param {Boolean} [display=false] - specifies if the settings panel must be displayed\n   *\n   * @returns {DOMElement[]} array containing input and label elements\n   */\n  _createShowMousePositionSettingsElement: function _createShowMousePositionSettingsElement(display) {\n    var list = [];\n    var context = this;\n    var input = document.createElement(\"input\");\n    input.type = \"checkbox\";\n    input.id = this._addUID(\"GPshowMousePositionSettings\");\n    var label = document.createElement(\"label\");\n    label.id = this._addUID(\"GPshowMousePositionSettingsPicto\");\n    label.htmlFor = this._addUID(\"GPshowMousePositionSettings\");\n    label.title = \"Réglages\";\n    label.className = \"GPshowMoreOptionsImage GPshowMoreOptions GPshowMousePositionSettingsPicto\"; // FIXME classname and id ?\n\n    label.style.display = display ? \"block\" : \"none\";\n\n    if (label.addEventListener) {\n      label.addEventListener(\"click\", function (e) {\n        if (typeof context.onShowMousePositionSettingsClick === \"function\") {\n          context.onShowMousePositionSettingsClick(e);\n        }\n      }, false);\n    } else if (label.attachEvent) {\n      label.attachEvent(\"onclick\", function (e) {\n        if (typeof context.onShowMousePositionSettingsClick === \"function\") {\n          context.onShowMousePositionSettingsClick(e);\n        }\n      });\n    }\n\n    list.push(input);\n    list.push(label);\n    return list;\n  },\n\n  /**\n   * settings panel\n   * @param {Boolean} [display=true] - specifies if the settings panel must be displayed\n   *\n   * FIXME\n   * don't call this._createMousePositionSettingsSystemsElement\n   * don't call this._createMousePositionSettingsUnitsElement\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createMousePositionSettingsElement: function _createMousePositionSettingsElement(display) {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPmousePositionSettings\");\n    container.style.display = display === undefined || display ? \"block\" : \"none\";\n    var span = document.createElement(\"span\");\n    span.className = \"GPmousePositionSettingsLabel\";\n    span.innerHTML = \"Système de référence\";\n    container.appendChild(span); // FIXME on decompose la fonction pour les besoins du controle,\n    // on ajoutera ces childs à la main...\n    // FIXME tableau statique !\n    // var systems = [\n    //     {\n    //         code : \"GEOGRAPHIC\",\n    //         label : \"Géographique\"\n    //     },\n    //     {\n    //         code : \"MERCATOR\",\n    //         label : \"Mercator\"\n    //     },\n    //     {\n    //         code : \"LAMB93\",\n    //         label : \"Lambert 93\"\n    //     },\n    //     {\n    //         code : \"LAMB2E\",\n    //         label : \"Lambert II étendu\"\n    //     }\n    // ];\n    //\n    // var selectSystem = this._createMousePositionSettingsSystemsElement(systems);\n    //\n    // container.appendChild(selectSystem);\n    // FIXME on decompose la fonction pour les besoins du controle,\n    // on ajoutera ces childs à la main...\n    // FIXME tableau statique !\n    // var units = [\n    //     {\n    //         code : \"DEC\",\n    //         label : \"degrés décimaux\",\n    //     },\n    //     {\n    //         code : \"DMS\",\n    //         label : \"degrés sexagésimaux\",\n    //     },\n    //     {\n    //         code : \"RAD\",\n    //         label : \"radians\",\n    //     },\n    //     {\n    //         code : \"GON\",\n    //         label : \"grades\"\n    //     }\n    // ];\n    //\n    // var selectUnits = this._createMousePositionSettingsUnitsElement(units);\n    //\n    // container.appendChild(selectUnits);\n\n    return container;\n  },\n\n  /**\n   * @param {Object[]} systems - list of systems\n   *\n   * @returns {DOMElement} DOM element select\n   */\n  _createMousePositionSettingsSystemsElement: function _createMousePositionSettingsSystemsElement(systems) {\n    // contexte d'execution\n    var context = this;\n    var selectSystem = document.createElement(\"select\");\n    selectSystem.id = this._addUID(\"GPmousePositionProjectionSystem\");\n    selectSystem.className = \"GPinputSelect GPmousePositionSettingsSelect\";\n    selectSystem.addEventListener(\"change\", function (e) {\n      context.onMousePositionProjectionSystemChange(e);\n    });\n    selectSystem.addEventListener(\"mouseover\", function (e) {\n      // FIXME mettre une condition si target === option\n      if (e.target.nodeName !== \"OPTION\") {\n        context.onMousePositionProjectionSystemMouseOver(e);\n      }\n    });\n\n    for (var i = 0; i < systems.length; i++) {\n      var obj = systems[i];\n      var option = document.createElement(\"option\");\n      option.value = obj.code;\n      option.text = obj.label || i; // option.label = obj.label;\n\n      selectSystem.appendChild(option);\n    }\n\n    return selectSystem;\n  },\n\n  /**\n   * @param {Object[]} units - list of units\n   *\n   * @returns {DOMElement} DOM element select\n   */\n  _createMousePositionSettingsUnitsElement: function _createMousePositionSettingsUnitsElement(units) {\n    // contexte d'execution\n    var context = this;\n    var selectUnits = document.createElement(\"select\");\n    selectUnits.id = this._addUID(\"GPmousePositionProjectionUnits\");\n    selectUnits.className = \"GPinputSelect GPmousePositionSettingsSelect\";\n    selectUnits.addEventListener(\"change\", function (e) {\n      context.onMousePositionProjectionUnitsChange(e);\n    });\n\n    for (var j = 0; j < units.length; j++) {\n      var obj = units[j];\n      var option = document.createElement(\"option\");\n      option.value = obj.code ? obj.code : j;\n      option.text = obj.label || j; // option.label = obj.label;\n\n      selectUnits.appendChild(option);\n    }\n\n    return selectUnits;\n  },\n\n  /**\n   * @param {String} [currentProjectionType=\"Metric\"] - \"Geographical\" or \"Metric\"\n   */\n  _resetLabelElements: function _resetLabelElements(currentProjectionType) {\n    // Changement des labels dans le formulaire de saisie\n    var spanLat = document.getElementById(this._addUID(\"GPmousePositionLatLabel\"));\n    spanLat.innerHTML = currentProjectionType === \"Geographical\" ? \"Latitude :\" : \"X :\";\n    var spanLon = document.getElementById(this._addUID(\"GPmousePositionLonLabel\"));\n    spanLon.innerHTML = currentProjectionType === \"Geographical\" ? \"Longitude :\" : \"Y :\";\n  },\n\n  /**\n   * @param {String} currentProjectionUnits - projection units\n   */\n  _resetUnitElements: function _resetUnitElements(currentProjectionUnits) {\n    var value = \"\";\n\n    if (currentProjectionUnits === \"M\" || currentProjectionUnits === \"KM\") {\n      value = currentProjectionUnits.toLowerCase();\n    }\n\n    var elts = document.getElementsByClassName(\"GPmousePositionUnits\");\n\n    for (var e = 0; e < elts.length; e++) {\n      elts[e].innerHTML = value;\n    }\n  },\n\n  /**\n   * @method _resetCoordinateElements\n   * @param {Boolean} editCoordinates - edit coordinates option\n   * @param {String} currentProjectionType - current projection type\n   * @param {String} currentProjectionUnits - current projection unit\n   */\n  _resetCoordinateElements: function _resetCoordinateElements(editCoordinates, currentProjectionType, currentProjectionUnits) {\n    // Suppression de tous les enfants de GPmousePositionLatCoordinate\n    var latElt = document.getElementById(this._addUID(\"GPmousePositionLatCoordinate\"));\n\n    while (latElt.firstChild) {\n      latElt.removeChild(latElt.firstChild);\n    }\n\n    var arrayCoords;\n\n    if (currentProjectionUnits === \"DMS\") {\n      arrayCoords = this._createDMSCoordinateElement(\"Lat\", editCoordinates);\n    } else {\n      arrayCoords = this._createCoordinateElement(\"Lat\", editCoordinates);\n    }\n\n    for (var i = 0; i < arrayCoords.length; i++) {\n      latElt.appendChild(arrayCoords[i]);\n    } // Suppression de tous les enfants de GPmousePositionLonCoordinate\n\n\n    var lonElt = document.getElementById(this._addUID(\"GPmousePositionLonCoordinate\"));\n\n    while (lonElt.firstChild) {\n      lonElt.removeChild(lonElt.firstChild);\n    }\n\n    var arrayCoords1;\n\n    if (currentProjectionUnits === \"DMS\") {\n      arrayCoords1 = this._createDMSCoordinateElement(\"Lon\", editCoordinates);\n    } else {\n      arrayCoords1 = this._createCoordinateElement(\"Lon\", editCoordinates);\n    }\n\n    for (var j = 0; j < arrayCoords1.length; j++) {\n      lonElt.appendChild(arrayCoords1[j]);\n    } // FIXME on simule un deplacement ?\n    // this.onMapMove();\n\n  },\n\n  /**\n   * Set/unset editing mode\n   *\n   * @method _setEditMode\n   * @param {Boolean} editing - active edit coordinates mode\n   */\n  _setEditMode: function _setEditMode(editing) {\n    var locateElt = document.getElementById(this._addUID(\"GPmousePositionLocate\"));\n    locateElt.title = editing ? \"Aller à la position ...\" : \"Cliquer pour saisir des coordonnées\";\n    var closeEditElt = document.getElementById(this._addUID(\"GPmousePositionCloseEdit\"));\n    closeEditElt.style.display = editing ? \"inline-block\" : \"none\";\n    var selector = \"div[id^=\" + this._addUID(\"GPmousePositionCoordinate\") + \"]\";\n    var inputs = document.querySelectorAll(selector + \" input\");\n\n    for (var i = 0; i < inputs.length; i++) {\n      inputs[i].readOnly = !editing;\n\n      if (editing) {\n        inputs[i].value = \"\";\n        inputs[i].classList.remove(\"error\");\n      }\n    }\n\n    var selects = document.querySelectorAll(selector + \" select\");\n\n    for (var j = 0; j < selects.length; j++) {\n      selects[j].disabled = !editing;\n    }\n  },\n\n  /**\n   *\n   * @param {DOMElement} input - input element\n   * @param {Boolean} isFloat - check for float value\n   *\n   * @returns {Boolean} true if input value is within bounds\n   */\n  _checkDMSElement: function _checkDMSElement(input, isFloat) {\n    var b = isFloat !== undefined;\n    var value = input.value;\n\n    if (b) {\n      value = value.replace(\",\", \".\");\n    }\n\n    if (isNaN(value)) {\n      return false;\n    }\n\n    var v = parseFloat(value);\n\n    if (!b && (v | 0) !== v) {\n      // is it an integer\n      return false;\n    }\n\n    var min = Number(input.dataset.min);\n    var max = Number(input.dataset.max);\n    return v >= min && v <= max;\n  },\n\n  /**\n   * @param {String} coordType - \"Lon\" or \"Lat\"\n   * @param {DOMElement} input - input element\n   *\n   * @returns {Boolean} true if input value is within bounds\n   */\n  _checkDMSDegrees: function _checkDMSDegrees(coordType, input) {\n    if (isNaN(input.value)) {\n      return false;\n    }\n\n    var v = parseFloat(input.value);\n\n    if ((v | 0) !== v) {\n      // is it an integer\n      return false;\n    }\n\n    var min = Number(input.dataset.min);\n    var max = Number(input.dataset.max);\n\n    if (v < min || v > max) {\n      return false;\n    }\n\n    var inputMinutes = document.getElementById(this._addUID(\"GPmousePosition\" + coordType + \"Minutes\"));\n    var inputSeconds = document.getElementById(this._addUID(\"GPmousePosition\" + coordType + \"Seconds\"));\n\n    if (v >= max) {\n      inputMinutes.dataset.max = 0;\n      inputSeconds.dataset.max = 0;\n    } else {\n      inputMinutes.dataset.max = 59;\n      inputSeconds.dataset.max = 59.9999;\n    }\n\n    return true;\n  },\n  // ################################################################### //\n  // ####################### handlers Event ############################ //\n  // ################################################################### //\n\n  /**\n   * Function displaying coordinates from cursor position (desktop)\n   * or map center (tactile)\n   * @param {Object} coordinate - coordinates\n   */\n  GPdisplayCoords: function GPdisplayCoords(coordinate) {\n    // Compute coords in case of cursor position (desktop)\n    if (coordinate && coordinate != null) {\n      var labelLon = document.getElementById(this._addUID(\"GPmousePositionLonLabel\"));\n      var labelLat = document.getElementById(this._addUID(\"GPmousePositionLatLabel\"));\n\n      if (coordinate.x || coordinate.y) {\n        labelLat.innerHTML = \"X : \";\n        labelLon.innerHTML = \"Y : \";\n      } else if (coordinate.e || coordinate.n) {\n        labelLat.innerHTML = \"E : \";\n        labelLon.innerHTML = \"N : \";\n      } else {\n        labelLat.innerHTML = \"Latitude : \";\n        labelLon.innerHTML = \"Longitude : \";\n      }\n\n      if (_typeof(coordinate.lat) === \"object\" && _typeof(coordinate.lng) === \"object\") {\n        var parts = {\n          lng: \"Lon\",\n          lat: \"Lat\"\n        };\n        var units = [\"Degrees\", \"Minutes\", \"Seconds\"];\n\n        for (var p in parts) {\n          for (var u = 0; u < units.length; ++u) {\n            var selector = \"GPmousePosition\" + parts[p] + units[u];\n            var elt = document.getElementById(this._addUID(selector));\n            var key = units[u].charAt(0).toLowerCase();\n            elt.value = coordinate[p][key];\n          }\n        } // directions\n\n\n        document.getElementById(this._addUID(\"GPmousePositionLonDirection\")).value = coordinate.lng.direction;\n        document.getElementById(this._addUID(\"GPmousePositionLatDirection\")).value = coordinate.lat.direction;\n      } else {\n        var elLat = document.getElementById(this._addUID(\"GPmousePositionLat\"));\n        var elLon = document.getElementById(this._addUID(\"GPmousePositionLon\"));\n        elLat.value = coordinate.x || coordinate.lat || coordinate.e || \"0\";\n        elLon.value = coordinate.y || coordinate.lng || coordinate.lon || coordinate.n || \"0\"; // les unites\n\n        var unit = coordinate.unit === undefined ? \"\" : coordinate.unit;\n        var elements = document.getElementsByClassName(\"GPmousePositionUnits\");\n\n        for (var n = 0; n < elements.length; ++n) {\n          elements[n].innerHTML = unit;\n        }\n      }\n    }\n  },\n\n  /**\n   * Function displaying altitude from cursor position (desktop)\n   * or map center (tactile)\n   * @param {Object} coordinate - coordinates\n   * @param {Number} altitudeTimeoutDelay - when the mouse stop moving, delay before the altitude request is launched\n   * @param {Number} noDataValue - the no data value\n   * @param {Number} noDataValueTolerance - the no data value tolerance\n   */\n  GPdisplayElevation: function GPdisplayElevation(coordinate, altitudeTimeoutDelay, noDataValue, noDataValueTolerance) {\n    // contexte d'execution\n    var self = this; // Latency for altitude request\n\n    var altitudeTimeout;\n\n    if (!altitudeTimeoutDelay) {\n      altitudeTimeoutDelay = 500;\n    }\n\n    clearTimeout(altitudeTimeout);\n    document.getElementById(this._addUID(\"GPmousePositionAlt\")).innerHTML = \"...\";\n\n    if (noDataValue == null) {\n      noDataValue = -99999;\n    }\n\n    if (noDataValueTolerance == null) {\n      noDataValueTolerance = 99980;\n    }\n\n    var maxThreshold = noDataValue + noDataValueTolerance;\n    var minThreshold = noDataValue - noDataValueTolerance; // Compute coords in case of cursor position (desktop)\n\n    if (coordinate && coordinate != null) {\n      // If no altitude panel, don't call altitude request\n      if (document.getElementById(this._addUID(\"GPmousePositionAltitude\"))) {\n        altitudeTimeout = setTimeout(function () {\n          self.onRequestAltitude(coordinate, function (z) {\n            if (minThreshold < z && z < maxThreshold) {\n              self.GPresetElevation();\n            } else {\n              document.getElementById(self._addUID(\"GPmousePositionAlt\")).innerHTML = z;\n            }\n          });\n        }, altitudeTimeoutDelay);\n      }\n    }\n  },\n\n  /**\n   * Function reseting altitude value\n   */\n  GPresetElevation: function GPresetElevation() {\n    if (document.getElementById(this._addUID(\"GPmousePositionAltitude\"))) {\n      document.getElementById(this._addUID(\"GPmousePositionAlt\")).innerHTML = \"---\";\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MousePositionDOM);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ29udHJvbHMvTW91c2VQb3NpdGlvbkRPTS5qcz8xNjljIl0sIm5hbWVzIjpbIk1vdXNlUG9zaXRpb25ET00iLCJfYWRkVUlEIiwiaWQiLCJ1aWQiLCJfdWlkIiwiX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50IiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiX2NyZWF0ZVNob3dNb3VzZVBvc2l0aW9uRWxlbWVudCIsImlucHV0IiwidHlwZSIsIl9jcmVhdGVTaG93TW91c2VQb3NpdGlvblBpY3RvRWxlbWVudCIsImlzRGVza3RvcCIsInNlbGYiLCJsYWJlbCIsImh0bWxGb3IiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibWFwQ2VudGVyQ2xhc3MiLCJnZXRFbGVtZW50QnlJZCIsImNoZWNrZWQiLCJvblNob3dNb3VzZVBvc2l0aW9uQ2xpY2siLCJzcGFuT3BlbiIsImFwcGVuZENoaWxkIiwiX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEVsZW1lbnQiLCJwYW5lbCIsIl9jcmVhdGVNYXBDZW50ZXIiLCJkaXYiLCJfY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsSGVhZGVyRWxlbWVudCIsImRpdlRpdGxlIiwiaW5uZXJIVE1MIiwiZGl2Q2xvc2UiLCJjbGljayIsImF0dGFjaEV2ZW50IiwiX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljRWxlbWVudCIsImRpc3BsYXlBbHRpdHVkZSIsImRpc3BsYXlDb29yZGluYXRlcyIsImVkaXRDb29yZGluYXRlcyIsImN1cnJlbnRQcm9qZWN0aW9uVW5pdHMiLCJfY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsQmFzaWNDb29yZGluYXRlRWxlbWVudCIsIl9jcmVhdGVNb3VzZVBvc2l0aW9uUGFuZWxFZGl0VG9vbHNFbGVtZW50IiwiX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljQWx0aXR1ZGVFbGVtZW50IiwiX2NyZWF0ZUNvb3JkaW5hdGVFbGVtZW50IiwiY29vcmRUeXBlIiwiY29udGV4dCIsImluZGV4T2YiLCJsaXN0IiwicmVhZE9ubHkiLCJvbk1vdXNlUG9zaXRpb25FZGl0TW9kZUNsaWNrIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidmFsaWQiLCJ2YWxpZGF0ZUV4dGVudENvb3JkaW5hdGUiLCJ2YWx1ZSIsImFkZCIsInB1c2giLCJzcGFuIiwiX2NyZWF0ZURNU0Nvb3JkaW5hdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZGF0YXNldCIsIm1pbiIsIm1heCIsIl9jaGVja0RNU0RlZ3JlZXMiLCJpbnB1dDEiLCJfY2hlY2tETVNFbGVtZW50Iiwic3BhbjEiLCJpbnB1dDIiLCJzcGFuMiIsInNlbGVjdCIsImRpc2FibGVkIiwib3B0aW9uIiwib3B0aW9uMSIsImRpc3BsYXkiLCJzdHlsZSIsImRpdkxhdCIsInNwYW5MYXQiLCJhcnJheUNvb3JkcyIsImkiLCJsZW5ndGgiLCJkaXZMb24iLCJzcGFuTG9uIiwiYXJyYXlDb29yZHMxIiwiaiIsInNwYW5MYWJlbCIsInNwYW5BbHQiLCJzcGFuVW5pdHMiLCJvbk1vdXNlUG9zaXRpb25FZGl0TW9kZUxvY2F0ZUNsaWNrIiwiX2NyZWF0ZVNob3dNb3VzZVBvc2l0aW9uU2V0dGluZ3NFbGVtZW50Iiwib25TaG93TW91c2VQb3NpdGlvblNldHRpbmdzQ2xpY2siLCJfY3JlYXRlTW91c2VQb3NpdGlvblNldHRpbmdzRWxlbWVudCIsInVuZGVmaW5lZCIsIl9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NTeXN0ZW1zRWxlbWVudCIsInN5c3RlbXMiLCJzZWxlY3RTeXN0ZW0iLCJvbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtQ2hhbmdlIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJvbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtTW91c2VPdmVyIiwib2JqIiwiY29kZSIsInRleHQiLCJfY3JlYXRlTW91c2VQb3NpdGlvblNldHRpbmdzVW5pdHNFbGVtZW50IiwidW5pdHMiLCJzZWxlY3RVbml0cyIsIm9uTW91c2VQb3NpdGlvblByb2plY3Rpb25Vbml0c0NoYW5nZSIsIl9yZXNldExhYmVsRWxlbWVudHMiLCJjdXJyZW50UHJvamVjdGlvblR5cGUiLCJfcmVzZXRVbml0RWxlbWVudHMiLCJ0b0xvd2VyQ2FzZSIsImVsdHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiX3Jlc2V0Q29vcmRpbmF0ZUVsZW1lbnRzIiwibGF0RWx0IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibG9uRWx0IiwiX3NldEVkaXRNb2RlIiwiZWRpdGluZyIsImxvY2F0ZUVsdCIsImNsb3NlRWRpdEVsdCIsInNlbGVjdG9yIiwiaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsInNlbGVjdHMiLCJpc0Zsb2F0IiwiYiIsInJlcGxhY2UiLCJpc05hTiIsInYiLCJwYXJzZUZsb2F0IiwiTnVtYmVyIiwiaW5wdXRNaW51dGVzIiwiaW5wdXRTZWNvbmRzIiwiR1BkaXNwbGF5Q29vcmRzIiwiY29vcmRpbmF0ZSIsImxhYmVsTG9uIiwibGFiZWxMYXQiLCJ4IiwieSIsIm4iLCJsYXQiLCJsbmciLCJwYXJ0cyIsInAiLCJ1IiwiZWx0Iiwia2V5IiwiY2hhckF0IiwiZGlyZWN0aW9uIiwiZWxMYXQiLCJlbExvbiIsImxvbiIsInVuaXQiLCJlbGVtZW50cyIsIkdQZGlzcGxheUVsZXZhdGlvbiIsImFsdGl0dWRlVGltZW91dERlbGF5Iiwibm9EYXRhVmFsdWUiLCJub0RhdGFWYWx1ZVRvbGVyYW5jZSIsImFsdGl0dWRlVGltZW91dCIsImNsZWFyVGltZW91dCIsIm1heFRocmVzaG9sZCIsIm1pblRocmVzaG9sZCIsInNldFRpbWVvdXQiLCJvblJlcXVlc3RBbHRpdHVkZSIsInoiLCJHUHJlc2V0RWxldmF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFJQSxnQkFBZ0IsR0FBRztBQUVuQjs7Ozs7QUFLQUMsU0FBTyxFQUFHLGlCQUFVQyxFQUFWLEVBQWM7QUFDcEIs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c2VQb3NpdGlvbkRPTS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNb3VzZVBvc2l0aW9uRE9NID0ge1xuXG4gICAgLyoqXG4gICAgKiBBZGQgdXVpZCB0byB0aGUgdGFnIElEXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBpZCBzZWxlY3RvclxuICAgICogQHJldHVybnMge1N0cmluZ30gdWlkIC0gaWQgc2VsZWN0b3Igd2l0aCBhbiB1bmlxdWUgaWRcbiAgICAqL1xuICAgIF9hZGRVSUQgOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHVpZCA9ICh0aGlzLl91aWQpID8gaWQgKyBcIi1cIiArIHRoaXMuX3VpZCA6IGlkO1xuICAgICAgICByZXR1cm4gdWlkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYWluIGNvbnRhaW5lciAoRE9NKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IERPTSBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGFpbmVyLmlkID0gdGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uXCIpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJHUHdpZGdldFwiO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH0sXG5cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyBNZXRob2RzIG9mIG1haW4gY29udGFpbmVyICMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuICAgIC8qKlxuICAgICAqIEhpZGRlbiBjaGVja2JveCBmb3IgbWluaW1pemluZy9tYXhpbWl6aW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlU2hvd01vdXNlUG9zaXRpb25FbGVtZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93TW91c2VQb3NpdGlvblwiKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTaG93IG1vdXNlIHBvc2l0aW9uIGNvbnRyb2xcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzRGVza3RvcCAtIHNwZWNpZmllcyBpZiB0aGUgc3VwcG9ydCBpcyBkZXNrdG9wIG9yIHRhY3RpbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBET00gZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVTaG93TW91c2VQb3NpdGlvblBpY3RvRWxlbWVudCA6IGZ1bmN0aW9uIChpc0Rlc2t0b3ApIHtcbiAgICAgICAgLy8gY29udGV4dGUgZCdleGVjdXRpb25cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgbGFiZWwuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dNb3VzZVBvc2l0aW9uUGljdG9cIik7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwiR1BzaG93QWR2YW5jZWRUb29sUGljdG9cIjtcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9IHRoaXMuX2FkZFVJRChcIkdQc2hvd01vdXNlUG9zaXRpb25cIik7XG4gICAgICAgIGxhYmVsLnRpdGxlID0gXCJBZmZpY2hlciBsZXMgY29vcmRvbm7DqWVzIGR1IGN1cnNldXJcIjtcblxuICAgICAgICAvLyBGSVhNRSBkZXRlY3Rpb24gZGlzcG9uaWJsZSBkYW5zIGxlIEpTICFcbiAgICAgICAgLy8gRGV0ZWN0aW9uIDogdGVzdCBmb3IgZGVza3RvcCBvciB0YWN0aWxlXG4gICAgICAgIC8vIHZhciBpc0Rlc2t0b3AgPSB0cnVlO1xuICAgICAgICAvLyB2YXIgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgLy8gaWYgKHVzZXJBZ2VudC5pbmRleE9mKFwiaXBob25lXCIpICE9PSAtMSB8fFxuICAgICAgICAvLyB1c2VyQWdlbnQuaW5kZXhPZihcImlwb2RcIikgIT09IC0xIHx8XG4gICAgICAgIC8vIHVzZXJBZ2VudC5pbmRleE9mKFwiaXBhZFwiKSAhPT0gLTEgfHxcbiAgICAgICAgLy8gdXNlckFnZW50LmluZGV4T2YoXCJhbmRyb2lkXCIpICE9PSAtMSB8fFxuICAgICAgICAvLyB1c2VyQWdlbnQuaW5kZXhPZihcIm1vYmlsZVwiKSAhPT0gLTEgfHxcbiAgICAgICAgLy8gdXNlckFnZW50LmluZGV4T2YoXCJibGFja2JlcnJ5XCIpICE9PSAtMSB8fFxuICAgICAgICAvLyB1c2VyQWdlbnQuaW5kZXhPZihcInRhYmxldFwiKSAhPT0gLTEgfHxcbiAgICAgICAgLy8gdXNlckFnZW50LmluZGV4T2YoXCJwaG9uZVwiKSAhPT0gLTEgfHxcbiAgICAgICAgLy8gdXNlckFnZW50LmluZGV4T2YoXCJ0b3VjaFwiKSAhPT0gLTEgKSB7XG4gICAgICAgIC8vICAgICBpc0Rlc2t0b3AgPSBmYWxzZTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBpZiAodXNlckFnZW50LmluZGV4T2YoXCJtc2llXCIpICE9PSAtMSB8fFxuICAgICAgICAvLyB1c2VyQWdlbnQuaW5kZXhPZihcInRyaWRlbnRcIikgIT09IC0xKSB7XG4gICAgICAgIC8vICAgICBpc0Rlc2t0b3AgPSB0cnVlO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gU2hvdyBtYXAgY2VudGVyIGxvY2FsaXNhdGlvbiBpZiBwYW5lbCBvcGVuZWQgYW5kIHRhY3RpbGUgc3VwcG9ydFxuICAgICAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBtYXBDZW50ZXJDbGFzcyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGYuX2FkZFVJRChcIkdQc2hvd01vdXNlUG9zaXRpb25cIikpLmNoZWNrZWQgJiYgIWlzRGVza3RvcCkge1xuICAgICAgICAgICAgICAgIG1hcENlbnRlckNsYXNzID0gXCJHUG1hcENlbnRlclZpc2libGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiR1BtYXBDZW50ZXJcIikuY2xhc3NOYW1lID0gbWFwQ2VudGVyQ2xhc3M7XG4gICAgICAgICAgICBzZWxmLm9uU2hvd01vdXNlUG9zaXRpb25DbGljayhlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNwYW5PcGVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW5PcGVuLmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93TW91c2VQb3NpdGlvbk9wZW5cIik7XG4gICAgICAgIHNwYW5PcGVuLmNsYXNzTmFtZSA9IFwiR1BzaG93QWR2YW5jZWRUb29sT3BlblwiO1xuICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChzcGFuT3Blbik7XG5cbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBtb3VzZSBwb3NpdGlvbiBwYW5lbFxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IERPTSBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEVsZW1lbnQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHBhbmVsLmlkID0gdGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uUGFuZWxcIik7XG4gICAgICAgIHBhbmVsLmNsYXNzTmFtZSA9IFwiR1BwYW5lbFwiO1xuXG4gICAgICAgIC8vIEZJWE1FIG9uIGRlY29tcG9zZSBsYSBmb25jdGlvbiBwb3VyIGxlcyBiZXNvaW5zIGR1IGNvbnRyb2xlLFxuICAgICAgICAvLyBvbiBham91dGVyYSBjZXMgY2hpbGRzIMOgIGxhIG1haW4uLi5cbiAgICAgICAgLy8gZGl2LmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEhlYWRlckVsZW1lbnQoKSk7XG4gICAgICAgIC8vIGRpdi5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVNb3VzZVBvc2l0aW9uUGFuZWxCYXNpY0VsZW1lbnQoKSk7XG4gICAgICAgIC8vIGRpdi5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTaG93TW91c2VQb3NpdGlvblNldHRpbmdzRWxlbWVudCgpKTtcbiAgICAgICAgLy8gZGl2LmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25TZXR0aW5nc0VsZW1lbnQoKSk7XG5cbiAgICAgICAgcmV0dXJuIHBhbmVsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYXAgY2VudGVyIGxvY2FsaXNhdGlvbiAodGFjdGlsZSB1c2UpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY29udGFpbmVyXG4gICAgICovXG4gICAgX2NyZWF0ZU1hcENlbnRlciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdi5pZCA9IFwiR1BtYXBDZW50ZXJcIjtcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9IFwiXCI7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfSxcblxuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBQYW5lbCBjb250YWluZXIgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lclxuICAgICAqL1xuICAgIF9jcmVhdGVNb3VzZVBvc2l0aW9uUGFuZWxIZWFkZXJFbGVtZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiR1BwYW5lbEhlYWRlclwiO1xuXG4gICAgICAgIHZhciBkaXZUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdlRpdGxlLmNsYXNzTmFtZSA9IFwiR1BwYW5lbFRpdGxlXCI7XG4gICAgICAgIGRpdlRpdGxlLmlubmVySFRNTCA9IFwiQ29vcmRvbm7DqWVzXCI7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZUaXRsZSk7XG5cbiAgICAgICAgdmFyIGRpdkNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2Q2xvc2UuaWQgPSBcIkdQbW91c2VQb3NpdGlvblBhbmVsQ2xvc2VcIjtcbiAgICAgICAgZGl2Q2xvc2UuY2xhc3NOYW1lID0gXCJHUHBhbmVsQ2xvc2VcIjtcbiAgICAgICAgZGl2Q2xvc2UudGl0bGUgPSBcIkZlcm1lciBsZSBwYW5uZWF1XCI7XG5cbiAgICAgICAgLy8gTGluayBwYW5lbCBjbG9zZSAvIHZpc2liaWxpdHkgY2hlY2tib3hcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoZGl2Q2xvc2UuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZGl2Q2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLl9hZGRVSUQoXCJHUHNob3dNb3VzZVBvc2l0aW9uUGljdG9cIikpLmNsaWNrKCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGl2Q2xvc2UuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGRpdkNsb3NlLmF0dGFjaEV2ZW50KFwib25jbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZi5fYWRkVUlEKFwiR1BzaG93TW91c2VQb3NpdGlvblBpY3RvXCIpKS5jbGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2Q2xvc2UpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvb3JkaW5hdGUgcGFuZWxcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtkaXNwbGF5QWx0aXR1ZGVdIC0gc3BlY2lmaWVzIGlmIHRoZSBhbHRpdHVkZSBwYW5lbCBtdXN0IGJlIGRpc3BsYXllZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Rpc3BsYXlDb29yZGluYXRlc10gLSBzcGVjaWZpZXMgaWYgdGhlIGNvb3JkaW5hdGVzIHBhbmVsIG11c3QgYmUgZGlzcGxheWVkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZWRpdENvb3JkaW5hdGVzXSAtIHNwZWNpZmllcyBpZiB0aGUgY29vcmRpbmF0ZXMgZWRpdGlvbiBpcyBhbGxvd2VkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY3VycmVudFByb2plY3Rpb25Vbml0c10gLSBzcGVjaWZpZXMgaWYgdGhlIGN1cnJlbnQgcHJvamVjdGlvbiB1bml0c1xuICAgICAqXG4gICAgICogRklYTUVcbiAgICAgKiBjYWxsIHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljQ29vcmRpbmF0ZUVsZW1lbnRcbiAgICAgKiBjYWxsIHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljQWx0aXR1ZGVFbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsQmFzaWNFbGVtZW50IDogZnVuY3Rpb24gKGRpc3BsYXlBbHRpdHVkZSwgZGlzcGxheUNvb3JkaW5hdGVzLCBlZGl0Q29vcmRpbmF0ZXMsIGN1cnJlbnRQcm9qZWN0aW9uVW5pdHMpIHtcbiAgICAgICAgLy8gZGVmYXVsdCBWYWx1ZXNcbiAgICAgICAgZGlzcGxheUFsdGl0dWRlID0gKHR5cGVvZiBkaXNwbGF5QWx0aXR1ZGUgPT09IFwidW5kZWZpbmVkXCIpID8gdHJ1ZSA6IGRpc3BsYXlBbHRpdHVkZTtcbiAgICAgICAgZGlzcGxheUNvb3JkaW5hdGVzID0gKHR5cGVvZiBkaXNwbGF5Q29vcmRpbmF0ZXMgPT09IFwidW5kZWZpbmVkXCIpID8gdHJ1ZSA6IGRpc3BsYXlDb29yZGluYXRlcztcbiAgICAgICAgZWRpdENvb3JkaW5hdGVzID0gKHR5cGVvZiBlZGl0Q29vcmRpbmF0ZXMgPT09IFwidW5kZWZpbmVkXCIpID8gZmFsc2UgOiBlZGl0Q29vcmRpbmF0ZXM7XG5cbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnRhaW5lci5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvbkJhc2ljUGFuZWxcIik7XG5cbiAgICAgICAgLy8gRklYTUUgb24gZGV2cmFpdCBkZWNvbXBvc2VyIGxhIGZvbmN0aW9uIHBvdXIgbGVzIGJlc29pbnMgZHUgY29udHJvbGUsXG4gICAgICAgIC8vIG9uIGFqb3V0ZXJhIGNlcyBjaGlsZHMgw6AgbGEgbWFpbi4uLlxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsQmFzaWNDb29yZGluYXRlRWxlbWVudChkaXNwbGF5Q29vcmRpbmF0ZXMsIGVkaXRDb29yZGluYXRlcywgY3VycmVudFByb2plY3Rpb25Vbml0cykpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsRWRpdFRvb2xzRWxlbWVudChlZGl0Q29vcmRpbmF0ZXMpKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljQWx0aXR1ZGVFbGVtZW50KGRpc3BsYXlBbHRpdHVkZSkpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSBjb29yZGluYXRlIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29vcmRUeXBlIC0gKFwiTG9uXCIgb3UgXCJMYXRcIilcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtlZGl0Q29vcmRpbmF0ZXM9ZmFsc2VdIC0gc3BlY2lmaWVzIGlmIHRoZSBjb29yZGluYXRlcyBlZGl0aW9uIGlzIGFsbG93ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gbGlzdCBvZiBET00gZWxlbWVudHNcbiAgICAgKi9cbiAgICBfY3JlYXRlQ29vcmRpbmF0ZUVsZW1lbnQgOiBmdW5jdGlvbiAoY29vcmRUeXBlLCBlZGl0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXG4gICAgICAgIGlmIChbXCJMb25cIiwgXCJMYXRcIl0uaW5kZXhPZihjb29yZFR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dC5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvblwiICsgY29vcmRUeXBlKTtcbiAgICAgICAgaW5wdXQudGl0bGUgPSBlZGl0Q29vcmRpbmF0ZXMgPT09IHRydWUgPyBcIkNsaXF1ZXIgcG91ciBzYWlzaXIgZGVzIGNvb3Jkb25uw6llc1wiIDogXCJcIjtcbiAgICAgICAgaW5wdXQucmVhZE9ubHkgPSB0cnVlO1xuXG4gICAgICAgIGlmIChlZGl0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5vbk1vdXNlUG9zaXRpb25FZGl0TW9kZUNsaWNrKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gY29udGV4dC52YWxpZGF0ZUV4dGVudENvb3JkaW5hdGUoY29vcmRUeXBlLCB0aGlzLnZhbHVlLCBlKTtcbiAgICAgICAgICAgICAgICB2YWxpZCA/IHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpIDogdGhpcy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2goaW5wdXQpO1xuXG4gICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJHUG1vdXNlUG9zaXRpb25Vbml0c1wiO1xuICAgICAgICBsaXN0LnB1c2goc3Bhbik7XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvb3JkVHlwZSAtIChcIkxvblwiIG91IFwiTGF0XCIpXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZWRpdENvb3JkaW5hdGVzPWZhbHNlXSAtIHNwZWNpZmllcyBpZiB0aGUgY29vcmRpbmF0ZXMgZWRpdGlvbiBpcyBhbGxvd2VkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGxpc3Qgb2YgRE9NIGVsZW1lbnRzXG4gICAgICovXG4gICAgX2NyZWF0ZURNU0Nvb3JkaW5hdGVFbGVtZW50IDogZnVuY3Rpb24gKGNvb3JkVHlwZSwgZWRpdENvb3JkaW5hdGVzKSB7XG4gICAgICAgIGlmIChbXCJMb25cIiwgXCJMYXRcIl0uaW5kZXhPZihjb29yZFR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBsaXN0ID0gW107XG5cbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dC5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvblwiICsgY29vcmRUeXBlICsgXCJEZWdyZWVzXCIpO1xuICAgICAgICBpbnB1dC5jbGFzc05hbWUgPSBcIkdQU2V4YWdlc2ltYWxcIjtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRlZ3JlZXNcIik7XG4gICAgICAgIGlucHV0LnRpdGxlID0gZWRpdENvb3JkaW5hdGVzID09PSB0cnVlID8gXCJDbGlxdWVyIHBvdXIgc2Fpc2lyIGRlcyBjb29yZG9ubsOpZXNcIiA6IFwiXCI7XG4gICAgICAgIGlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgICAgaW5wdXQuZGF0YXNldC5taW4gPSAwO1xuICAgICAgICBpbnB1dC5kYXRhc2V0Lm1heCA9IChjb29yZFR5cGUgPT09IFwiTG9uXCIpID8gMTgwIDogOTA7XG4gICAgICAgIGlmIChlZGl0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5vbk1vdXNlUG9zaXRpb25FZGl0TW9kZUNsaWNrKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSBjb250ZXh0Ll9jaGVja0RNU0RlZ3JlZXMoY29vcmRUeXBlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB2YWxpZCA/IHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpIDogdGhpcy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2goaW5wdXQpO1xuXG4gICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJHUG1vdXNlUG9zaXRpb25TZXhhZ2VzaW1hbExhYmVsXCI7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gXCLCsFwiO1xuICAgICAgICBsaXN0LnB1c2goc3Bhbik7XG5cbiAgICAgICAgdmFyIGlucHV0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXQxLmlkID0gdGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uXCIgKyBjb29yZFR5cGUgKyBcIk1pbnV0ZXNcIik7XG4gICAgICAgIGlucHV0MS5jbGFzc05hbWUgPSBcIkdQU2V4YWdlc2ltYWxcIjtcbiAgICAgICAgaW5wdXQxLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJtaW51dGVzXCIpO1xuICAgICAgICBpbnB1dDEudGl0bGUgPSBlZGl0Q29vcmRpbmF0ZXMgPT09IHRydWUgPyBcIkNsaXF1ZXIgcG91ciBzYWlzaXIgZGVzIGNvb3Jkb25uw6llc1wiIDogXCJcIjtcbiAgICAgICAgaW5wdXQxLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgICAgaW5wdXQxLmRhdGFzZXQubWluID0gMDtcbiAgICAgICAgaW5wdXQxLmRhdGFzZXQubWF4ID0gNTk7XG4gICAgICAgIGlmIChlZGl0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIGlucHV0MS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQub25Nb3VzZVBvc2l0aW9uRWRpdE1vZGVDbGljayh0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5wdXQxLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IGNvbnRleHQuX2NoZWNrRE1TRWxlbWVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YWxpZCA/IHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpIDogdGhpcy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2goaW5wdXQxKTtcblxuICAgICAgICB2YXIgc3BhbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3BhbjEuY2xhc3NOYW1lID0gXCJHUG1vdXNlUG9zaXRpb25TZXhhZ2VzaW1hbExhYmVsXCI7XG4gICAgICAgIHNwYW4xLmlubmVySFRNTCA9IFwiJ1wiO1xuICAgICAgICBsaXN0LnB1c2goc3BhbjEpO1xuXG4gICAgICAgIHZhciBpbnB1dDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0Mi5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvblwiICsgY29vcmRUeXBlICsgXCJTZWNvbmRzXCIpO1xuICAgICAgICBpbnB1dDIuY2xhc3NOYW1lID0gXCJHUFNleGFnZXNpbWFsc2VjXCI7XG4gICAgICAgIGlucHV0Mi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwic2Vjb25kc1wiKTtcbiAgICAgICAgaW5wdXQyLnRpdGxlID0gZWRpdENvb3JkaW5hdGVzID09PSB0cnVlID8gXCJDbGlxdWVyIHBvdXIgc2Fpc2lyIGRlcyBjb29yZG9ubsOpZXNcIiA6IFwiXCI7XG4gICAgICAgIGlucHV0Mi5yZWFkT25seSA9IHRydWU7XG4gICAgICAgIGlucHV0Mi5kYXRhc2V0Lm1pbiA9IDA7XG4gICAgICAgIGlucHV0Mi5kYXRhc2V0Lm1heCA9IDU5O1xuICAgICAgICBpZiAoZWRpdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICBpbnB1dDIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uTW91c2VQb3NpdGlvbkVkaXRNb2RlQ2xpY2sodHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlucHV0Mi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSBjb250ZXh0Ll9jaGVja0RNU0VsZW1lbnQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdmFsaWQgPyB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKSA6IHRoaXMuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGlzdC5wdXNoKGlucHV0Mik7XG5cbiAgICAgICAgdmFyIHNwYW4yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4yLmNsYXNzTmFtZSA9IFwiR1Btb3VzZVBvc2l0aW9uU2V4YWdlc2ltYWxMYWJlbFwiO1xuICAgICAgICBzcGFuMi5pbm5lckhUTUwgPSBcIicnXCI7XG4gICAgICAgIGxpc3QucHVzaChzcGFuMik7XG5cbiAgICAgICAgdmFyIHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgIHNlbGVjdC5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvblwiICsgY29vcmRUeXBlICsgXCJEaXJlY3Rpb25cIik7XG4gICAgICAgIHNlbGVjdC5jbGFzc05hbWUgPSBcIkdQbW91c2VQb3NpdGlvbkRpcmVjdGlvblwiO1xuICAgICAgICBzZWxlY3Quc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRpcmVjdGlvblwiKTtcbiAgICAgICAgc2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gKGNvb3JkVHlwZSA9PT0gXCJMb25cIikgPyBcIkVcIiA6IFwiTlwiO1xuICAgICAgICBvcHRpb24uaW5uZXJIVE1MID0gKGNvb3JkVHlwZSA9PT0gXCJMb25cIikgPyBcIkVcIiA6IFwiTlwiO1xuICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcblxuICAgICAgICB2YXIgb3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgIG9wdGlvbjEudmFsdWUgPSAoY29vcmRUeXBlID09PSBcIkxvblwiKSA/IFwiT1wiIDogXCJTXCI7XG4gICAgICAgIG9wdGlvbjEuaW5uZXJIVE1MID0gKGNvb3JkVHlwZSA9PT0gXCJMb25cIikgPyBcIk9cIiA6IFwiU1wiO1xuICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMSk7XG4gICAgICAgIGxpc3QucHVzaChzZWxlY3QpO1xuXG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtkaXNwbGF5PWZhbHNlXSAtIHNwZWNpZmllcyBpZiB0aGUgY29vcmRpbmF0ZXMgcGFuZWwgbXVzdCBiZSBkaXNwbGF5ZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtlZGl0Q29vcmRpbmF0ZXNdIC0gc3BlY2lmaWVzIGlmIHRoZSBjb29yZGluYXRlcyBlZGl0aW9uIGlzIGFsbG93ZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjdXJyZW50UHJvamVjdGlvblVuaXRzXSAtIHNwZWNpZmllcyBpZiB0aGUgY3VycmVudCBwcm9qZWN0aW9uIHVuaXRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY29udGFpbmVyXG4gICAgICovXG4gICAgX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljQ29vcmRpbmF0ZUVsZW1lbnQgOiBmdW5jdGlvbiAoZGlzcGxheSwgZWRpdENvb3JkaW5hdGVzLCBjdXJyZW50UHJvamVjdGlvblVuaXRzKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXYuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25Db29yZGluYXRlXCIpO1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXkgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcblxuICAgICAgICAvLyBsYXRpdHVkZVxuICAgICAgICB2YXIgZGl2TGF0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICB2YXIgc3BhbkxhdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuTGF0LmNsYXNzTmFtZSA9IFwiR1Btb3VzZVBvc2l0aW9uTGFiZWxcIjtcbiAgICAgICAgc3BhbkxhdC5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvbkxhdExhYmVsXCIpO1xuICAgICAgICBzcGFuTGF0LmlubmVySFRNTCA9IFwiTGF0aXR1ZGUgOiBcIjtcbiAgICAgICAgZGl2TGF0LmFwcGVuZENoaWxkKHNwYW5MYXQpO1xuXG4gICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4uaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25MYXRDb29yZGluYXRlXCIpO1xuXG4gICAgICAgIHZhciBhcnJheUNvb3JkcztcbiAgICAgICAgaWYgKGN1cnJlbnRQcm9qZWN0aW9uVW5pdHMgPT09IFwiRE1TXCIpIHtcbiAgICAgICAgICAgIGFycmF5Q29vcmRzID0gdGhpcy5fY3JlYXRlRE1TQ29vcmRpbmF0ZUVsZW1lbnQoXCJMYXRcIiwgZWRpdENvb3JkaW5hdGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5Q29vcmRzID0gdGhpcy5fY3JlYXRlQ29vcmRpbmF0ZUVsZW1lbnQoXCJMYXRcIiwgZWRpdENvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Q29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGFycmF5Q29vcmRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBkaXZMYXQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChkaXZMYXQpO1xuXG4gICAgICAgIC8vIGxvbmdpdHVkZVxuICAgICAgICB2YXIgZGl2TG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICB2YXIgc3BhbkxvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuTG9uLmNsYXNzTmFtZSA9IFwiR1Btb3VzZVBvc2l0aW9uTGFiZWxcIjtcbiAgICAgICAgc3Bhbkxvbi5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvbkxvbkxhYmVsXCIpO1xuICAgICAgICBzcGFuTG9uLmlubmVySFRNTCA9IFwiTG9uZ2l0dWRlIDogXCI7XG4gICAgICAgIGRpdkxvbi5hcHBlbmRDaGlsZChzcGFuTG9uKTtcblxuICAgICAgICB2YXIgc3BhbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3BhbjEuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25Mb25Db29yZGluYXRlXCIpO1xuXG4gICAgICAgIHZhciBhcnJheUNvb3JkczE7XG4gICAgICAgIGlmIChjdXJyZW50UHJvamVjdGlvblVuaXRzID09PSBcIkRNU1wiKSB7XG4gICAgICAgICAgICBhcnJheUNvb3JkczEgPSB0aGlzLl9jcmVhdGVETVNDb29yZGluYXRlRWxlbWVudChcIkxvblwiLCBlZGl0Q29vcmRpbmF0ZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlDb29yZHMxID0gdGhpcy5fY3JlYXRlQ29vcmRpbmF0ZUVsZW1lbnQoXCJMb25cIiwgZWRpdENvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Q29vcmRzMS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc3BhbjEuYXBwZW5kQ2hpbGQoYXJyYXlDb29yZHMxW2pdKTtcbiAgICAgICAgfVxuICAgICAgICBkaXZMb24uYXBwZW5kQ2hpbGQoc3BhbjEpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZGl2TG9uKTtcblxuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtkaXNwbGF5PWZhbHNlXSAtIHNwZWNpZmllcyBpZiB0aGUgYWx0aXR1ZGUgcGFuZWwgbXVzdCBiZSBkaXNwbGF5ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjb250YWluZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsQmFzaWNBbHRpdHVkZUVsZW1lbnQgOiBmdW5jdGlvbiAoZGlzcGxheSkge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlkID0gdGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uQWx0aXR1ZGVcIik7XG4gICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuXG4gICAgICAgIHZhciBzcGFuTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3BhbkxhYmVsLmNsYXNzTmFtZSA9IFwiR1Btb3VzZVBvc2l0aW9uTGFiZWxcIjtcbiAgICAgICAgc3BhbkxhYmVsLmlubmVySFRNTCA9IFwiQWx0aXR1ZGUgOiBcIjtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNwYW5MYWJlbCk7XG5cbiAgICAgICAgdmFyIHNwYW5BbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3BhbkFsdC5jbGFzc05hbWUgPSBcIkdQbW91c2VQb3NpdGlvbkNvb3Jkc1wiO1xuICAgICAgICBzcGFuQWx0LmlkID0gdGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uQWx0XCIpO1xuICAgICAgICBzcGFuQWx0LmlubmVySFRNTCA9IFwiLi4uXCI7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChzcGFuQWx0KTtcblxuICAgICAgICB2YXIgc3BhblVuaXRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW5Vbml0cy5jbGFzc05hbWUgPSBcIkdQbW91c2VQb3NpdGlvbkFsdGl0dWRlVW5pdHNcIjtcbiAgICAgICAgc3BhblVuaXRzLmlubmVySFRNTCA9IFwibVwiO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoc3BhblVuaXRzKTtcblxuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtlZGl0Q29vcmRpbmF0ZXM9ZmFsc2VdIC0gc3BlY2lmaWVzIGlmIHRoZSBjb29yZGluYXRlcyBlZGl0aW9uIGlzIGFsbG93ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjb250YWluZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsRWRpdFRvb2xzRWxlbWVudCA6IGZ1bmN0aW9uIChlZGl0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXYuY2xhc3NOYW1lID0gXCJHUG1vdXNlUG9zaXRpb25QYW5lbEVkaXRUb29sc1wiO1xuICAgICAgICBkaXYuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25QYW5lbEVkaXRUb29sc1wiKTtcbiAgICAgICAgaWYgKCFlZGl0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3BhbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3BhbjEuY2xhc3NOYW1lID0gXCJHUG1vdXNlUG9zaXRpb25FZGl0VG9vbFwiO1xuICAgICAgICBzcGFuMS5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvbkxvY2F0ZVwiKTtcbiAgICAgICAgc3BhbjEudGl0bGUgPSBlZGl0Q29vcmRpbmF0ZXMgPT09IHRydWUgPyBcIkNsaXF1ZXIgcG91ciBzYWlzaXIgZGVzIGNvb3Jkb25uw6llc1wiIDogXCJcIjtcbiAgICAgICAgaWYgKGVkaXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgc3BhbjEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uTW91c2VQb3NpdGlvbkVkaXRNb2RlTG9jYXRlQ2xpY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChzcGFuMSk7XG5cbiAgICAgICAgdmFyIHNwYW4yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4yLmNsYXNzTmFtZSA9IFwiR1Btb3VzZVBvc2l0aW9uRWRpdFRvb2xcIjtcbiAgICAgICAgc3BhbjIuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25DbG9zZUVkaXRcIik7XG4gICAgICAgIHNwYW4yLnRpdGxlID0gXCJRdWl0dGVyIGxhIHNhaXNpZSBkZXMgY29vcmRvbm7DqWVzXCI7XG4gICAgICAgIHNwYW4yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgaWYgKGVkaXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgc3BhbjIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uTW91c2VQb3NpdGlvbkVkaXRNb2RlQ2xpY2soZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNwYW4yKTtcblxuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH0sXG5cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMgU2V0dGluZ3MgY29udGFpbmVyICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Rpc3BsYXk9ZmFsc2VdIC0gc3BlY2lmaWVzIGlmIHRoZSBzZXR0aW5ncyBwYW5lbCBtdXN0IGJlIGRpc3BsYXllZFxuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnRbXX0gYXJyYXkgY29udGFpbmluZyBpbnB1dCBhbmQgbGFiZWwgZWxlbWVudHNcbiAgICAgKi9cbiAgICBfY3JlYXRlU2hvd01vdXNlUG9zaXRpb25TZXR0aW5nc0VsZW1lbnQgOiBmdW5jdGlvbiAoZGlzcGxheSkge1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcblxuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIGlucHV0LmlkID0gdGhpcy5fYWRkVUlEKFwiR1BzaG93TW91c2VQb3NpdGlvblNldHRpbmdzXCIpO1xuXG4gICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgbGFiZWwuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNob3dNb3VzZVBvc2l0aW9uU2V0dGluZ3NQaWN0b1wiKTtcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9IHRoaXMuX2FkZFVJRChcIkdQc2hvd01vdXNlUG9zaXRpb25TZXR0aW5nc1wiKTtcbiAgICAgICAgbGFiZWwudGl0bGUgPSBcIlLDqWdsYWdlc1wiO1xuICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSBcIkdQc2hvd01vcmVPcHRpb25zSW1hZ2UgR1BzaG93TW9yZU9wdGlvbnMgR1BzaG93TW91c2VQb3NpdGlvblNldHRpbmdzUGljdG9cIjsgLy8gRklYTUUgY2xhc3NuYW1lIGFuZCBpZCA/XG4gICAgICAgIGxhYmVsLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5ID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgIGlmIChsYWJlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQub25TaG93TW91c2VQb3NpdGlvblNldHRpbmdzQ2xpY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9uU2hvd01vdXNlUG9zaXRpb25TZXR0aW5nc0NsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChsYWJlbC5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgbGFiZWwuYXR0YWNoRXZlbnQoXCJvbmNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0Lm9uU2hvd01vdXNlUG9zaXRpb25TZXR0aW5nc0NsaWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vblNob3dNb3VzZVBvc2l0aW9uU2V0dGluZ3NDbGljayhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpbnB1dCk7XG4gICAgICAgIGxpc3QucHVzaChsYWJlbCk7XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNldHRpbmdzIHBhbmVsXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZGlzcGxheT10cnVlXSAtIHNwZWNpZmllcyBpZiB0aGUgc2V0dGluZ3MgcGFuZWwgbXVzdCBiZSBkaXNwbGF5ZWRcbiAgICAgKlxuICAgICAqIEZJWE1FXG4gICAgICogZG9uJ3QgY2FsbCB0aGlzLl9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NTeXN0ZW1zRWxlbWVudFxuICAgICAqIGRvbid0IGNhbGwgdGhpcy5fY3JlYXRlTW91c2VQb3NpdGlvblNldHRpbmdzVW5pdHNFbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlTW91c2VQb3NpdGlvblNldHRpbmdzRWxlbWVudCA6IGZ1bmN0aW9uIChkaXNwbGF5KSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb250YWluZXIuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25TZXR0aW5nc1wiKTtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAoZGlzcGxheSA9PT0gdW5kZWZpbmVkIHx8IGRpc3BsYXkpID8gXCJibG9ja1wiIDogXCJub25lXCI7XG5cbiAgICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcIkdQbW91c2VQb3NpdGlvblNldHRpbmdzTGFiZWxcIjtcbiAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSBcIlN5c3TDqG1lIGRlIHLDqWbDqXJlbmNlXCI7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuKTtcblxuICAgICAgICAvLyBGSVhNRSBvbiBkZWNvbXBvc2UgbGEgZm9uY3Rpb24gcG91ciBsZXMgYmVzb2lucyBkdSBjb250cm9sZSxcbiAgICAgICAgLy8gb24gYWpvdXRlcmEgY2VzIGNoaWxkcyDDoCBsYSBtYWluLi4uXG4gICAgICAgIC8vIEZJWE1FIHRhYmxlYXUgc3RhdGlxdWUgIVxuICAgICAgICAvLyB2YXIgc3lzdGVtcyA9IFtcbiAgICAgICAgLy8gICAgIHtcbiAgICAgICAgLy8gICAgICAgICBjb2RlIDogXCJHRU9HUkFQSElDXCIsXG4gICAgICAgIC8vICAgICAgICAgbGFiZWwgOiBcIkfDqW9ncmFwaGlxdWVcIlxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIHtcbiAgICAgICAgLy8gICAgICAgICBjb2RlIDogXCJNRVJDQVRPUlwiLFxuICAgICAgICAvLyAgICAgICAgIGxhYmVsIDogXCJNZXJjYXRvclwiXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIGNvZGUgOiBcIkxBTUI5M1wiLFxuICAgICAgICAvLyAgICAgICAgIGxhYmVsIDogXCJMYW1iZXJ0IDkzXCJcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICAgY29kZSA6IFwiTEFNQjJFXCIsXG4gICAgICAgIC8vICAgICAgICAgbGFiZWwgOiBcIkxhbWJlcnQgSUkgw6l0ZW5kdVwiXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIF07XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHZhciBzZWxlY3RTeXN0ZW0gPSB0aGlzLl9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NTeXN0ZW1zRWxlbWVudChzeXN0ZW1zKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gY29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdFN5c3RlbSk7XG5cbiAgICAgICAgLy8gRklYTUUgb24gZGVjb21wb3NlIGxhIGZvbmN0aW9uIHBvdXIgbGVzIGJlc29pbnMgZHUgY29udHJvbGUsXG4gICAgICAgIC8vIG9uIGFqb3V0ZXJhIGNlcyBjaGlsZHMgw6AgbGEgbWFpbi4uLlxuICAgICAgICAvLyBGSVhNRSB0YWJsZWF1IHN0YXRpcXVlICFcbiAgICAgICAgLy8gdmFyIHVuaXRzID0gW1xuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIGNvZGUgOiBcIkRFQ1wiLFxuICAgICAgICAvLyAgICAgICAgIGxhYmVsIDogXCJkZWdyw6lzIGTDqWNpbWF1eFwiLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIHtcbiAgICAgICAgLy8gICAgICAgICBjb2RlIDogXCJETVNcIixcbiAgICAgICAgLy8gICAgICAgICBsYWJlbCA6IFwiZGVncsOpcyBzZXhhZ8Opc2ltYXV4XCIsXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIGNvZGUgOiBcIlJBRFwiLFxuICAgICAgICAvLyAgICAgICAgIGxhYmVsIDogXCJyYWRpYW5zXCIsXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIGNvZGUgOiBcIkdPTlwiLFxuICAgICAgICAvLyAgICAgICAgIGxhYmVsIDogXCJncmFkZXNcIlxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyBdO1xuICAgICAgICAvL1xuICAgICAgICAvLyB2YXIgc2VsZWN0VW5pdHMgPSB0aGlzLl9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NVbml0c0VsZW1lbnQodW5pdHMpO1xuICAgICAgICAvL1xuICAgICAgICAvLyBjb250YWluZXIuYXBwZW5kQ2hpbGQoc2VsZWN0VW5pdHMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IHN5c3RlbXMgLSBsaXN0IG9mIHN5c3RlbXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01FbGVtZW50fSBET00gZWxlbWVudCBzZWxlY3RcbiAgICAgKi9cbiAgICBfY3JlYXRlTW91c2VQb3NpdGlvblNldHRpbmdzU3lzdGVtc0VsZW1lbnQgOiBmdW5jdGlvbiAoc3lzdGVtcykge1xuICAgICAgICAvLyBjb250ZXh0ZSBkJ2V4ZWN1dGlvblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHNlbGVjdFN5c3RlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgIHNlbGVjdFN5c3RlbS5pZCA9IHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvblByb2plY3Rpb25TeXN0ZW1cIik7XG4gICAgICAgIHNlbGVjdFN5c3RlbS5jbGFzc05hbWUgPSBcIkdQaW5wdXRTZWxlY3QgR1Btb3VzZVBvc2l0aW9uU2V0dGluZ3NTZWxlY3RcIjtcbiAgICAgICAgc2VsZWN0U3lzdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQub25Nb3VzZVBvc2l0aW9uUHJvamVjdGlvblN5c3RlbUNoYW5nZShlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdFN5c3RlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBGSVhNRSBtZXR0cmUgdW5lIGNvbmRpdGlvbiBzaSB0YXJnZXQgPT09IG9wdGlvblxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lICE9PSBcIk9QVElPTlwiKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5vbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtTW91c2VPdmVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5c3RlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBzeXN0ZW1zW2ldO1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBvYmouY29kZTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gb2JqLmxhYmVsIHx8IGk7XG4gICAgICAgICAgICAvLyBvcHRpb24ubGFiZWwgPSBvYmoubGFiZWw7XG4gICAgICAgICAgICBzZWxlY3RTeXN0ZW0uYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RTeXN0ZW07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IHVuaXRzIC0gbGlzdCBvZiB1bml0c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0RPTUVsZW1lbnR9IERPTSBlbGVtZW50IHNlbGVjdFxuICAgICAqL1xuICAgIF9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NVbml0c0VsZW1lbnQgOiBmdW5jdGlvbiAodW5pdHMpIHtcbiAgICAgICAgLy8gY29udGV4dGUgZCdleGVjdXRpb25cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzZWxlY3RVbml0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgIHNlbGVjdFVuaXRzLmlkID0gdGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uUHJvamVjdGlvblVuaXRzXCIpO1xuICAgICAgICBzZWxlY3RVbml0cy5jbGFzc05hbWUgPSBcIkdQaW5wdXRTZWxlY3QgR1Btb3VzZVBvc2l0aW9uU2V0dGluZ3NTZWxlY3RcIjtcbiAgICAgICAgc2VsZWN0VW5pdHMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgY29udGV4dC5vbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uVW5pdHNDaGFuZ2UoZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdW5pdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBvYmogPSB1bml0c1tqXTtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gKG9iai5jb2RlKSA/IG9iai5jb2RlIDogajtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gb2JqLmxhYmVsIHx8IGo7XG4gICAgICAgICAgICAvLyBvcHRpb24ubGFiZWwgPSBvYmoubGFiZWw7XG4gICAgICAgICAgICBzZWxlY3RVbml0cy5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdFVuaXRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2N1cnJlbnRQcm9qZWN0aW9uVHlwZT1cIk1ldHJpY1wiXSAtIFwiR2VvZ3JhcGhpY2FsXCIgb3IgXCJNZXRyaWNcIlxuICAgICAqL1xuICAgIF9yZXNldExhYmVsRWxlbWVudHMgOiBmdW5jdGlvbiAoY3VycmVudFByb2plY3Rpb25UeXBlKSB7XG4gICAgICAgIC8vIENoYW5nZW1lbnQgZGVzIGxhYmVscyBkYW5zIGxlIGZvcm11bGFpcmUgZGUgc2Fpc2llXG4gICAgICAgIHZhciBzcGFuTGF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uTGF0TGFiZWxcIikpO1xuICAgICAgICBzcGFuTGF0LmlubmVySFRNTCA9IGN1cnJlbnRQcm9qZWN0aW9uVHlwZSA9PT0gXCJHZW9ncmFwaGljYWxcIiA/IFwiTGF0aXR1ZGUgOlwiIDogXCJYIDpcIjtcblxuICAgICAgICB2YXIgc3BhbkxvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvbkxvbkxhYmVsXCIpKTtcbiAgICAgICAgc3Bhbkxvbi5pbm5lckhUTUwgPSBjdXJyZW50UHJvamVjdGlvblR5cGUgPT09IFwiR2VvZ3JhcGhpY2FsXCIgPyBcIkxvbmdpdHVkZSA6XCIgOiBcIlkgOlwiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY3VycmVudFByb2plY3Rpb25Vbml0cyAtIHByb2plY3Rpb24gdW5pdHNcbiAgICAgKi9cbiAgICBfcmVzZXRVbml0RWxlbWVudHMgOiBmdW5jdGlvbiAoY3VycmVudFByb2plY3Rpb25Vbml0cykge1xuICAgICAgICB2YXIgdmFsdWUgPSBcIlwiO1xuICAgICAgICBpZiAoY3VycmVudFByb2plY3Rpb25Vbml0cyA9PT0gXCJNXCIgfHwgY3VycmVudFByb2plY3Rpb25Vbml0cyA9PT0gXCJLTVwiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRQcm9qZWN0aW9uVW5pdHMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkdQbW91c2VQb3NpdGlvblVuaXRzXCIpO1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGVsdHMubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgIGVsdHNbZV0uaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBfcmVzZXRDb29yZGluYXRlRWxlbWVudHNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVkaXRDb29yZGluYXRlcyAtIGVkaXQgY29vcmRpbmF0ZXMgb3B0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGN1cnJlbnRQcm9qZWN0aW9uVHlwZSAtIGN1cnJlbnQgcHJvamVjdGlvbiB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGN1cnJlbnRQcm9qZWN0aW9uVW5pdHMgLSBjdXJyZW50IHByb2plY3Rpb24gdW5pdFxuICAgICAqL1xuICAgIF9yZXNldENvb3JkaW5hdGVFbGVtZW50cyA6IGZ1bmN0aW9uIChlZGl0Q29vcmRpbmF0ZXMsIGN1cnJlbnRQcm9qZWN0aW9uVHlwZSwgY3VycmVudFByb2plY3Rpb25Vbml0cykge1xuICAgICAgICAvLyBTdXBwcmVzc2lvbiBkZSB0b3VzIGxlcyBlbmZhbnRzIGRlIEdQbW91c2VQb3NpdGlvbkxhdENvb3JkaW5hdGVcbiAgICAgICAgdmFyIGxhdEVsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvbkxhdENvb3JkaW5hdGVcIikpO1xuICAgICAgICB3aGlsZSAobGF0RWx0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGxhdEVsdC5yZW1vdmVDaGlsZChsYXRFbHQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXJyYXlDb29yZHM7XG4gICAgICAgIGlmIChjdXJyZW50UHJvamVjdGlvblVuaXRzID09PSBcIkRNU1wiKSB7XG4gICAgICAgICAgICBhcnJheUNvb3JkcyA9IHRoaXMuX2NyZWF0ZURNU0Nvb3JkaW5hdGVFbGVtZW50KFwiTGF0XCIsIGVkaXRDb29yZGluYXRlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheUNvb3JkcyA9IHRoaXMuX2NyZWF0ZUNvb3JkaW5hdGVFbGVtZW50KFwiTGF0XCIsIGVkaXRDb29yZGluYXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGF0RWx0LmFwcGVuZENoaWxkKGFycmF5Q29vcmRzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN1cHByZXNzaW9uIGRlIHRvdXMgbGVzIGVuZmFudHMgZGUgR1Btb3VzZVBvc2l0aW9uTG9uQ29vcmRpbmF0ZVxuICAgICAgICB2YXIgbG9uRWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uTG9uQ29vcmRpbmF0ZVwiKSk7XG4gICAgICAgIHdoaWxlIChsb25FbHQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgbG9uRWx0LnJlbW92ZUNoaWxkKGxvbkVsdC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJheUNvb3JkczE7XG4gICAgICAgIGlmIChjdXJyZW50UHJvamVjdGlvblVuaXRzID09PSBcIkRNU1wiKSB7XG4gICAgICAgICAgICBhcnJheUNvb3JkczEgPSB0aGlzLl9jcmVhdGVETVNDb29yZGluYXRlRWxlbWVudChcIkxvblwiLCBlZGl0Q29vcmRpbmF0ZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlDb29yZHMxID0gdGhpcy5fY3JlYXRlQ29vcmRpbmF0ZUVsZW1lbnQoXCJMb25cIiwgZWRpdENvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Q29vcmRzMS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbG9uRWx0LmFwcGVuZENoaWxkKGFycmF5Q29vcmRzMVtqXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRSBvbiBzaW11bGUgdW4gZGVwbGFjZW1lbnQgP1xuICAgICAgICAvLyB0aGlzLm9uTWFwTW92ZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQvdW5zZXQgZWRpdGluZyBtb2RlXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9zZXRFZGl0TW9kZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZWRpdGluZyAtIGFjdGl2ZSBlZGl0IGNvb3JkaW5hdGVzIG1vZGVcbiAgICAgKi9cbiAgICBfc2V0RWRpdE1vZGUgOiBmdW5jdGlvbiAoZWRpdGluZykge1xuICAgICAgICB2YXIgbG9jYXRlRWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uTG9jYXRlXCIpKTtcbiAgICAgICAgbG9jYXRlRWx0LnRpdGxlID0gZWRpdGluZyA/IFwiQWxsZXIgw6AgbGEgcG9zaXRpb24gLi4uXCIgOiBcIkNsaXF1ZXIgcG91ciBzYWlzaXIgZGVzIGNvb3Jkb25uw6llc1wiO1xuXG4gICAgICAgIHZhciBjbG9zZUVkaXRFbHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25DbG9zZUVkaXRcIikpO1xuICAgICAgICBjbG9zZUVkaXRFbHQuc3R5bGUuZGlzcGxheSA9IGVkaXRpbmcgPyBcImlubGluZS1ibG9ja1wiIDogXCJub25lXCI7XG5cbiAgICAgICAgdmFyIHNlbGVjdG9yID0gXCJkaXZbaWRePVwiICsgdGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uQ29vcmRpbmF0ZVwiKSArIFwiXVwiO1xuICAgICAgICB2YXIgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArIFwiIGlucHV0XCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW5wdXRzW2ldLnJlYWRPbmx5ID0gIWVkaXRpbmc7XG4gICAgICAgICAgICBpZiAoZWRpdGluZykge1xuICAgICAgICAgICAgICAgIGlucHV0c1tpXS52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgaW5wdXRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyBcIiBzZWxlY3RcIik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2VsZWN0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc2VsZWN0c1tqXS5kaXNhYmxlZCA9ICFlZGl0aW5nO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBpbnB1dCAtIGlucHV0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzRmxvYXQgLSBjaGVjayBmb3IgZmxvYXQgdmFsdWVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIGlucHV0IHZhbHVlIGlzIHdpdGhpbiBib3VuZHNcbiAgICAgKi9cbiAgICBfY2hlY2tETVNFbGVtZW50IDogZnVuY3Rpb24gKGlucHV0LCBpc0Zsb2F0KSB7XG4gICAgICAgIHZhciBiID0gaXNGbG9hdCAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IGlucHV0LnZhbHVlO1xuICAgICAgICBpZiAoYikge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiLFwiLCBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHYgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgaWYgKCFiICYmICh2IHwgMCkgIT09IHYpIHsgLy8gaXMgaXQgYW4gaW50ZWdlclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1pbiA9IE51bWJlcihpbnB1dC5kYXRhc2V0Lm1pbik7XG4gICAgICAgIHZhciBtYXggPSBOdW1iZXIoaW5wdXQuZGF0YXNldC5tYXgpO1xuICAgICAgICByZXR1cm4gKHYgPj0gbWluICYmIHYgPD0gbWF4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvb3JkVHlwZSAtIFwiTG9uXCIgb3IgXCJMYXRcIlxuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gaW5wdXQgLSBpbnB1dCBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBpbnB1dCB2YWx1ZSBpcyB3aXRoaW4gYm91bmRzXG4gICAgICovXG4gICAgX2NoZWNrRE1TRGVncmVlcyA6IGZ1bmN0aW9uIChjb29yZFR5cGUsIGlucHV0KSB7XG4gICAgICAgIGlmIChpc05hTihpbnB1dC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ID0gcGFyc2VGbG9hdChpbnB1dC52YWx1ZSk7XG4gICAgICAgIGlmICgodiB8IDApICE9PSB2KSB7IC8vIGlzIGl0IGFuIGludGVnZXJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW4gPSBOdW1iZXIoaW5wdXQuZGF0YXNldC5taW4pO1xuICAgICAgICB2YXIgbWF4ID0gTnVtYmVyKGlucHV0LmRhdGFzZXQubWF4KTtcbiAgICAgICAgaWYgKHYgPCBtaW4gfHwgdiA+IG1heCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlucHV0TWludXRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvblwiICsgY29vcmRUeXBlICsgXCJNaW51dGVzXCIpKTtcbiAgICAgICAgdmFyIGlucHV0U2Vjb25kcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvblwiICsgY29vcmRUeXBlICsgXCJTZWNvbmRzXCIpKTtcblxuICAgICAgICBpZiAodiA+PSBtYXgpIHtcbiAgICAgICAgICAgIGlucHV0TWludXRlcy5kYXRhc2V0Lm1heCA9IDA7XG4gICAgICAgICAgICBpbnB1dFNlY29uZHMuZGF0YXNldC5tYXggPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXRNaW51dGVzLmRhdGFzZXQubWF4ID0gNTk7XG4gICAgICAgICAgICBpbnB1dFNlY29uZHMuZGF0YXNldC5tYXggPSA1OS45OTk5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbiAgICAvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBoYW5kbGVycyBFdmVudCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4gICAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gZGlzcGxheWluZyBjb29yZGluYXRlcyBmcm9tIGN1cnNvciBwb3NpdGlvbiAoZGVza3RvcClcbiAgICAgKiBvciBtYXAgY2VudGVyICh0YWN0aWxlKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb29yZGluYXRlIC0gY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBHUGRpc3BsYXlDb29yZHMgOiBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICAvLyBDb21wdXRlIGNvb3JkcyBpbiBjYXNlIG9mIGN1cnNvciBwb3NpdGlvbiAoZGVza3RvcClcbiAgICAgICAgaWYgKGNvb3JkaW5hdGUgJiYgY29vcmRpbmF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWxMb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25Mb25MYWJlbFwiKSk7XG4gICAgICAgICAgICB2YXIgbGFiZWxMYXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25MYXRMYWJlbFwiKSk7XG5cbiAgICAgICAgICAgIGlmIChjb29yZGluYXRlLnggfHwgY29vcmRpbmF0ZS55KSB7XG4gICAgICAgICAgICAgICAgbGFiZWxMYXQuaW5uZXJIVE1MID0gXCJYIDogXCI7XG4gICAgICAgICAgICAgICAgbGFiZWxMb24uaW5uZXJIVE1MID0gXCJZIDogXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvb3JkaW5hdGUuZSB8fCBjb29yZGluYXRlLm4pIHtcbiAgICAgICAgICAgICAgICBsYWJlbExhdC5pbm5lckhUTUwgPSBcIkUgOiBcIjtcbiAgICAgICAgICAgICAgICBsYWJlbExvbi5pbm5lckhUTUwgPSBcIk4gOiBcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWxMYXQuaW5uZXJIVE1MID0gXCJMYXRpdHVkZSA6IFwiO1xuICAgICAgICAgICAgICAgIGxhYmVsTG9uLmlubmVySFRNTCA9IFwiTG9uZ2l0dWRlIDogXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29vcmRpbmF0ZS5sYXQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGNvb3JkaW5hdGUubG5nID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0ge1xuICAgICAgICAgICAgICAgICAgICBsbmcgOiBcIkxvblwiLFxuICAgICAgICAgICAgICAgICAgICBsYXQgOiBcIkxhdFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgdW5pdHMgPSBbXCJEZWdyZWVzXCIsIFwiTWludXRlc1wiLCBcIlNlY29uZHNcIl07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBwYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IHVuaXRzLmxlbmd0aDsgKyt1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBcIkdQbW91c2VQb3NpdGlvblwiICsgcGFydHNbcF0gKyB1bml0c1t1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSB1bml0c1t1XS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsdC52YWx1ZSA9IGNvb3JkaW5hdGVbcF1ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkaXJlY3Rpb25zXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uTG9uRGlyZWN0aW9uXCIpKS52YWx1ZSA9IGNvb3JkaW5hdGUubG5nLmRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25MYXREaXJlY3Rpb25cIikpLnZhbHVlID0gY29vcmRpbmF0ZS5sYXQuZGlyZWN0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxMYXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25MYXRcIikpO1xuICAgICAgICAgICAgICAgIHZhciBlbExvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbW91c2VQb3NpdGlvbkxvblwiKSk7XG5cbiAgICAgICAgICAgICAgICBlbExhdC52YWx1ZSA9IGNvb3JkaW5hdGUueCB8fCBjb29yZGluYXRlLmxhdCB8fCBjb29yZGluYXRlLmUgfHwgXCIwXCI7XG4gICAgICAgICAgICAgICAgZWxMb24udmFsdWUgPSBjb29yZGluYXRlLnkgfHwgY29vcmRpbmF0ZS5sbmcgfHwgY29vcmRpbmF0ZS5sb24gfHwgY29vcmRpbmF0ZS5uIHx8IFwiMFwiO1xuXG4gICAgICAgICAgICAgICAgLy8gbGVzIHVuaXRlc1xuICAgICAgICAgICAgICAgIHZhciB1bml0ID0gKGNvb3JkaW5hdGUudW5pdCA9PT0gdW5kZWZpbmVkKSA/IFwiXCIgOiBjb29yZGluYXRlLnVuaXQ7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkdQbW91c2VQb3NpdGlvblVuaXRzXCIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgZWxlbWVudHMubGVuZ3RoOyArK24pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbbl0uaW5uZXJIVE1MID0gdW5pdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gZGlzcGxheWluZyBhbHRpdHVkZSBmcm9tIGN1cnNvciBwb3NpdGlvbiAoZGVza3RvcClcbiAgICAgKiBvciBtYXAgY2VudGVyICh0YWN0aWxlKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb29yZGluYXRlIC0gY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYWx0aXR1ZGVUaW1lb3V0RGVsYXkgLSB3aGVuIHRoZSBtb3VzZSBzdG9wIG1vdmluZywgZGVsYXkgYmVmb3JlIHRoZSBhbHRpdHVkZSByZXF1ZXN0IGlzIGxhdW5jaGVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5vRGF0YVZhbHVlIC0gdGhlIG5vIGRhdGEgdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbm9EYXRhVmFsdWVUb2xlcmFuY2UgLSB0aGUgbm8gZGF0YSB2YWx1ZSB0b2xlcmFuY2VcbiAgICAgKi9cbiAgICBHUGRpc3BsYXlFbGV2YXRpb24gOiBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgYWx0aXR1ZGVUaW1lb3V0RGVsYXksIG5vRGF0YVZhbHVlLCBub0RhdGFWYWx1ZVRvbGVyYW5jZSkge1xuICAgICAgICAvLyBjb250ZXh0ZSBkJ2V4ZWN1dGlvblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgLy8gTGF0ZW5jeSBmb3IgYWx0aXR1ZGUgcmVxdWVzdFxuICAgICAgICB2YXIgYWx0aXR1ZGVUaW1lb3V0O1xuICAgICAgICBpZiAoIWFsdGl0dWRlVGltZW91dERlbGF5KSB7XG4gICAgICAgICAgICBhbHRpdHVkZVRpbWVvdXREZWxheSA9IDUwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyVGltZW91dChhbHRpdHVkZVRpbWVvdXQpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25BbHRcIikpLmlubmVySFRNTCA9IFwiLi4uXCI7XG5cbiAgICAgICAgaWYgKG5vRGF0YVZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIG5vRGF0YVZhbHVlID0gLTk5OTk5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChub0RhdGFWYWx1ZVRvbGVyYW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub0RhdGFWYWx1ZVRvbGVyYW5jZSA9IDk5OTgwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXhUaHJlc2hvbGQgPSBub0RhdGFWYWx1ZSArIG5vRGF0YVZhbHVlVG9sZXJhbmNlO1xuICAgICAgICB2YXIgbWluVGhyZXNob2xkID0gbm9EYXRhVmFsdWUgLSBub0RhdGFWYWx1ZVRvbGVyYW5jZTtcblxuICAgICAgICAvLyBDb21wdXRlIGNvb3JkcyBpbiBjYXNlIG9mIGN1cnNvciBwb3NpdGlvbiAoZGVza3RvcClcbiAgICAgICAgaWYgKGNvb3JkaW5hdGUgJiYgY29vcmRpbmF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhbHRpdHVkZSBwYW5lbCwgZG9uJ3QgY2FsbCBhbHRpdHVkZSByZXF1ZXN0XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uQWx0aXR1ZGVcIikpKSB7XG4gICAgICAgICAgICAgICAgYWx0aXR1ZGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25SZXF1ZXN0QWx0aXR1ZGUoY29vcmRpbmF0ZSwgZnVuY3Rpb24gKHopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW5UaHJlc2hvbGQgPCB6ICYmIHogPCBtYXhUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLkdQcmVzZXRFbGV2YXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZi5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uQWx0XCIpKS5pbm5lckhUTUwgPSB6O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBhbHRpdHVkZVRpbWVvdXREZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gcmVzZXRpbmcgYWx0aXR1ZGUgdmFsdWVcbiAgICAgKi9cbiAgICBHUHJlc2V0RWxldmF0aW9uIDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uQWx0aXR1ZGVcIikpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25BbHRcIikpLmlubmVySFRNTCA9IFwiLS0tXCI7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNb3VzZVBvc2l0aW9uRE9NO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Controls/MousePositionDOM.js\n");

/***/ }),

/***/ "./src/Common/Controls/ScaleDOM.js":
/*!*****************************************!*\
  !*** ./src/Common/Controls/ScaleDOM.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ScaleDOM = {\n  /**\n  * Add uuid to the tag ID\n  * @param {String} id - id selector\n  * @returns {String} uid - id selector with an unique id\n  */\n  _addUID: function _addUID(id) {\n    var uid = this._uid ? id + \"-\" + this._uid : id;\n    return uid;\n  },\n\n  /**\n   * Main container (DOM)\n   *\n   * @returns {DOMElement} DOM element\n   */\n  _createMainContainerElement: function _createMainContainerElement() {\n    var container = document.createElement(\"div\");\n    container.id = this._addUID(\"GPscaleContainer\");\n    container.className = \"GPwidget\";\n    return container;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScaleDOM);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vQ29udHJvbHMvU2NhbGVET00uanM/ZTM3MiJdLCJuYW1lcyI6WyJTY2FsZURPTSIsIl9hZGRVSUQiLCJpZCIsInVpZCIsIl91aWQiLCJfY3JlYXRlTWFpbkNvbnRhaW5lckVsZW1lbnQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsSUFBSUEsUUFBUSxHQUFHO0FBRVg7Ozs7O0FBS0FDLFNBQU8sRUFBRyxpQkFBVUMsRUFBVixFQUFjO0FBQ3BCLFFBQUlDLEdBQUcsR0FBSSxLQUFLQyxJQUFOLEdBQWNGLEVBQUUsR0FBRyxHQUFMLEdBQVcsS0FBS0UsSUFBOUIsR0FBcUNGLEVBQS9DO0FBQ0EsV0FBT0MsR0FBUDtBQUNILEdBVlU7O0FBWVg7Ozs7O0FBS0FFLDZCQUEyQixFQUFHLHVDQUFZO0FBQ3RDLFFBQUlDLFNBQVMsR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0FGLGFBQVMsQ0FBQ0osRUFBVixHQUFlLEtBQUtELE9BQUwsQ0FBYSxrQkFBYixDQUFmO0FBQ0FLLGFBQVMsQ0FBQ0csU0FBVixHQUFzQixVQUF0QjtBQUNBLFdBQU9ILFNBQVA7QUFDSDtBQXRCVSxDQUFmO0FBeUJlTix1RUFBZiIsImZpbGUiOiIuL3NyYy9Db21tb24vQ29udHJvbHMvU2NhbGVET00uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU2NhbGVET00gPSB7XG5cbiAgICAvKipcbiAgICAqIEFkZCB1dWlkIHRvIHRoZSB0YWcgSURcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIGlkIHNlbGVjdG9yXG4gICAgKiBAcmV0dXJucyB7U3RyaW5nfSB1aWQgLSBpZCBzZWxlY3RvciB3aXRoIGFuIHVuaXF1ZSBpZFxuICAgICovXG4gICAgX2FkZFVJRCA6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgdWlkID0gKHRoaXMuX3VpZCkgPyBpZCArIFwiLVwiICsgdGhpcy5fdWlkIDogaWQ7XG4gICAgICAgIHJldHVybiB1aWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1haW4gY29udGFpbmVyIChET00pXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlTWFpbkNvbnRhaW5lckVsZW1lbnQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb250YWluZXIuaWQgPSB0aGlzLl9hZGRVSUQoXCJHUHNjYWxlQ29udGFpbmVyXCIpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJHUHdpZGdldFwiO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlRE9NO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Controls/ScaleDOM.js\n");

/***/ }),

/***/ "./src/Common/Styles.js":
/*!******************************!*\
  !*** ./src/Common/Styles.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CSS_GPboostRelief_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CSS/GPboostRelief.css */ \"./src/Common/CSS/GPboostRelief.css\");\n/* harmony import */ var _CSS_GPboostRelief_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPboostRelief_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CSS_GPdrawing_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CSS/GPdrawing.css */ \"./src/Common/CSS/GPdrawing.css\");\n/* harmony import */ var _CSS_GPdrawing_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPdrawing_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _CSS_GPelevationPath_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CSS/GPelevationPath.css */ \"./src/Common/CSS/GPelevationPath.css\");\n/* harmony import */ var _CSS_GPelevationPath_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPelevationPath_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _CSS_GPgeneralWidget_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CSS/GPgeneralWidget.css */ \"./src/Common/CSS/GPgeneralWidget.css\");\n/* harmony import */ var _CSS_GPgeneralWidget_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPgeneralWidget_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _CSS_GPgetFeatureInfo_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CSS/GPgetFeatureInfo.css */ \"./src/Common/CSS/GPgetFeatureInfo.css\");\n/* harmony import */ var _CSS_GPgetFeatureInfo_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPgetFeatureInfo_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _CSS_GPisochron_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CSS/GPisochron.css */ \"./src/Common/CSS/GPisochron.css\");\n/* harmony import */ var _CSS_GPisochron_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPisochron_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _CSS_GPlayerSwitcher_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CSS/GPlayerSwitcher.css */ \"./src/Common/CSS/GPlayerSwitcher.css\");\n/* harmony import */ var _CSS_GPlayerSwitcher_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPlayerSwitcher_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _CSS_GPlocation_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CSS/GPlocation.css */ \"./src/Common/CSS/GPlocation.css\");\n/* harmony import */ var _CSS_GPlocation_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPlocation_css__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _CSS_GPmeasureArea_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CSS/GPmeasureArea.css */ \"./src/Common/CSS/GPmeasureArea.css\");\n/* harmony import */ var _CSS_GPmeasureArea_css__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPmeasureArea_css__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _CSS_GPmeasureAzimuth_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CSS/GPmeasureAzimuth.css */ \"./src/Common/CSS/GPmeasureAzimuth.css\");\n/* harmony import */ var _CSS_GPmeasureAzimuth_css__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPmeasureAzimuth_css__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _CSS_GPmeasureLength_css__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CSS/GPmeasureLength.css */ \"./src/Common/CSS/GPmeasureLength.css\");\n/* harmony import */ var _CSS_GPmeasureLength_css__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPmeasureLength_css__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _CSS_GPmeasureToolTip_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CSS/GPmeasureToolTip.css */ \"./src/Common/CSS/GPmeasureToolTip.css\");\n/* harmony import */ var _CSS_GPmeasureToolTip_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPmeasureToolTip_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _CSS_GPmousePosition_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./CSS/GPmousePosition.css */ \"./src/Common/CSS/GPmousePosition.css\");\n/* harmony import */ var _CSS_GPmousePosition_css__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPmousePosition_css__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _CSS_GPreverseGeocoding_css__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./CSS/GPreverseGeocoding.css */ \"./src/Common/CSS/GPreverseGeocoding.css\");\n/* harmony import */ var _CSS_GPreverseGeocoding_css__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPreverseGeocoding_css__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _CSS_GProute_css__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CSS/GProute.css */ \"./src/Common/CSS/GProute.css\");\n/* harmony import */ var _CSS_GProute_css__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_CSS_GProute_css__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _CSS_GPsearchEngine_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./CSS/GPsearchEngine.css */ \"./src/Common/CSS/GPsearchEngine.css\");\n/* harmony import */ var _CSS_GPsearchEngine_css__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPsearchEngine_css__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _CSS_GPwaiting_css__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./CSS/GPwaiting.css */ \"./src/Common/CSS/GPwaiting.css\");\n/* harmony import */ var _CSS_GPwaiting_css__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPwaiting_css__WEBPACK_IMPORTED_MODULE_16__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vU3R5bGVzLmpzP2QzOWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL0NvbW1vbi9TdHlsZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuL0NTUy9HUGJvb3N0UmVsaWVmLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1BkcmF3aW5nLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1BlbGV2YXRpb25QYXRoLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1BnZW5lcmFsV2lkZ2V0LmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1BnZXRGZWF0dXJlSW5mby5jc3NcIjtcbmltcG9ydCBcIi4vQ1NTL0dQaXNvY2hyb24uY3NzXCI7XG5pbXBvcnQgXCIuL0NTUy9HUGxheWVyU3dpdGNoZXIuY3NzXCI7XG5pbXBvcnQgXCIuL0NTUy9HUGxvY2F0aW9uLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1BtZWFzdXJlQXJlYS5jc3NcIjtcbmltcG9ydCBcIi4vQ1NTL0dQbWVhc3VyZUF6aW11dGguY3NzXCI7XG5pbXBvcnQgXCIuL0NTUy9HUG1lYXN1cmVMZW5ndGguY3NzXCI7XG5pbXBvcnQgXCIuL0NTUy9HUG1lYXN1cmVUb29sVGlwLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1Btb3VzZVBvc2l0aW9uLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1ByZXZlcnNlR2VvY29kaW5nLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1Byb3V0ZS5jc3NcIjtcbmltcG9ydCBcIi4vQ1NTL0dQc2VhcmNoRW5naW5lLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvR1B3YWl0aW5nLmNzc1wiO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Styles.js\n");

/***/ }),

/***/ "./src/Common/Utils.js":
/*!*****************************!*\
  !*** ./src/Common/Utils.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n* @module Utils\n* @alias Gp.olUtils\n* @description\n* ...\n*\n* @example\n* detectSupport();\n* assign();\n* mergeParams();\n*/\nvar Utils = {\n  /**\n   * this method is called by the constructor.\n   * this information is useful to switch to touch mode.\n   * Detection : test for desktop or tactile\n   *\n   * @returns {Boolean} isDesktop - true for desktop userAgent, false for mobile\n   */\n  detectSupport: function detectSupport() {\n    var isDesktop = true;\n    var userAgent = window.navigator.userAgent.toLowerCase();\n\n    if (userAgent.indexOf(\"iphone\") !== -1 || userAgent.indexOf(\"ipod\") !== -1 || userAgent.indexOf(\"ipad\") !== -1 || userAgent.indexOf(\"android\") !== -1 || userAgent.indexOf(\"mobile\") !== -1 || userAgent.indexOf(\"blackberry\") !== -1 || userAgent.indexOf(\"tablet\") !== -1 || userAgent.indexOf(\"phone\") !== -1 || userAgent.indexOf(\"touch\") !== -1) {\n      isDesktop = false;\n    }\n\n    if (userAgent.indexOf(\"msie\") !== -1 || userAgent.indexOf(\"trident\") !== -1) {\n      isDesktop = true;\n    }\n\n    return isDesktop;\n  },\n\n  /**\n   *  Copies all source object members to dest\n   *\n   * @param {Object} dest - destination object where properties and method will be copied\n   * @param {Object} source - source object from which properties and method will be copied\n   * @returns {Object} dest\n   */\n  assign: function assign(dest, source) {\n    dest = dest || {};\n\n    for (var prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        dest[prop] = source[prop];\n      }\n    }\n\n    return dest;\n  },\n\n  /**\n   * Merge two objects parameters (deeper than assign)\n   *\n   * @param {Object} dest     - destination object where properties and method will be merge\n   * @param {Object} source   - source object from which properties and method will be merge\n   * @param {Boolean} replace - replace destination value by source if exists or not (true by default)\n   */\n  mergeParams: function mergeParams(dest, source, replace) {\n    if (!dest || !source) {\n      return;\n    }\n\n    if (typeof replace === \"undefined\") {\n      replace = true;\n    }\n\n    for (var param in source) {\n      if (source.hasOwnProperty(param)) {\n        if (_typeof(source[param]) === \"object\") {\n          if (dest.hasOwnProperty(param)) {\n            this.mergeParams(dest[param], source[param], replace);\n          } else {\n            dest[param] = source[param];\n          }\n        } else {\n          if (dest.hasOwnProperty(param)) {\n            if (replace) {\n              dest[param] = source[param];\n            }\n          } else {\n            dest[param] = source[param];\n          }\n        }\n      }\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Utils);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMuanM/MTM1ZSJdLCJuYW1lcyI6WyJVdGlscyIsImRldGVjdFN1cHBvcnQiLCJpc0Rlc2t0b3AiLCJ1c2VyQWdlbnQiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJhc3NpZ24iLCJkZXN0Iiwic291cmNlIiwicHJvcCIsImhhc093blByb3BlcnR5IiwibWVyZ2VQYXJhbXMiLCJyZXBsYWNlIiwicGFyYW0iXSwibWFwcGluZ3MiOiI7OztBQUFBOzs7Ozs7Ozs7OztBQVdBLElBQUlBLEtBQUssR0FBRztBQUVSOzs7Ozs7O0FBT0FDLGVBQWEsRUFBRyx5QkFBWTtBQUN4QixRQUFJQyxTQUFTLEdBQUcsSUFBaEI7QUFDQSxRQUFJQyxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkYsU0FBakIsQ0FBMkJHLFdBQTNCLEVBQWhCOztBQUVBLFFBQUlILFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixRQUFsQixNQUFnQyxDQUFDLENBQWpDLElBQ0FKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixNQUFsQixNQUE4QixDQUFDLENBRC9CLElBRUFKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixNQUFsQixNQUE4QixDQUFDLENBRi9CLElBR0FKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixTQUFsQixNQUFpQyxDQUFDLENBSGxDLElBSUFKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixRQUFsQixNQUFnQyxDQUFDLENBSmpDLElBS0FKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixZQUFsQixNQUFvQyxDQUFDLENBTHJDLElBTUFKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixRQUFsQixNQUFnQyxDQUFDLENBTmpDLElBT0FKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixPQUFsQixNQUErQixDQUFDLENBUGhDLElBUUFKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixPQUFsQixNQUErQixDQUFDLENBUnBDLEVBUXVDO0FBQ25DTCxlQUFTLEdBQUcsS0FBWjtBQUNIOztBQUVELFFBQUlDLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixNQUFsQixNQUE4QixDQUFDLENBQS9CLElBQ0FKLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixTQUFsQixNQUFpQyxDQUFDLENBRHRDLEVBQ3lDO0FBQ3JDTCxlQUFTLEdBQUcsSUFBWjtBQUNIOztBQUVELFdBQU9BLFNBQVA7QUFDSCxHQS9CTzs7QUFpQ1I7Ozs7Ozs7QUFPQU0sUUFBTSxFQUFHLGdCQUFVQyxJQUFWLEVBQWdCQyxNQUFoQixFQUF3QjtBQUM3QkQsUUFBSSxHQUFHQSxJQUFJLElBQUksRUFBZjs7QUFDQSxTQUFLLElBQUlFLElBQVQsSUFBaUJELE1BQWpCLEVBQXlCO0FBQ3JCLFVBQUlBLE1BQU0sQ0FBQ0UsY0FBUCxDQUFzQkQsSUFBdEIsQ0FBSixFQUFpQztBQUM3QkYsWUFBSSxDQUFDRSxJQUFELENBQUosR0FBYUQsTUFBTSxDQUFDQyxJQUFELENBQW5CO0FBQ0g7QUFDSjs7QUFDRCxXQUFPRixJQUFQO0FBQ0gsR0FoRE87O0FBa0RSOzs7Ozs7O0FBT0FJLGFBQVcsRUFBRyxxQkFBVUosSUFBVixFQUFnQkMsTUFBaEIsRUFBd0JJLE9BQXhCLEVBQWlDO0FBQzNDLFFBQUksQ0FBQ0wsSUFBRCxJQUFTLENBQUNDLE1BQWQsRUFBc0I7QUFDbEI7QUFDSDs7QUFDRCxRQUFJLE9BQU9JLE9BQVAsS0FBbUIsV0FBdkIsRUFBb0M7QUFDaENBLGFBQU8sR0FBRyxJQUFWO0FBQ0g7O0FBQ0QsU0FBSyxJQUFJQyxLQUFULElBQWtCTCxNQUFsQixFQUEwQjtBQUN0QixVQUFJQSxNQUFNLENBQUNFLGNBQVAsQ0FBc0JHLEtBQXRCLENBQUosRUFBa0M7QUFDOUIsWUFBSSxRQUFPTCxNQUFNLENBQUNLLEtBQUQsQ0FBYixNQUF5QixRQUE3QixFQUF1QztBQUNuQyxjQUFJTixJQUFJLENBQUNHLGNBQUwsQ0FBb0JHLEtBQXBCLENBQUosRUFBZ0M7QUFDNUIsaUJBQUtGLFdBQUwsQ0FBaUJKLElBQUksQ0FBQ00sS0FBRCxDQUFyQixFQUE4QkwsTUFBTSxDQUFDSyxLQUFELENBQXBDLEVBQTZDRCxPQUE3QztBQUNILFdBRkQsTUFFTztBQUNITCxnQkFBSSxDQUFDTSxLQUFELENBQUosR0FBY0wsTUFBTSxDQUFDSyxLQUFELENBQXBCO0FBQ0g7QUFDSixTQU5ELE1BTU87QUFDSCxjQUFJTixJQUFJLENBQUNHLGNBQUwsQ0FBb0JHLEtBQXBCLENBQUosRUFBZ0M7QUFDNUIsZ0JBQUlELE9BQUosRUFBYTtBQUNUTCxrQkFBSSxDQUFDTSxLQUFELENBQUosR0FBY0wsTUFBTSxDQUFDSyxLQUFELENBQXBCO0FBQ0g7QUFDSixXQUpELE1BSU87QUFDSE4sZ0JBQUksQ0FBQ00sS0FBRCxDQUFKLEdBQWNMLE1BQU0sQ0FBQ0ssS0FBRCxDQUFwQjtBQUNIO0FBQ0o7QUFDSjtBQUNKO0FBQ0o7QUFuRk8sQ0FBWjtBQXNGZWYsb0VBQWYiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL1V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEBtb2R1bGUgVXRpbHNcbiogQGFsaWFzIEdwLm9sVXRpbHNcbiogQGRlc2NyaXB0aW9uXG4qIC4uLlxuKlxuKiBAZXhhbXBsZVxuKiBkZXRlY3RTdXBwb3J0KCk7XG4qIGFzc2lnbigpO1xuKiBtZXJnZVBhcmFtcygpO1xuKi9cbnZhciBVdGlscyA9IHtcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGUgY29uc3RydWN0b3IuXG4gICAgICogdGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgdG8gc3dpdGNoIHRvIHRvdWNoIG1vZGUuXG4gICAgICogRGV0ZWN0aW9uIDogdGVzdCBmb3IgZGVza3RvcCBvciB0YWN0aWxlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gaXNEZXNrdG9wIC0gdHJ1ZSBmb3IgZGVza3RvcCB1c2VyQWdlbnQsIGZhbHNlIGZvciBtb2JpbGVcbiAgICAgKi9cbiAgICBkZXRlY3RTdXBwb3J0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXNEZXNrdG9wID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKFwiaXBob25lXCIpICE9PSAtMSB8fFxuICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoXCJpcG9kXCIpICE9PSAtMSB8fFxuICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoXCJpcGFkXCIpICE9PSAtMSB8fFxuICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoXCJhbmRyb2lkXCIpICE9PSAtMSB8fFxuICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoXCJtb2JpbGVcIikgIT09IC0xIHx8XG4gICAgICAgICAgICB1c2VyQWdlbnQuaW5kZXhPZihcImJsYWNrYmVycnlcIikgIT09IC0xIHx8XG4gICAgICAgICAgICB1c2VyQWdlbnQuaW5kZXhPZihcInRhYmxldFwiKSAhPT0gLTEgfHxcbiAgICAgICAgICAgIHVzZXJBZ2VudC5pbmRleE9mKFwicGhvbmVcIikgIT09IC0xIHx8XG4gICAgICAgICAgICB1c2VyQWdlbnQuaW5kZXhPZihcInRvdWNoXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgaXNEZXNrdG9wID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoXCJtc2llXCIpICE9PSAtMSB8fFxuICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoXCJ0cmlkZW50XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgaXNEZXNrdG9wID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc0Rlc2t0b3A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqICBDb3BpZXMgYWxsIHNvdXJjZSBvYmplY3QgbWVtYmVycyB0byBkZXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdCAtIGRlc3RpbmF0aW9uIG9iamVjdCB3aGVyZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2Qgd2lsbCBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIC0gc291cmNlIG9iamVjdCBmcm9tIHdoaWNoIHByb3BlcnRpZXMgYW5kIG1ldGhvZCB3aWxsIGJlIGNvcGllZFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAgICAgKi9cbiAgICBhc3NpZ24gOiBmdW5jdGlvbiAoZGVzdCwgc291cmNlKSB7XG4gICAgICAgIGRlc3QgPSBkZXN0IHx8IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGRlc3RbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lcmdlIHR3byBvYmplY3RzIHBhcmFtZXRlcnMgKGRlZXBlciB0aGFuIGFzc2lnbilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0ICAgICAtIGRlc3RpbmF0aW9uIG9iamVjdCB3aGVyZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2Qgd2lsbCBiZSBtZXJnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgICAtIHNvdXJjZSBvYmplY3QgZnJvbSB3aGljaCBwcm9wZXJ0aWVzIGFuZCBtZXRob2Qgd2lsbCBiZSBtZXJnZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVwbGFjZSAtIHJlcGxhY2UgZGVzdGluYXRpb24gdmFsdWUgYnkgc291cmNlIGlmIGV4aXN0cyBvciBub3QgKHRydWUgYnkgZGVmYXVsdClcbiAgICAgKi9cbiAgICBtZXJnZVBhcmFtcyA6IGZ1bmN0aW9uIChkZXN0LCBzb3VyY2UsIHJlcGxhY2UpIHtcbiAgICAgICAgaWYgKCFkZXN0IHx8ICFzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlcGxhY2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJlcGxhY2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHBhcmFtIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwYXJhbSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtwYXJhbV0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3QuaGFzT3duUHJvcGVydHkocGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lcmdlUGFyYW1zKGRlc3RbcGFyYW1dLCBzb3VyY2VbcGFyYW1dLCByZXBsYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbcGFyYW1dID0gc291cmNlW3BhcmFtXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0Lmhhc093blByb3BlcnR5KHBhcmFtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0W3BhcmFtXSA9IHNvdXJjZVtwYXJhbV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W3BhcmFtXSA9IHNvdXJjZVtwYXJhbV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBVdGlscztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Common/Utils.js\n");

/***/ }),

/***/ "./src/Common/Utils/AutoLoadConfig.js":
/*!********************************************!*\
  !*** ./src/Common/Utils/AutoLoadConfig.js ***!
  \********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! geoportal-access-lib */ \"./node_modules/geoportal-access-lib/src/Gp.js\");\n\n\n(function () {\n  var scripts = document.getElementsByTagName(\"script\");\n  var key = scripts[scripts.length - 1].getAttribute(\"data-key\"); // in case of several keys\n\n  if (key) {\n    var splitKeys = key.split(/;|,|\\|/);\n\n    if (key && splitKeys.length > 1) {\n      var keys = [];\n\n      for (var i = 0; i < splitKeys.length; i++) {\n        keys.push(splitKeys[i]);\n      }\n\n      key = keys;\n    }\n  }\n\n  var url = scripts[scripts.length - 1].getAttribute(\"data-url\");\n  var timeout = scripts[scripts.length - 1].getAttribute(\"data-timeout\"); // callback\n\n  var success = function success() {// Pas de messages en mode prod\n    // console.log(\"GetConfig success!\");\n  }; // callback\n\n\n  var error = function error(e) {\n    throw new Error(\"Configuration load failed : \" + e.message);\n  };\n\n  if (!key && !url) {\n    // pas de message d'information !\n    // console.log(\"WARNING : parameters missing 'data-key' and 'data-url', the loading of configuration can not be done !\");\n    return;\n  }\n\n  var options = {\n    apiKey: key,\n    onSuccess: success,\n    onFailure: error\n  };\n\n  if (url) {\n    options.serverUrl = url;\n    options.callbackSuffix = \"\";\n  }\n\n  if (timeout) {\n    options.timeOut = timeout;\n  } // test d'existance de la varibale globale Gp.Config\n\n\n  if (!geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Config) {\n    // appel du service\n    geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Services.getConfig(options);\n  }\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvQXV0b0xvYWRDb25maWcuanM/ODA0YyJdLCJuYW1lcyI6WyJzY3JpcHRzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImtleSIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsInNwbGl0S2V5cyIsInNwbGl0Iiwia2V5cyIsImkiLCJwdXNoIiwidXJsIiwidGltZW91dCIsInN1Y2Nlc3MiLCJlcnJvciIsImUiLCJFcnJvciIsIm1lc3NhZ2UiLCJvcHRpb25zIiwiYXBpS2V5Iiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwic2VydmVyVXJsIiwiY2FsbGJhY2tTdWZmaXgiLCJ0aW1lT3V0IiwiR3AiLCJDb25maWciLCJTZXJ2aWNlcyIsImdldENvbmZpZyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOztBQUVBLENBQUMsWUFBWTtBQUNULE1BQUlBLE9BQU8sR0FBR0MsUUFBUSxDQUFDQyxvQkFBVCxDQUE4QixRQUE5QixDQUFkO0FBRUEsTUFBSUMsR0FBRyxHQUFHSCxPQUFPLENBQUNBLE9BQU8sQ0FBQ0ksTUFBUixHQUFpQixDQUFsQixDQUFQLENBQTRCQyxZQUE1QixDQUF5QyxVQUF6QyxDQUFWLENBSFMsQ0FJVDs7QUFDQSxNQUFJRixHQUFKLEVBQVM7QUFDTCxRQUFJRyxTQUFTLEdBQUdILEdBQUcsQ0FBQ0ksS0FBSixDQUFVLFFBQVYsQ0FBaEI7O0FBQ0EsUUFBSUosR0FBRyxJQUFJRyxTQUFTLENBQUNGLE1BQVYsR0FBbUIsQ0FBOUIsRUFBaUM7QUFDN0IsVUFBSUksSUFBSSxHQUFHLEVBQVg7O0FBQ0EsV0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHSCxTQUFTLENBQUNGLE1BQTlCLEVBQXNDSyxDQUFDLEVBQXZDLEVBQTJDO0FBQ3ZDRCxZQUFJLENBQUNFLElBQUwsQ0FBVUosU0FBUyxDQUFDRyxDQUFELENBQW5CO0FBQ0g7O0FBQ0ROLFNBQUcsR0FBR0ssSUFBTjtBQUNIO0FBQ0o7O0FBQ0QsTUFBSUcsR0FBRyxHQUFHWCxPQUFPLENBQUNBLE9BQU8sQ0FBQ0ksTUFBUixHQUFpQixDQUFsQixDQUFQLENBQTRCQyxZQUE1QixDQUF5QyxVQUF6QyxDQUFWO0FBQ0EsTUFBSU8sT0FBTyxHQUFHWixPQUFPLENBQUNBLE9BQU8sQ0FBQ0ksTUFBUixHQUFpQixDQUFsQixDQUFQLENBQTRCQyxZQUE1QixDQUF5QyxjQUF6QyxDQUFkLENBaEJTLENBa0JUOztBQUNBLE1BQUlRLE9BQU8sR0FBRyxTQUFWQSxPQUFVLEdBQVksQ0FDdEI7QUFDQTtBQUNILEdBSEQsQ0FuQlMsQ0F3QlQ7OztBQUNBLE1BQUlDLEtBQUssR0FBRyxTQUFSQSxLQUFRLENBQVVDLENBQVYsRUFBYTtBQUNyQixVQUFNLElBQUlDLEtBQUosQ0FBVSxpQ0FBaUNELENBQUMsQ0FBQ0UsT0FBN0MsQ0FBTjtBQUNILEdBRkQ7O0FBSUEsTUFBSSxDQUFDZCxHQUFELElBQVEsQ0FBQ1EsR0FBYixFQUFrQjtBQUNkO0FBQ0E7QUFDQTtBQUNIOztBQUVELE1BQUlPLE9BQU8sR0FBRztBQUNWQyxVQUFNLEVBQUdoQixHQURDO0FBRVZpQixhQUFTLEVBQUdQLE9BRkY7QUFHVlEsYUFBUyxFQUFHUDtBQUhGLEdBQWQ7O0FBTUEsTUFBSUgsR0FBSixFQUFTO0FBQ0xPLFdBQU8sQ0FBQ0ksU0FBUixHQUFvQlgsR0FBcEI7QUFDQU8sV0FBTyxDQUFDSyxjQUFSLEdBQXlCLEVBQXpCO0FBQ0g7O0FBRUQsTUFBSVgsT0FBSixFQUFhO0FBQ1RNLFdBQU8sQ0FBQ00sT0FBUixHQUFrQlosT0FBbEI7QUFDSCxHQWhEUSxDQWtEVDs7O0FBQ0EsTUFBSSxDQUFDYSw0REFBRSxDQUFDQyxNQUFSLEVBQWdCO0FBQ1o7QUFDQUQsZ0VBQUUsQ0FBQ0UsUUFBSCxDQUFZQyxTQUFaLENBQXNCVixPQUF0QjtBQUNIO0FBQ0osQ0F2REQiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL1V0aWxzL0F1dG9Mb2FkQ29uZmlnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdwIGZyb20gXCJnZW9wb3J0YWwtYWNjZXNzLWxpYlwiO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cbiAgICB2YXIga2V5ID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xuICAgIC8vIGluIGNhc2Ugb2Ygc2V2ZXJhbCBrZXlzXG4gICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgc3BsaXRLZXlzID0ga2V5LnNwbGl0KC87fCx8XFx8Lyk7XG4gICAgICAgIGlmIChrZXkgJiYgc3BsaXRLZXlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChzcGxpdEtleXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2V5ID0ga2V5cztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgdXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZShcImRhdGEtdXJsXCIpO1xuICAgIHZhciB0aW1lb3V0ID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZShcImRhdGEtdGltZW91dFwiKTtcblxuICAgIC8vIGNhbGxiYWNrXG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFBhcyBkZSBtZXNzYWdlcyBlbiBtb2RlIHByb2RcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJHZXRDb25maWcgc3VjY2VzcyFcIik7XG4gICAgfTtcblxuICAgIC8vIGNhbGxiYWNrXG4gICAgdmFyIGVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBsb2FkIGZhaWxlZCA6IFwiICsgZS5tZXNzYWdlKTtcbiAgICB9O1xuXG4gICAgaWYgKCFrZXkgJiYgIXVybCkge1xuICAgICAgICAvLyBwYXMgZGUgbWVzc2FnZSBkJ2luZm9ybWF0aW9uICFcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJXQVJOSU5HIDogcGFyYW1ldGVycyBtaXNzaW5nICdkYXRhLWtleScgYW5kICdkYXRhLXVybCcsIHRoZSBsb2FkaW5nIG9mIGNvbmZpZ3VyYXRpb24gY2FuIG5vdCBiZSBkb25lICFcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgYXBpS2V5IDoga2V5LFxuICAgICAgICBvblN1Y2Nlc3MgOiBzdWNjZXNzLFxuICAgICAgICBvbkZhaWx1cmUgOiBlcnJvclxuICAgIH07XG5cbiAgICBpZiAodXJsKSB7XG4gICAgICAgIG9wdGlvbnMuc2VydmVyVXJsID0gdXJsO1xuICAgICAgICBvcHRpb25zLmNhbGxiYWNrU3VmZml4ID0gXCJcIjtcbiAgICB9XG5cbiAgICBpZiAodGltZW91dCkge1xuICAgICAgICBvcHRpb25zLnRpbWVPdXQgPSB0aW1lb3V0O1xuICAgIH1cblxuICAgIC8vIHRlc3QgZCdleGlzdGFuY2UgZGUgbGEgdmFyaWJhbGUgZ2xvYmFsZSBHcC5Db25maWdcbiAgICBpZiAoIUdwLkNvbmZpZykge1xuICAgICAgICAvLyBhcHBlbCBkdSBzZXJ2aWNlXG4gICAgICAgIEdwLlNlcnZpY2VzLmdldENvbmZpZyhvcHRpb25zKTtcbiAgICB9XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Utils/AutoLoadConfig.js\n");

/***/ }),

/***/ "./src/Common/Utils/CheckRightManagement.js":
/*!**************************************************!*\
  !*** ./src/Common/Utils/CheckRightManagement.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Config */ \"./src/Common/Utils/Config.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  /**\n   * Contrôle des droits sur les ressources.\n   *\n   * @param {Object} options - liste des options\n   * @param {String} options.key - clef API\n   * @param {Array} options.resources - liste des ressources\n   * @param {Array} options.services - liste des services\n   * @returns {Object} rightManagement - undefined ou {\n   *       key : \"\",\n   *       service-1 : [resource-1, resource-2],\n   *       service-2 : [resource-1, resource-2]\n   * }\n   */\n  check: function check(options) {\n    // logger\n    var logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"checkrightmanagement\"); // si aucune option n'est renseignée...\n\n    if (!options) {\n      // message orienté pour le developpeur !\n      logger.error(\"WARNING : \" + \"no parameter specified !\");\n      return;\n    } // les options\n\n\n    var _key = options.key;\n\n    var _resources = options.resources || [];\n\n    var _services = options.services || []; // si aucune information sur les ressources,\n    // il est impossible de controler quelquechose !!!\n\n\n    if (!_resources || _resources.length === 0) {\n      // message orienté pour le developpeur !\n      logger.error(\"WARNING : \" + \"no parameter 'resources' specified !\");\n      return;\n    } // si aucune information sur les services,\n    // il est impossible de controler quelquechose !!!\n\n\n    if (!_services || _services.length === 0) {\n      // message orienté pour le developpeur !\n      logger.error(\"WARNING : \" + \"no parameter 'services' specified !\");\n      return;\n    } // les ressources controlées :\n    // Ex.\n    // {\n    //   \"Itineraire\"     : [\"Pieton\", \"Voiture\"],\n    //   \"Geocode\"        : [\"PositionOfInterest\", \"StreetAddress\", \"CadastralParcel\", \"Administratif\"],\n    //   \"AutoCompletion\" : [\"PositionOfInterest\", \"StreetAddress\", \"CadastralParcel\", \"Administratif\"],\n    //   \"Elevation\"      : [\"SERVICE_CALCUL_ALTIMETRIQUE_RSC\"]\n    // }\n\n\n    var _rightManagement = {}; // la clef API n'est pas renseignée\n\n    if (!_key) {\n      // on verifie si l'autoconfiguration est disponible\n      if (!_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isConfigLoaded()) {\n        // si l'autoconfiguration n'est pas chargée,\n        // aucune vérification des droits est possible...\n        logger.warn(\"WARNING : \" + \"The 'apiKey' parameter is missing, \" + \"and the contract key configuration has not been loaded, \" + \"so impossible to check yours rights !\");\n        return;\n      } else {\n        // si l'autoconfiguration est chargée,\n        // on recupere la clef API, et on en profitera ensuite pour controler\n        // les droits sur les ressources.\n        // FIXME par defaut, on recupere toujours la première...\n        _key = Object.keys(_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].configuration.generalOptions.apiKeys)[0];\n        logger.log(_key);\n      }\n    } // la clef API est renseignée ou recuperée de l'autoconfiguration\n\n\n    if (_key) {\n      // on verifie si l'autoconfiguration est disponible\n      if (!_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isConfigLoaded()) {\n        // si l'autoconfiguration n'est pas chargée,\n        // il est toujours possible de requeter le service avec une clef API,\n        // mais les droits sur les ressources ne sont pas garantis, on risque\n        // d'obtenir des erreurs 403 forbidden...\n        // la responsabilité revient à l'utilisateur (message d'information)...\n        logger.warn(\"WARNING : \" + \"the contract key configuration has not been loaded, \" + \"so be carefull !\"); // les ressouces non controlées\n\n        var _noRightManagement = {};\n\n        for (var i = 0; i < _services.length; i++) {\n          var service = _services[i];\n          _noRightManagement[service] = [];\n\n          for (var j = 0; j < _resources.length; j++) {\n            var resource = _resources[j];\n\n            _noRightManagement[service].push(resource);\n          }\n        } // on ajoute la clef\n\n\n        _noRightManagement.key = _key;\n        logger.log(\"right management not checked\", _noRightManagement);\n        return _noRightManagement;\n      } else {\n        // si l'autoconf est chargée,\n        // on verifie la correspondance entre la clef et l'autoconfiguration,\n        // on previent l'utilisateur (message d'information) s'il n'a\n        // pas de droits sur certaines ressources ...\n        // doit on ecarter les ressources sans droit ?\n        // oui, si possible avec un message d'information pour l'utilisateur...\n        for (var k = 0; k < _resources.length; k++) {\n          var _resource = _resources[k];\n\n          for (var l = 0; l < _services.length; l++) {\n            var _service = _services[l];\n            var params = _Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getServiceParams(_resource, _service, _key);\n\n            if (!params || Object.keys(params).length === 0) {\n              logger.warn(\"WARNING : \" + \"The contract key configuration has no rights to load this geoportal \" + \"resource (\" + _resource + \") \" + \"for this service (\" + _service + \") \");\n              continue;\n            }\n\n            if (!_rightManagement[_service]) {\n              _rightManagement[_service] = [];\n            }\n\n            _rightManagement[_service].push(_resource);\n          }\n        }\n\n        if (!_rightManagement || Object.keys(_rightManagement).length === 0) {\n          logger.warn(\"WARNING : \" + \"The contract key configuration has been loaded, \" + \"and the 'apiKey' parameter has been set, \" + \"but, there is a problem on the mapping between the contract and the key !\");\n          return;\n        } // on ajoute la clef\n\n\n        _rightManagement.key = _key;\n        logger.log(\"right management checked\", _rightManagement);\n        return _rightManagement;\n      }\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvQ2hlY2tSaWdodE1hbmFnZW1lbnQuanM/NGYzNCJdLCJuYW1lcyI6WyJjaGVjayIsIm9wdGlvbnMiLCJsb2dnZXIiLCJMb2dnZXIiLCJnZXRMb2dnZXIiLCJlcnJvciIsIl9rZXkiLCJrZXkiLCJfcmVzb3VyY2VzIiwicmVzb3VyY2VzIiwiX3NlcnZpY2VzIiwic2VydmljZXMiLCJsZW5ndGgiLCJfcmlnaHRNYW5hZ2VtZW50IiwiQ29uZmlnIiwiaXNDb25maWdMb2FkZWQiLCJ3YXJuIiwiT2JqZWN0Iiwia2V5cyIsImNvbmZpZ3VyYXRpb24iLCJnZW5lcmFsT3B0aW9ucyIsImFwaUtleXMiLCJsb2ciLCJfbm9SaWdodE1hbmFnZW1lbnQiLCJpIiwic2VydmljZSIsImoiLCJyZXNvdXJjZSIsInB1c2giLCJrIiwiX3Jlc291cmNlIiwibCIsIl9zZXJ2aWNlIiwicGFyYW1zIiwiZ2V0U2VydmljZVBhcmFtcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVlO0FBQ1g7Ozs7Ozs7Ozs7Ozs7QUFhQUEsT0FBSyxFQUFHLGVBQVVDLE9BQVYsRUFBbUI7QUFDdkI7QUFFQSxRQUFJQyxNQUFNLEdBQUdDLHFFQUFNLENBQUNDLFNBQVAsQ0FBaUIsc0JBQWpCLENBQWIsQ0FIdUIsQ0FLdkI7O0FBQ0EsUUFBSSxDQUFDSCxPQUFMLEVBQWM7QUFDVjtBQUNBQyxZQUFNLENBQUNHLEtBQVAsQ0FBYSxlQUNULDBCQURKO0FBRUE7QUFDSCxLQVhzQixDQWF2Qjs7O0FBQ0EsUUFBSUMsSUFBSSxHQUFHTCxPQUFPLENBQUNNLEdBQW5COztBQUNBLFFBQUlDLFVBQVUsR0FBR1AsT0FBTyxDQUFDUSxTQUFSLElBQXFCLEVBQXRDOztBQUNBLFFBQUlDLFNBQVMsR0FBR1QsT0FBTyxDQUFDVSxRQUFSLElBQW9CLEVBQXBDLENBaEJ1QixDQWtCdkI7QUFDQTs7O0FBQ0EsUUFBSSxDQUFDSCxVQUFE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QUFELElBQVdoQixNQUFNLENBQUNDLElBQVAsQ0FBWWUsTUFBWixFQUFvQnJCLE1BQXBCLEtBQStCLENBQTlDLEVBQWlEO0FBQzdDVixvQkFBTSxDQUFDYyxJQUFQLENBQVksZUFDUixzRUFEUSxHQUVSLFlBRlEsR0FFT2MsU0FGUCxHQUVtQixJQUZuQixHQUdSLG9CQUhRLEdBR2VFLFFBSGYsR0FHMEIsSUFIdEM7QUFJQTtBQUNIOztBQUVELGdCQUFJLENBQUNuQixnQkFBZ0IsQ0FBQ21CLFFBQUQsQ0FBckIsRUFBaUM7QUFDN0JuQiw4QkFBZ0IsQ0FBQ21CLFFBQUQsQ0FBaEIsR0FBNkIsRUFBN0I7QUFDSDs7QUFFRG5CLDRCQUFnQixDQUFDbUIsUUFBRCxDQUFoQixDQUEyQkosSUFBM0IsQ0FBZ0NFLFNBQWhDO0FBQ0g7QUFDSjs7QUFFRCxZQUFJLENBQUNqQixnQkFBRCxJQUFxQkksTUFBTSxDQUFDQyxJQUFQLENBQVlMLGdCQUFaLEVBQThCRCxNQUE5QixLQUF5QyxDQUFsRSxFQUFxRTtBQUNqRVYsZ0JBQU0sQ0FBQ2MsSUFBUCxDQUFZLGVBQ1Isa0RBRFEsR0FFUiwyQ0FGUSxHQUdSLDJFQUhKO0FBSUE7QUFDSCxTQXRDRSxDQXdDSDs7O0FBQ0FILHdCQUFnQixDQUFDTixHQUFqQixHQUF1QkQsSUFBdkI7QUFFQUosY0FBTSxDQUFDb0IsR0FBUCxDQUFXLDBCQUFYLEVBQXVDVCxnQkFBdkM7QUFFQSxlQUFPQSxnQkFBUDtBQUNIO0FBQ0o7QUFDSjtBQXZLVSxDQUFmIiwiZmlsZSI6Ii4vc3JjL0NvbW1vbi9VdGlscy9DaGVja1JpZ2h0TWFuYWdlbWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBDb25maWcgZnJvbSBcIi4vQ29uZmlnXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBDb250csO0bGUgZGVzIGRyb2l0cyBzdXIgbGVzIHJlc3NvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIGxpc3RlIGRlcyBvcHRpb25zXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMua2V5IC0gY2xlZiBBUElcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvcHRpb25zLnJlc291cmNlcyAtIGxpc3RlIGRlcyByZXNzb3VyY2VzXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3B0aW9ucy5zZXJ2aWNlcyAtIGxpc3RlIGRlcyBzZXJ2aWNlc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHJpZ2h0TWFuYWdlbWVudCAtIHVuZGVmaW5lZCBvdSB7XG4gICAgICogICAgICAga2V5IDogXCJcIixcbiAgICAgKiAgICAgICBzZXJ2aWNlLTEgOiBbcmVzb3VyY2UtMSwgcmVzb3VyY2UtMl0sXG4gICAgICogICAgICAgc2VydmljZS0yIDogW3Jlc291cmNlLTEsIHJlc291cmNlLTJdXG4gICAgICogfVxuICAgICAqL1xuICAgIGNoZWNrIDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbG9nZ2VyXG5cbiAgICAgICAgdmFyIGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJjaGVja3JpZ2h0bWFuYWdlbWVudFwiKTtcblxuICAgICAgICAvLyBzaSBhdWN1bmUgb3B0aW9uIG4nZXN0IHJlbnNlaWduw6llLi4uXG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgLy8gbWVzc2FnZSBvcmllbnTDqSBwb3VyIGxlIGRldmVsb3BwZXVyICFcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIldBUk5JTkcgOiBcIiArXG4gICAgICAgICAgICAgICAgXCJubyBwYXJhbWV0ZXIgc3BlY2lmaWVkICFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXMgb3B0aW9uc1xuICAgICAgICB2YXIgX2tleSA9IG9wdGlvbnMua2V5O1xuICAgICAgICB2YXIgX3Jlc291cmNlcyA9IG9wdGlvbnMucmVzb3VyY2VzIHx8IFtdO1xuICAgICAgICB2YXIgX3NlcnZpY2VzID0gb3B0aW9ucy5zZXJ2aWNlcyB8fCBbXTtcblxuICAgICAgICAvLyBzaSBhdWN1bmUgaW5mb3JtYXRpb24gc3VyIGxlcyByZXNzb3VyY2VzLFxuICAgICAgICAvLyBpbCBlc3QgaW1wb3NzaWJsZSBkZSBjb250cm9sZXIgcXVlbHF1ZWNob3NlICEhIVxuICAgICAgICBpZiAoIV9yZXNvdXJjZXMgfHwgX3Jlc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIG1lc3NhZ2Ugb3JpZW50w6kgcG91ciBsZSBkZXZlbG9wcGV1ciAhXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJXQVJOSU5HIDogXCIgK1xuICAgICAgICAgICAgICAgIFwibm8gcGFyYW1ldGVyICdyZXNvdXJjZXMnIHNwZWNpZmllZCAhXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2kgYXVjdW5lIGluZm9ybWF0aW9uIHN1ciBsZXMgc2VydmljZXMsXG4gICAgICAgIC8vIGlsIGVzdCBpbXBvc3NpYmxlIGRlIGNvbnRyb2xlciBxdWVscXVlY2hvc2UgISEhXG4gICAgICAgIGlmICghX3NlcnZpY2VzIHx8IF9zZXJ2aWNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIG1lc3NhZ2Ugb3JpZW50w6kgcG91ciBsZSBkZXZlbG9wcGV1ciAhXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJXQVJOSU5HIDogXCIgK1xuICAgICAgICAgICAgICAgIFwibm8gcGFyYW1ldGVyICdzZXJ2aWNlcycgc3BlY2lmaWVkICFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXMgcmVzc291cmNlcyBjb250cm9sw6llcyA6XG4gICAgICAgIC8vIEV4LlxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgXCJJdGluZXJhaXJlXCIgICAgIDogW1wiUGlldG9uXCIsIFwiVm9pdHVyZVwiXSxcbiAgICAgICAgLy8gICBcIkdlb2NvZGVcIiAgICAgICAgOiBbXCJQb3NpdGlvbk9mSW50ZXJlc3RcIiwgXCJTdHJlZXRBZGRyZXNzXCIsIFwiQ2FkYXN0cmFsUGFyY2VsXCIsIFwiQWRtaW5pc3RyYXRpZlwiXSxcbiAgICAgICAgLy8gICBcIkF1dG9Db21wbGV0aW9uXCIgOiBbXCJQb3NpdGlvbk9mSW50ZXJlc3RcIiwgXCJTdHJlZXRBZGRyZXNzXCIsIFwiQ2FkYXN0cmFsUGFyY2VsXCIsIFwiQWRtaW5pc3RyYXRpZlwiXSxcbiAgICAgICAgLy8gICBcIkVsZXZhdGlvblwiICAgICAgOiBbXCJTRVJWSUNFX0NBTENVTF9BTFRJTUVUUklRVUVfUlNDXCJdXG4gICAgICAgIC8vIH1cbiAgICAgICAgdmFyIF9yaWdodE1hbmFnZW1lbnQgPSB7fTtcblxuICAgICAgICAvLyBsYSBjbGVmIEFQSSBuJ2VzdCBwYXMgcmVuc2VpZ27DqWVcbiAgICAgICAgaWYgKCFfa2V5KSB7XG4gICAgICAgICAgICAvLyBvbiB2ZXJpZmllIHNpIGwnYXV0b2NvbmZpZ3VyYXRpb24gZXN0IGRpc3BvbmlibGVcblxuICAgICAgICAgICAgaWYgKCFDb25maWcuaXNDb25maWdMb2FkZWQoKSkge1xuICAgICAgICAgICAgICAgIC8vIHNpIGwnYXV0b2NvbmZpZ3VyYXRpb24gbidlc3QgcGFzIGNoYXJnw6llLFxuICAgICAgICAgICAgICAgIC8vIGF1Y3VuZSB2w6lyaWZpY2F0aW9uIGRlcyBkcm9pdHMgZXN0IHBvc3NpYmxlLi4uXG5cbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybihcIldBUk5JTkcgOiBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiVGhlICdhcGlLZXknIHBhcmFtZXRlciBpcyBtaXNzaW5nLCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiYW5kIHRoZSBjb250cmFjdCBrZXkgY29uZmlndXJhdGlvbiBoYXMgbm90IGJlZW4gbG9hZGVkLCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwic28gaW1wb3NzaWJsZSB0byBjaGVjayB5b3VycyByaWdodHMgIVwiKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc2kgbCdhdXRvY29uZmlndXJhdGlvbiBlc3QgY2hhcmfDqWUsXG4gICAgICAgICAgICAgICAgLy8gb24gcmVjdXBlcmUgbGEgY2xlZiBBUEksIGV0IG9uIGVuIHByb2ZpdGVyYSBlbnN1aXRlIHBvdXIgY29udHJvbGVyXG4gICAgICAgICAgICAgICAgLy8gbGVzIGRyb2l0cyBzdXIgbGVzIHJlc3NvdXJjZXMuXG5cbiAgICAgICAgICAgICAgICAvLyBGSVhNRSBwYXIgZGVmYXV0LCBvbiByZWN1cGVyZSB0b3Vqb3VycyBsYSBwcmVtacOocmUuLi5cbiAgICAgICAgICAgICAgICBfa2V5ID0gT2JqZWN0LmtleXMoQ29uZmlnLmNvbmZpZ3VyYXRpb24uZ2VuZXJhbE9wdGlvbnMuYXBpS2V5cylbMF07XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhfa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxhIGNsZWYgQVBJIGVzdCByZW5zZWlnbsOpZSBvdSByZWN1cGVyw6llIGRlIGwnYXV0b2NvbmZpZ3VyYXRpb25cbiAgICAgICAgaWYgKF9rZXkpIHtcbiAgICAgICAgICAgIC8vIG9uIHZlcmlmaWUgc2kgbCdhdXRvY29uZmlndXJhdGlvbiBlc3QgZGlzcG9uaWJsZVxuXG4gICAgICAgICAgICBpZiAoIUNvbmZpZy5pc0NvbmZpZ0xvYWRlZCgpKSB7XG4gICAgICAgICAgICAgICAgLy8gc2kgbCdhdXRvY29uZmlndXJhdGlvbiBuJ2VzdCBwYXMgY2hhcmfDqWUsXG4gICAgICAgICAgICAgICAgLy8gaWwgZXN0IHRvdWpvdXJzIHBvc3NpYmxlIGRlIHJlcXVldGVyIGxlIHNlcnZpY2UgYXZlYyB1bmUgY2xlZiBBUEksXG4gICAgICAgICAgICAgICAgLy8gbWFpcyBsZXMgZHJvaXRzIHN1ciBsZXMgcmVzc291cmNlcyBuZSBzb250IHBhcyBnYXJhbnRpcywgb24gcmlzcXVlXG4gICAgICAgICAgICAgICAgLy8gZCdvYnRlbmlyIGRlcyBlcnJldXJzIDQwMyBmb3JiaWRkZW4uLi5cbiAgICAgICAgICAgICAgICAvLyBsYSByZXNwb25zYWJpbGl0w6kgcmV2aWVudCDDoCBsJ3V0aWxpc2F0ZXVyIChtZXNzYWdlIGQnaW5mb3JtYXRpb24pLi4uXG5cbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybihcIldBUk5JTkcgOiBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwidGhlIGNvbnRyYWN0IGtleSBjb25maWd1cmF0aW9uIGhhcyBub3QgYmVlbiBsb2FkZWQsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJzbyBiZSBjYXJlZnVsbCAhXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gbGVzIHJlc3NvdWNlcyBub24gY29udHJvbMOpZXNcbiAgICAgICAgICAgICAgICB2YXIgX25vUmlnaHRNYW5hZ2VtZW50ID0ge307XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9zZXJ2aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmljZSA9IF9zZXJ2aWNlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgX25vUmlnaHRNYW5hZ2VtZW50W3NlcnZpY2VdID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfcmVzb3VyY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBfcmVzb3VyY2VzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX25vUmlnaHRNYW5hZ2VtZW50W3NlcnZpY2VdLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gb24gYWpvdXRlIGxhIGNsZWZcbiAgICAgICAgICAgICAgICBfbm9SaWdodE1hbmFnZW1lbnQua2V5ID0gX2tleTtcblxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJyaWdodCBtYW5hZ2VtZW50IG5vdCBjaGVja2VkXCIsIF9ub1JpZ2h0TWFuYWdlbWVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX25vUmlnaHRNYW5hZ2VtZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzaSBsJ2F1dG9jb25mIGVzdCBjaGFyZ8OpZSxcbiAgICAgICAgICAgICAgICAvLyBvbiB2ZXJpZmllIGxhIGNvcnJlc3BvbmRhbmNlIGVudHJlIGxhIGNsZWYgZXQgbCdhdXRvY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgICAgICAvLyBvbiBwcmV2aWVudCBsJ3V0aWxpc2F0ZXVyIChtZXNzYWdlIGQnaW5mb3JtYXRpb24pIHMnaWwgbidhXG4gICAgICAgICAgICAgICAgLy8gcGFzIGRlIGRyb2l0cyBzdXIgY2VydGFpbmVzIHJlc3NvdXJjZXMgLi4uXG5cbiAgICAgICAgICAgICAgICAvLyBkb2l0IG9uIGVjYXJ0ZXIgbGVzIHJlc3NvdXJjZXMgc2FucyBkcm9pdCA/XG4gICAgICAgICAgICAgICAgLy8gb3VpLCBzaSBwb3NzaWJsZSBhdmVjIHVuIG1lc3NhZ2UgZCdpbmZvcm1hdGlvbiBwb3VyIGwndXRpbGlzYXRldXIuLi5cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgX3Jlc291cmNlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3Jlc291cmNlID0gX3Jlc291cmNlc1trXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IF9zZXJ2aWNlcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9zZXJ2aWNlID0gX3NlcnZpY2VzW2xdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gQ29uZmlnLmdldFNlcnZpY2VQYXJhbXMoX3Jlc291cmNlLCBfc2VydmljZSwgX2tleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmFtcyB8fCBPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKFwiV0FSTklORyA6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUaGUgY29udHJhY3Qga2V5IGNvbmZpZ3VyYXRpb24gaGFzIG5vIHJpZ2h0cyB0byBsb2FkIHRoaXMgZ2VvcG9ydGFsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZSAoXCIgKyBfcmVzb3VyY2UgKyBcIikgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvciB0aGlzIHNlcnZpY2UgKFwiICsgX3NlcnZpY2UgKyBcIikgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9yaWdodE1hbmFnZW1lbnRbX3NlcnZpY2VdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JpZ2h0TWFuYWdlbWVudFtfc2VydmljZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX3JpZ2h0TWFuYWdlbWVudFtfc2VydmljZV0ucHVzaChfcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFfcmlnaHRNYW5hZ2VtZW50IHx8IE9iamVjdC5rZXlzKF9yaWdodE1hbmFnZW1lbnQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihcIldBUk5JTkcgOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSBjb250cmFjdCBrZXkgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBsb2FkZWQsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYW5kIHRoZSAnYXBpS2V5JyBwYXJhbWV0ZXIgaGFzIGJlZW4gc2V0LCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJ1dCwgdGhlcmUgaXMgYSBwcm9ibGVtIG9uIHRoZSBtYXBwaW5nIGJldHdlZW4gdGhlIGNvbnRyYWN0IGFuZCB0aGUga2V5ICFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBvbiBham91dGUgbGEgY2xlZlxuICAgICAgICAgICAgICAgIF9yaWdodE1hbmFnZW1lbnQua2V5ID0gX2tleTtcblxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJyaWdodCBtYW5hZ2VtZW50IGNoZWNrZWRcIiwgX3JpZ2h0TWFuYWdlbWVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3JpZ2h0TWFuYWdlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/Utils/CheckRightManagement.js\n");

/***/ }),

/***/ "./src/Common/Utils/ColorUtils.js":
/*!****************************************!*\
  !*** ./src/Common/Utils/ColorUtils.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n* @module ColorUtils\n* @alias Gp.ColorUtils\n* @description\n* ...\n*\n* @example\n* rgbaToHex();\n* hexToRgba();\n*/\nvar ColorUtils = {\n  /**\n   * Converts rgba String to #RRGGBBAA\n   * (Code adapted from : https://gist.github.com/mstssk/afda4ce9e5c335fd79cd)\n   *\n   * @param {String} rgba - A color of RGB or RGBA format.\n   * @returns {Object} hex and opacity formated values\n   */\n  rgbaToHex: function rgbaToHex(rgba) {\n    // number to hex conversion\n    function hex(number) {\n      if (number > 255) {\n        throw new Error(\"'\" + number + \"'' is greater than 255(0xff);\");\n      }\n\n      var str = Number(number).toString(16);\n      return (\"0\" + str).slice(-2);\n    }\n\n    var regex = /rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(0?.?\\d+)\\s*)?\\)/;\n    var parsed = regex.exec(rgba);\n\n    if (!parsed) {\n      throw new Error(\"Invalid format: \" + rgba);\n    }\n\n    var red = parsed[1];\n    var green = parsed[2];\n    var blue = parsed[3];\n    var alpha = parsed[4];\n    var elems = [hex(red), hex(green), hex(blue)];\n    var result = {};\n    result.hex = \"#\" + elems.join(\"\");\n\n    if (alpha) {\n      // elems.push(hex(alpha));\n      result.opacity = parseFloat(alpha);\n    }\n\n    return result;\n  },\n\n  /**\n   * Converts hex color and opacity value to rgba String.\n   * (Code adapted from : http://stackoverflow.com/a/5624139)\n   * @param {String} hex - A color value on RGB format (hexa).\n   * @param {Number} opacity - A opacity value.\n   * @returns {String} A color of RGB or RGBA format\n   */\n  hexToRgba: function hexToRgba(hex, opacity) {\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\n    if (!hex) {\n      throw new Error(\"Invalid format\");\n    }\n\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n      return r + r + g + g + b + b;\n    });\n    var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    rgb = rgb ? {\n      r: parseInt(rgb[1], 16),\n      g: parseInt(rgb[2], 16),\n      b: parseInt(rgb[3], 16)\n    } : null;\n    var result = rgb ? \"rgba(\" + rgb.r + \", \" + rgb.g + \", \" + rgb.b + \", \" + opacity + \")\" : null;\n    return result;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorUtils);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvQ29sb3JVdGlscy5qcz8zYjhkIl0sIm5hbWVzIjpbIkNvbG9yVXRpbHMiLCJyZ2JhVG9IZXgiLCJyZ2JhIiwiaGV4IiwibnVtYmVyIiwiRXJyb3IiLCJzdHIiLCJOdW1iZXIiLCJ0b1N0cmluZyIsInNsaWNlIiwicmVnZXgiLCJwYXJzZWQiLCJleGVjIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwiYWxwaGEiLCJlbGVtcyIsInJlc3VsdCIsImpvaW4iLCJvcGFjaXR5IiwicGFyc2VGbG9hdCIsImhleFRvUmdiYSIsInNob3J0aGFuZFJlZ2V4IiwicmVwbGFjZSIsIm0iLCJyIiwiZyIsImIiLCJyZ2IiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7Ozs7OztBQVVBLElBQUlBLFVBQVUsR0FBRztBQUNiOzs7Ozs7O0FBT0FDLFdBQVMsRUFBRyxtQkFBVUMsSUFBVixFQUFnQjtBQUN4QjtBQUNBLGFBQVNDLEdBQVQsQ0FBY0MsTUFBZCxFQUFzQjtBQUNsQixVQUFJQSxNQUFNLEdBQUcsR0FBYixFQUFrQjtBQUNkLGNBQU0sSUFBSUMsS0FBSixDQUFVLE1BQU1ELE1BQU4sR0FBZSwrQkFBekIsQ0FBTjtBQUNIOztBQUNELFVBQUlFLEdBQUcsR0FBR0MsTUFBTSxDQUFDSCxNQUFELENBQU4sQ0FBZUksUUFBZixDQUF3QixFQUF4QixDQUFWO0FBQ0EsYUFBTyxDQUFDLE1BQU1GLEdBQVAsRUFBWUcsS0FBWixDQUFrQixDQUFDLENBQW5CLENBQVA7QUFDSDs7QUFDRCxRQUFJQyxLQUFLLEdBQUcsbUVBQVo7QUFDQSxRQUFJQyxNQUFNLEdBQUdELEtBQUssQ0FBQ0UsSUFBTixDQUFXVixJQUFYLENBQWI7O0FBQ0EsUUFBSSxDQUFDUyxNQUFMLEVBQWE7QUFDVCxZQUFNLElBQUlOLEtBQUosQ0FBVSxxQkFBcUJILElBQS9CLENBQU47QUFDSDs7QUFDRCxRQUFJVyxHQUFHLEdBQUdGLE1BQU0sQ0FBQyxDQUFELENBQWhCO0FBQ0EsUUFBSUcsS0FBSyxHQUFHSCxNQUFNLENBQUMsQ0FBRCxDQUFsQjtBQUNBLFFBQUlJLElBQUksR0FBR0osTUFBTSxDQUFDLENBQUQsQ0FBakI7QUFDQSxRQUFJSyxLQUFLLEdBQUdMLE1BQU0sQ0FBQyxDQUFELENBQWxCO0FBQ0EsUUFBSU0sS0FBSyxHQUFHLENBQUNkLEdBQUcsQ0FBQ1UsR0FBRCxDQUFKLEVBQVdWLEdBQUcsQ0FBQ1csS0FBRCxDQUFkLEVBQXVCWCxHQUFHLENBQUNZLElBQUQsQ0FBMUIsQ0FBWjtBQUNBLFFBQUlHLE1BQU0sR0FBRyxFQUFiO0FBQ0FBLFVBQU0sQ0FBQ2YsR0FBUCxHQUFhLE1BQU1jLEtBQUssQ0FBQ0UsSUFBTixDQUFXLEVBQVgsQ0FBbkI7O0FBQ0EsUUFBSUgsS0FBSixFQUFXO0FBQ1A7QUFDQUUsWUFBTSxDQUFDRSxPQUFQLEdBQWlCQyxVQUFVLENBQUNMLEtBQUQsQ0FBM0I7QUFDSDs7QUFDRCxXQUFPRSxNQUFQO0FBQ0gsR0FsQ1k7O0FBb0NiOzs7Ozs7O0FBT0FJLFdBQVMsRUFBRyxtQkFBVW5CLEdBQVYsRUFBZWlCLE9BQWYsRUFBd0I7QUFDaEM7QUFDQSxRQUFJRyxjQUFjLEdBQUcsa0NBQXJCOztBQUNBLFFBQUksQ0FBQ3BCLEdBQUwsRUFBVTtBQUNOLFlBQU0sSUFBSUUsS0FBSixDQUFVLGdCQUFWLENBQU47QUFDSDs7QUFDREYsT0FBRyxHQUFHQSxHQUFHLENBQUNxQixPQUFKLENBQVlELGNBQVosRUFBNEIsVUFBVUUsQ0FBVixFQUFhQyxDQUFiLEVBQWdCQyxDQUFoQixFQUFtQkMsQ0FBbkIsRUFBc0I7QUFDcEQsYUFBT0YsQ0FBQyxHQUFHQSxDQUFKLEdBQVFDLENBQVIsR0FBWUEsQ0FBWixHQUFnQkMsQ0FBaEIsR0FBb0JBLENBQTNCO0FBQ0gsS0FGSyxDQUFOO0FBSUEsUUFBSUMsR0FBRyxHQUFHLDRDQUE0Q2pCLElBQTVDLENBQWlEVCxHQUFqRCxDQUFWO0FBQ0EwQixPQUFHLEdBQUdBLEdBQUcsR0FBRztBQUNSSCxPQUFDLEVBQUdJLFFBQVEsQ0FBQ0QsR0FBRyxDQUFDLENBQUQsQ0FBSixFQUFTLEVBQVQsQ0FESjtBQUVSRixPQUFDLEVBQUdHLFFBQVEsQ0FBQ0QsR0FBRyxDQUFDLENBQUQsQ0FBSixFQUFTLEVBQVQsQ0FGSjtBQUdSRCxPQUFDLEVBQUdFLFFBQVEsQ0FBQ0QsR0FBRyxDQUFDLENBQUQsQ0FBSixFQUFTLEVBQVQ7QUFISixLQUFILEdBSUwsSUFKSjtBQUtBLFFBQUlYLE1BQU0sR0FBR1csR0FBRyxHQUFHLFVBQVVBLEdBQUcsQ0FBQ0gsQ0FBZCxHQUFrQixJQUFsQixHQUF5QkcsR0FBRyxDQUFDRixDQUE3QixHQUFpQyxJQUFqQyxHQUF3Q0UsR0FBRyxDQUFDRCxDQUE1QyxHQUFnRCxJQUFoRCxHQUF1RFIsT0FBdkQsR0FBaUUsR0FBcEUsR0FBMEUsSUFBMUY7QUFDQSxXQUFPRixNQUFQO0FBQ0g7QUE3RFksQ0FBakI7QUFnRWVsQix5RUFBZiIsImZpbGUiOiIuL3NyYy9Db21tb24vVXRpbHMvQ29sb3JVdGlscy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBAbW9kdWxlIENvbG9yVXRpbHNcbiogQGFsaWFzIEdwLkNvbG9yVXRpbHNcbiogQGRlc2NyaXB0aW9uXG4qIC4uLlxuKlxuKiBAZXhhbXBsZVxuKiByZ2JhVG9IZXgoKTtcbiogaGV4VG9SZ2JhKCk7XG4qL1xudmFyIENvbG9yVXRpbHMgPSB7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgcmdiYSBTdHJpbmcgdG8gI1JSR0dCQkFBXG4gICAgICogKENvZGUgYWRhcHRlZCBmcm9tIDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbXN0c3NrL2FmZGE0Y2U5ZTVjMzM1ZmQ3OWNkKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJnYmEgLSBBIGNvbG9yIG9mIFJHQiBvciBSR0JBIGZvcm1hdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBoZXggYW5kIG9wYWNpdHkgZm9ybWF0ZWQgdmFsdWVzXG4gICAgICovXG4gICAgcmdiYVRvSGV4IDogZnVuY3Rpb24gKHJnYmEpIHtcbiAgICAgICAgLy8gbnVtYmVyIHRvIGhleCBjb252ZXJzaW9uXG4gICAgICAgIGZ1bmN0aW9uIGhleCAobnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAobnVtYmVyID4gMjU1KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ1wiICsgbnVtYmVyICsgXCInJyBpcyBncmVhdGVyIHRoYW4gMjU1KDB4ZmYpO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHIgPSBOdW1iZXIobnVtYmVyKS50b1N0cmluZygxNik7XG4gICAgICAgICAgICByZXR1cm4gKFwiMFwiICsgc3RyKS5zbGljZSgtMik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZ2V4ID0gL3JnYmE/XFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyooPzosXFxzKigwPy4/XFxkKylcXHMqKT9cXCkvO1xuICAgICAgICB2YXIgcGFyc2VkID0gcmVnZXguZXhlYyhyZ2JhKTtcbiAgICAgICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm9ybWF0OiBcIiArIHJnYmEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWQgPSBwYXJzZWRbMV07XG4gICAgICAgIHZhciBncmVlbiA9IHBhcnNlZFsyXTtcbiAgICAgICAgdmFyIGJsdWUgPSBwYXJzZWRbM107XG4gICAgICAgIHZhciBhbHBoYSA9IHBhcnNlZFs0XTtcbiAgICAgICAgdmFyIGVsZW1zID0gW2hleChyZWQpLCBoZXgoZ3JlZW4pLCBoZXgoYmx1ZSldO1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIHJlc3VsdC5oZXggPSBcIiNcIiArIGVsZW1zLmpvaW4oXCJcIik7XG4gICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgLy8gZWxlbXMucHVzaChoZXgoYWxwaGEpKTtcbiAgICAgICAgICAgIHJlc3VsdC5vcGFjaXR5ID0gcGFyc2VGbG9hdChhbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgaGV4IGNvbG9yIGFuZCBvcGFjaXR5IHZhbHVlIHRvIHJnYmEgU3RyaW5nLlxuICAgICAqIChDb2RlIGFkYXB0ZWQgZnJvbSA6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU2MjQxMzkpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGhleCAtIEEgY29sb3IgdmFsdWUgb24gUkdCIGZvcm1hdCAoaGV4YSkuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wYWNpdHkgLSBBIG9wYWNpdHkgdmFsdWUuXG4gICAgICogQHJldHVybnMge1N0cmluZ30gQSBjb2xvciBvZiBSR0Igb3IgUkdCQSBmb3JtYXRcbiAgICAgKi9cbiAgICBoZXhUb1JnYmEgOiBmdW5jdGlvbiAoaGV4LCBvcGFjaXR5KSB7XG4gICAgICAgIC8vIEV4cGFuZCBzaG9ydGhhbmQgZm9ybSAoZS5nLiBcIjAzRlwiKSB0byBmdWxsIGZvcm0gKGUuZy4gXCIwMDMzRkZcIilcbiAgICAgICAgdmFyIHNob3J0aGFuZFJlZ2V4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgICAgICAgaWYgKCFoZXgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm9ybWF0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGhleCA9IGhleC5yZXBsYWNlKHNob3J0aGFuZFJlZ2V4LCBmdW5jdGlvbiAobSwgciwgZywgYikge1xuICAgICAgICAgICAgcmV0dXJuIHIgKyByICsgZyArIGcgKyBiICsgYjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHJnYiA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICAgICAgICByZ2IgPSByZ2IgPyB7XG4gICAgICAgICAgICByIDogcGFyc2VJbnQocmdiWzFdLCAxNiksXG4gICAgICAgICAgICBnIDogcGFyc2VJbnQocmdiWzJdLCAxNiksXG4gICAgICAgICAgICBiIDogcGFyc2VJbnQocmdiWzNdLCAxNilcbiAgICAgICAgfSA6IG51bGw7XG4gICAgICAgIHZhciByZXN1bHQgPSByZ2IgPyBcInJnYmEoXCIgKyByZ2IuciArIFwiLCBcIiArIHJnYi5nICsgXCIsIFwiICsgcmdiLmIgKyBcIiwgXCIgKyBvcGFjaXR5ICsgXCIpXCIgOiBudWxsO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbG9yVXRpbHM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/Utils/ColorUtils.js\n");

/***/ }),

/***/ "./src/Common/Utils/Config.js":
/*!************************************!*\
  !*** ./src/Common/Utils/Config.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"config\");\nvar Config = {\n  /** autoconf */\n  configuration: null,\n\n  /**\n   * Controle du chargement de l'autoconf\n   *\n   * @returns {Boolean} isConfigLoaded - True si l'autoconf a déjà été chargée, False sinon.\n   */\n  isConfigLoaded: function isConfigLoaded() {\n    var scope = typeof window !== \"undefined\" ? window : typeof self !== \"undefined\" ? self : typeof global !== \"undefined\" ? global : {};\n\n    if (scope.Gp && scope.Gp.Config && Object.keys(scope.Gp.Config).length !== 0) {\n      this.configuration = scope.Gp.Config;\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\n   * Recuperation de l'identifiant d'une couche donnée\n   *\n   * @param {String} layerName - nom de la couche (par ex. \"ORTHOIMAGERY.ORTHOPHOTOS\")\n   * @param {String} service   - nom du service (par ex. \"WMS\" ou \"WMTS\")\n   * @returns {String} layerId - identifiant de la couche (par ex. \"ORTHOIMAGERY.ORTHOPHOTOS$GEOPORTAIL:OGC:WMTS\")\n   */\n  getLayerId: function getLayerId(layerName, service) {\n    var layerId = null; // layer\n    // key : [layerName]$[contexte]:OGC:[service]\n    // ex : \"ORTHOIMAGERY.ORTHOPHOTOS$GEOPORTAIL:OGC:WMTS\"\n    // service\n    // key : [layerName]$[contexte];[service]\n    // ex : PositionOfInterest$OGC:OPENLS;ReverseGeocode\n\n    if (this.configuration) {\n      var layers = this.configuration[\"layers\"];\n\n      for (var key in layers) {\n        if (layers.hasOwnProperty(key)) {\n          var parts = key.split(\"$\");\n\n          if (layerName === parts[0]) {\n            if (parts[1]) {\n              var servicePartsLayer = parts[1].split(\":\");\n              var servicePartsService = parts[1].split(\";\");\n\n              if (servicePartsService[1] === service) {\n                layerId = key;\n                break;\n              }\n\n              if (servicePartsLayer[2] === service) {\n                layerId = key;\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    if (!layerId) {\n      logger.error(\"ERROR layer id (layer name: \" + layerName + \" / service: \" + service + \") was not found !?\");\n    }\n\n    return layerId;\n  },\n\n  /**\n   * Récupération des paramètres nécessaires à l'affichage d'une couche WMS ou WMTS\n   *\n   * @param {String} layerName - nom de la couche (par ex. \"ORTHOIMAGERY.ORTHOPHOTOS\")\n   * @param {String} service   - nom du service (par ex. \"WMS\" ou \"WMTS\")\n   * @param {String} [apiKey]  - Clé de contrat API\n   * @returns {Object} params  - paramètres du service (WMS ou WMTS) pour la couche donnée\n   * @returns {String} params.url        - Url du service à requêter pour afficher la couche\n   * @returns {String} params.version    - Version du service\n   * @returns {String} params.styles     - Style par défaut de la couche\n   * @returns {String} params.format     - Format par défaut de la couche\n   * @returns {String} params.projection - Projection par défaut de la couche\n   * @returns {Number} params.minScale   - Dénominateur d'échelle minimum de la couche\n   * @returns {Number} params.maxScale   - Dénominateur d'échelle maximum de la couche\n   * @returns {Gp.BBox} params.extent    - Etendue de la couche, dans la projection de la couche\n   * @returns {Array} params.legends     - Tableau des légendes associées à la couche\n   * @returns {Array} params.metadata    - Tableau des métadonnées associées à la couche\n   * @returns {Array} params.originators - Tableau des originators associés à la couche\n   * @returns {Array} params.title       - Nom de la resource, lisible par un humain.\n   * @returns {Array} params.description - Url de l'image d'aperçu rapide de la ressource.\n   * @returns {Array} params.quicklookUrl- Tableau des originators associés à la couche\n   * @returns {String} params.[TMSLink]          - Identifiant de la pyramide (TMS), dans le cas d'une couche WMTS\n   * @returns {Gp.Point} params.[matrixOrigin]   - Origine de la matrice (top left corner), dans le cas d'une couche WMTS\n   * @returns {Array} params.[nativeResolutions] - Tableau regroupant les résolutions de chaque niveau de la matrice, dans le cas d'une couche WMTS\n   * @returns {Array} params.[matrixIds]         - Tableau regroupant les identifiants de chaque niveau de la matrice, dans le cas d'une couche WMTS\n   */\n  getLayerParams: function getLayerParams(layerName, service, apiKey) {\n    var params = {};\n\n    if (this.configuration) {\n      // récupération de l'identifiant complet de la couche.\n      var layerId = this.getLayerId(layerName, service);\n\n      if (layerId) {\n        // récupération de l'objet de configuration de la couche\n        var layerConf = this.configuration.layers[layerId]; // controle de la clef\n\n        var key = layerConf.apiKeys[0];\n\n        if (apiKey) {\n          if (apiKey !== key) {\n            logger.error(\"ERROR different keys (\" + apiKey + \" !== \" + key + \") !?\");\n            return;\n          }\n        }\n\n        apiKey = apiKey || key;\n        params.key = apiKey; // récupération des paramètres du service\n\n        params.url = layerConf.getServerUrl(apiKey);\n        params.version = layerConf.getServiceParams().version;\n        params.styles = layerConf.getDefaultStyle();\n        params.format = layerConf.getDefaultFormat();\n        params.projection = layerConf.getDefaultProjection(); // récupération des infos de la couche\n\n        params.minScale = layerConf.getMinScaleDenominator();\n        params.maxScale = layerConf.getMaxScaleDenominator();\n        params.extent = layerConf.getBBOX();\n        params.legends = layerConf.getLegends();\n        params.metadata = layerConf.getMetadata();\n        params.originators = layerConf.getOriginators();\n        params.title = layerConf.getTitle();\n        params.description = layerConf.getDescription();\n        params.quicklookUrl = layerConf.getQuicklookUrl(); // WMTS : récupération des tileMatrixSetLimits\n\n        if (layerConf.wmtsOptions) {\n          params.tileMatrixSetLimits = layerConf.wmtsOptions.tileMatrixSetLimits;\n        } // WMTS : récupération des paramètres de la pyramide (TMS)\n\n\n        var TMSLink = layerConf.getTMSID();\n\n        if (TMSLink) {\n          params.TMSLink = TMSLink;\n          var tmsConf = this.configuration.getTMSConf(TMSLink); // Get matrix origin : Gp.Point = Object{x:Float, y:Float}\n\n          params.matrixOrigin = tmsConf.getTopLeftCorner();\n          params.nativeResolutions = tmsConf.nativeResolutions;\n          params.matrixIds = tmsConf.matrixIds;\n          params.tileMatrices = tmsConf.tileMatrices;\n        }\n      }\n    }\n\n    return params;\n  },\n\n  /**\n   * Recuperation des parametres d'un service\n   *\n   * @param {String} [resource] - \"PositionOfInterest\", \"StreetAddress\", \"Voiture\", \"Pieton\", ...\n   * @param {String} [service] - Geocode, Itineraire, ...\n   * @param {String} [apiKey]  - Clé de contrat API\n   * @returns {Object} params - paramètres de la ressource\n   * @returns {String} params. -\n   * @returns {String} params. -\n   * @returns {String} params. -\n   */\n  getServiceParams: function getServiceParams(resource, service, apiKey) {\n    var params = {};\n\n    if (this.configuration) {\n      // récupération de l'identifiant complet de la couche.\n      var layerId = this.getLayerId(resource, service);\n\n      if (layerId) {\n        // récupération de l'objet de configuration de la couche\n        var layerConf = this.configuration.layers[layerId]; // controle de la clef\n\n        var key = layerConf.apiKeys[0];\n\n        if (apiKey) {\n          if (apiKey !== key) {\n            return;\n          }\n        }\n\n        apiKey = apiKey || key;\n        params.key = apiKey; // récupération des paramètres du service\n\n        params.url = layerConf.getServerUrl(apiKey);\n        params.version = layerConf.getServiceParams().version; // récupération des infos de la couche\n\n        params.extent = layerConf.getBBOX();\n        params.title = layerConf.getTitle();\n        params.description = layerConf.getDescription();\n      }\n    }\n\n    return params;\n  },\n\n  /**\n   * Resolution en geographique\n   *\n   * @returns {Array} resolutions\n   */\n  getResolutions: function getResolutions() {\n    var resolutions = [];\n\n    if (this.configuration) {\n      resolutions = this.configuration[\"generalOptions\"][\"wgs84Resolutions\"];\n    }\n\n    return resolutions;\n  },\n\n  /**\n   * Recuperation des parametres TMS de la configuration\n   * @param {String} tmsName - tile matrix set name\n   *\n   * @returns {Object} tile matrix set\n   */\n  getTileMatrix: function getTileMatrix(tmsName) {\n    var tms = {};\n\n    if (this.configuration) {\n      if (tmsName) {\n        tms = this.configuration[\"tileMatrixSets\"][tmsName.toUpperCase()];\n      }\n    }\n\n    return tms;\n  },\n\n  /**\n   * Récupération des contraintes générales d'une couche donnée : extent, minScale, maxScale, projection\n   *\n   * @param {String} layerId - identifiant de la couche\n   * @returns {Object} params - contraintes de la couche\n   * @returns {String} params.projection - Projection par défaut de la couche\n   * @returns {Number} params.minScale   - Dénominateur d'échelle minimum de la couche\n   * @returns {Number} params.maxScale   - Dénominateur d'échelle maximum de la couche\n   * @returns {Gp.BBox} params.extent    - Etendue de la couche, dans la projection de la couche\n   */\n  getGlobalConstraints: function getGlobalConstraints(layerId) {\n    var params = {};\n\n    if (layerId) {\n      // récupération de l'objet de configuration de la couche\n      var layerConf = this.configuration.layers[layerId];\n      params.projection = layerConf.getDefaultProjection();\n      params.minScale = layerConf.getMinScaleDenominator();\n      params.maxScale = layerConf.getMaxScaleDenominator();\n      params.extent = layerConf.getBBOX();\n    }\n\n    return params;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Config);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvQ29uZmlnLmpzPzdmOTUiXSwibmFtZXMiOlsibG9nZ2VyIiwiTG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiQ29uZmlnIiwiY29uZmlndXJhdGlvbiIsImlzQ29uZmlnTG9hZGVkIiwic2NvcGUiLCJ3aW5kb3ciLCJzZWxmIiwiZ2xvYmFsIiwiR3AiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiZ2V0TGF5ZXJJZCIsImxheWVyTmFtZSIsInNlcnZpY2UiLCJsYXllcklkIiwibGF5ZXJzIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJwYXJ0cyIsInNwbGl0Iiwic2VydmljZVBhcnRzTGF5ZXIiLCJzZXJ2aWNlUGFydHNTZXJ2aWNlIiwiZXJyb3IiLCJnZXRMYXllclBhcmFtcyIsImFwaUtleSIsInBhcmFtcyIsImxheWVyQ29uZiIsImFwaUtleXMiLCJ1cmwiLCJnZXRTZXJ2ZXJVcmwiLCJ2ZXJzaW9uIiwiZ2V0U2VydmljZVBhcmFtcyIsInN0eWxlcyIsImdldERlZmF1bHRTdHlsZSIsImZvcm1hdCIsImdldERlZmF1bHRGb3JtYXQiLCJwcm9qZWN0aW9uIiwiZ2V0RGVmYXVsdFByb2plY3Rpb24iLCJtaW5TY2FsZSIsImdldE1pblNjYWxlRGVub21pbmF0b3IiLCJtYXhTY2FsZSIsImdldE1heFNjYWxlRGVub21pbmF0b3IiLCJleHRlbnQiLCJnZXRCQk9YIiwibGVnZW5kcyIsImdldExlZ2VuZHMiLCJtZXRhZGF0YSIsImdldE1ldGFkYXRhIiwib3JpZ2luYXRvcnMiLCJnZXRPcmlnaW5hdG9ycyIsInRpdGxlIiwiZ2V0VGl0bGUiLCJkZXNjcmlwdGlvbiIsImdldERlc2NyaXB0aW9uIiwicXVpY2tsb29rVXJsIiwiZ2V0UXVpY2tsb29rVXJsIiwid210c09wdGlvbnMiLCJ0aWxlTWF0cml4U2V0TGltaXRzIiwiVE1TTGluayIsImdldFRNU0lEIiwidG1zQ29uZiIsImdldFRNU0NvbmYiLCJtYXRyaXhPcmlnaW4iLCJnZXRUb3BMZWZ0Q29ybmVyIiwibmF0aXZlUmVzb2x1dGlvbnMiLCJtYXRyaXhJZHMiLCJ0aWxlTWF0cmljZXMiLCJyZXNvdXJjZSIsImdldFJlc29sdXRpb25zIiwicmVzb2x1dGlvbnMiLCJnZXRUaWxlTWF0cml4IiwidG1zTmFtZSIsInRtcyIsInRvVXBwZXJDYXNlIiwiZ2V0R2xvYmFsQ29uc3RyYWludHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLElBQUlBLE1BQU0sR0FBR0MscUVBQU0sQ0FBQ0MsU0FBUCxDQUFpQixRQUFqQixDQUFiO0FBRUEsSUFBSUMsTUFBTSxHQUFHO0FBRVQ7QUFDQUMsZUFBYSxFQUFHLElBSFA7O0FBS1Q7Ozs7O0FBS0FDLGdCQUFjLEVBQUcsMEJBQVk7QUFDekIsUUFBSUMsS0FBSyxHQUFHLE9BQU9DLE1BQVAsS0FBa0IsV0FBbEIsR0FBZ0NBLE1BQWhDLEdBQXlDLE9BQU9DLElBQVAsS0FBZ0IsV0FBaEIsR0FBOEJBLElBQTlCLEdBQXFDLE9BQU9DLE1BQVAsS0FBa0IsV0FBbEIsR0FBZ0NBLE1BQWhDLEdBQXlDLEVBQW5JOztBQUNBLFFBQUlILEtBQUssQ0FBQ0ksRUFBTixJQUFZSixLQUFLLENBQUNJLEVBQU4sQ0FBU1AsTUFBckIsSUFBK0JRLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZTixLQUFLLENBQUNJLEVBQU4sQ0FBU1AsTUFBckIsRUFBNkJVLE1BQTdCLEtBQXdDLENBQTNFLEVBQThFO0FBQzFFLFdBQUtULGFBQUwsR0FBcUJFLEtBQUssQ0FBQ0ksRUFBTixDQUFTUCxNQUE5QjtBQUNBLGFBQU8sSUFBUDtBQUNIOztBQUNELFdBQU8sS0FBUDtBQUNILEdBakJROztBQW1CVDs7Ozs7OztBQU9BVyxZQUFVLEVBQUcsb0JBQVVDLFNBQVYsRUFBcUJDLE9BQXJCLEVBQThCO0FBQ3ZDLFFBQUlDLE9BQU8sR0FBRyxJQUFkLENBRHVDLENBR3ZDO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQSxRQUFJLEtBQUtiLGFBQVQsRUFB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bXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbnZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiY29uZmlnXCIpO1xuXG52YXIgQ29uZmlnID0ge1xuXG4gICAgLyoqIGF1dG9jb25mICovXG4gICAgY29uZmlndXJhdGlvbiA6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb250cm9sZSBkdSBjaGFyZ2VtZW50IGRlIGwnYXV0b2NvbmZcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBpc0NvbmZpZ0xvYWRlZCAtIFRydWUgc2kgbCdhdXRvY29uZiBhIGTDqWrDoCDDqXTDqSBjaGFyZ8OpZSwgRmFsc2Ugc2lub24uXG4gICAgICovXG4gICAgaXNDb25maWdMb2FkZWQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDoge307XG4gICAgICAgIGlmIChzY29wZS5HcCAmJiBzY29wZS5HcC5Db25maWcgJiYgT2JqZWN0LmtleXMoc2NvcGUuR3AuQ29uZmlnKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IHNjb3BlLkdwLkNvbmZpZztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVjdXBlcmF0aW9uIGRlIGwnaWRlbnRpZmlhbnQgZCd1bmUgY291Y2hlIGRvbm7DqWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsYXllck5hbWUgLSBub20gZGUgbGEgY291Y2hlIChwYXIgZXguIFwiT1JUSE9JTUFHRVJZLk9SVEhPUEhPVE9TXCIpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNlcnZpY2UgICAtIG5vbSBkdSBzZXJ2aWNlIChwYXIgZXguIFwiV01TXCIgb3UgXCJXTVRTXCIpXG4gICAgICogQHJldHVybnMge1N0cmluZ30gbGF5ZXJJZCAtIGlkZW50aWZpYW50IGRlIGxhIGNvdWNoZSAocGFyIGV4LiBcIk9SVEhPSU1BR0VSWS5PUlRIT1BIT1RPUyRHRU9QT1JUQUlMOk9HQzpXTVRTXCIpXG4gICAgICovXG4gICAgZ2V0TGF5ZXJJZCA6IGZ1bmN0aW9uIChsYXllck5hbWUsIHNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGxheWVySWQgPSBudWxsO1xuXG4gICAgICAgIC8vIGxheWVyXG4gICAgICAgIC8vIGtleSA6IFtsYXllck5hbWVdJFtjb250ZXh0ZV06T0dDOltzZXJ2aWNlXVxuICAgICAgICAvLyBleCA6IFwiT1JUSE9JTUFHRVJZLk9SVEhPUEhPVE9TJEdFT1BPUlRBSUw6T0dDOldNVFNcIlxuXG4gICAgICAgIC8vIHNlcnZpY2VcbiAgICAgICAgLy8ga2V5IDogW2xheWVyTmFtZV0kW2NvbnRleHRlXTtbc2VydmljZV1cbiAgICAgICAgLy8gZXggOiBQb3NpdGlvbk9mSW50ZXJlc3QkT0dDOk9QRU5MUztSZXZlcnNlR2VvY29kZVxuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmNvbmZpZ3VyYXRpb25bXCJsYXllcnNcIl07XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGtleS5zcGxpdChcIiRcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXllck5hbWUgPT09IHBhcnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmljZVBhcnRzTGF5ZXIgPSBwYXJ0c1sxXS5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VQYXJ0c1NlcnZpY2UgPSBwYXJ0c1sxXS5zcGxpdChcIjtcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljZVBhcnRzU2VydmljZVsxXSA9PT0gc2VydmljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkID0ga2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VQYXJ0c0xheWVyWzJdID09PSBzZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVySWQgPSBrZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxheWVySWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkVSUk9SIGxheWVyIGlkIChsYXllciBuYW1lOiBcIiArIGxheWVyTmFtZSArIFwiIC8gc2VydmljZTogXCIgKyBzZXJ2aWNlICsgXCIpIHdhcyBub3QgZm91bmQgIT9cIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGF5ZXJJZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUsOpY3Vww6lyYXRpb24gZGVzIHBhcmFtw6h0cmVzIG7DqWNlc3NhaXJlcyDDoCBsJ2FmZmljaGFnZSBkJ3VuZSBjb3VjaGUgV01TIG91IFdNVFNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsYXllck5hbWUgLSBub20gZGUgbGEgY291Y2hlIChwYXIgZXguIFwiT1JUSE9JTUFHRVJZLk9SVEhPUEhPVE9TXCIpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNlcnZpY2UgICAtIG5vbSBkdSBzZXJ2aWNlIChwYXIgZXguIFwiV01TXCIgb3UgXCJXTVRTXCIpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFthcGlLZXldICAtIENsw6kgZGUgY29udHJhdCBBUElcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBwYXJhbXMgIC0gcGFyYW3DqHRyZXMgZHUgc2VydmljZSAoV01TIG91IFdNVFMpIHBvdXIgbGEgY291Y2hlIGRvbm7DqWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBwYXJhbXMudXJsICAgICAgICAtIFVybCBkdSBzZXJ2aWNlIMOgIHJlcXXDqnRlciBwb3VyIGFmZmljaGVyIGxhIGNvdWNoZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHBhcmFtcy52ZXJzaW9uICAgIC0gVmVyc2lvbiBkdSBzZXJ2aWNlXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcGFyYW1zLnN0eWxlcyAgICAgLSBTdHlsZSBwYXIgZMOpZmF1dCBkZSBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBwYXJhbXMuZm9ybWF0ICAgICAtIEZvcm1hdCBwYXIgZMOpZmF1dCBkZSBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBwYXJhbXMucHJvamVjdGlvbiAtIFByb2plY3Rpb24gcGFyIGTDqWZhdXQgZGUgbGEgY291Y2hlXG4gICAgICogQHJldHVybnMge051bWJlcn0gcGFyYW1zLm1pblNjYWxlICAgLSBEw6lub21pbmF0ZXVyIGQnw6ljaGVsbGUgbWluaW11bSBkZSBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBwYXJhbXMubWF4U2NhbGUgICAtIETDqW5vbWluYXRldXIgZCfDqWNoZWxsZSBtYXhpbXVtIGRlIGxhIGNvdWNoZVxuICAgICAqIEByZXR1cm5zIHtHcC5CQm94fSBwYXJhbXMuZXh0ZW50ICAgIC0gRXRlbmR1ZSBkZSBsYSBjb3VjaGUsIGRhbnMgbGEgcHJvamVjdGlvbiBkZSBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IHBhcmFtcy5sZWdlbmRzICAgICAtIFRhYmxlYXUgZGVzIGzDqWdlbmRlcyBhc3NvY2nDqWVzIMOgIGxhIGNvdWNoZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gcGFyYW1zLm1ldGFkYXRhICAgIC0gVGFibGVhdSBkZXMgbcOpdGFkb25uw6llcyBhc3NvY2nDqWVzIMOgIGxhIGNvdWNoZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gcGFyYW1zLm9yaWdpbmF0b3JzIC0gVGFibGVhdSBkZXMgb3JpZ2luYXRvcnMgYXNzb2Npw6lzIMOgIGxhIGNvdWNoZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gcGFyYW1zLnRpdGxlICAgICAgIC0gTm9tIGRlIGxhIHJlc291cmNlLCBsaXNpYmxlIHBhciB1biBodW1haW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBwYXJhbXMuZGVzY3JpcHRpb24gLSBVcmwgZGUgbCdpbWFnZSBkJ2FwZXLDp3UgcmFwaWRlIGRlIGxhIHJlc3NvdXJjZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IHBhcmFtcy5xdWlja2xvb2tVcmwtIFRhYmxlYXUgZGVzIG9yaWdpbmF0b3JzIGFzc29jacOpcyDDoCBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBwYXJhbXMuW1RNU0xpbmtdICAgICAgICAgIC0gSWRlbnRpZmlhbnQgZGUgbGEgcHlyYW1pZGUgKFRNUyksIGRhbnMgbGUgY2FzIGQndW5lIGNvdWNoZSBXTVRTXG4gICAgICogQHJldHVybnMge0dwLlBvaW50fSBwYXJhbXMuW21hdHJpeE9yaWdpbl0gICAtIE9yaWdpbmUgZGUgbGEgbWF0cmljZSAodG9wIGxlZnQgY29ybmVyKSwgZGFucyBsZSBjYXMgZCd1bmUgY291Y2hlIFdNVFNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IHBhcmFtcy5bbmF0aXZlUmVzb2x1dGlvbnNdIC0gVGFibGVhdSByZWdyb3VwYW50IGxlcyByw6lzb2x1dGlvbnMgZGUgY2hhcXVlIG5pdmVhdSBkZSBsYSBtYXRyaWNlLCBkYW5zIGxlIGNhcyBkJ3VuZSBjb3VjaGUgV01UU1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gcGFyYW1zLlttYXRyaXhJZHNdICAgICAgICAgLSBUYWJsZWF1IHJlZ3JvdXBhbnQgbGVzIGlkZW50aWZpYW50cyBkZSBjaGFxdWUgbml2ZWF1IGRlIGxhIG1hdHJpY2UsIGRhbnMgbGUgY2FzIGQndW5lIGNvdWNoZSBXTVRTXG4gICAgICovXG4gICAgZ2V0TGF5ZXJQYXJhbXMgOiBmdW5jdGlvbiAobGF5ZXJOYW1lLCBzZXJ2aWNlLCBhcGlLZXkpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIC8vIHLDqWN1cMOpcmF0aW9uIGRlIGwnaWRlbnRpZmlhbnQgY29tcGxldCBkZSBsYSBjb3VjaGUuXG4gICAgICAgICAgICB2YXIgbGF5ZXJJZCA9IHRoaXMuZ2V0TGF5ZXJJZChsYXllck5hbWUsIHNlcnZpY2UpO1xuXG4gICAgICAgICAgICBpZiAobGF5ZXJJZCkge1xuICAgICAgICAgICAgICAgIC8vIHLDqWN1cMOpcmF0aW9uIGRlIGwnb2JqZXQgZGUgY29uZmlndXJhdGlvbiBkZSBsYSBjb3VjaGVcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJDb25mID0gdGhpcy5jb25maWd1cmF0aW9uLmxheWVyc1tsYXllcklkXTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xlIGRlIGxhIGNsZWZcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbGF5ZXJDb25mLmFwaUtleXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBpS2V5ICE9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkVSUk9SIGRpZmZlcmVudCBrZXlzIChcIiArIGFwaUtleSArIFwiICE9PSBcIiArIGtleSArIFwiKSAhP1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFwaUtleSA9IGFwaUtleSB8fCBrZXk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmtleSA9IGFwaUtleTtcbiAgICAgICAgICAgICAgICAvLyByw6ljdXDDqXJhdGlvbiBkZXMgcGFyYW3DqHRyZXMgZHUgc2VydmljZVxuICAgICAgICAgICAgICAgIHBhcmFtcy51cmwgPSBsYXllckNvbmYuZ2V0U2VydmVyVXJsKGFwaUtleSk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnZlcnNpb24gPSBsYXllckNvbmYuZ2V0U2VydmljZVBhcmFtcygpLnZlcnNpb247XG4gICAgICAgICAgICAgICAgcGFyYW1zLnN0eWxlcyA9IGxheWVyQ29uZi5nZXREZWZhdWx0U3R5bGUoKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZm9ybWF0ID0gbGF5ZXJDb25mLmdldERlZmF1bHRGb3JtYXQoKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMucHJvamVjdGlvbiA9IGxheWVyQ29uZi5nZXREZWZhdWx0UHJvamVjdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgLy8gcsOpY3Vww6lyYXRpb24gZGVzIGluZm9zIGRlIGxhIGNvdWNoZVxuICAgICAgICAgICAgICAgIHBhcmFtcy5taW5TY2FsZSA9IGxheWVyQ29uZi5nZXRNaW5TY2FsZURlbm9taW5hdG9yKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm1heFNjYWxlID0gbGF5ZXJDb25mLmdldE1heFNjYWxlRGVub21pbmF0b3IoKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZXh0ZW50ID0gbGF5ZXJDb25mLmdldEJCT1goKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMubGVnZW5kcyA9IGxheWVyQ29uZi5nZXRMZWdlbmRzKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm1ldGFkYXRhID0gbGF5ZXJDb25mLmdldE1ldGFkYXRhKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm9yaWdpbmF0b3JzID0gbGF5ZXJDb25mLmdldE9yaWdpbmF0b3JzKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnRpdGxlID0gbGF5ZXJDb25mLmdldFRpdGxlKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmRlc2NyaXB0aW9uID0gbGF5ZXJDb25mLmdldERlc2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnF1aWNrbG9va1VybCA9IGxheWVyQ29uZi5nZXRRdWlja2xvb2tVcmwoKTtcblxuICAgICAgICAgICAgICAgIC8vIFdNVFMgOiByw6ljdXDDqXJhdGlvbiBkZXMgdGlsZU1hdHJpeFNldExpbWl0c1xuICAgICAgICAgICAgICAgIGlmIChsYXllckNvbmYud210c09wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnRpbGVNYXRyaXhTZXRMaW1pdHMgPSBsYXllckNvbmYud210c09wdGlvbnMudGlsZU1hdHJpeFNldExpbWl0cztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBXTVRTIDogcsOpY3Vww6lyYXRpb24gZGVzIHBhcmFtw6h0cmVzIGRlIGxhIHB5cmFtaWRlIChUTVMpXG4gICAgICAgICAgICAgICAgdmFyIFRNU0xpbmsgPSBsYXllckNvbmYuZ2V0VE1TSUQoKTtcbiAgICAgICAgICAgICAgICBpZiAoVE1TTGluaykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuVE1TTGluayA9IFRNU0xpbms7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXNDb25mID0gdGhpcy5jb25maWd1cmF0aW9uLmdldFRNU0NvbmYoVE1TTGluayk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBtYXRyaXggb3JpZ2luIDogR3AuUG9pbnQgPSBPYmplY3R7eDpGbG9hdCwgeTpGbG9hdH1cbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLm1hdHJpeE9yaWdpbiA9IHRtc0NvbmYuZ2V0VG9wTGVmdENvcm5lcigpO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMubmF0aXZlUmVzb2x1dGlvbnMgPSB0bXNDb25mLm5hdGl2ZVJlc29sdXRpb25zO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMubWF0cml4SWRzID0gdG1zQ29uZi5tYXRyaXhJZHM7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy50aWxlTWF0cmljZXMgPSB0bXNDb25mLnRpbGVNYXRyaWNlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZWN1cGVyYXRpb24gZGVzIHBhcmFtZXRyZXMgZCd1biBzZXJ2aWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Jlc291cmNlXSAtIFwiUG9zaXRpb25PZkludGVyZXN0XCIsIFwiU3RyZWV0QWRkcmVzc1wiLCBcIlZvaXR1cmVcIiwgXCJQaWV0b25cIiwgLi4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtzZXJ2aWNlXSAtIEdlb2NvZGUsIEl0aW5lcmFpcmUsIC4uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbYXBpS2V5XSAgLSBDbMOpIGRlIGNvbnRyYXQgQVBJXG4gICAgICogQHJldHVybnMge09iamVjdH0gcGFyYW1zIC0gcGFyYW3DqHRyZXMgZGUgbGEgcmVzc291cmNlXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcGFyYW1zLiAtXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcGFyYW1zLiAtXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcGFyYW1zLiAtXG4gICAgICovXG4gICAgZ2V0U2VydmljZVBhcmFtcyA6IGZ1bmN0aW9uIChyZXNvdXJjZSwgc2VydmljZSwgYXBpS2V5KSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAvLyByw6ljdXDDqXJhdGlvbiBkZSBsJ2lkZW50aWZpYW50IGNvbXBsZXQgZGUgbGEgY291Y2hlLlxuICAgICAgICAgICAgdmFyIGxheWVySWQgPSB0aGlzLmdldExheWVySWQocmVzb3VyY2UsIHNlcnZpY2UpO1xuXG4gICAgICAgICAgICBpZiAobGF5ZXJJZCkge1xuICAgICAgICAgICAgICAgIC8vIHLDqWN1cMOpcmF0aW9uIGRlIGwnb2JqZXQgZGUgY29uZmlndXJhdGlvbiBkZSBsYSBjb3VjaGVcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJDb25mID0gdGhpcy5jb25maWd1cmF0aW9uLmxheWVyc1tsYXllcklkXTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xlIGRlIGxhIGNsZWZcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbGF5ZXJDb25mLmFwaUtleXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBpS2V5ICE9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFwaUtleSA9IGFwaUtleSB8fCBrZXk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmtleSA9IGFwaUtleTtcbiAgICAgICAgICAgICAgICAvLyByw6ljdXDDqXJhdGlvbiBkZXMgcGFyYW3DqHRyZXMgZHUgc2VydmljZVxuICAgICAgICAgICAgICAgIHBhcmFtcy51cmwgPSBsYXllckNvbmYuZ2V0U2VydmVyVXJsKGFwaUtleSk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnZlcnNpb24gPSBsYXllckNvbmYuZ2V0U2VydmljZVBhcmFtcygpLnZlcnNpb247XG5cbiAgICAgICAgICAgICAgICAvLyByw6ljdXDDqXJhdGlvbiBkZXMgaW5mb3MgZGUgbGEgY291Y2hlXG4gICAgICAgICAgICAgICAgcGFyYW1zLmV4dGVudCA9IGxheWVyQ29uZi5nZXRCQk9YKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnRpdGxlID0gbGF5ZXJDb25mLmdldFRpdGxlKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmRlc2NyaXB0aW9uID0gbGF5ZXJDb25mLmdldERlc2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHV0aW9uIGVuIGdlb2dyYXBoaXF1ZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5fSByZXNvbHV0aW9uc1xuICAgICAqL1xuICAgIGdldFJlc29sdXRpb25zIDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbnMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICByZXNvbHV0aW9ucyA9IHRoaXMuY29uZmlndXJhdGlvbltcImdlbmVyYWxPcHRpb25zXCJdW1wid2dzODRSZXNvbHV0aW9uc1wiXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNvbHV0aW9ucztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVjdXBlcmF0aW9uIGRlcyBwYXJhbWV0cmVzIFRNUyBkZSBsYSBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRtc05hbWUgLSB0aWxlIG1hdHJpeCBzZXQgbmFtZVxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gdGlsZSBtYXRyaXggc2V0XG4gICAgICovXG4gICAgZ2V0VGlsZU1hdHJpeCA6IGZ1bmN0aW9uICh0bXNOYW1lKSB7XG4gICAgICAgIHZhciB0bXMgPSB7fTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICBpZiAodG1zTmFtZSkge1xuICAgICAgICAgICAgICAgIHRtcyA9IHRoaXMuY29uZmlndXJhdGlvbltcInRpbGVNYXRyaXhTZXRzXCJdW3Rtc05hbWUudG9VcHBlckNhc2UoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG1zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSw6ljdXDDqXJhdGlvbiBkZXMgY29udHJhaW50ZXMgZ8OpbsOpcmFsZXMgZCd1bmUgY291Y2hlIGRvbm7DqWUgOiBleHRlbnQsIG1pblNjYWxlLCBtYXhTY2FsZSwgcHJvamVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGxheWVySWQgLSBpZGVudGlmaWFudCBkZSBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBwYXJhbXMgLSBjb250cmFpbnRlcyBkZSBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBwYXJhbXMucHJvamVjdGlvbiAtIFByb2plY3Rpb24gcGFyIGTDqWZhdXQgZGUgbGEgY291Y2hlXG4gICAgICogQHJldHVybnMge051bWJlcn0gcGFyYW1zLm1pblNjYWxlICAgLSBEw6lub21pbmF0ZXVyIGQnw6ljaGVsbGUgbWluaW11bSBkZSBsYSBjb3VjaGVcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBwYXJhbXMubWF4U2NhbGUgICAtIETDqW5vbWluYXRldXIgZCfDqWNoZWxsZSBtYXhpbXVtIGRlIGxhIGNvdWNoZVxuICAgICAqIEByZXR1cm5zIHtHcC5CQm94fSBwYXJhbXMuZXh0ZW50ICAgIC0gRXRlbmR1ZSBkZSBsYSBjb3VjaGUsIGRhbnMgbGEgcHJvamVjdGlvbiBkZSBsYSBjb3VjaGVcbiAgICAgKi9cbiAgICBnZXRHbG9iYWxDb25zdHJhaW50cyA6IGZ1bmN0aW9uIChsYXllcklkKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgICAgICBpZiAobGF5ZXJJZCkge1xuICAgICAgICAgICAgLy8gcsOpY3Vww6lyYXRpb24gZGUgbCdvYmpldCBkZSBjb25maWd1cmF0aW9uIGRlIGxhIGNvdWNoZVxuICAgICAgICAgICAgdmFyIGxheWVyQ29uZiA9IHRoaXMuY29uZmlndXJhdGlvbi5sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICBwYXJhbXMucHJvamVjdGlvbiA9IGxheWVyQ29uZi5nZXREZWZhdWx0UHJvamVjdGlvbigpO1xuICAgICAgICAgICAgcGFyYW1zLm1pblNjYWxlID0gbGF5ZXJDb25mLmdldE1pblNjYWxlRGVub21pbmF0b3IoKTtcbiAgICAgICAgICAgIHBhcmFtcy5tYXhTY2FsZSA9IGxheWVyQ29uZi5nZXRNYXhTY2FsZURlbm9taW5hdG9yKCk7XG4gICAgICAgICAgICBwYXJhbXMuZXh0ZW50ID0gbGF5ZXJDb25mLmdldEJCT1goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Utils/Config.js\n");

/***/ }),

/***/ "./src/Common/Utils/LayerUtils.js":
/*!****************************************!*\
  !*** ./src/Common/Utils/LayerUtils.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n* @module LayerUtils\n* @alias Gp.LayerUtils\n* @description\n* ...\n*\n* @example\n* getZoomLevelFromScaleDenominator();\n* getAttributions();\n* intersects();\n*/\nvar LayerUtils = {\n  /**\n   * Obtenir le ZoomLevel à partir du ScaleDenominator\n   * @param {Number} scaleDenominator - the scale denominator\n   * @param {String} crs - the crs\n   *\n   * @returns {Integer} zoom level\n   */\n  getZoomLevelFromScaleDenominator: function getZoomLevelFromScaleDenominator(scaleDenominator, crs) {\n    // ------------------------------------------------- //\n    // Code issu de l'API Geoportal/Catalogue/Config.js  //\n    // ------------------------------------------------- //\n    //     var configuration = Gp.Config;\n    //     var general = configuration.generalOptions;\n    //     var layers  = configuration.layersContext;\n    //\n    //     for (var tms in general.tileMatrixSets) {\n    //         var tileMatrixSet = general.tileMatrixSets[tms];\n    //         // IGN's WMTS bug : epsg:nnnn instead of EPSG:nnnn\n    //         var crs = tileMatrixSet.supportedCRS = tileMatrixSet.supportedCRS.replace(/epsg/,\"EPSG\");\n    //\n    //         if (!Geoportal.Catalogue.CRSRESOLUTIONS.hasOwnProperty(crs)) {\n    //             var p= new OpenLayers.Projection(crs);\n    //             Geoportal.Catalogue.CRSRESOLUTIONS[crs]= [];\n    //             var matrixIds= tileMatrixSet.matrixIds;\n    //             for (var i= 0, li= matrixIds.length; i<li; ++i) {\n    //                 var mid= matrixIds[i];\n    //                 Geoportal.Catalogue.CRSRESOLUTIONS[crs].push(\n    //                     0.00028*mid.scaleDenominator\n    //                     /(OpenLayers.METERS_PER_INCH*OpenLayers.INCHES_PER_UNIT[p.getUnits()]));\n    //                     mid.supportedCRS= mid.supportedCRS.replace(/epsg/,\"EPSG\");\n    //                 }\n    //                 Geoportal.Catalogue.CRSRESOLUTIONS[crs].sort(function (a,b){ return b-a; });\n    //             }\n    //         }\n    //         var llR= Geoportal.Catalogue.CRSRESOLUTIONS['CRS:84'];\n    //         if (!llR) {\n    //             llR= Geoportal.Catalogue.CRSRESOLUTIONS['CRS:84']= general.resolutions.slice();\n    //         }\n    //         var wmR= Geoportal.Catalogue.CRSRESOLUTIONS['EPSG:3857'];\n    //         if (!wmR) {//FIXME : should never happened !!\n    //             // reproject resolutions from CRS84 to WebMercator (transform resolutions from degree/px to meter/px)\n    //             wmR= Geoportal.Catalogue.CRSRESOLUTIONS['EPSG:3857']= new Array(llR.length);\n    //             for (var i= 0, len= llR.length; i<len; i++) {\n    //                 var pt= new OpenLayers.LonLat(llR[i], 0);\n    //                 pt.transform(OpenLayers.Projection.CRS84, OpenLayers.Projection.WebMercator);\n    //                 wmR[i]= pt.lon;\n    //             }\n    //         }\n    //         Geoportal.Catalogue.RESOLUTIONS= wmR;\n    //\n    //         var getResolutionsFromCRS= function(crs) {\n    //             if (OpenLayers.Projection.WebMercator.isAliasOf(crs)) {\n    //                 return wmR;\n    //             }\n    //             if (OpenLayers.Projection.CRS84.isAliasOf(crs)) {\n    //                 return llR;\n    //             }\n    //             return Geoportal.Catalogue.CRSRESOLUTIONS[crs]?Geoportal.Catalogue.CRSRESOLUTIONS[crs]:null ;\n    //         };\n    //\n    //         var retrieveZoomFromResolution= function(resolutions, resolution) {\n    //             for (var i= 0, li= resolutions.length; i<li; i++) {\n    //                 if (resolutions[i]-resolution <= resolutions[li-1]) {\n    //                     return i;\n    //                 }\n    //             }\n    //             return -1;\n    //         };\n    //\n    //         var getZoomLevelFromScaleDenominator= function(scaleDenominator,crs) {\n    //             var resolution= scaleDenominator * 0.00028;\n    //             var R= getResolutionsFromCRS(crs);\n    //             if (R) {\n    //                 return retrieveZoomFromResolution(R,resolution);\n    //             }\n    //             resolution= resolution/(OpenLayers.METERS_PER_INCH * OpenLayers.INCHES_PER_UNIT[\"degrees\"]);\n    //             return retrieveZoomFromResolution(llR,resolution);\n    //         };\n    //\n    //         var getZoomLevelFromResolution= function(resolution,crs){\n    //             var R= getResolutionsFromCRS(crs);\n    //             if (R) {\n    //                 return retrieveZoomFromResolution(R,resolution);\n    //             }\n    //             var pt0= new OpenLayers.LonLat(0, 0);\n    //             var pt1= new OpenLayers.LonLat(1, 0);\n    //             pt0.transform(new OpenLayers.Projection(crs),OpenLayers.Projection.CRS84);\n    //             pt1.transform(new OpenLayers.Projection(crs),OpenLayers.Projection.CRS84);\n    //             resolution= resolution*(Math.abs(pt1.lon-pt0.lon));\n    //             return retrieveZoomFromResolution(llR,resolution);\n    //         };\n    // par defaut, on utilise la projection WebMercator (EPSG:3857 = PM)\n    // soit la liste des resolutions natives\n    var resolutionsNatives = {};\n\n    switch (crs) {\n      case \"EPSG:2154\":\n        resolutionsNatives = {\n          0: 104579.224549894,\n          1: 52277.5323537905,\n          2: 26135.4870785954,\n          3: 13066.8913818,\n          4: 6533.2286041135,\n          5: 3266.5595244627,\n          6: 1633.2660045974,\n          7: 816.629554986,\n          8: 408.3139146768,\n          9: 204.1567415109,\n          10: 102.0783167832,\n          11: 51.0391448966,\n          12: 25.5195690743,\n          13: 12.7597836936,\n          14: 6.379891636,\n          15: 3.1899457653,\n          16: 1.5949728695,\n          17: 0.7974864315,\n          18: 0.3987432149,\n          19: 0.1993716073,\n          20: 0.0996858037,\n          21: 0.0498429018\n        };\n        break;\n\n      default:\n        resolutionsNatives = {\n          0: 156543.033928041,\n          1: 78271.51696402048,\n          2: 39135.758482010235,\n          3: 19567.87924100512,\n          4: 9783.93962050256,\n          5: 4891.96981025128,\n          6: 2445.98490512564,\n          7: 1222.99245256282,\n          8: 611.49622628141,\n          9: 305.7481131407048,\n          10: 152.8740565703525,\n          11: 76.43702828517624,\n          12: 38.21851414258813,\n          13: 19.10925707129406,\n          14: 9.554628535647032,\n          15: 4.777314267823516,\n          16: 2.388657133911758,\n          17: 1.194328566955879,\n          18: 0.5971642834779395,\n          19: 0.2985821417389697,\n          20: 0.1492910708694849,\n          21: 0.0746455354347424\n        };\n        break;\n    } // gestion des autres SRS\n    // TODO\n    // if (crs) {\n    // }\n\n\n    var resolution = scaleDenominator * 0.00028;\n\n    for (var index in resolutionsNatives) {\n      if (resolutionsNatives.hasOwnProperty(index)) {\n        if (resolutionsNatives[index] <= resolution) {\n          index = parseInt(index, 10);\n          return index;\n        }\n      }\n    }\n\n    return 0; // -1 ?\n  },\n\n  /**\n   * Get attributions list for a layer, based on current zoom and extent\n   *\n   * @param {Object} params - function params\n   * @param {Array.<Float>} params.extent - map current geographical extent (EPSG:4326) : [top, left, bottom, right] = [maxy, minx, miny, maxx]\n   * @param {Number} params.zoom - map current zoom\n   * @param {String} params.crs - map current projection code (ex \"EPSG:2154\")\n   * @param {Boolean} params.visibility - layer visibility\n   * @param {Gp.Services.Config.Originator} params.originators - resource originators (from Gp.Config.layers[].originators)\n   * @returns {Object} attributions - associative array, mapping originators url (keys) with their properties : html attributions elements\n   */\n  getAttributions: function getAttributions(params) {\n    var zoom = params.zoom;\n    var attributions = [];\n\n    if (params.originators != null && params.visibility) {\n      // drawLogo = boolean, true if attribution should be displayed (zoom, extent), false otherwise\n      var drawLogo;\n\n      for (var j = 0, jl = params.originators.length; j < jl; j++) {\n        drawLogo = true;\n        var originator = params.originators[j];\n        var constraints = params.originators[j].constraints || [];\n\n        for (var k = 0, kl = constraints.length; k < kl; k++) {\n          var constraint = constraints[k];\n          drawLogo = true;\n          var minZoomLevel = this.getZoomLevelFromScaleDenominator(constraint.maxScaleDenominator, params.crs);\n          var maxZoomLevel = this.getZoomLevelFromScaleDenominator(constraint.minScaleDenominator, params.crs) || 21; // min zoom constraints\n\n          if (minZoomLevel && minZoomLevel > zoom) {\n            drawLogo = false;\n          } // max zoom constraints\n\n\n          if (drawLogo && maxZoomLevel !== null && maxZoomLevel < zoom) {\n            drawLogo = false;\n          } // bbox constraints\n\n\n          var bbox = constraint.bbox;\n\n          if (drawLogo && bbox) {\n            drawLogo = false;\n            var viewExtent = params.extent;\n\n            if (viewExtent) {\n              var bounds = [bbox.top, bbox.left, bbox.bottom, bbox.right];\n\n              if (this.intersects(viewExtent, bounds)) {\n                // at least one constraint matches the map ones\n                drawLogo = true;\n                break;\n              }\n            }\n          }\n        }\n\n        if (drawLogo) {\n          // on a un originator qui correspond au zoom et à l'étendue.\n          var logo = originator.logo;\n          var url = originator.url;\n          var name = originator.name ? originator.name : \"\";\n          var text = originator.attribution;\n          var container = document.createElement(\"div\");\n          container.className = \"gp-control-attribution\"; // on crée un lien dans tous les cas (même s'il ne pointe pas vers une référence), pour avoir accès à la class CSS (pour surcharge)\n\n          var link = null;\n          link = document.createElement(\"a\");\n          link.className = \"gp-control-attribution-link\";\n          link.target = \"_blank\";\n          container.appendChild(link);\n\n          if (url) {\n            link.href = url;\n          }\n\n          var bImage = !!logo;\n          var image = null; // si on a un logo, on l'affiche à l'interieur du lien\n\n          if (bImage) {\n            image = document.createElement(\"img\");\n\n            if (link) {\n              image.className = \"gp-control-attribution-image\";\n              link.appendChild(image);\n            } else {\n              image.className = \"\";\n              container.appendChild(image);\n            }\n\n            image.src = logo; // FIXME : mixContent !\n\n            image.title = text || name;\n            image.style.height = \"30px\";\n            image.style.width = \"30px\";\n          } else {\n            // sinon, on affiche le nom de l'originator, ou sa description ou l'url.\n            if (name) {\n              link.textContent = name;\n            } else if (text) {\n              link.textContent = text;\n            } else if (url) {\n              link.textContent = url;\n            } else {\n              link.textContent = \"\";\n            }\n          }\n\n          attributions.push(container.innerHTML + \" \");\n        }\n      }\n    }\n\n    return attributions;\n  },\n\n  /**\n   * Determines if one extent (extent1) intersects another (extent2)\n   *\n   * @param {Array.<Float>} extent1 - First extent : [top, left, bottom, right] = [maxy, minx, miny, maxx]\n   * @param {Array.<Float>} extent2 - Second extent : [top, left, bottom, right] = [maxy, minx, miny, maxx]\n   * @return {Boolean} intersects - True if the two extents intersect, false otherwise.\n   */\n  intersects: function intersects(extent1, extent2) {\n    var intersectsX = extent1[1] <= extent2[3] && extent2[1] <= extent1[3];\n    var intersectsY = extent1[2] <= extent2[0] && extent2[2] <= extent1[0];\n    return intersectsX && intersectsY;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerUtils);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvTGF5ZXJVdGlscy5qcz85ZjkxIl0sIm5hbWVzIjpbIkxheWVyVXRpbHMiLCJnZXRab29tTGV2ZWxGcm9tU2NhbGVEZW5vbWluYXRvciIsInNjYWxlRGVub21pbmF0b3IiLCJjcnMiLCJyZXNvbHV0aW9uc05hdGl2ZXMiLCJyZXNvbHV0aW9uIiwiaW5kZXgiLCJoYXNPd25Qcm9wZXJ0eSIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRpb25zIiwicGFyYW1zIiwiem9vbSIsImF0dHJpYnV0aW9ucyIsIm9yaWdpbmF0b3JzIiwidmlzaWJpbGl0eSIsImRyYXdMb2dvIiwiaiIsImpsIiwibGVuZ3RoIiwib3JpZ2luYXRvciIsImNvbnN0cmFpbnRzIiwiayIsImtsIiwiY29uc3RyYWludCIsIm1pblpvb21MZXZlbCIsIm1heFNjYWxlRGVub21pbmF0b3IiLCJtYXhab29tTGV2ZWwiLCJtaW5TY2FsZURlbm9taW5hdG9yIiwiYmJveCIsInZpZXdFeHRlbnQiLCJleHRlbnQiLCJib3VuZHMiLCJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiLCJpbnRlcnNlY3RzIiwibG9nbyIsInVybCIsIm5hbWUiLCJ0ZXh0IiwiYXR0cmlidXRpb24iLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJsaW5rIiwidGFyZ2V0IiwiYXBwZW5kQ2hpbGQiLCJocmVmIiwiYkltYWdlIiwiaW1hZ2UiLCJzcmMiLCJ0aXRsZSIsInN0eWxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJ0ZXh0Q29udGVudCIsInB1c2giLCJpbm5lckhUTUwiLCJleHRlbnQxIiwiZXh0ZW50MiIsImludGVyc2VjdHNYIiwiaW50ZXJzZWN0c1kiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBV0EsSUFBSUEsVUFBVSxHQUFHO0FBRWI7Ozs7Ozs7QUFPQUMsa0NBQWdDLEVBQUcsMENBQVVDLGdCQUFW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QW1CLEVBQW5CO0FBQ0g7QUFDSjs7QUFFRDdDLHNCQUFZLENBQUM4QyxJQUFiLENBQWtCaEIsU0FBUyxDQUFDaUIsU0FBVixHQUFzQixHQUF4QztBQUNIO0FBQ0o7QUFDSjs7QUFFRCxXQUFPL0MsWUFBUDtBQUNILEdBNVJZOztBQThSYjs7Ozs7OztBQU9Bd0IsWUFBVSxFQUFHLG9CQUFVd0IsT0FBVixFQUFtQkMsT0FBbkIsRUFBNEI7QUFDckMsUUFBSUMsV0FBVyxHQUFJRixPQUFPLENBQUMsQ0FBRCxDQUFQLElBQWNDLE9BQU8sQ0FBQyxDQUFELENBQXRCLElBQStCQSxPQUFPLENBQUMsQ0FBRCxDQUFQLElBQWNELE9BQU8sQ0FBQyxDQUFELENBQXRFO0FBQ0EsUUFBSUcsV0FBVyxHQUFJSCxPQUFPLENBQUMsQ0FBRCxDQUFQLElBQWNDLE9BQU8sQ0FBQyxDQUFELENBQXRCLElBQStCQSxPQUFPLENBQUMsQ0FBRCxDQUFQLElBQWNELE9BQU8sQ0FBQyxDQUFELENBQXRFO0FBQ0EsV0FBT0UsV0FBVyxJQUFJQyxXQUF0QjtBQUNIO0FBelNZLENBQWpCO0FBNFNlL0QseUVBQWYiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL1V0aWxzL0xheWVyVXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogQG1vZHVsZSBMYXllclV0aWxzXG4qIEBhbGlhcyBHcC5MYXllclV0aWxzXG4qIEBkZXNjcmlwdGlvblxuKiAuLi5cbipcbiogQGV4YW1wbGVcbiogZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3IoKTtcbiogZ2V0QXR0cmlidXRpb25zKCk7XG4qIGludGVyc2VjdHMoKTtcbiovXG52YXIgTGF5ZXJVdGlscyA9IHtcblxuICAgIC8qKlxuICAgICAqIE9idGVuaXIgbGUgWm9vbUxldmVsIMOgIHBhcnRpciBkdSBTY2FsZURlbm9taW5hdG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlRGVub21pbmF0b3IgLSB0aGUgc2NhbGUgZGVub21pbmF0b3JcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY3JzIC0gdGhlIGNyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0ludGVnZXJ9IHpvb20gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXRab29tTGV2ZWxGcm9tU2NhbGVEZW5vbWluYXRvciA6IGZ1bmN0aW9uIChzY2FsZURlbm9taW5hdG9yLCBjcnMpIHtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgICAgICAvLyBDb2RlIGlzc3UgZGUgbCdBUEkgR2VvcG9ydGFsL0NhdGFsb2d1ZS9Db25maWcuanMgIC8vXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICAgICAgLy8gICAgIHZhciBjb25maWd1cmF0aW9uID0gR3AuQ29uZmlnO1xuICAgICAgICAvLyAgICAgdmFyIGdlbmVyYWwgPSBjb25maWd1cmF0aW9uLmdlbmVyYWxPcHRpb25zO1xuICAgICAgICAvLyAgICAgdmFyIGxheWVycyAgPSBjb25maWd1cmF0aW9uLmxheWVyc0NvbnRleHQ7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBmb3IgKHZhciB0bXMgaW4gZ2VuZXJhbC50aWxlTWF0cml4U2V0cykge1xuICAgICAgICAvLyAgICAgICAgIHZhciB0aWxlTWF0cml4U2V0ID0gZ2VuZXJhbC50aWxlTWF0cml4U2V0c1t0bXNdO1xuICAgICAgICAvLyAgICAgICAgIC8vIElHTidzIFdNVFMgYnVnIDogZXBzZzpubm5uIGluc3RlYWQgb2YgRVBTRzpubm5uXG4gICAgICAgIC8vICAgICAgICAgdmFyIGNycyA9IHRpbGVNYXRyaXhTZXQuc3VwcG9ydGVkQ1JTID0gdGlsZU1hdHJpeFNldC5zdXBwb3J0ZWRDUlMucmVwbGFjZSgvZXBzZy8sXCJFUFNHXCIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgIGlmICghR2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OUy5oYXNPd25Qcm9wZXJ0eShjcnMpKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBwPSBuZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKGNycyk7XG4gICAgICAgIC8vICAgICAgICAgICAgIEdlb3BvcnRhbC5DYXRhbG9ndWUuQ1JTUkVTT0xVVElPTlNbY3JzXT0gW107XG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBtYXRyaXhJZHM9IHRpbGVNYXRyaXhTZXQubWF0cml4SWRzO1xuICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKHZhciBpPSAwLCBsaT0gbWF0cml4SWRzLmxlbmd0aDsgaTxsaTsgKytpKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB2YXIgbWlkPSBtYXRyaXhJZHNbaV07XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBHZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TW2Nyc10ucHVzaChcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAwLjAwMDI4Km1pZC5zY2FsZURlbm9taW5hdG9yXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLyhPcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtwLmdldFVuaXRzKCldKSk7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbWlkLnN1cHBvcnRlZENSUz0gbWlkLnN1cHBvcnRlZENSUy5yZXBsYWNlKC9lcHNnLyxcIkVQU0dcIik7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBHZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TW2Nyc10uc29ydChmdW5jdGlvbiAoYSxiKXsgcmV0dXJuIGItYTsgfSk7XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgdmFyIGxsUj0gR2VvcG9ydGFsLkNhdGFsb2d1ZS5DUlNSRVNPTFVUSU9OU1snQ1JTOjg0J107XG4gICAgICAgIC8vICAgICAgICAgaWYgKCFsbFIpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgbGxSPSBHZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TWydDUlM6ODQnXT0gZ2VuZXJhbC5yZXNvbHV0aW9ucy5zbGljZSgpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICB2YXIgd21SPSBHZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TWydFUFNHOjM4NTcnXTtcbiAgICAgICAgLy8gICAgICAgICBpZiAoIXdtUikgey8vRklYTUUgOiBzaG91bGQgbmV2ZXIgaGFwcGVuZWQgISFcbiAgICAgICAgLy8gICAgICAgICAgICAgLy8gcmVwcm9qZWN0IHJlc29sdXRpb25zIGZyb20gQ1JTODQgdG8gV2ViTWVyY2F0b3IgKHRyYW5zZm9ybSByZXNvbHV0aW9ucyBmcm9tIGRlZ3JlZS9weCB0byBtZXRlci9weClcbiAgICAgICAgLy8gICAgICAgICAgICAgd21SPSBHZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TWydFUFNHOjM4NTcnXT0gbmV3IEFycmF5KGxsUi5sZW5ndGgpO1xuICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKHZhciBpPSAwLCBsZW49IGxsUi5sZW5ndGg7IGk8bGVuOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHZhciBwdD0gbmV3IE9wZW5MYXllcnMuTG9uTGF0KGxsUltpXSwgMCk7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBwdC50cmFuc2Zvcm0oT3BlbkxheWVycy5Qcm9qZWN0aW9uLkNSUzg0LCBPcGVuTGF5ZXJzLlByb2plY3Rpb24uV2ViTWVyY2F0b3IpO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgd21SW2ldPSBwdC5sb247XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgR2VvcG9ydGFsLkNhdGFsb2d1ZS5SRVNPTFVUSU9OUz0gd21SO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAgIHZhciBnZXRSZXNvbHV0aW9uc0Zyb21DUlM9IGZ1bmN0aW9uKGNycykge1xuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoT3BlbkxheWVycy5Qcm9qZWN0aW9uLldlYk1lcmNhdG9yLmlzQWxpYXNPZihjcnMpKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gd21SO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChPcGVuTGF5ZXJzLlByb2plY3Rpb24uQ1JTODQuaXNBbGlhc09mKGNycykpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBsbFI7XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIEdlb3BvcnRhbC5DYXRhbG9ndWUuQ1JTUkVTT0xVVElPTlNbY3JzXT9HZW9wb3J0YWwuQ2F0YWxvZ3VlLkNSU1JFU09MVVRJT05TW2Nyc106bnVsbCA7XG4gICAgICAgIC8vICAgICAgICAgfTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICB2YXIgcmV0cmlldmVab29tRnJvbVJlc29sdXRpb249IGZ1bmN0aW9uKHJlc29sdXRpb25zLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGZvciAodmFyIGk9IDAsIGxpPSByZXNvbHV0aW9ucy5sZW5ndGg7IGk8bGk7IGkrKykge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHJlc29sdXRpb25zW2ldLXJlc29sdXRpb24gPD0gcmVzb2x1dGlvbnNbbGktMV0pIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIC8vICAgICAgICAgfTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgICB2YXIgZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3I9IGZ1bmN0aW9uKHNjYWxlRGVub21pbmF0b3IsY3JzKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciByZXNvbHV0aW9uPSBzY2FsZURlbm9taW5hdG9yICogMC4wMDAyODtcbiAgICAgICAgLy8gICAgICAgICAgICAgdmFyIFI9IGdldFJlc29sdXRpb25zRnJvbUNSUyhjcnMpO1xuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoUikge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlWm9vbUZyb21SZXNvbHV0aW9uKFIscmVzb2x1dGlvbik7XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICAgICAgcmVzb2x1dGlvbj0gcmVzb2x1dGlvbi8oT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0ggKiBPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtcImRlZ3JlZXNcIl0pO1xuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gcmV0cmlldmVab29tRnJvbVJlc29sdXRpb24obGxSLHJlc29sdXRpb24pO1xuICAgICAgICAvLyAgICAgICAgIH07XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgdmFyIGdldFpvb21MZXZlbEZyb21SZXNvbHV0aW9uPSBmdW5jdGlvbihyZXNvbHV0aW9uLGNycyl7XG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBSPSBnZXRSZXNvbHV0aW9uc0Zyb21DUlMoY3JzKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKFIpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiByZXRyaWV2ZVpvb21Gcm9tUmVzb2x1dGlvbihSLHJlc29sdXRpb24pO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBwdDA9IG5ldyBPcGVuTGF5ZXJzLkxvbkxhdCgwLCAwKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgdmFyIHB0MT0gbmV3IE9wZW5MYXllcnMuTG9uTGF0KDEsIDApO1xuICAgICAgICAvLyAgICAgICAgICAgICBwdDAudHJhbnNmb3JtKG5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oY3JzKSxPcGVuTGF5ZXJzLlByb2plY3Rpb24uQ1JTODQpO1xuICAgICAgICAvLyAgICAgICAgICAgICBwdDEudHJhbnNmb3JtKG5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oY3JzKSxPcGVuTGF5ZXJzLlByb2plY3Rpb24uQ1JTODQpO1xuICAgICAgICAvLyAgICAgICAgICAgICByZXNvbHV0aW9uPSByZXNvbHV0aW9uKihNYXRoLmFicyhwdDEubG9uLXB0MC5sb24pKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlWm9vbUZyb21SZXNvbHV0aW9uKGxsUixyZXNvbHV0aW9uKTtcbiAgICAgICAgLy8gICAgICAgICB9O1xuXG4gICAgICAgIC8vIHBhciBkZWZhdXQsIG9uIHV0aWxpc2UgbGEgcHJvamVjdGlvbiBXZWJNZXJjYXRvciAoRVBTRzozODU3ID0gUE0pXG4gICAgICAgIC8vIHNvaXQgbGEgbGlzdGUgZGVzIHJlc29sdXRpb25zIG5hdGl2ZXNcbiAgICAgICAgdmFyIHJlc29sdXRpb25zTmF0aXZlcyA9IHt9O1xuICAgICAgICBzd2l0Y2ggKGNycykge1xuICAgICAgICAgICAgY2FzZSBcIkVQU0c6MjE1NFwiOlxuICAgICAgICAgICAgICAgIHJlc29sdXRpb25zTmF0aXZlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgMCA6IDEwNDU3OS4yMjQ1NDk4OTQsXG4gICAgICAgICAgICAgICAgICAgIDEgOiA1MjI3Ny41MzIzNTM3OTA1LFxuICAgICAgICAgICAgICAgICAgICAyIDogMjYxMzUuNDg3MDc4NTk1NCxcbiAgICAgICAgICAgICAgICAgICAgMyA6IDEzMDY2Ljg5MTM4MTgsXG4gICAgICAgICAgICAgICAgICAgIDQgOiA2NTMzLjIyODYwNDExMzUsXG4gICAgICAgICAgICAgICAgICAgIDUgOiAzMjY2LjU1OTUyNDQ2MjcsXG4gICAgICAgICAgICAgICAgICAgIDYgOiAxNjMzLjI2NjAwNDU5NzQsXG4gICAgICAgICAgICAgICAgICAgIDcgOiA4MTYuNjI5NTU0OTg2LFxuICAgICAgICAgICAgICAgICAgICA4IDogNDA4LjMxMzkxNDY3NjgsXG4gICAgICAgICAgICAgICAgICAgIDkgOiAyMDQuMTU2NzQxNTEwOSxcbiAgICAgICAgICAgICAgICAgICAgMTAgOiAxMDIuMDc4MzE2NzgzMixcbiAgICAgICAgICAgICAgICAgICAgMTEgOiA1MS4wMzkxNDQ4OTY2LFxuICAgICAgICAgICAgICAgICAgICAxMiA6IDI1LjUxOTU2OTA3NDMsXG4gICAgICAgICAgICAgICAgICAgIDEzIDogMTIuNzU5NzgzNjkzNixcbiAgICAgICAgICAgICAgICAgICAgMTQgOiA2LjM3OTg5MTYzNixcbiAgICAgICAgICAgICAgICAgICAgMTUgOiAzLjE4OTk0NTc2NTMsXG4gICAgICAgICAgICAgICAgICAgIDE2IDogMS41OTQ5NzI4Njk1LFxuICAgICAgICAgICAgICAgICAgICAxNyA6IDAuNzk3NDg2NDMxNSxcbiAgICAgICAgICAgICAgICAgICAgMTggOiAwLjM5ODc0MzIxNDksXG4gICAgICAgICAgICAgICAgICAgIDE5IDogMC4xOTkzNzE2MDczLFxuICAgICAgICAgICAgICAgICAgICAyMCA6IDAuMDk5Njg1ODAzNyxcbiAgICAgICAgICAgICAgICAgICAgMjEgOiAwLjA0OTg0MjkwMThcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uc05hdGl2ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIDAgOiAxNTY1NDMuMDMzOTI4MDQxLFxuICAgICAgICAgICAgICAgICAgICAxIDogNzgyNzEuNTE2OTY0MDIwNDgsXG4gICAgICAgICAgICAgICAgICAgIDIgOiAzOTEzNS43NTg0ODIwMTAyMzUsXG4gICAgICAgICAgICAgICAgICAgIDMgOiAxOTU2Ny44NzkyNDEwMDUxMixcbiAgICAgICAgICAgICAgICAgICAgNCA6IDk3ODMuOTM5NjIwNTAyNTYsXG4gICAgICAgICAgICAgICAgICAgIDUgOiA0ODkxLjk2OTgxMDI1MTI4LFxuICAgICAgICAgICAgICAgICAgICA2IDogMjQ0NS45ODQ5MDUxMjU2NCxcbiAgICAgICAgICAgICAgICAgICAgNyA6IDEyMjIuOTkyNDUyNTYyODIsXG4gICAgICAgICAgICAgICAgICAgIDggOiA2MTEuNDk2MjI2MjgxNDEsXG4gICAgICAgICAgICAgICAgICAgIDkgOiAzMDUuNzQ4MTEzMTQwNzA0OCxcbiAgICAgICAgICAgICAgICAgICAgMTAgOiAxNTIuODc0MDU2NTcwMzUyNSxcbiAgICAgICAgICAgICAgICAgICAgMTEgOiA3Ni40MzcwMjgyODUxNzYyNCxcbiAgICAgICAgICAgICAgICAgICAgMTIgOiAzOC4yMTg1MTQxNDI1ODgxMyxcbiAgICAgICAgICAgICAgICAgICAgMTMgOiAxOS4xMDkyNTcwNzEyOTQwNixcbiAgICAgICAgICAgICAgICAgICAgMTQgOiA5LjU1NDYyODUzNTY0NzAzMixcbiAgICAgICAgICAgICAgICAgICAgMTUgOiA0Ljc3NzMxNDI2NzgyMzUxNixcbiAgICAgICAgICAgICAgICAgICAgMTYgOiAyLjM4ODY1NzEzMzkxMTc1OCxcbiAgICAgICAgICAgICAgICAgICAgMTcgOiAxLjE5NDMyODU2Njk1NTg3OSxcbiAgICAgICAgICAgICAgICAgICAgMTggOiAwLjU5NzE2NDI4MzQ3NzkzOTUsXG4gICAgICAgICAgICAgICAgICAgIDE5IDogMC4yOTg1ODIxNDE3Mzg5Njk3LFxuICAgICAgICAgICAgICAgICAgICAyMCA6IDAuMTQ5MjkxMDcwODY5NDg0OSxcbiAgICAgICAgICAgICAgICAgICAgMjEgOiAwLjA3NDY0NTUzNTQzNDc0MjRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2VzdGlvbiBkZXMgYXV0cmVzIFNSU1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIGlmIChjcnMpIHtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gc2NhbGVEZW5vbWluYXRvciAqIDAuMDAwMjg7XG5cbiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gcmVzb2x1dGlvbnNOYXRpdmVzKSB7XG4gICAgICAgICAgICBpZiAocmVzb2x1dGlvbnNOYXRpdmVzLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uc05hdGl2ZXNbaW5kZXhdIDw9IHJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7IC8vIC0xID9cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGF0dHJpYnV0aW9ucyBsaXN0IGZvciBhIGxheWVyLCBiYXNlZCBvbiBjdXJyZW50IHpvb20gYW5kIGV4dGVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIGZ1bmN0aW9uIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZsb2F0Pn0gcGFyYW1zLmV4dGVudCAtIG1hcCBjdXJyZW50IGdlb2dyYXBoaWNhbCBleHRlbnQgKEVQU0c6NDMyNikgOiBbdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0XSA9IFttYXh5LCBtaW54LCBtaW55LCBtYXh4XVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwYXJhbXMuem9vbSAtIG1hcCBjdXJyZW50IHpvb21cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyYW1zLmNycyAtIG1hcCBjdXJyZW50IHByb2plY3Rpb24gY29kZSAoZXggXCJFUFNHOjIxNTRcIilcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHBhcmFtcy52aXNpYmlsaXR5IC0gbGF5ZXIgdmlzaWJpbGl0eVxuICAgICAqIEBwYXJhbSB7R3AuU2VydmljZXMuQ29uZmlnLk9yaWdpbmF0b3J9IHBhcmFtcy5vcmlnaW5hdG9ycyAtIHJlc291cmNlIG9yaWdpbmF0b3JzIChmcm9tIEdwLkNvbmZpZy5sYXllcnNbXS5vcmlnaW5hdG9ycylcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBhdHRyaWJ1dGlvbnMgLSBhc3NvY2lhdGl2ZSBhcnJheSwgbWFwcGluZyBvcmlnaW5hdG9ycyB1cmwgKGtleXMpIHdpdGggdGhlaXIgcHJvcGVydGllcyA6IGh0bWwgYXR0cmlidXRpb25zIGVsZW1lbnRzXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRpb25zIDogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgem9vbSA9IHBhcmFtcy56b29tO1xuXG4gICAgICAgIHZhciBhdHRyaWJ1dGlvbnMgPSBbXTtcblxuICAgICAgICBpZiAocGFyYW1zLm9yaWdpbmF0b3JzICE9IG51bGwgJiYgcGFyYW1zLnZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIC8vIGRyYXdMb2dvID0gYm9vbGVhbiwgdHJ1ZSBpZiBhdHRyaWJ1dGlvbiBzaG91bGQgYmUgZGlzcGxheWVkICh6b29tLCBleHRlbnQpLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgICAgICAgIHZhciBkcmF3TG9nbztcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IHBhcmFtcy5vcmlnaW5hdG9ycy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XG4gICAgICAgICAgICAgICAgZHJhd0xvZ28gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hdG9yID0gcGFyYW1zLm9yaWdpbmF0b3JzW2pdO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnRzID0gcGFyYW1zLm9yaWdpbmF0b3JzW2pdLmNvbnN0cmFpbnRzIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrbCA9IGNvbnN0cmFpbnRzLmxlbmd0aDsgayA8IGtsOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1trXTtcbiAgICAgICAgICAgICAgICAgICAgZHJhd0xvZ28gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5ab29tTGV2ZWwgPSB0aGlzLmdldFpvb21MZXZlbEZyb21TY2FsZURlbm9taW5hdG9yKGNvbnN0cmFpbnQubWF4U2NhbGVEZW5vbWluYXRvciwgcGFyYW1zLmNycyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhab29tTGV2ZWwgPSB0aGlzLmdldFpvb21MZXZlbEZyb21TY2FsZURlbm9taW5hdG9yKGNvbnN0cmFpbnQubWluU2NhbGVEZW5vbWluYXRvciwgcGFyYW1zLmNycykgfHwgMjE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbWluIHpvb20gY29uc3RyYWludHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pblpvb21MZXZlbCAmJiAobWluWm9vbUxldmVsID4gem9vbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdMb2dvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBtYXggem9vbSBjb25zdHJhaW50c1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhd0xvZ28gJiYgbWF4Wm9vbUxldmVsICE9PSBudWxsICYmIChtYXhab29tTGV2ZWwgPCB6b29tKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0xvZ28gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJib3ggY29uc3RyYWludHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJib3ggPSBjb25zdHJhaW50LmJib3g7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkcmF3TG9nbyAmJiBiYm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3TG9nbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXdFeHRlbnQgPSBwYXJhbXMuZXh0ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXdFeHRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gW2Jib3gudG9wLCBiYm94LmxlZnQsIGJib3guYm90dG9tLCBiYm94LnJpZ2h0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RzKHZpZXdFeHRlbnQsIGJvdW5kcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXQgbGVhc3Qgb25lIGNvbnN0cmFpbnQgbWF0Y2hlcyB0aGUgbWFwIG9uZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0xvZ28gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZHJhd0xvZ28pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gYSB1biBvcmlnaW5hdG9yIHF1aSBjb3JyZXNwb25kIGF1IHpvb20gZXQgw6AgbCfDqXRlbmR1ZS5cblxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9nbyA9IG9yaWdpbmF0b3IubG9nbztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IG9yaWdpbmF0b3IudXJsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IG9yaWdpbmF0b3IubmFtZSA/IG9yaWdpbmF0b3IubmFtZSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gb3JpZ2luYXRvci5hdHRyaWJ1dGlvbjtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiZ3AtY29udHJvbC1hdHRyaWJ1dGlvblwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGNyw6llIHVuIGxpZW4gZGFucyB0b3VzIGxlcyBjYXMgKG3Dqm1lIHMnaWwgbmUgcG9pbnRlIHBhcyB2ZXJzIHVuZSByw6lmw6lyZW5jZSksIHBvdXIgYXZvaXIgYWNjw6hzIMOgIGxhIGNsYXNzIENTUyAocG91ciBzdXJjaGFyZ2UpXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICAgICAgICBsaW5rLmNsYXNzTmFtZSA9IFwiZ3AtY29udHJvbC1hdHRyaWJ1dGlvbi1saW5rXCI7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgYkltYWdlID0gISEobG9nbyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNpIG9uIGEgdW4gbG9nbywgb24gbCdhZmZpY2hlIMOgIGwnaW50ZXJpZXVyIGR1IGxpZW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5jbGFzc05hbWUgPSBcImdwLWNvbnRyb2wtYXR0cmlidXRpb24taW1hZ2VcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gbG9nbzsgLy8gRklYTUUgOiBtaXhDb250ZW50ICFcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnRpdGxlID0gdGV4dCB8fCBuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3R5bGUuaGVpZ2h0ID0gXCIzMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zdHlsZS53aWR0aCA9IFwiMzBweFwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2lub24sIG9uIGFmZmljaGUgbGUgbm9tIGRlIGwnb3JpZ2luYXRvciwgb3Ugc2EgZGVzY3JpcHRpb24gb3UgbCd1cmwuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRpb25zLnB1c2goY29udGFpbmVyLmlubmVySFRNTCArIFwiIFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cmlidXRpb25zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIG9uZSBleHRlbnQgKGV4dGVudDEpIGludGVyc2VjdHMgYW5vdGhlciAoZXh0ZW50MilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZsb2F0Pn0gZXh0ZW50MSAtIEZpcnN0IGV4dGVudCA6IFt0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHRdID0gW21heHksIG1pbngsIG1pbnksIG1heHhdXG4gICAgICogQHBhcmFtIHtBcnJheS48RmxvYXQ+fSBleHRlbnQyIC0gU2Vjb25kIGV4dGVudCA6IFt0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHRdID0gW21heHksIG1pbngsIG1pbnksIG1heHhdXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gaW50ZXJzZWN0cyAtIFRydWUgaWYgdGhlIHR3byBleHRlbnRzIGludGVyc2VjdCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGludGVyc2VjdHMgOiBmdW5jdGlvbiAoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgICAgICB2YXIgaW50ZXJzZWN0c1ggPSAoZXh0ZW50MVsxXSA8PSBleHRlbnQyWzNdKSAmJiAoZXh0ZW50MlsxXSA8PSBleHRlbnQxWzNdKTtcbiAgICAgICAgdmFyIGludGVyc2VjdHNZID0gKGV4dGVudDFbMl0gPD0gZXh0ZW50MlswXSkgJiYgKGV4dGVudDJbMl0gPD0gZXh0ZW50MVswXSk7XG4gICAgICAgIHJldHVybiBpbnRlcnNlY3RzWCAmJiBpbnRlcnNlY3RzWTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMYXllclV0aWxzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Utils/LayerUtils.js\n");

/***/ }),

/***/ "./src/Common/Utils/LoggerByDefault.js":
/*!*********************************************!*\
  !*** ./src/Common/Utils/LoggerByDefault.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! loglevel */ \"./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__);\n\nvar LoggerByDefault = {\n  /**\n   *logger statique\n   * @param {String} [name=\"default\"] - the logger name\n   *\n   * @returns {Object} logger\n   */\n  getLogger: function getLogger(name) {\n    // Substitute global constants configured at compile time\n    // cf. webpack.config.js\n    // on masque cette constante afin d'eviter \"referenceerror not defined\"\n    \"false\".match(/true/) ? loglevel__WEBPACK_IMPORTED_MODULE_0__[\"disableAll\"]() : loglevel__WEBPACK_IMPORTED_MODULE_0__[\"enableAll\"]();\n    var logname = name || \"default\";\n    return loglevel__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"](logname);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LoggerByDefault);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0LmpzPzVjOTAiXSwibmFtZXMiOlsiTG9nZ2VyQnlEZWZhdWx0IiwiZ2V0TG9nZ2VyIiwibmFtZSIsIm1hdGNoIiwiTG9nIiwibG9nbmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxJQUFJQSxlQUFlLEdBQUc7QUFDbEI7Ozs7OztBQU1BQyxXQUFTLEVBQUcsbUJBQVVDLElBQVYsRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0MscUJBQWlCQyxLQUFqQixDQUF1QixNQUF2QixDQUFELEdBQ01DLG1EQUFBLEVBRE4sR0FDeUJBLGtEQUFBLEVBRHpCO0FBRUEsUUFBSUMsT0FBTyxHQUFHSCxJQUFJLElBQUksU0FBdEI7QUFDQSxXQUFPRSxrREFBQSxDQUFjQyxPQUFkLENBQVA7QUFDSDtBQWZpQixDQUF0QjtBQWtCZUwsOEVBQWYiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIExvZyBmcm9tIFwibG9nbGV2ZWxcIjtcblxudmFyIExvZ2dlckJ5RGVmYXVsdCA9IHtcbiAgICAvKipcbiAgICAgKmxvZ2dlciBzdGF0aXF1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZT1cImRlZmF1bHRcIl0gLSB0aGUgbG9nZ2VyIG5hbWVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGxvZ2dlclxuICAgICAqL1xuICAgIGdldExvZ2dlciA6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIC8vIFN1YnN0aXR1dGUgZ2xvYmFsIGNvbnN0YW50cyBjb25maWd1cmVkIGF0IGNvbXBpbGUgdGltZVxuICAgICAgICAvLyBjZi4gd2VicGFjay5jb25maWcuanNcbiAgICAgICAgLy8gb24gbWFzcXVlIGNldHRlIGNvbnN0YW50ZSBhZmluIGQnZXZpdGVyIFwicmVmZXJlbmNlZXJyb3Igbm90IGRlZmluZWRcIlxuICAgICAgICAoXCJfX1BST0RVQ1RJT05fX1wiLm1hdGNoKC90cnVlLykpXG4gICAgICAgICAgICA/IExvZy5kaXNhYmxlQWxsKCkgOiBMb2cuZW5hYmxlQWxsKCk7XG4gICAgICAgIHZhciBsb2duYW1lID0gbmFtZSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgcmV0dXJuIExvZy5nZXRMb2dnZXIobG9nbmFtZSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyQnlEZWZhdWx0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Utils/LoggerByDefault.js\n");

/***/ }),

/***/ "./src/Common/Utils/MathUtils.js":
/*!***************************************!*\
  !*** ./src/Common/Utils/MathUtils.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n* @module MathUtils\n* @alias Gp.MathUtils\n* @description\n* ...\n*\n* @example\n* modulo();\n* decimalToDMS();\n* toInteger();\n* isInteger();\n* toFloat();\n*/\nvar MathUtils = {\n  /**\n   * Reste de la division euclidienne\n   * @param {Number} a - divisor\n   * @param {Number} b - quotient\n   * @returns {Number} Modulo\n   */\n  modulo: function modulo(a, b) {\n    var r = a % b;\n    return r * b < 0 ? r + b : r;\n  },\n\n  /**\n   * Transform degrees, minutes, seconds form decimal degrees -\n   * Largely inspired by the private function degreesToStringHDMS from ol/coordinate.js\n   *\n   * @param {Number} degrees - decimal degrees\n   * @param {Array} hemispheres - \"NS\" ou \"EO\"\n   * @param {Number} numDigits - number of digits for seconds\n   * @returns {Object} DMS coordinate\n   */\n  decimalToDMS: function decimalToDMS(degrees, hemispheres, numDigits) {\n    var normalizedDegrees = this.modulo(degrees + 180, 360) - 180;\n    var x = Math.abs(3600 * normalizedDegrees);\n    var dflPrecision = numDigits || 0;\n    var precision = Math.pow(10, dflPrecision);\n    var deg = Math.floor(x / 3600);\n    var min = Math.floor((x - deg * 3600) / 60);\n    var sec = x - deg * 3600 - min * 60;\n    sec = Math.ceil(sec * precision) / precision;\n\n    if (sec >= 60) {\n      sec = 0;\n      min += 1;\n    }\n\n    if (min >= 60) {\n      min = 0;\n      deg += 1;\n    }\n\n    var direction = hemispheres.charAt(normalizedDegrees < 0 ? 1 : 0);\n    return {\n      d: deg,\n      m: min,\n      s: sec,\n      direction: direction\n    };\n  },\n\n  /**\n   * Converts string to Integer\n   *\n   * @param {String} s - string number\n   * @param {Numeric} base - between 2 and 36\n   * @returns {null|Numeric} result\n   */\n  toInteger: function toInteger(s, base) {\n    var _base = base || 10;\n\n    var n = parseInt(s, _base);\n\n    if (!isNaN(n) && isFinite(n)) {\n      return n;\n    }\n\n    return null;\n  },\n\n  /**\n   * check if s represents an integer\n   *\n   * @param {String} s - string number\n   * @returns {Boolean} is integer\n   */\n  isInteger: function isInteger(s) {\n    if (isNaN(s)) {\n      return false;\n    }\n\n    var v = parseFloat(s);\n    return (v | 0) === v;\n  },\n\n  /**\n   * Converts s to float\n   *\n   * @param {String} s - string number\n   * @returns {null|Numeric} result\n   */\n  toFloat: function toFloat(s) {\n    var n = parseFloat(s);\n\n    if (!isNaN(n) && isFinite(n)) {\n      return n;\n    }\n\n    return null;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MathUtils);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvTWF0aFV0aWxzLmpzPzIzMWUiXSwibmFtZXMiOlsiTWF0aFV0aWxzIiwibW9kdWxvIiwiYSIsImIiLCJyIiwiZGVjaW1hbFRvRE1TIiwiZGVncmVlcyIsImhlbWlzcGhlcmVzIiwibnVtRGlnaXRzIiwibm9ybWFsaXplZERlZ3JlZXMiLCJ4IiwiTWF0aCIsImFicyIsImRmbFByZWNpc2lvbiIsInByZWNpc2lvbiIsInBvdyIsImRlZyIsImZsb29yIiwibWluIiwic2VjIiwiY2VpbCIsImRpcmVjdGlvbiIsImNoYXJBdCIsImQiLCJtIiwicyIsInRvSW50ZWdlciIsImJhc2UiLCJfYmFzZSIsIm4iLCJwYXJzZUludCIsImlzTmFOIiwiaXNGaW5pdGUiLCJpc0ludGVnZXIiLCJ2IiwicGFyc2VGbG9hdCIsInRvRmxvYXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7QUFhQSxJQUFJQSxTQUFTLEdBQUc7QUFDWjs7Ozs7O0FBTUFDLFFBQU0sRUFBRyxnQkFBVUMsQ0FBVixFQUFhQyxDQUFiLEVBQWdCO0FBQ3JCLFFBQUlDLENBQUMsR0FBR0YsQ0FBQyxHQUFHQyxDQUFaO0FBQ0EsV0FBT0MsQ0FBQyxHQUFHRCxDQUFKLEdBQVEsQ0FBUixHQUFZQyxDQUFDLEdBQUdELENBQWhCLEdBQW9CQyxDQUEzQjtBQUNILEdBVlc7O0FBWVo7Ozs7Ozs7OztBQVNBQyxjQUFZLEVBQUcsc0JBQVVDLE9BQVYsRUFBbUJDLFdBQW5CLEVBQWdDQyxTQUFoQyxFQUEyQztBQUN0RCxRQUFJQyxpQkFBaUIsR0FBRyxLQUFLUixNQUFMLENBQVlLLE9BQU8sR0FBRyxHQUF0QixFQUEyQixHQUEzQixJQUFrQyxHQUExRDtBQUNBLFFBQUlJLENBQUMsR0FBR0MsSUFBSSxDQUFDQyxHQUFMLENBQVMsT0FBT0gsaUJBQWhCLENBQVI7QUFDQSxRQUFJSSxZQUFZLEdBQUdMLFNBQVMsSUFBSSxDQUFoQztBQUNBLFFBQUlNLFNBQVMsR0FBR0gsSUFBSSxDQUFDSSxHQUFMLENBQVMsRUFBVCxFQUFhRixZQUFiLENBQWhCO0FBRUEsUUFBSUcsR0FBRyxHQUFHTCxJQUFJLENBQUNNLEtBQUwsQ0FBV1AsQ0FBQyxHQUFHLElBQWYsQ0FBVjtBQUNBLFFBQUlRLEdBQUcsR0FBR1AsSUFBSSxDQUFDTSxLQUFMLENBQVcsQ0FBQ1AsQ0FBQyxHQUFHTSxHQUFHLEdBQUcsSUFBWCxJQUFtQixFQUE5QixDQUFWO0FBQ0EsUUFBSUcsR0FBRyxHQUFHVCxDQUFDLEdBQUlNLEdBQUcsR0FBRyxJQUFYLEdBQW9CRSxHQUFHLEdBQUcsRUFBcEM7QUFDQUMsT0FBRyxHQUFHUixJQUFJLENBQUNTLElBQUwsQ0FBVUQsR0FBRyxHQUFHTCxTQUFoQixJQUE2QkEsU0FBbkM7O0FBRUEsUUFBSUssR0FBRyxJQUFJLEVBQVgsRUFBZTtBQUNYQSxTQUFHLEdBQUcsQ0FBTjtBQUNBRCxTQUFHLElBQUksQ0FBUDtBQUNIOztBQUVELFFBQUlBLEdBQUcsSUFBSSxFQUFYLEVBQWU7QUFDWEEsU0FBRyxHQUFHLENBQU47QUFDQUYsU0FBRyxJQUFJLENBQVA7QUFDSDs7QUFFRCxRQUFJSyxTQUFTLEdBQUdkLFdBQVcsQ0FBQ2UsTUFBWixDQUFtQmIsaUJBQWlCLEdBQUcsQ0FBcEIsR0FBd0IsQ0FBeEIsR0FBNEIsQ0FBL0MsQ0FBaEI7QUFDQSxXQUFPO0FBQ0hjLE9BQUMsRUFBR1AsR0FERDtBQUVIUSxPQUFDLEVBQUdOLEdBRkQ7QUFHSE8sT0FBQyxFQUFHTixHQUhEO0FBSUhFLGVBQVMsRUFBR0E7QUFKVCxLQUFQO0FBTUgsR0FqRFc7O0FBbURaOzs7Ozs7O0FBT0FLLFdBQVMsRUFBRyxtQkFBVUQsQ0FBVixFQUFhRSxJQUFiLEVBQW1CO0FBQzNCLFFBQUlDLEtBQUssR0FBR0QsSUFBSSxJQUFJLEVBQXBCOztBQUNBLFFBQUlFLENBQUMsR0FBR0MsUUFBUSxDQUFDTCxDQUFELEVBQUlHLEtBQUosQ0FBaEI7O0FBQ0EsUUFBSSxDQUFDRyxLQUFLLENBQUNGLENBQUQsQ0FBTixJQUFhRyxRQUFRLENBQUNILENBQUQsQ0FBekIsRUFBOEI7QUFDMUIsYUFBT0EsQ0FBUDtBQUNIOztBQUNELFdBQU8sSUFBUDtBQUNILEdBakVXOztBQW1FWjs7Ozs7O0FBTUFJLFdBQVMsRUFBRyxtQkFBVVIsQ0FBVixFQUFhO0FBQ3JCLFFBQUlNLEtBQUssQ0FBQ04sQ0FBRCxDQUFULEVBQWM7QUFDVixhQUFPLEtBQVA7QUFDSDs7QUFFRCxRQUFJUyxDQUFDLEdBQUdDLFVBQVUsQ0FBQ1YsQ0FBRCxDQUFsQjtBQUNBLFdBQVEsQ0FBQ1MsQ0FBQyxHQUFHLENBQUwsTUFBWUEsQ0FBcEI7QUFDSCxHQWhGVzs7QUFrRlo7Ozs7OztBQU1BRSxTQUFPLEVBQUcsaUJBQVVYLENBQVYsRUFBYTtBQUNuQixRQUFJSSxDQUFDLEdBQUdNLFVBQVUsQ0FBQ1YsQ0FBRCxDQUFsQjs7QUFDQSxRQUFJLENBQUNNLEtBQUssQ0FBQ0YsQ0FBRCxDQUFOLElBQWFHLFFBQVEsQ0FBQ0gsQ0FBRCxDQUF6QixFQUE4QjtBQUMxQixhQUFPQSxDQUFQO0FBQ0g7O0FBQ0QsV0FBTyxJQUFQO0FBQ0g7QUE5RlcsQ0FBaEI7QUFpR2U3Qix3RUFBZiIsImZpbGUiOiIuL3NyYy9Db21tb24vVXRpbHMvTWF0aFV0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEBtb2R1bGUgTWF0aFV0aWxzXG4qIEBhbGlhcyBHcC5NYXRoVXRpbHNcbiogQGRlc2NyaXB0aW9uXG4qIC4uLlxuKlxuKiBAZXhhbXBsZVxuKiBtb2R1bG8oKTtcbiogZGVjaW1hbFRvRE1TKCk7XG4qIHRvSW50ZWdlcigpO1xuKiBpc0ludGVnZXIoKTtcbiogdG9GbG9hdCgpO1xuKi9cbnZhciBNYXRoVXRpbHMgPSB7XG4gICAgLyoqXG4gICAgICogUmVzdGUgZGUgbGEgZGl2aXNpb24gZXVjbGlkaWVubmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSAtIGRpdmlzb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYiAtIHF1b3RpZW50XG4gICAgICogQHJldHVybnMge051bWJlcn0gTW9kdWxvXG4gICAgICovXG4gICAgbW9kdWxvIDogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIHIgPSBhICUgYjtcbiAgICAgICAgcmV0dXJuIHIgKiBiIDwgMCA/IHIgKyBiIDogcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGRlZ3JlZXMsIG1pbnV0ZXMsIHNlY29uZHMgZm9ybSBkZWNpbWFsIGRlZ3JlZXMgLVxuICAgICAqIExhcmdlbHkgaW5zcGlyZWQgYnkgdGhlIHByaXZhdGUgZnVuY3Rpb24gZGVncmVlc1RvU3RyaW5nSERNUyBmcm9tIG9sL2Nvb3JkaW5hdGUuanNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzIC0gZGVjaW1hbCBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtBcnJheX0gaGVtaXNwaGVyZXMgLSBcIk5TXCIgb3UgXCJFT1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG51bURpZ2l0cyAtIG51bWJlciBvZiBkaWdpdHMgZm9yIHNlY29uZHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBETVMgY29vcmRpbmF0ZVxuICAgICAqL1xuICAgIGRlY2ltYWxUb0RNUyA6IGZ1bmN0aW9uIChkZWdyZWVzLCBoZW1pc3BoZXJlcywgbnVtRGlnaXRzKSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRGVncmVlcyA9IHRoaXMubW9kdWxvKGRlZ3JlZXMgKyAxODAsIDM2MCkgLSAxODA7XG4gICAgICAgIHZhciB4ID0gTWF0aC5hYnMoMzYwMCAqIG5vcm1hbGl6ZWREZWdyZWVzKTtcbiAgICAgICAgdmFyIGRmbFByZWNpc2lvbiA9IG51bURpZ2l0cyB8fCAwO1xuICAgICAgICB2YXIgcHJlY2lzaW9uID0gTWF0aC5wb3coMTAsIGRmbFByZWNpc2lvbik7XG5cbiAgICAgICAgdmFyIGRlZyA9IE1hdGguZmxvb3IoeCAvIDM2MDApO1xuICAgICAgICB2YXIgbWluID0gTWF0aC5mbG9vcigoeCAtIGRlZyAqIDM2MDApIC8gNjApO1xuICAgICAgICB2YXIgc2VjID0geCAtIChkZWcgKiAzNjAwKSAtIChtaW4gKiA2MCk7XG4gICAgICAgIHNlYyA9IE1hdGguY2VpbChzZWMgKiBwcmVjaXNpb24pIC8gcHJlY2lzaW9uO1xuXG4gICAgICAgIGlmIChzZWMgPj0gNjApIHtcbiAgICAgICAgICAgIHNlYyA9IDA7XG4gICAgICAgICAgICBtaW4gKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW4gPj0gNjApIHtcbiAgICAgICAgICAgIG1pbiA9IDA7XG4gICAgICAgICAgICBkZWcgKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBoZW1pc3BoZXJlcy5jaGFyQXQobm9ybWFsaXplZERlZ3JlZXMgPCAwID8gMSA6IDApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZCA6IGRlZyxcbiAgICAgICAgICAgIG0gOiBtaW4sXG4gICAgICAgICAgICBzIDogc2VjLFxuICAgICAgICAgICAgZGlyZWN0aW9uIDogZGlyZWN0aW9uXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHN0cmluZyB0byBJbnRlZ2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcyAtIHN0cmluZyBudW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWVyaWN9IGJhc2UgLSBiZXR3ZWVuIDIgYW5kIDM2XG4gICAgICogQHJldHVybnMge251bGx8TnVtZXJpY30gcmVzdWx0XG4gICAgICovXG4gICAgdG9JbnRlZ2VyIDogZnVuY3Rpb24gKHMsIGJhc2UpIHtcbiAgICAgICAgdmFyIF9iYXNlID0gYmFzZSB8fCAxMDtcbiAgICAgICAgdmFyIG4gPSBwYXJzZUludChzLCBfYmFzZSk7XG4gICAgICAgIGlmICghaXNOYU4obikgJiYgaXNGaW5pdGUobikpIHtcbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjaGVjayBpZiBzIHJlcHJlc2VudHMgYW4gaW50ZWdlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHMgLSBzdHJpbmcgbnVtYmVyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IGlzIGludGVnZXJcbiAgICAgKi9cbiAgICBpc0ludGVnZXIgOiBmdW5jdGlvbiAocykge1xuICAgICAgICBpZiAoaXNOYU4ocykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ID0gcGFyc2VGbG9hdChzKTtcbiAgICAgICAgcmV0dXJuICgodiB8IDApID09PSB2KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgcyB0byBmbG9hdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHMgLSBzdHJpbmcgbnVtYmVyXG4gICAgICogQHJldHVybnMge251bGx8TnVtZXJpY30gcmVzdWx0XG4gICAgICovXG4gICAgdG9GbG9hdCA6IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHZhciBuID0gcGFyc2VGbG9hdChzKTtcbiAgICAgICAgaWYgKCFpc05hTihuKSAmJiBpc0Zpbml0ZShuKSkge1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWF0aFV0aWxzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Utils/MathUtils.js\n");

/***/ }),

/***/ "./src/Common/Utils/ProxyUtils.js":
/*!****************************************!*\
  !*** ./src/Common/Utils/ProxyUtils.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n\n/**\n* @module ProxyUtils\n* @alias Gp.ProxyUtils\n* @description\n* ...\n*\n* @example\n* proxifyUrl();\n*/\n\nvar ProxyUtils = {\n  /**\n   * Ajoute un proxy aux url des couches vecteurs si besoin.\n   *\n   * @param {String} url - Url to proxify.\n   * @param {Object} [proxyOptions] - Object defining proxy options.\n   * @param {String} proxyOptions.proxyUrl - Proxy URL.\n   * @param {Array.<String>} [proxyOptions.noProxyDomains] - Proxy will not be used for this list of domain names.\n   *\n   * @returns {String} proxy url\n   */\n  proxifyUrl: function proxifyUrl(url, proxyOptions) {\n    // logger\n    var logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"proxifyUrl\");\n\n    if (!proxyOptions || !proxyOptions.hasOwnProperty(\"proxyUrl\") || proxyOptions.proxyUrl === null || proxyOptions.proxyUrl.trim().length === 0) {\n      return url;\n    } // on regarde si l'url nest pas dans les domaines sans proxy\n\n\n    if (proxyOptions.noProxyDomains && Array.isArray(proxyOptions.noProxyDomains) && proxyOptions.noProxyDomains.length > 0) {\n      for (var i in proxyOptions.noProxyDomains) {\n        logger.trace(\"[ProxyUtils] proxifyUrl : analyzing \" + proxyOptions.noProxyDomains[i]);\n\n        if (url.indexOf(proxyOptions.noProxyDomains[i]) !== -1) {\n          logger.info(\"[ProxyUtils] proxifyUrl : \" + url + \" found in noProxyDomains list (\" + proxyOptions.noProxyDomains[i] + \").\");\n          return url;\n        }\n      }\n    }\n\n    return proxyOptions.proxyUrl + encodeURIComponent(url);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProxyUtils);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvUHJveHlVdGlscy5qcz8wYmY1Il0sIm5hbWVzIjpbIlByb3h5VXRpbHMiLCJwcm94aWZ5VXJsIiwidXJsIiwicHJveHlPcHRpb25zIiwibG9nZ2VyIiwiTG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiaGFzT3duUHJvcGVydHkiLCJwcm94eVVybCIsInRyaW0iLCJsZW5ndGgiLCJub1Byb3h5RG9tYWlucyIsIkFycmF5IiwiaXNBcnJheSIsImkiLCJ0cmFjZSIsImluZGV4T2YiLCJpbmZvIiwiZW5jb2RlVVJJQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQTs7Ozs7Ozs7OztBQVNBLElBQUlBLFVBQVUsR0FBRztBQUNiOzs7Ozs7Ozs7O0FBVUFDLFlBQVUsRUFBRyxvQkFBVUMsR0FBVixFQUFlQyxZQUFmLEVBQTZCO0FBQ3RDO0FBRUEsUUFBSUMsTUFBTSxHQUFHQyxxRUFBTSxDQUFDQyxTQUFQLENBQWlCLFlBQWpCLENBQWI7O0FBRUEsUUFBSSxDQUFDSCxZQUFELElBQ0EsQ0FBQ0EsWUFBWSxDQUFDSSxjQUFiLENBQTRCLFVBQTVCLENBREQsSUFFQUosWUFBWSxDQUFDSyxRQUFiLEtBQTBCLElBRjFCLElBR0FMLFlBQVksQ0FBQ0ssUUFBYixDQUFzQkMsSUFBdEIsR0FBNkJDLE1BQTdCLEtBQXdDLENBSDVDLEVBRytDO0FBQzNDLGFBQU9SLEdBQVA7QUFDSCxLQVZxQyxDQVd0Qzs7O0FBQ0EsUUFBSUMsWUFBWSxDQUFDUSxjQUFiLElBQ0FDLEtBQUssQ0FBQ0MsT0FBTixDQUFjVixZQUFZLENBQUNRLGNBQTNCLENBREEsSUFFQVIsWUFBWSxDQUFDUSxjQUFiLENBQTRCRCxNQUE1QixHQUFxQyxDQUZ6QyxFQUU0QztBQUN4QyxXQUFLLElBQUlJLENBQVQsSUFBY1gsWUFBWSxDQUFDUSxjQUEzQixFQUEyQztBQUN2Q1AsY0FBTSxDQUFDVyxLQUFQLENBQWEseUNBQXlDWixZQUFZLENBQUNRLGNBQWIsQ0FBNEJHLENBQTVCLENBQXREOztBQUNBLFlBQUlaLEdBQUcsQ0FBQ2MsT0FBSixDQUFZYixZQUFZLENBQUNRLGNBQWIsQ0FBNEJHLENBQTVCLENBQVosTUFBZ0QsQ0FBQyxDQUFyRCxFQUF3RDtBQUNwRFYsZ0JBQU0sQ0FBQ2EsSUFBUCxDQUFZLCtCQUErQmYsR0FBL0IsR0FBcUMsaUNBQXJDLEdBQXlFQyxZQUFZLENBQUNRLGNBQWIsQ0FBNEJHLENBQTVCLENBQXpFLEdBQTBHLElBQXRIO0FBQ0EsaUJBQU9aLEdBQVA7QUFDSDtBQUNKO0FBQ0o7O0FBQ0QsV0FBT0MsWUFBWSxDQUFDSyxRQUFiLEdBQXdCVSxrQkFBa0IsQ0FBQ2hCLEdBQUQsQ0FBakQ7QUFDSDtBQW5DWSxDQUFqQjtBQXNDZUYseUVBQWYiLCJmaWxlIjoiLi9zcmMvQ29tbW9uL1V0aWxzL1Byb3h5VXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5cbi8qKlxuKiBAbW9kdWxlIFByb3h5VXRpbHNcbiogQGFsaWFzIEdwLlByb3h5VXRpbHNcbiogQGRlc2NyaXB0aW9uXG4qIC4uLlxuKlxuKiBAZXhhbXBsZVxuKiBwcm94aWZ5VXJsKCk7XG4qL1xudmFyIFByb3h5VXRpbHMgPSB7XG4gICAgLyoqXG4gICAgICogQWpvdXRlIHVuIHByb3h5IGF1eCB1cmwgZGVzIGNvdWNoZXMgdmVjdGV1cnMgc2kgYmVzb2luLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIFVybCB0byBwcm94aWZ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJveHlPcHRpb25zXSAtIE9iamVjdCBkZWZpbmluZyBwcm94eSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm94eU9wdGlvbnMucHJveHlVcmwgLSBQcm94eSBVUkwuXG4gICAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gW3Byb3h5T3B0aW9ucy5ub1Byb3h5RG9tYWluc10gLSBQcm94eSB3aWxsIG5vdCBiZSB1c2VkIGZvciB0aGlzIGxpc3Qgb2YgZG9tYWluIG5hbWVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcHJveHkgdXJsXG4gICAgICovXG4gICAgcHJveGlmeVVybCA6IGZ1bmN0aW9uICh1cmwsIHByb3h5T3B0aW9ucykge1xuICAgICAgICAvLyBsb2dnZXJcblxuICAgICAgICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcInByb3hpZnlVcmxcIik7XG5cbiAgICAgICAgaWYgKCFwcm94eU9wdGlvbnMgfHxcbiAgICAgICAgICAgICFwcm94eU9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJwcm94eVVybFwiKSB8fFxuICAgICAgICAgICAgcHJveHlPcHRpb25zLnByb3h5VXJsID09PSBudWxsIHx8XG4gICAgICAgICAgICBwcm94eU9wdGlvbnMucHJveHlVcmwudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbiByZWdhcmRlIHNpIGwndXJsIG5lc3QgcGFzIGRhbnMgbGVzIGRvbWFpbmVzIHNhbnMgcHJveHlcbiAgICAgICAgaWYgKHByb3h5T3B0aW9ucy5ub1Byb3h5RG9tYWlucyAmJlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShwcm94eU9wdGlvbnMubm9Qcm94eURvbWFpbnMpICYmXG4gICAgICAgICAgICBwcm94eU9wdGlvbnMubm9Qcm94eURvbWFpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBwcm94eU9wdGlvbnMubm9Qcm94eURvbWFpbnMpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UoXCJbUHJveHlVdGlsc10gcHJveGlmeVVybCA6IGFuYWx5emluZyBcIiArIHByb3h5T3B0aW9ucy5ub1Byb3h5RG9tYWluc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKHByb3h5T3B0aW9ucy5ub1Byb3h5RG9tYWluc1tpXSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwiW1Byb3h5VXRpbHNdIHByb3hpZnlVcmwgOiBcIiArIHVybCArIFwiIGZvdW5kIGluIG5vUHJveHlEb21haW5zIGxpc3QgKFwiICsgcHJveHlPcHRpb25zLm5vUHJveHlEb21haW5zW2ldICsgXCIpLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3h5T3B0aW9ucy5wcm94eVVybCArIGVuY29kZVVSSUNvbXBvbmVudCh1cmwpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByb3h5VXRpbHM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Common/Utils/ProxyUtils.js\n");

/***/ }),

/***/ "./src/Common/Utils/SelectorID.js":
/*!****************************************!*\
  !*** ./src/Common/Utils/SelectorID.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * formalisme d'un tag ID :\n * -> NAME(_ORDER)-1460636385836\n *\n * Ex.\n *   GProutePoints-1460636385836\n *   GProutePoint_10-1460636385836\n */\nvar SelectorID = {\n  /**\n   * Construction d'un identifiant statique basé sur le timestamp,\n   * et qui s'incremente de +1 à chaque appel\n   */\n  generate: function () {\n    var timestamp = Math.floor(Date.now());\n    return function () {\n      return timestamp++;\n    };\n  }(),\n\n  /**\n   * nom du tag\n   * @param {String} id - the id\n   *\n   * @returns {String} index\n   */\n  name: function name(id) {\n    var name = null;\n    var i = id.lastIndexOf(\"-\");\n\n    if (i === -1) {\n      name = id;\n    } else {\n      name = id.substring(0, i);\n    }\n\n    return name;\n  },\n\n  /**\n   * numero d'identifiant du tag\n   * @param {String} id - the id\n   *\n   * @returns {String} index\n   */\n  index: function index(id) {\n    var index = null;\n    var name = this.name(id); // if (name !== id) {\n\n    var i = name.lastIndexOf(\"_\");\n\n    if (i !== -1) {\n      index = name.substring(i + 1);\n    } // }\n\n\n    return index;\n  },\n\n  /**\n   * uuid du tag\n   * @param {String} id - the id\n   *\n   * @returns {String} uuid\n   */\n  uuid: function uuid(id) {\n    var uuid = null;\n    var i = id.lastIndexOf(\"-\");\n\n    if (i !== -1) {\n      uuid = parseInt(id.substring(i + 1), 10);\n    }\n\n    return uuid;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectorID);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9Db21tb24vVXRpbHMvU2VsZWN0b3JJRC5qcz9lNmM1Il0sIm5hbWVzIjpbIlNlbGVjdG9ySUQiLCJnZW5lcmF0ZSIsInRpbWVzdGFtcCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJuYW1lIiwiaWQiLCJpIiwibGFzdEluZGV4T2YiLCJzdWJzdHJpbmciLCJpbmRleCIsInV1aWQiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7Ozs7QUFRQSxJQUFJQSxVQUFVLEdBQUc7QUFFYjs7OztBQUlBQyxVQUFRLEVBQUksWUFBWTtBQUNwQixRQUFJQyxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxJQUFJLENBQUNDLEdBQUwsRUFBWCxDQUFoQjtBQUNBLFdBQU8sWUFBWTtBQUNmLGFBQU9KLFNBQVMsRUFBaEI7QUFDSCxLQUZEO0FBR0gsR0FMVSxFQU5FOztBQWFiOzs7Ozs7QUFNQUssTUFBSSxFQUFHLGNBQVVDLEVBQVYsRUFBYztBQUNqQixRQUFJRCxJQUFJLEdBQUcsSUFBWDtBQUVBLFFBQUlFLENBQUMsR0FBR0QsRUFBRSxDQUFDRSxXQUFILENBQWUsR0FBZixDQUFSOztBQUNBLFFBQUlELENBQUMsS0FBSyxDQUFDLENBQVgsRUFBYztBQUNWRixVQUFJLEdBQUdDLEVBQVA7QUFDSCxLQUZELE1BRU87QUFDSEQsVUFBSSxHQUFHQyxFQUFFLENBQUNHLFNBQUgsQ0FBYSxDQUFiLEVBQWdCRixDQUFoQixDQUFQO0FBQ0g7O0FBRUQsV0FBT0YsSUFBUDtBQUNILEdBOUJZOztBQWdDYjs7Ozs7O0FBTUFLLE9BQUssRUFBRyxlQUFVSixFQUFWLEVBQWM7QUFDbEIsUUFBSUksS0FBSyxHQUFHLElBQVo7QUFFQSxRQUFJTCxJQUFJLEdBQUcsS0FBS0EsSUFBTCxDQUFVQyxFQUFWLENBQVgsQ0FIa0IsQ0FJbEI7O0FBQ0EsUUFBSUMsQ0FBQyxHQUFHRixJQUFJLENBQUNHLFdBQUwsQ0FBaUIsR0FBakIsQ0FBUjs7QUFDQSxRQUFJRCxDQUFDLEtBQUssQ0FBQyxDQUFYLEVBQWM7QUFDVkcsV0FBSyxHQUFHTCxJQUFJLENBQUNJLFNBQUwsQ0FBZUYsQ0FBQyxHQUFHLENBQW5CLENBQVI7QUFDSCxLQVJpQixDQVNsQjs7O0FBRUEsV0FBT0csS0FBUDtBQUNILEdBbERZOztBQW9EYjs7Ozs7O0FBTUFDLE1BQUksRUFBRyxjQUFVTCxFQUFWLEVBQWM7QUFDakIsUUFBSUssSUFBSSxHQUFHLElBQVg7QUFFQSxRQUFJSixDQUFDLEdBQUdELEVBQUUsQ0FBQ0UsV0FBSCxDQUFlLEdBQWYsQ0FBUjs7QUFDQSxRQUFJRCxDQUFDLEtBQUssQ0FBQyxDQUFYLEVBQWM7QUFDVkksVUFBSSxHQUFHQyxRQUFRLENBQUNOLEVBQUUsQ0FBQ0csU0FBSCxDQUFhRixDQUFDLEdBQUcsQ0FBakIsQ0FBRCxFQUFzQixFQUF0QixDQUFmO0FBQ0g7O0FBRUQsV0FBT0ksSUFBUDtBQUNIO0FBbkVZLENBQWpCO0FBdUVlYix5RUFBZiIsImZpbGUiOiIuL3NyYy9Db21tb24vVXRpbHMvU2VsZWN0b3JJRC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogZm9ybWFsaXNtZSBkJ3VuIHRhZyBJRCA6XG4gKiAtPiBOQU1FKF9PUkRFUiktMTQ2MDYzNjM4NTgzNlxuICpcbiAqIEV4LlxuICogICBHUHJvdXRlUG9pbnRzLTE0NjA2MzYzODU4MzZcbiAqICAgR1Byb3V0ZVBvaW50XzEwLTE0NjA2MzYzODU4MzZcbiAqL1xudmFyIFNlbGVjdG9ySUQgPSB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rpb24gZCd1biBpZGVudGlmaWFudCBzdGF0aXF1ZSBiYXPDqSBzdXIgbGUgdGltZXN0YW1wLFxuICAgICAqIGV0IHF1aSBzJ2luY3JlbWVudGUgZGUgKzEgw6AgY2hhcXVlIGFwcGVsXG4gICAgICovXG4gICAgZ2VuZXJhdGUgOiAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aW1lc3RhbXArKztcbiAgICAgICAgfTtcbiAgICB9KSgpLFxuXG4gICAgLyoqXG4gICAgICogbm9tIGR1IHRhZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBpZFxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gaW5kZXhcbiAgICAgKi9cbiAgICBuYW1lIDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBuYW1lID0gbnVsbDtcblxuICAgICAgICB2YXIgaSA9IGlkLmxhc3RJbmRleE9mKFwiLVwiKTtcbiAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICBuYW1lID0gaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuYW1lID0gaWQuc3Vic3RyaW5nKDAsIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG51bWVybyBkJ2lkZW50aWZpYW50IGR1IHRhZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBpZFxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ30gaW5kZXhcbiAgICAgKi9cbiAgICBpbmRleCA6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgaW5kZXggPSBudWxsO1xuXG4gICAgICAgIHZhciBuYW1lID0gdGhpcy5uYW1lKGlkKTtcbiAgICAgICAgLy8gaWYgKG5hbWUgIT09IGlkKSB7XG4gICAgICAgIHZhciBpID0gbmFtZS5sYXN0SW5kZXhPZihcIl9cIik7XG4gICAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICAgICAgaW5kZXggPSBuYW1lLnN1YnN0cmluZyhpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXVpZCBkdSB0YWdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHV1aWRcbiAgICAgKi9cbiAgICB1dWlkIDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB1dWlkID0gbnVsbDtcblxuICAgICAgICB2YXIgaSA9IGlkLmxhc3RJbmRleE9mKFwiLVwiKTtcbiAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICB1dWlkID0gcGFyc2VJbnQoaWQuc3Vic3RyaW5nKGkgKyAxKSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHV1aWQ7XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RvcklEO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Common/Utils/SelectorID.js\n");

/***/ }),

/***/ "./src/Itowns/CRS/CRS.js":
/*!*******************************!*\
  !*** ./src/Itowns/CRS/CRS.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CRS = {\n  /**\n   * CRS : WGS84\n   *\n   * @property EPSG:4326\n   * @private\n   */\n  \"EPSG:4326\": \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs +units=degrees\",\n\n  /**\n   * CRS : PseudoMercator\n   *\n   * @property EPSG:3857\n   * @private\n   */\n  \"EPSG:3857\": \"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs\",\n\n  /**\n   * CRS : Lambert 93\n   *\n   * @property EPSG:2154\n   * @private\n   */\n  \"EPSG:2154\": \"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n\n  /**\n   * CRS : Lambert 2 extended\n   *\n   * @property EPSG:27572\n   * @private\n   */\n  \"EPSG:27572\": \"+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 20N (Guadeloupe, Martinique)\n   *\n   * @property EPSG:32620\n   * @private\n   */\n  \"EPSG:32620\": \"+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 21N (Saint-Pierre-et-Miquelon)\n   *\n   * @property EPSG:4467\n   * @private\n   */\n  \"EPSG:4467\": \"+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 22N (Guyane)\n   *\n   * @property EPSG:2972\n   * @private\n   */\n  \"EPSG:2972\": \"+proj=utm +zone=22 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 30N (France métropolitaine)\n   *\n   * @property EPSG:32630\n   * @private\n   */\n  \"EPSG:32630\": \"+proj=utm +zone=30 +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 31N (France métropolitaine)\n   *\n   * @property EPSG:32631\n   * @private\n   */\n  \"EPSG:32631\": \"+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 32N (France métropolitaine)\n   *\n   * @property EPSG:32632\n   * @private\n   */\n  \"EPSG:32632\": \"+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 38S (Mayotte)\n   *\n   * @property EPSG:4471\n   * @private\n   */\n  \"EPSG:4471\": \"+proj=utm +zone=38 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 40S (Réunion)\n   *\n   * @property EPSG:2975\n   * @private\n   */\n  \"EPSG:2975\": \"+proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 5S (Polynésie)\n   *\n   * @property EPSG:3296\n   * @private\n   */\n  \"EPSG:3296\": \"+proj=utm +zone=5 +south +ellps=GRS80 +towgs84=0.072,-0.507,-0.245,-0.0183,0.0003,-0.007,-0.0093 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 6S (Polynésie)\n   *\n   * @property EPSG:3297\n   * @private\n   */\n  \"EPSG:3297\": \"+proj=utm +zone=6 +south +ellps=GRS80 +towgs84=0.072,-0.507,-0.245,-0.0183,0.0003,-0.007,-0.0093 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 7S (Polynésie)\n   *\n   * @property EPSG:32707\n   * @private\n   */\n  \"EPSG:32707\": \"+proj=utm +zone=7 +south +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 8S (Polynésie)\n   *\n   * @property EPSG:32708\n   * @private\n   */\n  \"EPSG:32708\": \"+proj=utm +zone=8 +south +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 12N (Ile de Clipperton)\n   *\n   * @property EPSG:26912\n   * @private\n   */\n  \"EPSG:26912\": \"+proj=utm +zone=12 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 42S (Iles Kerguelen)\n   *\n   * @property EPSG:32742\n   * @private\n   */\n  \"EPSG:32742\": \"+proj=utm +zone=42 +south +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 39S (Iles Crozet)\n   *\n   * @property EPSG:32739\n   * @private\n   */\n  \"EPSG:32739\": \"+proj=utm +zone=39 +south +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 43S (Iles St-Paul et Amsterdam)\n   *\n   * @property EPSG:32743\n   * @private\n   */\n  \"EPSG:32743\": \"+proj=utm +zone=43 +south +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : Stéréographique polaire (Terre Adelie)\n   *\n   * @property EPSG:2986\n   * @private\n   */\n  \"EPSG:2986\": \"\",\n\n  /**\n   * CRS : UTM 37S (Iles du canal de Mozambique)\n   *\n   * @property EPSG:32737\n   * @private\n   */\n  \"EPSG:32737\": \"+proj=utm +zone=37 +south +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 38S (Iles du canal de Mozambique)\n   *\n   * @property EPSG:32738\n   * @private\n   */\n  \"EPSG:32738\": \"+proj=utm +zone=38 +south +datum=WGS84 +units=m +no_defs\",\n\n  /**\n   * CRS : UTM 1S (Wallis-et-Futuna)\n   *\n   * @property EPSG:2988\n   * @private\n   */\n  \"EPSG:2988\": \"+proj=utm +zone=1 +south +ellps=intl +towgs84=253,-132,-127,0,0,0,0 +units=m +no_defs\",\n\n  /**\n   * CRS : RGNC91-93 (Nouvelle-Calédonie)\n   *\n   * @property EPSG:3163\n   * @private\n   */\n  \"EPSG:3163\": \"+proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\"\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CRS);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1JTL0NSUy5qcz9lNTVhIl0sIm5hbWVzIjpbIkNSUyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxJQUFJQSxHQUFHLEdBQUc7QUFFTjs7Ozs7O0FBTUEsZUFBYywwRkFSUjs7QUFVTjs7Ozs7O0FBTUEsZUFBYywySEFoQlI7O0FBa0JOOzs7Ozs7QUFNQSxlQUFjLG1JQXhCUjs7QUEwQk47Ozs7OztBQU1BLGdCQUFlLHVLQWhDVDs7QUFrQ047Ozs7OztBQU1BLGdCQUFlLGdFQXhDVDs7QUEwQ047Ozs7OztBQU1BLGVBQWMsMEVBaERSOztBQWtETjs7Ozs7O0FBTUEsZUFBYywwRUF4RFI7O0FBMEROOzs7Ozs7QUFNQSxnQkFBZSxtREFoRVQ7O0FBa0VOOzs7Ozs7QUFNQSxnQkFBZSxtREF4RVQ7O0FBMEVOOzs7Ozs7QUFNQSxnQkFBZSxtREFoRlQ7O0FBa0ZOOzs7Ozs7QUFNQSxlQUFjLGlGQXhGUjs7QUEwRk47Ozs7OztBQU1BLGVBQWMsaUZBaEdSOztBQWtHTjs7Ozs7O0FBTUEsZUFBYyxvSEF4R1I7O0FBMEdOOzs7Ozs7QUFNQSxlQUFjLG9IQWhIUjs7QUFrSE47Ozs7OztBQU1BLGdCQUFlLHlEQXhIVDs7QUEwSE47Ozs7OztBQU1BLGdCQUFlLHlEQWhJVDs7QUFrSU47Ozs7OztBQU1BLGdCQUFlLDBFQXhJVDs7QUEwSU47Ozs7OztBQU1BLGdCQUFlLDBEQWhKVDs7QUFrSk47Ozs7OztBQU1BLGdCQUFlLDBEQXhKVDs7QUEwSk47Ozs7OztBQU1BLGdCQUFlLDBEQWhLVDs7QUFrS047Ozs7OztBQU1BLGVBQWMsRUF4S1I7O0FBMEtOOzs7Ozs7QUFNQSxnQkFBZSwwREFoTFQ7O0FBa0xOOzs7Ozs7QUFNQSxnQkFBZSwwREF4TFQ7O0FBMExOOzs7Ozs7QUFNQSxlQUFjLHVGQWhNUjs7QUFrTU47Ozs7OztBQU1BLGVBQWM7QUF4TVIsQ0FBVjtBQTJNZUEsa0VBQWYiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0NSUy9DUlMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ1JTID0ge1xuXG4gICAgLyoqXG4gICAgICogQ1JTIDogV0dTODRcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjQzMjZcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzo0MzI2XCIgOiBcIit0aXRsZT1XR1MgODQgKGxvbmcvbGF0KSArcHJvaj1sb25nbGF0ICtlbGxwcz1XR1M4NCArZGF0dW09V0dTODQgK25vX2RlZnMgK3VuaXRzPWRlZ3JlZXNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IFBzZXVkb01lcmNhdG9yXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgRVBTRzozODU3XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6Mzg1N1wiIDogXCIrcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICt3a3RleHQgICtub19kZWZzXCIsXG5cbiAgICAvKipcbiAgICAgKiBDUlMgOiBMYW1iZXJ0IDkzXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgRVBTRzoyMTU0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MjE1NFwiIDogXCIrcHJvaj1sY2MgK2xhdF8xPTQ5ICtsYXRfMj00NCArbGF0XzA9NDYuNSArbG9uXzA9MyAreF8wPTcwMDAwMCAreV8wPTY2MDAwMDAgK2VsbHBzPUdSUzgwICt0b3dnczg0PTAsMCwwLDAsMCwwLDAgK3VuaXRzPW0gK25vX2RlZnNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IExhbWJlcnQgMiBleHRlbmRlZFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6Mjc1NzJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzoyNzU3MlwiIDogXCIrcHJvaj1sY2MgK2xhdF8xPTQ2LjggK2xhdF8wPTQ2LjggK2xvbl8wPTAgK2tfMD0wLjk5OTg3NzQyICt4XzA9NjAwMDAwICt5XzA9MjIwMDAwMCArYT02Mzc4MjQ5LjIgK2I9NjM1NjUxNSArdG93Z3M4ND0tMTY4LC02MCwzMjAsMCwwLDAsMCArcG09cGFyaXMgK3VuaXRzPW0gK25vX2RlZnNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IFVUTSAyME4gKEd1YWRlbG91cGUsIE1hcnRpbmlxdWUpXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgRVBTRzozMjYyMFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgXCJFUFNHOjMyNjIwXCIgOiBcIitwcm9qPXV0bSArem9uZT0yMCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzXCIsXG5cbiAgICAvKipcbiAgICAgKiBDUlMgOiBVVE0gMjFOIChTYWludC1QaWVycmUtZXQtTWlxdWVsb24pXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgRVBTRzo0NDY3XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6NDQ2N1wiIDogXCIrcHJvaj11dG0gK3pvbmU9MjEgK2VsbHBzPUdSUzgwICt0b3dnczg0PTAsMCwwLDAsMCwwLDAgK3VuaXRzPW0gK25vX2RlZnNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IFVUTSAyMk4gKEd1eWFuZSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjI5NzJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzoyOTcyXCIgOiBcIitwcm9qPXV0bSArem9uZT0yMiArZWxscHM9R1JTODAgK3Rvd2dzODQ9MCwwLDAsMCwwLDAsMCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDMwTiAoRnJhbmNlIG3DqXRyb3BvbGl0YWluZSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjMyNjMwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MzI2MzBcIiA6IFwiK3Byb2o9dXRtICt6b25lPTMwICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDMxTiAoRnJhbmNlIG3DqXRyb3BvbGl0YWluZSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjMyNjMxXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MzI2MzFcIiA6IFwiK3Byb2o9dXRtICt6b25lPTMxICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDMyTiAoRnJhbmNlIG3DqXRyb3BvbGl0YWluZSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjMyNjMyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MzI2MzJcIiA6IFwiK3Byb2o9dXRtICt6b25lPTMyICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDM4UyAoTWF5b3R0ZSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjQ0NzFcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzo0NDcxXCIgOiBcIitwcm9qPXV0bSArem9uZT0zOCArc291dGggK2VsbHBzPUdSUzgwICt0b3dnczg0PTAsMCwwLDAsMCwwLDAgK3VuaXRzPW0gK25vX2RlZnNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IFVUTSA0MFMgKFLDqXVuaW9uKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6Mjk3NVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgXCJFUFNHOjI5NzVcIiA6IFwiK3Byb2o9dXRtICt6b25lPTQwICtzb3V0aCArZWxscHM9R1JTODAgK3Rvd2dzODQ9MCwwLDAsMCwwLDAsMCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDVTIChQb2x5bsOpc2llKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6MzI5NlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgXCJFUFNHOjMyOTZcIiA6IFwiK3Byb2o9dXRtICt6b25lPTUgK3NvdXRoICtlbGxwcz1HUlM4MCArdG93Z3M4ND0wLjA3MiwtMC41MDcsLTAuMjQ1LC0wLjAxODMsMC4wMDAzLC0wLjAwNywtMC4wMDkzICt1bml0cz1tICtub19kZWZzXCIsXG5cbiAgICAvKipcbiAgICAgKiBDUlMgOiBVVE0gNlMgKFBvbHluw6lzaWUpXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgRVBTRzozMjk3XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MzI5N1wiIDogXCIrcHJvaj11dG0gK3pvbmU9NiArc291dGggK2VsbHBzPUdSUzgwICt0b3dnczg0PTAuMDcyLC0wLjUwNywtMC4yNDUsLTAuMDE4MywwLjAwMDMsLTAuMDA3LC0wLjAwOTMgK3VuaXRzPW0gK25vX2RlZnNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IFVUTSA3UyAoUG9seW7DqXNpZSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjMyNzA3XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MzI3MDdcIiA6IFwiK3Byb2o9dXRtICt6b25lPTcgK3NvdXRoICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDhTIChQb2x5bsOpc2llKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6MzI3MDhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzozMjcwOFwiIDogXCIrcHJvaj11dG0gK3pvbmU9OCArc291dGggK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzXCIsXG5cbiAgICAvKipcbiAgICAgKiBDUlMgOiBVVE0gMTJOIChJbGUgZGUgQ2xpcHBlcnRvbilcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjI2OTEyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MjY5MTJcIiA6IFwiK3Byb2o9dXRtICt6b25lPTEyICtlbGxwcz1HUlM4MCArdG93Z3M4ND0wLDAsMCwwLDAsMCwwICt1bml0cz1tICtub19kZWZzXCIsXG5cbiAgICAvKipcbiAgICAgKiBDUlMgOiBVVE0gNDJTIChJbGVzIEtlcmd1ZWxlbilcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjMyNzQyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MzI3NDJcIiA6IFwiK3Byb2o9dXRtICt6b25lPTQyICtzb3V0aCArZGF0dW09V0dTODQgK3VuaXRzPW0gK25vX2RlZnNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IFVUTSAzOVMgKElsZXMgQ3JvemV0KVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6MzI3MzlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzozMjczOVwiIDogXCIrcHJvaj11dG0gK3pvbmU9MzkgK3NvdXRoICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDQzUyAoSWxlcyBTdC1QYXVsIGV0IEFtc3RlcmRhbSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjMyNzQzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBcIkVQU0c6MzI3NDNcIiA6IFwiK3Byb2o9dXRtICt6b25lPTQzICtzb3V0aCArZGF0dW09V0dTODQgK3VuaXRzPW0gK25vX2RlZnNcIixcblxuICAgIC8qKlxuICAgICAqIENSUyA6IFN0w6lyw6lvZ3JhcGhpcXVlIHBvbGFpcmUgKFRlcnJlIEFkZWxpZSlcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBFUFNHOjI5ODZcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzoyOTg2XCIgOiBcIlwiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDM3UyAoSWxlcyBkdSBjYW5hbCBkZSBNb3phbWJpcXVlKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6MzI3MzdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzozMjczN1wiIDogXCIrcHJvaj11dG0gK3pvbmU9MzcgK3NvdXRoICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDM4UyAoSWxlcyBkdSBjYW5hbCBkZSBNb3phbWJpcXVlKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6MzI3MzhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFwiRVBTRzozMjczOFwiIDogXCIrcHJvaj11dG0gK3pvbmU9MzggK3NvdXRoICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogVVRNIDFTIChXYWxsaXMtZXQtRnV0dW5hKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6Mjk4OFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgXCJFUFNHOjI5ODhcIiA6IFwiK3Byb2o9dXRtICt6b25lPTEgK3NvdXRoICtlbGxwcz1pbnRsICt0b3dnczg0PTI1MywtMTMyLC0xMjcsMCwwLDAsMCArdW5pdHM9bSArbm9fZGVmc1wiLFxuXG4gICAgLyoqXG4gICAgICogQ1JTIDogUkdOQzkxLTkzIChOb3V2ZWxsZS1DYWzDqWRvbmllKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IEVQU0c6MzE2M1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgXCJFUFNHOjMxNjNcIiA6IFwiK3Byb2o9bGNjICtsYXRfMT0tMjAuNjY2NjY2NjY2NjY2NjcgK2xhdF8yPS0yMi4zMzMzMzMzMzMzMzMzMyArbGF0XzA9LTIxLjUgK2xvbl8wPTE2NiAreF8wPTQwMDAwMCAreV8wPTMwMDAwMCArZWxscHM9R1JTODAgK3Rvd2dzODQ9MCwwLDAsMCwwLDAsMCArdW5pdHM9bSArbm9fZGVmc1wiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDUlM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/CRS/CRS.js\n");

/***/ }),

/***/ "./src/Itowns/CSS/Controls/Attribution/GPattributionItowns.css":
/*!*********************************************************************!*\
  !*** ./src/Itowns/CSS/Controls/Attribution/GPattributionItowns.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1NTL0NvbnRyb2xzL0F0dHJpYnV0aW9uL0dQYXR0cmlidXRpb25JdG93bnMuY3NzPzY0YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0NTUy9Db250cm9scy9BdHRyaWJ1dGlvbi9HUGF0dHJpYnV0aW9uSXRvd25zLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Itowns/CSS/Controls/Attribution/GPattributionItowns.css\n");

/***/ }),

/***/ "./src/Itowns/CSS/Controls/BoostRelief/GPboostReliefItowns.css":
/*!*********************************************************************!*\
  !*** ./src/Itowns/CSS/Controls/BoostRelief/GPboostReliefItowns.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1NTL0NvbnRyb2xzL0Jvb3N0UmVsaWVmL0dQYm9vc3RSZWxpZWZJdG93bnMuY3NzPzE3MmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0NTUy9Db250cm9scy9Cb29zdFJlbGllZi9HUGJvb3N0UmVsaWVmSXRvd25zLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Itowns/CSS/Controls/BoostRelief/GPboostReliefItowns.css\n");

/***/ }),

/***/ "./src/Itowns/CSS/Controls/LayerSwitcher/GPlayerSwitcherItowns.css":
/*!*************************************************************************!*\
  !*** ./src/Itowns/CSS/Controls/LayerSwitcher/GPlayerSwitcherItowns.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1NTL0NvbnRyb2xzL0xheWVyU3dpdGNoZXIvR1BsYXllclN3aXRjaGVySXRvd25zLmNzcz85ZWFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9DU1MvQ29udHJvbHMvTGF5ZXJTd2l0Y2hlci9HUGxheWVyU3dpdGNoZXJJdG93bnMuY3NzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/CSS/Controls/LayerSwitcher/GPlayerSwitcherItowns.css\n");

/***/ }),

/***/ "./src/Itowns/CSS/Controls/MiniGlobe/GPminiGlobeItowns.css":
/*!*****************************************************************!*\
  !*** ./src/Itowns/CSS/Controls/MiniGlobe/GPminiGlobeItowns.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1NTL0NvbnRyb2xzL01pbmlHbG9iZS9HUG1pbmlHbG9iZUl0b3ducy5jc3M/MTU2YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9JdG93bnMvQ1NTL0NvbnRyb2xzL01pbmlHbG9iZS9HUG1pbmlHbG9iZUl0b3ducy5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/CSS/Controls/MiniGlobe/GPminiGlobeItowns.css\n");

/***/ }),

/***/ "./src/Itowns/CSS/Controls/MousePosition/GPmousePositionItowns.css":
/*!*************************************************************************!*\
  !*** ./src/Itowns/CSS/Controls/MousePosition/GPmousePositionItowns.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1NTL0NvbnRyb2xzL01vdXNlUG9zaXRpb24vR1Btb3VzZVBvc2l0aW9uSXRvd25zLmNzcz9iNDY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9DU1MvQ29udHJvbHMvTW91c2VQb3NpdGlvbi9HUG1vdXNlUG9zaXRpb25JdG93bnMuY3NzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/CSS/Controls/MousePosition/GPmousePositionItowns.css\n");

/***/ }),

/***/ "./src/Itowns/CSS/Controls/Scale/GPscaleItowns.css":
/*!*********************************************************!*\
  !*** ./src/Itowns/CSS/Controls/Scale/GPscaleItowns.css ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1NTL0NvbnRyb2xzL1NjYWxlL0dQc2NhbGVJdG93bnMuY3NzPzZlNTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0NTUy9Db250cm9scy9TY2FsZS9HUHNjYWxlSXRvd25zLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Itowns/CSS/Controls/Scale/GPscaleItowns.css\n");

/***/ }),

/***/ "./src/Itowns/CSS/GPgeneralWidgetItowns.css":
/*!**************************************************!*\
  !*** ./src/Itowns/CSS/GPgeneralWidgetItowns.css ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ1NTL0dQZ2VuZXJhbFdpZGdldEl0b3ducy5jc3M/OTk1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9JdG93bnMvQ1NTL0dQZ2VuZXJhbFdpZGdldEl0b3ducy5jc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/CSS/GPgeneralWidgetItowns.css\n");

/***/ }),

/***/ "./src/Itowns/Controls/Attributions.js":
/*!*********************************************!*\
  !*** ./src/Itowns/Controls/Attributions.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GlobeViewExtended */ \"./src/Itowns/GlobeViewExtended.js\");\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Utils/SelectorID */ \"./src/Common/Utils/SelectorID.js\");\n/* harmony import */ var _Common_Utils_LayerUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Common/Utils/LayerUtils */ \"./src/Common/Utils/LayerUtils.js\");\n/* harmony import */ var _Common_Controls_AttributionDOM__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Common/Controls/AttributionDOM */ \"./src/Common/Controls/AttributionDOM.js\");\n/* harmony import */ var _Widget__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Widget */ \"./src/Itowns/Controls/Widget.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getLogger(\"Attributions\");\n/**\n * @classdesc\n * Control to manage layers attributions\n *\n * @constructor\n * @alias itowns.control.Attributions\n * @extends {itowns.control.Widget}\n * @param {Object} aOptions - control options\n * @param {Object} [aOptions.options] - Itowns.control.Control options\n * @param {Boolean} [aOptions.options.collapsed = false] - Specify if the control has to be opened or not.\n * @example\n * var attribution = new itowns.control.Attritbution({\n *  options : {\n *      collapsed: true\n *  }\n * ));\n */\n\nfunction Attributions(aOptions) {\n  aOptions = aOptions || {};\n  var options = aOptions.options || {};\n\n  if (!(this instanceof Attributions)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  }\n\n  if (options && _typeof(options) !== \"object\") {\n    throw new Error(\"ERROR WRONG_TYPE : options should be an object\");\n  }\n\n  this._initialize(options);\n\n  var container = this._initContainer(options);\n\n  _Widget__WEBPACK_IMPORTED_MODULE_6__[\"default\"].call(this, {\n    name: \"Attributions\",\n    element: container,\n    target: options.target,\n    position: options.position\n  });\n}\n/*\n * @lends module:Attributions\n */\n\n\nAttributions.prototype = Object.create(_Widget__WEBPACK_IMPORTED_MODULE_6__[\"default\"].prototype, {}); // retrieves methods of the common class AttributionDOM\n\n_Common_Utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].assign(Attributions.prototype, _Common_Controls_AttributionDOM__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n/**\n * Constructor (alias)\n *\n * @private\n */\n\nAttributions.prototype.constructor = Attributions; // ################################################################### //\n// ############## public methods (getters, setters) ################## //\n// ################################################################### //\n\n/**\n * Bind globe to control\n *\n * @param {GlobeViewExtended} globe - the globe\n */\n\nAttributions.prototype.setGlobe = function (globe) {\n  // info : this function is called after a globe.addWidget() or a globe.removeWidget()\n  if (globe) {\n    // In the case of the adding of a control to the globe\n    var self = this; // Adding of the listeners\n    // At every globe movement, attributions may be updated,\n    // according to layers on globe, and their visibility.\n\n    this._callbacks.onPreRenderCallBack = function (e) {\n      var allLayers = e.colorLayersId.concat(e.elevationLayersId);\n\n      self._inRangeUpdate(allLayers, e.extent);\n    };\n\n    globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.PRE_RENDER, this._callbacks.onPreRenderCallBack);\n    globe.preRenderEventFetchViewExtent();\n    globe.preRenderEventFetchLayersDisplayed();\n  } else {\n    // delete listener\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.PRE_RENDER, this._callbacks.onPreRenderCallBack); // delete DOM\n\n\n    while (this._element.hasChildNodes()) {\n      this._element.removeChild(this._element.lastChild);\n    }\n\n    this._element.parentNode.removeChild(this._element);\n  } // call original setGlobe method\n\n\n  _Widget__WEBPACK_IMPORTED_MODULE_6__[\"default\"].prototype.setGlobe.call(this, globe);\n};\n/**\n * Collapse or display control main container\n *\n * @param {Boolean} collapsed - True to collapse control, False to display it\n */\n\n\nAttributions.prototype.setCollapsed = function (collapsed) {\n  if (collapsed === undefined) {\n    logger.error(\"Attributions:setCollapsed - missing collapsed parameter\");\n    return;\n  }\n\n  var isCollapsed = this.getCollapsed();\n\n  if (collapsed && isCollapsed || !collapsed && !isCollapsed) {\n    return;\n  }\n\n  document.getElementById(this._addUID(\"GPshowAttributionsList\")).checked = !collapsed;\n};\n/**\n * Returns true if widget is collapsed (minimize), false otherwise\n *\n * @return {Boolean} collapsed\n */\n\n\nAttributions.prototype.getCollapsed = function () {\n  return !document.getElementById(this._addUID(\"GPshowAttributionsList\")).checked;\n}; // ################################################################### //\n// ##################### init component ############################## //\n// ################################################################### //\n\n/**\n * Initialize Attributions control (called by constructor)\n *\n * @param {Object} options - Itowns.control.Control options\n * @private\n */\n\n\nAttributions.prototype._initialize = function (options) {\n  // id of the widget : usefull to suffix the CSS ids (to handle cases with several widgets on the same page)\n  this._uid = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_3__[\"default\"].generate(); // div which will contain the list divs.\n\n  this._AttributionContainer = null; // callbacks\n\n  this._callbacks = {}; // options\n\n  this._options = options;\n};\n/**\n * Creates control main container\n *\n * @method _initContainer\n * @param {Object} options - control options\n * @returns {DOMElement} container - widget container\n * @private\n */\n\n\nAttributions.prototype._initContainer = function (options) {\n  var container = this._createMainContainerElement(); // adds in the main container the layer display selector\n\n\n  var inputShow = this._createMainAttributionsShowElement();\n\n  container.appendChild(inputShow); // handles the \"collapsed\" mode\n\n  if (!options.collapsed) {\n    inputShow.checked = \"checked\";\n  } // adds the layer list in the main container\n\n\n  var divA = this._attributionListContainer = this._createMainAttributionsListContainer();\n\n  var ulA = this._createAttributionsList();\n\n  divA.appendChild(ulA);\n  container.appendChild(divA); // adds the widget picto in the main container\n\n  var picto = this._createMainPictoElement(options.collapsed);\n\n  container.appendChild(picto);\n  return container;\n};\n/**\n * Checks layers range\n *\n * @method _inRangeUpdate\n * @param {Array} layersDisplayed - Id of the layers diplayed on screen\n * @param {Object} extent - The globe view extent\n * @private\n */\n\n\nAttributions.prototype._inRangeUpdate = function (layersDisplayed, extent) {\n  var globe = this.getGlobe();\n  var scaleDenominator = 1 / globe.getScale();\n  var attributions = new Map();\n\n  for (var h = 0; h < layersDisplayed.length; h++) {\n    var layer = globe.getLayerById(layersDisplayed[h]);\n    var ori = layer.source.attribution;\n\n    if (ori) {\n      for (var j = 0; j < ori.length; j++) {\n        // if the attribution is already added, we skip to not add it several times\n        if (attributions.has(ori[j].name)) {\n          continue;\n        }\n\n        ; // if no constraints are associated to the originator, we just add the attribution\n\n        if (!ori[j].constraints || !ori[j].constraints[0]) {\n          // adds the attribution in the Map() called 'attributions'\n          attributions.set(ori[j].name, ori[j]);\n          continue;\n        } // if the minScaleDenominator exists\n\n\n        if (ori[j].constraints[0].minScaleDenominator) {\n          // if min/maxScaleDenominator are equals, we display the attribution corresponding to the zoom level associated to the scale denominator\n          if (ori[j].constraints[0].minScaleDenominator === ori[j].constraints[0].maxScaleDenominator) {\n            // retrieves the zoom level\n            var attributionZoomLevel = _Common_Utils_LayerUtils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getZoomLevelFromScaleDenominator(ori[j].constraints[0].minScaleDenominator); // selects the scaledenominators around the corresponding zoom level\n\n            var maxAttributionScaleDenominator = (this._resolutionsWGS84[attributionZoomLevel] + this._resolutionsWGS84[attributionZoomLevel - 1]) / (0.00028 * 2);\n            var minAttributionScaleDenominator = (this._resolutionsWGS84[attributionZoomLevel] + this._resolutionsWGS84[attributionZoomLevel + 1]) / (0.00028 * 2);\n\n            if (!(maxAttributionScaleDenominator > scaleDenominator && scaleDenominator > minAttributionScaleDenominator)) {\n              continue;\n            } // either, we check we are located between the minScaleDenominator and the maxScaleDenominator\n\n          } else if (!(ori[j].constraints[0].minScaleDenominator < scaleDenominator && scaleDenominator < ori[j].constraints[0].maxScaleDenominator)) {\n            continue;\n          }\n        } // checks if 'bbox\" exists\n\n\n        if (ori[j].constraints[0].bbox) {\n          // checks if we are into the bbox limits\n          var intersectsX = ori[j].constraints[0].bbox.left <= extent.east && extent.west <= ori[j].constraints[0].bbox.right;\n          var intersectsY = ori[j].constraints[0].bbox.bottom <= extent.north && extent.south <= ori[j].constraints[0].bbox.top;\n\n          if (intersectsX && intersectsY) {\n            // adds the attribution in the Map() called 'attributions'\n            attributions.set(ori[j].name, ori[j]);\n          } // if 'bbox' attribute doesn't exist\n\n        } else if (!ori[j].constraints[0].bbox) {\n          attributions.set(ori[j].name, ori[j]);\n        }\n      }\n    }\n  }\n\n  this._updateAttributionListContainer(attributions);\n}; // ################################################################### //\n// ######################### DOM events ############################## //\n// ################################################################### //\n\n/**\n * Updates the layer list container\n *\n * @method _updateAttributionListContainer\n * @param {Map} attributions - map of attributions\n * @private\n */\n\n\nAttributions.prototype._updateAttributionListContainer = function (attributions) {\n  var element = document.getElementById(this._addUID(\"GPAttributionsList\"));\n  document.getElementById(this._addUID(\"GPAttributionsList\")).parentNode.removeChild(element);\n\n  var ul = this._createAttributionsList();\n\n  attributions.forEach(function (a) {\n    var li = document.createElement(\"li\");\n    var link = document.createElement(\"a\");\n    link.href = a.url;\n    link.innerHTML = a.name + \"&nbsp\";\n    link.target = \"_blank\";\n    li.id = a.name.replace(/\\s/g, \"\");\n    li.appendChild(link);\n    ul.appendChild(li);\n  });\n\n  this._attributionListContainer.appendChild(ul);\n};\n\nAttributions.prototype._resolutionsWGS84 = {\n  0: 156543.033928041,\n  1: 78271.51696402048,\n  2: 39135.758482010235,\n  3: 19567.87924100512,\n  4: 9783.93962050256,\n  5: 4891.96981025128,\n  6: 2445.98490512564,\n  7: 1222.99245256282,\n  8: 611.49622628141,\n  9: 305.7481131407048,\n  10: 152.8740565703525,\n  11: 76.43702828517624,\n  12: 38.21851414258813,\n  13: 19.10925707129406,\n  14: 9.554628535647032,\n  15: 4.777314267823516,\n  16: 2.388657133911758,\n  17: 1.194328566955879,\n  18: 0.5971642834779395,\n  19: 0.2985821417389697,\n  20: 0.1492910708694849,\n  21: 0.0746455354347424\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Attributions);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvQXR0cmlidXRpb25zLmpzP2Q5ZjYiXSwibmFtZXMiOlsibG9nZ2VyIiwiTG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiQXR0cmlidXRpb25zIiwiYU9wdGlvbnMiLCJvcHRpb25zIiwiVHlwZUVycm9yIiwiRXJyb3IiLCJfaW5pdGlhbGl6ZSIsImNvbnRhaW5lciIsIl9pbml0Q29udGFpbmVyIiwiV2lkZ2V0IiwiY2FsbCIsIm5hbWUiLCJlbGVtZW50IiwidGFyZ2V0IiwicG9zaXRpb24iLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJVdGlscyIsImFzc2lnbiIsIkF0dHJpYnV0aW9uRE9NIiwiY29uc3RydWN0b3IiLCJzZXRHbG9iZSIsImdsb2JlIiwic2VsZiIsIl9jYWxsYmFja3MiLCJvblByZVJlbmRlckNhbGxCYWNrIiwiZSIsImFsbExheWVycyIsImNvbG9yTGF5ZXJzSWQiLCJjb25jYXQiLCJlbGV2YXRpb25MYXllcnNJZCIsIl9pblJhbmdlVXBkYXRlIiwiZXh0ZW50IiwibGlzdGVuIiwiR2xvYmVWaWV3RXh0ZW5kZWQiLCJFVkVOVFMiLCJQUkVfUkVOREVSIiwicHJlUmVuZGVyRXZlbnRGZXRjaFZpZXdFeHRlbnQiLCJwcmVSZW5kZXJFdmVudEZldGNoTGF5ZXJzRGlzcGxheWVkIiwiX2dsb2JlIiwiZm9yZ2V0IiwiX2VsZW1lbnQiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJwYXJlbnROb2RlIiwic2V0Q29sbGFwc2VkIiwiY29sbGFwc2VkIiwidW5kZWZpbmVkIiwiZXJyb3IiLCJpc0NvbGxhcHNlZCIsImdldENvbGxhcHNlZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJfYWRkVUlEIiwiY2hlY2tlZCIsIl91aWQiLCJTZWxlY3RvcklEIiwiZ2VuZXJhdGUiLCJfQXR0cmlidXRpb25Db250YWluZXIiLCJfb3B0aW9ucyIsIl9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCIsImlucHV0U2hvdyIsIl9jcmVhdGVNYWluQXR0cmlidXRpb25zU2hvd0VsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImRpdkEiLCJfYXR0cmlidXRpb25MaXN0Q29udGFpbmVyIiwiX2NyZWF0ZU1haW5BdHRyaWJ1dGlvbnNMaXN0Q29udGFpbmVyIiwidWxBIiwiX2NyZWF0ZUF0dHJpYnV0aW9uc0xpc3QiLCJwaWN0byIsIl9jcmVhdGVNYWluUGljdG9FbGVtZW50IiwibGF5ZXJzRGlzcGxheWVkIiwiZ2V0R2xvYmUiLCJzY2FsZURlbm9taW5hdG9yIiwiZ2V0U2NhbGUiLCJhdHRyaWJ1dGlvbnMiLCJNYXAiLCJoIiwibGVuZ3RoIiwibGF5ZXIiLCJnZXRMYXllckJ5SWQiLCJvcmkiLCJzb3VyY2UiLCJhdHRyaWJ1dGlvbiIsImoiLCJoYXMiLCJjb25zdHJhaW50cyIsInNldCIsIm1pblNjYWxlRGVub21pbmF0b3IiLCJtYXhTY2FsZURlbm9taW5hdG9yIiwiYXR0cmlidXRpb25ab29tTGV2ZWwiLCJMYXllclV0aWxzIiwiZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3IiLCJtYXhBdHRyaWJ1dGlvblNjYWxlRGVub21pbmF0b3IiLCJfcmVzb2x1dGlvbnNXR1M4NCIsIm1pbkF0dHJpYnV0aW9uU2NhbGVEZW5vbWluYXRvciIsImJib3giLCJpbnRlcnNlY3RzWCIsImxlZnQiLCJlYXN0Iiwid2VzdCIsInJpZ2h0IiwiaW50ZXJzZWN0c1kiLCJib3R0b20iLCJub3J0aCIsInNvdXRoIiwidG9wIiwiX3VwZGF0ZUF0dHJpYnV0aW9uTGlzdENvbnRhaW5lciIsInVsIiwiZm9yRWFjaCIsImEiLCJsaSIsImNyZWF0ZUVsZW1lbnQiLCJsaW5rIiwiaHJlZiIsInVybCIsImlubmVySFRNTCIsImlkIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBSUEsTUFBTSxHQUFHQyxx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eUJlL0YsMkVBQWYiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0NvbnRyb2xzL0F0dHJpYnV0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHbG9iZVZpZXdFeHRlbmRlZCBmcm9tIFwiLi4vR2xvYmVWaWV3RXh0ZW5kZWRcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzXCI7XG5pbXBvcnQgU2VsZWN0b3JJRCBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzL1NlbGVjdG9ySURcIjtcbmltcG9ydCBMYXllclV0aWxzIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTGF5ZXJVdGlsc1wiO1xuaW1wb3J0IEF0dHJpYnV0aW9uRE9NIGZyb20gXCIuLi8uLi9Db21tb24vQ29udHJvbHMvQXR0cmlidXRpb25ET01cIjtcbmltcG9ydCBXaWRnZXQgZnJvbSBcIi4vV2lkZ2V0XCI7XG5cbnZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiQXR0cmlidXRpb25zXCIpO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENvbnRyb2wgdG8gbWFuYWdlIGxheWVycyBhdHRyaWJ1dGlvbnNcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBpdG93bnMuY29udHJvbC5BdHRyaWJ1dGlvbnNcbiAqIEBleHRlbmRzIHtpdG93bnMuY29udHJvbC5XaWRnZXR9XG4gKiBAcGFyYW0ge09iamVjdH0gYU9wdGlvbnMgLSBjb250cm9sIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYU9wdGlvbnMub3B0aW9uc10gLSBJdG93bnMuY29udHJvbC5Db250cm9sIG9wdGlvbnNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FPcHRpb25zLm9wdGlvbnMuY29sbGFwc2VkID0gZmFsc2VdIC0gU3BlY2lmeSBpZiB0aGUgY29udHJvbCBoYXMgdG8gYmUgb3BlbmVkIG9yIG5vdC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgYXR0cmlidXRpb24gPSBuZXcgaXRvd25zLmNvbnRyb2wuQXR0cml0YnV0aW9uKHtcbiAqICBvcHRpb25zIDoge1xuICogICAgICBjb2xsYXBzZWQ6IHRydWVcbiAqICB9XG4gKiApKTtcbiAqL1xuZnVuY3Rpb24gQXR0cmlidXRpb25zIChhT3B0aW9ucykge1xuICAgIGFPcHRpb25zID0gYU9wdGlvbnMgfHwge307XG4gICAgdmFyIG9wdGlvbnMgPSBhT3B0aW9ucy5vcHRpb25zIHx8IHt9O1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEF0dHJpYnV0aW9ucykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVSUk9SIENMQVNTX0NPTlNUUlVDVE9SXCIpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUk9SIFdST05HX1RZUEUgOiBvcHRpb25zIHNob3VsZCBiZSBhbiBvYmplY3RcIik7XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdGlhbGl6ZShvcHRpb25zKTtcblxuICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9pbml0Q29udGFpbmVyKG9wdGlvbnMpO1xuXG4gICAgV2lkZ2V0LmNhbGwoXG4gICAgICAgIHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWUgOiBcIkF0dHJpYnV0aW9uc1wiLFxuICAgICAgICAgICAgZWxlbWVudCA6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHRhcmdldCA6IG9wdGlvbnMudGFyZ2V0LFxuICAgICAgICAgICAgcG9zaXRpb24gOiBvcHRpb25zLnBvc2l0aW9uXG4gICAgICAgIH1cbiAgICApO1xufVxuXG4vKlxuICogQGxlbmRzIG1vZHVsZTpBdHRyaWJ1dGlvbnNcbiAqL1xuQXR0cmlidXRpb25zLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV2lkZ2V0LnByb3RvdHlwZSwge30pO1xuXG4vLyByZXRyaWV2ZXMgbWV0aG9kcyBvZiB0aGUgY29tbW9uIGNsYXNzIEF0dHJpYnV0aW9uRE9NXG5VdGlscy5hc3NpZ24oQXR0cmlidXRpb25zLnByb3RvdHlwZSwgQXR0cmlidXRpb25ET00pO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIChhbGlhcylcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BdHRyaWJ1dGlvbnMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXR0cmlidXRpb25zO1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyBwdWJsaWMgbWV0aG9kcyAoZ2V0dGVycywgc2V0dGVycykgIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbi8qKlxuICogQmluZCBnbG9iZSB0byBjb250cm9sXG4gKlxuICogQHBhcmFtIHtHbG9iZVZpZXdFeHRlbmRlZH0gZ2xvYmUgLSB0aGUgZ2xvYmVcbiAqL1xuQXR0cmlidXRpb25zLnByb3RvdHlwZS5zZXRHbG9iZSA9IGZ1bmN0aW9uIChnbG9iZSkge1xuICAgIC8vIGluZm8gOiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZnRlciBhIGdsb2JlLmFkZFdpZGdldCgpIG9yIGEgZ2xvYmUucmVtb3ZlV2lkZ2V0KClcblxuICAgIGlmIChnbG9iZSkgeyAvLyBJbiB0aGUgY2FzZSBvZiB0aGUgYWRkaW5nIG9mIGEgY29udHJvbCB0byB0aGUgZ2xvYmVcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIEFkZGluZyBvZiB0aGUgbGlzdGVuZXJzXG5cbiAgICAgICAgLy8gQXQgZXZlcnkgZ2xvYmUgbW92ZW1lbnQsIGF0dHJpYnV0aW9ucyBtYXkgYmUgdXBkYXRlZCxcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIGxheWVycyBvbiBnbG9iZSwgYW5kIHRoZWlyIHZpc2liaWxpdHkuXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vblByZVJlbmRlckNhbGxCYWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBhbGxMYXllcnMgPSBlLmNvbG9yTGF5ZXJzSWQuY29uY2F0KGUuZWxldmF0aW9uTGF5ZXJzSWQpO1xuXG4gICAgICAgICAgICBzZWxmLl9pblJhbmdlVXBkYXRlKGFsbExheWVycywgZS5leHRlbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGdsb2JlLmxpc3RlbihHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuUFJFX1JFTkRFUiwgdGhpcy5fY2FsbGJhY2tzLm9uUHJlUmVuZGVyQ2FsbEJhY2spO1xuICAgICAgICBnbG9iZS5wcmVSZW5kZXJFdmVudEZldGNoVmlld0V4dGVudCgpO1xuICAgICAgICBnbG9iZS5wcmVSZW5kZXJFdmVudEZldGNoTGF5ZXJzRGlzcGxheWVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVsZXRlIGxpc3RlbmVyXG4gICAgICAgIHRoaXMuX2dsb2JlLmZvcmdldChHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuUFJFX1JFTkRFUiwgdGhpcy5fY2FsbGJhY2tzLm9uUHJlUmVuZGVyQ2FsbEJhY2spO1xuXG4gICAgICAgIC8vIGRlbGV0ZSBET01cbiAgICAgICAgd2hpbGUgKHRoaXMuX2VsZW1lbnQuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX2VsZW1lbnQubGFzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gY2FsbCBvcmlnaW5hbCBzZXRHbG9iZSBtZXRob2RcbiAgICBXaWRnZXQucHJvdG90eXBlLnNldEdsb2JlLmNhbGwodGhpcywgZ2xvYmUpO1xufTtcblxuLyoqXG4gKiBDb2xsYXBzZSBvciBkaXNwbGF5IGNvbnRyb2wgbWFpbiBjb250YWluZXJcbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNvbGxhcHNlZCAtIFRydWUgdG8gY29sbGFwc2UgY29udHJvbCwgRmFsc2UgdG8gZGlzcGxheSBpdFxuICovXG5BdHRyaWJ1dGlvbnMucHJvdG90eXBlLnNldENvbGxhcHNlZCA9IGZ1bmN0aW9uIChjb2xsYXBzZWQpIHtcbiAgICBpZiAoY29sbGFwc2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiQXR0cmlidXRpb25zOnNldENvbGxhcHNlZCAtIG1pc3NpbmcgY29sbGFwc2VkIHBhcmFtZXRlclwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaXNDb2xsYXBzZWQgPSB0aGlzLmdldENvbGxhcHNlZCgpO1xuICAgIGlmICgoY29sbGFwc2VkICYmIGlzQ29sbGFwc2VkKSB8fCAoIWNvbGxhcHNlZCAmJiAhaXNDb2xsYXBzZWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUHNob3dBdHRyaWJ1dGlvbnNMaXN0XCIpKS5jaGVja2VkID0gIWNvbGxhcHNlZDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHdpZGdldCBpcyBjb2xsYXBzZWQgKG1pbmltaXplKSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gY29sbGFwc2VkXG4gKi9cbkF0dHJpYnV0aW9ucy5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BzaG93QXR0cmlidXRpb25zTGlzdFwiKSkuY2hlY2tlZDtcbn07XG5cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyBpbml0IGNvbXBvbmVudCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuLyoqXG4gKiBJbml0aWFsaXplIEF0dHJpYnV0aW9ucyBjb250cm9sIChjYWxsZWQgYnkgY29uc3RydWN0b3IpXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBJdG93bnMuY29udHJvbC5Db250cm9sIG9wdGlvbnNcbiAqIEBwcml2YXRlXG4gKi9cbkF0dHJpYnV0aW9ucy5wcm90b3R5cGUuX2luaXRpYWxpemUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIGlkIG9mIHRoZSB3aWRnZXQgOiB1c2VmdWxsIHRvIHN1ZmZpeCB0aGUgQ1NTIGlkcyAodG8gaGFuZGxlIGNhc2VzIHdpdGggc2V2ZXJhbCB3aWRnZXRzIG9uIHRoZSBzYW1lIHBhZ2UpXG4gICAgdGhpcy5fdWlkID0gU2VsZWN0b3JJRC5nZW5lcmF0ZSgpO1xuXG4gICAgLy8gZGl2IHdoaWNoIHdpbGwgY29udGFpbiB0aGUgbGlzdCBkaXZzLlxuICAgIHRoaXMuX0F0dHJpYnV0aW9uQ29udGFpbmVyID0gbnVsbDtcblxuICAgIC8vIGNhbGxiYWNrc1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuXG4gICAgLy8gb3B0aW9uc1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGNvbnRyb2wgbWFpbiBjb250YWluZXJcbiAqXG4gKiBAbWV0aG9kIF9pbml0Q29udGFpbmVyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIGNvbnRyb2wgb3B0aW9uc1xuICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lciAtIHdpZGdldCBjb250YWluZXJcbiAqIEBwcml2YXRlXG4gKi9cbkF0dHJpYnV0aW9ucy5wcm90b3R5cGUuX2luaXRDb250YWluZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCgpO1xuXG4gICAgLy8gYWRkcyBpbiB0aGUgbWFpbiBjb250YWluZXIgdGhlIGxheWVyIGRpc3BsYXkgc2VsZWN0b3JcbiAgICB2YXIgaW5wdXRTaG93ID0gdGhpcy5fY3JlYXRlTWFpbkF0dHJpYnV0aW9uc1Nob3dFbGVtZW50KCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0U2hvdyk7XG5cbiAgICAvLyBoYW5kbGVzIHRoZSBcImNvbGxhcHNlZFwiIG1vZGVcbiAgICBpZiAoIW9wdGlvbnMuY29sbGFwc2VkKSB7XG4gICAgICAgIGlucHV0U2hvdy5jaGVja2VkID0gXCJjaGVja2VkXCI7XG4gICAgfVxuICAgIC8vIGFkZHMgdGhlIGxheWVyIGxpc3QgaW4gdGhlIG1haW4gY29udGFpbmVyXG4gICAgdmFyIGRpdkEgPSB0aGlzLl9hdHRyaWJ1dGlvbkxpc3RDb250YWluZXIgPSB0aGlzLl9jcmVhdGVNYWluQXR0cmlidXRpb25zTGlzdENvbnRhaW5lcigpO1xuICAgIHZhciB1bEEgPSB0aGlzLl9jcmVhdGVBdHRyaWJ1dGlvbnNMaXN0KCk7XG4gICAgZGl2QS5hcHBlbmRDaGlsZCh1bEEpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZBKTtcblxuICAgIC8vIGFkZHMgdGhlIHdpZGdldCBwaWN0byBpbiB0aGUgbWFpbiBjb250YWluZXJcbiAgICB2YXIgcGljdG8gPSB0aGlzLl9jcmVhdGVNYWluUGljdG9FbGVtZW50KG9wdGlvbnMuY29sbGFwc2VkKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGljdG8pO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGxheWVycyByYW5nZVxuICpcbiAqIEBtZXRob2QgX2luUmFuZ2VVcGRhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGxheWVyc0Rpc3BsYXllZCAtIElkIG9mIHRoZSBsYXllcnMgZGlwbGF5ZWQgb24gc2NyZWVuXG4gKiBAcGFyYW0ge09iamVjdH0gZXh0ZW50IC0gVGhlIGdsb2JlIHZpZXcgZXh0ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5cbkF0dHJpYnV0aW9ucy5wcm90b3R5cGUuX2luUmFuZ2VVcGRhdGUgPSBmdW5jdGlvbiAobGF5ZXJzRGlzcGxheWVkLCBleHRlbnQpIHtcbiAgICB2YXIgZ2xvYmUgPSB0aGlzLmdldEdsb2JlKCk7XG5cbiAgICB2YXIgc2NhbGVEZW5vbWluYXRvciA9IDEgLyBnbG9iZS5nZXRTY2FsZSgpO1xuXG4gICAgdmFyIGF0dHJpYnV0aW9ucyA9IG5ldyBNYXAoKTtcblxuICAgIGZvciAodmFyIGggPSAwOyBoIDwgbGF5ZXJzRGlzcGxheWVkLmxlbmd0aDsgaCsrKSB7XG4gICAgICAgIHZhciBsYXllciA9IGdsb2JlLmdldExheWVyQnlJZChsYXllcnNEaXNwbGF5ZWRbaF0pO1xuXG4gICAgICAgIHZhciBvcmkgPSBsYXllci5zb3VyY2UuYXR0cmlidXRpb247XG5cbiAgICAgICAgaWYgKG9yaSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvcmkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgYXR0cmlidXRpb24gaXMgYWxyZWFkeSBhZGRlZCwgd2Ugc2tpcCB0byBub3QgYWRkIGl0IHNldmVyYWwgdGltZXNcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRpb25zLmhhcyhvcmlbal0ubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBjb25zdHJhaW50cyBhcmUgYXNzb2NpYXRlZCB0byB0aGUgb3JpZ2luYXRvciwgd2UganVzdCBhZGQgdGhlIGF0dHJpYnV0aW9uXG4gICAgICAgICAgICAgICAgaWYgKCFvcmlbal0uY29uc3RyYWludHMgfHwgIW9yaVtqXS5jb25zdHJhaW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGRzIHRoZSBhdHRyaWJ1dGlvbiBpbiB0aGUgTWFwKCkgY2FsbGVkICdhdHRyaWJ1dGlvbnMnXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy5zZXQob3JpW2pdLm5hbWUsIG9yaVtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgbWluU2NhbGVEZW5vbWluYXRvciBleGlzdHNcbiAgICAgICAgICAgICAgICBpZiAob3JpW2pdLmNvbnN0cmFpbnRzWzBdLm1pblNjYWxlRGVub21pbmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgbWluL21heFNjYWxlRGVub21pbmF0b3IgYXJlIGVxdWFscywgd2UgZGlzcGxheSB0aGUgYXR0cmlidXRpb24gY29ycmVzcG9uZGluZyB0byB0aGUgem9vbSBsZXZlbCBhc3NvY2lhdGVkIHRvIHRoZSBzY2FsZSBkZW5vbWluYXRvclxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpW2pdLmNvbnN0cmFpbnRzWzBdLm1pblNjYWxlRGVub21pbmF0b3IgPT09IG9yaVtqXS5jb25zdHJhaW50c1swXS5tYXhTY2FsZURlbm9taW5hdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZXMgdGhlIHpvb20gbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGlvblpvb21MZXZlbCA9IExheWVyVXRpbHMuZ2V0Wm9vbUxldmVsRnJvbVNjYWxlRGVub21pbmF0b3Iob3JpW2pdLmNvbnN0cmFpbnRzWzBdLm1pblNjYWxlRGVub21pbmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0cyB0aGUgc2NhbGVkZW5vbWluYXRvcnMgYXJvdW5kIHRoZSBjb3JyZXNwb25kaW5nIHpvb20gbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXhBdHRyaWJ1dGlvblNjYWxlRGVub21pbmF0b3IgPSAodGhpcy5fcmVzb2x1dGlvbnNXR1M4NFthdHRyaWJ1dGlvblpvb21MZXZlbF0gKyB0aGlzLl9yZXNvbHV0aW9uc1dHUzg0W2F0dHJpYnV0aW9uWm9vbUxldmVsIC0gMV0pIC8gKDAuMDAwMjggKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW5BdHRyaWJ1dGlvblNjYWxlRGVub21pbmF0b3IgPSAodGhpcy5fcmVzb2x1dGlvbnNXR1M4NFthdHRyaWJ1dGlvblpvb21MZXZlbF0gKyB0aGlzLl9yZXNvbHV0aW9uc1dHUzg0W2F0dHJpYnV0aW9uWm9vbUxldmVsICsgMV0pIC8gKDAuMDAwMjggKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG1heEF0dHJpYnV0aW9uU2NhbGVEZW5vbWluYXRvciA+IHNjYWxlRGVub21pbmF0b3IgJiYgc2NhbGVEZW5vbWluYXRvciA+IG1pbkF0dHJpYnV0aW9uU2NhbGVEZW5vbWluYXRvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZWl0aGVyLCB3ZSBjaGVjayB3ZSBhcmUgbG9jYXRlZCBiZXR3ZWVuIHRoZSBtaW5TY2FsZURlbm9taW5hdG9yIGFuZCB0aGUgbWF4U2NhbGVEZW5vbWluYXRvclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEob3JpW2pdLmNvbnN0cmFpbnRzWzBdLm1pblNjYWxlRGVub21pbmF0b3IgPCBzY2FsZURlbm9taW5hdG9yICYmIHNjYWxlRGVub21pbmF0b3IgPCBvcmlbal0uY29uc3RyYWludHNbMF0ubWF4U2NhbGVEZW5vbWluYXRvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrcyBpZiAnYmJveFwiIGV4aXN0c1xuICAgICAgICAgICAgICAgIGlmIChvcmlbal0uY29uc3RyYWludHNbMF0uYmJveCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVja3MgaWYgd2UgYXJlIGludG8gdGhlIGJib3ggbGltaXRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcnNlY3RzWCA9IChvcmlbal0uY29uc3RyYWludHNbMF0uYmJveC5sZWZ0IDw9IGV4dGVudC5lYXN0KSAmJiAoZXh0ZW50Lndlc3QgPD0gb3JpW2pdLmNvbnN0cmFpbnRzWzBdLmJib3gucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJzZWN0c1kgPSAob3JpW2pdLmNvbnN0cmFpbnRzWzBdLmJib3guYm90dG9tIDw9IGV4dGVudC5ub3J0aCkgJiYgKGV4dGVudC5zb3V0aCA8PSBvcmlbal0uY29uc3RyYWludHNbMF0uYmJveC50b3ApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0c1ggJiYgaW50ZXJzZWN0c1kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZHMgdGhlIGF0dHJpYnV0aW9uIGluIHRoZSBNYXAoKSBjYWxsZWQgJ2F0dHJpYnV0aW9ucydcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy5zZXQob3JpW2pdLm5hbWUsIG9yaVtqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgJ2Jib3gnIGF0dHJpYnV0ZSBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghb3JpW2pdLmNvbnN0cmFpbnRzWzBdLmJib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRpb25zLnNldChvcmlbal0ubmFtZSwgb3JpW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlQXR0cmlidXRpb25MaXN0Q29udGFpbmVyKGF0dHJpYnV0aW9ucyk7XG59O1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIERPTSBldmVudHMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbi8qKlxuICogVXBkYXRlcyB0aGUgbGF5ZXIgbGlzdCBjb250YWluZXJcbiAqXG4gKiBAbWV0aG9kIF91cGRhdGVBdHRyaWJ1dGlvbkxpc3RDb250YWluZXJcbiAqIEBwYXJhbSB7TWFwfSBhdHRyaWJ1dGlvbnMgLSBtYXAgb2YgYXR0cmlidXRpb25zXG4gKiBAcHJpdmF0ZVxuICovXG5BdHRyaWJ1dGlvbnMucHJvdG90eXBlLl91cGRhdGVBdHRyaWJ1dGlvbkxpc3RDb250YWluZXIgPSBmdW5jdGlvbiAoYXR0cmlidXRpb25zKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUEF0dHJpYnV0aW9uc0xpc3RcIikpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQQXR0cmlidXRpb25zTGlzdFwiKSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcblxuICAgIHZhciB1bCA9IHRoaXMuX2NyZWF0ZUF0dHJpYnV0aW9uc0xpc3QoKTtcbiAgICBhdHRyaWJ1dGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGxpbmsuaHJlZiA9IGEudXJsO1xuICAgICAgICBsaW5rLmlubmVySFRNTCA9IGEubmFtZSArIFwiJm5ic3BcIjtcbiAgICAgICAgbGluay50YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgICAgICBsaS5pZCA9IGEubmFtZS5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG4gICAgICAgIGxpLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG4gICAgfSk7XG4gICAgdGhpcy5fYXR0cmlidXRpb25MaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHVsKTtcbn07XG5cbkF0dHJpYnV0aW9ucy5wcm90b3R5cGUuX3Jlc29sdXRpb25zV0dTODQgPSB7XG4gICAgMCA6IDE1NjU0My4wMzM5MjgwNDEsXG4gICAgMSA6IDc4MjcxLjUxNjk2NDAyMDQ4LFxuICAgIDIgOiAzOTEzNS43NTg0ODIwMTAyMzUsXG4gICAgMyA6IDE5NTY3Ljg3OTI0MTAwNTEyLFxuICAgIDQgOiA5NzgzLjkzOTYyMDUwMjU2LFxuICAgIDUgOiA0ODkxLjk2OTgxMDI1MTI4LFxuICAgIDYgOiAyNDQ1Ljk4NDkwNTEyNTY0LFxuICAgIDcgOiAxMjIyLjk5MjQ1MjU2MjgyLFxuICAgIDggOiA2MTEuNDk2MjI2MjgxNDEsXG4gICAgOSA6IDMwNS43NDgxMTMxNDA3MDQ4LFxuICAgIDEwIDogMTUyLjg3NDA1NjU3MDM1MjUsXG4gICAgMTEgOiA3Ni40MzcwMjgyODUxNzYyNCxcbiAgICAxMiA6IDM4LjIxODUxNDE0MjU4ODEzLFxuICAgIDEzIDogMTkuMTA5MjU3MDcxMjk0MDYsXG4gICAgMTQgOiA5LjU1NDYyODUzNTY0NzAzMixcbiAgICAxNSA6IDQuNzc3MzE0MjY3ODIzNTE2LFxuICAgIDE2IDogMi4zODg2NTcxMzM5MTE3NTgsXG4gICAgMTcgOiAxLjE5NDMyODU2Njk1NTg3OSxcbiAgICAxOCA6IDAuNTk3MTY0MjgzNDc3OTM5NSxcbiAgICAxOSA6IDAuMjk4NTgyMTQxNzM4OTY5NyxcbiAgICAyMCA6IDAuMTQ5MjkxMDcwODY5NDg0OSxcbiAgICAyMSA6IDAuMDc0NjQ1NTM1NDM0NzQyNFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb25zO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/Attributions.js\n");

/***/ }),

/***/ "./src/Itowns/Controls/BoostRelief.js":
/*!********************************************!*\
  !*** ./src/Itowns/Controls/BoostRelief.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils/SelectorID */ \"./src/Common/Utils/SelectorID.js\");\n/* harmony import */ var _Common_Controls_BoostReliefDOM__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Controls/BoostReliefDOM */ \"./src/Common/Controls/BoostReliefDOM.js\");\n/* harmony import */ var _Widget__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Widget */ \"./src/Itowns/Controls/Widget.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"BoostRelief\");\n/**\n * @classdesc\n * Control to manage globe layers : their order, visibility and relief, and display their informations (title, description, legends, metadata...)\n *\n * @constructor\n * @extends {itowns.control.Widget}\n * @alias itowns.control.BoostRelief\n * @param {Object} brOptions - control options\n * @param {Object} [brOptions.scale] - Defines the scale used to boost the relief\n * @param {Number} [brOptions.scale.min] - Minimum of the scale - 1 by default\n * @param {Number} [brOptions.scale.max] - Maximum of the scale - 50 by default\n * @param {Number} [brOptions.scale.step] - Step of the scale - 1 by default\n * @param {Boolean} [brOptions.collapsed = true] - Specify if widget has to be collapsed (true) or not (false) on globe loading.\n * @param {Boolean} [brOptions.defaultBoost = 1] - Default boost value applied to the widget and the elevation layers when loaded\n * @example\n * var boostRelief = new itowns.control.BoostRelief({\n *      scale : {\n *          max : 30,\n *          step : 2\n *      },\n *      defaultBoost : 6\n * })\n */\n\nfunction BoostRelief(brOptions) {\n  brOptions = brOptions || {};\n  var options = brOptions.options || {};\n\n  if (!(this instanceof BoostRelief)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  }\n\n  if (options && _typeof(options) !== \"object\") {\n    throw new Error(\"ERROR WRONG_TYPE : options should be an object\");\n  }\n\n  this._initialize();\n\n  var container = this._initContainer(brOptions);\n\n  var targetDiv = document.getElementById(options.target) || null;\n  _Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].call(this, {\n    name: \"BoostRelief\",\n    element: container,\n    target: targetDiv\n  });\n}\n/*\n * @lends module:BoostRelief\n */\n\n\nBoostRelief.prototype = Object.create(_Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prototype, {}); // retrieves methods of the common class BoostReliefDOM\n\n_Common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].assign(BoostRelief.prototype, _Common_Controls_BoostReliefDOM__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n/**\n * Constructor (alias)\n *\n * @private\n */\n\nBoostRelief.prototype.constructor = BoostRelief; // ################################################################### //\n// ############## public methods (getters, setters) ################## //\n// ################################################################### //\n\n/**\n * Bind globe to control\n *\n * @param {GlobeViewExtended} globe - the globe\n */\n\nBoostRelief.prototype.setGlobe = function (globe) {\n  // TODO - removing listeners\n  // this._globe.removeLayerListener(layers[j], GlobeViewExtended.EVENTS.Relief_PROPERTY_CHANGED, this._callbacks.onReliefLayerCallBack);\n  // deletes the layerSwitcher DOM\n  if (!globe) {\n    while (this._element.hasChildNodes()) {\n      this._element.removeChild(this._element.lastChild);\n    }\n\n    this._element.parentNode.removeChild(this._element);\n  } // calls original setGlobe method\n\n\n  _Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prototype.setGlobe.call(this, globe);\n};\n/**\n * Collapse or display control main container\n *\n * @param {Boolean} collapsed - True to collapse control, False to display it\n */\n\n\nBoostRelief.prototype.setCollapsed = function (collapsed) {\n  if (collapsed === undefined) {\n    logger.error(\"BoostRelief:setCollapsed - missing collapsed parameter\");\n    return;\n  }\n\n  if (typeof collapsed !== \"boolean\") {\n    logger.error(\"BoostRelief:setCollapsed - collapsed parameter is not a boolean\");\n    return;\n  }\n\n  var isCollapsed = this.getCollapsed();\n\n  if (collapsed && isCollapsed || !collapsed && !isCollapsed) {\n    return;\n  }\n\n  var controlDiv = document.getElementById(this._addUID(\"GPBoostReliefListContainer\"));\n\n  if (collapsed) {\n    controlDiv.style.display = \"block\";\n    document.getElementById(this._addUID(\"GPshowBoostReliefList\")).checked = true;\n  } else {\n    controlDiv.style.display = \"none\";\n    document.getElementById(this._addUID(\"GPshowBoostReliefList\")).checked = false;\n  }\n};\n/**\n * Returns true if widget is collapsed (minimize), false otherwise\n * @return {Boolean} is collapsed\n */\n\n\nBoostRelief.prototype.getCollapsed = function () {\n  return document.getElementById(this._addUID(\"GPshowBoostReliefList\")).checked;\n}; // ################################################################### //\n// ##################### init component ############################## //\n// ################################################################### //\n\n/**\n * Initialize BoostRelief control (called by constructor)\n *\n * @private\n */\n\n\nBoostRelief.prototype._initialize = function () {\n  // id of the control ; used to suffix the CSS id (handles cases with severel controls on the same page)\n  this._uid = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_2__[\"default\"].generate(); // {Object} control layers list. Each key is a layer id, and its value is an object of layers options (layer, id, relief, visibility, title, description...)\n\n  this._layers = {}; // callbacks\n\n  this._callbacks = {};\n};\n/**\n * Creates control main container\n *\n * @method _initContainer\n * @param {Object} brOptions - control options\n * @returns {DOMElement} container - widget container\n * @private\n */\n\n\nBoostRelief.prototype._initContainer = function (brOptions) {\n  var container = this._createMainContainerElement(); // adds in the main container the layer display selector\n\n\n  var inputShow = this._createMainBoostReliefShowElement(brOptions.collapsed);\n\n  container.appendChild(inputShow); // adds the layer list in the main container\n\n  var divA = this._boostReliefListContainer = this._createMainBoostReliefListContainer();\n\n  var boostReliefList = this._createAdvancedToolElement(brOptions);\n\n  divA.appendChild(boostReliefList);\n  container.appendChild(divA); // adds the widget picto in the main container\n\n  var picto = this._createMainPictoElement();\n\n  container.appendChild(picto);\n\n  if (brOptions.collapsed) {\n    divA.style.display = \"block\";\n  } else {\n    divA.style.display = \"none\";\n  }\n\n  return container;\n}; // ################################################################### //\n// ######################### DOM events ############################## //\n// ################################################################### //\n\n/**\n * Changes layer relief on layer relief picto click\n *\n * @method _onChangeLayerRelief\n * @param {Object} e - HTML event\n * @private\n */\n\n\nBoostRelief.prototype._onChangeLayerRelief = function (e) {\n  var reliefValue = parseInt(e.target.value);\n  var reliefId = document.getElementById(this._addUID(\"GPreliefValue\"));\n  reliefId.innerHTML = \"x\" + reliefValue;\n\n  this._updateLayersRelief(reliefValue);\n};\n/**\n * Updates relief values of all elevation layers\n *\n * @method _updateLayerRelief\n * @param {Number} reliefValue - relief value\n * @private\n */\n\n\nBoostRelief.prototype._updateLayersRelief = function (reliefValue) {\n  var globe = this.getGlobe();\n\n  function updateScale(layer, value) {\n    layer.scale = value;\n    globe.notifyChange(layer);\n  } // if the scale of a single elevationLayer change, we update the scale of all others\n\n\n  var elevationLayers = globe.getElevationLayers();\n\n  for (var i = 0; i < elevationLayers.length; i++) {\n    updateScale(elevationLayers[i], reliefValue);\n  }\n};\n/**\n * Updates relief slider and all elevation layers with the given boost value\n *\n * @method changeBoost\n * @param {Number} reliefValue - relief value\n */\n\n\nBoostRelief.prototype.changeBoost = function (reliefValue) {\n  var layerReliefInput = document.getElementById(this._addUID(\"GPreliefValueDiv\"));\n\n  if (!layerReliefInput) {\n    logger.error(\"BoostRelief:changeBoost - boostRelief slider not loaded\");\n    return;\n  } // the reliefValue given must me in the slider range\n\n\n  if (reliefValue > layerReliefInput.max) {\n    reliefValue = layerReliefInput.max;\n  }\n\n  if (reliefValue < layerReliefInput.min) {\n    reliefValue = layerReliefInput.min;\n  } // updates the relief of all the elevationlayers\n\n\n  this._updateLayersRelief(reliefValue); // updates the slider cursor\n\n\n  layerReliefInput.value = reliefValue; // updates the slider text\n\n  var layerReliefSpan = document.getElementById(this._addUID(\"GPreliefValue\"));\n\n  if (layerReliefSpan) {\n    layerReliefSpan.innerHTML = \"x\" + reliefValue;\n  }\n};\n/**\n * Gets layer id from div id\n *\n * @method _resolveLayerId\n * @param {String} divId - HTML div id\n * @returns {String} layer id\n * @private\n */\n\n\nBoostRelief.prototype._resolveLayerId = function (divId) {\n  var divName = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_2__[\"default\"].name(divId); // ex GPvisibilityPicto_ID_26\n\n  return divName.substring(divName.indexOf(\"_ID_\") + 4); // ex. 26\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BoostRelief);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvQm9vc3RSZWxpZWYuanM/MDhlYyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJMb2dnZXIiLCJnZXRMb2dnZXIiLCJCb29zdFJlbGllZiIsImJyT3B0aW9ucyIsIm9wdGlvbnMiLCJUeXBlRXJyb3IiLCJFcnJvciIsIl9pbml0aWFsaXplIiwiY29udGFpbmVyIiwiX2luaXRDb250YWluZXIiLCJ0YXJnZXREaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGFyZ2V0IiwiV2lkZ2V0IiwiY2FsbCIsIm5hbWUiLCJlbGVtZW50IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiVXRpbHMiLCJhc3NpZ24iLCJCb29zdFJlbGllZkRPTSIsImNvbnN0cnVjdG9yIiwic2V0R2xvYmUiLCJnbG9iZSIsIl9lbGVtZW50IiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwicGFyZW50Tm9kZSIsInNldENvbGxhcHNlZCIsImNvbGxhcHNlZCIsInVuZGVmaW5lZCIsImVycm9yIiwiaXNDb2xsYXBzZWQiLCJnZXRDb2xsYXBzZWQiLCJjb250cm9sRGl2IiwiX2FkZFVJRCIsInN0eWxlIiwiZGlzcGxheSIsImNoZWNrZWQiLCJfdWlkIiwiU2VsZWN0b3JJRCIsImdlbmVyYXRlIiwiX2xheWVycyIsIl9jYWxsYmFja3MiLCJfY3JlYXRlTWFpbkNvbnRhaW5lckVsZW1lbnQiLCJpbnB1dFNob3ciLCJfY3JlYXRlTWFpbkJvb3N0UmVsaWVmU2hvd0VsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImRpdkEiLCJfYm9vc3RSZWxpZWZMaXN0Q29udGFpbmVyIiwiX2NyZWF0ZU1haW5Cb29zdFJlbGllZkxpc3RDb250YWluZXIiLCJib29zdFJlbGllZkxpc3QiLCJfY3JlYXRlQWR2YW5jZWRUb29sRWxlbWVudCIsInBpY3RvIiwiX2NyZWF0ZU1haW5QaWN0b0VsZW1lbnQiLCJfb25DaGFuZ2VMYXllclJlbGllZiIsImUiLCJyZWxpZWZWYWx1ZSIsInBhcnNlSW50IiwidmFsdWUiLCJyZWxpZWZJZCIsImlubmVySFRNTCIsIl91cGRhdGVMYXllcnNSZWxpZWYiLCJnZXRHbG9iZSIsInVwZGF0ZVNjYWxlIiwibGF5ZXIiLCJzY2FsZSIsIm5vdGlmeUNoYW5nZSIsImVsZXZhdGlvbkxheWVycyIsImdldEVsZXZhdGlvbkxheWVycyIsImkiLCJsZW5ndGgiLCJjaGFuZ2VCb29zdCIsImxheWVyUmVsaWVmSW5wdXQiLCJtYXgiLCJtaW4iLCJsYXllclJlbGllZlNwYW4iLCJfcmVzb2x2ZUxheWVySWQiLCJkaXZJZCIsImRpdk5hbWUiLCJzdWJzdHJpbmciLCJpbmRleE9mIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFJQSxNQUFNLEdBQUdDLHFFQUFNLENBQUNDLFNBQVAsQ0FBaUIsYUFBakIsQ0FBYjtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkEsU0FBU0MsV0FBVCxDQUFzQkMsU0FBdEIsRUFBaUM7QUFDN0JBLFdBQVMsR0FBR0EsU0FBUyxJQUFJLEVBQXpCO0FBQ0EsTUFBSUMsT0FBTyxHQUFHRCxTQUFTLENBQUNDLE9BQVYsSUFBcUIsRUFBbkM7O0FBRUEsTUFBSSxFQUFFLGdCQUFnQkYsV0FBbEIsQ0FBSixFQUFvQztBQUNoQyxVQUFNLElBQUlHLFNBQUosQ0FBYyx5QkFBZCxDQUFOO0FBQ0g7O0FBRUQsTUFBSUQsT0FBTyxJQUFJLFFBQU9BLE9BQVAsTUFBbUIsUUFBbEMsRUFBNEM7QUFDeEMsVUFBTSxJQUFJRSxLQUFKLENBQVUsZ0RBQVYsQ0FBTjtBQUNIOztBQUVELE9BQUtDLFdBQUw7O0FBRUEsTUFBSUMsU0FBUyxHQUFHLEtBQUtDLGNBQUwsQ0FBb0JOLFNBQXBCLENBQWhCOztBQUNBLE1BQUlPLFNBQVMsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCUixPQUFPLENBQUNTLE1BQWhDLEtBQTJDLElBQTNEO0FB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R2dCLGdCQUFnQixDQUFDQyxHQUFuQyxFQUF3QztBQUNwQ2pCLGVBQVcsR0FBR2dCLGdCQUFnQixDQUFDQyxHQUEvQjtBQUNIOztBQUNELE1BQUlqQixXQUFXLEdBQUdnQixnQkFBZ0IsQ0FBQ0UsR0FBbkMsRUFBd0M7QUFDcENsQixlQUFXLEdBQUdnQixnQkFBZ0IsQ0FBQ0UsR0FBL0I7QUFDSCxHQWRzRCxDQWdCdkQ7OztBQUNBLE9BQUtiLG1CQUFMLENBQXlCTCxXQUF6QixFQWpCdUQsQ0FtQnZEOzs7QUFDQWdCLGtCQUFnQixDQUFDZCxLQUFqQixHQUF5QkYsV0FBekIsQ0FwQnVELENBc0J2RDs7QUFDQSxNQUFJbUIsZUFBZSxHQUFHckUsUUFBUSxDQUFDQyxjQUFULENBQXdCLEtBQUsyQixPQUFMLENBQWEsZUFBYixDQUF4QixDQUF0Qjs7QUFDQSxNQUFJeUMsZUFBSixFQUFxQjtBQUNqQkEsbUJBQWUsQ0FBQ2YsU0FBaEIsR0FBNEIsTUFBTUosV0FBbEM7QUFDSDtBQUNKLENBM0JEO0FBNkJBOzs7Ozs7Ozs7O0FBUUEzRCxXQUFXLENBQUNnQixTQUFaLENBQXNCK0QsZUFBdEIsR0FBd0MsVUFBVUMsS0FBVixFQUFpQjtBQUNyRCxNQUFJQyxPQUFPLEdBQUd2QyxnRUFBVSxDQUFDNUIsSUFBWCxDQUFnQmtFLEtBQWhCLENBQWQsQ0FEcUQsQ0FDZjs7QUFDdEMsU0FBT0MsT0FBTyxDQUFDQyxTQUFSLENBQWtCRCxPQUFPLENBQUNFLE9BQVIsQ0FBZ0IsTUFBaEIsSUFBMEIsQ0FBNUMsQ0FBUCxDQUZxRCxDQUVFO0FBQzFELENBSEQ7O0FBS2VuRiwwRUFBZiIsImZpbGUiOiIuL3NyYy9JdG93bnMvQ29udHJvbHMvQm9vc3RSZWxpZWYuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlsc1wiO1xuaW1wb3J0IFNlbGVjdG9ySUQgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9TZWxlY3RvcklEXCI7XG5pbXBvcnQgQm9vc3RSZWxpZWZET00gZnJvbSBcIi4uLy4uL0NvbW1vbi9Db250cm9scy9Cb29zdFJlbGllZkRPTVwiO1xuaW1wb3J0IFdpZGdldCBmcm9tIFwiLi9XaWRnZXRcIjtcblxudmFyIGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJCb29zdFJlbGllZlwiKTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250cm9sIHRvIG1hbmFnZSBnbG9iZSBsYXllcnMgOiB0aGVpciBvcmRlciwgdmlzaWJpbGl0eSBhbmQgcmVsaWVmLCBhbmQgZGlzcGxheSB0aGVpciBpbmZvcm1hdGlvbnMgKHRpdGxlLCBkZXNjcmlwdGlvbiwgbGVnZW5kcywgbWV0YWRhdGEuLi4pXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7aXRvd25zLmNvbnRyb2wuV2lkZ2V0fVxuICogQGFsaWFzIGl0b3ducy5jb250cm9sLkJvb3N0UmVsaWVmXG4gKiBAcGFyYW0ge09iamVjdH0gYnJPcHRpb25zIC0gY29udHJvbCBvcHRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW2JyT3B0aW9ucy5zY2FsZV0gLSBEZWZpbmVzIHRoZSBzY2FsZSB1c2VkIHRvIGJvb3N0IHRoZSByZWxpZWZcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYnJPcHRpb25zLnNjYWxlLm1pbl0gLSBNaW5pbXVtIG9mIHRoZSBzY2FsZSAtIDEgYnkgZGVmYXVsdFxuICogQHBhcmFtIHtOdW1iZXJ9IFtick9wdGlvbnMuc2NhbGUubWF4XSAtIE1heGltdW0gb2YgdGhlIHNjYWxlIC0gNTAgYnkgZGVmYXVsdFxuICogQHBhcmFtIHtOdW1iZXJ9IFtick9wdGlvbnMuc2NhbGUuc3RlcF0gLSBTdGVwIG9mIHRoZSBzY2FsZSAtIDEgYnkgZGVmYXVsdFxuICogQHBhcmFtIHtCb29sZWFufSBbYnJPcHRpb25zLmNvbGxhcHNlZCA9IHRydWVdIC0gU3BlY2lmeSBpZiB3aWRnZXQgaGFzIHRvIGJlIGNvbGxhcHNlZCAodHJ1ZSkgb3Igbm90IChmYWxzZSkgb24gZ2xvYmUgbG9hZGluZy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2JyT3B0aW9ucy5kZWZhdWx0Qm9vc3QgPSAxXSAtIERlZmF1bHQgYm9vc3QgdmFsdWUgYXBwbGllZCB0byB0aGUgd2lkZ2V0IGFuZCB0aGUgZWxldmF0aW9uIGxheWVycyB3aGVuIGxvYWRlZFxuICogQGV4YW1wbGVcbiAqIHZhciBib29zdFJlbGllZiA9IG5ldyBpdG93bnMuY29udHJvbC5Cb29zdFJlbGllZih7XG4gKiAgICAgIHNjYWxlIDoge1xuICogICAgICAgICAgbWF4IDogMzAsXG4gKiAgICAgICAgICBzdGVwIDogMlxuICogICAgICB9LFxuICogICAgICBkZWZhdWx0Qm9vc3QgOiA2XG4gKiB9KVxuICovXG5mdW5jdGlvbiBCb29zdFJlbGllZiAoYnJPcHRpb25zKSB7XG4gICAgYnJPcHRpb25zID0gYnJPcHRpb25zIHx8IHt9O1xuICAgIHZhciBvcHRpb25zID0gYnJPcHRpb25zLm9wdGlvbnMgfHwge307XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQm9vc3RSZWxpZWYpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFUlJPUiBDTEFTU19DT05TVFJVQ1RPUlwiKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFUlJPUiBXUk9OR19UWVBFIDogb3B0aW9ucyBzaG91bGQgYmUgYW4gb2JqZWN0XCIpO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRpYWxpemUoKTtcblxuICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9pbml0Q29udGFpbmVyKGJyT3B0aW9ucyk7XG4gICAgdmFyIHRhcmdldERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMudGFyZ2V0KSB8fCBudWxsO1xuXG4gICAgV2lkZ2V0LmNhbGwoXG4gICAgICAgIHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWUgOiBcIkJvb3N0UmVsaWVmXCIsXG4gICAgICAgICAgICBlbGVtZW50IDogY29udGFpbmVyLFxuICAgICAgICAgICAgdGFyZ2V0IDogdGFyZ2V0RGl2XG4gICAgICAgIH1cbiAgICApO1xufVxuXG4vKlxuICogQGxlbmRzIG1vZHVsZTpCb29zdFJlbGllZlxuICovXG5Cb29zdFJlbGllZi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpZGdldC5wcm90b3R5cGUsIHt9KTtcblxuLy8gcmV0cmlldmVzIG1ldGhvZHMgb2YgdGhlIGNvbW1vbiBjbGFzcyBCb29zdFJlbGllZkRPTVxuVXRpbHMuYXNzaWduKEJvb3N0UmVsaWVmLnByb3RvdHlwZSwgQm9vc3RSZWxpZWZET00pO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIChhbGlhcylcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5Cb29zdFJlbGllZi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCb29zdFJlbGllZjtcblxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMgcHVibGljIG1ldGhvZHMgKGdldHRlcnMsIHNldHRlcnMpICMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4vKipcbiAqIEJpbmQgZ2xvYmUgdG8gY29udHJvbFxuICpcbiAqIEBwYXJhbSB7R2xvYmVWaWV3RXh0ZW5kZWR9IGdsb2JlIC0gdGhlIGdsb2JlXG4gKi9cbkJvb3N0UmVsaWVmLnByb3RvdHlwZS5zZXRHbG9iZSA9IGZ1bmN0aW9uIChnbG9iZSkge1xuICAgIC8vIFRPRE8gLSByZW1vdmluZyBsaXN0ZW5lcnNcbiAgICAvLyB0aGlzLl9nbG9iZS5yZW1vdmVMYXllckxpc3RlbmVyKGxheWVyc1tqXSwgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLlJlbGllZl9QUk9QRVJUWV9DSEFOR0VELCB0aGlzLl9jYWxsYmFja3Mub25SZWxpZWZMYXllckNhbGxCYWNrKTtcbiAgICAvLyBkZWxldGVzIHRoZSBsYXllclN3aXRjaGVyIERPTVxuICAgIGlmICghZ2xvYmUpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2VsZW1lbnQuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX2VsZW1lbnQubGFzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgfVxuICAgIC8vIGNhbGxzIG9yaWdpbmFsIHNldEdsb2JlIG1ldGhvZFxuICAgIFdpZGdldC5wcm90b3R5cGUuc2V0R2xvYmUuY2FsbCh0aGlzLCBnbG9iZSk7XG59O1xuXG4vKipcbiAqIENvbGxhcHNlIG9yIGRpc3BsYXkgY29udHJvbCBtYWluIGNvbnRhaW5lclxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY29sbGFwc2VkIC0gVHJ1ZSB0byBjb2xsYXBzZSBjb250cm9sLCBGYWxzZSB0byBkaXNwbGF5IGl0XG4gKi9cbkJvb3N0UmVsaWVmLnByb3RvdHlwZS5zZXRDb2xsYXBzZWQgPSBmdW5jdGlvbiAoY29sbGFwc2VkKSB7XG4gICAgaWYgKGNvbGxhcHNlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkJvb3N0UmVsaWVmOnNldENvbGxhcHNlZCAtIG1pc3NpbmcgY29sbGFwc2VkIHBhcmFtZXRlclwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbGxhcHNlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiQm9vc3RSZWxpZWY6c2V0Q29sbGFwc2VkIC0gY29sbGFwc2VkIHBhcmFtZXRlciBpcyBub3QgYSBib29sZWFuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpc0NvbGxhcHNlZCA9IHRoaXMuZ2V0Q29sbGFwc2VkKCk7XG5cbiAgICBpZiAoKGNvbGxhcHNlZCAmJiBpc0NvbGxhcHNlZCkgfHwgKCFjb2xsYXBzZWQgJiYgIWlzQ29sbGFwc2VkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjb250cm9sRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BCb29zdFJlbGllZkxpc3RDb250YWluZXJcIikpO1xuICAgIGlmIChjb2xsYXBzZWQpIHtcbiAgICAgICAgY29udHJvbERpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUHNob3dCb29zdFJlbGllZkxpc3RcIikpLmNoZWNrZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUHNob3dCb29zdFJlbGllZkxpc3RcIikpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB3aWRnZXQgaXMgY29sbGFwc2VkIChtaW5pbWl6ZSksIGZhbHNlIG90aGVyd2lzZVxuICogQHJldHVybiB7Qm9vbGVhbn0gaXMgY29sbGFwc2VkXG4gKi9cbkJvb3N0UmVsaWVmLnByb3RvdHlwZS5nZXRDb2xsYXBzZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQc2hvd0Jvb3N0UmVsaWVmTGlzdFwiKSkuY2hlY2tlZDtcbn07XG5cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyBpbml0IGNvbXBvbmVudCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuLyoqXG4gKiBJbml0aWFsaXplIEJvb3N0UmVsaWVmIGNvbnRyb2wgKGNhbGxlZCBieSBjb25zdHJ1Y3RvcilcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5Cb29zdFJlbGllZi5wcm90b3R5cGUuX2luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gaWQgb2YgdGhlIGNvbnRyb2wgOyB1c2VkIHRvIHN1ZmZpeCB0aGUgQ1NTIGlkIChoYW5kbGVzIGNhc2VzIHdpdGggc2V2ZXJlbCBjb250cm9scyBvbiB0aGUgc2FtZSBwYWdlKVxuICAgIHRoaXMuX3VpZCA9IFNlbGVjdG9ySUQuZ2VuZXJhdGUoKTtcblxuICAgIC8vIHtPYmplY3R9IGNvbnRyb2wgbGF5ZXJzIGxpc3QuIEVhY2gga2V5IGlzIGEgbGF5ZXIgaWQsIGFuZCBpdHMgdmFsdWUgaXMgYW4gb2JqZWN0IG9mIGxheWVycyBvcHRpb25zIChsYXllciwgaWQsIHJlbGllZiwgdmlzaWJpbGl0eSwgdGl0bGUsIGRlc2NyaXB0aW9uLi4uKVxuICAgIHRoaXMuX2xheWVycyA9IHt9O1xuXG4gICAgLy8gY2FsbGJhY2tzXG4gICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgY29udHJvbCBtYWluIGNvbnRhaW5lclxuICpcbiAqIEBtZXRob2QgX2luaXRDb250YWluZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBick9wdGlvbnMgLSBjb250cm9sIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtET01FbGVtZW50fSBjb250YWluZXIgLSB3aWRnZXQgY29udGFpbmVyXG4gKiBAcHJpdmF0ZVxuICovXG5Cb29zdFJlbGllZi5wcm90b3R5cGUuX2luaXRDb250YWluZXIgPSBmdW5jdGlvbiAoYnJPcHRpb25zKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50KCk7XG5cbiAgICAvLyBhZGRzIGluIHRoZSBtYWluIGNvbnRhaW5lciB0aGUgbGF5ZXIgZGlzcGxheSBzZWxlY3RvclxuICAgIHZhciBpbnB1dFNob3cgPSB0aGlzLl9jcmVhdGVNYWluQm9vc3RSZWxpZWZTaG93RWxlbWVudChick9wdGlvbnMuY29sbGFwc2VkKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXRTaG93KTtcblxuICAgIC8vIGFkZHMgdGhlIGxheWVyIGxpc3QgaW4gdGhlIG1haW4gY29udGFpbmVyXG4gICAgdmFyIGRpdkEgPSB0aGlzLl9ib29zdFJlbGllZkxpc3RDb250YWluZXIgPSB0aGlzLl9jcmVhdGVNYWluQm9vc3RSZWxpZWZMaXN0Q29udGFpbmVyKCk7XG4gICAgdmFyIGJvb3N0UmVsaWVmTGlzdCA9IHRoaXMuX2NyZWF0ZUFkdmFuY2VkVG9vbEVsZW1lbnQoYnJPcHRpb25zKTtcblxuICAgIGRpdkEuYXBwZW5kQ2hpbGQoYm9vc3RSZWxpZWZMaXN0KTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2QSk7XG5cbiAgICAvLyBhZGRzIHRoZSB3aWRnZXQgcGljdG8gaW4gdGhlIG1haW4gY29udGFpbmVyXG4gICAgdmFyIHBpY3RvID0gdGhpcy5fY3JlYXRlTWFpblBpY3RvRWxlbWVudCgpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwaWN0byk7XG5cbiAgICBpZiAoYnJPcHRpb25zLmNvbGxhcHNlZCkge1xuICAgICAgICBkaXZBLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGl2QS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgRE9NIGV2ZW50cyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuLyoqXG4gKiBDaGFuZ2VzIGxheWVyIHJlbGllZiBvbiBsYXllciByZWxpZWYgcGljdG8gY2xpY2tcbiAqXG4gKiBAbWV0aG9kIF9vbkNoYW5nZUxheWVyUmVsaWVmXG4gKiBAcGFyYW0ge09iamVjdH0gZSAtIEhUTUwgZXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbkJvb3N0UmVsaWVmLnByb3RvdHlwZS5fb25DaGFuZ2VMYXllclJlbGllZiA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgcmVsaWVmVmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSk7XG4gICAgdmFyIHJlbGllZklkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1ByZWxpZWZWYWx1ZVwiKSk7XG5cbiAgICByZWxpZWZJZC5pbm5lckhUTUwgPSBcInhcIiArIHJlbGllZlZhbHVlO1xuXG4gICAgdGhpcy5fdXBkYXRlTGF5ZXJzUmVsaWVmKHJlbGllZlZhbHVlKTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyByZWxpZWYgdmFsdWVzIG9mIGFsbCBlbGV2YXRpb24gbGF5ZXJzXG4gKlxuICogQG1ldGhvZCBfdXBkYXRlTGF5ZXJSZWxpZWZcbiAqIEBwYXJhbSB7TnVtYmVyfSByZWxpZWZWYWx1ZSAtIHJlbGllZiB2YWx1ZVxuICogQHByaXZhdGVcbiAqL1xuXG5Cb29zdFJlbGllZi5wcm90b3R5cGUuX3VwZGF0ZUxheWVyc1JlbGllZiA9IGZ1bmN0aW9uIChyZWxpZWZWYWx1ZSkge1xuICAgIHZhciBnbG9iZSA9IHRoaXMuZ2V0R2xvYmUoKTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNjYWxlIChsYXllciwgdmFsdWUpIHtcbiAgICAgICAgbGF5ZXIuc2NhbGUgPSB2YWx1ZTtcbiAgICAgICAgZ2xvYmUubm90aWZ5Q2hhbmdlKGxheWVyKTtcbiAgICB9XG4gICAgLy8gaWYgdGhlIHNjYWxlIG9mIGEgc2luZ2xlIGVsZXZhdGlvbkxheWVyIGNoYW5nZSwgd2UgdXBkYXRlIHRoZSBzY2FsZSBvZiBhbGwgb3RoZXJzXG4gICAgdmFyIGVsZXZhdGlvbkxheWVycyA9IGdsb2JlLmdldEVsZXZhdGlvbkxheWVycygpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGV2YXRpb25MYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdXBkYXRlU2NhbGUoZWxldmF0aW9uTGF5ZXJzW2ldLCByZWxpZWZWYWx1ZSk7XG4gICAgfVxuXG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgcmVsaWVmIHNsaWRlciBhbmQgYWxsIGVsZXZhdGlvbiBsYXllcnMgd2l0aCB0aGUgZ2l2ZW4gYm9vc3QgdmFsdWVcbiAqXG4gKiBAbWV0aG9kIGNoYW5nZUJvb3N0XG4gKiBAcGFyYW0ge051bWJlcn0gcmVsaWVmVmFsdWUgLSByZWxpZWYgdmFsdWVcbiAqL1xuQm9vc3RSZWxpZWYucHJvdG90eXBlLmNoYW5nZUJvb3N0ID0gZnVuY3Rpb24gKHJlbGllZlZhbHVlKSB7XG4gICAgdmFyIGxheWVyUmVsaWVmSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUHJlbGllZlZhbHVlRGl2XCIpKTtcblxuICAgIGlmICghbGF5ZXJSZWxpZWZJbnB1dCkge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJCb29zdFJlbGllZjpjaGFuZ2VCb29zdCAtIGJvb3N0UmVsaWVmIHNsaWRlciBub3QgbG9hZGVkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gdGhlIHJlbGllZlZhbHVlIGdpdmVuIG11c3QgbWUgaW4gdGhlIHNsaWRlciByYW5nZVxuICAgIGlmIChyZWxpZWZWYWx1ZSA+IGxheWVyUmVsaWVmSW5wdXQubWF4KSB7XG4gICAgICAgIHJlbGllZlZhbHVlID0gbGF5ZXJSZWxpZWZJbnB1dC5tYXg7XG4gICAgfVxuICAgIGlmIChyZWxpZWZWYWx1ZSA8IGxheWVyUmVsaWVmSW5wdXQubWluKSB7XG4gICAgICAgIHJlbGllZlZhbHVlID0gbGF5ZXJSZWxpZWZJbnB1dC5taW47XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlcyB0aGUgcmVsaWVmIG9mIGFsbCB0aGUgZWxldmF0aW9ubGF5ZXJzXG4gICAgdGhpcy5fdXBkYXRlTGF5ZXJzUmVsaWVmKHJlbGllZlZhbHVlKTtcblxuICAgIC8vIHVwZGF0ZXMgdGhlIHNsaWRlciBjdXJzb3JcbiAgICBsYXllclJlbGllZklucHV0LnZhbHVlID0gcmVsaWVmVmFsdWU7XG5cbiAgICAvLyB1cGRhdGVzIHRoZSBzbGlkZXIgdGV4dFxuICAgIHZhciBsYXllclJlbGllZlNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUHJlbGllZlZhbHVlXCIpKTtcbiAgICBpZiAobGF5ZXJSZWxpZWZTcGFuKSB7XG4gICAgICAgIGxheWVyUmVsaWVmU3Bhbi5pbm5lckhUTUwgPSBcInhcIiArIHJlbGllZlZhbHVlO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2V0cyBsYXllciBpZCBmcm9tIGRpdiBpZFxuICpcbiAqIEBtZXRob2QgX3Jlc29sdmVMYXllcklkXG4gKiBAcGFyYW0ge1N0cmluZ30gZGl2SWQgLSBIVE1MIGRpdiBpZFxuICogQHJldHVybnMge1N0cmluZ30gbGF5ZXIgaWRcbiAqIEBwcml2YXRlXG4gKi9cbkJvb3N0UmVsaWVmLnByb3RvdHlwZS5fcmVzb2x2ZUxheWVySWQgPSBmdW5jdGlvbiAoZGl2SWQpIHtcbiAgICB2YXIgZGl2TmFtZSA9IFNlbGVjdG9ySUQubmFtZShkaXZJZCk7IC8vIGV4IEdQdmlzaWJpbGl0eVBpY3RvX0lEXzI2XG4gICAgcmV0dXJuIGRpdk5hbWUuc3Vic3RyaW5nKGRpdk5hbWUuaW5kZXhPZihcIl9JRF9cIikgKyA0KTsgLy8gZXguIDI2XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCb29zdFJlbGllZjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/BoostRelief.js\n");

/***/ }),

/***/ "./src/Itowns/Controls/LayerSwitcher.js":
/*!**********************************************!*\
  !*** ./src/Itowns/Controls/LayerSwitcher.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GlobeViewExtended */ \"./src/Itowns/GlobeViewExtended.js\");\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Utils/SelectorID */ \"./src/Common/Utils/SelectorID.js\");\n/* harmony import */ var _Common_Controls_LayerSwitcherDOM__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Common/Controls/LayerSwitcherDOM */ \"./src/Common/Controls/LayerSwitcherDOM.js\");\n/* harmony import */ var _Widget__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Widget */ \"./src/Itowns/Controls/Widget.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getLogger(\"LayerSwitcher\");\n/**\n * @classdesc\n * Control to manage globe layers : their order, visibility and opacity, and display their informations (title, description, legends, metadata...)\n *\n * @constructor\n * @extends {itowns.control.Widget}\n * @alias itowns.control.LayerSwitcher\n * @param {Object} lsOptions - control options\n * @param {Array} [lsOptions.layers] - list of layers to be configured. Each array element is an object, with following properties :\n * @param {String} [lsOptions.layers.id] - ol.layer.Layer layer to be configured (that has been added to globe)\n * @param {Object} [lsOptions.layers.config] - custom configuration object for layer information (title, description, legends, metadata, quicklook url), with following properties :\n * @param {String} [lsOptions.layers.config.title] - layer alias, to be displayed in widget layer list. E.g. : \"Cartes IGN\"\n * @param {String} [lsOptions.layers.config.description] - layer description, to be displayed on title hover, or in layer information panel.\n * @param {String} [lsOptions.layers.config.quicklookUrl] - link to a quick look image for this layer.\n * @param {Array} [lsOptions.layers.config.legends] - array of layer legends. Each array element is an object, with following properties :\n *      - url (String, mandatory) : link to a legend\n *      - minScaleDenominator (Number, optional) : min scale denominator for legend validity.\n * @param {Array} [lsOptions.layers.config.metadata] - array of layer metadata. Each array element is an object, with property url (String, mandatory) : link to a metadata\n * @param {Object} [lsOptions.options] - Itowns.control.Control options\n * @param {Boolean} [lsOptions.options.collapsed = true] - Specify if widget has to be collapsed (true) or not (false) on globe loading.\n * @example\n * var layerSwitcher = new itowns.control.LayerSwitcher({\n *  layers : [\n *      {\n *          id : \"myLayer\",\n *          config : {\n *              title : \"test layer name 1\",\n *              description : \"test layer desc 1\",\n *          }\n *      }\n *  ],\n *  options : {\n *      collapsed : false\n *  }\n * ));\n */\n\nfunction LayerSwitcher(lsOptions) {\n  lsOptions = lsOptions || {};\n  var options = lsOptions.options || {};\n  var layers = lsOptions.layers || [];\n\n  if (!(this instanceof LayerSwitcher)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  }\n\n  if (layers && !Array.isArray(layers)) {\n    throw new Error(\"ERROR WRONG_TYPE : layers should be an array\");\n  }\n\n  if (options && _typeof(options) !== \"object\") {\n    throw new Error(\"ERROR WRONG_TYPE : options should be an object\");\n  }\n\n  this._initialize(options, layers);\n\n  var container = this._initContainer(options); // property to save layers conf added after the LS is initialized\n\n\n  this._addedLayerConf = {};\n  _Widget__WEBPACK_IMPORTED_MODULE_5__[\"default\"].call(this, {\n    name: \"LayerSwitcher\",\n    element: container,\n    target: options.target,\n    position: options.position\n  });\n}\n/*\n * @lends module:LayerSwitcher\n */\n\n\nLayerSwitcher.prototype = Object.create(_Widget__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype, {}); // retrieves methods of the common class LayerSwitcherDOM\n\n_Common_Utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].assign(LayerSwitcher.prototype, _Common_Controls_LayerSwitcherDOM__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n/**\n * Constructor (alias)\n *\n * @private\n */\n\nLayerSwitcher.prototype.constructor = LayerSwitcher; // ################################################################### //\n// ############## public methods (getters, setters) ################## //\n// ################################################################### //\n\n/**\n * Bind globe to control\n *\n * @param {GlobeViewExtended} globe - the globe\n */\n\nLayerSwitcher.prototype.setGlobe = function (globe) {\n  var layers;\n\n  if (globe) {\n    // in the case the control is added to the globe\n    var self = this; // add options layers to layerlist.\n    // (only the layers configurated by the user in the options of the layerSwitcher )\n    // the other layers of the map will be added in the setGlobe method\n\n    for (var i = 0; i < this._initLayers.length; i++) {\n      // retrieves the layer...\n      var layer = null;\n\n      if (this._initLayers[i].id) {\n        layer = globe.getLayerById(this._initLayers[i].id);\n      }\n\n      if (layer && this._initLayers[i].displayed) {\n        // .. and the infos of the configuration if they exist (title, description, legends, quicklook, metadata)\n        var conf = this._initLayers[i].config || {};\n        var layerOptions = {\n          title: conf.title || layer.title || this._initLayers[i].id,\n          description: conf.description || null,\n          legends: conf.legends || [],\n          metadata: conf.metadata || [],\n          quicklookUrl: conf.quicklookUrl || null\n        };\n\n        if (typeof conf.ipr !== \"undefined\") {\n          layerOptions.ipr = conf.ipr;\n        }\n\n        if (typeof conf.opacity !== \"undefined\") {\n          layerOptions.opacity = conf.opacity;\n        }\n\n        if (typeof conf.visibility !== \"undefined\") {\n          layerOptions.visibility = conf.visibility;\n        }\n\n        this._layers[layer.id] = layerOptions;\n      }\n    } // adds the layers\n\n\n    this._addGlobeLayers(globe); // adding of listeners\n\n\n    this._callbacks.onOpacityLayerCallBack = function (e) {\n      self._updateLayerOpacity(e.target.id, e[\"new\"].opacity);\n    };\n\n    this._callbacks.onVisibilityLayerCallBack = function (e) {\n      self._updateLayerVisibility(e.target.id, e[\"new\"].visible);\n    }; // At every globe movement, layer switcher may be updated,\n    // according to layers on globe, and their range.\n\n\n    this._callbacks.onChangedViewCallBack = function (e) {\n      self._inRangeUpdate(e.colorLayersId);\n    };\n\n    globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.PRE_RENDER, this._callbacks.onChangedViewCallBack); // prerender events returns visible layers\n\n    globe.preRenderEventFetchColorLayersDisplayed();\n\n    this._callbacks.onAddedLayerCallBack = function (e) {\n      var id = e.layerId;\n\n      if (self) {\n        if (!self._layerDisplayedInLayerSwitcher(id)) {\n          return;\n        }\n\n        var layer = self.getGlobe().getLayerById(id);\n\n        if (layer.type === \"elevation\") {\n          return;\n        }\n\n        var layerConf = self._getLayerConf(id) || self._addedLayerConf[id];\n\n        if (layerConf) {\n          self.addLayer(layer, layerConf);\n        } else {\n          self.addLayer(layer);\n        }\n      }\n    };\n\n    globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.LAYER_ADDED, this._callbacks.onAddedLayerCallBack);\n\n    this._callbacks.onRemovedLayerCallBack = function (e) {\n      var id = e.layerId; // update the index max and delete the layer from the layerswitcher\n\n      if (self) {\n        self.removeLayer(id);\n      }\n    };\n\n    globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.LAYER_REMOVED, this._callbacks.onRemovedLayerCallBack);\n\n    this._callbacks.onIndexLayerCallBack = function (e) {\n      var arraysEquals = function arraysEquals(a1, a2) {\n        if (a1.length !== a2.length) {\n          return false;\n        }\n\n        for (var i = 0; i < a1.length; ++i) {\n          if (a1[i] !== a2[i]) {\n            return false;\n          }\n        }\n\n        return true;\n      };\n\n      if (!arraysEquals(e[\"new\"].sequence, e.previous.sequence)) {\n        self._updateLayerListContainer();\n      }\n    };\n\n    globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.LAYERS_ORDER_CHANGED, this._callbacks.onIndexLayerCallBack);\n    layers = globe.getColorLayers();\n\n    for (var ii = 0; ii < layers.length; ++ii) {\n      globe.addLayerListener(layers[ii], _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.OPACITY_PROPERTY_CHANGED, this._callbacks.onOpacityLayerCallBack);\n      globe.addLayerListener(layers[ii], _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.VISIBLE_PROPERTY_CHANGED, this._callbacks.onVisibilityLayerCallBack);\n\n      self._updateLayerVisibility(layers[ii].id, layers[ii].visible);\n\n      self._updateLayerOpacity(layers[ii].id, layers[ii].opacity);\n    }\n  } else {\n    // removes the listeners associated to the deleted layerswitcher\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.PRE_RENDER, this._callbacks.onChangedViewCallBack);\n\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.LAYER_ADDED, this._callbacks.onAddedLayerCallBack);\n\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.LAYER_REMOVED, this._callbacks.onRemovedLayerCallBack);\n\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.LAYERS_ORDER_CHANGED, this._callbacks.onIndexLayerCallBack);\n\n    layers = this._globe.getColorLayers();\n\n    for (var j = 0; j < layers.length; ++j) {\n      this._globe.removeLayerListener(layers[j], _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.OPACITY_PROPERTY_CHANGED, this._callbacks.onOpacityLayerCallBack);\n\n      this._globe.removeLayerListener(layers[j], _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.VISIBLE_PROPERTY_CHANGED, this._callbacks.onVisibilityLayerCallBack);\n    } // deletes the layerSwitcher DOM\n\n\n    while (this._element.hasChildNodes()) {\n      this._element.removeChild(this._element.lastChild);\n    }\n\n    this._element.parentNode.removeChild(this._element);\n  } // calls original setGlobe method\n\n\n  _Widget__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.setGlobe.call(this, globe);\n};\n/**\n * Adds a new layer to control (when added to globe) or add new layer configuration\n *\n * @param {Object} layer - layer to add to layer switcher\n * @param {Object} [config] - additional options for layer configuration\n * @param {Object} [config.title] - layer title (default is layer identifier)\n * @param {Object} [config.description] - layer description (default is null)\n * @param {Object} [config.legends] - layer legends (default is an empty array)\n * @param {Object} [config.metadata] - layer metadata (default is an empty array)\n * @param {Object} [config.quicklookUrl] - layer quicklookUrl (default is null)\n * @example\n *   layerSwitcher.addLayer({\n *       layer : gpParcels,\n *       config : {\n *           title : \"Parcelles cadastrales\",\n *           description : \"description de la couche\",\n *           quicklookUrl : \"http://quicklookUrl.fr\"\n *       }\n *   })\n */\n\n\nLayerSwitcher.prototype.addLayer = function (layer, config) {\n  config = config || {};\n  var globe = this.getGlobe();\n\n  if (!layer) {\n    logger.error(\"LayerSwitcher:addLayer - missing layer parameter\");\n    return;\n  }\n\n  var id = layer.id;\n\n  if (id === \"undefined\") {\n    logger.error(\"LayerSwitcher:addLayer - configuration cannot be set for \" + layer + \" layer (layer id not found)\");\n    return;\n  } // subscription to the events\n\n\n  globe.addLayerListener(layer, _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.OPACITY_PROPERTY_CHANGED, this._callbacks.onOpacityLayerCallBack);\n  globe.addLayerListener(layer, _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.VISIBLE_PROPERTY_CHANGED, this._callbacks.onVisibilityLayerCallBack); // make sure layer is in globe layers\n\n  var LayerInGlobe = globe.getLayerById(id);\n\n  if (!LayerInGlobe) {\n    logger.error(\"LayerSwitcher:addLayer - configuration cannot be set for \", layer, \" layer (layer is not in globe layers )\");\n    return;\n  } // if layer is not already in layers list, add it to control (layers list and container div)\n\n\n  if (!this._layers[id]) {\n    // 1. add layer to layers list\n    var layerInfos = this._getLayerInfo(layer) || {};\n    var layerOptions = {\n      title: config.title || layerInfos._title || id,\n      description: config.description || layerInfos._description || null,\n      legends: config.legends || layerInfos._legends || [],\n      metadata: config.metadata || layerInfos._metadata || [],\n      quicklookUrl: config.quicklookUrl || layerInfos._quicklookUrl || null\n    };\n\n    if (typeof config.ipr !== \"undefined\") {\n      layerOptions.ipr = config.ipr;\n      layer.attribution = layerOptions.ipr;\n    }\n\n    if (typeof config.opacity !== \"undefined\") {\n      layerOptions.opacity = config.opacity;\n      layer.opacity = layerOptions.opacity;\n    }\n\n    if (typeof config.visibility !== \"undefined\") {\n      layerOptions.visibility = config.visibility;\n      layer.visible = layerOptions.visibility;\n    }\n\n    this._layers[id] = layerOptions; // creation of the div of the layer which will be added to the layerSwitcher\n\n    this._layers[id].div = this._createLayerDiv(id);\n\n    this._updateLayerListContainer(); // user may also add a new configuration for an already added layer\n\n  } else if (this._layers[id] && config) {\n    // add new configuration parameters to layer informations\n    for (var prop in config) {\n      if (config.hasOwnProperty(prop)) {\n        this._layers[id][prop] = config[prop];\n      }\n    }\n\n    if (typeof config.ipr !== \"undefined\") {\n      layer.attribution = config.ipr;\n    }\n\n    if (typeof config.opacity !== \"undefined\") {\n      layer.opacity = config.opacity;\n    }\n\n    if (typeof config.visibility !== \"undefined\") {\n      layer.visible = config.visibility;\n    } // set new title in layer div\n\n\n    if (config.title) {\n      var nameDiv = document.getElementById(this._addUID(\"GPname_ID_\" + id));\n\n      if (nameDiv) {\n        nameDiv.innerHTML = config.title; // FIXME a ajouter?\n        // nameDiv.title = config.description || config.title;\n      }\n    } // add layer info picto if necessary\n\n\n    var infodiv = document.getElementById(this._addUID(\"GPinfo_ID_\" + id));\n\n    if (!document.getElementById(this._addUID(\"GPinfo_ID_\" + id)) && config.description && (config.legends || config.metadata || config.quicklookUrl)) {\n      var advancedTools = document.getElementById(this._addUID(\"GPadvancedTools_ID_\" + id));\n\n      if (advancedTools) {\n        advancedTools.appendChild(this._createAdvancedToolInformationElement({\n          id: id\n        }));\n      }\n    } // close layer info element if open, to update information.\n\n\n    if (infodiv && infodiv.className === \"GPlayerInfoOpened\") {\n      document.getElementById(this._addUID(\"GPlayerInfoPanel\")).className = \"GPlayerInfoPanelClosed\";\n      infodiv.className = \"GPlayerInfo\";\n    }\n  }\n};\n/**\n * Removes a layer from control\n *\n * @param {Object} layerId - layer to remove to layer switcher\n */\n\n\nLayerSwitcher.prototype.removeLayer = function (layerId) {\n  var layerList = document.getElementById(this._addUID(\"GPlayersList\")); // close layer info element if open.\n\n  var infodiv = document.getElementById(this._addUID(\"GPinfo_ID_\" + layerId));\n\n  if (infodiv && infodiv.className === \"GPlayerInfoOpened\") {\n    document.getElementById(this._addUID(\"GPlayerInfoPanel\")).className = \"GPlayerInfoPanelClosed\";\n    infodiv.className = \"GPlayerInfo\";\n  } // remove layer div\n\n\n  var layerDiv = document.getElementById(this._addUID(\"GPlayerSwitcher_ID_\" + layerId)); // no layerDiv retrieved for VT-label layers\n\n  if (layerDiv) {\n    layerList.removeChild(layerDiv);\n  } // removes layer of the layer list\n\n\n  delete this._layers[layerId];\n};\n/**\n * Collapse or display control main container\n *\n * @param {Boolean} collapsed - True to collapse control, False to display it\n */\n\n\nLayerSwitcher.prototype.setCollapsed = function (collapsed) {\n  if (collapsed === undefined) {\n    logger.error(\"LayerSwitcher:setCollapsed - missing collapsed parameter\");\n    return;\n  }\n\n  var isCollapsed = this.getCollapsed();\n\n  if (collapsed && isCollapsed || !collapsed && !isCollapsed) {\n    return;\n  } // simulates the panel opening after a click\n\n\n  if (!isCollapsed) {\n    var layers = document.getElementsByClassName(\"GPlayerInfoOpened\");\n\n    for (var i = 0; i < layers.length; i++) {\n      layers[i].className = \"GPlayerInfo\";\n    }\n\n    document.getElementById(this._addUID(\"GPlayerInfoPanel\")).className = \"GPlayerInfoPanelClosed\";\n  }\n\n  document.getElementById(this._addUID(\"GPshowLayersList\")).checked = !collapsed;\n};\n/**\n * Returns true if widget is collapsed (minimize), false otherwise\n * @return {Boolean} is collapsed\n */\n\n\nLayerSwitcher.prototype.getCollapsed = function () {\n  return !document.getElementById(this._addUID(\"GPshowLayersList\")).checked;\n}; // ################################################################### //\n// ##################### init component ############################## //\n// ################################################################### //\n\n/**\n * Initialize LayerSwitcher control (called by constructor)\n *\n * @param {Object} options - Itowns.control.Control options\n * @param {Array} layers - list of layers to be configured. Each array element is an object, with following properties :\n * @private\n */\n\n\nLayerSwitcher.prototype._initialize = function (options, layers) {\n  // id of the control ; used to suffix the CSS id (handles cases with severel controls on the same page)\n  this._uid = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_3__[\"default\"].generate(); // {Object} control layers list. Each key is a layer id, and its value is an object of layers options (layer, id, opacity, visibility, title, description...)\n\n  this._layers = {}; // div which will contain the divs of the lists\n\n  this._layerListContainer = null; // callbacks\n\n  this._callbacks = {}; // options\n\n  this._options = options;\n  this._initLayers = layers;\n};\n/**\n * Returns the layer configuration defined at widget initialization\n *\n * @method _getLayerConf\n * @param {String} layerId - layer id\n * @return {Object} layerConfig - layer configuration\n * @private\n */\n\n\nLayerSwitcher.prototype._getLayerConf = function (layerId) {\n  for (var i = 0; i < this._initLayers.length; ++i) {\n    if (this._initLayers[i].id === layerId) {\n      return this._initLayers[i].config;\n    }\n  }\n\n  return null;\n};\n/**\n * Indicates if the layer must be displayed in the layerSwitcher\n *\n * @method _layerDisplayedInLayerSwitcher\n * @param {String} layerId - layer id\n * @return {Boolean} displayed\n * @private\n */\n\n\nLayerSwitcher.prototype._layerDisplayedInLayerSwitcher = function (layerId) {\n  for (var i = 0; i < this._initLayers.length; ++i) {\n    if (this._initLayers[i].id === layerId) {\n      return typeof this._initLayers[i].displayed === \"undefined\" || this._initLayers[i].displayed;\n    }\n  }\n\n  return true;\n};\n/**\n * Creates control main container\n *\n * @method _initContainer\n * @param {Object} options - control options\n * @returns {DOMElement} container - widget container\n * @private\n */\n\n\nLayerSwitcher.prototype._initContainer = function (options) {\n  // creation of the main container\n  var container = this._createMainContainerElement(); // adding in the main container\n\n\n  var input = this._createMainLayersShowElement();\n\n  container.appendChild(input); // handling of the \"collapsed\" mode\n\n  if (!options.collapsed) {\n    input.checked = \"checked\";\n  } // adds the layer list in the main container\n\n\n  var divL = this._layerListContainer = this._createMainLayersElement();\n\n  container.appendChild(divL); // creates the draggable mode\n\n  this._createDraggableElement(divL, this); // adds the control picto in the main container\n\n\n  var picto = this._createMainPictoElement();\n\n  container.appendChild(picto); // adds the info panel in the main container\n\n  var divI = this._createMainInfoElement();\n\n  container.appendChild(divI);\n  return container;\n};\n/**\n * Adds control layers to control main container\n *\n * @method _addGlobeLayers\n * @param {Object} globe - the Itowns.GlobeViewExtended object\n * @private\n */\n\n\nLayerSwitcher.prototype._addGlobeLayers = function (globe) {\n  // Retrieves the element which contains the different layers\n  var elementLayersList;\n  var childNodes = this.getElement().childNodes;\n\n  for (var i = 0; i < childNodes.length; i++) {\n    if (childNodes[i].id === this._addUID(\"GPlayersList\")) {\n      elementLayersList = childNodes[i];\n      break;\n    }\n  } // reorders layers according to the layer stack (globe.getLayers returns an reverse ordenered array)\n\n\n  var layers = globe.getColorLayers();\n  var orderedLayers = layers.sort(function (a, b) {\n    return b.sequence - a.sequence;\n  }); // loop over all the layers of the map in order to add them to the control layer list (if they are not already added)\n\n  orderedLayers.forEach(function (layer) {\n    // adds the map layers to the list\n    var id;\n    id = layer.id;\n\n    if (!this._layerDisplayedInLayerSwitcher(id)) {\n      return;\n    }\n\n    var layerConf = this._getLayerConf(id) || this._addedLayerConf[id] || {};\n    var layerInfos = this._getLayerInfo(layer) || {};\n\n    if (!this._layers[id]) {\n      // if the layer is not yet in the layer list (this._layers), we add it\n      var layerOptions = {\n        title: layerConf.title || layerInfos._title || id,\n        description: layerConf.description || layerInfos._description || null,\n        legends: layerConf.legends || layerInfos._legends || [],\n        metadata: layerConf.metadata || layerInfos._metadata || [],\n        quicklookUrl: layerConf.quicklookUrl || layerInfos._quicklookUrl || null\n      };\n      this._layers[id] = layerOptions;\n    } else {\n      var lsLayerConf = this._layers[id];\n\n      if (typeof lsLayerConf.ipr !== \"undefined\") {\n        layer.options.attribution = lsLayerConf.ipr;\n      }\n\n      if (typeof lsLayerConf.opacity !== \"undefined\") {\n        layer.opacity = lsLayerConf.opacity;\n      }\n\n      if (typeof lsLayerConf.visibility !== \"undefined\") {\n        layer.visible = lsLayerConf.visibility;\n      }\n    }\n\n    var layerDiv = this._createLayerDiv(id);\n\n    this._layers[id].div = layerDiv;\n    elementLayersList.appendChild(layerDiv);\n  }, this);\n};\n/**\n * creates layer div (to append to control DOM element).\n *\n * @method _createLayerDiv\n * @param {String} layerId - layer id\n * @returns {DOMElement} layer div\n * @private\n */\n\n\nLayerSwitcher.prototype._createLayerDiv = function (layerId) {\n  var layerOptions = this._layers[layerId];\n  var isLegends = layerOptions.legends && layerOptions.legends.length !== 0;\n  var isMetadata = layerOptions.metadata && layerOptions.metadata.length !== 0;\n  var isQuicklookUrl = layerOptions.quicklookUrl;\n\n  if (isLegends || isMetadata || isQuicklookUrl) {\n    layerOptions.displayInformationElement = true;\n  } // adds a specific div in the control for the layer\n\n\n  layerOptions.id = layerId;\n\n  var layerDiv = this._createContainerLayerElement(layerOptions);\n\n  if (!layerOptions.inRange) {\n    layerDiv.classList.add(\"outOfRange\");\n  }\n\n  return layerDiv;\n}; // ################################################################### //\n// ######################### DOM events ############################## //\n// ################################################################### //\n\n/**\n * Changes layer opacity on layer opacity picto click\n *\n * @method _onChangeLayerOpacity\n * @param {Object} e - HTML event\n * @private\n */\n\n\nLayerSwitcher.prototype._onChangeLayerOpacity = function (e) {\n  var globe = this.getGlobe();\n\n  var layerID = this._resolveLayerId(e.target.id);\n\n  var opacityValue = e.target.value;\n  var opacityId = document.getElementById(this._addUID(\"GPopacityValue_ID_\" + layerID));\n  opacityId.innerHTML = opacityValue + \"%\";\n  globe.setLayerOpacity(layerID, opacityValue / 100);\n};\n/**\n * Updates picto opacity value on layer opacity change\n *\n * @method _updateLayerOpacity\n * @param {String} layerId - layer id\n * @param {Number} opacity - opacity value\n * @private\n */\n\n\nLayerSwitcher.prototype._updateLayerOpacity = function (layerId, opacity) {\n  if (opacity > 1) {\n    opacity = 1;\n  }\n\n  if (opacity < 0) {\n    opacity = 0;\n  }\n\n  var layerOpacityInput = document.getElementById(this._addUID(\"GPopacityValueDiv_ID_\" + layerId));\n\n  if (layerOpacityInput) {\n    layerOpacityInput.value = Math.round(opacity * 100);\n  }\n\n  var layerOpacitySpan = document.getElementById(this._addUID(\"GPopacityValue_ID_\" + layerId));\n\n  if (layerOpacitySpan) {\n    layerOpacitySpan.innerHTML = Math.round(opacity * 100) + \"%\";\n  }\n};\n/**\n * Changes layer visibility on layer visibility picto click\n *\n * @method _onVisibilityLayerClick\n * @param {Object} e - HTML event\n * @private\n */\n\n\nLayerSwitcher.prototype._onVisibilityLayerClick = function (e) {\n  var globe = this.getGlobe();\n\n  var layerID = this._resolveLayerId(e.target.id);\n\n  globe.setLayerVisibility(layerID, e.target.checked); // update viewer\n};\n/**\n * Changes picto visibility on layer visibility change\n *\n * @method _updateLayerVisibility\n * @param {String} layerId - layer id\n * @param {Boolean} visibility - visible if true\n * @private\n */\n\n\nLayerSwitcher.prototype._updateLayerVisibility = function (layerId, visibility) {\n  var layerVisibilityInput = document.getElementById(this._addUID(\"GPvisibility_ID_\" + layerId));\n\n  if (layerVisibilityInput) {\n    layerVisibilityInput.checked = visibility;\n  }\n};\n/**\n * Opens layer information panel on picto click\n *\n * @method _onOpenLayerInfoClick\n * @param {Event} e - MouseEvent\n * @private\n */\n\n\nLayerSwitcher.prototype._onOpenLayerInfoClick = function (e) {\n  var layerID = this._resolveLayerId(e.target.id);\n\n  var layerOptions = this._layers[layerID];\n  var panel;\n  var info; // Close layer info panel\n\n  var divId = document.getElementById(e.target.id);\n\n  if (divId.className === \"GPlayerInfoOpened\") {\n    if (divId.classList !== undefined) {\n      divId.classList.remove(\"GPlayerInfoOpened\");\n      divId.classList.add(\"GPlayerInfo\");\n    }\n\n    panel = document.getElementById(this._addUID(\"GPlayerInfoPanel\"));\n\n    if (panel.classList !== undefined) {\n      panel.classList.remove(\"GPpanel\");\n      panel.classList.remove(\"GPlayerInfoPanelOpened\");\n      panel.classList.add(\"GPlayerInfoPanelClosed\");\n    }\n\n    info = document.getElementById(this._addUID(\"GPlayerInfoContent\"));\n    panel.removeChild(info);\n    return;\n  }\n\n  var layers = document.getElementsByClassName(\"GPlayerInfoOpened\");\n\n  for (var i = 0; i < layers.length; i++) {\n    layers[i].className = \"GPlayerInfo\";\n  } // Open layer info panel\n\n\n  if (divId.classList !== undefined) {\n    divId.classList.remove(\"GPlayerInfo\");\n    divId.classList.add(\"GPlayerInfoOpened\");\n  }\n\n  panel = document.getElementById(this._addUID(\"GPlayerInfoPanel\"));\n\n  if (panel.classList !== undefined) {\n    panel.classList.add(\"GPpanel\");\n    panel.classList.remove(\"GPlayerInfoPanelClosed\");\n    panel.classList.add(\"GPlayerInfoPanelOpened\");\n  }\n\n  info = document.getElementById(this._addUID(\"GPlayerInfoContent\"));\n\n  if (info) {\n    panel.removeChild(info);\n  } // on récupère les infos associées au layer pour mettre dynamiquement le contenu du panel d'informations\n\n\n  var obj = {\n    title: layerOptions.title,\n    description: layerOptions.description,\n    quicklookUrl: layerOptions.quicklookUrl,\n    metadata: layerOptions.metadata,\n    legends: layerOptions.legends\n  };\n\n  var infoLayer = this._createContainerLayerInfoElement(obj);\n\n  panel.appendChild(infoLayer);\n};\n/**\n * removes layer from layer switcher and globe on picto click\n *\n * @method _onDropLayerClick\n * @param {Event} e - MouseEvent\n * @private\n */\n\n\nLayerSwitcher.prototype._onDropLayerClick = function (e) {\n  var globe = this.getGlobe();\n\n  var layerID = this._resolveLayerId(e.target.id); // removing the layer will trigger the event listener\n  // which will call this.removeLayer and delete the div\n\n\n  globe.removeLayer(layerID);\n\n  this._updateLayerListContainer();\n};\n/**\n * changes layers order on drag and drop\n *\n * @method _onDropLayerClick\n * @param {Event} e - HTML event\n * @private\n */\n\n\nLayerSwitcher.prototype._onDragAndDropLayerClick = function (e) {\n  var globe = this.getGlobe(); // Handling of the indexes : gives the little indexes (lowest layers) to the non-visible layers (displayed: false)\n  // when the index of a visible layer changes.\n  // Always moves the non-visible layers under the other layers (to not hide them)\n\n  if (e.newIndex - e.oldIndex === 0) {\n    return;\n  }\n\n  var targetIndex = null;\n\n  if (!e.newIndex || e.newIndex === 0) {\n    targetIndex = globe.getColorLayers().length - 1;\n  } else {\n    var layerTargetID = this._resolveLayerId(e.from.childNodes[e.newIndex + (e.newIndex - e.oldIndex < 0 ? 1 : -1)].id);\n\n    targetIndex = globe.getLayerById(layerTargetID).sequence;\n  }\n\n  var layerID = this._resolveLayerId(e.item.id);\n\n  globe.moveLayerToIndex(layerID, targetIndex);\n};\n/**\n * Checks layers range\n *\n * @method _inRangeUpdate\n * @param {Array} layersDisplayed - list of displayed layers id\n * @private\n */\n\n\nLayerSwitcher.prototype._inRangeUpdate = function (layersDisplayed) {\n  for (var layerKey in this._layers) {\n    var layer = this._layers[layerKey];\n\n    if (!layer) {\n      continue;\n    } // Check if layer is displayed.\n\n\n    var layerDiv;\n    var bInRange = layersDisplayed.indexOf(layer.id) >= 0;\n\n    if (bInRange && !layer.inRange) {\n      layer.inRange = true;\n      layerDiv = document.getElementById(this._addUID(\"GPlayerSwitcher_ID_\" + layer.id));\n      layerDiv.classList.remove(\"outOfRange\");\n    } else if (!bInRange && layer.inRange) {\n      layer.inRange = false;\n      layerDiv = document.getElementById(this._addUID(\"GPlayerSwitcher_ID_\" + layer.id));\n      layerDiv.classList.add(\"outOfRange\");\n    }\n  }\n};\n/**\n * Update the layer list container\n *\n * @method _updateLayerListContainer\n * @private\n */\n\n\nLayerSwitcher.prototype._updateLayerListContainer = function () {\n  if (this._layerListContainer) {\n    var globe = this.getGlobe(); // empty the previous container\n\n    while (this._layerListContainer.firstChild) {\n      this._layerListContainer.removeChild(this._layerListContainer.firstChild);\n    } // reorders layers according to the layer stack (globe.getLayers returns an reverse ordenered array)..\n\n\n    var layers = globe.getColorLayers();\n    var orderedLayers = layers.sort(function (a, b) {\n      return b.sequence - a.sequence;\n    }); // ... and adds the correct div to the different layers, in the zindex decreasing order\n\n    for (var j = 0; j < orderedLayers.length; j++) {\n      if (!this._layers[orderedLayers[j].id]) {\n        continue;\n      } // retrieves the div of the layer, stored in the _layers array\n\n\n      var layerDiv = this._layers[orderedLayers[j].id].div;\n\n      this._layerListContainer.appendChild(layerDiv);\n    }\n  } else {\n    logger.error(\"[Itowns.control.LayerSwitcher] _updateLayerListContainer : layer list container not found to update layers order ?!\");\n  }\n}; // ################################################################### //\n// ############################ Utils ################################ //\n// ################################################################### //\n\n/**\n * Gets layer informations : title, description, quicklookurl, legends, metadata\n *\n * @private\n * @memberof LayerSwitcher\n * @method _getLayerInfo\n * @param {Object} layer - the layer object\n * @returns {Object} layerInfo - layer informations\n */\n\n\nLayerSwitcher.prototype._getLayerInfo = function (layer) {\n  var layerInfo = {};\n\n  if (layer) {\n    layerInfo._title = layer.title || null;\n    layerInfo._description = layer.description || null;\n    layerInfo._quicklookUrl = layer.quicklookUrl || null;\n    layerInfo._metadata = layer.metadata || null;\n    layerInfo._legends = layer.legends || null;\n  }\n\n  return layerInfo;\n};\n/**\n * Gets layer id from div id\n *\n * @method _resolveLayerId\n * @param {String} divId - HTML div id\n * @returns {String} layer id\n * @private\n */\n\n\nLayerSwitcher.prototype._resolveLayerId = function (divId) {\n  var divName = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_3__[\"default\"].name(divId); // ex GPvisibilityPicto_ID_26\n\n  return divName.substring(divName.indexOf(\"_ID_\") + 4); // ex. 26\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerSwitcher);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvTGF5ZXJTd2l0Y2hlci5qcz82ODk1Il0sIm5hbWVzIjpbImxvZ2dlciIsIkxvZ2dlciIsImdldExvZ2dlciIsIkxheWVyU3dpdGNoZXIiLCJsc09wdGlvbnMiLCJvcHRpb25zIiwibGF5ZXJzIiwiVHlwZUVycm9yIiwiQXJyYXkiLCJpc0FycmF5IiwiRXJyb3IiLCJfaW5pdGlhbGl6ZSIsImNvbnRhaW5lciIsIl9pbml0Q29udGFpbmVyIiwiX2FkZGVkTGF5ZXJDb25mIiwiV2lkZ2V0IiwiY2FsbCIsIm5hbWUiLCJlbGVtZW50IiwidGFyZ2V0IiwicG9zaXRpb24iLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJVdGlscyIsImFzc2lnbiIsIkxheWVyU3dpdGNoZXJET00iLCJjb25zdHJ1Y3RvciIsInNldEdsb2JlIiwiZ2xvYmUiLCJzZWxmIiwiaSIsIl9pbml0TGF5ZXJzIiwibGVuZ3RoIiwibGF5ZXIiLCJpZCIsImdldExheWVyQnlJZCIsImRpc3BsYXllZCIsImNvbmYiLCJjb25maWciLCJsYXllck9wdGlvbnMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwibGVnZW5kcyIsIm1ldGFkYXRhIiwicXVpY2tsb29rVXJsIiwiaXByIiwib3BhY2l0eSIsInZpc2liaWxpdHkiLCJfbGF5ZXJzIiwiX2FkZEdsb2JlTGF5ZXJzIiwiX2NhbGxiYWNrcyIsIm9uT3BhY2l0eUxheWVyQ2FsbEJhY2siLCJlIiwiX3VwZGF0ZUxheWVyT3BhY2l0eSIsIm9uVmlzaWJpbGl0eUxheWVyQ2FsbEJhY2siLCJfdXBkYXRlTGF5ZXJWaXNpYmlsaXR5IiwidmlzaWJsZSIsIm9uQ2hhbmdlZFZpZXdDYWxsQmFjayIsIl9pblJhbmdlVXBkYXRlIiwiY29sb3JMYXllcnNJZCIsImxpc3RlbiIsIkdsb2JlVmlld0V4dGVuZGVkIiwiRVZFTlRTIiwiUFJFX1JFTkRFUiIsInByZVJlbmRlckV2ZW50RmV0Y2hDb2xvckxheWVyc0Rpc3BsYXllZCIsIm9uQWRkZWRMYXllckNhbGxCYWNrIiwibGF5ZXJJZCIsIl9sYXllckRpc3BsYXllZEluTGF5ZXJTd2l0Y2hlciIsImdldEdsb2JlIiwidHlwZSIsImxheWVyQ29uZiIsIl9nZXRMYXllckNvbmYiLCJhZGRMYXllciIsIkxBWUVSX0FEREVEIiwib25SZW1vdmVkTGF5ZXJDYWxsQmFjayIsInJlbW92ZUxheWVyIiwiTEFZRVJfUkVNT1ZFRCIsIm9uSW5kZXhMYXllckNhbGxCYWNrIiwiYXJyYXlzRXF1YWxzIiwiYTEiLCJhMiIsInNlcXVlbmNlIiwicHJldmlvdXMiLCJfdXBkYXRlTGF5ZXJMaXN0Q29udGFpbmVyIiwiTEFZRVJTX09SREVSX0NIQU5HRUQiLCJnZXRDb2xvckxheWVycyIsImlpIiwiYWRkTGF5ZXJMaXN0ZW5lciIsIk9QQUNJVFlfUFJPUEVSVFlfQ0hBTkdFRCIsIlZJU0lCTEVfUFJPUEVSVFlfQ0hBTkdFRCIsIl9nbG9iZSIsImZvcmdldCIsImoiLCJyZW1vdmVMYXllckxpc3RlbmVyIiwiX2VsZW1lbnQiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJwYXJlbnROb2RlIiwiZXJyb3IiLCJMYXllckluR2xvYmUiLCJsYXllckluZm9zIiwiX2dldExheWVySW5mbyIsIl90aXRsZSIsIl9kZXNjcmlwdGlvbiIsIl9sZWdlbmRzIiwiX21ldGFkYXRhIiwiX3F1aWNrbG9va1VybCIsImF0dHJpYnV0aW9uIiwiZGl2IiwiX2NyZWF0ZUxheWVyRGl2IiwicHJvcCIsImhhc093blByb3BlcnR5IiwibmFtZURpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJfYWRkVUlEIiwiaW5uZXJIVE1MIiwiaW5mb2RpdiIsImFkdmFuY2VkVG9vbHMiLCJhcHBlbmRDaGlsZCIsIl9jcmVhdGVBZHZhbmNlZFRvb2xJbmZvcm1hdGlvbkVsZW1lbnQiLCJjbGFzc05hbWUiLCJsYXllckxpc3QiLCJsYXllckRpdiIsInNldENvbGxhcHNlZCIsImNvbGxhcHNlZCIsInVuZGVmaW5lZCIsImlzQ29sbGFwc2VkIiwiZ2V0Q29sbGFwc2VkIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNoZWNrZWQiLCJfdWlkIiwiU2VsZWN0b3JJRCIsImdlbmVyYXRlIiwiX2xheWVyTGlzdENvbnRhaW5lciIsIl9vcHRpb25zIiwiX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50IiwiaW5wdXQiLCJfY3JlYXRlTWFpbkxheWVyc1Nob3dFbGVtZW50IiwiZGl2TCIsIl9jcmVhdGVNYWluTGF5ZXJzRWxlbWVudCIsIl9jcmVhdGVEcmFnZ2FibGVFbGVtZW50IiwicGljdG8iLCJfY3JlYXRlTWFpblBpY3RvRWxlbWVudCIsImRpdkkiLCJfY3JlYXRlTWFpbkluZm9FbGVtZW50IiwiZWxlbWVudExheWVyc0xpc3QiLCJjaGlsZE5vZGVzIiwiZ2V0RWxlbWVudCIsIm9yZGVyZWRMYXllcnMiLCJzb3J0IiwiYSIsImIiLCJmb3JFYWNoIiwibHNMYXllckNvbmYiLCJpc0xlZ2VuZHMiLCJpc01ldGFkYXRhIiwiaXNRdWlja2xvb2tVcmwiLCJkaXNwbGF5SW5mb3JtYXRpb25FbGVtZW50IiwiX2NyZWF0ZUNvbnRhaW5lckxheWVyRWxlbWVudCIsImluUmFuZ2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfb25DaGFuZ2VMYXllck9wYWNpdHkiLCJsYXllcklEIiwiX3Jlc29sdmVMYXllcklkIiwib3BhY2l0eVZhbHVlIiwidmFsdWUiLCJvcGFjaXR5SWQiLCJzZXRMYXllck9wYWNpdHkiLCJsYXllck9wYWNpdHlJbnB1dCIsIk1hdGgiLCJyb3VuZCIsImxheWVyT3BhY2l0eVNwYW4iLCJfb25WaXNpYmlsaXR5TGF5ZXJDbGljayIsInNldExheWVyVmlzaWJpbGl0eSIsImxheWVyVmlzaWJpbGl0eUlucHV0IiwiX29uT3BlbkxheWVySW5mb0NsaWNrIiwicGFuZWwiLCJpbmZvIiwiZGl2SWQiLCJyZW1vdmUiLCJvYmoiLCJpbmZvTGF5ZXIiLCJfY3JlYXRlQ29udGFpbmVyTGF5ZXJJbmZvRWxlbWVudCIsIl9vbkRyb3BMYXllckNsaWNrIiwiX29uRHJhZ0FuZERyb3BMYXllckNsaWNrIiwibmV3SW5kZXgiLCJvbGRJbmRleCIsInRhcmdldEluZGV4IiwibGF5ZXJUYXJnZXRJRCIsImZyb20iLCJpdGVtIiwibW92ZUxheWVyVG9JbmRleCIsImxheWVyc0Rpc3BsYXllZCIsImxheWVyS2V5IiwiYkluUmFuZ2UiLCJpbmRleE9mIiwiZmlyc3RDaGlsZCIsImxheWVySW5mbyIsImRpdk5hbWUiLCJzdWJzdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLElBQUlBLE1BQU0sR0FBR0MscUVBQU0sQ0FBQ0MsU0FBUCxDQUFpQixlQUFqQixDQUFiO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQ0EsU0FBU0MsYUFBVCxDQUF3QkMsU0FBeEIsRUFBbUM7QUFDL0JBLFdBQVMsR0FBR0EsU0FBUyxJQUFJLEVBQXpCO0FBQ0EsTUFBSUMsT0FBTyxHQUFHRCxTQUFTLENBQUNDLE9BQVYsSUFBcUIsRUFBbkM7QUFDQSxNQUFJQyxNQUFNLEdBQUdGLFNBQVMsQ0FBQ0UsTUFBVixJQUFvQixFQUFqQzs7QUFFQSxNQUFJLEVBQUUsZ0JBQWdCSCxhQUFsQixDQUFKLEVBQXNDO0FBQ2xDLFVBQU0sSUFBSUksU0FBSixDQUFjLHlCQUFkLENBQU47QUFDSDs7QUFFRCxNQUFJRCxNQUFNLElBQUksQ0FBQ0UsS0FBSyxDQUFDQyxPQUFOLENBQWNILE1BQWQsQ0FBZixFQUFzQztBQUNsQyxVQUFNLElBQUlJLEtBQUosQ0FBVSw4Q0FBVixDQUFOO0FBQ0g7O0FBRUQsTUFBSUwsT0FBTyxJQUFJLFFBQU9BLE9BQVAsTUFBbUIsUUFBbEMsRUFBNEM7QUFDeEMsVUFBTSxJQUFJSyxLQUFKLENBQVUsZ0RBQVYsQ0FBTjtBQUNIOztBQUVELE9BQUtDLFdBQUwsQ0FBaUJOLE9BQWpCLEVBQTBCQyxNQUExQjs7QUFF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SCxVQUFNLENBQUNvRyxLQUFQLENBQWEscUhBQWI7QUFDSDtBQUNKLENBekJELEMsQ0EyQkE7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQVNBakcsYUFBYSxDQUFDa0IsU0FBZCxDQUF3QmtGLGFBQXhCLEdBQXdDLFVBQVVyRSxLQUFWLEVBQWlCO0FBQ3JELE1BQUl1SyxTQUFTLEdBQUcsRUFBaEI7O0FBQ0EsTUFBSXZLLEtBQUosRUFBVztBQUNQdUssYUFBUyxDQUFDakcsTUFBVixHQUFtQnRFLEtBQUssQ0FBQ08sS0FBTixJQUFlLElBQWxDO0FBQ0FnSyxhQUFTLENBQUNoRyxZQUFWLEdBQXlCdkUsS0FBSyxDQUFDUSxXQUFOLElBQXFCLElBQTlDO0FBQ0ErSixhQUFTLENBQUM3RixhQUFWLEdBQTBCMUUsS0FBSyxDQUFDVyxZQUFOLElBQXNCLElBQWhEO0FBQ0E0SixhQUFTLENBQUM5RixTQUFWLEdBQXNCekUsS0FBSyxDQUFDVSxRQUFOLElBQWtCLElBQXhDO0FBQ0E2SixhQUFTLENBQUMvRixRQUFWLEdBQXFCeEUsS0FBSyxDQUFDUyxPQUFOLElBQWlCLElBQXRDO0FBQ0g7O0FBQ0QsU0FBTzhKLFNBQVA7QUFDSCxDQVZEO0FBWUE7Ozs7Ozs7Ozs7QUFRQXRNLGFBQWEsQ0FBQ2tCLFNBQWQsQ0FBd0JrSixlQUF4QixHQUEwQyxVQUFVZSxLQUFWLEVBQWlCO0FBQ3ZELE1BQUlvQixPQUFPLEdBQUdwRSxnRUFBVSxDQUFDckgsSUFBWCxDQUFnQnFLLEtBQWhCLENBQWQsQ0FEdUQsQ0FDakI7O0FBQ3RDLFNBQU9vQixPQUFPLENBQUNDLFNBQVIsQ0FBa0JELE9BQU8sQ0FBQ0gsT0FBUixDQUFnQixNQUFoQixJQUEwQixDQUE1QyxDQUFQLENBRnVELENBRUE7QUFDMUQsQ0FIRDs7QUFLZXBNLDRFQUFmIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9Db250cm9scy9MYXllclN3aXRjaGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdsb2JlVmlld0V4dGVuZGVkIGZyb20gXCIuLi9HbG9iZVZpZXdFeHRlbmRlZFwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHNcIjtcbmltcG9ydCBTZWxlY3RvcklEIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvU2VsZWN0b3JJRFwiO1xuaW1wb3J0IExheWVyU3dpdGNoZXJET00gZnJvbSBcIi4uLy4uL0NvbW1vbi9Db250cm9scy9MYXllclN3aXRjaGVyRE9NXCI7XG5pbXBvcnQgV2lkZ2V0IGZyb20gXCIuL1dpZGdldFwiO1xuXG52YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIkxheWVyU3dpdGNoZXJcIik7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udHJvbCB0byBtYW5hZ2UgZ2xvYmUgbGF5ZXJzIDogdGhlaXIgb3JkZXIsIHZpc2liaWxpdHkgYW5kIG9wYWNpdHksIGFuZCBkaXNwbGF5IHRoZWlyIGluZm9ybWF0aW9ucyAodGl0bGUsIGRlc2NyaXB0aW9uLCBsZWdlbmRzLCBtZXRhZGF0YS4uLilcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtpdG93bnMuY29udHJvbC5XaWRnZXR9XG4gKiBAYWxpYXMgaXRvd25zLmNvbnRyb2wuTGF5ZXJTd2l0Y2hlclxuICogQHBhcmFtIHtPYmplY3R9IGxzT3B0aW9ucyAtIGNvbnRyb2wgb3B0aW9uc1xuICogQHBhcmFtIHtBcnJheX0gW2xzT3B0aW9ucy5sYXllcnNdIC0gbGlzdCBvZiBsYXllcnMgdG8gYmUgY29uZmlndXJlZC4gRWFjaCBhcnJheSBlbGVtZW50IGlzIGFuIG9iamVjdCwgd2l0aCBmb2xsb3dpbmcgcHJvcGVydGllcyA6XG4gKiBAcGFyYW0ge1N0cmluZ30gW2xzT3B0aW9ucy5sYXllcnMuaWRdIC0gb2wubGF5ZXIuTGF5ZXIgbGF5ZXIgdG8gYmUgY29uZmlndXJlZCAodGhhdCBoYXMgYmVlbiBhZGRlZCB0byBnbG9iZSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbbHNPcHRpb25zLmxheWVycy5jb25maWddIC0gY3VzdG9tIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBsYXllciBpbmZvcm1hdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCBsZWdlbmRzLCBtZXRhZGF0YSwgcXVpY2tsb29rIHVybCksIHdpdGggZm9sbG93aW5nIHByb3BlcnRpZXMgOlxuICogQHBhcmFtIHtTdHJpbmd9IFtsc09wdGlvbnMubGF5ZXJzLmNvbmZpZy50aXRsZV0gLSBsYXllciBhbGlhcywgdG8gYmUgZGlzcGxheWVkIGluIHdpZGdldCBsYXllciBsaXN0LiBFLmcuIDogXCJDYXJ0ZXMgSUdOXCJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbHNPcHRpb25zLmxheWVycy5jb25maWcuZGVzY3JpcHRpb25dIC0gbGF5ZXIgZGVzY3JpcHRpb24sIHRvIGJlIGRpc3BsYXllZCBvbiB0aXRsZSBob3Zlciwgb3IgaW4gbGF5ZXIgaW5mb3JtYXRpb24gcGFuZWwuXG4gKiBAcGFyYW0ge1N0cmluZ30gW2xzT3B0aW9ucy5sYXllcnMuY29uZmlnLnF1aWNrbG9va1VybF0gLSBsaW5rIHRvIGEgcXVpY2sgbG9vayBpbWFnZSBmb3IgdGhpcyBsYXllci5cbiAqIEBwYXJhbSB7QXJyYXl9IFtsc09wdGlvbnMubGF5ZXJzLmNvbmZpZy5sZWdlbmRzXSAtIGFycmF5IG9mIGxheWVyIGxlZ2VuZHMuIEVhY2ggYXJyYXkgZWxlbWVudCBpcyBhbiBvYmplY3QsIHdpdGggZm9sbG93aW5nIHByb3BlcnRpZXMgOlxuICogICAgICAtIHVybCAoU3RyaW5nLCBtYW5kYXRvcnkpIDogbGluayB0byBhIGxlZ2VuZFxuICogICAgICAtIG1pblNjYWxlRGVub21pbmF0b3IgKE51bWJlciwgb3B0aW9uYWwpIDogbWluIHNjYWxlIGRlbm9taW5hdG9yIGZvciBsZWdlbmQgdmFsaWRpdHkuXG4gKiBAcGFyYW0ge0FycmF5fSBbbHNPcHRpb25zLmxheWVycy5jb25maWcubWV0YWRhdGFdIC0gYXJyYXkgb2YgbGF5ZXIgbWV0YWRhdGEuIEVhY2ggYXJyYXkgZWxlbWVudCBpcyBhbiBvYmplY3QsIHdpdGggcHJvcGVydHkgdXJsIChTdHJpbmcsIG1hbmRhdG9yeSkgOiBsaW5rIHRvIGEgbWV0YWRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBbbHNPcHRpb25zLm9wdGlvbnNdIC0gSXRvd25zLmNvbnRyb2wuQ29udHJvbCBvcHRpb25zXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtsc09wdGlvbnMub3B0aW9ucy5jb2xsYXBzZWQgPSB0cnVlXSAtIFNwZWNpZnkgaWYgd2lkZ2V0IGhhcyB0byBiZSBjb2xsYXBzZWQgKHRydWUpIG9yIG5vdCAoZmFsc2UpIG9uIGdsb2JlIGxvYWRpbmcuXG4gKiBAZXhhbXBsZVxuICogdmFyIGxheWVyU3dpdGNoZXIgPSBuZXcgaXRvd25zLmNvbnRyb2wuTGF5ZXJTd2l0Y2hlcih7XG4gKiAgbGF5ZXJzIDogW1xuICogICAgICB7XG4gKiAgICAgICAgICBpZCA6IFwibXlMYXllclwiLFxuICogICAgICAgICAgY29uZmlnIDoge1xuICogICAgICAgICAgICAgIHRpdGxlIDogXCJ0ZXN0IGxheWVyIG5hbWUgMVwiLFxuICogICAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogXCJ0ZXN0IGxheWVyIGRlc2MgMVwiLFxuICogICAgICAgICAgfVxuICogICAgICB9XG4gKiAgXSxcbiAqICBvcHRpb25zIDoge1xuICogICAgICBjb2xsYXBzZWQgOiBmYWxzZVxuICogIH1cbiAqICkpO1xuICovXG5mdW5jdGlvbiBMYXllclN3aXRjaGVyIChsc09wdGlvbnMpIHtcbiAgICBsc09wdGlvbnMgPSBsc09wdGlvbnMgfHwge307XG4gICAgdmFyIG9wdGlvbnMgPSBsc09wdGlvbnMub3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgbGF5ZXJzID0gbHNPcHRpb25zLmxheWVycyB8fCBbXTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBMYXllclN3aXRjaGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRVJST1IgQ0xBU1NfQ09OU1RSVUNUT1JcIik7XG4gICAgfVxuXG4gICAgaWYgKGxheWVycyAmJiAhQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUk9SIFdST05HX1RZUEUgOiBsYXllcnMgc2hvdWxkIGJlIGFuIGFycmF5XCIpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUk9SIFdST05HX1RZUEUgOiBvcHRpb25zIHNob3VsZCBiZSBhbiBvYmplY3RcIik7XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdGlhbGl6ZShvcHRpb25zLCBsYXllcnMpO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2luaXRDb250YWluZXIob3B0aW9ucyk7XG4gICAgLy8gcHJvcGVydHkgdG8gc2F2ZSBsYXllcnMgY29uZiBhZGRlZCBhZnRlciB0aGUgTFMgaXMgaW5pdGlhbGl6ZWRcbiAgICB0aGlzLl9hZGRlZExheWVyQ29uZiA9IHt9O1xuXG4gICAgV2lkZ2V0LmNhbGwoXG4gICAgICAgIHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWUgOiBcIkxheWVyU3dpdGNoZXJcIixcbiAgICAgICAgICAgIGVsZW1lbnQgOiBjb250YWluZXIsXG4gICAgICAgICAgICB0YXJnZXQgOiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgICAgIHBvc2l0aW9uIDogb3B0aW9ucy5wb3NpdGlvblxuICAgICAgICB9XG4gICAgKTtcbn1cblxuLypcbiAqIEBsZW5kcyBtb2R1bGU6TGF5ZXJTd2l0Y2hlclxuICovXG5MYXllclN3aXRjaGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV2lkZ2V0LnByb3RvdHlwZSwge30pO1xuXG4vLyByZXRyaWV2ZXMgbWV0aG9kcyBvZiB0aGUgY29tbW9uIGNsYXNzIExheWVyU3dpdGNoZXJET01cblV0aWxzLmFzc2lnbihMYXllclN3aXRjaGVyLnByb3RvdHlwZSwgTGF5ZXJTd2l0Y2hlckRPTSk7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgKGFsaWFzKVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF5ZXJTd2l0Y2hlcjtcblxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMgcHVibGljIG1ldGhvZHMgKGdldHRlcnMsIHNldHRlcnMpICMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4vKipcbiAqIEJpbmQgZ2xvYmUgdG8gY29udHJvbFxuICpcbiAqIEBwYXJhbSB7R2xvYmVWaWV3RXh0ZW5kZWR9IGdsb2JlIC0gdGhlIGdsb2JlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLnNldEdsb2JlID0gZnVuY3Rpb24gKGdsb2JlKSB7XG4gICAgdmFyIGxheWVycztcbiAgICBpZiAoZ2xvYmUpIHsgLy8gaW4gdGhlIGNhc2UgdGhlIGNvbnRyb2wgaXMgYWRkZWQgdG8gdGhlIGdsb2JlXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyBhZGQgb3B0aW9ucyBsYXllcnMgdG8gbGF5ZXJsaXN0LlxuICAgICAgICAvLyAob25seSB0aGUgbGF5ZXJzIGNvbmZpZ3VyYXRlZCBieSB0aGUgdXNlciBpbiB0aGUgb3B0aW9ucyBvZiB0aGUgbGF5ZXJTd2l0Y2hlciApXG4gICAgICAgIC8vIHRoZSBvdGhlciBsYXllcnMgb2YgdGhlIG1hcCB3aWxsIGJlIGFkZGVkIGluIHRoZSBzZXRHbG9iZSBtZXRob2RcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pbml0TGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyByZXRyaWV2ZXMgdGhlIGxheWVyLi4uXG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faW5pdExheWVyc1tpXS5pZCkge1xuICAgICAgICAgICAgICAgIGxheWVyID0gZ2xvYmUuZ2V0TGF5ZXJCeUlkKHRoaXMuX2luaXRMYXllcnNbaV0uaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGF5ZXIgJiYgdGhpcy5faW5pdExheWVyc1tpXS5kaXNwbGF5ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyAuLiBhbmQgdGhlIGluZm9zIG9mIHRoZSBjb25maWd1cmF0aW9uIGlmIHRoZXkgZXhpc3QgKHRpdGxlLCBkZXNjcmlwdGlvbiwgbGVnZW5kcywgcXVpY2tsb29rLCBtZXRhZGF0YSlcbiAgICAgICAgICAgICAgICB2YXIgY29uZiA9IHRoaXMuX2luaXRMYXllcnNbaV0uY29uZmlnIHx8IHt9O1xuICAgICAgICAgICAgICAgIHZhciBsYXllck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogY29uZi50aXRsZSB8fCBsYXllci50aXRsZSB8fCB0aGlzLl9pbml0TGF5ZXJzW2ldLmlkLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6IGNvbmYuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kcyA6IGNvbmYubGVnZW5kcyB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgOiBjb25mLm1ldGFkYXRhIHx8IFtdLFxuICAgICAgICAgICAgICAgICAgICBxdWlja2xvb2tVcmwgOiBjb25mLnF1aWNrbG9va1VybCB8fCBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmYuaXByICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9ucy5pcHIgPSBjb25mLmlwcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25mLm9wYWNpdHkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zLm9wYWNpdHkgPSBjb25mLm9wYWNpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZi52aXNpYmlsaXR5ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9ucy52aXNpYmlsaXR5ID0gY29uZi52aXNpYmlsaXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXllcnNbbGF5ZXIuaWRdID0gbGF5ZXJPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkcyB0aGUgbGF5ZXJzXG4gICAgICAgIHRoaXMuX2FkZEdsb2JlTGF5ZXJzKGdsb2JlKTtcblxuICAgICAgICAvLyBhZGRpbmcgb2YgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbk9wYWNpdHlMYXllckNhbGxCYWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNlbGYuX3VwZGF0ZUxheWVyT3BhY2l0eShlLnRhcmdldC5pZCwgZS5uZXcub3BhY2l0eSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uVmlzaWJpbGl0eUxheWVyQ2FsbEJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2VsZi5fdXBkYXRlTGF5ZXJWaXNpYmlsaXR5KGUudGFyZ2V0LmlkLCBlLm5ldy52aXNpYmxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBdCBldmVyeSBnbG9iZSBtb3ZlbWVudCwgbGF5ZXIgc3dpdGNoZXIgbWF5IGJlIHVwZGF0ZWQsXG4gICAgICAgIC8vIGFjY29yZGluZyB0byBsYXllcnMgb24gZ2xvYmUsIGFuZCB0aGVpciByYW5nZS5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uQ2hhbmdlZFZpZXdDYWxsQmFjayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzZWxmLl9pblJhbmdlVXBkYXRlKGUuY29sb3JMYXllcnNJZCk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JlLmxpc3RlbihHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuUFJFX1JFTkRFUiwgdGhpcy5fY2FsbGJhY2tzLm9uQ2hhbmdlZFZpZXdDYWxsQmFjayk7XG4gICAgICAgIC8vIHByZXJlbmRlciBldmVudHMgcmV0dXJucyB2aXNpYmxlIGxheWVyc1xuICAgICAgICBnbG9iZS5wcmVSZW5kZXJFdmVudEZldGNoQ29sb3JMYXllcnNEaXNwbGF5ZWQoKTtcblxuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25BZGRlZExheWVyQ2FsbEJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGlkID0gZS5sYXllcklkO1xuICAgICAgICAgICAgaWYgKHNlbGYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX2xheWVyRGlzcGxheWVkSW5MYXllclN3aXRjaGVyKGlkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IHNlbGYuZ2V0R2xvYmUoKS5nZXRMYXllckJ5SWQoaWQpO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci50eXBlID09PSBcImVsZXZhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyQ29uZiA9IHNlbGYuX2dldExheWVyQ29uZihpZCkgfHwgc2VsZi5fYWRkZWRMYXllckNvbmZbaWRdO1xuICAgICAgICAgICAgICAgIGlmIChsYXllckNvbmYpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRMYXllcihsYXllciwgbGF5ZXJDb25mKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZExheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JlLmxpc3RlbihHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuTEFZRVJfQURERUQsIHRoaXMuX2NhbGxiYWNrcy5vbkFkZGVkTGF5ZXJDYWxsQmFjayk7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uUmVtb3ZlZExheWVyQ2FsbEJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGlkID0gZS5sYXllcklkO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGluZGV4IG1heCBhbmQgZGVsZXRlIHRoZSBsYXllciBmcm9tIHRoZSBsYXllcnN3aXRjaGVyXG4gICAgICAgICAgICBpZiAoc2VsZikge1xuICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlTGF5ZXIoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBnbG9iZS5saXN0ZW4oR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLkxBWUVSX1JFTU9WRUQsIHRoaXMuX2NhbGxiYWNrcy5vblJlbW92ZWRMYXllckNhbGxCYWNrKTtcblxuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25JbmRleExheWVyQ2FsbEJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGFycmF5c0VxdWFscyA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICAgICAgICAgICAgICBpZiAoYTEubGVuZ3RoICE9PSBhMi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhMVtpXSAhPT0gYTJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghYXJyYXlzRXF1YWxzKGUubmV3LnNlcXVlbmNlLCBlLnByZXZpb3VzLnNlcXVlbmNlKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuX3VwZGF0ZUxheWVyTGlzdENvbnRhaW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBnbG9iZS5saXN0ZW4oR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLkxBWUVSU19PUkRFUl9DSEFOR0VELCB0aGlzLl9jYWxsYmFja3Mub25JbmRleExheWVyQ2FsbEJhY2spO1xuXG4gICAgICAgIGxheWVycyA9IGdsb2JlLmdldENvbG9yTGF5ZXJzKCk7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBsYXllcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgICBnbG9iZS5hZGRMYXllckxpc3RlbmVyKGxheWVyc1tpaV0sIEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5PUEFDSVRZX1BST1BFUlRZX0NIQU5HRUQsIHRoaXMuX2NhbGxiYWNrcy5vbk9wYWNpdHlMYXllckNhbGxCYWNrKTtcbiAgICAgICAgICAgIGdsb2JlLmFkZExheWVyTGlzdGVuZXIobGF5ZXJzW2lpXSwgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLlZJU0lCTEVfUFJPUEVSVFlfQ0hBTkdFRCwgdGhpcy5fY2FsbGJhY2tzLm9uVmlzaWJpbGl0eUxheWVyQ2FsbEJhY2spO1xuICAgICAgICAgICAgc2VsZi5fdXBkYXRlTGF5ZXJWaXNpYmlsaXR5KGxheWVyc1tpaV0uaWQsIGxheWVyc1tpaV0udmlzaWJsZSk7XG4gICAgICAgICAgICBzZWxmLl91cGRhdGVMYXllck9wYWNpdHkobGF5ZXJzW2lpXS5pZCwgbGF5ZXJzW2lpXS5vcGFjaXR5KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlbW92ZXMgdGhlIGxpc3RlbmVycyBhc3NvY2lhdGVkIHRvIHRoZSBkZWxldGVkIGxheWVyc3dpdGNoZXJcbiAgICAgICAgdGhpcy5fZ2xvYmUuZm9yZ2V0KEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5QUkVfUkVOREVSLCB0aGlzLl9jYWxsYmFja3Mub25DaGFuZ2VkVmlld0NhbGxCYWNrKTtcbiAgICAgICAgdGhpcy5fZ2xvYmUuZm9yZ2V0KEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5MQVlFUl9BRERFRCwgdGhpcy5fY2FsbGJhY2tzLm9uQWRkZWRMYXllckNhbGxCYWNrKTtcbiAgICAgICAgdGhpcy5fZ2xvYmUuZm9yZ2V0KEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5MQVlFUl9SRU1PVkVELCB0aGlzLl9jYWxsYmFja3Mub25SZW1vdmVkTGF5ZXJDYWxsQmFjayk7XG4gICAgICAgIHRoaXMuX2dsb2JlLmZvcmdldChHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuTEFZRVJTX09SREVSX0NIQU5HRUQsIHRoaXMuX2NhbGxiYWNrcy5vbkluZGV4TGF5ZXJDYWxsQmFjayk7XG4gICAgICAgIGxheWVycyA9IHRoaXMuX2dsb2JlLmdldENvbG9yTGF5ZXJzKCk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGF5ZXJzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICB0aGlzLl9nbG9iZS5yZW1vdmVMYXllckxpc3RlbmVyKGxheWVyc1tqXSwgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLk9QQUNJVFlfUFJPUEVSVFlfQ0hBTkdFRCwgdGhpcy5fY2FsbGJhY2tzLm9uT3BhY2l0eUxheWVyQ2FsbEJhY2spO1xuICAgICAgICAgICAgdGhpcy5fZ2xvYmUucmVtb3ZlTGF5ZXJMaXN0ZW5lcihsYXllcnNbal0sIEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5WSVNJQkxFX1BST1BFUlRZX0NIQU5HRUQsIHRoaXMuX2NhbGxiYWNrcy5vblZpc2liaWxpdHlMYXllckNhbGxCYWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkZWxldGVzIHRoZSBsYXllclN3aXRjaGVyIERPTVxuICAgICAgICB3aGlsZSAodGhpcy5fZWxlbWVudC5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5fZWxlbWVudC5sYXN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBjYWxscyBvcmlnaW5hbCBzZXRHbG9iZSBtZXRob2RcbiAgICBXaWRnZXQucHJvdG90eXBlLnNldEdsb2JlLmNhbGwodGhpcywgZ2xvYmUpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgbmV3IGxheWVyIHRvIGNvbnRyb2wgKHdoZW4gYWRkZWQgdG8gZ2xvYmUpIG9yIGFkZCBuZXcgbGF5ZXIgY29uZmlndXJhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBsYXllciAtIGxheWVyIHRvIGFkZCB0byBsYXllciBzd2l0Y2hlclxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWddIC0gYWRkaXRpb25hbCBvcHRpb25zIGZvciBsYXllciBjb25maWd1cmF0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy50aXRsZV0gLSBsYXllciB0aXRsZSAoZGVmYXVsdCBpcyBsYXllciBpZGVudGlmaWVyKVxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZGVzY3JpcHRpb25dIC0gbGF5ZXIgZGVzY3JpcHRpb24gKGRlZmF1bHQgaXMgbnVsbClcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmxlZ2VuZHNdIC0gbGF5ZXIgbGVnZW5kcyAoZGVmYXVsdCBpcyBhbiBlbXB0eSBhcnJheSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm1ldGFkYXRhXSAtIGxheWVyIG1ldGFkYXRhIChkZWZhdWx0IGlzIGFuIGVtcHR5IGFycmF5KVxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcucXVpY2tsb29rVXJsXSAtIGxheWVyIHF1aWNrbG9va1VybCAoZGVmYXVsdCBpcyBudWxsKVxuICogQGV4YW1wbGVcbiAqICAgbGF5ZXJTd2l0Y2hlci5hZGRMYXllcih7XG4gKiAgICAgICBsYXllciA6IGdwUGFyY2VscyxcbiAqICAgICAgIGNvbmZpZyA6IHtcbiAqICAgICAgICAgICB0aXRsZSA6IFwiUGFyY2VsbGVzIGNhZGFzdHJhbGVzXCIsXG4gKiAgICAgICAgICAgZGVzY3JpcHRpb24gOiBcImRlc2NyaXB0aW9uIGRlIGxhIGNvdWNoZVwiLFxuICogICAgICAgICAgIHF1aWNrbG9va1VybCA6IFwiaHR0cDovL3F1aWNrbG9va1VybC5mclwiXG4gKiAgICAgICB9XG4gKiAgIH0pXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLmFkZExheWVyID0gZnVuY3Rpb24gKGxheWVyLCBjb25maWcpIHtcbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgdmFyIGdsb2JlID0gdGhpcy5nZXRHbG9iZSgpO1xuXG4gICAgaWYgKCFsYXllcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJMYXllclN3aXRjaGVyOmFkZExheWVyIC0gbWlzc2luZyBsYXllciBwYXJhbWV0ZXJcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWQgPSBsYXllci5pZDtcbiAgICBpZiAoaWQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiTGF5ZXJTd2l0Y2hlcjphZGRMYXllciAtIGNvbmZpZ3VyYXRpb24gY2Fubm90IGJlIHNldCBmb3IgXCIgKyBsYXllciArIFwiIGxheWVyIChsYXllciBpZCBub3QgZm91bmQpXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc3Vic2NyaXB0aW9uIHRvIHRoZSBldmVudHNcbiAgICBnbG9iZS5hZGRMYXllckxpc3RlbmVyKGxheWVyLCBHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuT1BBQ0lUWV9QUk9QRVJUWV9DSEFOR0VELCB0aGlzLl9jYWxsYmFja3Mub25PcGFjaXR5TGF5ZXJDYWxsQmFjayk7XG4gICAgZ2xvYmUuYWRkTGF5ZXJMaXN0ZW5lcihsYXllciwgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLlZJU0lCTEVfUFJPUEVSVFlfQ0hBTkdFRCwgdGhpcy5fY2FsbGJhY2tzLm9uVmlzaWJpbGl0eUxheWVyQ2FsbEJhY2spO1xuXG4gICAgLy8gbWFrZSBzdXJlIGxheWVyIGlzIGluIGdsb2JlIGxheWVyc1xuICAgIHZhciBMYXllckluR2xvYmUgPSBnbG9iZS5nZXRMYXllckJ5SWQoaWQpO1xuXG4gICAgaWYgKCFMYXllckluR2xvYmUpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiTGF5ZXJTd2l0Y2hlcjphZGRMYXllciAtIGNvbmZpZ3VyYXRpb24gY2Fubm90IGJlIHNldCBmb3IgXCIsIGxheWVyLCBcIiBsYXllciAobGF5ZXIgaXMgbm90IGluIGdsb2JlIGxheWVycyApXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgbGF5ZXIgaXMgbm90IGFscmVhZHkgaW4gbGF5ZXJzIGxpc3QsIGFkZCBpdCB0byBjb250cm9sIChsYXllcnMgbGlzdCBhbmQgY29udGFpbmVyIGRpdilcbiAgICBpZiAoIXRoaXMuX2xheWVyc1tpZF0pIHtcbiAgICAgICAgLy8gMS4gYWRkIGxheWVyIHRvIGxheWVycyBsaXN0XG4gICAgICAgIHZhciBsYXllckluZm9zID0gdGhpcy5fZ2V0TGF5ZXJJbmZvKGxheWVyKSB8fCB7fTtcbiAgICAgICAgdmFyIGxheWVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRpdGxlIDogY29uZmlnLnRpdGxlIHx8IGxheWVySW5mb3MuX3RpdGxlIHx8IGlkLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBjb25maWcuZGVzY3JpcHRpb24gfHwgbGF5ZXJJbmZvcy5fZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICAgIGxlZ2VuZHMgOiBjb25maWcubGVnZW5kcyB8fCBsYXllckluZm9zLl9sZWdlbmRzIHx8IFtdLFxuICAgICAgICAgICAgbWV0YWRhdGEgOiBjb25maWcubWV0YWRhdGEgfHwgbGF5ZXJJbmZvcy5fbWV0YWRhdGEgfHwgW10sXG4gICAgICAgICAgICBxdWlja2xvb2tVcmwgOiBjb25maWcucXVpY2tsb29rVXJsIHx8IGxheWVySW5mb3MuX3F1aWNrbG9va1VybCB8fCBudWxsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmlwciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgbGF5ZXJPcHRpb25zLmlwciA9IGNvbmZpZy5pcHI7XG4gICAgICAgICAgICBsYXllci5hdHRyaWJ1dGlvbiA9IGxheWVyT3B0aW9ucy5pcHI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcub3BhY2l0eSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgbGF5ZXJPcHRpb25zLm9wYWNpdHkgPSBjb25maWcub3BhY2l0eTtcbiAgICAgICAgICAgIGxheWVyLm9wYWNpdHkgPSBsYXllck9wdGlvbnMub3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy52aXNpYmlsaXR5ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBsYXllck9wdGlvbnMudmlzaWJpbGl0eSA9IGNvbmZpZy52aXNpYmlsaXR5O1xuICAgICAgICAgICAgbGF5ZXIudmlzaWJsZSA9IGxheWVyT3B0aW9ucy52aXNpYmlsaXR5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xheWVyc1tpZF0gPSBsYXllck9wdGlvbnM7XG5cbiAgICAgICAgLy8gY3JlYXRpb24gb2YgdGhlIGRpdiBvZiB0aGUgbGF5ZXIgd2hpY2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgbGF5ZXJTd2l0Y2hlclxuICAgICAgICB0aGlzLl9sYXllcnNbaWRdLmRpdiA9IHRoaXMuX2NyZWF0ZUxheWVyRGl2KGlkKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVMYXllckxpc3RDb250YWluZXIoKTtcblxuICAgICAgICAvLyB1c2VyIG1heSBhbHNvIGFkZCBhIG5ldyBjb25maWd1cmF0aW9uIGZvciBhbiBhbHJlYWR5IGFkZGVkIGxheWVyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9sYXllcnNbaWRdICYmIGNvbmZpZykge1xuICAgICAgICAvLyBhZGQgbmV3IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyB0byBsYXllciBpbmZvcm1hdGlvbnNcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBjb25maWcpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXllcnNbaWRdW3Byb3BdID0gY29uZmlnW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmlwciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgbGF5ZXIuYXR0cmlidXRpb24gPSBjb25maWcuaXByO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm9wYWNpdHkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGxheWVyLm9wYWNpdHkgPSBjb25maWcub3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy52aXNpYmlsaXR5ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBsYXllci52aXNpYmxlID0gY29uZmlnLnZpc2liaWxpdHk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IG5ldyB0aXRsZSBpbiBsYXllciBkaXZcbiAgICAgICAgaWYgKGNvbmZpZy50aXRsZSkge1xuICAgICAgICAgICAgdmFyIG5hbWVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG5hbWVfSURfXCIgKyBpZCkpO1xuICAgICAgICAgICAgaWYgKG5hbWVEaXYpIHtcbiAgICAgICAgICAgICAgICBuYW1lRGl2LmlubmVySFRNTCA9IGNvbmZpZy50aXRsZTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRSBhIGFqb3V0ZXI/XG4gICAgICAgICAgICAgICAgLy8gbmFtZURpdi50aXRsZSA9IGNvbmZpZy5kZXNjcmlwdGlvbiB8fCBjb25maWcudGl0bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGxheWVyIGluZm8gcGljdG8gaWYgbmVjZXNzYXJ5XG4gICAgICAgIHZhciBpbmZvZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BpbmZvX0lEX1wiICsgaWQpKTtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUGluZm9fSURfXCIgKyBpZCkpICYmIGNvbmZpZy5kZXNjcmlwdGlvbiAmJiAoY29uZmlnLmxlZ2VuZHMgfHwgY29uZmlnLm1ldGFkYXRhIHx8IGNvbmZpZy5xdWlja2xvb2tVcmwpKSB7XG4gICAgICAgICAgICB2YXIgYWR2YW5jZWRUb29scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQYWR2YW5jZWRUb29sc19JRF9cIiArIGlkKSk7XG4gICAgICAgICAgICBpZiAoYWR2YW5jZWRUb29scykge1xuICAgICAgICAgICAgICAgIGFkdmFuY2VkVG9vbHMuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUFkdmFuY2VkVG9vbEluZm9ybWF0aW9uRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA6IGlkXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjbG9zZSBsYXllciBpbmZvIGVsZW1lbnQgaWYgb3BlbiwgdG8gdXBkYXRlIGluZm9ybWF0aW9uLlxuICAgICAgICBpZiAoaW5mb2RpdiAmJiBpbmZvZGl2LmNsYXNzTmFtZSA9PT0gXCJHUGxheWVySW5mb09wZW5lZFwiKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUGxheWVySW5mb1BhbmVsXCIpKS5jbGFzc05hbWUgPSBcIkdQbGF5ZXJJbmZvUGFuZWxDbG9zZWRcIjtcbiAgICAgICAgICAgIGluZm9kaXYuY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1wiO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgbGF5ZXIgZnJvbSBjb250cm9sXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGxheWVySWQgLSBsYXllciB0byByZW1vdmUgdG8gbGF5ZXIgc3dpdGNoZXJcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUucmVtb3ZlTGF5ZXIgPSBmdW5jdGlvbiAobGF5ZXJJZCkge1xuICAgIHZhciBsYXllckxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUGxheWVyc0xpc3RcIikpO1xuICAgIC8vIGNsb3NlIGxheWVyIGluZm8gZWxlbWVudCBpZiBvcGVuLlxuICAgIHZhciBpbmZvZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BpbmZvX0lEX1wiICsgbGF5ZXJJZCkpO1xuICAgIGlmIChpbmZvZGl2ICYmIGluZm9kaXYuY2xhc3NOYW1lID09PSBcIkdQbGF5ZXJJbmZvT3BlbmVkXCIpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BsYXllckluZm9QYW5lbFwiKSkuY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1BhbmVsQ2xvc2VkXCI7XG4gICAgICAgIGluZm9kaXYuY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1wiO1xuICAgIH1cbiAgICAvLyByZW1vdmUgbGF5ZXIgZGl2XG4gICAgdmFyIGxheWVyRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BsYXllclN3aXRjaGVyX0lEX1wiICsgbGF5ZXJJZCkpO1xuXG4gICAgLy8gbm8gbGF5ZXJEaXYgcmV0cmlldmVkIGZvciBWVC1sYWJlbCBsYXllcnNcbiAgICBpZiAobGF5ZXJEaXYpIHtcbiAgICAgICAgbGF5ZXJMaXN0LnJlbW92ZUNoaWxkKGxheWVyRGl2KTtcbiAgICB9XG5cbiAgICAvLyByZW1vdmVzIGxheWVyIG9mIHRoZSBsYXllciBsaXN0XG4gICAgZGVsZXRlIHRoaXMuX2xheWVyc1tsYXllcklkXTtcbn07XG5cbi8qKlxuICogQ29sbGFwc2Ugb3IgZGlzcGxheSBjb250cm9sIG1haW4gY29udGFpbmVyXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBjb2xsYXBzZWQgLSBUcnVlIHRvIGNvbGxhcHNlIGNvbnRyb2wsIEZhbHNlIHRvIGRpc3BsYXkgaXRcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUuc2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKGNvbGxhcHNlZCkge1xuICAgIGlmIChjb2xsYXBzZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJMYXllclN3aXRjaGVyOnNldENvbGxhcHNlZCAtIG1pc3NpbmcgY29sbGFwc2VkIHBhcmFtZXRlclwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaXNDb2xsYXBzZWQgPSB0aGlzLmdldENvbGxhcHNlZCgpO1xuICAgIGlmICgoY29sbGFwc2VkICYmIGlzQ29sbGFwc2VkKSB8fCAoIWNvbGxhcHNlZCAmJiAhaXNDb2xsYXBzZWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gc2ltdWxhdGVzIHRoZSBwYW5lbCBvcGVuaW5nIGFmdGVyIGEgY2xpY2tcbiAgICBpZiAoIWlzQ29sbGFwc2VkKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiR1BsYXllckluZm9PcGVuZWRcIik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsYXllcnNbaV0uY2xhc3NOYW1lID0gXCJHUGxheWVySW5mb1wiO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbGF5ZXJJbmZvUGFuZWxcIikpLmNsYXNzTmFtZSA9IFwiR1BsYXllckluZm9QYW5lbENsb3NlZFwiO1xuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUHNob3dMYXllcnNMaXN0XCIpKS5jaGVja2VkID0gIWNvbGxhcHNlZDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHdpZGdldCBpcyBjb2xsYXBzZWQgKG1pbmltaXplKSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKiBAcmV0dXJuIHtCb29sZWFufSBpcyBjb2xsYXBzZWRcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BzaG93TGF5ZXJzTGlzdFwiKSkuY2hlY2tlZDtcbn07XG5cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyBpbml0IGNvbXBvbmVudCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuLyoqXG4gKiBJbml0aWFsaXplIExheWVyU3dpdGNoZXIgY29udHJvbCAoY2FsbGVkIGJ5IGNvbnN0cnVjdG9yKVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gSXRvd25zLmNvbnRyb2wuQ29udHJvbCBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBsYXllcnMgLSBsaXN0IG9mIGxheWVycyB0byBiZSBjb25maWd1cmVkLiBFYWNoIGFycmF5IGVsZW1lbnQgaXMgYW4gb2JqZWN0LCB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzIDpcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl9pbml0aWFsaXplID0gZnVuY3Rpb24gKG9wdGlvbnMsIGxheWVycykge1xuICAgIC8vIGlkIG9mIHRoZSBjb250cm9sIDsgdXNlZCB0byBzdWZmaXggdGhlIENTUyBpZCAoaGFuZGxlcyBjYXNlcyB3aXRoIHNldmVyZWwgY29udHJvbHMgb24gdGhlIHNhbWUgcGFnZSlcbiAgICB0aGlzLl91aWQgPSBTZWxlY3RvcklELmdlbmVyYXRlKCk7XG5cbiAgICAvLyB7T2JqZWN0fSBjb250cm9sIGxheWVycyBsaXN0LiBFYWNoIGtleSBpcyBhIGxheWVyIGlkLCBhbmQgaXRzIHZhbHVlIGlzIGFuIG9iamVjdCBvZiBsYXllcnMgb3B0aW9ucyAobGF5ZXIsIGlkLCBvcGFjaXR5LCB2aXNpYmlsaXR5LCB0aXRsZSwgZGVzY3JpcHRpb24uLi4pXG4gICAgdGhpcy5fbGF5ZXJzID0ge307XG5cbiAgICAvLyBkaXYgd2hpY2ggd2lsbCBjb250YWluIHRoZSBkaXZzIG9mIHRoZSBsaXN0c1xuICAgIHRoaXMuX2xheWVyTGlzdENvbnRhaW5lciA9IG51bGw7XG5cbiAgICAvLyBjYWxsYmFja3NcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcblxuICAgIC8vIG9wdGlvbnNcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9pbml0TGF5ZXJzID0gbGF5ZXJzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXllciBjb25maWd1cmF0aW9uIGRlZmluZWQgYXQgd2lkZ2V0IGluaXRpYWxpemF0aW9uXG4gKlxuICogQG1ldGhvZCBfZ2V0TGF5ZXJDb25mXG4gKiBAcGFyYW0ge1N0cmluZ30gbGF5ZXJJZCAtIGxheWVyIGlkXG4gKiBAcmV0dXJuIHtPYmplY3R9IGxheWVyQ29uZmlnIC0gbGF5ZXIgY29uZmlndXJhdGlvblxuICogQHByaXZhdGVcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUuX2dldExheWVyQ29uZiA9IGZ1bmN0aW9uIChsYXllcklkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pbml0TGF5ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0TGF5ZXJzW2ldLmlkID09PSBsYXllcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdExheWVyc1tpXS5jb25maWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIEluZGljYXRlcyBpZiB0aGUgbGF5ZXIgbXVzdCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGxheWVyU3dpdGNoZXJcbiAqXG4gKiBAbWV0aG9kIF9sYXllckRpc3BsYXllZEluTGF5ZXJTd2l0Y2hlclxuICogQHBhcmFtIHtTdHJpbmd9IGxheWVySWQgLSBsYXllciBpZFxuICogQHJldHVybiB7Qm9vbGVhbn0gZGlzcGxheWVkXG4gKiBAcHJpdmF0ZVxuICovXG5MYXllclN3aXRjaGVyLnByb3RvdHlwZS5fbGF5ZXJEaXNwbGF5ZWRJbkxheWVyU3dpdGNoZXIgPSBmdW5jdGlvbiAobGF5ZXJJZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faW5pdExheWVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAodGhpcy5faW5pdExheWVyc1tpXS5pZCA9PT0gbGF5ZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgdGhpcy5faW5pdExheWVyc1tpXS5kaXNwbGF5ZWQgPT09IFwidW5kZWZpbmVkXCIgfHwgdGhpcy5faW5pdExheWVyc1tpXS5kaXNwbGF5ZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGNvbnRyb2wgbWFpbiBjb250YWluZXJcbiAqXG4gKiBAbWV0aG9kIF9pbml0Q29udGFpbmVyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIGNvbnRyb2wgb3B0aW9uc1xuICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lciAtIHdpZGdldCBjb250YWluZXJcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl9pbml0Q29udGFpbmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBjcmVhdGlvbiBvZiB0aGUgbWFpbiBjb250YWluZXJcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fY3JlYXRlTWFpbkNvbnRhaW5lckVsZW1lbnQoKTtcblxuICAgIC8vIGFkZGluZyBpbiB0aGUgbWFpbiBjb250YWluZXJcbiAgICB2YXIgaW5wdXQgPSB0aGlzLl9jcmVhdGVNYWluTGF5ZXJzU2hvd0VsZW1lbnQoKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gICAgLy8gaGFuZGxpbmcgb2YgdGhlIFwiY29sbGFwc2VkXCIgbW9kZVxuICAgIGlmICghb3B0aW9ucy5jb2xsYXBzZWQpIHtcbiAgICAgICAgaW5wdXQuY2hlY2tlZCA9IFwiY2hlY2tlZFwiO1xuICAgIH1cbiAgICAvLyBhZGRzIHRoZSBsYXllciBsaXN0IGluIHRoZSBtYWluIGNvbnRhaW5lclxuICAgIHZhciBkaXZMID0gdGhpcy5fbGF5ZXJMaXN0Q29udGFpbmVyID0gdGhpcy5fY3JlYXRlTWFpbkxheWVyc0VsZW1lbnQoKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2TCk7XG5cbiAgICAvLyBjcmVhdGVzIHRoZSBkcmFnZ2FibGUgbW9kZVxuICAgIHRoaXMuX2NyZWF0ZURyYWdnYWJsZUVsZW1lbnQoZGl2TCwgdGhpcyk7XG5cbiAgICAvLyBhZGRzIHRoZSBjb250cm9sIHBpY3RvIGluIHRoZSBtYWluIGNvbnRhaW5lclxuICAgIHZhciBwaWN0byA9IHRoaXMuX2NyZWF0ZU1haW5QaWN0b0VsZW1lbnQoKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGljdG8pO1xuXG4gICAgLy8gYWRkcyB0aGUgaW5mbyBwYW5lbCBpbiB0aGUgbWFpbiBjb250YWluZXJcbiAgICB2YXIgZGl2SSA9IHRoaXMuX2NyZWF0ZU1haW5JbmZvRWxlbWVudCgpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZJKTtcblxuICAgIHJldHVybiBjb250YWluZXI7XG59O1xuXG4vKipcbiAqIEFkZHMgY29udHJvbCBsYXllcnMgdG8gY29udHJvbCBtYWluIGNvbnRhaW5lclxuICpcbiAqIEBtZXRob2QgX2FkZEdsb2JlTGF5ZXJzXG4gKiBAcGFyYW0ge09iamVjdH0gZ2xvYmUgLSB0aGUgSXRvd25zLkdsb2JlVmlld0V4dGVuZGVkIG9iamVjdFxuICogQHByaXZhdGVcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUuX2FkZEdsb2JlTGF5ZXJzID0gZnVuY3Rpb24gKGdsb2JlKSB7XG4gICAgLy8gUmV0cmlldmVzIHRoZSBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIHRoZSBkaWZmZXJlbnQgbGF5ZXJzXG4gICAgdmFyIGVsZW1lbnRMYXllcnNMaXN0O1xuICAgIHZhciBjaGlsZE5vZGVzID0gdGhpcy5nZXRFbGVtZW50KCkuY2hpbGROb2RlcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXS5pZCA9PT0gdGhpcy5fYWRkVUlEKFwiR1BsYXllcnNMaXN0XCIpKSB7XG4gICAgICAgICAgICBlbGVtZW50TGF5ZXJzTGlzdCA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyByZW9yZGVycyBsYXllcnMgYWNjb3JkaW5nIHRvIHRoZSBsYXllciBzdGFjayAoZ2xvYmUuZ2V0TGF5ZXJzIHJldHVybnMgYW4gcmV2ZXJzZSBvcmRlbmVyZWQgYXJyYXkpXG4gICAgdmFyIGxheWVycyA9IGdsb2JlLmdldENvbG9yTGF5ZXJzKCk7XG4gICAgdmFyIG9yZGVyZWRMYXllcnMgPSBsYXllcnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5zZXF1ZW5jZSAtIGEuc2VxdWVuY2U7XG4gICAgfSk7XG5cbiAgICAvLyBsb29wIG92ZXIgYWxsIHRoZSBsYXllcnMgb2YgdGhlIG1hcCBpbiBvcmRlciB0byBhZGQgdGhlbSB0byB0aGUgY29udHJvbCBsYXllciBsaXN0IChpZiB0aGV5IGFyZSBub3QgYWxyZWFkeSBhZGRlZClcbiAgICBvcmRlcmVkTGF5ZXJzLmZvckVhY2goXG4gICAgICAgIGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgLy8gYWRkcyB0aGUgbWFwIGxheWVycyB0byB0aGUgbGlzdFxuICAgICAgICAgICAgdmFyIGlkO1xuICAgICAgICAgICAgaWQgPSBsYXllci5pZDtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbGF5ZXJEaXNwbGF5ZWRJbkxheWVyU3dpdGNoZXIoaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxheWVyQ29uZiA9IHRoaXMuX2dldExheWVyQ29uZihpZCkgfHwgdGhpcy5fYWRkZWRMYXllckNvbmZbaWRdIHx8IHt9O1xuICAgICAgICAgICAgdmFyIGxheWVySW5mb3MgPSB0aGlzLl9nZXRMYXllckluZm8obGF5ZXIpIHx8IHt9O1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sYXllcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGxheWVyIGlzIG5vdCB5ZXQgaW4gdGhlIGxheWVyIGxpc3QgKHRoaXMuX2xheWVycyksIHdlIGFkZCBpdFxuICAgICAgICAgICAgICAgIHZhciBsYXllck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogbGF5ZXJDb25mLnRpdGxlIHx8IGxheWVySW5mb3MuX3RpdGxlIHx8IGlkLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6IGxheWVyQ29uZi5kZXNjcmlwdGlvbiB8fCBsYXllckluZm9zLl9kZXNjcmlwdGlvbiB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsZWdlbmRzIDogbGF5ZXJDb25mLmxlZ2VuZHMgfHwgbGF5ZXJJbmZvcy5fbGVnZW5kcyB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgOiBsYXllckNvbmYubWV0YWRhdGEgfHwgbGF5ZXJJbmZvcy5fbWV0YWRhdGEgfHwgW10sXG4gICAgICAgICAgICAgICAgICAgIHF1aWNrbG9va1VybCA6IGxheWVyQ29uZi5xdWlja2xvb2tVcmwgfHwgbGF5ZXJJbmZvcy5fcXVpY2tsb29rVXJsIHx8IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX2xheWVyc1tpZF0gPSBsYXllck9wdGlvbnM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsc0xheWVyQ29uZiA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsc0xheWVyQ29uZi5pcHIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIub3B0aW9ucy5hdHRyaWJ1dGlvbiA9IGxzTGF5ZXJDb25mLmlwcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsc0xheWVyQ29uZi5vcGFjaXR5ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyLm9wYWNpdHkgPSBsc0xheWVyQ29uZi5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxzTGF5ZXJDb25mLnZpc2liaWxpdHkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIudmlzaWJsZSA9IGxzTGF5ZXJDb25mLnZpc2liaWxpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbGF5ZXJEaXYgPSB0aGlzLl9jcmVhdGVMYXllckRpdihpZCk7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbaWRdLmRpdiA9IGxheWVyRGl2O1xuICAgICAgICAgICAgZWxlbWVudExheWVyc0xpc3QuYXBwZW5kQ2hpbGQobGF5ZXJEaXYpO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgKTtcbn07XG5cbi8qKlxuICogY3JlYXRlcyBsYXllciBkaXYgKHRvIGFwcGVuZCB0byBjb250cm9sIERPTSBlbGVtZW50KS5cbiAqXG4gKiBAbWV0aG9kIF9jcmVhdGVMYXllckRpdlxuICogQHBhcmFtIHtTdHJpbmd9IGxheWVySWQgLSBsYXllciBpZFxuICogQHJldHVybnMge0RPTUVsZW1lbnR9IGxheWVyIGRpdlxuICogQHByaXZhdGVcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUuX2NyZWF0ZUxheWVyRGl2ID0gZnVuY3Rpb24gKGxheWVySWQpIHtcbiAgICB2YXIgbGF5ZXJPcHRpb25zID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuICAgIHZhciBpc0xlZ2VuZHMgPSBsYXllck9wdGlvbnMubGVnZW5kcyAmJiBsYXllck9wdGlvbnMubGVnZW5kcy5sZW5ndGggIT09IDA7XG4gICAgdmFyIGlzTWV0YWRhdGEgPSBsYXllck9wdGlvbnMubWV0YWRhdGEgJiYgbGF5ZXJPcHRpb25zLm1ldGFkYXRhLmxlbmd0aCAhPT0gMDtcbiAgICB2YXIgaXNRdWlja2xvb2tVcmwgPSBsYXllck9wdGlvbnMucXVpY2tsb29rVXJsO1xuICAgIGlmIChpc0xlZ2VuZHMgfHwgaXNNZXRhZGF0YSB8fCBpc1F1aWNrbG9va1VybCkge1xuICAgICAgICBsYXllck9wdGlvbnMuZGlzcGxheUluZm9ybWF0aW9uRWxlbWVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gYWRkcyBhIHNwZWNpZmljIGRpdiBpbiB0aGUgY29udHJvbCBmb3IgdGhlIGxheWVyXG4gICAgbGF5ZXJPcHRpb25zLmlkID0gbGF5ZXJJZDtcbiAgICB2YXIgbGF5ZXJEaXYgPSB0aGlzLl9jcmVhdGVDb250YWluZXJMYXllckVsZW1lbnQobGF5ZXJPcHRpb25zKTtcblxuICAgIGlmICghbGF5ZXJPcHRpb25zLmluUmFuZ2UpIHtcbiAgICAgICAgbGF5ZXJEaXYuY2xhc3NMaXN0LmFkZChcIm91dE9mUmFuZ2VcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxheWVyRGl2O1xufTtcblxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBET00gZXZlbnRzICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4vKipcbiAqIENoYW5nZXMgbGF5ZXIgb3BhY2l0eSBvbiBsYXllciBvcGFjaXR5IHBpY3RvIGNsaWNrXG4gKlxuICogQG1ldGhvZCBfb25DaGFuZ2VMYXllck9wYWNpdHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBlIC0gSFRNTCBldmVudFxuICogQHByaXZhdGVcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUuX29uQ2hhbmdlTGF5ZXJPcGFjaXR5ID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZ2xvYmUgPSB0aGlzLmdldEdsb2JlKCk7XG4gICAgdmFyIGxheWVySUQgPSB0aGlzLl9yZXNvbHZlTGF5ZXJJZChlLnRhcmdldC5pZCk7XG5cbiAgICB2YXIgb3BhY2l0eVZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgdmFyIG9wYWNpdHlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQb3BhY2l0eVZhbHVlX0lEX1wiICsgbGF5ZXJJRCkpO1xuICAgIG9wYWNpdHlJZC5pbm5lckhUTUwgPSBvcGFjaXR5VmFsdWUgKyBcIiVcIjtcbiAgICBnbG9iZS5zZXRMYXllck9wYWNpdHkobGF5ZXJJRCwgb3BhY2l0eVZhbHVlIC8gMTAwKTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyBwaWN0byBvcGFjaXR5IHZhbHVlIG9uIGxheWVyIG9wYWNpdHkgY2hhbmdlXG4gKlxuICogQG1ldGhvZCBfdXBkYXRlTGF5ZXJPcGFjaXR5XG4gKiBAcGFyYW0ge1N0cmluZ30gbGF5ZXJJZCAtIGxheWVyIGlkXG4gKiBAcGFyYW0ge051bWJlcn0gb3BhY2l0eSAtIG9wYWNpdHkgdmFsdWVcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl91cGRhdGVMYXllck9wYWNpdHkgPSBmdW5jdGlvbiAobGF5ZXJJZCwgb3BhY2l0eSkge1xuICAgIGlmIChvcGFjaXR5ID4gMSkge1xuICAgICAgICBvcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgaWYgKG9wYWNpdHkgPCAwKSB7XG4gICAgICAgIG9wYWNpdHkgPSAwO1xuICAgIH1cblxuICAgIHZhciBsYXllck9wYWNpdHlJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQb3BhY2l0eVZhbHVlRGl2X0lEX1wiICsgbGF5ZXJJZCkpO1xuICAgIGlmIChsYXllck9wYWNpdHlJbnB1dCkge1xuICAgICAgICBsYXllck9wYWNpdHlJbnB1dC52YWx1ZSA9IE1hdGgucm91bmQob3BhY2l0eSAqIDEwMCk7XG4gICAgfVxuXG4gICAgdmFyIGxheWVyT3BhY2l0eVNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG9wYWNpdHlWYWx1ZV9JRF9cIiArIGxheWVySWQpKTtcbiAgICBpZiAobGF5ZXJPcGFjaXR5U3Bhbikge1xuICAgICAgICBsYXllck9wYWNpdHlTcGFuLmlubmVySFRNTCA9IE1hdGgucm91bmQob3BhY2l0eSAqIDEwMCkgKyBcIiVcIjtcbiAgICB9XG59O1xuXG4vKipcbiAqIENoYW5nZXMgbGF5ZXIgdmlzaWJpbGl0eSBvbiBsYXllciB2aXNpYmlsaXR5IHBpY3RvIGNsaWNrXG4gKlxuICogQG1ldGhvZCBfb25WaXNpYmlsaXR5TGF5ZXJDbGlja1xuICogQHBhcmFtIHtPYmplY3R9IGUgLSBIVE1MIGV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5MYXllclN3aXRjaGVyLnByb3RvdHlwZS5fb25WaXNpYmlsaXR5TGF5ZXJDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGdsb2JlID0gdGhpcy5nZXRHbG9iZSgpO1xuXG4gICAgdmFyIGxheWVySUQgPSB0aGlzLl9yZXNvbHZlTGF5ZXJJZChlLnRhcmdldC5pZCk7XG4gICAgZ2xvYmUuc2V0TGF5ZXJWaXNpYmlsaXR5KGxheWVySUQsIGUudGFyZ2V0LmNoZWNrZWQpOyAvLyB1cGRhdGUgdmlld2VyXG59O1xuXG4vKipcbiAqIENoYW5nZXMgcGljdG8gdmlzaWJpbGl0eSBvbiBsYXllciB2aXNpYmlsaXR5IGNoYW5nZVxuICpcbiAqIEBtZXRob2QgX3VwZGF0ZUxheWVyVmlzaWJpbGl0eVxuICogQHBhcmFtIHtTdHJpbmd9IGxheWVySWQgLSBsYXllciBpZFxuICogQHBhcmFtIHtCb29sZWFufSB2aXNpYmlsaXR5IC0gdmlzaWJsZSBpZiB0cnVlXG4gKiBAcHJpdmF0ZVxuICovXG5MYXllclN3aXRjaGVyLnByb3RvdHlwZS5fdXBkYXRlTGF5ZXJWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKGxheWVySWQsIHZpc2liaWxpdHkpIHtcbiAgICB2YXIgbGF5ZXJWaXNpYmlsaXR5SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUHZpc2liaWxpdHlfSURfXCIgKyBsYXllcklkKSk7XG4gICAgaWYgKGxheWVyVmlzaWJpbGl0eUlucHV0KSB7XG4gICAgICAgIGxheWVyVmlzaWJpbGl0eUlucHV0LmNoZWNrZWQgPSB2aXNpYmlsaXR5O1xuICAgIH1cbn07XG5cbi8qKlxuICogT3BlbnMgbGF5ZXIgaW5mb3JtYXRpb24gcGFuZWwgb24gcGljdG8gY2xpY2tcbiAqXG4gKiBAbWV0aG9kIF9vbk9wZW5MYXllckluZm9DbGlja1xuICogQHBhcmFtIHtFdmVudH0gZSAtIE1vdXNlRXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl9vbk9wZW5MYXllckluZm9DbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGxheWVySUQgPSB0aGlzLl9yZXNvbHZlTGF5ZXJJZChlLnRhcmdldC5pZCk7XG5cbiAgICB2YXIgbGF5ZXJPcHRpb25zID0gdGhpcy5fbGF5ZXJzW2xheWVySURdO1xuXG4gICAgdmFyIHBhbmVsO1xuICAgIHZhciBpbmZvO1xuXG4gICAgLy8gQ2xvc2UgbGF5ZXIgaW5mbyBwYW5lbFxuICAgIHZhciBkaXZJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUudGFyZ2V0LmlkKTtcbiAgICBpZiAoZGl2SWQuY2xhc3NOYW1lID09PSBcIkdQbGF5ZXJJbmZvT3BlbmVkXCIpIHtcbiAgICAgICAgaWYgKGRpdklkLmNsYXNzTGlzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkaXZJZC5jbGFzc0xpc3QucmVtb3ZlKFwiR1BsYXllckluZm9PcGVuZWRcIik7XG4gICAgICAgICAgICBkaXZJZC5jbGFzc0xpc3QuYWRkKFwiR1BsYXllckluZm9cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbGF5ZXJJbmZvUGFuZWxcIikpO1xuICAgICAgICBpZiAocGFuZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJHUHBhbmVsXCIpO1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZShcIkdQbGF5ZXJJbmZvUGFuZWxPcGVuZWRcIik7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKFwiR1BsYXllckluZm9QYW5lbENsb3NlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUGxheWVySW5mb0NvbnRlbnRcIikpO1xuICAgICAgICBwYW5lbC5yZW1vdmVDaGlsZChpbmZvKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsYXllcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiR1BsYXllckluZm9PcGVuZWRcIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGF5ZXJzW2ldLmNsYXNzTmFtZSA9IFwiR1BsYXllckluZm9cIjtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGxheWVyIGluZm8gcGFuZWxcbiAgICBpZiAoZGl2SWQuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGl2SWQuY2xhc3NMaXN0LnJlbW92ZShcIkdQbGF5ZXJJbmZvXCIpO1xuICAgICAgICBkaXZJZC5jbGFzc0xpc3QuYWRkKFwiR1BsYXllckluZm9PcGVuZWRcIik7XG4gICAgfVxuXG4gICAgcGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUGxheWVySW5mb1BhbmVsXCIpKTtcbiAgICBpZiAocGFuZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZChcIkdQcGFuZWxcIik7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJHUGxheWVySW5mb1BhbmVsQ2xvc2VkXCIpO1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKFwiR1BsYXllckluZm9QYW5lbE9wZW5lZFwiKTtcbiAgICB9XG5cbiAgICBpbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1BsYXllckluZm9Db250ZW50XCIpKTtcbiAgICBpZiAoaW5mbykge1xuICAgICAgICBwYW5lbC5yZW1vdmVDaGlsZChpbmZvKTtcbiAgICB9XG5cbiAgICAvLyBvbiByw6ljdXDDqHJlIGxlcyBpbmZvcyBhc3NvY2nDqWVzIGF1IGxheWVyIHBvdXIgbWV0dHJlIGR5bmFtaXF1ZW1lbnQgbGUgY29udGVudSBkdSBwYW5lbCBkJ2luZm9ybWF0aW9uc1xuICAgIHZhciBvYmogPSB7XG4gICAgICAgIHRpdGxlIDogbGF5ZXJPcHRpb25zLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbiA6IGxheWVyT3B0aW9ucy5kZXNjcmlwdGlvbixcbiAgICAgICAgcXVpY2tsb29rVXJsIDogbGF5ZXJPcHRpb25zLnF1aWNrbG9va1VybCxcbiAgICAgICAgbWV0YWRhdGEgOiBsYXllck9wdGlvbnMubWV0YWRhdGEsXG4gICAgICAgIGxlZ2VuZHMgOiBsYXllck9wdGlvbnMubGVnZW5kc1xuICAgIH07XG5cbiAgICB2YXIgaW5mb0xheWVyID0gdGhpcy5fY3JlYXRlQ29udGFpbmVyTGF5ZXJJbmZvRWxlbWVudChvYmopO1xuICAgIHBhbmVsLmFwcGVuZENoaWxkKGluZm9MYXllcik7XG59O1xuXG4vKipcbiAqIHJlbW92ZXMgbGF5ZXIgZnJvbSBsYXllciBzd2l0Y2hlciBhbmQgZ2xvYmUgb24gcGljdG8gY2xpY2tcbiAqXG4gKiBAbWV0aG9kIF9vbkRyb3BMYXllckNsaWNrXG4gKiBAcGFyYW0ge0V2ZW50fSBlIC0gTW91c2VFdmVudFxuICogQHByaXZhdGVcbiAqL1xuTGF5ZXJTd2l0Y2hlci5wcm90b3R5cGUuX29uRHJvcExheWVyQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBnbG9iZSA9IHRoaXMuZ2V0R2xvYmUoKTtcblxuICAgIHZhciBsYXllcklEID0gdGhpcy5fcmVzb2x2ZUxheWVySWQoZS50YXJnZXQuaWQpO1xuICAgIC8vIHJlbW92aW5nIHRoZSBsYXllciB3aWxsIHRyaWdnZXIgdGhlIGV2ZW50IGxpc3RlbmVyXG4gICAgLy8gd2hpY2ggd2lsbCBjYWxsIHRoaXMucmVtb3ZlTGF5ZXIgYW5kIGRlbGV0ZSB0aGUgZGl2XG4gICAgZ2xvYmUucmVtb3ZlTGF5ZXIobGF5ZXJJRCk7XG5cbiAgICB0aGlzLl91cGRhdGVMYXllckxpc3RDb250YWluZXIoKTtcbn07XG5cbi8qKlxuICogY2hhbmdlcyBsYXllcnMgb3JkZXIgb24gZHJhZyBhbmQgZHJvcFxuICpcbiAqIEBtZXRob2QgX29uRHJvcExheWVyQ2xpY2tcbiAqIEBwYXJhbSB7RXZlbnR9IGUgLSBIVE1MIGV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5MYXllclN3aXRjaGVyLnByb3RvdHlwZS5fb25EcmFnQW5kRHJvcExheWVyQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBnbG9iZSA9IHRoaXMuZ2V0R2xvYmUoKTtcblxuICAgIC8vIEhhbmRsaW5nIG9mIHRoZSBpbmRleGVzIDogZ2l2ZXMgdGhlIGxpdHRsZSBpbmRleGVzIChsb3dlc3QgbGF5ZXJzKSB0byB0aGUgbm9uLXZpc2libGUgbGF5ZXJzIChkaXNwbGF5ZWQ6IGZhbHNlKVxuICAgIC8vIHdoZW4gdGhlIGluZGV4IG9mIGEgdmlzaWJsZSBsYXllciBjaGFuZ2VzLlxuICAgIC8vIEFsd2F5cyBtb3ZlcyB0aGUgbm9uLXZpc2libGUgbGF5ZXJzIHVuZGVyIHRoZSBvdGhlciBsYXllcnMgKHRvIG5vdCBoaWRlIHRoZW0pXG5cbiAgICBpZiAoZS5uZXdJbmRleCAtIGUub2xkSW5kZXggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXRJbmRleCA9IG51bGw7XG4gICAgaWYgKCFlLm5ld0luZGV4IHx8IGUubmV3SW5kZXggPT09IDApIHtcbiAgICAgICAgdGFyZ2V0SW5kZXggPSBnbG9iZS5nZXRDb2xvckxheWVycygpLmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGxheWVyVGFyZ2V0SUQgPSB0aGlzLl9yZXNvbHZlTGF5ZXJJZChlLmZyb20uY2hpbGROb2Rlc1tlLm5ld0luZGV4ICsgKGUubmV3SW5kZXggLSBlLm9sZEluZGV4IDwgMCA/IDEgOiAtMSldLmlkKTtcbiAgICAgICAgdGFyZ2V0SW5kZXggPSBnbG9iZS5nZXRMYXllckJ5SWQobGF5ZXJUYXJnZXRJRCkuc2VxdWVuY2U7XG4gICAgfVxuXG4gICAgdmFyIGxheWVySUQgPSB0aGlzLl9yZXNvbHZlTGF5ZXJJZChlLml0ZW0uaWQpO1xuXG4gICAgZ2xvYmUubW92ZUxheWVyVG9JbmRleChsYXllcklELCB0YXJnZXRJbmRleCk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBsYXllcnMgcmFuZ2VcbiAqXG4gKiBAbWV0aG9kIF9pblJhbmdlVXBkYXRlXG4gKiBAcGFyYW0ge0FycmF5fSBsYXllcnNEaXNwbGF5ZWQgLSBsaXN0IG9mIGRpc3BsYXllZCBsYXllcnMgaWRcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl9pblJhbmdlVXBkYXRlID0gZnVuY3Rpb24gKGxheWVyc0Rpc3BsYXllZCkge1xuICAgIGZvciAodmFyIGxheWVyS2V5IGluIHRoaXMuX2xheWVycykge1xuICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJLZXldO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiBsYXllciBpcyBkaXNwbGF5ZWQuXG4gICAgICAgIHZhciBsYXllckRpdjtcbiAgICAgICAgdmFyIGJJblJhbmdlID0gbGF5ZXJzRGlzcGxheWVkLmluZGV4T2YobGF5ZXIuaWQpID49IDA7XG4gICAgICAgIGlmIChiSW5SYW5nZSAmJiAhbGF5ZXIuaW5SYW5nZSkge1xuICAgICAgICAgICAgbGF5ZXIuaW5SYW5nZSA9IHRydWU7XG4gICAgICAgICAgICBsYXllckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2FkZFVJRChcIkdQbGF5ZXJTd2l0Y2hlcl9JRF9cIiArIGxheWVyLmlkKSk7XG4gICAgICAgICAgICBsYXllckRpdi5jbGFzc0xpc3QucmVtb3ZlKFwib3V0T2ZSYW5nZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghYkluUmFuZ2UgJiYgbGF5ZXIuaW5SYW5nZSkge1xuICAgICAgICAgICAgbGF5ZXIuaW5SYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGF5ZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUGxheWVyU3dpdGNoZXJfSURfXCIgKyBsYXllci5pZCkpO1xuICAgICAgICAgICAgbGF5ZXJEaXYuY2xhc3NMaXN0LmFkZChcIm91dE9mUmFuZ2VcIik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgbGF5ZXIgbGlzdCBjb250YWluZXJcbiAqXG4gKiBAbWV0aG9kIF91cGRhdGVMYXllckxpc3RDb250YWluZXJcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl91cGRhdGVMYXllckxpc3RDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2xheWVyTGlzdENvbnRhaW5lcikge1xuICAgICAgICB2YXIgZ2xvYmUgPSB0aGlzLmdldEdsb2JlKCk7XG5cbiAgICAgICAgLy8gZW1wdHkgdGhlIHByZXZpb3VzIGNvbnRhaW5lclxuICAgICAgICB3aGlsZSAodGhpcy5fbGF5ZXJMaXN0Q29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xheWVyTGlzdENvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9sYXllckxpc3RDb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVvcmRlcnMgbGF5ZXJzIGFjY29yZGluZyB0byB0aGUgbGF5ZXIgc3RhY2sgKGdsb2JlLmdldExheWVycyByZXR1cm5zIGFuIHJldmVyc2Ugb3JkZW5lcmVkIGFycmF5KS4uXG4gICAgICAgIHZhciBsYXllcnMgPSBnbG9iZS5nZXRDb2xvckxheWVycygpO1xuICAgICAgICB2YXIgb3JkZXJlZExheWVycyA9IGxheWVycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5zZXF1ZW5jZSAtIGEuc2VxdWVuY2U7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyAuLi4gYW5kIGFkZHMgdGhlIGNvcnJlY3QgZGl2IHRvIHRoZSBkaWZmZXJlbnQgbGF5ZXJzLCBpbiB0aGUgemluZGV4IGRlY3JlYXNpbmcgb3JkZXJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvcmRlcmVkTGF5ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xheWVyc1tvcmRlcmVkTGF5ZXJzW2pdLmlkXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0cmlldmVzIHRoZSBkaXYgb2YgdGhlIGxheWVyLCBzdG9yZWQgaW4gdGhlIF9sYXllcnMgYXJyYXlcbiAgICAgICAgICAgIHZhciBsYXllckRpdiA9IHRoaXMuX2xheWVyc1tvcmRlcmVkTGF5ZXJzW2pdLmlkXS5kaXY7XG4gICAgICAgICAgICB0aGlzLl9sYXllckxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQobGF5ZXJEaXYpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiW0l0b3ducy5jb250cm9sLkxheWVyU3dpdGNoZXJdIF91cGRhdGVMYXllckxpc3RDb250YWluZXIgOiBsYXllciBsaXN0IGNvbnRhaW5lciBub3QgZm91bmQgdG8gdXBkYXRlIGxheWVycyBvcmRlciA/IVwiKTtcbiAgICB9XG59O1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIFV0aWxzICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbi8qKlxuICogR2V0cyBsYXllciBpbmZvcm1hdGlvbnMgOiB0aXRsZSwgZGVzY3JpcHRpb24sIHF1aWNrbG9va3VybCwgbGVnZW5kcywgbWV0YWRhdGFcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIExheWVyU3dpdGNoZXJcbiAqIEBtZXRob2QgX2dldExheWVySW5mb1xuICogQHBhcmFtIHtPYmplY3R9IGxheWVyIC0gdGhlIGxheWVyIG9iamVjdFxuICogQHJldHVybnMge09iamVjdH0gbGF5ZXJJbmZvIC0gbGF5ZXIgaW5mb3JtYXRpb25zXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl9nZXRMYXllckluZm8gPSBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICB2YXIgbGF5ZXJJbmZvID0ge307XG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAgIGxheWVySW5mby5fdGl0bGUgPSBsYXllci50aXRsZSB8fCBudWxsO1xuICAgICAgICBsYXllckluZm8uX2Rlc2NyaXB0aW9uID0gbGF5ZXIuZGVzY3JpcHRpb24gfHwgbnVsbDtcbiAgICAgICAgbGF5ZXJJbmZvLl9xdWlja2xvb2tVcmwgPSBsYXllci5xdWlja2xvb2tVcmwgfHwgbnVsbDtcbiAgICAgICAgbGF5ZXJJbmZvLl9tZXRhZGF0YSA9IGxheWVyLm1ldGFkYXRhIHx8IG51bGw7XG4gICAgICAgIGxheWVySW5mby5fbGVnZW5kcyA9IGxheWVyLmxlZ2VuZHMgfHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGxheWVySW5mbztcbn07XG5cbi8qKlxuICogR2V0cyBsYXllciBpZCBmcm9tIGRpdiBpZFxuICpcbiAqIEBtZXRob2QgX3Jlc29sdmVMYXllcklkXG4gKiBAcGFyYW0ge1N0cmluZ30gZGl2SWQgLSBIVE1MIGRpdiBpZFxuICogQHJldHVybnMge1N0cmluZ30gbGF5ZXIgaWRcbiAqIEBwcml2YXRlXG4gKi9cbkxheWVyU3dpdGNoZXIucHJvdG90eXBlLl9yZXNvbHZlTGF5ZXJJZCA9IGZ1bmN0aW9uIChkaXZJZCkge1xuICAgIHZhciBkaXZOYW1lID0gU2VsZWN0b3JJRC5uYW1lKGRpdklkKTsgLy8gZXggR1B2aXNpYmlsaXR5UGljdG9fSURfMjZcbiAgICByZXR1cm4gZGl2TmFtZS5zdWJzdHJpbmcoZGl2TmFtZS5pbmRleE9mKFwiX0lEX1wiKSArIDQpOyAvLyBleC4gMjZcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyU3dpdGNoZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/LayerSwitcher.js\n");

/***/ }),

/***/ "./src/Itowns/Controls/MiniGlobe.js":
/*!******************************************!*\
  !*** ./src/Itowns/Controls/MiniGlobe.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GlobeViewExtended */ \"./src/Itowns/GlobeViewExtended.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils/SelectorID */ \"./src/Common/Utils/SelectorID.js\");\n/* harmony import */ var _Common_Controls_MiniGlobeDOM__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Controls/MiniGlobeDOM */ \"./src/Common/Controls/MiniGlobeDOM.js\");\n/* harmony import */ var _Widget__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Widget */ \"./src/Itowns/Controls/Widget.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n/**\n * @classdesc\n * Control to display the MiniGlobe with itowns\n *\n * @constructor\n * @extends {itowns.control.Widget}\n * @alias itowns.control.MiniGlobe\n * @param {Object} [options] - control options\n * @param {Object} [options.layer] - custom itowns layer to display on the mini globe\n * @example\n * var miniglobe = new itowns.control.MiniGlobe();\n *\n */\n\nfunction MiniGlobe(options) {\n  options = options || {};\n\n  if (!(this instanceof MiniGlobe)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  }\n\n  if (options && _typeof(options) !== \"object\") {\n    throw new Error(\"ERROR WRONG_TYPE : options should be an object\");\n  }\n\n  this._initialize();\n\n  var container = this._initContainer();\n\n  this._options = options;\n  _Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].call(this, {\n    name: \"Overview\",\n    element: container,\n    target: options.target,\n    position: options.position\n  });\n}\n/*\n * @lends module:MiniGlobe\n */\n\n\nMiniGlobe.prototype = Object.create(_Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prototype, {}); // retrieves methods of the common class MiniGlobeDOM\n\n_Common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].assign(MiniGlobe.prototype, _Common_Controls_MiniGlobeDOM__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n/**\n * Constructor (alias)\n *\n * @private\n */\n\nMiniGlobe.prototype.constructor = MiniGlobe; // ################################################################### //\n// ############## public methods (getters, setters) ################## //\n// ################################################################### //\n\n/**\n * Bind globe to control\n *\n * @param {GlobeViewExtended} globe - the globe\n */\n\nMiniGlobe.prototype.setGlobe = function (globe) {\n  // info : this function is called after a globe.addWidget() or a globe.removeWidget()\n  if (globe) {\n    // In the case of the adding of a control to the globe\n    var minDistance = 6650000;\n    var maxDistance = 30000000;\n    var positionOnGlobe = globe.getCenter();\n    var miniView = new _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this._element, positionOnGlobe, {\n      // `limit globe' subdivision level:\n      // we're don't need a precise globe model\n      // since the mini globe will always be seen from a far point of view (see minDistance above)\n      maxSubdivisionLevel: 6,\n      sseSubdivisionThreshold: 3,\n      // Don't instance default controls since miniview's camera will be synced\n      // on the main view's one (see globeView.onAfterRender)\n      noControls: true\n    });\n    miniView.setBackground();\n\n    var updateMiniGlobeHandler = function updateMiniGlobeHandler() {\n      // clamp distance camera from globe\n      var distanceCamera = globe.getGlobeView().camera.camera3D.position.length();\n      var distance = Math.min(Math.max(distanceCamera, minDistance), maxDistance);\n      var camera = miniView.getGlobeView().camera.camera3D;\n      var cameraTargetPosition = globe.getGlobeView().controls.getCameraTargetPosition(); // Update target miniview's camera\n\n      camera.position.copy(cameraTargetPosition).setLength(distance);\n      camera.lookAt(cameraTargetPosition);\n      miniView.notifyChange(camera);\n    };\n\n    globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.AFTER_RENDER, updateMiniGlobeHandler);\n\n    if (globe.isInitialized()) {\n      updateMiniGlobeHandler();\n    } else {\n      globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.GLOBE_INITIALIZED, updateMiniGlobeHandler);\n    }\n    /**\n     * Add one imagery layer to the miniview (by default, the ortho)\n     */\n\n\n    var miniGlobeLayer = this._options.layer;\n    miniView.addLayer(miniGlobeLayer); // save as property of the control the globe created for the overview\n\n    this._globeObj = miniView;\n  } else if (globe == null) {\n    // if globe == null we remove the overview control\n    // we delete the overview control DOM\n    while (this.getElement().hasChildNodes()) {\n      this.getElement().removeChild(this.getElement().lastChild);\n    }\n\n    this.getElement().parentNode.removeChild(this.getElement());\n  } // call original setGlobe method\n\n\n  _Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prototype.setGlobe.call(this, globe);\n}; // ################################################################### //\n// ##################### init component ############################## //\n// ################################################################### //\n\n/**\n * Initialize MiniGlobe control (called by constructor)\n *\n * @private\n */\n\n\nMiniGlobe.prototype._initialize = function () {\n  // id of the widget : usefull to suffix the CSS ids (to handle cases with several widgets on the same page)\n  this._uid = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_2__[\"default\"].generate(); // div which will contain the list divs.\n\n  this._MiniGlobeContainer = null; // callbacks\n\n  this._callbacks = {};\n};\n/**\n * Creates control main container\n *\n * @method _initContainer\n * @returns {DOMElement} container - widget container\n * @private\n */\n\n\nMiniGlobe.prototype._initContainer = function () {\n  var container = this._createMainContainerElement();\n\n  return container;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MiniGlobe);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvTWluaUdsb2JlLmpzP2UxNTIiXSwibmFtZXMiOlsiTWluaUdsb2JlIiwib3B0aW9ucyIsIlR5cGVFcnJvciIsIkVycm9yIiwiX2luaXRpYWxpemUiLCJjb250YWluZXIiLCJfaW5pdENvbnRhaW5lciIsIl9vcHRpb25zIiwiV2lkZ2V0IiwiY2FsbCIsIm5hbWUiLCJlbGVtZW50IiwidGFyZ2V0IiwicG9zaXRpb24iLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJVdGlscyIsImFzc2lnbiIsIk1pbmlHbG9iZURPTSIsImNvbnN0cnVjdG9yIiwic2V0R2xvYmUiLCJnbG9iZSIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJwb3NpdGlvbk9uR2xvYmUiLCJnZXRDZW50ZXIiLCJtaW5pVmlldyIsIkdsb2JlVmlld0V4dGVuZGVkIiwiX2VsZW1lbnQiLCJtYXhTdWJkaXZpc2lvbkxldmVsIiwic3NlU3ViZGl2aXNpb25UaHJlc2hvbGQiLCJub0NvbnRyb2xzIiwic2V0QmFja2dyb3VuZCIsInVwZGF0ZU1pbmlHbG9iZUhhbmRsZXIiLCJkaXN0YW5jZUNhbWVyYSIsImdldEdsb2JlVmlldyIsImNhbWVyYSIsImNhbWVyYTNEIiwibGVuZ3RoIiwiZGlzdGFuY2UiLCJNYXRoIiwibWluIiwibWF4IiwiY2FtZXJhVGFyZ2V0UG9zaXRpb24iLCJjb250cm9scyIsImdldENhbWVyYVRhcmdldFBvc2l0aW9uIiwiY29weSIsInNldExlbmd0aCIsImxvb2tBdCIsIm5vdGlmeUNoYW5nZSIsImxpc3RlbiIsIkVWRU5UUyIsIkFGVEVSX1JFTkRFUiIsImlzSW5pdGlhbGl6ZWQiLCJHTE9CRV9JTklUSUFMSVpFRCIsIm1pbmlHbG9iZUxheWVyIiwibGF5ZXIiLCJhZGRMYXllciIsIl9nbG9iZU9iaiIsImdldEVsZW1lbnQiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJwYXJlbnROb2RlIiwiX3VpZCIsIlNlbGVjdG9ySUQiLCJnZW5lcmF0ZSIsIl9NaW5pR2xvYmVDb250YWluZXIiLCJfY2FsbGJhY2tzIiwiX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7QUFhQSxTQUFTQSxTQUFULENBQW9CQyxPQUFwQixFQUE2QjtBQUN6QkEsU0FBTyxHQUFHQSxPQUFPLElBQUksRUFBckI7O0FBRUEsTUFBSSxFQUFFLGdCQUFnQkQsU0FBbEIsQ0FBSixFQUFrQztBQUM5QixVQUFNLElBQUlFLFNBQUosQ0FBYyx5QkFBZCxDQUFOO0FBQ0g7O0FBRUQsTUFBSUQsT0FBTyxJQUFJLFFBQU9BLE9BQVAsTUFBbUIsUUFBbEMsRUFBNEM7QUFDeEMsVUFBTSxJQUFJRSxLQUFKLENBQVUsZ0RBQVYsQ0FBTjtBQUNIOztBQUVELE9BQUtDLFdBQUw7O0FBRUEsTUFBSUMsU0FBUyxHQUFHLEtBQUtDLGNBQUwsRUFBaEI7O0FBQ0EsT0FBS0MsUUFBTCxHQUFnQk4sT0FBaEI7QUFFQU8saURBQU0sQ0FBQ0MsSUFBUCxDQUNJLElBREosRUFDVTtBQUNGQyxRQUFJLEVBQUcsVUFETDtBQUVGQyxXQUFPLEVBQUdOLFNBRlI7QUFHRk8sVUFBTSxFQUFHWCxPQUFPLENBQUNXLE1BSGY7QUFJRkMsWUFBUSxFQUFHWixPQUFPLENBQUNZO0FBSmpCLEdBRFY7QUFRSDtBQUVEOzs7OztBQUdBYixTQUFTLENBQUNjLFNBQVYsR0FBc0JDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjUiwrQ0FBTSxDQUFDTSxTQUFyQixFQUFnQyxFQUFoQyxDQUF0QixDLENBRUE7O0FBQ0FHLHFEQUFLLENBQUNDLE1BQU4sQ0FBYWxCLFNBQVMsQ0FBQ2MsU0FBdkIsRUFBa0NLLHFFQUFsQztBQUVBOzs7Ozs7QUFLQW5CLFNBQVMsQ0FBQ2MsU0FBVixDQUFvQk0sV0FBcEIsR0FBa0NwQixTQUFsQyxDLENBRUE7QUFD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QVgsRUFBWixDQUYwQyxDQUkxQzs7QUFDQSxPQUFLQyxtQkFBTCxHQUEyQixJQUEzQixDQUwwQyxDQU8xQzs7QUFDQSxPQUFLQyxVQUFMLEdBQWtCLEVBQWxCO0FBQ0gsQ0FURDtBQVdBOzs7Ozs7Ozs7QUFPQXJFLFNBQVMsQ0FBQ2MsU0FBVixDQUFvQlIsY0FBcEIsR0FBcUMsWUFBWTtBQUM3QyxNQUFJRCxTQUFTLEdBQUcsS0FBS2lFLDJCQUFMLEVBQWhCOztBQUVBLFNBQU9qRSxTQUFQO0FBQ0gsQ0FKRDs7QUFNZUwsd0VBQWYiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0NvbnRyb2xzL01pbmlHbG9iZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHbG9iZVZpZXdFeHRlbmRlZCBmcm9tIFwiLi4vR2xvYmVWaWV3RXh0ZW5kZWRcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzXCI7XG5pbXBvcnQgU2VsZWN0b3JJRCBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzL1NlbGVjdG9ySURcIjtcbmltcG9ydCBNaW5pR2xvYmVET00gZnJvbSBcIi4uLy4uL0NvbW1vbi9Db250cm9scy9NaW5pR2xvYmVET01cIjtcbmltcG9ydCBXaWRnZXQgZnJvbSBcIi4vV2lkZ2V0XCI7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udHJvbCB0byBkaXNwbGF5IHRoZSBNaW5pR2xvYmUgd2l0aCBpdG93bnNcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtpdG93bnMuY29udHJvbC5XaWRnZXR9XG4gKiBAYWxpYXMgaXRvd25zLmNvbnRyb2wuTWluaUdsb2JlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gY29udHJvbCBvcHRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubGF5ZXJdIC0gY3VzdG9tIGl0b3ducyBsYXllciB0byBkaXNwbGF5IG9uIHRoZSBtaW5pIGdsb2JlXG4gKiBAZXhhbXBsZVxuICogdmFyIG1pbmlnbG9iZSA9IG5ldyBpdG93bnMuY29udHJvbC5NaW5pR2xvYmUoKTtcbiAqXG4gKi9cbmZ1bmN0aW9uIE1pbmlHbG9iZSAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1pbmlHbG9iZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVSUk9SIENMQVNTX0NPTlNUUlVDVE9SXCIpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUk9SIFdST05HX1RZUEUgOiBvcHRpb25zIHNob3VsZCBiZSBhbiBvYmplY3RcIik7XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdGlhbGl6ZSgpO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2luaXRDb250YWluZXIoKTtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuICAgIFdpZGdldC5jYWxsKFxuICAgICAgICB0aGlzLCB7XG4gICAgICAgICAgICBuYW1lIDogXCJPdmVydmlld1wiLFxuICAgICAgICAgICAgZWxlbWVudCA6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHRhcmdldCA6IG9wdGlvbnMudGFyZ2V0LFxuICAgICAgICAgICAgcG9zaXRpb24gOiBvcHRpb25zLnBvc2l0aW9uXG4gICAgICAgIH1cbiAgICApO1xufVxuXG4vKlxuICogQGxlbmRzIG1vZHVsZTpNaW5pR2xvYmVcbiAqL1xuTWluaUdsb2JlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV2lkZ2V0LnByb3RvdHlwZSwge30pO1xuXG4vLyByZXRyaWV2ZXMgbWV0aG9kcyBvZiB0aGUgY29tbW9uIGNsYXNzIE1pbmlHbG9iZURPTVxuVXRpbHMuYXNzaWduKE1pbmlHbG9iZS5wcm90b3R5cGUsIE1pbmlHbG9iZURPTSk7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgKGFsaWFzKVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbk1pbmlHbG9iZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNaW5pR2xvYmU7XG5cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIHB1YmxpYyBtZXRob2RzIChnZXR0ZXJzLCBzZXR0ZXJzKSAjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuLyoqXG4gKiBCaW5kIGdsb2JlIHRvIGNvbnRyb2xcbiAqXG4gKiBAcGFyYW0ge0dsb2JlVmlld0V4dGVuZGVkfSBnbG9iZSAtIHRoZSBnbG9iZVxuICovXG5NaW5pR2xvYmUucHJvdG90eXBlLnNldEdsb2JlID0gZnVuY3Rpb24gKGdsb2JlKSB7XG4gICAgLy8gaW5mbyA6IHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFmdGVyIGEgZ2xvYmUuYWRkV2lkZ2V0KCkgb3IgYSBnbG9iZS5yZW1vdmVXaWRnZXQoKVxuXG4gICAgaWYgKGdsb2JlKSB7IC8vIEluIHRoZSBjYXNlIG9mIHRoZSBhZGRpbmcgb2YgYSBjb250cm9sIHRvIHRoZSBnbG9iZVxuICAgICAgICB2YXIgbWluRGlzdGFuY2UgPSA2NjUwMDAwO1xuICAgICAgICB2YXIgbWF4RGlzdGFuY2UgPSAzMDAwMDAwMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uT25HbG9iZSA9IGdsb2JlLmdldENlbnRlcigpO1xuICAgICAgICB2YXIgbWluaVZpZXcgPSBuZXcgR2xvYmVWaWV3RXh0ZW5kZWQodGhpcy5fZWxlbWVudCwgcG9zaXRpb25Pbkdsb2JlLCB7XG4gICAgICAgICAgICAvLyBgbGltaXQgZ2xvYmUnIHN1YmRpdmlzaW9uIGxldmVsOlxuICAgICAgICAgICAgLy8gd2UncmUgZG9uJ3QgbmVlZCBhIHByZWNpc2UgZ2xvYmUgbW9kZWxcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBtaW5pIGdsb2JlIHdpbGwgYWx3YXlzIGJlIHNlZW4gZnJvbSBhIGZhciBwb2ludCBvZiB2aWV3IChzZWUgbWluRGlzdGFuY2UgYWJvdmUpXG4gICAgICAgICAgICBtYXhTdWJkaXZpc2lvbkxldmVsIDogNixcbiAgICAgICAgICAgIHNzZVN1YmRpdmlzaW9uVGhyZXNob2xkIDogMyxcbiAgICAgICAgICAgIC8vIERvbid0IGluc3RhbmNlIGRlZmF1bHQgY29udHJvbHMgc2luY2UgbWluaXZpZXcncyBjYW1lcmEgd2lsbCBiZSBzeW5jZWRcbiAgICAgICAgICAgIC8vIG9uIHRoZSBtYWluIHZpZXcncyBvbmUgKHNlZSBnbG9iZVZpZXcub25BZnRlclJlbmRlcilcbiAgICAgICAgICAgIG5vQ29udHJvbHMgOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1pbmlWaWV3LnNldEJhY2tncm91bmQoKTtcblxuICAgICAgICB2YXIgdXBkYXRlTWluaUdsb2JlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGNsYW1wIGRpc3RhbmNlIGNhbWVyYSBmcm9tIGdsb2JlXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2VDYW1lcmEgPSBnbG9iZS5nZXRHbG9iZVZpZXcoKS5jYW1lcmEuY2FtZXJhM0QucG9zaXRpb24ubGVuZ3RoKCk7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLm1pbihNYXRoLm1heChkaXN0YW5jZUNhbWVyYSwgbWluRGlzdGFuY2UpLCBtYXhEaXN0YW5jZSk7XG4gICAgICAgICAgICB2YXIgY2FtZXJhID0gbWluaVZpZXcuZ2V0R2xvYmVWaWV3KCkuY2FtZXJhLmNhbWVyYTNEO1xuICAgICAgICAgICAgdmFyIGNhbWVyYVRhcmdldFBvc2l0aW9uID0gZ2xvYmUuZ2V0R2xvYmVWaWV3KCkuY29udHJvbHMuZ2V0Q2FtZXJhVGFyZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0YXJnZXQgbWluaXZpZXcncyBjYW1lcmFcbiAgICAgICAgICAgIGNhbWVyYS5wb3NpdGlvbi5jb3B5KGNhbWVyYVRhcmdldFBvc2l0aW9uKS5zZXRMZW5ndGgoZGlzdGFuY2UpO1xuICAgICAgICAgICAgY2FtZXJhLmxvb2tBdChjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG4gICAgICAgICAgICBtaW5pVmlldy5ub3RpZnlDaGFuZ2UoY2FtZXJhKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2xvYmUubGlzdGVuKEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5BRlRFUl9SRU5ERVIsIHVwZGF0ZU1pbmlHbG9iZUhhbmRsZXIpO1xuICAgICAgICBpZiAoZ2xvYmUuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICAgICAgICB1cGRhdGVNaW5pR2xvYmVIYW5kbGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iZS5saXN0ZW4oR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLkdMT0JFX0lOSVRJQUxJWkVELCB1cGRhdGVNaW5pR2xvYmVIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgb25lIGltYWdlcnkgbGF5ZXIgdG8gdGhlIG1pbml2aWV3IChieSBkZWZhdWx0LCB0aGUgb3J0aG8pXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbWluaUdsb2JlTGF5ZXIgPSB0aGlzLl9vcHRpb25zLmxheWVyO1xuICAgICAgICBtaW5pVmlldy5hZGRMYXllcihtaW5pR2xvYmVMYXllcik7XG4gICAgICAgIC8vIHNhdmUgYXMgcHJvcGVydHkgb2YgdGhlIGNvbnRyb2wgdGhlIGdsb2JlIGNyZWF0ZWQgZm9yIHRoZSBvdmVydmlld1xuICAgICAgICB0aGlzLl9nbG9iZU9iaiA9IG1pbmlWaWV3O1xuICAgIH0gZWxzZSBpZiAoZ2xvYmUgPT0gbnVsbCkge1xuICAgICAgICAvLyBpZiBnbG9iZSA9PSBudWxsIHdlIHJlbW92ZSB0aGUgb3ZlcnZpZXcgY29udHJvbFxuICAgICAgICAvLyB3ZSBkZWxldGUgdGhlIG92ZXJ2aWV3IGNvbnRyb2wgRE9NXG4gICAgICAgIHdoaWxlICh0aGlzLmdldEVsZW1lbnQoKS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLnJlbW92ZUNoaWxkKHRoaXMuZ2V0RWxlbWVudCgpLmxhc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmdldEVsZW1lbnQoKSk7XG4gICAgfVxuXG4gICAgLy8gY2FsbCBvcmlnaW5hbCBzZXRHbG9iZSBtZXRob2RcbiAgICBXaWRnZXQucHJvdG90eXBlLnNldEdsb2JlLmNhbGwodGhpcywgZ2xvYmUpO1xufTtcblxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIGluaXQgY29tcG9uZW50ICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4vKipcbiAqIEluaXRpYWxpemUgTWluaUdsb2JlIGNvbnRyb2wgKGNhbGxlZCBieSBjb25zdHJ1Y3RvcilcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5NaW5pR2xvYmUucHJvdG90eXBlLl9pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGlkIG9mIHRoZSB3aWRnZXQgOiB1c2VmdWxsIHRvIHN1ZmZpeCB0aGUgQ1NTIGlkcyAodG8gaGFuZGxlIGNhc2VzIHdpdGggc2V2ZXJhbCB3aWRnZXRzIG9uIHRoZSBzYW1lIHBhZ2UpXG4gICAgdGhpcy5fdWlkID0gU2VsZWN0b3JJRC5nZW5lcmF0ZSgpO1xuXG4gICAgLy8gZGl2IHdoaWNoIHdpbGwgY29udGFpbiB0aGUgbGlzdCBkaXZzLlxuICAgIHRoaXMuX01pbmlHbG9iZUNvbnRhaW5lciA9IG51bGw7XG5cbiAgICAvLyBjYWxsYmFja3NcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBjb250cm9sIG1haW4gY29udGFpbmVyXG4gKlxuICogQG1ldGhvZCBfaW5pdENvbnRhaW5lclxuICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lciAtIHdpZGdldCBjb250YWluZXJcbiAqIEBwcml2YXRlXG4gKi9cbk1pbmlHbG9iZS5wcm90b3R5cGUuX2luaXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50KCk7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWluaUdsb2JlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/MiniGlobe.js\n");

/***/ }),

/***/ "./src/Itowns/Controls/MousePosition.js":
/*!**********************************************!*\
  !*** ./src/Itowns/Controls/MousePosition.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var proj4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proj4 */ \"./node_modules/proj4/dist/proj4-src.js-exposed\");\n/* harmony import */ var proj4__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(proj4__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var geoportal_access_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! geoportal-access-lib */ \"./node_modules/geoportal-access-lib/src/Gp.js\");\n/* harmony import */ var _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../GlobeViewExtended */ \"./src/Itowns/GlobeViewExtended.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_CheckRightManagement__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Common/Utils/CheckRightManagement */ \"./src/Common/Utils/CheckRightManagement.js\");\n/* harmony import */ var _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Common/Utils/SelectorID */ \"./src/Common/Utils/SelectorID.js\");\n/* harmony import */ var _Common_Controls_MousePositionDOM__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Common/Controls/MousePositionDOM */ \"./src/Common/Controls/MousePositionDOM.js\");\n/* harmony import */ var _Widget__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Widget */ \"./src/Itowns/Controls/Widget.js\");\n/* harmony import */ var _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Utils/PositionFormater */ \"./src/Itowns/Controls/Utils/PositionFormater.js\");\n/* harmony import */ var _CRS_CRS__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../CRS/CRS */ \"./src/Itowns/CRS/CRS.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n\n\n\n\n\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getLogger(\"MousePosition\");\n/**\n * @classdesc\n *\n * MousePosition Control.\n *\n * @constructor\n * @alias itowns.control.MousePosition\n * @extends {itowns.control.Control}\n * @param {Object} options - options for function call.\n * @param {Boolean} [options.ssl = true] - use of ssl or not (default true, service requested using https protocol)\n * @param {Boolean} [options.collapsed = true] - Specify if MousePosition control should be collapsed at startup. Default is true.\n * @param {Array}   [options.systems] - list of projection systems, default are Geographical (\"EPSG:4326\"), Web Mercator (\"EPSG:3857\"), Lambert 93 (\"EPSG:2154\") and extended Lambert 2 (\"EPSG:27572\").\n *      Each array element (=system) is an object with following properties :\n * @param {String}  options.systems.crs - Proj4 crs alias (from proj4 defs). e.g. : \"EPSG:4326\". Required\n * @param {String}  [options.systems.label] - CRS label to be displayed in control. Default is crs code (e.g. \"EPSG:4326\")\n * @param {String}  options.systems.type - CRS units type for coordinates conversion : \"Geographical\" or \"Metric\". Default: \"Metric\"\n * @param {Object}  [options.systems.geoBBox] - Aera covered by the system (WGS84 coordinates).\n * @param {Number}  options.systems.geoBBox.right - Right bound.\n * @param {Number}  options.systems.geoBBox.left - Left bound.\n * @param {Number}  options.systems.geoBBox.top - Top bound.\n * @param {Number}  options.systems.geoBBox.bottom - Bottom bound.\n * @param {Array}   [options.units] - list of coordinates units, to be displayed in control units list.\n *      Values may be \"DEC\" (decimal degrees), \"DMS\" (sexagecimal), \"RAD\" (radians) and \"GON\" (grades) for geographical coordinates,\n *      and \"M\" or \"KM\" for metric coordinates\n * @param {Array}   [options.displayAltitude = true] - activate (true) or deactivate (false) the altitude panel. True by default\n * @param {Array}   [options.displayCoordinates = true] - activate (true) or deactivate (false) the coordinates panel. True by default\n * @param {Object}  [options.altitude] - elevation configuration\n * @param {Object}  [options.altitude.serviceOptions] - options of elevation service\n * @param {Number}  [options.altitude.responseDelay] - latency for altitude request, 500 ms by default\n * @param {Number}  [options.altitude.triggerDelay] - immobilisation time of movement on the globe to trigger the elevation calculation, 200 ms by default\n * @example\n *  var mousePosition = new itowns.control.MousePosition({\n *      collapsed : false,\n *      displayCoordinates : true,\n *      displayAltitude : true,\n *      altitude : {\n *           triggerDelay : 100,\n *           responseDelay : 500,\n *           serviceOptions : {}\n *      },\n *      systems : [\n *       {\n *          crs : \"EPSG:3857\",\n *          label : \"Mercator\",\n *          type : \"Metric\"\n *        },\n *       {\n *          crs : \"EPSG:32620\",\n *          label : \"UTM 20N (Guadeloupe, Martinique)\",\n *          type : \"Metric\",\n *          geoBBox : {\n *              left: -66.00,\n *              bottom : 0.00,\n *              right : -60.00,\n *              top : 84.00\n *          }\n *        }\n *      ],\n *      units : [\"DEC\", \"DMS\"]\n *  });\n */\n\nfunction MousePosition(options) {\n  options = options || {};\n\n  if (!(this instanceof MousePosition)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  }\n\n  if (options && _typeof(options) !== \"object\") {\n    throw new Error(\"ERROR WRONG_TYPE : options should be an object\");\n  }\n\n  this._initialize(options);\n\n  this._callbacks = {}; // init control DOM container\n\n  var container = this._initContainer(options);\n\n  _Widget__WEBPACK_IMPORTED_MODULE_8__[\"default\"].call(this, {\n    name: \"MousePosition\",\n    element: container,\n    target: options.target,\n    position: options.position\n  });\n}\n\n;\n/**\n * @lends module:MousePosition\n */\n\nMousePosition.prototype = Object.create(_Widget__WEBPACK_IMPORTED_MODULE_8__[\"default\"].prototype, {});\n_Common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].assign(MousePosition.prototype, _Common_Controls_MousePositionDOM__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n/**\n * Constructor (alias)\n */\n\nMousePosition.prototype.constructor = MousePosition;\n/**\n * Bind globe to control\n *\n * @param {GlobeViewExtended} globe - the globe\n */\n\nMousePosition.prototype.setGlobe = function (globe) {\n  if (globe) {\n    // In the case of the adding of a control to the globe\n    this._centerElement = this._createMapCenter();\n    globe.getTargetElement().appendChild(this._centerElement); // defines the callback on the map to retrieve the coordinates\n\n    this._callbacks.mouseMove = this.onMouseMove.bind(this); // valid event for desktop mode\n\n    if (!this.collapsed) {\n      if (this._isDesktop) {\n        globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EVENTS.MOUSE_MOVE, this._callbacks.mouseMove);\n      } else {\n        globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EVENTS.CENTER_CHANGED, this.onGlobeMove);\n      }\n    }\n  } else if (globe == null) {\n    // if globe == null we remove the MP control\n    // deletes the listener associated to the mousePosition control\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EVENTS.MOUSE_MOVE, this._callbacks.mouseMove); // deletes the mousePosition control DOM\n\n\n    while (this.getElement().hasChildNodes()) {\n      this.getElement().removeChild(this.getElement().lastChild);\n    }\n\n    this.getElement().parentNode.removeChild(this.getElement());\n\n    this._globe.getTargetElement().removeChild(this._centerElement);\n  } // call original setGlobe method\n\n\n  _Widget__WEBPACK_IMPORTED_MODULE_8__[\"default\"].prototype.setGlobe.call(this, globe);\n}; // ################################################################### //\n// #################### user interface methods ####################### //\n// ################################################################### //\n\n/**\n * Sets additional projection system\n *\n * @param {Object} system - Projection system defined in the Itowns/CRS/CRS.js class\n * @param {String} system.crs - Proj4 crs alias (from proj4 defs) e.g. \"EPSG:4326\"\n * @param {String} [system.label] - CRS label to be displayed in control. Default is system.crs alias\n * @param {String} [system.type] - CRS units type for coordinates conversion (one of control options.units). Default is \"Metric\"\n */\n\n\nMousePosition.prototype.addSystem = function (system) {\n  if (_typeof(system) !== \"object\") {\n    logger.error(\"MousePosition:addSystem - system parameter should be an object\");\n    return;\n  }\n\n  if (!system.crs) {\n    logger.error(\"crs not defined !\");\n    return;\n  }\n\n  if (!system.label) {\n    logger.warn(\"crs label not defined, use crs code by default.\");\n    system.label = system.crs;\n  }\n\n  if (!system.type) {\n    logger.warn(\"type srs not defined, use 'Metric' by default.\");\n    system.type = \"Metric\";\n  } // 1. adds system to control systems\n\n\n  for (var j = 0; j < this._projectionSystems.length; j++) {\n    var obj = this._projectionSystems[j];\n\n    if (system.crs === obj.crs) {\n      // warn user\n      logger.warn(\"crs '{}' already configured\", obj.crs);\n    }\n  }\n\n  system.code = this._projectionSystems.length;\n\n  this._projectionSystems.push(system); // 2. adds system settings option to container (if it was already build)\n\n\n  var selectSystem = document.getElementById(this._addUID(\"GPmousePositionProjectionSystem\"));\n\n  if (selectSystem) {\n    var option = document.createElement(\"option\");\n    option.value = system.code;\n    option.text = system.label;\n    selectSystem.appendChild(option);\n  }\n};\n/**\n * Sets additional projection systems\n *\n * @param {Array} systems - Array of system object, with following properties :\n * @param {String} systems.crs - Proj4 CRS alias (from proj4 defs) e.g. \"EPSG:4326\"\n * @param {String} systems.label - CRS label (for coordinates conversion)\n * @param {String} systems.type - CRS units type to be displayed in control (one of control options.units). Default is \"Metric\"\n */\n\n\nMousePosition.prototype.addSystems = function (systems) {\n  if (!systems) {\n    return;\n  }\n\n  if (!Array.isArray(systems)) {\n    logger.error(\"MousePosition:addSystems - systems parameter should be an array\");\n    return;\n  }\n\n  for (var i = 0; i < systems.length; i++) {\n    this.addSystem(systems[i]);\n  }\n};\n/**\n * Removes projection system (in case there are several system with same code, only the first one will be removed)\n *\n * @param {String} systemCrs - CRS alias (from proj4 defs)\n */\n\n\nMousePosition.prototype.removeSystem = function (systemCrs) {\n  if (!systemCrs || typeof systemCrs !== \"string\") {\n    logger.error(\"MousePosition:removeSystem - systemCode parameter should be a string\");\n    return;\n  }\n\n  var systemCode = null; // finds system in control projection systems list\n\n  for (var i = 0; i < this._projectionSystems.length; i++) {\n    var proj = this._projectionSystems[i];\n\n    if (systemCrs === proj.crs) {\n      systemCode = proj.code; // removes system from control projection systems list\n\n      this._projectionSystems.splice(i, 1);\n\n      break;\n    }\n  }\n\n  if (systemCode == null) {\n    logger.warn(\"MousePosition:removeSystem - system not found\");\n    return;\n  } // re-initialization of codes\n\n\n  var oldNewCodeGlobe = [];\n\n  for (var ii = 0; ii < this._projectionSystems.length; ii++) {\n    oldNewCodeGlobe[Number(this._projectionSystems[ii].code)] = ii;\n    this._projectionSystems[ii].code = ii;\n  } // finds system in control container systems list\n\n\n  var indexChildToRemove = null;\n  var systemList = document.getElementById(this._addUID(\"GPmousePositionProjectionSystem\"));\n\n  for (var j = 0; j < systemList.childNodes.length; j++) {\n    if (systemCode === systemList.childNodes[j].value) {\n      indexChildToRemove = j;\n      continue;\n    }\n\n    systemList.childNodes[j].value = oldNewCodeGlobe[Number(systemList.childNodes[j].value)];\n  } // removes system from control container systems list\n\n\n  if (indexChildToRemove != null) {\n    systemList.removeChild(systemList.childNodes[indexChildToRemove]);\n  } // choose arbitrarily a new current system if needed\n\n\n  if (this._currentProjectionSystems.code === systemCode) {\n    systemList.childNodes[0].setAttribute(\"selected\", \"selected\");\n\n    this._setCurrentSystem(systemList.childNodes[0].value);\n  }\n};\n/**\n * Sets control units (to be displayed)\n *\n * @param {Array} units - list of all coordinates units, to be displayed in control units list.\n *      Values may be \"DEC\" (decimal degrees), \"DMS\" (sexagecimal), \"RAD\" (radians) and \"GON\" (grades) for geographical coordinates,\n *      and \"M\" or \"KM\" for metric coordinates\n */\n\n\nMousePosition.prototype.setUnits = function (units) {\n  if (!units || !Array.isArray(units)) {\n    return;\n  }\n\n  this.options.units = units;\n  this._projectionUnits = {};\n\n  this._initProjectionUnits();\n\n  if (this._currentProjectionType) {\n    this._setTypeUnitsPanel(this._currentProjectionType);\n  }\n};\n/**\n * Sets control altitude options (useless if displayAltitude == false)\n *\n * @param {Object} options - altitude options\n * @param {Object}  [options.serviceOptions] - options of elevation service\n * @param {Number}  [options.responseDelay] - latency for elevation request, 500 ms by default\n * @param {Number}  [options.triggerDelay] - immobilisation time of movement on the globe to trigger the elevation calculation, 200 ms by default\n */\n\n\nMousePosition.prototype.setAltitudeOptions = function (options) {\n  if (!options || _typeof(options) !== \"object\") {\n    return;\n  }\n\n  this.options.altitude.triggerDelay = options.triggerDelay;\n  this.options.altitude.responseDelay = options.responseDelay;\n\n  if (options.serviceOptions) {\n    for (var opt in options.serviceOptions) {\n      if (options.serviceOptions.hasOwnProperty(opt)) {\n        this.options.altitude.serviceOptions[opt] = options.serviceOptions[opt];\n      }\n    }\n  }\n};\n/**\n * Displays or hides elevation panel\n *\n * @param {Boolean} displayAltitude - true to display elevation panel, false to hide it\n */\n\n\nMousePosition.prototype.displayAltitude = function (displayAltitude) {\n  if (displayAltitude === undefined) {\n    return;\n  }\n\n  if (typeof this._noRightManagement === \"undefined\") {\n    this._checkRightsManagement();\n  }\n\n  this.options.displayAltitude = displayAltitude;\n\n  this._setElevationPanel(displayAltitude);\n};\n/**\n * Displays or hides coordinates panel\n *\n * @param {Boolean} displayCoordinates - true to display coordinates panel, false to hide it\n */\n\n\nMousePosition.prototype.displayCoordinates = function (displayCoordinates) {\n  if (displayCoordinates === undefined) {\n    return;\n  }\n\n  this.options.displayCoordinates = displayCoordinates;\n\n  this._setCoordinatesPanel(displayCoordinates);\n\n  this._setSettingsPanel(displayCoordinates);\n};\n/**\n * Collapses or displays control main container\n *\n * @param {Boolean} collapsed - True to collapse control, False to display it\n */\n\n\nMousePosition.prototype.setCollapsed = function (collapsed) {\n  if (collapsed === undefined) {\n    logger.error(\"MousePosition:setCollapsed - missing collapsed parameter\");\n    return;\n  }\n\n  if (collapsed && this.collapsed || !collapsed && !this.collapsed) {\n    return;\n  }\n\n  if (!this._isDesktop) {\n    document.getElementById(this._addUID(\"GPmapCenter\")).className = collapsed ? \"\" : \"GPmapCenterVisible\";\n  } // simulates the opening of the panel after a click\n\n\n  this.onShowMousePositionClick();\n  this._showMousePositionContainer.checked = !collapsed;\n}; // ################################################################### //\n// ######################## initialize control ####################### //\n// ################################################################### //\n\n/**\n * Initializes control (called by MousePosition constructor)\n *\n * @method _initialize\n * @param {Object} options - control options (set by user)\n * @private\n */\n\n\nMousePosition.prototype._initialize = function (options) {\n  // Set default options\n  // {Object} control options - set by user or by default\n  this.options = options || {};\n  this.options.collapsed = options.collapsed !== undefined ? options.collapsed : true;\n  /** {Boolean} specify if MousePosition control is collapsed (true) or not (false) */\n\n  this.collapsed = this.options.collapsed;\n  this.options.units = options.units || [];\n  this.options.displayAltitude = options.displayAltitude !== undefined ? options.displayAltitude : true;\n  this.options.displayCoordinates = options.displayCoordinates !== undefined ? options.displayCoordinates : true;\n  this.options.systems = options.systems || [];\n\n  if (options.altitude) {\n    var altitude = options.altitude;\n    this.options.altitude = {\n      triggerDelay: altitude.triggerDelay !== undefined ? altitude.triggerDelay : 200,\n      responseDelay: altitude.responseDelay !== undefined ? altitude.responseDelay : 500,\n      serviceOptions: altitude.serviceOptions || {},\n      noDataValue: altitude.noDataValue !== undefined ? altitude.noDataValue : -99999,\n      noDataValueTolerance: altitude.noDataValueTolerance !== undefined ? altitude.noDataValueTolerance : 90000\n    };\n  } else {\n    this.options.altitude = {\n      triggerDelay: 200,\n      responseDelay: 500,\n      serviceOptions: {}\n    };\n  } // id of the widget : usefull to suffix the CSS ids (to handle cases with several widgets on the same page)\n\n\n  this._uid = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_6__[\"default\"].generate(); // initialization of the projections systems\n\n  this._projectionSystems = [];\n\n  this._initProjectionSystems(); // initialization of the units systems\n\n\n  this._projectionUnits = {};\n\n  this._initProjectionUnits(); // support detect : desktop or tactile\n\n\n  this._isDesktop = _Common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].detectSupport(); // implements a timer threshold\n\n  if (this.options.altitude.triggerDelay < 100) {\n    this.options.altitude.triggerDelay = 100;\n  } // {Number} timer on movestopped delay (altitude calculation)\n\n\n  this._timer = this.options.altitude.triggerDelay; // {Object} Selected projection system\n\n  this._currentProjectionSystems = this._projectionSystems[0]; // {String} Selected projection units typs : Geographical or metric\n\n  this._currentProjectionType = this._projectionSystems[0].type; // {String} Selected projection unit\n\n  this._currentProjectionUnits = this._projectionUnits[this._currentProjectionType][0].code; // {Object} Projection units container (DOM Element)\n\n  this._projectionUnitsContainer = null; // {Object} control panel container (DOM Element)\n\n  this._showMousePositionContainer = null; // management of the altitude panel display\n\n  if (!this.options.displayAltitude && !this.options.displayCoordinates) {\n    // reactivate the display of coordinates, to not display an empty panel\n    this.options.displayCoordinates = true;\n  } // rights management on resources and services\n  // if we want an altitude calculation, we check the alti resources rights...\n\n\n  if (this.options.displayAltitude) {\n    this._checkRightsManagement();\n  }\n};\n/**\n * this method is called by the constructor and initialize the projection\n * systems.\n * getting coordinates in the requested projection :\n * see this.onMousePositionProjectionSystemChange()\n *\n * @method _initProjectionSystems\n * @private\n */\n\n\nMousePosition.prototype._initProjectionSystems = function () {\n  // user has the possibility to modify the list of systems to display\n  // Ex. this.options.systems\n  // available projection systems vy default\n  var projectionSystemsByDefault = [{\n    label: \"Géographique\",\n    crs: \"EPSG:4326\",\n    type: \"Geographical\"\n  }, {\n    label: \"Mercator\",\n    crs: \"EPSG:3857\",\n    type: \"Metric\"\n  }, {\n    label: \"Lambert 93\",\n    crs: \"EPSG:2154\",\n    type: \"Metric\",\n    geoBBox: {\n      left: -9.86,\n      bottom: 41.15,\n      right: 10.38,\n      top: 51.56\n    }\n  }, {\n    label: \"Lambert II étendu\",\n    crs: \"EPSG:27572\",\n    type: \"Metric\",\n    geoBBox: {\n      left: -4.87,\n      bottom: 42.33,\n      right: 8.23,\n      top: 51.14\n    }\n  }];\n  var systems = this.options.systems;\n\n  for (var i = 0; i < systems.length; i++) {\n    // definition of a reference system\n    var sys = systems[i];\n    this.addSystem(sys);\n  }\n\n  if (this._projectionSystems.length === 0) {\n    // we add the default projection systems\n    for (var ii = 0; ii < projectionSystemsByDefault.length; ii++) {\n      this.addSystem(projectionSystemsByDefault[ii]);\n    }\n  }\n};\n/**\n * this method is called by the constructor and initialize the units.\n * getting coordinates in the requested units :\n * see this.onMousePositionProjectionUnitsChange()\n *\n * @method _initProjectionUnits\n * @private\n */\n\n\nMousePosition.prototype._initProjectionUnits = function () {\n  // user has the possibility to modify the list of units to display\n  // Ex.\n  // this.options.units : [\"DEC\", \"DMS\"]\n  // available units systems by default\n  var projectionUnitsByDefault = {\n    Geographical: [{\n      code: \"DEC\",\n      label: \"degrés décimaux\",\n      convert: this._displayDEC\n    }, {\n      code: \"DMS\",\n      label: \"degrés sexagésimaux\",\n      convert: this._displayDMS\n    }, {\n      code: \"RAD\",\n      label: \"radians\",\n      convert: this._displayRAD\n    }, {\n      code: \"GON\",\n      label: \"grades\",\n      convert: this._displayGON\n    }],\n    Metric: [{\n      code: \"M\",\n      label: \"mètres\",\n      convert: this._displayMeter\n    }, {\n      code: \"KM\",\n      label: \"kilomètres\",\n      convert: this._displayKMeter\n    }]\n  };\n  var units = this.options.units;\n\n  for (var type in projectionUnitsByDefault) {\n    if (projectionUnitsByDefault.hasOwnProperty(type)) {\n      var found = false;\n\n      for (var j = 0; j < projectionUnitsByDefault[type].length; j++) {\n        var obj = projectionUnitsByDefault[type][j];\n\n        for (var i = 0; i < units.length; i++) {\n          var unit = units[i];\n\n          if (obj.code === unit) {\n            found = true;\n\n            if (!this._projectionUnits[type]) {\n              this._projectionUnits[type] = [];\n            }\n\n            this._projectionUnits[type].push(obj);\n          }\n        }\n      }\n\n      if (!found) {\n        this._projectionUnits[type] = projectionUnitsByDefault[type];\n      }\n    }\n  } // in case of...\n\n\n  if (_typeof(this._projectionUnits) === \"object\" && Object.keys(this._projectionUnits).length === 0) {\n    this._projectionUnits = projectionUnitsByDefault;\n  }\n};\n/**\n * this method is called by constructor\n * and check the rights to resources\n *\n * @method _checkRightsManagement\n * @private\n */\n\n\nMousePosition.prototype._checkRightsManagement = function () {\n  var rightManagement = _Common_Utils_CheckRightManagement__WEBPACK_IMPORTED_MODULE_5__[\"default\"].check({\n    key: this.options.apiKey,\n    resources: [\"SERVICE_CALCUL_ALTIMETRIQUE_RSC\"],\n    services: [\"Elevation\"]\n  });\n  this._noRightManagement = !rightManagement; // retrieves the usefull infos\n  // on this control, we do not care about the ressource bescause it is unique\n  // Ex : the API key from the autoconfiguration if it has not been given\n\n  if (!this.options.apiKey) {\n    this.options.apiKey = rightManagement.key;\n  }\n}; // ################################################################### //\n// ######################## methods handle dom ####################### //\n// ################################################################### //\n\n/**\n * Create control main container (called by MousePosition constructor)\n *\n * @method _initContainer\n * @param {Object} options - options\n * @param {Boolean} options.collapsed - Specify if MousePosition control should be collapsed\n * @param {Array}   options.displayAltitude - activate (true) or deactivate (false) the altitude panel\n * @param {Array}   options.displayCoordinates - activate (true) or deactivate (false) the coordinates panel\n * @returns {DOMElement} container - widget container\n * @private\n */\n\n\nMousePosition.prototype._initContainer = function (options) {\n  // creates the main container\n  var container = this._createMainContainerElement();\n\n  var inputShow = this._showMousePositionContainer = this._createShowMousePositionElement();\n\n  if (!options.collapsed) {\n    inputShow.checked = \"checked\";\n  }\n\n  container.appendChild(inputShow);\n\n  var picto = this._createShowMousePositionPictoElement(this._isDesktop);\n\n  container.appendChild(picto);\n\n  var panel = this._createMousePositionPanelElement();\n\n  var header = this._createMousePositionPanelHeaderElement();\n\n  panel.appendChild(header);\n\n  var basic = this._createMousePositionPanelBasicElement(options.displayAltitude, options.displayCoordinates);\n\n  panel.appendChild(basic);\n\n  var arraySettings = this._createShowMousePositionSettingsElement(options.displayCoordinates);\n\n  for (var j = 0; j < arraySettings.length; j++) {\n    panel.appendChild(arraySettings[j]);\n  }\n\n  var settings = this._createMousePositionSettingsElement(options.displayCoordinates);\n\n  var systems = this._projectionSystemsContainer = this._createMousePositionSettingsSystemsElement(this._projectionSystems);\n\n  var units = this._projectionUnitsContainer = this._createMousePositionSettingsUnitsElement(this._projectionUnits[this._currentProjectionType]);\n\n  settings.appendChild(systems);\n  settings.appendChild(units);\n  panel.appendChild(settings);\n  container.appendChild(panel);\n  return container;\n};\n/**\n * this method is called by this.()\n * and it changes the elevation view panel into the dom.\n *\n * @method _setElevationPanel\n * @param {Boolean} active - true:active, false:disable\n * @private\n */\n\n\nMousePosition.prototype._setElevationPanel = function (active) {\n  var div = null;\n\n  if (!active) {\n    div = document.getElementById(\"GPmousePositionAltitude-\" + this._uid);\n    div.style.display = \"none\";\n  } else {\n    if (this._noRightManagement) {\n      div = document.getElementById(\"GPmousePositionAlt-\" + this._uid);\n      div.innerHTML = \"No rights!\";\n    } else {\n      div = document.getElementById(\"GPmousePositionAltitude-\" + this._uid);\n      div.style.display = \"\";\n    }\n  }\n};\n/**\n * this method is called by this.()\n * and it changes the coordinate view panel into the dom.\n *\n * @method _setCoordinatesPanel\n * @param {Boolean} active - true:active, false:disable\n * @private\n */\n\n\nMousePosition.prototype._setCoordinatesPanel = function (active) {\n  var div = document.getElementById(\"GPmousePositionCoordinate-\" + this._uid);\n\n  if (!active) {\n    div.style.display = \"none\";\n  } else {\n    div.style.display = \"\";\n  }\n};\n/**\n * this method is called by this.()\n * and it changes the settings view panel into the dom.\n *\n * @method _setSettingsPanel\n * @param {Boolean} active - true:active, false:disable\n * @private\n */\n\n\nMousePosition.prototype._setSettingsPanel = function (active) {\n  var divPicto = document.getElementById(\"GPshowMousePositionSettingsPicto-\" + this._uid);\n  var divPanel = document.getElementById(\"GPmousePositionSettings-\" + this._uid);\n\n  if (!active) {\n    divPicto.style.display = \"none\";\n    divPanel.style.display = \"none\";\n  } else {\n    divPicto.style.display = \"\";\n    divPanel.style.display = \"\";\n  }\n};\n/**\n * this method is called by this.onMousePositionProjectionSystemChange()\n * when changes to a metric or a geographical units.\n *\n * @method _setTypeUnitsPanel\n * @param {String} type - Geographical or Metric\n * @private\n */\n\n\nMousePosition.prototype._setTypeUnitsPanel = function (type) {\n  var container = this._projectionUnitsContainer; // deletes the childNodes\n\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n\n  var units = this._projectionUnits[type];\n\n  for (var j = 0; j < units.length; j++) {\n    var obj = units[j];\n    var option = document.createElement(\"option\");\n    option.value = obj.code ? obj.code : j;\n    option.text = obj.label || j; // option.label = obj.label;\n\n    container.appendChild(option);\n  } // the new type of system\n\n\n  this._currentProjectionType = type; // as the system changed, the unit system has to change too !\n\n  this._currentProjectionUnits = this._projectionUnits[type][0].code;\n}; // ################################################################### //\n// ######################## method units convert ##################### //\n// ################################################################### //\n\n/**\n * degreedecimal\n *\n * @method _displayDEC\n * @param {Object} coords - coordinatesobject {lon, lat}\n * @return {Object} coordinate - coordinate object : {lat : 48, lng : 2} par exemple\n * @private\n */\n\n\nMousePosition.prototype._displayDEC = function (coords) {\n  var coordinate = {};\n  coordinate.lat = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].roundToDecimal(coords.lat, 6);\n  coordinate.lng = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].roundToDecimal(coords.lon, 6);\n  return coordinate;\n};\n/**\n * degreedecimal2sexagecimal\n *\n * @method _displayDMS\n * @param {Object} coords - coordinates object {lon, lat}\n * @return {Object} coordinate - coordinate object : {lng : \"2° 00′ 00″ E\", lat : \"48° 00′ 00″ N\"} par exemple\n * @private\n */\n\n\nMousePosition.prototype._displayDMS = function (coords) {\n  var coordinate = {};\n  coordinate.lat = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].decimalLatToDMS(coords.lat);\n  coordinate.lng = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].decimalLongToDMS(coords.lon);\n  return coordinate;\n};\n/**\n * degreedecimal2radian\n *\n * @method _displayRAD\n * @param {Object} coords - coordinates object {lon, lat}\n * @return {Object} coordinate - coordinate object : {lat : \"0.02837864\", lng : \"0.84300269\"} par exemple\n * @private\n */\n\n\nMousePosition.prototype._displayRAD = function (coords) {\n  var coordinate = {};\n  coordinate.lat = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].decimalToRadian(coords.lat);\n  coordinate.lng = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].decimalToRadian(coords.lon);\n  return coordinate;\n};\n/**\n * degreedecimal2grade\n *\n * @method _displayGON\n * @param {Object} coords - coordinates object {lon, lat}\n * @return {Object} coordinate - coordinate object : {lat : \"4.09545898\", lng : \"53.68751528\"} par exemple\n * @private\n */\n\n\nMousePosition.prototype._displayGON = function (coords) {\n  var coordinate = {};\n  coordinate.lat = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].decimalToGrade(coords.lat);\n  coordinate.lng = _Utils_PositionFormater__WEBPACK_IMPORTED_MODULE_9__[\"default\"].decimalToGrade(coords.lon);\n  return coordinate;\n};\n/**\n * meter\n *\n * @method _displayMeter\n * @param {Object} coords - coords object {lon, lat}\n * @return {Object} coordinate - coordinate object : {x : \"148593.58\", y : \"6176560.95\"} par exemple\n * @private\n */\n\n\nMousePosition.prototype._displayMeter = function (coords) {\n  // on recoit toujours des coordonnées metriques\n  var coordinate = {};\n  coordinate.x = coords.lon.toFixed(2);\n  coordinate.y = coords.lat.toFixed(2);\n  coordinate.unit = \"m\";\n  return coordinate;\n};\n/**\n * kilometer\n *\n * @method _displayKMeter\n * @param {Object} coords - coords object {lon, lat}\n * @return {Object} coordinate - coordinate object : {x : \"214.96\", y : \"6250.09\"} par exemple\n * @private\n */\n\n\nMousePosition.prototype._displayKMeter = function (coords) {\n  var coordinate = {};\n  coordinate.x = (coords.lon / 1000).toFixed(2);\n  coordinate.y = (coords.lat / 1000).toFixed(2);\n  coordinate.unit = \"km\";\n  return coordinate;\n}; // ################################################################### //\n// ##################### handlers events to control ################## //\n// ################################################################### //\n\n/**\n * this sends the coordinates to the panel.\n * (cf. this.GPdisplayCoords() into the DOM functions)\n *\n * @method _setCoordinate\n * @param {Array} coords - coordinate object {lon, lat}\n * @private\n */\n\n\nMousePosition.prototype._setCoordinate = function (coords) {\n  // structure\n  // coords\n  //      {\n  //          lon: 5,\n  //          lat : 48\n  //      }\n  //\n  // structure for the coordinates depending on the system type :\n  // {x:, y:, unit:} or {lng:, lat:} or {lon:, lat:} or {e:, n:, unit:}...\n  var coord = [];\n  var coordinates = {}; // transforms the point in the wanted coords system\n\n  var oSrs = this._currentProjectionSystems;\n  var crsProp = oSrs.crs;\n\n  if (!oSrs || !crsProp) {\n    logger.error(\"system crs not found\");\n    return;\n  } // reproject coordinates from their CRS of origin (WGS84) to the wanted CRS (crsProp)\n\n\n  if (crsProp !== \"EPSG:4326\") {\n    coord = proj4__WEBPACK_IMPORTED_MODULE_0___default()(_CRS_CRS__WEBPACK_IMPORTED_MODULE_10__[\"default\"][crsProp], [coords.lon, coords.lat]); // projected values are affected to the coord var\n\n    coordinates.lon = coord[0];\n    coordinates.lat = coord[1];\n  } else {\n    coordinates = coords;\n  } // system type : Geographical or Metric\n\n\n  var type = this._currentProjectionSystems.type; // checks for a formatting function in the wanted unit\n\n  var convert = null;\n  var units = this._projectionUnits[type];\n\n  for (var i = 0; i < units.length; i++) {\n    if (units[i].code === this._currentProjectionUnits) {\n      convert = units[i].convert;\n      break;\n    }\n  }\n\n  if (!convert || typeof convert !== \"function\") {\n    logger.warn(\"coordinates format function not found\");\n    return;\n  } else {\n    coord = convert(coordinates);\n  }\n\n  if (!coord || Object.keys(coord).length === 0) {\n    return;\n  }\n\n  this.GPdisplayCoords(coord);\n};\n/**\n * this sends the coordinates to the panel.\n * (cf. this.GPdisplayElevation() into the DOM functions)\n *\n * @method _setElevation\n * @param {Object} coords - Coordinate position object {lon, lat}\n * @private\n */\n\n\nMousePosition.prototype._setElevation = function (coords) {\n  // management of the timer of the altitude service request\n  var delay = this.options.altitude.responseDelay;\n  this.GPdisplayElevation(coords, delay);\n};\n/**\n * this method is triggered when the mouse or the globe is stopped.\n * (cf. onMouseMove and onGlobeMove)\n *\n * @method onMoveStopped\n * @param {Object} coords - Coordinate position object {lon, lat}\n * @private\n */\n\n\nMousePosition.prototype.onMoveStopped = function (coords) {\n  this._setElevation(coords);\n};\n/**\n * this method is an handler event to control. The event is 'mousemove' on\n * the globe. The handler sends the coordinates to the panel.\n * (cf. this.GPdisplayCoords() into the DOM functions)\n *\n * @method onMouseMove\n * @param {Object} e - HTMLElement\n * @private\n */\n\n\nMousePosition.prototype.onMouseMove = function (e) {\n  var self = this;\n  var position = this.getGlobe().getCoordinateFromMouseEvent(e);\n\n  if (!position) {\n    this.GPdisplayCoords({\n      lon: \"---\",\n      lat: \"---\"\n    });\n    this.GPresetElevation();\n    return;\n  }\n\n  var coordinate = {\n    lon: position.x,\n    lat: position.y\n  };\n\n  this._setCoordinate(coordinate); // calculation of the altitude after a time limit from the moment where the mouse movement is stopped\n\n\n  if (this.options.displayAltitude) {\n    clearTimeout(this._timer);\n    this._timer = setTimeout(function () {\n      self.onMoveStopped(coordinate);\n    }, this.options.altitude.triggerDelay);\n  }\n};\n/**\n * this method is an handler event to control. The event is 'moveend' on\n * the globe. The handler sends the coordinates to the panel.\n * (cf. this.GPdisplayCoords() into the DOM functions)\n *\n * @method onGlobeMove\n * @private\n */\n\n\nMousePosition.prototype.onGlobeMove = function () {// var self = this;\n  // info: coordinate = [x, y]\n  // var coordinate = e.coordinate;\n  // if ( !e.map || !e.map.getView() ) {\n  //     return;\n  // }\n  // var crs = e.map.getView().getProjection();\n  //\n  // this._setCoordinate(coordinate, crs);\n  //\n  // // calcul de l'altitude après un certain délai après l'arrêt du mouvement de la carte\n  // clearTimeout(this._timer);\n  // this._timer = setTimeout( function () {\n  //     self.onMoveStopped(coordinate, crs);\n  // }, this.options.altitude.triggerDelay);\n}; // ################################################################### //\n// ####################### handlers events to dom #################### //\n// ################################################################### //\n\n/**\n * this method is called by this.GPdisplayElevation() in the dom, and\n * it executes a request to the elevation service.\n *\n * @method onRequestAltitude\n * @param {Object} coordinate - {lat:..., lng:...}\n * @param {Function} callback - function callback\n * @private\n */\n\n\nMousePosition.prototype.onRequestAltitude = function (coordinate, callback) {\n  // INFORMATION\n  // we launch the request to the altitude services\n  // we implement callbacks in order to retrieve results or errors\n  // from the service.\n  // The result is displayed in a DOM element.\n  // The error messages are display in the dev console (?)\n  if (!coordinate || Object.keys(coordinate).length === 0) {\n    return;\n  } // if we do not want any altitude calculation, we just stop !\n\n\n  if (!this.options.displayAltitude) {\n    return;\n  } // if we don not have the rights on the requested resource, we just stop !\n\n\n  if (this._noRightManagement) {\n    logger.warn(\"contract key configuration has no rights to load geoportal elevation \");\n    document.getElementById(this._addUID(\"GPmousePositionAlt\")).innerHTML = \"No rights!\";\n    return;\n  } // we retrieve the service options...\n\n\n  var options = this.options.altitude.serviceOptions || {}; // ... and the coordinates...\n\n  options.zonly = true;\n  options.positions = [{\n    lon: coordinate.lon,\n    lat: coordinate.lat\n  }]; // ... and the callbacks\n\n  options.scope = this;\n\n  if (!options.rawResponse) {\n    // in the general case\n    options.onSuccess = function (results) {\n      if (results && Object.keys(results)) {\n        callback.call(this, results.elevations[0].z);\n      }\n    };\n  } else {\n    options.onSuccess = function (results) {\n      logger.info(\"alti service raw response : \", results);\n    };\n  }\n\n  options.onFailure = function (error) {\n    logger.error(\"[getAltitude] \" + error.message);\n  }; // in the case of the API key is not given as option of the service,\n  // we use the key of the autoconf, or the key given in the control options\n\n\n  options.apiKey = options.apiKey || this.options.apiKey; // si l'utilisateur a spécifié le paramètre ssl au niveau du control, on s'en sert\n  // true par défaut (https)\n\n  options.ssl = this.options.ssl;\n  geoportal_access_lib__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Services.getAltitude(options);\n};\n/**\n * this method is called by event 'click' on 'GPshowMousePositionPicto' tag label\n * (cf. this._createShowMousePositionPictoElement),\n * and toggles event 'mousemove' on globe.\n *\n * @method onShowMousePositionClick\n * @private\n */\n\n\nMousePosition.prototype.onShowMousePositionClick = function () {\n  // checked : true - panel close\n  // checked : false - panel open\n  var globe = this.getGlobe();\n  this.collapsed = this._showMousePositionContainer.checked; // event triggered when opening/closing the panel\n  // and depending on the mode : desktop or tactile!\n\n  if (this._showMousePositionContainer.checked) {\n    // FIXME handle or not mobile case\n    if (this._isDesktop) {\n      globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EVENTS.MOUSE_MOVE, this._callbacks.mouseMove);\n    } else {\n      globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EVENTS.CENTER_CHANGED, this.onGlobeMove);\n    }\n  } else {\n    // FIXME handle or not mobile case\n    if (this._isDesktop) {\n      globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EVENTS.MOUSE_MOVE, this._callbacks.mouseMove);\n    } else {\n      globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EVENTS.CENTER_CHANGED, this.onGlobeMove);\n    }\n  } // FIXME\n  // we handle here the panel display..., but this is not really the good\n  // place to do it...\n\n\n  this._setElevationPanel(this.options.displayAltitude);\n\n  this._setCoordinatesPanel(this.options.displayCoordinates);\n\n  if (!this.options.displayCoordinates) {\n    this._setSettingsPanel(false);\n  }\n};\n/**\n * this method is called by event 'change' on 'GPmousePositionProjectionSystem'\n * tag select (cf. this._createMousePositionSettingsElement),\n * and selects the system projection.\n *\n * @method onMousePositionProjectionSystemChange\n * @param {Object} e - HTMLElement\n * @private\n */\n\n\nMousePosition.prototype.onMousePositionProjectionSystemChange = function (e) {\n  var idx = e.target.selectedIndex; // index\n\n  var value = e.target.options[idx].value; // crs\n\n  this._setCurrentSystem(value);\n};\n/**\n * this method selects the current system projection.\n *\n * @method _setCurrentSystem\n * @param {String} systemCode - inner code (rank in array _projectionSystems)\n * @private\n */\n\n\nMousePosition.prototype._setCurrentSystem = function (systemCode) {\n  // if we change of system type, we must change the unit type too !\n  var type = null;\n\n  for (var i = 0; i < this._projectionSystems.length; ++i) {\n    if (this._projectionSystems[i].code === Number(systemCode)) {\n      type = this._projectionSystems[i].type;\n      break;\n    }\n  }\n\n  if (!type) {\n    logger.log(\"system not found in projection systems container\");\n    return;\n  }\n\n  if (type !== this._currentProjectionType) {\n    this._setTypeUnitsPanel(type);\n  } // registers the current system\n\n\n  this._currentProjectionSystems = this._projectionSystems[Number(systemCode)]; // simulates a movement in tactile mode to update the results\n\n  if (!this._isDesktop) {\n    this.onGlobeMove();\n  }\n};\n/**\n * this method is called by event 'mouseover' on 'GPmousePositionProjectionSystem'\n * tag select (cf. this._createMousePositionSettingsElement),\n * and selects the system projection whose geoBBox interstects the current view extent.\n *\n * @method onMousePositionProjectionSystemMouseOver\n * @private\n */\n\n\nMousePosition.prototype.onMousePositionProjectionSystemMouseOver = function () {\n  // globe infos\n  var globe = this.getGlobe();\n\n  if (!globe) {\n    return;\n  }\n\n  var globeExtent = globe.getExtent(); // clear select\n\n  var systemList = document.getElementById(this._addUID(\"GPmousePositionProjectionSystem\"));\n  systemList.innerHTML = \"\";\n  var option; // add systems whose extent intersects the globe extent\n\n  for (var j = 0; j < this._projectionSystems.length; j++) {\n    var proj = this._projectionSystems[j];\n\n    if (proj.geoBBox) {\n      // bboxes intersection test\n      if (globeExtent.west > proj.geoBBox.right || globeExtent.south > proj.geoBBox.top || globeExtent.east < proj.geoBBox.left || globeExtent.north < proj.geoBBox.bottom) {\n        if (proj === this._currentProjectionSystems) {\n          option = document.createElement(\"option\");\n          option.value = proj.code;\n          option.text = proj.label || j;\n          option.setAttribute(\"selected\", \"selected\");\n          option.setAttribute(\"disabled\", \"disabled\");\n          systemList.appendChild(option);\n        }\n\n        continue; // do not intersect\n      }\n    }\n\n    option = document.createElement(\"option\");\n    option.value = proj.code;\n    option.text = proj.label || j;\n\n    if (proj === this._currentProjectionSystems) {\n      option.setAttribute(\"selected\", \"selected\");\n    }\n\n    systemList.appendChild(option);\n  }\n};\n/**\n * this method is called by event 'change' on 'GPmousePositionProjectionUnits'\n * tag select (cf. this._createMousePositionSettingsElement),\n * and selects the units projection.\n *\n * @method onMousePositionProjectionUnitsChange\n * @param {Object} e - HTMLElement\n * @private\n */\n\n\nMousePosition.prototype.onMousePositionProjectionUnitsChange = function (e) {\n  var idx = e.target.selectedIndex;\n  var value = e.target.options[idx].value;\n  this._currentProjectionUnits = value; // simulates a movement in tactile mode to update the results\n\n  if (!this._isDesktop) {\n    this.onGlobeMove();\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MousePosition);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvTW91c2VQb3NpdGlvbi5qcz8wMDlkIl0sIm5hbWVzIjpbImxvZ2dlciIsIkxvZ2dlciIsImdldExvZ2dlciIsIk1vdXNlUG9zaXRpb24iLCJvcHRpb25zIiwiVHlwZUVycm9yIiwiRXJyb3IiLCJfaW5pdGlhbGl6ZSIsIl9jYWxsYmFja3MiLCJjb250YWluZXIiLCJfaW5pdENvbnRhaW5lciIsIldpZGdldCIsImNhbGwiLCJuYW1lIiwiZWxlbWVudCIsInRhcmdldCIsInBvc2l0aW9uIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiVXRpbHMiLCJhc3NpZ24iLCJNb3VzZVBvc2l0aW9uRE9NIiwiY29uc3RydWN0b3IiLCJzZXRHbG9iZSIsImdsb2JlIiwiX2NlbnRlckVsZW1lbnQiLCJfY3JlYXRlTWFwQ2VudGVyIiwiZ2V0VGFyZ2V0RWxlbWVudCIsImFwcGVuZENoaWxkIiwibW91c2VNb3ZlIiwib25Nb3VzZU1vdmUiLCJiaW5kIiwiY29sbGFwc2VkIiwiX2lzRGVza3RvcCIsImxpc3RlbiIsIkdsb2JlVmlld0V4dGVuZGVkIiwiRVZFTlRTIiwiTU9VU0VfTU9WRSIsIkNFTlRFUl9DSEFOR0VEIiwib25HbG9iZU1vdmUiLCJfZ2xvYmUiLCJmb3JnZXQiLCJnZXRFbGVtZW50IiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwicGFyZW50Tm9kZSIsImFkZFN5c3RlbSIsInN5c3RlbSIsImVycm9yIiwiY3JzIiwibGFiZWwiLCJ3YXJuIiwidHlwZSIsImoiLCJfcHJvamVjdGlvblN5c3RlbXMiLCJsZW5ndGgiLCJvYmoiLCJjb2RlIiwicHVzaCIsInNlbGVjdFN5c3RlbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJfYWRkVUlEIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsInZhbHVlIiwidGV4dCIsImFkZFN5c3RlbXMiLCJzeXN0ZW1zIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsInJlbW92ZVN5c3RlbSIsInN5c3RlbUNycyIsInN5c3RlbUNvZGUiLCJwcm9qIiwic3BsaWNlIiwib2xkTmV3Q29kZUdsb2JlIiwiaWkiLCJOdW1iZXIiLCJpbmRleENoaWxkVG9SZW1vdmUiLCJzeXN0ZW1MaXN0IiwiY2hpbGROb2RlcyIsIl9jdXJyZW50UHJvamVjdGlvblN5c3RlbXMiLCJzZXRBdHRyaWJ1dGUiLCJfc2V0Q3VycmVudFN5c3RlbSIsInNldFVuaXRzIiwidW5pdHMiLCJfcHJvamVjdGlvblVuaXRzIiwiX2luaXRQcm9qZWN0aW9uVW5pdHMiLCJfY3VycmVudFByb2plY3Rpb25UeXBlIiwiX3NldFR5cGVVbml0c1BhbmVsIiwic2V0QWx0aXR1ZGVPcHRpb25zIiwiYWx0aXR1ZGUiLCJ0cmlnZ2VyRGVsYXkiLCJyZXNwb25zZURlbGF5Iiwic2VydmljZU9wdGlvbnMiLCJvcHQiLCJoYXNPd25Qcm9wZXJ0eSIsImRpc3BsYXlBbHRpdHVkZSIsInVuZGVmaW5lZCIsIl9ub1JpZ2h0TWFuYWdlbWVudCIsIl9jaGVja1JpZ2h0c01hbmFnZW1lbnQiLCJfc2V0RWxldmF0aW9uUGFuZWwiLCJkaXNwbGF5Q29vcmRpbmF0ZXMiLCJfc2V0Q29vcmRpbmF0ZXNQYW5lbCIsIl9zZXRTZXR0aW5nc1BhbmVsIiwic2V0Q29sbGFwc2VkIiwiY2xhc3NOYW1lIiwib25TaG93TW91c2VQb3NpdGlvbkNsaWNrIiwiX3Nob3dNb3VzZVBvc2l0aW9uQ29udGFpbmVyIiwiY2hlY2tlZCIsIm5vRGF0YVZhbHVlIiwibm9EYXRhVmFsdWVUb2xlcmFuY2UiLCJfdWlkIiwiU2VsZWN0b3JJRCIsImdlbmVyYXRlIiwiX2luaXRQcm9qZWN0aW9uU3lzdGVtcyIsImRldGVjdFN1cHBvcnQiLCJfdGltZXIiLCJfY3VycmVudFByb2plY3Rpb25Vbml0cyIsIl9wcm9qZWN0aW9uVW5pdHNDb250YWluZXIiLCJwcm9qZWN0aW9uU3lzdGVtc0J5RGVmYXVsdCIsImdlb0JCb3giLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiLCJ0b3AiLCJzeXMiLCJwcm9qZWN0aW9uVW5pdHNCeURlZmF1bHQiLCJHZW9ncmFwaGljYWwiLCJjb252ZXJ0IiwiX2Rpc3BsYXlERUMiLCJfZGlzcGxheURNUyIsIl9kaXNwbGF5UkFEIiwiX2Rpc3BsYXlHT04iLCJNZXRyaWMiLCJfZGlzcGxheU1ldGVyIiwiX2Rpc3BsYXlLTWV0ZXIiLCJmb3VuZCIsInVuaXQiLCJrZXlzIiwicmlnaHRNYW5hZ2VtZW50IiwiUmlnaHRNYW5hZ2VtZW50IiwiY2hlY2siLCJrZXkiLCJhcGlLZXkiLCJyZXNvdXJjZXMiLCJzZXJ2aWNlcyIsIl9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCIsImlucHV0U2hvdyIsIl9jcmVhdGVTaG93TW91c2VQb3NpdGlvbkVsZW1lbnQiLCJwaWN0byIsIl9jcmVhdGVTaG93TW91c2VQb3NpdGlvblBpY3RvRWxlbWVudCIsInBhbmVsIiwiX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEVsZW1lbnQiLCJoZWFkZXIiLCJfY3JlYXRlTW91c2VQb3NpdGlvblBhbmVsSGVhZGVyRWxlbWVudCIsImJhc2ljIiwiX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljRWxlbWVudCIsImFycmF5U2V0dGluZ3MiLCJfY3JlYXRlU2hvd01vdXNlUG9zaXRpb25TZXR0aW5nc0VsZW1lbnQiLCJzZXR0aW5ncyIsIl9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NFbGVtZW50IiwiX3Byb2plY3Rpb25TeXN0ZW1zQ29udGFpbmVyIiwiX2NyZWF0ZU1vdXNlUG9zaXRpb25TZXR0aW5nc1N5c3RlbXNFbGVtZW50IiwiX2NyZWF0ZU1vdXNlUG9zaXRpb25TZXR0aW5nc1VuaXRzRWxlbWVudCIsImFjdGl2ZSIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImlubmVySFRNTCIsImRpdlBpY3RvIiwiZGl2UGFuZWwiLCJmaXJzdENoaWxkIiwiY29vcmRzIiwiY29vcmRpbmF0ZSIsImxhdCIsIlBvc2l0aW9uRm9ybWF0ZXIiLCJyb3VuZFRvRGVjaW1hbCIsImxuZyIsImxvbiIsImRlY2ltYWxMYXRUb0RNUyIsImRlY2ltYWxMb25nVG9ETVMiLCJkZWNpbWFsVG9SYWRpYW4iLCJkZWNpbWFsVG9HcmFkZSIsIngiLCJ0b0ZpeGVkIiwieSIsIl9zZXRDb29yZGluYXRlIiwiY29vcmQiLCJjb29yZGluYXRlcyIsIm9TcnMiLCJjcnNQcm9wIiwicHJvajQiLCJDUlMiLCJHUGRpc3BsYXlDb29yZHMiLCJfc2V0RWxldmF0aW9uIiwiZGVsYXkiLCJHUGRpc3BsYXlFbGV2YXRpb24iLCJvbk1vdmVTdG9wcGVkIiwiZSIsInNlbGYiLCJnZXRHbG9iZSIsImdldENvb3JkaW5hdGVGcm9tTW91c2VFdmVudCIsIkdQcmVzZXRFbGV2YXRpb24iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib25SZXF1ZXN0QWx0aXR1ZGUiLCJjYWxsYmFjayIsInpvbmx5IiwicG9zaXRpb25zIiwic2NvcGUiLCJyYXdSZXNwb25zZSIsIm9uU3VjY2VzcyIsInJlc3VsdHMiLCJlbGV2YXRpb25zIiwieiIsImluZm8iLCJvbkZhaWx1cmUiLCJtZXNzYWdlIiwic3NsIiwiR3AiLCJTZXJ2aWNlcyIsImdldEFsdGl0dWRlIiwib25Nb3VzZVBvc2l0aW9uUHJvamVjdGlvblN5c3RlbUNoYW5nZSIsImlkeCIsInNlbGVjdGVkSW5kZXgiLCJsb2ciLCJvbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtTW91c2VPdmVyIiwiZ2xvYmVFeHRlbnQiLCJnZXRFeHRlbnQiLCJ3ZXN0Iiwic291dGgiLCJlYXN0Iiwibm9ydGgiLCJvbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uVW5pdHNDaGFuZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFJQSxNQUFNLEdBQUdDLHFFQUFNLENBQUNDLFNBQVAsQ0FBaUIsZUFBakIsQ0FBYjtBQUVBOzs7Ozs7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VSxDQUFDdEQsV0FBWCxDQUF1Qm9DLE1BQXZCO0FBQ0g7QUFDSixDQTlDRDtBQWdEQTs7Ozs7Ozs7Ozs7QUFTQTlELGFBQWEsQ0FBQ2MsU0FBZCxDQUF3QjZOLG9DQUF4QixHQUErRCxVQUFVbkMsQ0FBVixFQUFhO0FBQ3hFLE1BQUl5QixHQUFHLEdBQUd6QixDQUFDLENBQUM1TCxNQUFGLENBQVNzTixhQUFuQjtBQUNBLE1BQUlsSyxLQUFLLEdBQUd3SSxDQUFDLENBQUM1TCxNQUFGLENBQVNYLE9BQVQsQ0FBaUJnTyxHQUFqQixFQUFzQmpLLEtBQWxDO0FBRUEsT0FBS3VELHVCQUFMLEdBQStCdkQsS0FBL0IsQ0FKd0UsQ0FNeEU7O0FBQ0EsTUFBSSxDQUFDLEtBQUtqQyxVQUFWLEVBQXNCO0FBQ2xCLFNBQUtNLFdBQUw7QUFDSDtBQUNKLENBVkQ7O0FBWWVyQyw0RUFBZiIsImZpbGUiOiIuL3NyYy9JdG93bnMvQ29udHJvbHMvTW91c2VQb3NpdGlvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9qNCBmcm9tIFwicHJvajRcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBHcCBmcm9tIFwiZ2VvcG9ydGFsLWFjY2Vzcy1saWJcIjtcbmltcG9ydCBHbG9iZVZpZXdFeHRlbmRlZCBmcm9tIFwiLi4vR2xvYmVWaWV3RXh0ZW5kZWRcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzXCI7XG5pbXBvcnQgUmlnaHRNYW5hZ2VtZW50IGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvQ2hlY2tSaWdodE1hbmFnZW1lbnRcIjtcbmltcG9ydCBTZWxlY3RvcklEIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvU2VsZWN0b3JJRFwiO1xuaW1wb3J0IE1vdXNlUG9zaXRpb25ET00gZnJvbSBcIi4uLy4uL0NvbW1vbi9Db250cm9scy9Nb3VzZVBvc2l0aW9uRE9NXCI7XG5pbXBvcnQgV2lkZ2V0IGZyb20gXCIuL1dpZGdldFwiO1xuaW1wb3J0IFBvc2l0aW9uRm9ybWF0ZXIgZnJvbSBcIi4vVXRpbHMvUG9zaXRpb25Gb3JtYXRlclwiO1xuaW1wb3J0IENSUyBmcm9tIFwiLi4vQ1JTL0NSU1wiO1xuXG52YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcIk1vdXNlUG9zaXRpb25cIik7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIE1vdXNlUG9zaXRpb24gQ29udHJvbC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBpdG93bnMuY29udHJvbC5Nb3VzZVBvc2l0aW9uXG4gKiBAZXh0ZW5kcyB7aXRvd25zLmNvbnRyb2wuQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgZnVuY3Rpb24gY2FsbC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3NsID0gdHJ1ZV0gLSB1c2Ugb2Ygc3NsIG9yIG5vdCAoZGVmYXVsdCB0cnVlLCBzZXJ2aWNlIHJlcXVlc3RlZCB1c2luZyBodHRwcyBwcm90b2NvbClcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29sbGFwc2VkID0gdHJ1ZV0gLSBTcGVjaWZ5IGlmIE1vdXNlUG9zaXRpb24gY29udHJvbCBzaG91bGQgYmUgY29sbGFwc2VkIGF0IHN0YXJ0dXAuIERlZmF1bHQgaXMgdHJ1ZS5cbiAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMuc3lzdGVtc10gLSBsaXN0IG9mIHByb2plY3Rpb24gc3lzdGVtcywgZGVmYXVsdCBhcmUgR2VvZ3JhcGhpY2FsIChcIkVQU0c6NDMyNlwiKSwgV2ViIE1lcmNhdG9yIChcIkVQU0c6Mzg1N1wiKSwgTGFtYmVydCA5MyAoXCJFUFNHOjIxNTRcIikgYW5kIGV4dGVuZGVkIExhbWJlcnQgMiAoXCJFUFNHOjI3NTcyXCIpLlxuICogICAgICBFYWNoIGFycmF5IGVsZW1lbnQgKD1zeXN0ZW0pIGlzIGFuIG9iamVjdCB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzIDpcbiAqIEBwYXJhbSB7U3RyaW5nfSAgb3B0aW9ucy5zeXN0ZW1zLmNycyAtIFByb2o0IGNycyBhbGlhcyAoZnJvbSBwcm9qNCBkZWZzKS4gZS5nLiA6IFwiRVBTRzo0MzI2XCIuIFJlcXVpcmVkXG4gKiBAcGFyYW0ge1N0cmluZ30gIFtvcHRpb25zLnN5c3RlbXMubGFiZWxdIC0gQ1JTIGxhYmVsIHRvIGJlIGRpc3BsYXllZCBpbiBjb250cm9sLiBEZWZhdWx0IGlzIGNycyBjb2RlIChlLmcuIFwiRVBTRzo0MzI2XCIpXG4gKiBAcGFyYW0ge1N0cmluZ30gIG9wdGlvbnMuc3lzdGVtcy50eXBlIC0gQ1JTIHVuaXRzIHR5cGUgZm9yIGNvb3JkaW5hdGVzIGNvbnZlcnNpb24gOiBcIkdlb2dyYXBoaWNhbFwiIG9yIFwiTWV0cmljXCIuIERlZmF1bHQ6IFwiTWV0cmljXCJcbiAqIEBwYXJhbSB7T2JqZWN0fSAgW29wdGlvbnMuc3lzdGVtcy5nZW9CQm94XSAtIEFlcmEgY292ZXJlZCBieSB0aGUgc3lzdGVtIChXR1M4NCBjb29yZGluYXRlcykuXG4gKiBAcGFyYW0ge051bWJlcn0gIG9wdGlvbnMuc3lzdGVtcy5nZW9CQm94LnJpZ2h0IC0gUmlnaHQgYm91bmQuXG4gKiBAcGFyYW0ge051bWJlcn0gIG9wdGlvbnMuc3lzdGVtcy5nZW9CQm94LmxlZnQgLSBMZWZ0IGJvdW5kLlxuICogQHBhcmFtIHtOdW1iZXJ9ICBvcHRpb25zLnN5c3RlbXMuZ2VvQkJveC50b3AgLSBUb3AgYm91bmQuXG4gKiBAcGFyYW0ge051bWJlcn0gIG9wdGlvbnMuc3lzdGVtcy5nZW9CQm94LmJvdHRvbSAtIEJvdHRvbSBib3VuZC5cbiAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMudW5pdHNdIC0gbGlzdCBvZiBjb29yZGluYXRlcyB1bml0cywgdG8gYmUgZGlzcGxheWVkIGluIGNvbnRyb2wgdW5pdHMgbGlzdC5cbiAqICAgICAgVmFsdWVzIG1heSBiZSBcIkRFQ1wiIChkZWNpbWFsIGRlZ3JlZXMpLCBcIkRNU1wiIChzZXhhZ2VjaW1hbCksIFwiUkFEXCIgKHJhZGlhbnMpIGFuZCBcIkdPTlwiIChncmFkZXMpIGZvciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gKiAgICAgIGFuZCBcIk1cIiBvciBcIktNXCIgZm9yIG1ldHJpYyBjb29yZGluYXRlc1xuICogQHBhcmFtIHtBcnJheX0gICBbb3B0aW9ucy5kaXNwbGF5QWx0aXR1ZGUgPSB0cnVlXSAtIGFjdGl2YXRlICh0cnVlKSBvciBkZWFjdGl2YXRlIChmYWxzZSkgdGhlIGFsdGl0dWRlIHBhbmVsLiBUcnVlIGJ5IGRlZmF1bHRcbiAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMuZGlzcGxheUNvb3JkaW5hdGVzID0gdHJ1ZV0gLSBhY3RpdmF0ZSAodHJ1ZSkgb3IgZGVhY3RpdmF0ZSAoZmFsc2UpIHRoZSBjb29yZGluYXRlcyBwYW5lbC4gVHJ1ZSBieSBkZWZhdWx0XG4gKiBAcGFyYW0ge09iamVjdH0gIFtvcHRpb25zLmFsdGl0dWRlXSAtIGVsZXZhdGlvbiBjb25maWd1cmF0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gIFtvcHRpb25zLmFsdGl0dWRlLnNlcnZpY2VPcHRpb25zXSAtIG9wdGlvbnMgb2YgZWxldmF0aW9uIHNlcnZpY2VcbiAqIEBwYXJhbSB7TnVtYmVyfSAgW29wdGlvbnMuYWx0aXR1ZGUucmVzcG9uc2VEZWxheV0gLSBsYXRlbmN5IGZvciBhbHRpdHVkZSByZXF1ZXN0LCA1MDAgbXMgYnkgZGVmYXVsdFxuICogQHBhcmFtIHtOdW1iZXJ9ICBbb3B0aW9ucy5hbHRpdHVkZS50cmlnZ2VyRGVsYXldIC0gaW1tb2JpbGlzYXRpb24gdGltZSBvZiBtb3ZlbWVudCBvbiB0aGUgZ2xvYmUgdG8gdHJpZ2dlciB0aGUgZWxldmF0aW9uIGNhbGN1bGF0aW9uLCAyMDAgbXMgYnkgZGVmYXVsdFxuICogQGV4YW1wbGVcbiAqICB2YXIgbW91c2VQb3NpdGlvbiA9IG5ldyBpdG93bnMuY29udHJvbC5Nb3VzZVBvc2l0aW9uKHtcbiAqICAgICAgY29sbGFwc2VkIDogZmFsc2UsXG4gKiAgICAgIGRpc3BsYXlDb29yZGluYXRlcyA6IHRydWUsXG4gKiAgICAgIGRpc3BsYXlBbHRpdHVkZSA6IHRydWUsXG4gKiAgICAgIGFsdGl0dWRlIDoge1xuICogICAgICAgICAgIHRyaWdnZXJEZWxheSA6IDEwMCxcbiAqICAgICAgICAgICByZXNwb25zZURlbGF5IDogNTAwLFxuICogICAgICAgICAgIHNlcnZpY2VPcHRpb25zIDoge31cbiAqICAgICAgfSxcbiAqICAgICAgc3lzdGVtcyA6IFtcbiAqICAgICAgIHtcbiAqICAgICAgICAgIGNycyA6IFwiRVBTRzozODU3XCIsXG4gKiAgICAgICAgICBsYWJlbCA6IFwiTWVyY2F0b3JcIixcbiAqICAgICAgICAgIHR5cGUgOiBcIk1ldHJpY1wiXG4gKiAgICAgICAgfSxcbiAqICAgICAgIHtcbiAqICAgICAgICAgIGNycyA6IFwiRVBTRzozMjYyMFwiLFxuICogICAgICAgICAgbGFiZWwgOiBcIlVUTSAyME4gKEd1YWRlbG91cGUsIE1hcnRpbmlxdWUpXCIsXG4gKiAgICAgICAgICB0eXBlIDogXCJNZXRyaWNcIixcbiAqICAgICAgICAgIGdlb0JCb3ggOiB7XG4gKiAgICAgICAgICAgICAgbGVmdDogLTY2LjAwLFxuICogICAgICAgICAgICAgIGJvdHRvbSA6IDAuMDAsXG4gKiAgICAgICAgICAgICAgcmlnaHQgOiAtNjAuMDAsXG4gKiAgICAgICAgICAgICAgdG9wIDogODQuMDBcbiAqICAgICAgICAgIH1cbiAqICAgICAgICB9XG4gKiAgICAgIF0sXG4gKiAgICAgIHVuaXRzIDogW1wiREVDXCIsIFwiRE1TXCJdXG4gKiAgfSk7XG4gKi9cbmZ1bmN0aW9uIE1vdXNlUG9zaXRpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNb3VzZVBvc2l0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRVJST1IgQ0xBU1NfQ09OU1RSVUNUT1JcIik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgV1JPTkdfVFlQRSA6IG9wdGlvbnMgc2hvdWxkIGJlIGFuIG9iamVjdFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0aWFsaXplKG9wdGlvbnMpO1xuXG4gICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG5cbiAgICAvLyBpbml0IGNvbnRyb2wgRE9NIGNvbnRhaW5lclxuICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9pbml0Q29udGFpbmVyKG9wdGlvbnMpO1xuXG4gICAgV2lkZ2V0LmNhbGwoXG4gICAgICAgIHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWUgOiBcIk1vdXNlUG9zaXRpb25cIixcbiAgICAgICAgICAgIGVsZW1lbnQgOiBjb250YWluZXIsXG4gICAgICAgICAgICB0YXJnZXQgOiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgICAgIHBvc2l0aW9uIDogb3B0aW9ucy5wb3NpdGlvblxuICAgICAgICB9XG4gICAgKTtcbn07XG5cbi8qKlxuICogQGxlbmRzIG1vZHVsZTpNb3VzZVBvc2l0aW9uXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShXaWRnZXQucHJvdG90eXBlLCB7fSk7XG5cblV0aWxzLmFzc2lnbihNb3VzZVBvc2l0aW9uLnByb3RvdHlwZSwgTW91c2VQb3NpdGlvbkRPTSk7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgKGFsaWFzKVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1vdXNlUG9zaXRpb247XG5cbi8qKlxuICogQmluZCBnbG9iZSB0byBjb250cm9sXG4gKlxuICogQHBhcmFtIHtHbG9iZVZpZXdFeHRlbmRlZH0gZ2xvYmUgLSB0aGUgZ2xvYmVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuc2V0R2xvYmUgPSBmdW5jdGlvbiAoZ2xvYmUpIHtcbiAgICBpZiAoZ2xvYmUpIHsgLy8gSW4gdGhlIGNhc2Ugb2YgdGhlIGFkZGluZyBvZiBhIGNvbnRyb2wgdG8gdGhlIGdsb2JlXG4gICAgICAgIHRoaXMuX2NlbnRlckVsZW1lbnQgPSB0aGlzLl9jcmVhdGVNYXBDZW50ZXIoKTtcbiAgICAgICAgZ2xvYmUuZ2V0VGFyZ2V0RWxlbWVudCgpLmFwcGVuZENoaWxkKHRoaXMuX2NlbnRlckVsZW1lbnQpO1xuXG4gICAgICAgIC8vIGRlZmluZXMgdGhlIGNhbGxiYWNrIG9uIHRoZSBtYXAgdG8gcmV0cmlldmUgdGhlIGNvb3JkaW5hdGVzXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5tb3VzZU1vdmUgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gdmFsaWQgZXZlbnQgZm9yIGRlc2t0b3AgbW9kZVxuICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNEZXNrdG9wKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmUubGlzdGVuKEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5NT1VTRV9NT1ZFLCB0aGlzLl9jYWxsYmFja3MubW91c2VNb3ZlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xvYmUubGlzdGVuKEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5DRU5URVJfQ0hBTkdFRCwgdGhpcy5vbkdsb2JlTW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGdsb2JlID09IG51bGwpIHsgLy8gaWYgZ2xvYmUgPT0gbnVsbCB3ZSByZW1vdmUgdGhlIE1QIGNvbnRyb2xcbiAgICAgICAgLy8gZGVsZXRlcyB0aGUgbGlzdGVuZXIgYXNzb2NpYXRlZCB0byB0aGUgbW91c2VQb3NpdGlvbiBjb250cm9sXG4gICAgICAgIHRoaXMuX2dsb2JlLmZvcmdldChHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuTU9VU0VfTU9WRSwgdGhpcy5fY2FsbGJhY2tzLm1vdXNlTW92ZSk7XG4gICAgICAgIC8vIGRlbGV0ZXMgdGhlIG1vdXNlUG9zaXRpb24gY29udHJvbCBET01cbiAgICAgICAgd2hpbGUgKHRoaXMuZ2V0RWxlbWVudCgpLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkucmVtb3ZlQ2hpbGQodGhpcy5nZXRFbGVtZW50KCkubGFzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZ2V0RWxlbWVudCgpKTtcbiAgICAgICAgdGhpcy5fZ2xvYmUuZ2V0VGFyZ2V0RWxlbWVudCgpLnJlbW92ZUNoaWxkKHRoaXMuX2NlbnRlckVsZW1lbnQpO1xuICAgIH1cbiAgICAvLyBjYWxsIG9yaWdpbmFsIHNldEdsb2JlIG1ldGhvZFxuICAgIFdpZGdldC5wcm90b3R5cGUuc2V0R2xvYmUuY2FsbCh0aGlzLCBnbG9iZSk7XG59O1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyB1c2VyIGludGVyZmFjZSBtZXRob2RzICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbi8qKlxuICogU2V0cyBhZGRpdGlvbmFsIHByb2plY3Rpb24gc3lzdGVtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN5c3RlbSAtIFByb2plY3Rpb24gc3lzdGVtIGRlZmluZWQgaW4gdGhlIEl0b3ducy9DUlMvQ1JTLmpzIGNsYXNzXG4gKiBAcGFyYW0ge1N0cmluZ30gc3lzdGVtLmNycyAtIFByb2o0IGNycyBhbGlhcyAoZnJvbSBwcm9qNCBkZWZzKSBlLmcuIFwiRVBTRzo0MzI2XCJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbc3lzdGVtLmxhYmVsXSAtIENSUyBsYWJlbCB0byBiZSBkaXNwbGF5ZWQgaW4gY29udHJvbC4gRGVmYXVsdCBpcyBzeXN0ZW0uY3JzIGFsaWFzXG4gKiBAcGFyYW0ge1N0cmluZ30gW3N5c3RlbS50eXBlXSAtIENSUyB1bml0cyB0eXBlIGZvciBjb29yZGluYXRlcyBjb252ZXJzaW9uIChvbmUgb2YgY29udHJvbCBvcHRpb25zLnVuaXRzKS4gRGVmYXVsdCBpcyBcIk1ldHJpY1wiXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLmFkZFN5c3RlbSA9IGZ1bmN0aW9uIChzeXN0ZW0pIHtcbiAgICBpZiAodHlwZW9mIHN5c3RlbSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJNb3VzZVBvc2l0aW9uOmFkZFN5c3RlbSAtIHN5c3RlbSBwYXJhbWV0ZXIgc2hvdWxkIGJlIGFuIG9iamVjdFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXN5c3RlbS5jcnMpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiY3JzIG5vdCBkZWZpbmVkICFcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzeXN0ZW0ubGFiZWwpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oXCJjcnMgbGFiZWwgbm90IGRlZmluZWQsIHVzZSBjcnMgY29kZSBieSBkZWZhdWx0LlwiKTtcbiAgICAgICAgc3lzdGVtLmxhYmVsID0gc3lzdGVtLmNycztcbiAgICB9XG4gICAgaWYgKCFzeXN0ZW0udHlwZSkge1xuICAgICAgICBsb2dnZXIud2FybihcInR5cGUgc3JzIG5vdCBkZWZpbmVkLCB1c2UgJ01ldHJpYycgYnkgZGVmYXVsdC5cIik7XG4gICAgICAgIHN5c3RlbS50eXBlID0gXCJNZXRyaWNcIjtcbiAgICB9XG5cbiAgICAvLyAxLiBhZGRzIHN5c3RlbSB0byBjb250cm9sIHN5c3RlbXNcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBvYmogPSB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtc1tqXTtcbiAgICAgICAgaWYgKHN5c3RlbS5jcnMgPT09IG9iai5jcnMpIHtcbiAgICAgICAgICAgIC8vIHdhcm4gdXNlclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJjcnMgJ3t9JyBhbHJlYWR5IGNvbmZpZ3VyZWRcIiwgb2JqLmNycyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzeXN0ZW0uY29kZSA9IHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zLmxlbmd0aDtcbiAgICB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtcy5wdXNoKHN5c3RlbSk7XG5cbiAgICAvLyAyLiBhZGRzIHN5c3RlbSBzZXR0aW5ncyBvcHRpb24gdG8gY29udGFpbmVyIChpZiBpdCB3YXMgYWxyZWFkeSBidWlsZClcbiAgICB2YXIgc2VsZWN0U3lzdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fYWRkVUlEKFwiR1Btb3VzZVBvc2l0aW9uUHJvamVjdGlvblN5c3RlbVwiKSk7XG4gICAgaWYgKHNlbGVjdFN5c3RlbSkge1xuICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gc3lzdGVtLmNvZGU7XG4gICAgICAgIG9wdGlvbi50ZXh0ID0gc3lzdGVtLmxhYmVsO1xuICAgICAgICBzZWxlY3RTeXN0ZW0uYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldHMgYWRkaXRpb25hbCBwcm9qZWN0aW9uIHN5c3RlbXNcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBzeXN0ZW1zIC0gQXJyYXkgb2Ygc3lzdGVtIG9iamVjdCwgd2l0aCBmb2xsb3dpbmcgcHJvcGVydGllcyA6XG4gKiBAcGFyYW0ge1N0cmluZ30gc3lzdGVtcy5jcnMgLSBQcm9qNCBDUlMgYWxpYXMgKGZyb20gcHJvajQgZGVmcykgZS5nLiBcIkVQU0c6NDMyNlwiXG4gKiBAcGFyYW0ge1N0cmluZ30gc3lzdGVtcy5sYWJlbCAtIENSUyBsYWJlbCAoZm9yIGNvb3JkaW5hdGVzIGNvbnZlcnNpb24pXG4gKiBAcGFyYW0ge1N0cmluZ30gc3lzdGVtcy50eXBlIC0gQ1JTIHVuaXRzIHR5cGUgdG8gYmUgZGlzcGxheWVkIGluIGNvbnRyb2wgKG9uZSBvZiBjb250cm9sIG9wdGlvbnMudW5pdHMpLiBEZWZhdWx0IGlzIFwiTWV0cmljXCJcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuYWRkU3lzdGVtcyA9IGZ1bmN0aW9uIChzeXN0ZW1zKSB7XG4gICAgaWYgKCFzeXN0ZW1zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHN5c3RlbXMpKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIk1vdXNlUG9zaXRpb246YWRkU3lzdGVtcyAtIHN5c3RlbXMgcGFyYW1ldGVyIHNob3VsZCBiZSBhbiBhcnJheVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5c3RlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5hZGRTeXN0ZW0oc3lzdGVtc1tpXSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmVzIHByb2plY3Rpb24gc3lzdGVtIChpbiBjYXNlIHRoZXJlIGFyZSBzZXZlcmFsIHN5c3RlbSB3aXRoIHNhbWUgY29kZSwgb25seSB0aGUgZmlyc3Qgb25lIHdpbGwgYmUgcmVtb3ZlZClcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3lzdGVtQ3JzIC0gQ1JTIGFsaWFzIChmcm9tIHByb2o0IGRlZnMpXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLnJlbW92ZVN5c3RlbSA9IGZ1bmN0aW9uIChzeXN0ZW1DcnMpIHtcbiAgICBpZiAoIXN5c3RlbUNycyB8fCB0eXBlb2Ygc3lzdGVtQ3JzICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIk1vdXNlUG9zaXRpb246cmVtb3ZlU3lzdGVtIC0gc3lzdGVtQ29kZSBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHN5c3RlbUNvZGUgPSBudWxsO1xuICAgIC8vIGZpbmRzIHN5c3RlbSBpbiBjb250cm9sIHByb2plY3Rpb24gc3lzdGVtcyBsaXN0XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcHJvaiA9IHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zW2ldO1xuICAgICAgICBpZiAoc3lzdGVtQ3JzID09PSBwcm9qLmNycykge1xuICAgICAgICAgICAgc3lzdGVtQ29kZSA9IHByb2ouY29kZTtcbiAgICAgICAgICAgIC8vIHJlbW92ZXMgc3lzdGVtIGZyb20gY29udHJvbCBwcm9qZWN0aW9uIHN5c3RlbXMgbGlzdFxuICAgICAgICAgICAgdGhpcy5fcHJvamVjdGlvblN5c3RlbXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3lzdGVtQ29kZSA9PSBudWxsKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiTW91c2VQb3NpdGlvbjpyZW1vdmVTeXN0ZW0gLSBzeXN0ZW0gbm90IGZvdW5kXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmUtaW5pdGlhbGl6YXRpb24gb2YgY29kZXNcbiAgICB2YXIgb2xkTmV3Q29kZUdsb2JlID0gW107XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBvbGROZXdDb2RlR2xvYmVbTnVtYmVyKHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zW2lpXS5jb2RlKV0gPSBpaTtcbiAgICAgICAgdGhpcy5fcHJvamVjdGlvblN5c3RlbXNbaWldLmNvZGUgPSBpaTtcbiAgICB9XG5cbiAgICAvLyBmaW5kcyBzeXN0ZW0gaW4gY29udHJvbCBjb250YWluZXIgc3lzdGVtcyBsaXN0XG4gICAgdmFyIGluZGV4Q2hpbGRUb1JlbW92ZSA9IG51bGw7XG4gICAgdmFyIHN5c3RlbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtXCIpKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN5c3RlbUxpc3QuY2hpbGROb2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoc3lzdGVtQ29kZSA9PT0gc3lzdGVtTGlzdC5jaGlsZE5vZGVzW2pdLnZhbHVlKSB7XG4gICAgICAgICAgICBpbmRleENoaWxkVG9SZW1vdmUgPSBqO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc3lzdGVtTGlzdC5jaGlsZE5vZGVzW2pdLnZhbHVlID0gb2xkTmV3Q29kZUdsb2JlW051bWJlcihzeXN0ZW1MaXN0LmNoaWxkTm9kZXNbal0udmFsdWUpXTtcbiAgICB9XG4gICAgLy8gcmVtb3ZlcyBzeXN0ZW0gZnJvbSBjb250cm9sIGNvbnRhaW5lciBzeXN0ZW1zIGxpc3RcbiAgICBpZiAoaW5kZXhDaGlsZFRvUmVtb3ZlICE9IG51bGwpIHtcbiAgICAgICAgc3lzdGVtTGlzdC5yZW1vdmVDaGlsZChzeXN0ZW1MaXN0LmNoaWxkTm9kZXNbaW5kZXhDaGlsZFRvUmVtb3ZlXSk7XG4gICAgfVxuXG4gICAgLy8gY2hvb3NlIGFyYml0cmFyaWx5IGEgbmV3IGN1cnJlbnQgc3lzdGVtIGlmIG5lZWRlZFxuICAgIGlmICh0aGlzLl9jdXJyZW50UHJvamVjdGlvblN5c3RlbXMuY29kZSA9PT0gc3lzdGVtQ29kZSkge1xuICAgICAgICBzeXN0ZW1MaXN0LmNoaWxkTm9kZXNbMF0uc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgdGhpcy5fc2V0Q3VycmVudFN5c3RlbShzeXN0ZW1MaXN0LmNoaWxkTm9kZXNbMF0udmFsdWUpO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0cyBjb250cm9sIHVuaXRzICh0byBiZSBkaXNwbGF5ZWQpXG4gKlxuICogQHBhcmFtIHtBcnJheX0gdW5pdHMgLSBsaXN0IG9mIGFsbCBjb29yZGluYXRlcyB1bml0cywgdG8gYmUgZGlzcGxheWVkIGluIGNvbnRyb2wgdW5pdHMgbGlzdC5cbiAqICAgICAgVmFsdWVzIG1heSBiZSBcIkRFQ1wiIChkZWNpbWFsIGRlZ3JlZXMpLCBcIkRNU1wiIChzZXhhZ2VjaW1hbCksIFwiUkFEXCIgKHJhZGlhbnMpIGFuZCBcIkdPTlwiIChncmFkZXMpIGZvciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gKiAgICAgIGFuZCBcIk1cIiBvciBcIktNXCIgZm9yIG1ldHJpYyBjb29yZGluYXRlc1xuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5zZXRVbml0cyA9IGZ1bmN0aW9uICh1bml0cykge1xuICAgIGlmICghdW5pdHMgfHwgIUFycmF5LmlzQXJyYXkodW5pdHMpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zLnVuaXRzID0gdW5pdHM7XG4gICAgdGhpcy5fcHJvamVjdGlvblVuaXRzID0ge307XG4gICAgdGhpcy5faW5pdFByb2plY3Rpb25Vbml0cygpO1xuICAgIGlmICh0aGlzLl9jdXJyZW50UHJvamVjdGlvblR5cGUpIHtcbiAgICAgICAgdGhpcy5fc2V0VHlwZVVuaXRzUGFuZWwodGhpcy5fY3VycmVudFByb2plY3Rpb25UeXBlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldHMgY29udHJvbCBhbHRpdHVkZSBvcHRpb25zICh1c2VsZXNzIGlmIGRpc3BsYXlBbHRpdHVkZSA9PSBmYWxzZSlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIGFsdGl0dWRlIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSAgW29wdGlvbnMuc2VydmljZU9wdGlvbnNdIC0gb3B0aW9ucyBvZiBlbGV2YXRpb24gc2VydmljZVxuICogQHBhcmFtIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXNwb25zZURlbGF5XSAtIGxhdGVuY3kgZm9yIGVsZXZhdGlvbiByZXF1ZXN0LCA1MDAgbXMgYnkgZGVmYXVsdFxuICogQHBhcmFtIHtOdW1iZXJ9ICBbb3B0aW9ucy50cmlnZ2VyRGVsYXldIC0gaW1tb2JpbGlzYXRpb24gdGltZSBvZiBtb3ZlbWVudCBvbiB0aGUgZ2xvYmUgdG8gdHJpZ2dlciB0aGUgZWxldmF0aW9uIGNhbGN1bGF0aW9uLCAyMDAgbXMgYnkgZGVmYXVsdFxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5zZXRBbHRpdHVkZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMub3B0aW9ucy5hbHRpdHVkZS50cmlnZ2VyRGVsYXkgPSBvcHRpb25zLnRyaWdnZXJEZWxheTtcbiAgICB0aGlzLm9wdGlvbnMuYWx0aXR1ZGUucmVzcG9uc2VEZWxheSA9IG9wdGlvbnMucmVzcG9uc2VEZWxheTtcbiAgICBpZiAob3B0aW9ucy5zZXJ2aWNlT3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucy5zZXJ2aWNlT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2VydmljZU9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5hbHRpdHVkZS5zZXJ2aWNlT3B0aW9uc1tvcHRdID0gb3B0aW9ucy5zZXJ2aWNlT3B0aW9uc1tvcHRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBEaXNwbGF5cyBvciBoaWRlcyBlbGV2YXRpb24gcGFuZWxcbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc3BsYXlBbHRpdHVkZSAtIHRydWUgdG8gZGlzcGxheSBlbGV2YXRpb24gcGFuZWwsIGZhbHNlIHRvIGhpZGUgaXRcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuZGlzcGxheUFsdGl0dWRlID0gZnVuY3Rpb24gKGRpc3BsYXlBbHRpdHVkZSkge1xuICAgIGlmIChkaXNwbGF5QWx0aXR1ZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5fbm9SaWdodE1hbmFnZW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tSaWdodHNNYW5hZ2VtZW50KCk7XG4gICAgfVxuICAgIHRoaXMub3B0aW9ucy5kaXNwbGF5QWx0aXR1ZGUgPSBkaXNwbGF5QWx0aXR1ZGU7XG4gICAgdGhpcy5fc2V0RWxldmF0aW9uUGFuZWwoZGlzcGxheUFsdGl0dWRlKTtcbn07XG5cbi8qKlxuICogRGlzcGxheXMgb3IgaGlkZXMgY29vcmRpbmF0ZXMgcGFuZWxcbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc3BsYXlDb29yZGluYXRlcyAtIHRydWUgdG8gZGlzcGxheSBjb29yZGluYXRlcyBwYW5lbCwgZmFsc2UgdG8gaGlkZSBpdFxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5kaXNwbGF5Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoZGlzcGxheUNvb3JkaW5hdGVzKSB7XG4gICAgaWYgKGRpc3BsYXlDb29yZGluYXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zLmRpc3BsYXlDb29yZGluYXRlcyA9IGRpc3BsYXlDb29yZGluYXRlcztcbiAgICB0aGlzLl9zZXRDb29yZGluYXRlc1BhbmVsKGRpc3BsYXlDb29yZGluYXRlcyk7XG4gICAgdGhpcy5fc2V0U2V0dGluZ3NQYW5lbChkaXNwbGF5Q29vcmRpbmF0ZXMpO1xufTtcblxuLyoqXG4gKiBDb2xsYXBzZXMgb3IgZGlzcGxheXMgY29udHJvbCBtYWluIGNvbnRhaW5lclxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY29sbGFwc2VkIC0gVHJ1ZSB0byBjb2xsYXBzZSBjb250cm9sLCBGYWxzZSB0byBkaXNwbGF5IGl0XG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLnNldENvbGxhcHNlZCA9IGZ1bmN0aW9uIChjb2xsYXBzZWQpIHtcbiAgICBpZiAoY29sbGFwc2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiTW91c2VQb3NpdGlvbjpzZXRDb2xsYXBzZWQgLSBtaXNzaW5nIGNvbGxhcHNlZCBwYXJhbWV0ZXJcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKChjb2xsYXBzZWQgJiYgdGhpcy5jb2xsYXBzZWQpIHx8ICghY29sbGFwc2VkICYmICF0aGlzLmNvbGxhcHNlZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2lzRGVza3RvcCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1hcENlbnRlclwiKSkuY2xhc3NOYW1lID0gY29sbGFwc2VkID8gXCJcIiA6IFwiR1BtYXBDZW50ZXJWaXNpYmxlXCI7XG4gICAgfVxuICAgIC8vIHNpbXVsYXRlcyB0aGUgb3BlbmluZyBvZiB0aGUgcGFuZWwgYWZ0ZXIgYSBjbGlja1xuICAgIHRoaXMub25TaG93TW91c2VQb3NpdGlvbkNsaWNrKCk7XG4gICAgdGhpcy5fc2hvd01vdXNlUG9zaXRpb25Db250YWluZXIuY2hlY2tlZCA9ICFjb2xsYXBzZWQ7XG59O1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgaW5pdGlhbGl6ZSBjb250cm9sICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgY29udHJvbCAoY2FsbGVkIGJ5IE1vdXNlUG9zaXRpb24gY29uc3RydWN0b3IpXG4gKlxuICogQG1ldGhvZCBfaW5pdGlhbGl6ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBjb250cm9sIG9wdGlvbnMgKHNldCBieSB1c2VyKVxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuX2luaXRpYWxpemUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIFNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICAvLyB7T2JqZWN0fSBjb250cm9sIG9wdGlvbnMgLSBzZXQgYnkgdXNlciBvciBieSBkZWZhdWx0XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLm9wdGlvbnMuY29sbGFwc2VkID0gKG9wdGlvbnMuY29sbGFwc2VkICE9PSB1bmRlZmluZWQpID8gb3B0aW9ucy5jb2xsYXBzZWQgOiB0cnVlO1xuICAgIC8qKiB7Qm9vbGVhbn0gc3BlY2lmeSBpZiBNb3VzZVBvc2l0aW9uIGNvbnRyb2wgaXMgY29sbGFwc2VkICh0cnVlKSBvciBub3QgKGZhbHNlKSAqL1xuICAgIHRoaXMuY29sbGFwc2VkID0gdGhpcy5vcHRpb25zLmNvbGxhcHNlZDtcbiAgICB0aGlzLm9wdGlvbnMudW5pdHMgPSBvcHRpb25zLnVuaXRzIHx8IFtdO1xuICAgIHRoaXMub3B0aW9ucy5kaXNwbGF5QWx0aXR1ZGUgPSAob3B0aW9ucy5kaXNwbGF5QWx0aXR1ZGUgIT09IHVuZGVmaW5lZCkgPyBvcHRpb25zLmRpc3BsYXlBbHRpdHVkZSA6IHRydWU7XG4gICAgdGhpcy5vcHRpb25zLmRpc3BsYXlDb29yZGluYXRlcyA9IChvcHRpb25zLmRpc3BsYXlDb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMuZGlzcGxheUNvb3JkaW5hdGVzIDogdHJ1ZTtcbiAgICB0aGlzLm9wdGlvbnMuc3lzdGVtcyA9IG9wdGlvbnMuc3lzdGVtcyB8fCBbXTtcbiAgICBpZiAob3B0aW9ucy5hbHRpdHVkZSkge1xuICAgICAgICB2YXIgYWx0aXR1ZGUgPSBvcHRpb25zLmFsdGl0dWRlO1xuICAgICAgICB0aGlzLm9wdGlvbnMuYWx0aXR1ZGUgPSB7XG4gICAgICAgICAgICB0cmlnZ2VyRGVsYXkgOiAoYWx0aXR1ZGUudHJpZ2dlckRlbGF5ICE9PSB1bmRlZmluZWQpID8gYWx0aXR1ZGUudHJpZ2dlckRlbGF5IDogMjAwLFxuICAgICAgICAgICAgcmVzcG9uc2VEZWxheSA6IChhbHRpdHVkZS5yZXNwb25zZURlbGF5ICE9PSB1bmRlZmluZWQpID8gYWx0aXR1ZGUucmVzcG9uc2VEZWxheSA6IDUwMCxcbiAgICAgICAgICAgIHNlcnZpY2VPcHRpb25zIDogYWx0aXR1ZGUuc2VydmljZU9wdGlvbnMgfHwge30sXG4gICAgICAgICAgICBub0RhdGFWYWx1ZSA6IChhbHRpdHVkZS5ub0RhdGFWYWx1ZSAhPT0gdW5kZWZpbmVkKSA/IGFsdGl0dWRlLm5vRGF0YVZhbHVlIDogLTk5OTk5LFxuICAgICAgICAgICAgbm9EYXRhVmFsdWVUb2xlcmFuY2UgOiAoYWx0aXR1ZGUubm9EYXRhVmFsdWVUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCkgPyBhbHRpdHVkZS5ub0RhdGFWYWx1ZVRvbGVyYW5jZSA6IDkwMDAwXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmFsdGl0dWRlID0ge1xuICAgICAgICAgICAgdHJpZ2dlckRlbGF5IDogMjAwLFxuICAgICAgICAgICAgcmVzcG9uc2VEZWxheSA6IDUwMCxcbiAgICAgICAgICAgIHNlcnZpY2VPcHRpb25zIDoge31cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBpZCBvZiB0aGUgd2lkZ2V0IDogdXNlZnVsbCB0byBzdWZmaXggdGhlIENTUyBpZHMgKHRvIGhhbmRsZSBjYXNlcyB3aXRoIHNldmVyYWwgd2lkZ2V0cyBvbiB0aGUgc2FtZSBwYWdlKVxuICAgIHRoaXMuX3VpZCA9IFNlbGVjdG9ySUQuZ2VuZXJhdGUoKTtcblxuICAgIC8vIGluaXRpYWxpemF0aW9uIG9mIHRoZSBwcm9qZWN0aW9ucyBzeXN0ZW1zXG4gICAgdGhpcy5fcHJvamVjdGlvblN5c3RlbXMgPSBbXTtcbiAgICB0aGlzLl9pbml0UHJvamVjdGlvblN5c3RlbXMoKTtcblxuICAgIC8vIGluaXRpYWxpemF0aW9uIG9mIHRoZSB1bml0cyBzeXN0ZW1zXG4gICAgdGhpcy5fcHJvamVjdGlvblVuaXRzID0ge307XG4gICAgdGhpcy5faW5pdFByb2plY3Rpb25Vbml0cygpO1xuXG4gICAgLy8gc3VwcG9ydCBkZXRlY3QgOiBkZXNrdG9wIG9yIHRhY3RpbGVcbiAgICB0aGlzLl9pc0Rlc2t0b3AgPSBVdGlscy5kZXRlY3RTdXBwb3J0KCk7XG5cbiAgICAvLyBpbXBsZW1lbnRzIGEgdGltZXIgdGhyZXNob2xkXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbHRpdHVkZS50cmlnZ2VyRGVsYXkgPCAxMDApIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmFsdGl0dWRlLnRyaWdnZXJEZWxheSA9IDEwMDtcbiAgICB9XG5cbiAgICAvLyB7TnVtYmVyfSB0aW1lciBvbiBtb3Zlc3RvcHBlZCBkZWxheSAoYWx0aXR1ZGUgY2FsY3VsYXRpb24pXG4gICAgdGhpcy5fdGltZXIgPSB0aGlzLm9wdGlvbnMuYWx0aXR1ZGUudHJpZ2dlckRlbGF5O1xuXG4gICAgLy8ge09iamVjdH0gU2VsZWN0ZWQgcHJvamVjdGlvbiBzeXN0ZW1cbiAgICB0aGlzLl9jdXJyZW50UHJvamVjdGlvblN5c3RlbXMgPSB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtc1swXTtcblxuICAgIC8vIHtTdHJpbmd9IFNlbGVjdGVkIHByb2plY3Rpb24gdW5pdHMgdHlwcyA6IEdlb2dyYXBoaWNhbCBvciBtZXRyaWNcbiAgICB0aGlzLl9jdXJyZW50UHJvamVjdGlvblR5cGUgPSB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtc1swXS50eXBlO1xuXG4gICAgLy8ge1N0cmluZ30gU2VsZWN0ZWQgcHJvamVjdGlvbiB1bml0XG4gICAgdGhpcy5fY3VycmVudFByb2plY3Rpb25Vbml0cyA9IHRoaXMuX3Byb2plY3Rpb25Vbml0c1t0aGlzLl9jdXJyZW50UHJvamVjdGlvblR5cGVdWzBdLmNvZGU7XG5cbiAgICAvLyB7T2JqZWN0fSBQcm9qZWN0aW9uIHVuaXRzIGNvbnRhaW5lciAoRE9NIEVsZW1lbnQpXG4gICAgdGhpcy5fcHJvamVjdGlvblVuaXRzQ29udGFpbmVyID0gbnVsbDtcblxuICAgIC8vIHtPYmplY3R9IGNvbnRyb2wgcGFuZWwgY29udGFpbmVyIChET00gRWxlbWVudClcbiAgICB0aGlzLl9zaG93TW91c2VQb3NpdGlvbkNvbnRhaW5lciA9IG51bGw7XG5cbiAgICAvLyBtYW5hZ2VtZW50IG9mIHRoZSBhbHRpdHVkZSBwYW5lbCBkaXNwbGF5XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzcGxheUFsdGl0dWRlICYmICF0aGlzLm9wdGlvbnMuZGlzcGxheUNvb3JkaW5hdGVzKSB7XG4gICAgICAgIC8vIHJlYWN0aXZhdGUgdGhlIGRpc3BsYXkgb2YgY29vcmRpbmF0ZXMsIHRvIG5vdCBkaXNwbGF5IGFuIGVtcHR5IHBhbmVsXG4gICAgICAgIHRoaXMub3B0aW9ucy5kaXNwbGF5Q29vcmRpbmF0ZXMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIHJpZ2h0cyBtYW5hZ2VtZW50IG9uIHJlc291cmNlcyBhbmQgc2VydmljZXNcbiAgICAvLyBpZiB3ZSB3YW50IGFuIGFsdGl0dWRlIGNhbGN1bGF0aW9uLCB3ZSBjaGVjayB0aGUgYWx0aSByZXNvdXJjZXMgcmlnaHRzLi4uXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNwbGF5QWx0aXR1ZGUpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tSaWdodHNNYW5hZ2VtZW50KCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIGNvbnN0cnVjdG9yIGFuZCBpbml0aWFsaXplIHRoZSBwcm9qZWN0aW9uXG4gKiBzeXN0ZW1zLlxuICogZ2V0dGluZyBjb29yZGluYXRlcyBpbiB0aGUgcmVxdWVzdGVkIHByb2plY3Rpb24gOlxuICogc2VlIHRoaXMub25Nb3VzZVBvc2l0aW9uUHJvamVjdGlvblN5c3RlbUNoYW5nZSgpXG4gKlxuICogQG1ldGhvZCBfaW5pdFByb2plY3Rpb25TeXN0ZW1zXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5faW5pdFByb2plY3Rpb25TeXN0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHVzZXIgaGFzIHRoZSBwb3NzaWJpbGl0eSB0byBtb2RpZnkgdGhlIGxpc3Qgb2Ygc3lzdGVtcyB0byBkaXNwbGF5XG4gICAgLy8gRXguIHRoaXMub3B0aW9ucy5zeXN0ZW1zXG5cbiAgICAvLyBhdmFpbGFibGUgcHJvamVjdGlvbiBzeXN0ZW1zIHZ5IGRlZmF1bHRcbiAgICB2YXIgcHJvamVjdGlvblN5c3RlbXNCeURlZmF1bHQgPSBbe1xuICAgICAgICBsYWJlbCA6IFwiR8Opb2dyYXBoaXF1ZVwiLFxuICAgICAgICBjcnMgOiBcIkVQU0c6NDMyNlwiLFxuICAgICAgICB0eXBlIDogXCJHZW9ncmFwaGljYWxcIlxuICAgIH0sIHtcbiAgICAgICAgbGFiZWwgOiBcIk1lcmNhdG9yXCIsXG4gICAgICAgIGNycyA6IFwiRVBTRzozODU3XCIsXG4gICAgICAgIHR5cGUgOiBcIk1ldHJpY1wiXG4gICAgfSwge1xuICAgICAgICBsYWJlbCA6IFwiTGFtYmVydCA5M1wiLFxuICAgICAgICBjcnMgOiBcIkVQU0c6MjE1NFwiLFxuICAgICAgICB0eXBlIDogXCJNZXRyaWNcIixcbiAgICAgICAgZ2VvQkJveCA6IHtcbiAgICAgICAgICAgIGxlZnQgOiAtOS44NixcbiAgICAgICAgICAgIGJvdHRvbSA6IDQxLjE1LFxuICAgICAgICAgICAgcmlnaHQgOiAxMC4zOCxcbiAgICAgICAgICAgIHRvcCA6IDUxLjU2XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGxhYmVsIDogXCJMYW1iZXJ0IElJIMOpdGVuZHVcIixcbiAgICAgICAgY3JzIDogXCJFUFNHOjI3NTcyXCIsXG4gICAgICAgIHR5cGUgOiBcIk1ldHJpY1wiLFxuICAgICAgICBnZW9CQm94IDoge1xuICAgICAgICAgICAgbGVmdCA6IC00Ljg3LFxuICAgICAgICAgICAgYm90dG9tIDogNDIuMzMsXG4gICAgICAgICAgICByaWdodCA6IDguMjMsXG4gICAgICAgICAgICB0b3AgOiA1MS4xNFxuICAgICAgICB9XG4gICAgfV07XG5cbiAgICB2YXIgc3lzdGVtcyA9IHRoaXMub3B0aW9ucy5zeXN0ZW1zO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3lzdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBkZWZpbml0aW9uIG9mIGEgcmVmZXJlbmNlIHN5c3RlbVxuICAgICAgICB2YXIgc3lzID0gc3lzdGVtc1tpXTtcbiAgICAgICAgdGhpcy5hZGRTeXN0ZW0oc3lzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcHJvamVjdGlvblN5c3RlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIHdlIGFkZCB0aGUgZGVmYXVsdCBwcm9qZWN0aW9uIHN5c3RlbXNcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHByb2plY3Rpb25TeXN0ZW1zQnlEZWZhdWx0Lmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgdGhpcy5hZGRTeXN0ZW0ocHJvamVjdGlvblN5c3RlbXNCeURlZmF1bHRbaWldKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHRoZSBjb25zdHJ1Y3RvciBhbmQgaW5pdGlhbGl6ZSB0aGUgdW5pdHMuXG4gKiBnZXR0aW5nIGNvb3JkaW5hdGVzIGluIHRoZSByZXF1ZXN0ZWQgdW5pdHMgOlxuICogc2VlIHRoaXMub25Nb3VzZVBvc2l0aW9uUHJvamVjdGlvblVuaXRzQ2hhbmdlKClcbiAqXG4gKiBAbWV0aG9kIF9pbml0UHJvamVjdGlvblVuaXRzXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5faW5pdFByb2plY3Rpb25Vbml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyB1c2VyIGhhcyB0aGUgcG9zc2liaWxpdHkgdG8gbW9kaWZ5IHRoZSBsaXN0IG9mIHVuaXRzIHRvIGRpc3BsYXlcbiAgICAvLyBFeC5cbiAgICAvLyB0aGlzLm9wdGlvbnMudW5pdHMgOiBbXCJERUNcIiwgXCJETVNcIl1cblxuICAgIC8vIGF2YWlsYWJsZSB1bml0cyBzeXN0ZW1zIGJ5IGRlZmF1bHRcbiAgICB2YXIgcHJvamVjdGlvblVuaXRzQnlEZWZhdWx0ID0ge1xuICAgICAgICBHZW9ncmFwaGljYWwgOiBbe1xuICAgICAgICAgICAgY29kZSA6IFwiREVDXCIsXG4gICAgICAgICAgICBsYWJlbCA6IFwiZGVncsOpcyBkw6ljaW1hdXhcIixcbiAgICAgICAgICAgIGNvbnZlcnQgOiB0aGlzLl9kaXNwbGF5REVDXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNvZGUgOiBcIkRNU1wiLFxuICAgICAgICAgICAgbGFiZWwgOiBcImRlZ3LDqXMgc2V4YWfDqXNpbWF1eFwiLFxuICAgICAgICAgICAgY29udmVydCA6IHRoaXMuX2Rpc3BsYXlETVNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY29kZSA6IFwiUkFEXCIsXG4gICAgICAgICAgICBsYWJlbCA6IFwicmFkaWFuc1wiLFxuICAgICAgICAgICAgY29udmVydCA6IHRoaXMuX2Rpc3BsYXlSQURcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY29kZSA6IFwiR09OXCIsXG4gICAgICAgICAgICBsYWJlbCA6IFwiZ3JhZGVzXCIsXG4gICAgICAgICAgICBjb252ZXJ0IDogdGhpcy5fZGlzcGxheUdPTlxuICAgICAgICB9XSxcbiAgICAgICAgTWV0cmljIDogW3tcbiAgICAgICAgICAgIGNvZGUgOiBcIk1cIixcbiAgICAgICAgICAgIGxhYmVsIDogXCJtw6h0cmVzXCIsXG4gICAgICAgICAgICBjb252ZXJ0IDogdGhpcy5fZGlzcGxheU1ldGVyXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNvZGUgOiBcIktNXCIsXG4gICAgICAgICAgICBsYWJlbCA6IFwia2lsb23DqHRyZXNcIixcbiAgICAgICAgICAgIGNvbnZlcnQgOiB0aGlzLl9kaXNwbGF5S01ldGVyXG4gICAgICAgIH1dXG4gICAgfTtcblxuICAgIHZhciB1bml0cyA9IHRoaXMub3B0aW9ucy51bml0cztcblxuICAgIGZvciAodmFyIHR5cGUgaW4gcHJvamVjdGlvblVuaXRzQnlEZWZhdWx0KSB7XG4gICAgICAgIGlmIChwcm9qZWN0aW9uVW5pdHNCeURlZmF1bHQuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcm9qZWN0aW9uVW5pdHNCeURlZmF1bHRbdHlwZV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gcHJvamVjdGlvblVuaXRzQnlEZWZhdWx0W3R5cGVdW2pdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVuaXQgPSB1bml0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5jb2RlID09PSB1bml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3Byb2plY3Rpb25Vbml0c1t0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2plY3Rpb25Vbml0c1t0eXBlXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvamVjdGlvblVuaXRzW3R5cGVdLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9qZWN0aW9uVW5pdHNbdHlwZV0gPSBwcm9qZWN0aW9uVW5pdHNCeURlZmF1bHRbdHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpbiBjYXNlIG9mLi4uXG4gICAgaWYgKHR5cGVvZiB0aGlzLl9wcm9qZWN0aW9uVW5pdHMgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXModGhpcy5fcHJvamVjdGlvblVuaXRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fcHJvamVjdGlvblVuaXRzID0gcHJvamVjdGlvblVuaXRzQnlEZWZhdWx0O1xuICAgIH1cbn07XG5cbi8qKlxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IGNvbnN0cnVjdG9yXG4gKiBhbmQgY2hlY2sgdGhlIHJpZ2h0cyB0byByZXNvdXJjZXNcbiAqXG4gKiBAbWV0aG9kIF9jaGVja1JpZ2h0c01hbmFnZW1lbnRcbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLl9jaGVja1JpZ2h0c01hbmFnZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJpZ2h0TWFuYWdlbWVudCA9IFJpZ2h0TWFuYWdlbWVudC5jaGVjayh7XG4gICAgICAgIGtleSA6IHRoaXMub3B0aW9ucy5hcGlLZXksXG4gICAgICAgIHJlc291cmNlcyA6IFtcIlNFUlZJQ0VfQ0FMQ1VMX0FMVElNRVRSSVFVRV9SU0NcIl0sXG4gICAgICAgIHNlcnZpY2VzIDogW1wiRWxldmF0aW9uXCJdXG4gICAgfSk7XG5cbiAgICB0aGlzLl9ub1JpZ2h0TWFuYWdlbWVudCA9ICFyaWdodE1hbmFnZW1lbnQ7XG5cbiAgICAvLyByZXRyaWV2ZXMgdGhlIHVzZWZ1bGwgaW5mb3NcbiAgICAvLyBvbiB0aGlzIGNvbnRyb2wsIHdlIGRvIG5vdCBjYXJlIGFib3V0IHRoZSByZXNzb3VyY2UgYmVzY2F1c2UgaXQgaXMgdW5pcXVlXG4gICAgLy8gRXggOiB0aGUgQVBJIGtleSBmcm9tIHRoZSBhdXRvY29uZmlndXJhdGlvbiBpZiBpdCBoYXMgbm90IGJlZW4gZ2l2ZW5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hcGlLZXkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmFwaUtleSA9IHJpZ2h0TWFuYWdlbWVudC5rZXk7XG4gICAgfVxufTtcblxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIG1ldGhvZHMgaGFuZGxlIGRvbSAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4vKipcbiAqIENyZWF0ZSBjb250cm9sIG1haW4gY29udGFpbmVyIChjYWxsZWQgYnkgTW91c2VQb3NpdGlvbiBjb25zdHJ1Y3RvcilcbiAqXG4gKiBAbWV0aG9kIF9pbml0Q29udGFpbmVyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5jb2xsYXBzZWQgLSBTcGVjaWZ5IGlmIE1vdXNlUG9zaXRpb24gY29udHJvbCBzaG91bGQgYmUgY29sbGFwc2VkXG4gKiBAcGFyYW0ge0FycmF5fSAgIG9wdGlvbnMuZGlzcGxheUFsdGl0dWRlIC0gYWN0aXZhdGUgKHRydWUpIG9yIGRlYWN0aXZhdGUgKGZhbHNlKSB0aGUgYWx0aXR1ZGUgcGFuZWxcbiAqIEBwYXJhbSB7QXJyYXl9ICAgb3B0aW9ucy5kaXNwbGF5Q29vcmRpbmF0ZXMgLSBhY3RpdmF0ZSAodHJ1ZSkgb3IgZGVhY3RpdmF0ZSAoZmFsc2UpIHRoZSBjb29yZGluYXRlcyBwYW5lbFxuICogQHJldHVybnMge0RPTUVsZW1lbnR9IGNvbnRhaW5lciAtIHdpZGdldCBjb250YWluZXJcbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLl9pbml0Q29udGFpbmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBjcmVhdGVzIHRoZSBtYWluIGNvbnRhaW5lclxuICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCgpO1xuXG4gICAgdmFyIGlucHV0U2hvdyA9IHRoaXMuX3Nob3dNb3VzZVBvc2l0aW9uQ29udGFpbmVyID0gdGhpcy5fY3JlYXRlU2hvd01vdXNlUG9zaXRpb25FbGVtZW50KCk7XG4gICAgaWYgKCFvcHRpb25zLmNvbGxhcHNlZCkge1xuICAgICAgICBpbnB1dFNob3cuY2hlY2tlZCA9IFwiY2hlY2tlZFwiO1xuICAgIH1cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXRTaG93KTtcblxuICAgIHZhciBwaWN0byA9IHRoaXMuX2NyZWF0ZVNob3dNb3VzZVBvc2l0aW9uUGljdG9FbGVtZW50KHRoaXMuX2lzRGVza3RvcCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBpY3RvKTtcblxuICAgIHZhciBwYW5lbCA9IHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEVsZW1lbnQoKTtcblxuICAgIHZhciBoZWFkZXIgPSB0aGlzLl9jcmVhdGVNb3VzZVBvc2l0aW9uUGFuZWxIZWFkZXJFbGVtZW50KCk7XG4gICAgcGFuZWwuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuICAgIHZhciBiYXNpYyA9IHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25QYW5lbEJhc2ljRWxlbWVudChcbiAgICAgICAgb3B0aW9ucy5kaXNwbGF5QWx0aXR1ZGUsXG4gICAgICAgIG9wdGlvbnMuZGlzcGxheUNvb3JkaW5hdGVzXG4gICAgKTtcbiAgICBwYW5lbC5hcHBlbmRDaGlsZChiYXNpYyk7XG5cbiAgICB2YXIgYXJyYXlTZXR0aW5ncyA9IHRoaXMuX2NyZWF0ZVNob3dNb3VzZVBvc2l0aW9uU2V0dGluZ3NFbGVtZW50KG9wdGlvbnMuZGlzcGxheUNvb3JkaW5hdGVzKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5U2V0dGluZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYXJyYXlTZXR0aW5nc1tqXSk7XG4gICAgfVxuXG4gICAgdmFyIHNldHRpbmdzID0gdGhpcy5fY3JlYXRlTW91c2VQb3NpdGlvblNldHRpbmdzRWxlbWVudChvcHRpb25zLmRpc3BsYXlDb29yZGluYXRlcyk7XG4gICAgdmFyIHN5c3RlbXMgPSB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtc0NvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25TZXR0aW5nc1N5c3RlbXNFbGVtZW50KHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zKTtcbiAgICB2YXIgdW5pdHMgPSB0aGlzLl9wcm9qZWN0aW9uVW5pdHNDb250YWluZXIgPSB0aGlzLl9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NVbml0c0VsZW1lbnQodGhpcy5fcHJvamVjdGlvblVuaXRzW3RoaXMuX2N1cnJlbnRQcm9qZWN0aW9uVHlwZV0pO1xuXG4gICAgc2V0dGluZ3MuYXBwZW5kQ2hpbGQoc3lzdGVtcyk7XG4gICAgc2V0dGluZ3MuYXBwZW5kQ2hpbGQodW5pdHMpO1xuICAgIHBhbmVsLmFwcGVuZENoaWxkKHNldHRpbmdzKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cbi8qKlxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHRoaXMuKClcbiAqIGFuZCBpdCBjaGFuZ2VzIHRoZSBlbGV2YXRpb24gdmlldyBwYW5lbCBpbnRvIHRoZSBkb20uXG4gKlxuICogQG1ldGhvZCBfc2V0RWxldmF0aW9uUGFuZWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWN0aXZlIC0gdHJ1ZTphY3RpdmUsIGZhbHNlOmRpc2FibGVcbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLl9zZXRFbGV2YXRpb25QYW5lbCA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICB2YXIgZGl2ID0gbnVsbDtcblxuICAgIGlmICghYWN0aXZlKSB7XG4gICAgICAgIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiR1Btb3VzZVBvc2l0aW9uQWx0aXR1ZGUtXCIgKyB0aGlzLl91aWQpO1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLl9ub1JpZ2h0TWFuYWdlbWVudCkge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJHUG1vdXNlUG9zaXRpb25BbHQtXCIgKyB0aGlzLl91aWQpO1xuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiTm8gcmlnaHRzIVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJHUG1vdXNlUG9zaXRpb25BbHRpdHVkZS1cIiArIHRoaXMuX3VpZCk7XG4gICAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGlzLigpXG4gKiBhbmQgaXQgY2hhbmdlcyB0aGUgY29vcmRpbmF0ZSB2aWV3IHBhbmVsIGludG8gdGhlIGRvbS5cbiAqXG4gKiBAbWV0aG9kIF9zZXRDb29yZGluYXRlc1BhbmVsXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGFjdGl2ZSAtIHRydWU6YWN0aXZlLCBmYWxzZTpkaXNhYmxlXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5fc2V0Q29vcmRpbmF0ZXNQYW5lbCA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJHUG1vdXNlUG9zaXRpb25Db29yZGluYXRlLVwiICsgdGhpcy5fdWlkKTtcbiAgICBpZiAoIWFjdGl2ZSkge1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICB9XG59O1xuXG4vKipcbiAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGlzLigpXG4gKiBhbmQgaXQgY2hhbmdlcyB0aGUgc2V0dGluZ3MgdmlldyBwYW5lbCBpbnRvIHRoZSBkb20uXG4gKlxuICogQG1ldGhvZCBfc2V0U2V0dGluZ3NQYW5lbFxuICogQHBhcmFtIHtCb29sZWFufSBhY3RpdmUgLSB0cnVlOmFjdGl2ZSwgZmFsc2U6ZGlzYWJsZVxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuX3NldFNldHRpbmdzUGFuZWwgPSBmdW5jdGlvbiAoYWN0aXZlKSB7XG4gICAgdmFyIGRpdlBpY3RvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJHUHNob3dNb3VzZVBvc2l0aW9uU2V0dGluZ3NQaWN0by1cIiArIHRoaXMuX3VpZCk7XG4gICAgdmFyIGRpdlBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJHUG1vdXNlUG9zaXRpb25TZXR0aW5ncy1cIiArIHRoaXMuX3VpZCk7XG4gICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgZGl2UGljdG8uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBkaXZQYW5lbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGl2UGljdG8uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIGRpdlBhbmVsLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIH1cbn07XG5cbi8qKlxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHRoaXMub25Nb3VzZVBvc2l0aW9uUHJvamVjdGlvblN5c3RlbUNoYW5nZSgpXG4gKiB3aGVuIGNoYW5nZXMgdG8gYSBtZXRyaWMgb3IgYSBnZW9ncmFwaGljYWwgdW5pdHMuXG4gKlxuICogQG1ldGhvZCBfc2V0VHlwZVVuaXRzUGFuZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gR2VvZ3JhcGhpY2FsIG9yIE1ldHJpY1xuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuX3NldFR5cGVVbml0c1BhbmVsID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fcHJvamVjdGlvblVuaXRzQ29udGFpbmVyO1xuXG4gICAgLy8gZGVsZXRlcyB0aGUgY2hpbGROb2Rlc1xuICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHZhciB1bml0cyA9IHRoaXMuX3Byb2plY3Rpb25Vbml0c1t0eXBlXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBvYmogPSB1bml0c1tqXTtcbiAgICAgICAgdmFyIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IChvYmouY29kZSkgPyBvYmouY29kZSA6IGo7XG4gICAgICAgIG9wdGlvbi50ZXh0ID0gb2JqLmxhYmVsIHx8IGo7XG4gICAgICAgIC8vIG9wdGlvbi5sYWJlbCA9IG9iai5sYWJlbDtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgfVxuXG4gICAgLy8gdGhlIG5ldyB0eXBlIG9mIHN5c3RlbVxuICAgIHRoaXMuX2N1cnJlbnRQcm9qZWN0aW9uVHlwZSA9IHR5cGU7XG4gICAgLy8gYXMgdGhlIHN5c3RlbSBjaGFuZ2VkLCB0aGUgdW5pdCBzeXN0ZW0gaGFzIHRvIGNoYW5nZSB0b28gIVxuICAgIHRoaXMuX2N1cnJlbnRQcm9qZWN0aW9uVW5pdHMgPSB0aGlzLl9wcm9qZWN0aW9uVW5pdHNbdHlwZV1bMF0uY29kZTtcbn07XG5cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBtZXRob2QgdW5pdHMgY29udmVydCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cbi8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgLy9cblxuLyoqXG4gKiBkZWdyZWVkZWNpbWFsXG4gKlxuICogQG1ldGhvZCBfZGlzcGxheURFQ1xuICogQHBhcmFtIHtPYmplY3R9IGNvb3JkcyAtIGNvb3JkaW5hdGVzb2JqZWN0IHtsb24sIGxhdH1cbiAqIEByZXR1cm4ge09iamVjdH0gY29vcmRpbmF0ZSAtIGNvb3JkaW5hdGUgb2JqZWN0IDoge2xhdCA6IDQ4LCBsbmcgOiAyfSBwYXIgZXhlbXBsZVxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuX2Rpc3BsYXlERUMgPSBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgdmFyIGNvb3JkaW5hdGUgPSB7fTtcbiAgICBjb29yZGluYXRlLmxhdCA9IFBvc2l0aW9uRm9ybWF0ZXIucm91bmRUb0RlY2ltYWwoY29vcmRzLmxhdCwgNik7XG4gICAgY29vcmRpbmF0ZS5sbmcgPSBQb3NpdGlvbkZvcm1hdGVyLnJvdW5kVG9EZWNpbWFsKGNvb3Jkcy5sb24sIDYpO1xuICAgIHJldHVybiBjb29yZGluYXRlO1xufTtcblxuLyoqXG4gKiBkZWdyZWVkZWNpbWFsMnNleGFnZWNpbWFsXG4gKlxuICogQG1ldGhvZCBfZGlzcGxheURNU1xuICogQHBhcmFtIHtPYmplY3R9IGNvb3JkcyAtIGNvb3JkaW5hdGVzIG9iamVjdCB7bG9uLCBsYXR9XG4gKiBAcmV0dXJuIHtPYmplY3R9IGNvb3JkaW5hdGUgLSBjb29yZGluYXRlIG9iamVjdCA6IHtsbmcgOiBcIjLCsCAwMOKAsiAwMOKAsyBFXCIsIGxhdCA6IFwiNDjCsCAwMOKAsiAwMOKAsyBOXCJ9IHBhciBleGVtcGxlXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5fZGlzcGxheURNUyA9IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICB2YXIgY29vcmRpbmF0ZSA9IHt9O1xuICAgIGNvb3JkaW5hdGUubGF0ID0gUG9zaXRpb25Gb3JtYXRlci5kZWNpbWFsTGF0VG9ETVMoY29vcmRzLmxhdCk7XG4gICAgY29vcmRpbmF0ZS5sbmcgPSBQb3NpdGlvbkZvcm1hdGVyLmRlY2ltYWxMb25nVG9ETVMoY29vcmRzLmxvbik7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG59O1xuXG4vKipcbiAqIGRlZ3JlZWRlY2ltYWwycmFkaWFuXG4gKlxuICogQG1ldGhvZCBfZGlzcGxheVJBRFxuICogQHBhcmFtIHtPYmplY3R9IGNvb3JkcyAtIGNvb3JkaW5hdGVzIG9iamVjdCB7bG9uLCBsYXR9XG4gKiBAcmV0dXJuIHtPYmplY3R9IGNvb3JkaW5hdGUgLSBjb29yZGluYXRlIG9iamVjdCA6IHtsYXQgOiBcIjAuMDI4Mzc4NjRcIiwgbG5nIDogXCIwLjg0MzAwMjY5XCJ9IHBhciBleGVtcGxlXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5fZGlzcGxheVJBRCA9IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICB2YXIgY29vcmRpbmF0ZSA9IHt9O1xuICAgIGNvb3JkaW5hdGUubGF0ID0gUG9zaXRpb25Gb3JtYXRlci5kZWNpbWFsVG9SYWRpYW4oY29vcmRzLmxhdCk7XG4gICAgY29vcmRpbmF0ZS5sbmcgPSBQb3NpdGlvbkZvcm1hdGVyLmRlY2ltYWxUb1JhZGlhbihjb29yZHMubG9uKTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn07XG5cbi8qKlxuICogZGVncmVlZGVjaW1hbDJncmFkZVxuICpcbiAqIEBtZXRob2QgX2Rpc3BsYXlHT05cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb29yZHMgLSBjb29yZGluYXRlcyBvYmplY3Qge2xvbiwgbGF0fVxuICogQHJldHVybiB7T2JqZWN0fSBjb29yZGluYXRlIC0gY29vcmRpbmF0ZSBvYmplY3QgOiB7bGF0IDogXCI0LjA5NTQ1ODk4XCIsIGxuZyA6IFwiNTMuNjg3NTE1MjhcIn0gcGFyIGV4ZW1wbGVcbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLl9kaXNwbGF5R09OID0gZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgIHZhciBjb29yZGluYXRlID0ge307XG4gICAgY29vcmRpbmF0ZS5sYXQgPSBQb3NpdGlvbkZvcm1hdGVyLmRlY2ltYWxUb0dyYWRlKGNvb3Jkcy5sYXQpO1xuICAgIGNvb3JkaW5hdGUubG5nID0gUG9zaXRpb25Gb3JtYXRlci5kZWNpbWFsVG9HcmFkZShjb29yZHMubG9uKTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn07XG5cbi8qKlxuICogbWV0ZXJcbiAqXG4gKiBAbWV0aG9kIF9kaXNwbGF5TWV0ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb29yZHMgLSBjb29yZHMgb2JqZWN0IHtsb24sIGxhdH1cbiAqIEByZXR1cm4ge09iamVjdH0gY29vcmRpbmF0ZSAtIGNvb3JkaW5hdGUgb2JqZWN0IDoge3ggOiBcIjE0ODU5My41OFwiLCB5IDogXCI2MTc2NTYwLjk1XCJ9IHBhciBleGVtcGxlXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5fZGlzcGxheU1ldGVyID0gZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgIC8vIG9uIHJlY29pdCB0b3Vqb3VycyBkZXMgY29vcmRvbm7DqWVzIG1ldHJpcXVlc1xuICAgIHZhciBjb29yZGluYXRlID0ge307XG4gICAgY29vcmRpbmF0ZS54ID0gY29vcmRzLmxvbi50b0ZpeGVkKDIpO1xuICAgIGNvb3JkaW5hdGUueSA9IGNvb3Jkcy5sYXQudG9GaXhlZCgyKTtcbiAgICBjb29yZGluYXRlLnVuaXQgPSBcIm1cIjtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn07XG5cbi8qKlxuICoga2lsb21ldGVyXG4gKlxuICogQG1ldGhvZCBfZGlzcGxheUtNZXRlclxuICogQHBhcmFtIHtPYmplY3R9IGNvb3JkcyAtIGNvb3JkcyBvYmplY3Qge2xvbiwgbGF0fVxuICogQHJldHVybiB7T2JqZWN0fSBjb29yZGluYXRlIC0gY29vcmRpbmF0ZSBvYmplY3QgOiB7eCA6IFwiMjE0Ljk2XCIsIHkgOiBcIjYyNTAuMDlcIn0gcGFyIGV4ZW1wbGVcbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLl9kaXNwbGF5S01ldGVyID0gZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgIHZhciBjb29yZGluYXRlID0ge307XG4gICAgY29vcmRpbmF0ZS54ID0gKGNvb3Jkcy5sb24gLyAxMDAwKS50b0ZpeGVkKDIpO1xuICAgIGNvb3JkaW5hdGUueSA9IChjb29yZHMubGF0IC8gMTAwMCkudG9GaXhlZCgyKTtcbiAgICBjb29yZGluYXRlLnVuaXQgPSBcImttXCI7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG59O1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMgaGFuZGxlcnMgZXZlbnRzIHRvIGNvbnRyb2wgIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbi8qKlxuICogdGhpcyBzZW5kcyB0aGUgY29vcmRpbmF0ZXMgdG8gdGhlIHBhbmVsLlxuICogKGNmLiB0aGlzLkdQZGlzcGxheUNvb3JkcygpIGludG8gdGhlIERPTSBmdW5jdGlvbnMpXG4gKlxuICogQG1ldGhvZCBfc2V0Q29vcmRpbmF0ZVxuICogQHBhcmFtIHtBcnJheX0gY29vcmRzIC0gY29vcmRpbmF0ZSBvYmplY3Qge2xvbiwgbGF0fVxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuX3NldENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgLy8gc3RydWN0dXJlXG4gICAgLy8gY29vcmRzXG4gICAgLy8gICAgICB7XG4gICAgLy8gICAgICAgICAgbG9uOiA1LFxuICAgIC8vICAgICAgICAgIGxhdCA6IDQ4XG4gICAgLy8gICAgICB9XG4gICAgLy9cbiAgICAvLyBzdHJ1Y3R1cmUgZm9yIHRoZSBjb29yZGluYXRlcyBkZXBlbmRpbmcgb24gdGhlIHN5c3RlbSB0eXBlIDpcbiAgICAvLyB7eDosIHk6LCB1bml0On0gb3Ige2xuZzosIGxhdDp9IG9yIHtsb246LCBsYXQ6fSBvciB7ZTosIG46LCB1bml0On0uLi5cblxuICAgIHZhciBjb29yZCA9IFtdO1xuICAgIHZhciBjb29yZGluYXRlcyA9IHt9O1xuXG4gICAgLy8gdHJhbnNmb3JtcyB0aGUgcG9pbnQgaW4gdGhlIHdhbnRlZCBjb29yZHMgc3lzdGVtXG4gICAgdmFyIG9TcnMgPSB0aGlzLl9jdXJyZW50UHJvamVjdGlvblN5c3RlbXM7XG4gICAgdmFyIGNyc1Byb3AgPSBvU3JzLmNycztcblxuICAgIGlmICghb1NycyB8fCAhY3JzUHJvcCkge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJzeXN0ZW0gY3JzIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyByZXByb2plY3QgY29vcmRpbmF0ZXMgZnJvbSB0aGVpciBDUlMgb2Ygb3JpZ2luIChXR1M4NCkgdG8gdGhlIHdhbnRlZCBDUlMgKGNyc1Byb3ApXG4gICAgaWYgKGNyc1Byb3AgIT09IFwiRVBTRzo0MzI2XCIpIHtcbiAgICAgICAgY29vcmQgPSBwcm9qNChDUlNbY3JzUHJvcF0sIFtjb29yZHMubG9uLCBjb29yZHMubGF0XSk7XG4gICAgICAgIC8vIHByb2plY3RlZCB2YWx1ZXMgYXJlIGFmZmVjdGVkIHRvIHRoZSBjb29yZCB2YXJcbiAgICAgICAgY29vcmRpbmF0ZXMubG9uID0gY29vcmRbMF07XG4gICAgICAgIGNvb3JkaW5hdGVzLmxhdCA9IGNvb3JkWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvb3JkaW5hdGVzID0gY29vcmRzO1xuICAgIH1cblxuICAgIC8vIHN5c3RlbSB0eXBlIDogR2VvZ3JhcGhpY2FsIG9yIE1ldHJpY1xuXG4gICAgdmFyIHR5cGUgPSB0aGlzLl9jdXJyZW50UHJvamVjdGlvblN5c3RlbXMudHlwZTtcblxuICAgIC8vIGNoZWNrcyBmb3IgYSBmb3JtYXR0aW5nIGZ1bmN0aW9uIGluIHRoZSB3YW50ZWQgdW5pdFxuICAgIHZhciBjb252ZXJ0ID0gbnVsbDtcbiAgICB2YXIgdW5pdHMgPSB0aGlzLl9wcm9qZWN0aW9uVW5pdHNbdHlwZV07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh1bml0c1tpXS5jb2RlID09PSB0aGlzLl9jdXJyZW50UHJvamVjdGlvblVuaXRzKSB7XG4gICAgICAgICAgICBjb252ZXJ0ID0gdW5pdHNbaV0uY29udmVydDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghY29udmVydCB8fCB0eXBlb2YgY29udmVydCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiY29vcmRpbmF0ZXMgZm9ybWF0IGZ1bmN0aW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvb3JkID0gY29udmVydChjb29yZGluYXRlcyk7XG4gICAgfVxuXG4gICAgaWYgKCFjb29yZCB8fCBPYmplY3Qua2V5cyhjb29yZCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLkdQZGlzcGxheUNvb3Jkcyhjb29yZCk7XG59O1xuXG4vKipcbiAqIHRoaXMgc2VuZHMgdGhlIGNvb3JkaW5hdGVzIHRvIHRoZSBwYW5lbC5cbiAqIChjZi4gdGhpcy5HUGRpc3BsYXlFbGV2YXRpb24oKSBpbnRvIHRoZSBET00gZnVuY3Rpb25zKVxuICpcbiAqIEBtZXRob2QgX3NldEVsZXZhdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGNvb3JkcyAtIENvb3JkaW5hdGUgcG9zaXRpb24gb2JqZWN0IHtsb24sIGxhdH1cbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLl9zZXRFbGV2YXRpb24gPSBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgLy8gbWFuYWdlbWVudCBvZiB0aGUgdGltZXIgb2YgdGhlIGFsdGl0dWRlIHNlcnZpY2UgcmVxdWVzdFxuICAgIHZhciBkZWxheSA9IHRoaXMub3B0aW9ucy5hbHRpdHVkZS5yZXNwb25zZURlbGF5O1xuICAgIHRoaXMuR1BkaXNwbGF5RWxldmF0aW9uKGNvb3JkcywgZGVsYXkpO1xufTtcblxuLyoqXG4gKiB0aGlzIG1ldGhvZCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgbW91c2Ugb3IgdGhlIGdsb2JlIGlzIHN0b3BwZWQuXG4gKiAoY2YuIG9uTW91c2VNb3ZlIGFuZCBvbkdsb2JlTW92ZSlcbiAqXG4gKiBAbWV0aG9kIG9uTW92ZVN0b3BwZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb29yZHMgLSBDb29yZGluYXRlIHBvc2l0aW9uIG9iamVjdCB7bG9uLCBsYXR9XG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5vbk1vdmVTdG9wcGVkID0gZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgIHRoaXMuX3NldEVsZXZhdGlvbihjb29yZHMpO1xufTtcblxuLyoqXG4gKiB0aGlzIG1ldGhvZCBpcyBhbiBoYW5kbGVyIGV2ZW50IHRvIGNvbnRyb2wuIFRoZSBldmVudCBpcyAnbW91c2Vtb3ZlJyBvblxuICogdGhlIGdsb2JlLiBUaGUgaGFuZGxlciBzZW5kcyB0aGUgY29vcmRpbmF0ZXMgdG8gdGhlIHBhbmVsLlxuICogKGNmLiB0aGlzLkdQZGlzcGxheUNvb3JkcygpIGludG8gdGhlIERPTSBmdW5jdGlvbnMpXG4gKlxuICogQG1ldGhvZCBvbk1vdXNlTW92ZVxuICogQHBhcmFtIHtPYmplY3R9IGUgLSBIVE1MRWxlbWVudFxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUub25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuZ2V0R2xvYmUoKS5nZXRDb29yZGluYXRlRnJvbU1vdXNlRXZlbnQoZSk7XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgICB0aGlzLkdQZGlzcGxheUNvb3Jkcyh7XG4gICAgICAgICAgICBsb24gOiBcIi0tLVwiLFxuICAgICAgICAgICAgbGF0IDogXCItLS1cIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5HUHJlc2V0RWxldmF0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29vcmRpbmF0ZSA9IHtcbiAgICAgICAgbG9uIDogcG9zaXRpb24ueCxcbiAgICAgICAgbGF0IDogcG9zaXRpb24ueVxuICAgIH07XG5cbiAgICB0aGlzLl9zZXRDb29yZGluYXRlKGNvb3JkaW5hdGUpO1xuXG4gICAgLy8gY2FsY3VsYXRpb24gb2YgdGhlIGFsdGl0dWRlIGFmdGVyIGEgdGltZSBsaW1pdCBmcm9tIHRoZSBtb21lbnQgd2hlcmUgdGhlIG1vdXNlIG1vdmVtZW50IGlzIHN0b3BwZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc3BsYXlBbHRpdHVkZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5vbk1vdmVTdG9wcGVkKGNvb3JkaW5hdGUpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuYWx0aXR1ZGUudHJpZ2dlckRlbGF5KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHRoaXMgbWV0aG9kIGlzIGFuIGhhbmRsZXIgZXZlbnQgdG8gY29udHJvbC4gVGhlIGV2ZW50IGlzICdtb3ZlZW5kJyBvblxuICogdGhlIGdsb2JlLiBUaGUgaGFuZGxlciBzZW5kcyB0aGUgY29vcmRpbmF0ZXMgdG8gdGhlIHBhbmVsLlxuICogKGNmLiB0aGlzLkdQZGlzcGxheUNvb3JkcygpIGludG8gdGhlIERPTSBmdW5jdGlvbnMpXG4gKlxuICogQG1ldGhvZCBvbkdsb2JlTW92ZVxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUub25HbG9iZU1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBpbmZvOiBjb29yZGluYXRlID0gW3gsIHldXG4gICAgLy8gdmFyIGNvb3JkaW5hdGUgPSBlLmNvb3JkaW5hdGU7XG4gICAgLy8gaWYgKCAhZS5tYXAgfHwgIWUubWFwLmdldFZpZXcoKSApIHtcbiAgICAvLyAgICAgcmV0dXJuO1xuICAgIC8vIH1cbiAgICAvLyB2YXIgY3JzID0gZS5tYXAuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKTtcbiAgICAvL1xuICAgIC8vIHRoaXMuX3NldENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgY3JzKTtcbiAgICAvL1xuICAgIC8vIC8vIGNhbGN1bCBkZSBsJ2FsdGl0dWRlIGFwcsOocyB1biBjZXJ0YWluIGTDqWxhaSBhcHLDqHMgbCdhcnLDqnQgZHUgbW91dmVtZW50IGRlIGxhIGNhcnRlXG4gICAgLy8gY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICAvLyB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgc2VsZi5vbk1vdmVTdG9wcGVkKGNvb3JkaW5hdGUsIGNycyk7XG4gICAgLy8gfSwgdGhpcy5vcHRpb25zLmFsdGl0dWRlLnRyaWdnZXJEZWxheSk7XG59O1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBoYW5kbGVycyBldmVudHMgdG8gZG9tICMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIC8vXG5cbi8qKlxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHRoaXMuR1BkaXNwbGF5RWxldmF0aW9uKCkgaW4gdGhlIGRvbSwgYW5kXG4gKiBpdCBleGVjdXRlcyBhIHJlcXVlc3QgdG8gdGhlIGVsZXZhdGlvbiBzZXJ2aWNlLlxuICpcbiAqIEBtZXRob2Qgb25SZXF1ZXN0QWx0aXR1ZGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb29yZGluYXRlIC0ge2xhdDouLi4sIGxuZzouLi59XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIGNhbGxiYWNrXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5vblJlcXVlc3RBbHRpdHVkZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBjYWxsYmFjaykge1xuICAgIC8vIElORk9STUFUSU9OXG4gICAgLy8gd2UgbGF1bmNoIHRoZSByZXF1ZXN0IHRvIHRoZSBhbHRpdHVkZSBzZXJ2aWNlc1xuICAgIC8vIHdlIGltcGxlbWVudCBjYWxsYmFja3MgaW4gb3JkZXIgdG8gcmV0cmlldmUgcmVzdWx0cyBvciBlcnJvcnNcbiAgICAvLyBmcm9tIHRoZSBzZXJ2aWNlLlxuICAgIC8vIFRoZSByZXN1bHQgaXMgZGlzcGxheWVkIGluIGEgRE9NIGVsZW1lbnQuXG4gICAgLy8gVGhlIGVycm9yIG1lc3NhZ2VzIGFyZSBkaXNwbGF5IGluIHRoZSBkZXYgY29uc29sZSAoPylcblxuICAgIGlmICghY29vcmRpbmF0ZSB8fCBPYmplY3Qua2V5cyhjb29yZGluYXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHdlIGRvIG5vdCB3YW50IGFueSBhbHRpdHVkZSBjYWxjdWxhdGlvbiwgd2UganVzdCBzdG9wICFcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNwbGF5QWx0aXR1ZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHdlIGRvbiBub3QgaGF2ZSB0aGUgcmlnaHRzIG9uIHRoZSByZXF1ZXN0ZWQgcmVzb3VyY2UsIHdlIGp1c3Qgc3RvcCAhXG4gICAgaWYgKHRoaXMuX25vUmlnaHRNYW5hZ2VtZW50KSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiY29udHJhY3Qga2V5IGNvbmZpZ3VyYXRpb24gaGFzIG5vIHJpZ2h0cyB0byBsb2FkIGdlb3BvcnRhbCBlbGV2YXRpb24gXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25BbHRcIikpLmlubmVySFRNTCA9IFwiTm8gcmlnaHRzIVwiO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2UgcmV0cmlldmUgdGhlIHNlcnZpY2Ugb3B0aW9ucy4uLlxuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLmFsdGl0dWRlLnNlcnZpY2VPcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gLi4uIGFuZCB0aGUgY29vcmRpbmF0ZXMuLi5cbiAgICBvcHRpb25zLnpvbmx5ID0gdHJ1ZTtcbiAgICBvcHRpb25zLnBvc2l0aW9ucyA9IFt7XG4gICAgICAgIGxvbiA6IGNvb3JkaW5hdGUubG9uLFxuICAgICAgICBsYXQgOiBjb29yZGluYXRlLmxhdFxuICAgIH1dO1xuXG4gICAgLy8gLi4uIGFuZCB0aGUgY2FsbGJhY2tzXG4gICAgb3B0aW9ucy5zY29wZSA9IHRoaXM7XG5cbiAgICBpZiAoIW9wdGlvbnMucmF3UmVzcG9uc2UpIHtcbiAgICAgICAgLy8gaW4gdGhlIGdlbmVyYWwgY2FzZVxuICAgICAgICBvcHRpb25zLm9uU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0cyAmJiBPYmplY3Qua2V5cyhyZXN1bHRzKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzdWx0cy5lbGV2YXRpb25zWzBdLnopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMub25TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwiYWx0aSBzZXJ2aWNlIHJhdyByZXNwb25zZSA6IFwiLCByZXN1bHRzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBvcHRpb25zLm9uRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJbZ2V0QWx0aXR1ZGVdIFwiICsgZXJyb3IubWVzc2FnZSk7XG4gICAgfTtcbiAgICAvLyBpbiB0aGUgY2FzZSBvZiB0aGUgQVBJIGtleSBpcyBub3QgZ2l2ZW4gYXMgb3B0aW9uIG9mIHRoZSBzZXJ2aWNlLFxuICAgIC8vIHdlIHVzZSB0aGUga2V5IG9mIHRoZSBhdXRvY29uZiwgb3IgdGhlIGtleSBnaXZlbiBpbiB0aGUgY29udHJvbCBvcHRpb25zXG4gICAgb3B0aW9ucy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleSB8fCB0aGlzLm9wdGlvbnMuYXBpS2V5O1xuXG4gICAgLy8gc2kgbCd1dGlsaXNhdGV1ciBhIHNww6ljaWZpw6kgbGUgcGFyYW3DqHRyZSBzc2wgYXUgbml2ZWF1IGR1IGNvbnRyb2wsIG9uIHMnZW4gc2VydFxuICAgIC8vIHRydWUgcGFyIGTDqWZhdXQgKGh0dHBzKVxuICAgIG9wdGlvbnMuc3NsID0gdGhpcy5vcHRpb25zLnNzbDtcblxuICAgIEdwLlNlcnZpY2VzLmdldEFsdGl0dWRlKG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgZXZlbnQgJ2NsaWNrJyBvbiAnR1BzaG93TW91c2VQb3NpdGlvblBpY3RvJyB0YWcgbGFiZWxcbiAqIChjZi4gdGhpcy5fY3JlYXRlU2hvd01vdXNlUG9zaXRpb25QaWN0b0VsZW1lbnQpLFxuICogYW5kIHRvZ2dsZXMgZXZlbnQgJ21vdXNlbW92ZScgb24gZ2xvYmUuXG4gKlxuICogQG1ldGhvZCBvblNob3dNb3VzZVBvc2l0aW9uQ2xpY2tcbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLm9uU2hvd01vdXNlUG9zaXRpb25DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBjaGVja2VkIDogdHJ1ZSAtIHBhbmVsIGNsb3NlXG4gICAgLy8gY2hlY2tlZCA6IGZhbHNlIC0gcGFuZWwgb3BlblxuICAgIHZhciBnbG9iZSA9IHRoaXMuZ2V0R2xvYmUoKTtcblxuICAgIHRoaXMuY29sbGFwc2VkID0gdGhpcy5fc2hvd01vdXNlUG9zaXRpb25Db250YWluZXIuY2hlY2tlZDtcblxuICAgIC8vIGV2ZW50IHRyaWdnZXJlZCB3aGVuIG9wZW5pbmcvY2xvc2luZyB0aGUgcGFuZWxcbiAgICAvLyBhbmQgZGVwZW5kaW5nIG9uIHRoZSBtb2RlIDogZGVza3RvcCBvciB0YWN0aWxlIVxuICAgIGlmICh0aGlzLl9zaG93TW91c2VQb3NpdGlvbkNvbnRhaW5lci5jaGVja2VkKSB7XG4gICAgICAgIC8vIEZJWE1FIGhhbmRsZSBvciBub3QgbW9iaWxlIGNhc2VcbiAgICAgICAgaWYgKHRoaXMuX2lzRGVza3RvcCkge1xuICAgICAgICAgICAgZ2xvYmUuZm9yZ2V0KEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5NT1VTRV9NT1ZFLCB0aGlzLl9jYWxsYmFja3MubW91c2VNb3ZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JlLmZvcmdldChHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuQ0VOVEVSX0NIQU5HRUQsIHRoaXMub25HbG9iZU1vdmUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRklYTUUgaGFuZGxlIG9yIG5vdCBtb2JpbGUgY2FzZVxuICAgICAgICBpZiAodGhpcy5faXNEZXNrdG9wKSB7XG4gICAgICAgICAgICBnbG9iZS5saXN0ZW4oR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLk1PVVNFX01PVkUsIHRoaXMuX2NhbGxiYWNrcy5tb3VzZU1vdmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmUubGlzdGVuKEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5DRU5URVJfQ0hBTkdFRCwgdGhpcy5vbkdsb2JlTW92ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGSVhNRVxuICAgIC8vIHdlIGhhbmRsZSBoZXJlIHRoZSBwYW5lbCBkaXNwbGF5Li4uLCBidXQgdGhpcyBpcyBub3QgcmVhbGx5IHRoZSBnb29kXG4gICAgLy8gcGxhY2UgdG8gZG8gaXQuLi5cbiAgICB0aGlzLl9zZXRFbGV2YXRpb25QYW5lbCh0aGlzLm9wdGlvbnMuZGlzcGxheUFsdGl0dWRlKTtcbiAgICB0aGlzLl9zZXRDb29yZGluYXRlc1BhbmVsKHRoaXMub3B0aW9ucy5kaXNwbGF5Q29vcmRpbmF0ZXMpO1xuICAgIGlmICghdGhpcy5vcHRpb25zLmRpc3BsYXlDb29yZGluYXRlcykge1xuICAgICAgICB0aGlzLl9zZXRTZXR0aW5nc1BhbmVsKGZhbHNlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSBldmVudCAnY2hhbmdlJyBvbiAnR1Btb3VzZVBvc2l0aW9uUHJvamVjdGlvblN5c3RlbSdcbiAqIHRhZyBzZWxlY3QgKGNmLiB0aGlzLl9jcmVhdGVNb3VzZVBvc2l0aW9uU2V0dGluZ3NFbGVtZW50KSxcbiAqIGFuZCBzZWxlY3RzIHRoZSBzeXN0ZW0gcHJvamVjdGlvbi5cbiAqXG4gKiBAbWV0aG9kIG9uTW91c2VQb3NpdGlvblByb2plY3Rpb25TeXN0ZW1DaGFuZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBlIC0gSFRNTEVsZW1lbnRcbiAqIEBwcml2YXRlXG4gKi9cbk1vdXNlUG9zaXRpb24ucHJvdG90eXBlLm9uTW91c2VQb3NpdGlvblByb2plY3Rpb25TeXN0ZW1DaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBpZHggPSBlLnRhcmdldC5zZWxlY3RlZEluZGV4OyAvLyBpbmRleFxuICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0Lm9wdGlvbnNbaWR4XS52YWx1ZTsgLy8gY3JzXG5cbiAgICB0aGlzLl9zZXRDdXJyZW50U3lzdGVtKHZhbHVlKTtcbn07XG5cbi8qKlxuICogdGhpcyBtZXRob2Qgc2VsZWN0cyB0aGUgY3VycmVudCBzeXN0ZW0gcHJvamVjdGlvbi5cbiAqXG4gKiBAbWV0aG9kIF9zZXRDdXJyZW50U3lzdGVtXG4gKiBAcGFyYW0ge1N0cmluZ30gc3lzdGVtQ29kZSAtIGlubmVyIGNvZGUgKHJhbmsgaW4gYXJyYXkgX3Byb2plY3Rpb25TeXN0ZW1zKVxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUuX3NldEN1cnJlbnRTeXN0ZW0gPSBmdW5jdGlvbiAoc3lzdGVtQ29kZSkge1xuICAgIC8vIGlmIHdlIGNoYW5nZSBvZiBzeXN0ZW0gdHlwZSwgd2UgbXVzdCBjaGFuZ2UgdGhlIHVuaXQgdHlwZSB0b28gIVxuICAgIHZhciB0eXBlID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9qZWN0aW9uU3lzdGVtc1tpXS5jb2RlID09PSBOdW1iZXIoc3lzdGVtQ29kZSkpIHtcbiAgICAgICAgICAgIHR5cGUgPSB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtc1tpXS50eXBlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcInN5c3RlbSBub3QgZm91bmQgaW4gcHJvamVjdGlvbiBzeXN0ZW1zIGNvbnRhaW5lclwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlICE9PSB0aGlzLl9jdXJyZW50UHJvamVjdGlvblR5cGUpIHtcbiAgICAgICAgdGhpcy5fc2V0VHlwZVVuaXRzUGFuZWwodHlwZSk7XG4gICAgfVxuXG4gICAgLy8gcmVnaXN0ZXJzIHRoZSBjdXJyZW50IHN5c3RlbVxuICAgIHRoaXMuX2N1cnJlbnRQcm9qZWN0aW9uU3lzdGVtcyA9IHRoaXMuX3Byb2plY3Rpb25TeXN0ZW1zW051bWJlcihzeXN0ZW1Db2RlKV07XG5cbiAgICAvLyBzaW11bGF0ZXMgYSBtb3ZlbWVudCBpbiB0YWN0aWxlIG1vZGUgdG8gdXBkYXRlIHRoZSByZXN1bHRzXG4gICAgaWYgKCF0aGlzLl9pc0Rlc2t0b3ApIHtcbiAgICAgICAgdGhpcy5vbkdsb2JlTW92ZSgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IGV2ZW50ICdtb3VzZW92ZXInIG9uICdHUG1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtJ1xuICogdGFnIHNlbGVjdCAoY2YuIHRoaXMuX2NyZWF0ZU1vdXNlUG9zaXRpb25TZXR0aW5nc0VsZW1lbnQpLFxuICogYW5kIHNlbGVjdHMgdGhlIHN5c3RlbSBwcm9qZWN0aW9uIHdob3NlIGdlb0JCb3ggaW50ZXJzdGVjdHMgdGhlIGN1cnJlbnQgdmlldyBleHRlbnQuXG4gKlxuICogQG1ldGhvZCBvbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtTW91c2VPdmVyXG4gKiBAcHJpdmF0ZVxuICovXG5Nb3VzZVBvc2l0aW9uLnByb3RvdHlwZS5vbk1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtTW91c2VPdmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGdsb2JlIGluZm9zXG4gICAgdmFyIGdsb2JlID0gdGhpcy5nZXRHbG9iZSgpO1xuICAgIGlmICghZ2xvYmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBnbG9iZUV4dGVudCA9IGdsb2JlLmdldEV4dGVudCgpO1xuXG4gICAgLy8gY2xlYXIgc2VsZWN0XG4gICAgdmFyIHN5c3RlbUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9hZGRVSUQoXCJHUG1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uU3lzdGVtXCIpKTtcbiAgICBzeXN0ZW1MaXN0LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICB2YXIgb3B0aW9uO1xuXG4gICAgLy8gYWRkIHN5c3RlbXMgd2hvc2UgZXh0ZW50IGludGVyc2VjdHMgdGhlIGdsb2JlIGV4dGVudFxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fcHJvamVjdGlvblN5c3RlbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIHByb2ogPSB0aGlzLl9wcm9qZWN0aW9uU3lzdGVtc1tqXTtcbiAgICAgICAgaWYgKHByb2ouZ2VvQkJveCkge1xuICAgICAgICAgICAgLy8gYmJveGVzIGludGVyc2VjdGlvbiB0ZXN0XG4gICAgICAgICAgICBpZiAoZ2xvYmVFeHRlbnQud2VzdCA+IHByb2ouZ2VvQkJveC5yaWdodCB8fFxuICAgICAgICAgICAgICAgIGdsb2JlRXh0ZW50LnNvdXRoID4gcHJvai5nZW9CQm94LnRvcCB8fFxuICAgICAgICAgICAgICAgIGdsb2JlRXh0ZW50LmVhc3QgPCBwcm9qLmdlb0JCb3gubGVmdCB8fFxuICAgICAgICAgICAgICAgIGdsb2JlRXh0ZW50Lm5vcnRoIDwgcHJvai5nZW9CQm94LmJvdHRvbVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2ogPT09IHRoaXMuX2N1cnJlbnRQcm9qZWN0aW9uU3lzdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBwcm9qLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gcHJvai5sYWJlbCB8fCBqO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgc3lzdGVtTGlzdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gZG8gbm90IGludGVyc2VjdFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IHByb2ouY29kZTtcbiAgICAgICAgb3B0aW9uLnRleHQgPSBwcm9qLmxhYmVsIHx8IGo7XG4gICAgICAgIGlmIChwcm9qID09PSB0aGlzLl9jdXJyZW50UHJvamVjdGlvblN5c3RlbXMpIHtcbiAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3lzdGVtTGlzdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH1cbn07XG5cbi8qKlxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IGV2ZW50ICdjaGFuZ2UnIG9uICdHUG1vdXNlUG9zaXRpb25Qcm9qZWN0aW9uVW5pdHMnXG4gKiB0YWcgc2VsZWN0IChjZi4gdGhpcy5fY3JlYXRlTW91c2VQb3NpdGlvblNldHRpbmdzRWxlbWVudCksXG4gKiBhbmQgc2VsZWN0cyB0aGUgdW5pdHMgcHJvamVjdGlvbi5cbiAqXG4gKiBAbWV0aG9kIG9uTW91c2VQb3NpdGlvblByb2plY3Rpb25Vbml0c0NoYW5nZVxuICogQHBhcmFtIHtPYmplY3R9IGUgLSBIVE1MRWxlbWVudFxuICogQHByaXZhdGVcbiAqL1xuTW91c2VQb3NpdGlvbi5wcm90b3R5cGUub25Nb3VzZVBvc2l0aW9uUHJvamVjdGlvblVuaXRzQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaWR4ID0gZS50YXJnZXQuc2VsZWN0ZWRJbmRleDtcbiAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC5vcHRpb25zW2lkeF0udmFsdWU7XG5cbiAgICB0aGlzLl9jdXJyZW50UHJvamVjdGlvblVuaXRzID0gdmFsdWU7XG5cbiAgICAvLyBzaW11bGF0ZXMgYSBtb3ZlbWVudCBpbiB0YWN0aWxlIG1vZGUgdG8gdXBkYXRlIHRoZSByZXN1bHRzXG4gICAgaWYgKCF0aGlzLl9pc0Rlc2t0b3ApIHtcbiAgICAgICAgdGhpcy5vbkdsb2JlTW92ZSgpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1vdXNlUG9zaXRpb247XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/MousePosition.js\n");

/***/ }),

/***/ "./src/Itowns/Controls/Scale.js":
/*!**************************************!*\
  !*** ./src/Itowns/Controls/Scale.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GlobeViewExtended */ \"./src/Itowns/GlobeViewExtended.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils/SelectorID */ \"./src/Common/Utils/SelectorID.js\");\n/* harmony import */ var _Common_Controls_ScaleDOM__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Controls/ScaleDOM */ \"./src/Common/Controls/ScaleDOM.js\");\n/* harmony import */ var _Widget__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Widget */ \"./src/Itowns/Controls/Widget.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n/**\n * @classdesc\n * Control to display the scalebar with itowns\n *\n * @constructor\n * @alias itowns.control.Scale\n * @extends {itowns.control.Widget}\n * @alias itowns.control.Scale\n * @param {Object} options - widget options\n * @param {String}  options.target - HTML target element or HTML target element id\n * @param {String}  options.position - \"absolute\" or \"relative\"\n * @example\n * var scale = new itowns.control.Scale();\n *\n */\n\nfunction Scale(options) {\n  if (!(this instanceof Scale)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  }\n\n  if (_typeof(options) !== \"object\") {\n    throw new Error(\"ERROR WRONG_TYPE : options should be an object\");\n  }\n\n  this._initialize();\n\n  var container = this._initContainer();\n\n  _Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].call(this, {\n    name: \"GraphicScale\",\n    element: container,\n    target: options.target,\n    position: options.position\n  });\n}\n/*\n * @lends module:Scale\n */\n\n\nScale.prototype = Object.create(_Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prototype, {}); // retrieves methods of the common class ScaleDOM\n\n_Common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].assign(Scale.prototype, _Common_Controls_ScaleDOM__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n/**\n * Constructor (alias)\n *\n * @private\n */\n\nScale.prototype.constructor = Scale; // ################################################################### //\n// ############## public methods (getters, setters) ################## //\n// ################################################################### //\n\n/**\n * Bind globe to control\n *\n * @param {GlobeViewExtended} globe - the globe\n */\n\nScale.prototype.setGlobe = function (globe) {\n  // info : this function is called after a globe.addWidget() or a globe.removeWidget()\n  if (globe) {\n    // In the case of the adding of a control to the globe\n    var self = this;\n    /**\n     * Definition of the scaleControl callback :\n     * when the view is changing, we recalculate the graphic scale\n     */\n\n    this._callbacks.onChangedViewCallback = function () {\n      var value = globe.pixelsToMeters(200);\n      value = Math.floor(value);\n      var digit = Math.pow(10, value.toString().length - 1);\n      value = Math.round(value / digit) * digit;\n      var pix = globe.metersToPixels(value);\n      var unit = \"m\";\n\n      if (value >= 1000) {\n        value /= 1000;\n        unit = \"km\";\n      }\n\n      self.getElement().innerHTML = value + \" \" + unit;\n      self.getElement().style.width = pix + \"px\";\n    }; // Ajout des listeners\n    // initialization\n\n\n    if (globe.isInitialized()) {\n      this._callbacks.onChangedViewCallback();\n    } else {\n      globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.GLOBE_INITIALIZED, this._callbacks.onChangedViewCallback);\n    } // At every globe range movement, scale bar may be updated,\n\n\n    globe.listen(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.RANGE_CHANGED, this._callbacks.onChangedViewCallback);\n  } else if (globe == null) {\n    // we remove the listeners linked to the scalecontrol which has been deleted\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.GLOBE_INITIALIZED, this._callbacks.onChangedViewCallback);\n\n    this._globe.forget(_GlobeViewExtended__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENTS.RANGE_CHANGED, this._callbacks.onChangedViewCallback); // if globe == null we remove the scale control\n    // delete the scaleControl DOM\n\n\n    while (this.getElement().hasChildNodes()) {\n      this.getElement().removeChild(this.getElement().lastChild);\n    }\n\n    this.getElement().parentNode.removeChild(this.getElement());\n  } // call original setGlobe method\n\n\n  _Widget__WEBPACK_IMPORTED_MODULE_4__[\"default\"].prototype.setGlobe.call(this, globe);\n}; // ################################################################### //\n// ##################### init component ############################## //\n// ################################################################### //\n\n/**\n * Initialize Scale control (called by constructor)\n *\n * @private\n */\n\n\nScale.prototype._initialize = function () {\n  // id of the widget : usefull to suffix the CSS ids (to handle cases with several widgets on the same page)\n  this._uid = _Common_Utils_SelectorID__WEBPACK_IMPORTED_MODULE_2__[\"default\"].generate(); // div which will contain the list divs.\n\n  this._ScaleContainer = null; // callbacks\n\n  this._callbacks = {};\n};\n/**\n * Create control main container\n *\n * @method _initContainer\n * @returns {DOMElement} container - widget container\n * @private\n */\n\n\nScale.prototype._initContainer = function () {\n  var container = this._createMainContainerElement();\n\n  return container;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Scale);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvU2NhbGUuanM/YzZjMSJdLCJuYW1lcyI6WyJTY2FsZSIsIm9wdGlvbnMiLCJUeXBlRXJyb3IiLCJFcnJvciIsIl9pbml0aWFsaXplIiwiY29udGFpbmVyIiwiX2luaXRDb250YWluZXIiLCJXaWRnZXQiLCJjYWxsIiwibmFtZSIsImVsZW1lbnQiLCJ0YXJnZXQiLCJwb3NpdGlvbiIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsIlV0aWxzIiwiYXNzaWduIiwiU2NhbGVET00iLCJjb25zdHJ1Y3RvciIsInNldEdsb2JlIiwiZ2xvYmUiLCJzZWxmIiwiX2NhbGxiYWNrcyIsIm9uQ2hhbmdlZFZpZXdDYWxsYmFjayIsInZhbHVlIiwicGl4ZWxzVG9NZXRlcnMiLCJNYXRoIiwiZmxvb3IiLCJkaWdpdCIsInBvdyIsInRvU3RyaW5nIiwibGVuZ3RoIiwicm91bmQiLCJwaXgiLCJtZXRlcnNUb1BpeGVscyIsInVuaXQiLCJnZXRFbGVtZW50IiwiaW5uZXJIVE1MIiwic3R5bGUiLCJ3aWR0aCIsImlzSW5pdGlhbGl6ZWQiLCJsaXN0ZW4iLCJHbG9iZVZpZXdFeHRlbmRlZCIsIkVWRU5UUyIsIkdMT0JFX0lOSVRJQUxJWkVEIiwiUkFOR0VfQ0hBTkdFRCIsIl9nbG9iZSIsImZvcmdldCIsImhhc0NoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImxhc3RDaGlsZCIsInBhcmVudE5vZGUiLCJfdWlkIiwiU2VsZWN0b3JJRCIsImdlbmVyYXRlIiwiX1NjYWxlQ29udGFpbmVyIiwiX2NyZWF0ZU1haW5Db250YWluZXJFbGVtZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztBQWVBLFNBQVNBLEtBQVQsQ0FBZ0JDLE9BQWhCLEVBQXlCO0FBQ3JCLE1BQUksRUFBRSxnQkFBZ0JELEtBQWxCLENBQUosRUFBOEI7QUFDMUIsVUFB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QUNBLFNBQUt1QixNQUFMLENBQVlDLE1BQVosQ0FBbUJMLDBEQUFpQixDQUFDQyxNQUFsQixDQUF5QkUsYUFBNUMsRUFBMkQsS0FBS3ZCLFVBQUwsQ0FBZ0JDLHFCQUEzRSxFQUhzQixDQUt0QjtBQUNBOzs7QUFDQSxXQUFPLEtBQUthLFVBQUwsR0FBa0JZLGFBQWxCLEVBQVAsRUFBMEM7QUFDdEMsV0FBS1osVUFBTCxHQUFrQmEsV0FBbEIsQ0FBOEIsS0FBS2IsVUFBTCxHQUFrQmMsU0FBaEQ7QUFDSDs7QUFDRCxTQUFLZCxVQUFMLEdBQWtCZSxVQUFsQixDQUE2QkYsV0FBN0IsQ0FBeUMsS0FBS2IsVUFBTCxFQUF6QztBQUNILEdBNUN1QyxDQThDeEM7OztBQUNBOUIsaURBQU0sQ0FBQ00sU0FBUCxDQUFpQk8sUUFBakIsQ0FBMEJaLElBQTFCLENBQStCLElBQS9CLEVBQXFDYSxLQUFyQztBQUNILENBaERELEMsQ0FrREE7QUFDQTtBQUNBOztBQUVBOzs7Ozs7O0FBS0FyQixLQUFLLENBQUNhLFNBQU4sQ0FBZ0JULFdBQWhCLEdBQThCLFlBQVk7QUFDdEM7QUFDQSxPQUFLaUQsSUFBTCxHQUFZQyxnRUFBVSxDQUFDQyxRQUFYLEVBQVosQ0FGc0MsQ0FJdEM7O0FBQ0EsT0FBS0MsZUFBTCxHQUF1QixJQUF2QixDQUxzQyxDQU90Qzs7QUFDQSxPQUFLakMsVUFBTCxHQUFrQixFQUFsQjtBQUNILENBVEQ7QUFXQTs7Ozs7Ozs7O0FBT0F2QixLQUFLLENBQUNhLFNBQU4sQ0FBZ0JQLGNBQWhCLEdBQWlDLFlBQVk7QUFDekMsTUFBSUQsU0FBUyxHQUFHLEtBQUtvRCwyQkFBTCxFQUFoQjs7QUFFQSxTQUFPcEQsU0FBUDtBQUNILENBSkQ7O0FBTWVMLG9FQUFmIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9Db250cm9scy9TY2FsZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHbG9iZVZpZXdFeHRlbmRlZCBmcm9tIFwiLi4vR2xvYmVWaWV3RXh0ZW5kZWRcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzXCI7XG5pbXBvcnQgU2VsZWN0b3JJRCBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzL1NlbGVjdG9ySURcIjtcbmltcG9ydCBTY2FsZURPTSBmcm9tIFwiLi4vLi4vQ29tbW9uL0NvbnRyb2xzL1NjYWxlRE9NXCI7XG5pbXBvcnQgV2lkZ2V0IGZyb20gXCIuL1dpZGdldFwiO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENvbnRyb2wgdG8gZGlzcGxheSB0aGUgc2NhbGViYXIgd2l0aCBpdG93bnNcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBpdG93bnMuY29udHJvbC5TY2FsZVxuICogQGV4dGVuZHMge2l0b3ducy5jb250cm9sLldpZGdldH1cbiAqIEBhbGlhcyBpdG93bnMuY29udHJvbC5TY2FsZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSB3aWRnZXQgb3B0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd9ICBvcHRpb25zLnRhcmdldCAtIEhUTUwgdGFyZ2V0IGVsZW1lbnQgb3IgSFRNTCB0YXJnZXQgZWxlbWVudCBpZFxuICogQHBhcmFtIHtTdHJpbmd9ICBvcHRpb25zLnBvc2l0aW9uIC0gXCJhYnNvbHV0ZVwiIG9yIFwicmVsYXRpdmVcIlxuICogQGV4YW1wbGVcbiAqIHZhciBzY2FsZSA9IG5ldyBpdG93bnMuY29udHJvbC5TY2FsZSgpO1xuICpcbiAqL1xuZnVuY3Rpb24gU2NhbGUgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU2NhbGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFUlJPUiBDTEFTU19DT05TVFJVQ1RPUlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgV1JPTkdfVFlQRSA6IG9wdGlvbnMgc2hvdWxkIGJlIGFuIG9iamVjdFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0aWFsaXplKCk7XG5cbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5faW5pdENvbnRhaW5lcigpO1xuXG4gICAgV2lkZ2V0LmNhbGwoXG4gICAgICAgIHRoaXMsIHtcbiAgICAgICAgICAgIG5hbWUgOiBcIkdyYXBoaWNTY2FsZVwiLFxuICAgICAgICAgICAgZWxlbWVudCA6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHRhcmdldCA6IG9wdGlvbnMudGFyZ2V0LFxuICAgICAgICAgICAgcG9zaXRpb24gOiBvcHRpb25zLnBvc2l0aW9uXG4gICAgICAgIH1cbiAgICApO1xufVxuXG4vKlxuICogQGxlbmRzIG1vZHVsZTpTY2FsZVxuICovXG5TY2FsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpZGdldC5wcm90b3R5cGUsIHt9KTtcblxuLy8gcmV0cmlldmVzIG1ldGhvZHMgb2YgdGhlIGNvbW1vbiBjbGFzcyBTY2FsZURPTVxuVXRpbHMuYXNzaWduKFNjYWxlLnByb3RvdHlwZSwgU2NhbGVET00pO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIChhbGlhcylcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5TY2FsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTY2FsZTtcblxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMgcHVibGljIG1ldGhvZHMgKGdldHRlcnMsIHNldHRlcnMpICMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4vKipcbiAqIEJpbmQgZ2xvYmUgdG8gY29udHJvbFxuICpcbiAqIEBwYXJhbSB7R2xvYmVWaWV3RXh0ZW5kZWR9IGdsb2JlIC0gdGhlIGdsb2JlXG4gKi9cblNjYWxlLnByb3RvdHlwZS5zZXRHbG9iZSA9IGZ1bmN0aW9uIChnbG9iZSkge1xuICAgIC8vIGluZm8gOiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZnRlciBhIGdsb2JlLmFkZFdpZGdldCgpIG9yIGEgZ2xvYmUucmVtb3ZlV2lkZ2V0KClcblxuICAgIGlmIChnbG9iZSkgeyAvLyBJbiB0aGUgY2FzZSBvZiB0aGUgYWRkaW5nIG9mIGEgY29udHJvbCB0byB0aGUgZ2xvYmVcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5pdGlvbiBvZiB0aGUgc2NhbGVDb250cm9sIGNhbGxiYWNrIDpcbiAgICAgICAgICogd2hlbiB0aGUgdmlldyBpcyBjaGFuZ2luZywgd2UgcmVjYWxjdWxhdGUgdGhlIGdyYXBoaWMgc2NhbGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkNoYW5nZWRWaWV3Q2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBnbG9iZS5waXhlbHNUb01ldGVycygyMDApO1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKTtcbiAgICAgICAgICAgIHZhciBkaWdpdCA9IE1hdGgucG93KDEwLCB2YWx1ZS50b1N0cmluZygpLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlIC8gZGlnaXQpICogZGlnaXQ7XG4gICAgICAgICAgICB2YXIgcGl4ID0gZ2xvYmUubWV0ZXJzVG9QaXhlbHModmFsdWUpO1xuICAgICAgICAgICAgdmFyIHVuaXQgPSBcIm1cIjtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+PSAxMDAwKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgLz0gMTAwMDtcbiAgICAgICAgICAgICAgICB1bml0ID0gXCJrbVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5nZXRFbGVtZW50KCkuaW5uZXJIVE1MID0gdmFsdWUgKyBcIiBcIiArIHVuaXQ7XG4gICAgICAgICAgICBzZWxmLmdldEVsZW1lbnQoKS5zdHlsZS53aWR0aCA9IHBpeCArIFwicHhcIjtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQWpvdXQgZGVzIGxpc3RlbmVyc1xuICAgICAgICAvLyBpbml0aWFsaXphdGlvblxuICAgICAgICBpZiAoZ2xvYmUuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25DaGFuZ2VkVmlld0NhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iZS5saXN0ZW4oR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLkdMT0JFX0lOSVRJQUxJWkVELCB0aGlzLl9jYWxsYmFja3Mub25DaGFuZ2VkVmlld0NhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF0IGV2ZXJ5IGdsb2JlIHJhbmdlIG1vdmVtZW50LCBzY2FsZSBiYXIgbWF5IGJlIHVwZGF0ZWQsXG4gICAgICAgIGdsb2JlLmxpc3RlbihHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuUkFOR0VfQ0hBTkdFRCwgdGhpcy5fY2FsbGJhY2tzLm9uQ2hhbmdlZFZpZXdDYWxsYmFjayk7XG4gICAgfSBlbHNlIGlmIChnbG9iZSA9PSBudWxsKSB7XG4gICAgICAgIC8vIHdlIHJlbW92ZSB0aGUgbGlzdGVuZXJzIGxpbmtlZCB0byB0aGUgc2NhbGVjb250cm9sIHdoaWNoIGhhcyBiZWVuIGRlbGV0ZWRcbiAgICAgICAgdGhpcy5fZ2xvYmUuZm9yZ2V0KEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5HTE9CRV9JTklUSUFMSVpFRCwgdGhpcy5fY2FsbGJhY2tzLm9uQ2hhbmdlZFZpZXdDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuX2dsb2JlLmZvcmdldChHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuUkFOR0VfQ0hBTkdFRCwgdGhpcy5fY2FsbGJhY2tzLm9uQ2hhbmdlZFZpZXdDYWxsYmFjayk7XG5cbiAgICAgICAgLy8gaWYgZ2xvYmUgPT0gbnVsbCB3ZSByZW1vdmUgdGhlIHNjYWxlIGNvbnRyb2xcbiAgICAgICAgLy8gZGVsZXRlIHRoZSBzY2FsZUNvbnRyb2wgRE9NXG4gICAgICAgIHdoaWxlICh0aGlzLmdldEVsZW1lbnQoKS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLnJlbW92ZUNoaWxkKHRoaXMuZ2V0RWxlbWVudCgpLmxhc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmdldEVsZW1lbnQoKSk7XG4gICAgfVxuXG4gICAgLy8gY2FsbCBvcmlnaW5hbCBzZXRHbG9iZSBtZXRob2RcbiAgICBXaWRnZXQucHJvdG90eXBlLnNldEdsb2JlLmNhbGwodGhpcywgZ2xvYmUpO1xufTtcblxuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIGluaXQgY29tcG9uZW50ICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAvL1xuXG4vKipcbiAqIEluaXRpYWxpemUgU2NhbGUgY29udHJvbCAoY2FsbGVkIGJ5IGNvbnN0cnVjdG9yKVxuICpcbiAqIEBwcml2YXRlXG4gKi9cblNjYWxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBpZCBvZiB0aGUgd2lkZ2V0IDogdXNlZnVsbCB0byBzdWZmaXggdGhlIENTUyBpZHMgKHRvIGhhbmRsZSBjYXNlcyB3aXRoIHNldmVyYWwgd2lkZ2V0cyBvbiB0aGUgc2FtZSBwYWdlKVxuICAgIHRoaXMuX3VpZCA9IFNlbGVjdG9ySUQuZ2VuZXJhdGUoKTtcblxuICAgIC8vIGRpdiB3aGljaCB3aWxsIGNvbnRhaW4gdGhlIGxpc3QgZGl2cy5cbiAgICB0aGlzLl9TY2FsZUNvbnRhaW5lciA9IG51bGw7XG5cbiAgICAvLyBjYWxsYmFja3NcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGNvbnRyb2wgbWFpbiBjb250YWluZXJcbiAqXG4gKiBAbWV0aG9kIF9pbml0Q29udGFpbmVyXG4gKiBAcmV0dXJucyB7RE9NRWxlbWVudH0gY29udGFpbmVyIC0gd2lkZ2V0IGNvbnRhaW5lclxuICogQHByaXZhdGVcbiAqL1xuU2NhbGUucHJvdG90eXBlLl9pbml0Q29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9jcmVhdGVNYWluQ29udGFpbmVyRWxlbWVudCgpO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/Scale.js\n");

/***/ }),

/***/ "./src/Itowns/Controls/Utils/PositionFormater.js":
/*!*******************************************************!*\
  !*** ./src/Itowns/Controls/Utils/PositionFormater.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n* implementation :\n* cf. http://uihacker.blogspot.fr/2011/07/javascript-formatting-latitudelongitude.html?m=1\n* cf. http://andrew.hedges.name/experiments/convert_lat_long/\n* FIXME formater la sortie\n* cf. http://mottie.github.io/javascript-number-formatter/\n* cf. https://github.com/j-/number-formatter\n*\n*/\n\n/** ... */\nvar PositionFormater = {\n  /** ... */\n  NORTH: \"N\",\n\n  /** ... */\n  SOUTH: \"S\",\n\n  /** ... */\n  EAST: \"E\",\n\n  /** ... */\n  WEST: \"W\",\n\n  /** ... */\n  digitSecond: 2,\n\n  /** ... */\n  digitDecimal: 5,\n\n  /** ... */\n  digitRadian: 8,\n  roundToDecimal: function roundToDecimal(inputNum, numPoints) {\n    var multiplier = Math.pow(10, numPoints);\n    return Math.round(inputNum * multiplier) / multiplier;\n  },\n  decimalToRadian: function decimalToRadian(location) {\n    var d = 0.01745329251994329577;\n    return this.roundToDecimal(location * d, this.digitRadian);\n  },\n  decimalToGrade: function decimalToGrade(location) {\n    var d = 1.11111111111111111111;\n    return this.roundToDecimal(location * d, this.digitRadian);\n  },\n  decimalToDMS: function decimalToDMS(location, hemisphere) {\n    if (location < 0) {\n      location *= -1; // strip dash '-'\n    }\n\n    var degrees = Math.floor(location); // strip decimal remainer for degrees\n\n    var minutesFromRemainder = (location - degrees) * 60; // multiply the remainer by 60\n\n    var minutes = Math.floor(minutesFromRemainder); // get minutes from integer\n\n    var secondsFromRemainder = (minutesFromRemainder - minutes) * 60; // multiply the remainer by 60\n\n    var seconds = this.roundToDecimal(secondsFromRemainder, this.digitSecond); // get minutes by rounding to integer\n\n    var dms = degrees + \"° \" + minutes + \"' \" + seconds + \"\\\" \";\n\n    if (hemisphere) {\n      dms += hemisphere;\n    }\n\n    return dms;\n  },\n  decimalLatToDMS: function decimalLatToDMS(location) {\n    var hemisphere = location < 0 ? this.SOUTH : this.NORTH; // south if negative\n\n    return this.decimalToDMS(location, hemisphere);\n  },\n  decimalLongToDMS: function decimalLongToDMS(location) {\n    var hemisphere = location < 0 ? this.WEST : this.EAST; // west if negative\n\n    return this.decimalToDMS(location, hemisphere);\n  },\n  DMSToDecimal: function DMSToDecimal(degrees, minutes, seconds, hemisphere) {\n    var ddVal = degrees + minutes / 60 + seconds / 3600;\n    ddVal = hemisphere === this.SOUTH || hemisphere === this.WEST ? ddVal * -1 : ddVal;\n    var decimal = this.roundToDecimal(ddVal, this.digitDecimal);\n    return decimal;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (PositionFormater);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvVXRpbHMvUG9zaXRpb25Gb3JtYXRlci5qcz84ZmJjIl0sIm5hbWVzIjpbIlBvc2l0aW9uRm9ybWF0ZXIiLCJOT1JUSCIsIlNPVVRIIiwiRUFTVCIsIldFU1QiLCJkaWdpdFNlY29uZCIsImRpZ2l0RGVjaW1hbCIsImRpZ2l0UmFkaWFuIiwicm91bmRUb0RlY2ltYWwiLCJpbnB1dE51bSIsIm51bVBvaW50cyIsIm11bHRpcGxpZXIiLCJNYXRoIiwicG93Iiwicm91bmQiLCJkZWNpbWFsVG9SYWRpYW4iLCJsb2NhdGlvbiIsImQiLCJkZWNpbWFsVG9HcmFkZSIsImRlY2ltYWxUb0RNUyIsImhlbWlzcGhlcmUiLCJkZWdyZWVzIiwiZmxvb3IiLCJtaW51dGVzRnJvbVJlbWFpbmRlciIsIm1pbnV0ZXMiLCJzZWNvbmRzRnJvbVJlbWFpbmRlciIsInNlY29uZHMiLCJkbXMiLCJkZWNpbWFsTGF0VG9ETVMiLCJkZWNpbWFsTG9uZ1RvRE1TIiwiRE1TVG9EZWNpbWFsIiwiZGRWYWwiLCJkZWNpbWFsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOzs7Ozs7Ozs7O0FBU0E7QUFDQSxJQUFJQSxnQkFBZ0IsR0FBRztBQUVuQjtBQUNBQyxPQUFLLEVBQUcsR0FIVzs7QUFLbkI7QUFDQUMsT0FBSyxFQUFHLEdBTlc7O0FBUW5CO0FBQ0FDLE1BQUksRUFBRyxHQVRZOztBQVduQjtBQUNBQyxNQUFJLEVBQUcsR0FaWTs7QUFjbkI7QUFDQUMsYUFBVyxFQUFHLENBZks7O0FBaUJuQjtBQUNBQyxjQUFZLEVBQUcsQ0FsQkk7O0FBb0JuQjtBQUNBQyxhQUFXLEVBQUcsQ0FyQks7QUF1Qm5CQyxnQkFBYyxFQUFHLHdCQUFVQyxRQUFWLEVBQW9CQyxTQUFwQixFQUErQjtBQUM1QyxRQUFJQyxVQUFVLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTLEVBQVQsRUFBYUgsU0FBYixDQUFqQjtBQUNBLFdBQU9FLElBQUksQ0FB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cy9Qb3NpdGlvbkZvcm1hdGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIGltcGxlbWVudGF0aW9uIDpcbiogY2YuIGh0dHA6Ly91aWhhY2tlci5ibG9nc3BvdC5mci8yMDExLzA3L2phdmFzY3JpcHQtZm9ybWF0dGluZy1sYXRpdHVkZWxvbmdpdHVkZS5odG1sP209MVxuKiBjZi4gaHR0cDovL2FuZHJldy5oZWRnZXMubmFtZS9leHBlcmltZW50cy9jb252ZXJ0X2xhdF9sb25nL1xuKiBGSVhNRSBmb3JtYXRlciBsYSBzb3J0aWVcbiogY2YuIGh0dHA6Ly9tb3R0aWUuZ2l0aHViLmlvL2phdmFzY3JpcHQtbnVtYmVyLWZvcm1hdHRlci9cbiogY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9qLS9udW1iZXItZm9ybWF0dGVyXG4qXG4qL1xuLyoqIC4uLiAqL1xudmFyIFBvc2l0aW9uRm9ybWF0ZXIgPSB7XG5cbiAgICAvKiogLi4uICovXG4gICAgTk9SVEggOiBcIk5cIixcblxuICAgIC8qKiAuLi4gKi9cbiAgICBTT1VUSCA6IFwiU1wiLFxuXG4gICAgLyoqIC4uLiAqL1xuICAgIEVBU1QgOiBcIkVcIixcblxuICAgIC8qKiAuLi4gKi9cbiAgICBXRVNUIDogXCJXXCIsXG5cbiAgICAvKiogLi4uICovXG4gICAgZGlnaXRTZWNvbmQgOiAyLFxuXG4gICAgLyoqIC4uLiAqL1xuICAgIGRpZ2l0RGVjaW1hbCA6IDUsXG5cbiAgICAvKiogLi4uICovXG4gICAgZGlnaXRSYWRpYW4gOiA4LFxuXG4gICAgcm91bmRUb0RlY2ltYWwgOiBmdW5jdGlvbiAoaW5wdXROdW0sIG51bVBvaW50cykge1xuICAgICAgICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBudW1Qb2ludHMpO1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChpbnB1dE51bSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbiAgICB9LFxuXG4gICAgZGVjaW1hbFRvUmFkaWFuIDogZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgIHZhciBkID0gMC4wMTc0NTMyOTI1MTk5NDMyOTU3NztcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmRUb0RlY2ltYWwobG9jYXRpb24gKiBkLCB0aGlzLmRpZ2l0UmFkaWFuKTtcbiAgICB9LFxuXG4gICAgZGVjaW1hbFRvR3JhZGUgOiBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgdmFyIGQgPSAxLjExMTExMTExMTExMTExMTExMTExO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZFRvRGVjaW1hbChsb2NhdGlvbiAqIGQsIHRoaXMuZGlnaXRSYWRpYW4pO1xuICAgIH0sXG5cbiAgICBkZWNpbWFsVG9ETVMgOiBmdW5jdGlvbiAobG9jYXRpb24sIGhlbWlzcGhlcmUpIHtcbiAgICAgICAgaWYgKGxvY2F0aW9uIDwgMCkge1xuICAgICAgICAgICAgbG9jYXRpb24gKj0gLTE7IC8vIHN0cmlwIGRhc2ggJy0nXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVncmVlcyA9IE1hdGguZmxvb3IobG9jYXRpb24pOyAvLyBzdHJpcCBkZWNpbWFsIHJlbWFpbmVyIGZvciBkZWdyZWVzXG4gICAgICAgIHZhciBtaW51dGVzRnJvbVJlbWFpbmRlciA9IChsb2NhdGlvbiAtIGRlZ3JlZXMpICogNjA7IC8vIG11bHRpcGx5IHRoZSByZW1haW5lciBieSA2MFxuICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IobWludXRlc0Zyb21SZW1haW5kZXIpOyAvLyBnZXQgbWludXRlcyBmcm9tIGludGVnZXJcbiAgICAgICAgdmFyIHNlY29uZHNGcm9tUmVtYWluZGVyID0gKG1pbnV0ZXNGcm9tUmVtYWluZGVyIC0gbWludXRlcykgKiA2MDsgLy8gbXVsdGlwbHkgdGhlIHJlbWFpbmVyIGJ5IDYwXG4gICAgICAgIHZhciBzZWNvbmRzID0gdGhpcy5yb3VuZFRvRGVjaW1hbChzZWNvbmRzRnJvbVJlbWFpbmRlciwgdGhpcy5kaWdpdFNlY29uZCk7IC8vIGdldCBtaW51dGVzIGJ5IHJvdW5kaW5nIHRvIGludGVnZXJcblxuICAgICAgICB2YXIgZG1zID0gZGVncmVlcyArIFwiwrAgXCIgKyBtaW51dGVzICsgXCInIFwiICsgc2Vjb25kcyArIFwiXFxcIiBcIjtcbiAgICAgICAgaWYgKGhlbWlzcGhlcmUpIHtcbiAgICAgICAgICAgIGRtcyArPSBoZW1pc3BoZXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRtcztcbiAgICB9LFxuXG4gICAgZGVjaW1hbExhdFRvRE1TIDogZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgIHZhciBoZW1pc3BoZXJlID0gKGxvY2F0aW9uIDwgMCkgPyB0aGlzLlNPVVRIIDogdGhpcy5OT1JUSDsgLy8gc291dGggaWYgbmVnYXRpdmVcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjaW1hbFRvRE1TKGxvY2F0aW9uLCBoZW1pc3BoZXJlKTtcbiAgICB9LFxuXG4gICAgZGVjaW1hbExvbmdUb0RNUyA6IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICB2YXIgaGVtaXNwaGVyZSA9IChsb2NhdGlvbiA8IDApID8gdGhpcy5XRVNUIDogdGhpcy5FQVNUOyAvLyB3ZXN0IGlmIG5lZ2F0aXZlXG4gICAgICAgIHJldHVybiB0aGlzLmRlY2ltYWxUb0RNUyhsb2NhdGlvbiwgaGVtaXNwaGVyZSk7XG4gICAgfSxcblxuICAgIERNU1RvRGVjaW1hbCA6IGZ1bmN0aW9uIChkZWdyZWVzLCBtaW51dGVzLCBzZWNvbmRzLCBoZW1pc3BoZXJlKSB7XG4gICAgICAgIHZhciBkZFZhbCA9IGRlZ3JlZXMgKyBtaW51dGVzIC8gNjAgKyBzZWNvbmRzIC8gMzYwMDtcbiAgICAgICAgZGRWYWwgPSAoaGVtaXNwaGVyZSA9PT0gdGhpcy5TT1VUSCB8fCBoZW1pc3BoZXJlID09PSB0aGlzLldFU1QpID8gZGRWYWwgKiAtMSA6IGRkVmFsO1xuXG4gICAgICAgIHZhciBkZWNpbWFsID0gdGhpcy5yb3VuZFRvRGVjaW1hbChkZFZhbCwgdGhpcy5kaWdpdERlY2ltYWwpO1xuICAgICAgICByZXR1cm4gZGVjaW1hbDtcbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBvc2l0aW9uRm9ybWF0ZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/Utils/PositionFormater.js\n");

/***/ }),

/***/ "./src/Itowns/Controls/Widget.js":
/*!***************************************!*\
  !*** ./src/Itowns/Controls/Widget.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"Widget\");\n/**\n* @classdesc\n* iTowns Widget class.\n* Every geoportal control inherits of this class.\n*\n* @constructor\n* @alias itowns.control.Widget\n* @param {Object} options - options for function call.\n* @param {String}  options.name - Name of the widget.\n* @param {Object}  options.element - HTML element of the widget\n* @param {Object|String}  options.target - HTML element or HTML element id where to put the widget\n* @param {String}  options.position - \"absolute\" or \"relative\"\n* @example\n* var myWidget = new itowns.control.Widget({\n*      name : \"myWidget\",\n*      element : myWidgetDiv,\n*      target : myWidgetTargetDiv,\n*      position: \"absolute\"\n* });\n*/\n\nfunction Widget(options) {\n  this._name = options.name !== undefined ? options.name : null;\n  this._element = options.element !== undefined ? options.element : null;\n  this._position = options.position !== undefined ? options.position : null;\n  this._target = null;\n  this._globe = null;\n\n  if (options.target) {\n    this.setTarget(options.target, this._position);\n  }\n}\n/**\n * Constructor (alias)\n */\n\n\nWidget.prototype.constructor = Widget;\n/**\n * Return the widget's container element.\n *\n * @method\n * @return {HTMLElement} widget's container element.\n */\n\nWidget.prototype.getElement = function getElement() {\n  return this._element;\n};\n/**\n * Associates the widget to a specified target div.\n *\n * @method\n * @param {HTMLElement|String} target - widget target div html element or target div id.\n * @param {String} position - html position attribute.\n */\n\n\nWidget.prototype.setTarget = function setTarget(target, position) {\n  this._target = typeof target === \"string\" ? document.getElementById(target) : target;\n\n  if (!this._element) {\n    logger.error(\"Widget:setTarget - widget element not created\");\n    return;\n  }\n\n  this._element.style.position = position || \"relative\";\n\n  this._target.appendChild(this._element);\n};\n/**\n * Return the widget's target div.\n *\n * @method\n * @return {HTMLElement} widget's target div.\n */\n\n\nWidget.prototype.getTarget = function getTarget() {\n  return this._target;\n};\n/**\n * Return the widget's element position.\n *\n * @method\n * @return {String} widget's element position.\n */\n\n\nWidget.prototype.getPosition = function getPosition() {\n  return this._position;\n};\n/**\n * Get the globe associated with the widget. Undefined if the widget is not added to a globe.\n *\n * @method\n * @return {Object} globe\n */\n\n\nWidget.prototype.getGlobe = function getGlobe() {\n  return this._globe;\n};\n/**\n * Associate a globe to the widget.\n *\n * @method\n * @param {Object} globe - Globe to associate to the widget.\n */\n\n\nWidget.prototype.setGlobe = function setGlobe(globe) {\n  this._globe = globe;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Widget);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvQ29udHJvbHMvV2lkZ2V0LmpzP2IwMGQiXSwibmFtZXMiOlsibG9nZ2VyIiwiTG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiV2lkZ2V0Iiwib3B0aW9ucyIsIl9uYW1lIiwibmFtZSIsInVuZGVmaW5lZCIsIl9lbGVtZW50IiwiZWxlbWVudCIsIl9wb3NpdGlvbiIsInBvc2l0aW9uIiwiX3RhcmdldCIsIl9nbG9iZSIsInRhcmdldCIsInNldFRhcmdldCIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwiZ2V0RWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJlcnJvciIsInN0eWxlIiwiYXBwZW5kQ2hpbGQiLCJnZXRUYXJnZXQiLCJnZXRQb3NpdGlvbiIsImdldEdsb2JlIiwic2V0R2xvYmUiLCJnbG9iZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUEsSUFBSUEsTUFBTSxHQUFHQyxxRUFBTSxDQUFDQyxTQUFQLENBQWlCLFFBQWpCLENBQWI7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0JBLFNBQVNDLE1BQVQsQ0FBaUJDLE9BQWpCLEVBQTBCO0FBQ3RCLE9BQUtDLEtBQUwsR0FBY0QsT0FBTyxDQUFDRSxJQUFSLEtBQWlCQyxTQUFsQixHQUErQkgsT0FBTyxDQUFDRSxJQUF2QyxHQUE4QyxJQUEzRDtBQUNBLE9BQUtFLFFBQUwsR0FBaUJKLE9BQU8sQ0FBQ0ssT0FBUixLQUFvQkYsU0FBckIsR0FBa0NILE9BQU8sQ0FBQ0ssT0FBMUMsR0FBb0QsSUFBcEU7QUFDQSxPQUFLQyxTQUFMLEdBQWtCTixPQUFPLENBQUNPLFFBQVIsS0FBcUJKLFNBQXRCLEdBQW1DSCxPQUFPLENBQUNPLFFBQTNDLEdBQXNELElBQXZFO0FBQ0EsT0FBS0MsT0FBTCxHQUFlLElBQWY7QUFDQSxPQUFLQyxNQUFMLEdBQWMsSUFBZDs7QUFFQSxNQUFJVCxPQUFPLENBQUNVLE1BQVosRUFBb0I7QUFDaEIsU0FBS0MsU0FBTCxDQUFlWCxPQUFPLENBQUNVLE1BQXZCLEVBQStCLEtBQUtKLFNBQXBDO0FBQ0g7QUFDSjtBQUVEOzs7OztBQUdBUCxNQUFNLENBQUNhLFNBQVAsQ0FBaUJDLFdBQWpCLEdBQStCZCxNQUEvQjtBQUVBOzs7Ozs7O0FBTUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQkUsVUFBakIsR0FBOEIsU0FBU0EsVUFBVCxHQUF1QjtBQUNqRCxTQUFPLEtBQUtWLFFBQVo7QUFDSCxDQUZEO0FBSUE7Ozs7Ozs7OztBQU9BTCxNQUFNLENBQUNhLFNBQVAsQ0FBaUJELFNBQWpCLEdBQTZCLFNBQVNBLFNBQVQsQ0FBb0JELE1BQXBCLEVBQTRCSCxRQUE1QixFQUFzQztBQUMvRCxPQUFLQyxPQUFMLEdBQWUsT0FBT0UsTUFBUCxLQUFrQixRQUFsQixHQUE2QkssUUFBUSxDQUFDQyxjQUFULENBQXdCTixNQUF4QixDQUE3QixHQUErREEsTUFBOUU7O0FBRUEsTUFBSSxDQUFDLEtBQUtOLFFBQVYsRUFBb0I7QUFDaEJSLFVBQU0sQ0FBQ3FCLEtBQVAsQ0FBYSwrQ0FBYjtBQUNBO0FBQ0g7O0FBRUQsT0FBS2IsUUFBTCxDQUFjYyxLQUFkLENBQW9CWCxRQUFwQixHQUErQkEsUUFBUSxJQUFJLFVBQTNDOztBQUVBLE9BQUtDLE9BQUwsQ0FBYVcsV0FBYixDQUF5QixLQUFLZixRQUE5QjtBQUNILENBWEQ7QUFhQTs7Ozs7Ozs7QUFNQUwsTUFBTSxDQUFDYSxTQUFQLENBQWlCUSxTQUFqQixHQUE2QixTQUFTQSxTQUFULEdBQXNCO0FBQy9DLFNBQU8sS0FBS1osT0FBWjtBQUNILENBRkQ7QUFJQTs7Ozs7Ozs7QUFNQVQsTUFBTSxDQUFDYSxTQUFQLENBQWlCUyxXQUFqQixHQUErQixTQUFTQSxXQUFULEdBQXdCO0FBQ25ELFNBQU8sS0FBS2YsU0FBWjtBQUNILENBRkQ7QUFJQTs7Ozs7Ozs7QUFNQVAsTUFBTSxDQUFDYSxTQUFQLENBQWlCVSxRQUFqQixHQUE0QixTQUFTQSxRQUFULEdBQXFCO0FBQzdDLFNBQU8sS0FBS2IsTUFBWjtBQUNILENBRkQ7QUFJQTs7Ozs7Ozs7QUFNQVYsTUFBTSxDQUFDYSxTQUFQLENBQWlCVyxRQUFqQixHQUE0QixTQUFTQSxRQUFULENBQW1CQyxLQUFuQixFQUEwQjtBQUNsRCxPQUFLZixNQUFMLEdBQWNlLEtBQWQ7QUFDSCxDQUZEOztBQUllekIscUVBQWYiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0NvbnRyb2xzL1dpZGdldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcblxudmFyIGxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoXCJXaWRnZXRcIik7XG5cbi8qKlxuKiBAY2xhc3NkZXNjXG4qIGlUb3ducyBXaWRnZXQgY2xhc3MuXG4qIEV2ZXJ5IGdlb3BvcnRhbCBjb250cm9sIGluaGVyaXRzIG9mIHRoaXMgY2xhc3MuXG4qXG4qIEBjb25zdHJ1Y3RvclxuKiBAYWxpYXMgaXRvd25zLmNvbnRyb2wuV2lkZ2V0XG4qIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgZnVuY3Rpb24gY2FsbC5cbiogQHBhcmFtIHtTdHJpbmd9ICBvcHRpb25zLm5hbWUgLSBOYW1lIG9mIHRoZSB3aWRnZXQuXG4qIEBwYXJhbSB7T2JqZWN0fSAgb3B0aW9ucy5lbGVtZW50IC0gSFRNTCBlbGVtZW50IG9mIHRoZSB3aWRnZXRcbiogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSAgb3B0aW9ucy50YXJnZXQgLSBIVE1MIGVsZW1lbnQgb3IgSFRNTCBlbGVtZW50IGlkIHdoZXJlIHRvIHB1dCB0aGUgd2lkZ2V0XG4qIEBwYXJhbSB7U3RyaW5nfSAgb3B0aW9ucy5wb3NpdGlvbiAtIFwiYWJzb2x1dGVcIiBvciBcInJlbGF0aXZlXCJcbiogQGV4YW1wbGVcbiogdmFyIG15V2lkZ2V0ID0gbmV3IGl0b3ducy5jb250cm9sLldpZGdldCh7XG4qICAgICAgbmFtZSA6IFwibXlXaWRnZXRcIixcbiogICAgICBlbGVtZW50IDogbXlXaWRnZXREaXYsXG4qICAgICAgdGFyZ2V0IDogbXlXaWRnZXRUYXJnZXREaXYsXG4qICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIlxuKiB9KTtcbiovXG5mdW5jdGlvbiBXaWRnZXQgKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9uYW1lID0gKG9wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMubmFtZSA6IG51bGw7XG4gICAgdGhpcy5fZWxlbWVudCA9IChvcHRpb25zLmVsZW1lbnQgIT09IHVuZGVmaW5lZCkgPyBvcHRpb25zLmVsZW1lbnQgOiBudWxsO1xuICAgIHRoaXMuX3Bvc2l0aW9uID0gKG9wdGlvbnMucG9zaXRpb24gIT09IHVuZGVmaW5lZCkgPyBvcHRpb25zLnBvc2l0aW9uIDogbnVsbDtcbiAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIHRoaXMuX2dsb2JlID0gbnVsbDtcblxuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICB0aGlzLnNldFRhcmdldChvcHRpb25zLnRhcmdldCwgdGhpcy5fcG9zaXRpb24pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RvciAoYWxpYXMpXG4gKi9cbldpZGdldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBXaWRnZXQ7XG5cbi8qKlxuICogUmV0dXJuIHRoZSB3aWRnZXQncyBjb250YWluZXIgZWxlbWVudC5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gd2lkZ2V0J3MgY29udGFpbmVyIGVsZW1lbnQuXG4gKi9cbldpZGdldC5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIGdldEVsZW1lbnQgKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xufTtcblxuLyoqXG4gKiBBc3NvY2lhdGVzIHRoZSB3aWRnZXQgdG8gYSBzcGVjaWZpZWQgdGFyZ2V0IGRpdi5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fFN0cmluZ30gdGFyZ2V0IC0gd2lkZ2V0IHRhcmdldCBkaXYgaHRtbCBlbGVtZW50IG9yIHRhcmdldCBkaXYgaWQuXG4gKiBAcGFyYW0ge1N0cmluZ30gcG9zaXRpb24gLSBodG1sIHBvc2l0aW9uIGF0dHJpYnV0ZS5cbiAqL1xuV2lkZ2V0LnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiBzZXRUYXJnZXQgKHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICB0aGlzLl90YXJnZXQgPSB0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSA6IHRhcmdldDtcblxuICAgIGlmICghdGhpcy5fZWxlbWVudCkge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJXaWRnZXQ6c2V0VGFyZ2V0IC0gd2lkZ2V0IGVsZW1lbnQgbm90IGNyZWF0ZWRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gcG9zaXRpb24gfHwgXCJyZWxhdGl2ZVwiO1xuXG4gICAgdGhpcy5fdGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHdpZGdldCdzIHRhcmdldCBkaXYuXG4gKlxuICogQG1ldGhvZFxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9IHdpZGdldCdzIHRhcmdldCBkaXYuXG4gKi9cbldpZGdldC5wcm90b3R5cGUuZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHdpZGdldCdzIGVsZW1lbnQgcG9zaXRpb24uXG4gKlxuICogQG1ldGhvZFxuICogQHJldHVybiB7U3RyaW5nfSB3aWRnZXQncyBlbGVtZW50IHBvc2l0aW9uLlxuICovXG5XaWRnZXQucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0UG9zaXRpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBnbG9iZSBhc3NvY2lhdGVkIHdpdGggdGhlIHdpZGdldC4gVW5kZWZpbmVkIGlmIHRoZSB3aWRnZXQgaXMgbm90IGFkZGVkIHRvIGEgZ2xvYmUuXG4gKlxuICogQG1ldGhvZFxuICogQHJldHVybiB7T2JqZWN0fSBnbG9iZVxuICovXG5XaWRnZXQucHJvdG90eXBlLmdldEdsb2JlID0gZnVuY3Rpb24gZ2V0R2xvYmUgKCkge1xuICAgIHJldHVybiB0aGlzLl9nbG9iZTtcbn07XG5cbi8qKlxuICogQXNzb2NpYXRlIGEgZ2xvYmUgdG8gdGhlIHdpZGdldC5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge09iamVjdH0gZ2xvYmUgLSBHbG9iZSB0byBhc3NvY2lhdGUgdG8gdGhlIHdpZGdldC5cbiAqL1xuV2lkZ2V0LnByb3RvdHlwZS5zZXRHbG9iZSA9IGZ1bmN0aW9uIHNldEdsb2JlIChnbG9iZSkge1xuICAgIHRoaXMuX2dsb2JlID0gZ2xvYmU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXQ7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/Controls/Widget.js\n");

/***/ }),

/***/ "./src/Itowns/GlobeViewExtended.js":
/*!*****************************************!*\
  !*** ./src/Itowns/GlobeViewExtended.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! itowns */ \"itowns\");\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(itowns__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/* import GlobeView, { GLOBE_VIEW_EVENTS } from \"itowns/Core/Prefab/GlobeView\";\nimport Coordinates from \"itowns/Core/Geographic/Coordinates\";\nimport ColorLayersOrdering from \"itowns/Renderer/ColorLayersOrdering\";\nimport FeaturesUtils from \"itowns/Utils/FeaturesUtils\";\nimport { MAIN_LOOP_EVENTS } from \"itowns/Core/MainLoop\";\nimport { CONTROL_EVENTS } from \"itowns/Controls/GlobeControls\";\nimport { VIEW_EVENTS } from \"itowns/Core/View\"; */\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"GlobeViewExtended\");\n/**\n * @classdesc\n *\n * Extended itowns.GlobeView.\n *\n * @constructor\n * @extends {itowns.GlobeView}\n * @param {HTMLElement} viewerDiv - Where to instanciate the Three.js scene in the DOM\n * @param {Object} coordCarto - longitude, latitude, altitude\n * @param {Object} [options] - Optional properties.\n * @param {String} [options.position=\"relative\"] - \"absolute\" or \"relative\"\n */\n\nfunction GlobeViewExtended(viewerDiv, coordCarto, options) {\n  if (!viewerDiv.style.position || options & options.position) {\n    viewerDiv.style.position = !options || !options.position ? \"relative\" : options.position;\n  } // stockage de l'élément html porteur du globe\n\n\n  var globeViewDiv = document.createElement(\"div\");\n  globeViewDiv.style.width = \"100%\";\n  globeViewDiv.style.height = \"100%\";\n  viewerDiv.appendChild(globeViewDiv);\n  this._viewerDiv = viewerDiv; // widget container\n\n  this._widgets = []; // mapping des evenements\n\n  this._initEventMap(); // pour savoir si le globe est initialise\n\n\n  this._isInitialized = false; // call constructor\n\n  this._globeView = new itowns__WEBPACK_IMPORTED_MODULE_1__[\"GlobeView\"](globeViewDiv, coordCarto, options);\n  var self = this;\n  this.listen(GlobeViewExtended.EVENTS.GLOBE_INITIALIZED, function () {\n    self._isInitialized = true;\n  });\n\n  this._globeView.addFrameRequester(itowns__WEBPACK_IMPORTED_MODULE_1__[\"MAIN_LOOP_EVENTS\"].BEFORE_RENDER, function () {\n    clearTimeout(this._preRenderTimer);\n    self._preRenderTimer = setTimeout(function () {\n      var visibleColorLayersIds = [];\n      var visibleElevationLayersIds = [];\n\n      for (var i = 0; i < self.getGlobeView().tileLayer.info.displayed.layers.length; ++i) {\n        if (self.getGlobeView().tileLayer.info.displayed.layers[i].isColorLayer) {\n          visibleColorLayersIds.push(self.getGlobeView().tileLayer.info.displayed.layers[i].id);\n        }\n\n        if (self.getGlobeView().tileLayer.info.displayed.layers[i].isElevationLayer) {\n          visibleElevationLayersIds.push(self.getGlobeView().tileLayer.info.displayed.layers[i].id);\n        }\n      }\n\n      var currentExtent = self.getGlobeView().tileLayer.info.displayed.extent;\n\n      self._globeView.dispatchEvent({\n        type: GlobeViewExtended.EVENTS.PRE_RENDER,\n        colorLayersId: visibleColorLayersIds,\n        elevationLayersId: visibleElevationLayersIds,\n        extent: currentExtent\n      });\n    }, 100);\n  }.bind(this));\n\n  if (this._globeView.controls) {\n    this.freezeControl();\n  }\n}\n/**\n * intializes the evenements map\n */\n\n\nGlobeViewExtended.prototype._initEventMap = function () {\n  if (!GlobeViewExtended.EVENTS) {\n    GlobeViewExtended.EVENTS = {\n      RANGE_CHANGED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"CONTROL_EVENTS\"].RANGE_CHANGED,\n      CENTER_CHANGED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"CONTROL_EVENTS\"].CAMERA_TARGET_CHANGED,\n      ORIENTATION_CHANGED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"CONTROL_EVENTS\"].ORIENTATION_CHANGED,\n      LAYER_ADDED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"GLOBE_VIEW_EVENTS\"].LAYER_ADDED,\n      LAYER_REMOVED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"GLOBE_VIEW_EVENTS\"].LAYER_REMOVED,\n      LAYERS_ORDER_CHANGED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"GLOBE_VIEW_EVENTS\"].COLOR_LAYERS_ORDER_CHANGED,\n      GLOBE_INITIALIZED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"GLOBE_VIEW_EVENTS\"].GLOBE_INITIALIZED,\n      LAYERS_INITIALIZED: itowns__WEBPACK_IMPORTED_MODULE_1__[\"VIEW_EVENTS\"].LAYERS_INITIALIZED,\n      VIEW_INITIALIZED: \"viewinitialized\",\n      PRE_RENDER: \"prerender\",\n      MOUSE_MOVE: \"mousemove\",\n      AFTER_RENDER: itowns__WEBPACK_IMPORTED_MODULE_1__[\"MAIN_LOOP_EVENTS\"].AFTER_RENDER,\n      OPACITY_PROPERTY_CHANGED: \"opacity-property-changed\",\n      VISIBLE_PROPERTY_CHANGED: \"visible-property-changed\",\n      SEQUENCE_PROPERTY_CHANGED: \"sequence-property-changed\"\n    };\n  }\n};\n/**\n * Constructor (alias)\n */\n\n\nGlobeViewExtended.prototype.constructor = GlobeViewExtended;\n/**\n * Get GlobeViex Object (parent)\n * @returns {Object} itowns GlobeView object\n */\n\nGlobeViewExtended.prototype.getGlobeView = function () {\n  return this._globeView;\n};\n/**\n * Indicates if the globe is initialized or not\n *\n * @return {Boolean} isInitialized\n *\n */\n\n\nGlobeViewExtended.prototype.isInitialized = function () {\n  return this._isInitialized;\n};\n/**\n * Detects when the camera movement stops, then launch the callback given as parameter\n *\n * @param {Function} cb - The function to execute when the event occures.\n *\n */\n\n\nGlobeViewExtended.prototype.onCameraMoveStop = function (cb) {\n  var self = this;\n\n  function afterRenderHandler() {\n    self._globeView.removeFrameRequester(itowns__WEBPACK_IMPORTED_MODULE_1__[\"MAIN_LOOP_EVENTS\"].AFTER_CAMERA_UPDATE, afterRenderHandler);\n\n    cb();\n  }\n\n  ;\n\n  this._globeView.addFrameRequester(itowns__WEBPACK_IMPORTED_MODULE_1__[\"MAIN_LOOP_EVENTS\"].AFTER_CAMERA_UPDATE, afterRenderHandler);\n};\n/**\n * Disables globe controls until the globe rendering is completed\n */\n\n\nGlobeViewExtended.prototype.freezeControl = function () {\n  // disable navigation\n  this._globeView.controls.enabled = false;\n  this.onCameraMoveStop(function () {\n    this._globeView.controls.enabled = true;\n  }.bind(this));\n};\n/**\n * Associates a function to trigger when an event is received.\n *\n * @param {String} type - the event type. Can be any of {@link EVENTS}\n * @param {Function} callback - The function to execute when the event occures.\n * @return {Object} key - The event key\n *\n */\n\n\nGlobeViewExtended.prototype.listen = function (type, callback) {\n  if (typeof callback !== \"function\") {\n    logger.warn(\"no callback provided for event : \" + type);\n    return null;\n  }\n\n  var target = this._getEventTarget(type);\n\n  if (!target) {\n    return null;\n  }\n\n  if (type === GlobeViewExtended.EVENTS.AFTER_RENDER) {\n    target.addFrameRequester(type, callback);\n  } else {\n    target.addEventListener(type, callback);\n  }\n\n  return {\n    target: target,\n    callback: callback,\n    type: type\n  };\n};\n/**\n * Associates a function to trigger when a layer event is received.\n *\n * @param {Object} layer - The itowns layer.\n * @param {String} type - the event type. Can be any of {@link EVENTS}.\n * @param {Function} callback - The function to execute when the event occures.\n * @return {Object} key - The event key\n *\n */\n\n\nGlobeViewExtended.prototype.addLayerListener = function (layer, type, callback) {\n  if (typeof callback !== \"function\") {\n    logger.warn(\"no callback provided for event : \" + type);\n    return null;\n  }\n\n  layer.addEventListener(type, callback);\n  return {\n    target: layer,\n    callback: callback,\n    type: type\n  };\n};\n/**\n * Returns the target of a given event type\n *\n * @param {String} type - the event type. Can be any of {@link EVENTS}\n * @return {Object} target - The event target.\n *\n */\n\n\nGlobeViewExtended.prototype._getEventTarget = function (type) {\n  switch (type) {\n    case GlobeViewExtended.EVENTS.RANGE_CHANGED:\n    case GlobeViewExtended.EVENTS.CENTER_CHANGED:\n    case GlobeViewExtended.EVENTS.ORIENTATION_CHANGED:\n      return this.getGlobeView().controls;\n\n    case GlobeViewExtended.EVENTS.LAYER_ADDED:\n    case GlobeViewExtended.EVENTS.LAYER_REMOVED:\n    case GlobeViewExtended.EVENTS.LAYERS_ORDER_CHANGED:\n    case GlobeViewExtended.EVENTS.LAYERS_INITIALIZED:\n    case GlobeViewExtended.EVENTS.GLOBE_INITIALIZED:\n    case GlobeViewExtended.EVENTS.PRE_RENDER:\n    case GlobeViewExtended.EVENTS.AFTER_RENDER:\n    case GlobeViewExtended.EVENTS.VIEW_INITIALIZED:\n      return this.getGlobeView();\n\n    case GlobeViewExtended.EVENTS.MOUSE_MOVE:\n      return this._viewerDiv;\n\n    default:\n      logger.warn(\"unhandled event : \" + type);\n      return null;\n  }\n};\n/**\n * Cancels an event listening\n *\n * @param {Object} key - The event key\n *\n */\n\n\nGlobeViewExtended.prototype.forgetByKey = function (key) {\n  if (key.type === GlobeViewExtended.EVENTS.AFTER_RENDER) {\n    key.target.removeFrameRequester(key.type, key.callback);\n  } else {\n    key.target.removeEventListener(key.type, key.callback);\n  }\n};\n/**\n * Cancels an layer event listening\n *\n * @param {Object} layer - The itowns layer\n * @param {String} type - the event type\n * @param {Function} callback - The function to execute when the event occures\n *\n */\n\n\nGlobeViewExtended.prototype.removeLayerListener = function (layer, type, callback) {\n  this.forgetByKey({\n    target: layer,\n    callback: callback,\n    type: type\n  });\n};\n/**\n * Cancels an event listening\n *\n * @param {Object} type - The event type\n * @param {Function} callback - The event handler\n */\n\n\nGlobeViewExtended.prototype.forget = function (type, callback) {\n  var target = this._getEventTarget(type);\n\n  if (!target) return;\n  this.forgetByKey({\n    target: target,\n    callback: callback,\n    type: type\n  });\n};\n/**\n * Overload itowns.GlobeView addLayer method\n *\n * @param {Object} layer - The itowns layer\n * @return {Promise} promise\n */\n\n\nGlobeViewExtended.prototype.addLayer = function (layer) {\n  // FIXME : to delete when itowns commit 2e9ed61eb4aa2a4bbe0e17c8e2650953844b099e\n  // is integrated into an iTowns release\n  try {\n    var promise = this.getGlobeView().addLayer(layer);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  return promise;\n};\n/**\n * Overload itowns.GlobeView removeLayer method\n *\n * @param {String} layerId - The layer id\n */\n\n\nGlobeViewExtended.prototype.removeLayer = function (layerId) {\n  this.getGlobeView().removeLayer(layerId);\n};\n/**\n * Set layer opacity\n *\n * @param {String} layerId - Layer id\n * @param {Number} opacityValue - opacity value in [0 1]\n */\n\n\nGlobeViewExtended.prototype.setLayerOpacity = function (layerId, opacityValue) {\n  var layer = this.getColorLayerById(layerId);\n  layer.opacity = opacityValue;\n  this.getGlobeView().notifyChange(layer);\n};\n/**\n * Set layer visibility\n *\n * @param {String} layerId - Layer id\n * @param {Boolean} visible - New visibility of the layer\n */\n\n\nGlobeViewExtended.prototype.setLayerVisibility = function (layerId, visible) {\n  var layer = this.getColorLayerById(layerId);\n  layer.visible = visible;\n  this.getGlobeView().notifyChange(layer);\n};\n/**\n * Move layer to the specified index\n *\n * @param {String} layerId - Layer id\n * @param {Boolean} index - new index of the layer\n */\n\n\nGlobeViewExtended.prototype.moveLayerToIndex = function (layerId, index) {\n  itowns__WEBPACK_IMPORTED_MODULE_1__[\"ColorLayersOrdering\"].moveLayerToIndex(this.getGlobeView(), layerId, index);\n};\n/**\n * Remove event listener from the globe\n *\n * @param {String} type - event type\n * @param {Function} callback - event handler\n */\n\n\nGlobeViewExtended.prototype.removeEventListener = function (type, callback) {\n  switch (type) {\n    case \"mousemove\":\n      this._viewerDiv.removeEventListener(type, callback);\n\n      break;\n\n    case \"centerchanged\":\n      this.getGlobeView().controls.removeEventListener(type, callback);\n      break;\n\n    default:\n      this.getGlobeView().removeEventListener(type, callback);\n      break;\n  }\n};\n/**\n * Defines if the current view extent have to be computed on pre-render event\n *\n * @param {Boolean} b - tells if the view extent info should be fetched by the event PRE_RENDER\n */\n\n\nGlobeViewExtended.prototype.preRenderEventFetchViewExtent = function (b) {\n  if (typeof b === \"undefined\") {\n    b = true;\n  }\n\n  this._fetchExtent = b;\n};\n/**\n * Defines if the list of the color layers displayed have to be computed on pre-render event\n *\n * @param {Boolean} b - tells if the displayed color layers info should be fetched by the event PRE_RENDER\n */\n\n\nGlobeViewExtended.prototype.preRenderEventFetchColorLayersDisplayed = function (b) {\n  if (typeof b === \"undefined\") {\n    b = true;\n  }\n\n  this._fetchVisibleColorLayers = b;\n};\n/**\n * Defines if the list of the elevation layers displayed have to be computed on pre-render event\n *\n * @param {Boolean} b - tells if the displayed elevation layers info should be fetched by the event PRE_RENDER\n */\n\n\nGlobeViewExtended.prototype.preRenderEventFetchElevationLayersDisplayed = function (b) {\n  if (typeof b === \"undefined\") {\n    b = true;\n  }\n\n  this._fetchVisibleElevationLayers = b;\n};\n/**\n * Defines if the list of the layers of all types displayed have to be computed on pre-render event\n *\n * @param {Boolean} b - tells if both displayed color layers and displayed elevation layers infos should be fetched by the event PRE_RENDER\n */\n\n\nGlobeViewExtended.prototype.preRenderEventFetchLayersDisplayed = function (b) {\n  if (typeof b === \"undefined\") {\n    b = true;\n  }\n\n  this._fetchVisibleColorLayers = b;\n  this._fetchVisibleElevationLayers = b;\n};\n/**\n * Get layer by its id\n *\n * @param {String} layerId - Layer id\n * @return {Object} layer Object\n */\n\n\nGlobeViewExtended.prototype.getLayerById = function (layerId) {\n  var layer = this.getGlobeView().getLayers(function (l) {\n    if (l.id === layerId) {\n      return l;\n    }\n  })[0];\n\n  if (!layer) {\n    logger.trace(\"[GlobeViewExtended]  : no Layer found for the id '\" + layerId + \"'\");\n    return;\n  }\n\n  return layer;\n};\n/**\n * Get color layer by its id\n *\n * @param {String} layerId - Color layer id\n * @return {Object} layer Object\n */\n\n\nGlobeViewExtended.prototype.getColorLayerById = function (layerId) {\n  var layer = this.getGlobeView().getLayers(function (l) {\n    if (l.id === layerId && l.isColorLayer) {\n      return l;\n    }\n  })[0];\n\n  if (!layer) {\n    logger.trace(\"[GlobeViewExtended]  : no colorLayer found for the id '\" + layerId + \"'\");\n    return;\n  }\n\n  return layer;\n};\n/**\n * Get imagery layers\n *\n * @return {Array} imagery layers\n */\n\n\nGlobeViewExtended.prototype.getColorLayers = function () {\n  return this.getGlobeView().getLayers(function (layer) {\n    if (layer.isColorLayer) {\n      return layer;\n    }\n  });\n};\n/**\n * Get vector layers\n *\n * @return {Array} vector layers\n */\n\n\nGlobeViewExtended.prototype.getVectorLayers = function () {\n  return this.getGlobeView().getLayers(function (layer) {\n    if (layer.source && layer.source.isFileSource) {\n      return layer;\n    }\n  });\n};\n/**\n * Get elevation layers\n *\n * @return {Array} elevation layers\n */\n\n\nGlobeViewExtended.prototype.getElevationLayers = function () {\n  return this.getGlobeView().getLayers(function (layer) {\n    if (layer.isElevationLayer) {\n      return layer;\n    }\n  });\n};\n/**\n * Get the current view extent\n *\n * @returns {Array} current view extent\n */\n\n\nGlobeViewExtended.prototype.getExtent = function () {\n  return this.getGlobeView().tileLayer.info.displayed.extent;\n};\n/**\n * Add a widget to the globe\n *\n * @param {Object} widget - The Widget object to add\n */\n\n\nGlobeViewExtended.prototype.addWidget = function (widget) {\n  if (!widget.getTarget()) {\n    // default position value is 'absolute' if the target div is the viewer div\n    widget.setTarget(this._viewerDiv, widget.getPosition() ? widget.getPosition() : \"absolute\");\n  }\n\n  widget.setGlobe(this);\n\n  this._widgets.push(widget);\n};\n/**\n * Returns all widgets.\n *\n * @return {Array} widgets - The array of widgets.\n */\n\n\nGlobeViewExtended.prototype.getWidgets = function () {\n  return this._widgets;\n};\n/**\n * Removes a widget.\n *\n * @param {Object} widget - The Widget object to remove\n */\n\n\nGlobeViewExtended.prototype.removeWidget = function (widget) {\n  widget.setGlobe();\n\n  for (var idx = 0; idx < this._widgets.length; idx++) {\n    if (this._widgets[idx] === widget) {\n      this._widgets.splice(idx, 1);\n    }\n  }\n};\n/**\n * Get html target element\n *\n * @return {HTMLElement} Globe container element\n */\n\n\nGlobeViewExtended.prototype.getTargetElement = function () {\n  return this._viewerDiv;\n};\n/**\n * Returns current view scale\n *\n * @return {Number} Scale\n */\n\n\nGlobeViewExtended.prototype.getScale = function () {\n  return this.getGlobeView().getScale();\n};\n/**\n * Sets tilt\n *\n * @param {Number} tilt - Tilt value\n * @return {Promise}\n */\n\n\nGlobeViewExtended.prototype.setTilt = function (tilt) {\n  return this.getGlobeView().controls.setTilt(tilt, false);\n};\n/**\n * Returns tilt\n *\n * @return {Number} - Tilt\n */\n\n\nGlobeViewExtended.prototype.getTilt = function () {\n  return this.getGlobeView().controls.getTilt();\n};\n/**\n * Sets azimuth\n *\n * @param {Number} azimuth - Azimuth value\n * @return {Promise}\n */\n\n\nGlobeViewExtended.prototype.setAzimuth = function (azimuth) {\n  return this.getGlobeView().controls.setHeading(azimuth, false);\n};\n/**\n * Returns azimuth\n *\n * @return {Number} azimuth\n */\n\n\nGlobeViewExtended.prototype.getAzimuth = function () {\n  return this.getGlobeView().controls.getHeading();\n};\n/**\n * Gets the coordinate in lat,lon for a given pixel.\n *\n * @param {Number} x - The pixel x-position inside the Globe element.\n * @param {Number} y - The pixel y-position inside the Globe element.\n * @return {Coordinates} position\n */\n\n\nGlobeViewExtended.prototype.getCoordinateFromPixel = function (x, y) {\n  return this.getGlobeView().controls.pickGeoPosition({\n    x: x,\n    y: y\n  });\n};\n/**\n * Gets the coordinate in lat,lon for a given mouse position.\n *\n * @param {MouseEvent} mouseEvent - A mouse event.\n * @return {Coordinates} position\n */\n\n\nGlobeViewExtended.prototype.getCoordinateFromMouseEvent = function (mouseEvent) {\n  var coords = this.getGlobeView().eventToViewCoords(mouseEvent);\n  return this.getGlobeView().controls.pickGeoPosition(coords);\n};\n/**\n * Get all visible features that intersect a pixel\n *\n * @param {MouseEvent} mouseEvent - A mouse event.\n * @return {Array} visibleFeatures - The array of visible features.\n */\n\n\nGlobeViewExtended.prototype.getFeaturesAtMousePosition = function (mouseEvent) {\n  var vectorLayers = this.getVectorLayers();\n\n  if (!vectorLayers) {\n    return;\n  } // array of the visible features on the clicker coord\n\n\n  var visibleFeatures = [];\n  var geoCoord = this.getCoordinateFromMouseEvent(mouseEvent);\n\n  if (geoCoord) {\n    // buffer around the click inside we retrieve the features\n    var precision = this.getGlobeView().controls.pixelsToDegrees(5);\n\n    for (var i = 0; i < vectorLayers.length; i++) {\n      var idx;\n      var layer = vectorLayers[i]; // if the layer is not visible, we ignore it\n\n      if (!layer.visible) {\n        continue;\n      }\n\n      var result = itowns__WEBPACK_IMPORTED_MODULE_1__[\"FeaturesUtils\"].filterFeaturesUnderCoordinate(geoCoord, layer.source.parsedData, precision); // we add the features to the visible features array\n\n      for (idx = 0; idx < result.length; idx++) {\n        visibleFeatures.push(result[idx]);\n      }\n    }\n  }\n\n  return visibleFeatures;\n};\n/**\n * Changes the center of the scene on screen to the specified in lat, lon.\n *\n * @param {Object} center - Center object\n * @param {Number} center.longitude - Coordinate longitude WGS84 in degree\n * @param {Number} center.latitude - Coordinate latitude WGS84 in degree\n * @return {Promise} A promise that resolves when the next 'globe initilazed' event fires.\n */\n\n\nGlobeViewExtended.prototype.setCameraTargetGeoPosition = function (center) {\n  var itownsCoord = this._transformCoords(center);\n\n  return this.getGlobeView().controls.lookAtCoordinate(itownsCoord, false);\n};\n/**\n * Retuns the coordinates of the central point on screen in lat,lon and alt\n *\n * @return {Object} center\n */\n\n\nGlobeViewExtended.prototype.getCenter = function () {\n  var cameraCenter = this.getGlobeView().controls.getLookAtCoordinate();\n  return this._fromItownsCoords(cameraCenter);\n};\n/**\n * Returns the actual zoom.\n *\n * @return {Number} zoom\n */\n\n\nGlobeViewExtended.prototype.getZoom = function () {\n  return this.getGlobeView().controls.getZoom();\n};\n/**\n * Sets the current zoom.\n *\n * @param {Number} zoom - The zoom\n * @return {Promise} promise\n */\n\n\nGlobeViewExtended.prototype.setZoom = function (zoom) {\n  return this.getGlobeView().controls.setZoom(zoom, false);\n};\n/**\n * To convert the projection in meters on the globe of a number of pixels of screen\n * @param {Number} pixels - count pixels to project\n * @return {Number} projection in meters on globe\n */\n\n\nGlobeViewExtended.prototype.pixelsToMeters = function (pixels) {\n  return this.getGlobeView().getPixelsToMeters(pixels);\n};\n/**\n * Projection on screen in pixels of length in meter on globe\n * @param {Number} value - Length in meter on globe\n * @return {Number} projection in pixels on screen\n */\n\n\nGlobeViewExtended.prototype.metersToPixels = function (value) {\n  return this.getGlobeView().getMetersToPixels(value);\n};\n/**\n * Returns the \"range\": the distance in meters between the camera and the current central point on the screen.\n * @return {Number} number\n */\n\n\nGlobeViewExtended.prototype.getRange = function () {\n  return this.getGlobeView().controls.getRange();\n};\n/**\n * @return {THREE.Vector3} position\n */\n\n\nGlobeViewExtended.prototype.getCameraTargetPosition = function () {\n  return this.getGlobeView().controls.getCameraTargetPosition();\n};\n/**\n * To get the layer event infos\n *\n * @param {Object} evt - event\n * @returns {Object} object with event properties\n */\n\n\nGlobeViewExtended.prototype.getLayerEventInfos = function (evt) {\n  var propertyName = evt.type.replace(\"-property-changed\", \"\");\n  return {\n    propertyName: propertyName,\n    previousValue: evt.previous[propertyName],\n    newValue: evt[\"new\"][propertyName]\n  };\n};\n/**\n * Sets background (specific to miniglobe)\n */\n\n\nGlobeViewExtended.prototype.setBackground = function () {\n  // Set a 0 alpha clear value (instead of the default '1')\n  // because we want a transparent background for the miniglobe view to be able\n  // to see the main view \"behind\"\n  this.getGlobeView().mainLoop.gfxEngine.renderer.setClearColor(0x000000, 0);\n};\n/**\n * Sets camera position\n * @param {THREE.Vector3} target - Target position\n * @param {Number} distance - Distance from target\n */\n\n\nGlobeViewExtended.prototype.setCameraPosition = function (target, distance) {\n  this.getGlobeView().camera.camera3D.position.copy(target).setLength(distance);\n};\n/**\n * Sets camera orientation to look at specified target\n * @param {THREE.Vector3} target - Target position\n */\n\n\nGlobeViewExtended.prototype.lookAt = function (target) {\n  this.getGlobeView().camera.camera3D.lookAt(target);\n};\n/**\n * Notifies the scene it needs to be updated\n * @param {String} styleUrl - style url\n * @returns {Object} json object\n */\n\n\nGlobeViewExtended.prototype.parseMapboxStyle = function (styleUrl) {\n  return itowns__WEBPACK_IMPORTED_MODULE_1__[\"Fetcher\"].json(styleUrl);\n};\n/**\n * Notifies the scene it needs to be updated\n */\n\n\nGlobeViewExtended.prototype.notifyChange = function () {\n  this.getGlobeView().notifyChange(this.getGlobeView().camera.camera3D);\n};\n/**\n* Resizes itowns\n*\n* @param {Integer} width - canvas width in pixels\n* @param {Integer} height - canvas height in pixels\n*/\n\n\nGlobeViewExtended.prototype.resize = function (width, height) {\n  this.getGlobeView().mainLoop.gfxEngine.onWindowResize(width, height);\n  this.notifyChange();\n};\n/**\n* Transform to itowns coordinates\n*\n* @param {Object} coordCarto - longitude, latitude, altitude\n* @returns {Object} itowns coordinates\n*/\n\n\nGlobeViewExtended.prototype._transformCoords = function (coordCarto) {\n  if (coordCarto === undefined) return;\n  var itownsCoord = {};\n  if (coordCarto.zoom !== undefined) itownsCoord.zoom = coordCarto.zoom;\n  if (coordCarto.tilt !== undefined) itownsCoord.tilt = coordCarto.tilt;\n  if (coordCarto.heading !== undefined) itownsCoord.heading = coordCarto.heading;\n\n  if (coordCarto.longitude !== undefined && coordCarto.latitude !== undefined) {\n    var altitude = coordCarto.altitude || 0;\n    itownsCoord.coord = new itowns__WEBPACK_IMPORTED_MODULE_1__[\"Coordinates\"](\"EPSG:4326\", coordCarto.longitude, coordCarto.latitude, altitude);\n  }\n\n  return itownsCoord;\n};\n/**\n* Transform from itowns coordinates\n*\n* @param {Object} itownsCoord - itowns coordinates\n* @returns {Object} coordinates\n*/\n\n\nGlobeViewExtended.prototype._fromItownsCoords = function (itownsCoord) {\n  return {\n    lon: itownsCoord.x,\n    lat: itownsCoord.y,\n    alt: itownsCoord.z\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GlobeViewExtended);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvR2xvYmVWaWV3RXh0ZW5kZWQuanM/M2MzNiJdLCJuYW1lcyI6WyJsb2dnZXIiLCJMb2dnZXIiLCJnZXRMb2dnZXIiLCJHbG9iZVZpZXdFeHRlbmRlZCIsInZpZXdlckRpdiIsImNvb3JkQ2FydG8iLCJvcHRpb25zIiwic3R5bGUiLCJwb3NpdGlvbiIsImdsb2JlVmlld0RpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiYXBwZW5kQ2hpbGQiLCJfdmlld2VyRGl2IiwiX3dpZGdldHMiLCJfaW5pdEV2ZW50TWFwIiwiX2lzSW5pdGlhbGl6ZWQiLCJfZ2xvYmVWaWV3IiwiSXRHbG9iZVZpZXciLCJzZWxmIiwibGlzdGVuIiwiRVZFTlRTIiwiR0xPQkVfSU5JVElBTElaRUQiLCJhZGRGcmFtZVJlcXVlc3RlciIsIklUX01BSU5fTE9PUF9FVkVOVFMiLCJCRUZPUkVfUkVOREVSIiwiY2xlYXJUaW1lb3V0IiwiX3ByZVJlbmRlclRpbWVyIiwic2V0VGltZW91dCIsInZpc2libGVDb2xvckxheWVyc0lkcyIsInZpc2libGVFbGV2YXRpb25MYXllcnNJZHMiLCJpIiwiZ2V0R2xvYmVWaWV3IiwidGlsZUxheWVyIiwiaW5mbyIsImRpc3BsYXllZCIsImxheWVycyIsImxlbmd0aCIsImlzQ29sb3JMYXllciIsInB1c2giLCJpZCIsImlzRWxldmF0aW9uTGF5ZXIiLCJjdXJyZW50RXh0ZW50IiwiZXh0ZW50IiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJQUkVfUkVOREVSIiwiY29sb3JMYXllcnNJZCIsImVsZXZhdGlvbkxheWVyc0lkIiwiYmluZCIsImNvbnRyb2xzIiwiZnJlZXplQ29udHJvbCIsInByb3RvdHlwZSIsIlJBTkdFX0NIQU5HRUQiLCJJVF9DT05UUk9MX0VWRU5UUyIsIkNFTlRFUl9DSEFOR0VEIiwiQ0FNRVJBX1RBUkdFVF9DSEFOR0VEIiwiT1JJRU5UQVRJT05fQ0hBTkdFRCIsIkxBWUVSX0FEREVEIiwiSVRfR0xPQkVfVklFV19FVkVOVFMiLCJMQVlFUl9SRU1PVkVEIiwiTEFZRVJTX09SREVSX0NIQU5HRUQiLCJDT0xPUl9MQVlFUlNfT1JERVJfQ0hBTkdFRCIsIkxBWUVSU19JTklUSUFMSVpFRCIsIklUX1ZJRVdfRVZFTlRTIiwiVklFV19JTklUSUFMSVpFRCIsIk1PVVNFX01PVkUiLCJBRlRFUl9SRU5ERVIiLCJPUEFDSVRZX1BST1BFUlRZX0NIQU5HRUQiLCJWSVNJQkxFX1BST1BFUlRZX0NIQU5HRUQiLCJTRVFVRU5DRV9QUk9QRVJUWV9DSEFOR0VEIiwiY29uc3RydWN0b3IiLCJpc0luaXRpYWxpemVkIiwib25DYW1lcmFNb3ZlU3RvcCIsImNiIiwiYWZ0ZXJSZW5kZXJIYW5kbGVyIiwicmVtb3ZlRnJhbWVSZXF1ZXN0ZXIiLCJBRlRFUl9DQU1FUkFfVVBEQVRFIiwiZW5hYmxlZCIsImNhbGxiYWNrIiwid2FybiIsInRhcmdldCIsIl9nZXRFdmVudFRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRMYXllckxpc3RlbmVyIiwibGF5ZXIiLCJmb3JnZXRCeUtleSIsImtleSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVMYXllckxpc3RlbmVyIiwiZm9yZ2V0IiwiYWRkTGF5ZXIiLCJwcm9taXNlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwicmVtb3ZlTGF5ZXIiLCJsYXllcklkIiwic2V0TGF5ZXJPcGFjaXR5Iiwib3BhY2l0eVZhbHVlIiwiZ2V0Q29sb3JMYXllckJ5SWQiLCJvcGFjaXR5Iiwibm90aWZ5Q2hhbmdlIiwic2V0TGF5ZXJWaXNpYmlsaXR5IiwidmlzaWJsZSIsIm1vdmVMYXllclRvSW5kZXgiLCJpbmRleCIsIkl0Q29sb3JMYXllcnNPcmRlcmluZyIsInByZVJlbmRlckV2ZW50RmV0Y2hWaWV3RXh0ZW50IiwiYiIsIl9mZXRjaEV4dGVudCIsInByZVJlbmRlckV2ZW50RmV0Y2hDb2xvckxheWVyc0Rpc3BsYXllZCIsIl9mZXRjaFZpc2libGVDb2xvckxheWVycyIsInByZVJlbmRlckV2ZW50RmV0Y2hFbGV2YXRpb25MYXllcnNEaXNwbGF5ZWQiLCJfZmV0Y2hWaXNpYmxlRWxldmF0aW9uTGF5ZXJzIiwicHJlUmVuZGVyRXZlbnRGZXRjaExheWVyc0Rpc3BsYXllZCIsImdldExheWVyQnlJZCIsImdldExheWVycyIsImwiLCJ0cmFjZSIsImdldENvbG9yTGF5ZXJzIiwiZ2V0VmVjdG9yTGF5ZXJzIiwic291cmNlIiwiaXNGaWxlU291cmNlIiwiZ2V0RWxldmF0aW9uTGF5ZXJzIiwiZ2V0RXh0ZW50IiwiYWRkV2lkZ2V0Iiwid2lkZ2V0IiwiZ2V0VGFyZ2V0Iiwic2V0VGFyZ2V0IiwiZ2V0UG9zaXRpb24iLCJzZXRHbG9iZSIsImdldFdpZGdldHMiLCJyZW1vdmVXaWRnZXQiLCJpZHgiLCJzcGxpY2UiLCJnZXRUYXJnZXRFbGVtZW50IiwiZ2V0U2NhbGUiLCJzZXRUaWx0IiwidGlsdCIsImdldFRpbHQiLCJzZXRBemltdXRoIiwiYXppbXV0aCIsInNldEhlYWRpbmciLCJnZXRBemltdXRoIiwiZ2V0SGVhZGluZyIsImdldENvb3JkaW5hdGVGcm9tUGl4ZWwiLCJ4IiwieSIsInBpY2tHZW9Qb3NpdGlvbiIsImdldENvb3JkaW5hdGVGcm9tTW91c2VFdmVudCIsIm1vdXNlRXZlbnQiLCJjb29yZHMiLCJldmVudFRvVmlld0Nvb3JkcyIsImdldEZlYXR1cmVzQXRNb3VzZVBvc2l0aW9uIiwidmVjdG9yTGF5ZXJzIiwidmlzaWJsZUZlYXR1cmVzIiwiZ2VvQ29vcmQiLCJwcmVjaXNpb24iLCJwaXhlbHNUb0RlZ3JlZXMiLCJyZXN1bHQiLCJJdEZlYXR1cmVzVXRpbHMiLCJmaWx0ZXJGZWF0dXJlc1VuZGVyQ29vcmRpbmF0ZSIsInBhcnNlZERhdGEiLCJzZXRDYW1lcmFUYXJnZXRHZW9Qb3NpdGlvbiIsImNlbnRlciIsIml0b3duc0Nvb3JkIiwiX3RyYW5zZm9ybUNvb3JkcyIsImxvb2tBdENvb3JkaW5hdGUiLCJnZXRDZW50ZXIiLCJjYW1lcmFDZW50ZXIiLCJnZXRMb29rQXRDb29yZGluYXRlIiwiX2Zyb21JdG93bnNDb29yZHMiLCJnZXRab29tIiwic2V0Wm9vbSIsInpvb20iLCJwaXhlbHNUb01ldGVycyIsInBpeGVscyIsImdldFBpeGVsc1RvTWV0ZXJzIiwibWV0ZXJzVG9QaXhlbHMiLCJ2YWx1ZSIsImdldE1ldGVyc1RvUGl4ZWxzIiwiZ2V0UmFuZ2UiLCJnZXRDYW1lcmFUYXJnZXRQb3NpdGlvbiIsImdldExheWVyRXZlbnRJbmZvcyIsImV2dCIsInByb3BlcnR5TmFtZSIsInJlcGxhY2UiLCJwcmV2aW91c1ZhbHVlIiwicHJldmlvdXMiLCJuZXdWYWx1ZSIsInNldEJhY2tncm91bmQiLCJtYWluTG9vcCIsImdmeEVuZ2luZSIsInJlbmRlcmVyIiwic2V0Q2xlYXJDb2xvciIsInNldENhbWVyYVBvc2l0aW9uIiwiZGlzdGFuY2UiLCJjYW1lcmEiLCJjYW1lcmEzRCIsImNvcHkiLCJzZXRMZW5ndGgiLCJsb29rQXQiLCJwYXJzZU1hcGJveFN0eWxlIiwic3R5bGVVcmwiLCJJdFBhcnNlciIsImpzb24iLCJyZXNpemUiLCJvbldpbmRvd1Jlc2l6ZSIsInVuZGVmaW5lZCIsImhlYWRpbmciLCJsb25naXR1ZGUiLCJsYXRpdHVkZSIsImFsdGl0dWRlIiwiY29vcmQiLCJJdENvb3JkaW5hdGVzIiwibG9uIiwibGF0IiwiYWx0IiwieiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBWUE7Ozs7Ozs7O0FBUUEsSUFBSUEsTUFBTSxHQUFHQyxxRUFBTSxDQUFDQyxTQUFQLENBQWlCLG1CQUFqQixDQUFiO0FBRUE7Ozs7Ozs7Ozs7Ozs7QUFZQSxTQUFTQyxpQkFBVCxDQUE0QkMsU0FBNUIsRUFBdUNDLFVBQXZDLEVBQW1EQyxPQUFuRCxFQUE0RDtBQUN4RCxNQUFJLENBQUNGLFNBQVMsQ0FBQ0csS0FBVixDQUFnQkMsUUFBakIsSUFBOEJGLE9BQU8sR0FBR0EsT0FBTyxDQUFDRSxRQUFwRCxFQUEr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LGdGQUFmIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9HbG9iZVZpZXdFeHRlbmRlZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL0NvbW1vbi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCB7XG4gICAgR2xvYmVWaWV3IGFzIEl0R2xvYmVWaWV3LFxuICAgIENvb3JkaW5hdGVzIGFzIEl0Q29vcmRpbmF0ZXMsXG4gICAgQ29sb3JMYXllcnNPcmRlcmluZyBhcyBJdENvbG9yTGF5ZXJzT3JkZXJpbmcsXG4gICAgRmVhdHVyZXNVdGlscyBhcyBJdEZlYXR1cmVzVXRpbHMsXG4gICAgRmV0Y2hlciBhcyBJdFBhcnNlcixcbiAgICBNQUlOX0xPT1BfRVZFTlRTIGFzIElUX01BSU5fTE9PUF9FVkVOVFMsXG4gICAgQ09OVFJPTF9FVkVOVFMgYXMgSVRfQ09OVFJPTF9FVkVOVFMsXG4gICAgR0xPQkVfVklFV19FVkVOVFMgYXMgSVRfR0xPQkVfVklFV19FVkVOVFMsXG4gICAgVklFV19FVkVOVFMgYXMgSVRfVklFV19FVkVOVFNcbn0gZnJvbSBcIml0b3duc1wiO1xuXG4vKiBpbXBvcnQgR2xvYmVWaWV3LCB7IEdMT0JFX1ZJRVdfRVZFTlRTIH0gZnJvbSBcIml0b3ducy9Db3JlL1ByZWZhYi9HbG9iZVZpZXdcIjtcbmltcG9ydCBDb29yZGluYXRlcyBmcm9tIFwiaXRvd25zL0NvcmUvR2VvZ3JhcGhpYy9Db29yZGluYXRlc1wiO1xuaW1wb3J0IENvbG9yTGF5ZXJzT3JkZXJpbmcgZnJvbSBcIml0b3ducy9SZW5kZXJlci9Db2xvckxheWVyc09yZGVyaW5nXCI7XG5pbXBvcnQgRmVhdHVyZXNVdGlscyBmcm9tIFwiaXRvd25zL1V0aWxzL0ZlYXR1cmVzVXRpbHNcIjtcbmltcG9ydCB7IE1BSU5fTE9PUF9FVkVOVFMgfSBmcm9tIFwiaXRvd25zL0NvcmUvTWFpbkxvb3BcIjtcbmltcG9ydCB7IENPTlRST0xfRVZFTlRTIH0gZnJvbSBcIml0b3ducy9Db250cm9scy9HbG9iZUNvbnRyb2xzXCI7XG5pbXBvcnQgeyBWSUVXX0VWRU5UUyB9IGZyb20gXCJpdG93bnMvQ29yZS9WaWV3XCI7ICovXG5cbnZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiR2xvYmVWaWV3RXh0ZW5kZWRcIik7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICpcbiAqIEV4dGVuZGVkIGl0b3ducy5HbG9iZVZpZXcuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7aXRvd25zLkdsb2JlVmlld31cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHZpZXdlckRpdiAtIFdoZXJlIHRvIGluc3RhbmNpYXRlIHRoZSBUaHJlZS5qcyBzY2VuZSBpbiB0aGUgRE9NXG4gKiBAcGFyYW0ge09iamVjdH0gY29vcmRDYXJ0byAtIGxvbmdpdHVkZSwgbGF0aXR1ZGUsIGFsdGl0dWRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uYWwgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wb3NpdGlvbj1cInJlbGF0aXZlXCJdIC0gXCJhYnNvbHV0ZVwiIG9yIFwicmVsYXRpdmVcIlxuICovXG5mdW5jdGlvbiBHbG9iZVZpZXdFeHRlbmRlZCAodmlld2VyRGl2LCBjb29yZENhcnRvLCBvcHRpb25zKSB7XG4gICAgaWYgKCF2aWV3ZXJEaXYuc3R5bGUucG9zaXRpb24gfHwgKG9wdGlvbnMgJiBvcHRpb25zLnBvc2l0aW9uKSkge1xuICAgICAgICB2aWV3ZXJEaXYuc3R5bGUucG9zaXRpb24gPSAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucG9zaXRpb24pID8gXCJyZWxhdGl2ZVwiIDogb3B0aW9ucy5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICAvLyBzdG9ja2FnZSBkZSBsJ8OpbMOpbWVudCBodG1sIHBvcnRldXIgZHUgZ2xvYmVcbiAgICB2YXIgZ2xvYmVWaWV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBnbG9iZVZpZXdEaXYuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICBnbG9iZVZpZXdEaXYuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgdmlld2VyRGl2LmFwcGVuZENoaWxkKGdsb2JlVmlld0Rpdik7XG4gICAgdGhpcy5fdmlld2VyRGl2ID0gdmlld2VyRGl2O1xuXG4gICAgLy8gd2lkZ2V0IGNvbnRhaW5lclxuICAgIHRoaXMuX3dpZGdldHMgPSBbXTtcblxuICAgIC8vIG1hcHBpbmcgZGVzIGV2ZW5lbWVudHNcbiAgICB0aGlzLl9pbml0RXZlbnRNYXAoKTtcblxuICAgIC8vIHBvdXIgc2F2b2lyIHNpIGxlIGdsb2JlIGVzdCBpbml0aWFsaXNlXG4gICAgdGhpcy5faXNJbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgLy8gY2FsbCBjb25zdHJ1Y3RvclxuICAgIHRoaXMuX2dsb2JlVmlldyA9IG5ldyBJdEdsb2JlVmlldyhnbG9iZVZpZXdEaXYsIGNvb3JkQ2FydG8sIG9wdGlvbnMpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubGlzdGVuKEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5HTE9CRV9JTklUSUFMSVpFRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2dsb2JlVmlldy5hZGRGcmFtZVJlcXVlc3RlcihJVF9NQUlOX0xPT1BfRVZFTlRTLkJFRk9SRV9SRU5ERVIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3ByZVJlbmRlclRpbWVyKTtcbiAgICAgICAgc2VsZi5fcHJlUmVuZGVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2aXNpYmxlQ29sb3JMYXllcnNJZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciB2aXNpYmxlRWxldmF0aW9uTGF5ZXJzSWRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5nZXRHbG9iZVZpZXcoKS50aWxlTGF5ZXIuaW5mby5kaXNwbGF5ZWQubGF5ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZ2V0R2xvYmVWaWV3KCkudGlsZUxheWVyLmluZm8uZGlzcGxheWVkLmxheWVyc1tpXS5pc0NvbG9yTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbG9yTGF5ZXJzSWRzLnB1c2goc2VsZi5nZXRHbG9iZVZpZXcoKS50aWxlTGF5ZXIuaW5mby5kaXNwbGF5ZWQubGF5ZXJzW2ldLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZ2V0R2xvYmVWaWV3KCkudGlsZUxheWVyLmluZm8uZGlzcGxheWVkLmxheWVyc1tpXS5pc0VsZXZhdGlvbkxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVFbGV2YXRpb25MYXllcnNJZHMucHVzaChzZWxmLmdldEdsb2JlVmlldygpLnRpbGVMYXllci5pbmZvLmRpc3BsYXllZC5sYXllcnNbaV0uaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50RXh0ZW50ID0gc2VsZi5nZXRHbG9iZVZpZXcoKS50aWxlTGF5ZXIuaW5mby5kaXNwbGF5ZWQuZXh0ZW50O1xuICAgICAgICAgICAgc2VsZi5fZ2xvYmVWaWV3LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGUgOiBHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuUFJFX1JFTkRFUixcbiAgICAgICAgICAgICAgICBjb2xvckxheWVyc0lkIDogdmlzaWJsZUNvbG9yTGF5ZXJzSWRzLFxuICAgICAgICAgICAgICAgIGVsZXZhdGlvbkxheWVyc0lkIDogdmlzaWJsZUVsZXZhdGlvbkxheWVyc0lkcyxcbiAgICAgICAgICAgICAgICBleHRlbnQgOiBjdXJyZW50RXh0ZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgaWYgKHRoaXMuX2dsb2JlVmlldy5jb250cm9scykge1xuICAgICAgICB0aGlzLmZyZWV6ZUNvbnRyb2woKTtcbiAgICB9XG59XG5cbi8qKlxuICogaW50aWFsaXplcyB0aGUgZXZlbmVtZW50cyBtYXBcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLl9pbml0RXZlbnRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMpIHtcbiAgICAgICAgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTID0ge1xuICAgICAgICAgICAgUkFOR0VfQ0hBTkdFRCA6IElUX0NPTlRST0xfRVZFTlRTLlJBTkdFX0NIQU5HRUQsXG4gICAgICAgICAgICBDRU5URVJfQ0hBTkdFRCA6IElUX0NPTlRST0xfRVZFTlRTLkNBTUVSQV9UQVJHRVRfQ0hBTkdFRCxcbiAgICAgICAgICAgIE9SSUVOVEFUSU9OX0NIQU5HRUQgOiBJVF9DT05UUk9MX0VWRU5UUy5PUklFTlRBVElPTl9DSEFOR0VELFxuICAgICAgICAgICAgTEFZRVJfQURERUQgOiBJVF9HTE9CRV9WSUVXX0VWRU5UUy5MQVlFUl9BRERFRCxcbiAgICAgICAgICAgIExBWUVSX1JFTU9WRUQgOiBJVF9HTE9CRV9WSUVXX0VWRU5UUy5MQVlFUl9SRU1PVkVELFxuICAgICAgICAgICAgTEFZRVJTX09SREVSX0NIQU5HRUQgOiBJVF9HTE9CRV9WSUVXX0VWRU5UUy5DT0xPUl9MQVlFUlNfT1JERVJfQ0hBTkdFRCxcbiAgICAgICAgICAgIEdMT0JFX0lOSVRJQUxJWkVEIDogSVRfR0xPQkVfVklFV19FVkVOVFMuR0xPQkVfSU5JVElBTElaRUQsXG4gICAgICAgICAgICBMQVlFUlNfSU5JVElBTElaRUQgOiBJVF9WSUVXX0VWRU5UUy5MQVlFUlNfSU5JVElBTElaRUQsXG4gICAgICAgICAgICBWSUVXX0lOSVRJQUxJWkVEIDogXCJ2aWV3aW5pdGlhbGl6ZWRcIixcbiAgICAgICAgICAgIFBSRV9SRU5ERVIgOiBcInByZXJlbmRlclwiLFxuICAgICAgICAgICAgTU9VU0VfTU9WRSA6IFwibW91c2Vtb3ZlXCIsXG4gICAgICAgICAgICBBRlRFUl9SRU5ERVIgOiBJVF9NQUlOX0xPT1BfRVZFTlRTLkFGVEVSX1JFTkRFUixcbiAgICAgICAgICAgIE9QQUNJVFlfUFJPUEVSVFlfQ0hBTkdFRCA6IFwib3BhY2l0eS1wcm9wZXJ0eS1jaGFuZ2VkXCIsXG4gICAgICAgICAgICBWSVNJQkxFX1BST1BFUlRZX0NIQU5HRUQgOiBcInZpc2libGUtcHJvcGVydHktY2hhbmdlZFwiLFxuICAgICAgICAgICAgU0VRVUVOQ0VfUFJPUEVSVFlfQ0hBTkdFRCA6IFwic2VxdWVuY2UtcHJvcGVydHktY2hhbmdlZFwiXG4gICAgICAgIH07XG4gICAgfVxufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciAoYWxpYXMpXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdsb2JlVmlld0V4dGVuZGVkO1xuXG4vKipcbiAqIEdldCBHbG9iZVZpZXggT2JqZWN0IChwYXJlbnQpXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBpdG93bnMgR2xvYmVWaWV3IG9iamVjdFxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0R2xvYmVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9nbG9iZVZpZXc7XG59O1xuXG4vKipcbiAqIEluZGljYXRlcyBpZiB0aGUgZ2xvYmUgaXMgaW5pdGlhbGl6ZWQgb3Igbm90XG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gaXNJbml0aWFsaXplZFxuICpcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLmlzSW5pdGlhbGl6ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzSW5pdGlhbGl6ZWQ7XG59O1xuXG4vKipcbiAqIERldGVjdHMgd2hlbiB0aGUgY2FtZXJhIG1vdmVtZW50IHN0b3BzLCB0aGVuIGxhdW5jaCB0aGUgY2FsbGJhY2sgZ2l2ZW4gYXMgcGFyYW1ldGVyXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHRoZSBldmVudCBvY2N1cmVzLlxuICpcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLm9uQ2FtZXJhTW92ZVN0b3AgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gYWZ0ZXJSZW5kZXJIYW5kbGVyICgpIHtcbiAgICAgICAgc2VsZi5fZ2xvYmVWaWV3LnJlbW92ZUZyYW1lUmVxdWVzdGVyKElUX01BSU5fTE9PUF9FVkVOVFMuQUZURVJfQ0FNRVJBX1VQREFURSwgYWZ0ZXJSZW5kZXJIYW5kbGVyKTtcbiAgICAgICAgY2IoKTtcbiAgICB9O1xuICAgIHRoaXMuX2dsb2JlVmlldy5hZGRGcmFtZVJlcXVlc3RlcihJVF9NQUlOX0xPT1BfRVZFTlRTLkFGVEVSX0NBTUVSQV9VUERBVEUsIGFmdGVyUmVuZGVySGFuZGxlcik7XG59O1xuXG4vKipcbiAqIERpc2FibGVzIGdsb2JlIGNvbnRyb2xzIHVudGlsIHRoZSBnbG9iZSByZW5kZXJpbmcgaXMgY29tcGxldGVkXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5mcmVlemVDb250cm9sID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGRpc2FibGUgbmF2aWdhdGlvblxuICAgIHRoaXMuX2dsb2JlVmlldy5jb250cm9scy5lbmFibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLm9uQ2FtZXJhTW92ZVN0b3AoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9nbG9iZVZpZXcuY29udHJvbHMuZW5hYmxlZCA9IHRydWU7XG4gICAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhIGZ1bmN0aW9uIHRvIHRyaWdnZXIgd2hlbiBhbiBldmVudCBpcyByZWNlaXZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIHRoZSBldmVudCB0eXBlLiBDYW4gYmUgYW55IG9mIHtAbGluayBFVkVOVFN9XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIGV2ZW50IG9jY3VyZXMuXG4gKiBAcmV0dXJuIHtPYmplY3R9IGtleSAtIFRoZSBldmVudCBrZXlcbiAqXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIChjYWxsYmFjaykgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBsb2dnZXIud2FybihcIm5vIGNhbGxiYWNrIHByb3ZpZGVkIGZvciBldmVudCA6IFwiICsgdHlwZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSB0aGlzLl9nZXRFdmVudFRhcmdldCh0eXBlKTtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLkFGVEVSX1JFTkRFUikge1xuICAgICAgICB0YXJnZXQuYWRkRnJhbWVSZXF1ZXN0ZXIodHlwZSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXQgOiB0YXJnZXQsXG4gICAgICAgIGNhbGxiYWNrIDogY2FsbGJhY2ssXG4gICAgICAgIHR5cGUgOiB0eXBlXG4gICAgfTtcbn07XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhIGZ1bmN0aW9uIHRvIHRyaWdnZXIgd2hlbiBhIGxheWVyIGV2ZW50IGlzIHJlY2VpdmVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBsYXllciAtIFRoZSBpdG93bnMgbGF5ZXIuXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIHRoZSBldmVudCB0eXBlLiBDYW4gYmUgYW55IG9mIHtAbGluayBFVkVOVFN9LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHRoZSBldmVudCBvY2N1cmVzLlxuICogQHJldHVybiB7T2JqZWN0fSBrZXkgLSBUaGUgZXZlbnQga2V5XG4gKlxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuYWRkTGF5ZXJMaXN0ZW5lciA9IGZ1bmN0aW9uIChsYXllciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIChjYWxsYmFjaykgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBsb2dnZXIud2FybihcIm5vIGNhbGxiYWNrIHByb3ZpZGVkIGZvciBldmVudCA6IFwiICsgdHlwZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsYXllci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXQgOiBsYXllcixcbiAgICAgICAgY2FsbGJhY2sgOiBjYWxsYmFjayxcbiAgICAgICAgdHlwZSA6IHR5cGVcbiAgICB9O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0YXJnZXQgb2YgYSBnaXZlbiBldmVudCB0eXBlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSB0aGUgZXZlbnQgdHlwZS4gQ2FuIGJlIGFueSBvZiB7QGxpbmsgRVZFTlRTfVxuICogQHJldHVybiB7T2JqZWN0fSB0YXJnZXQgLSBUaGUgZXZlbnQgdGFyZ2V0LlxuICpcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLl9nZXRFdmVudFRhcmdldCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLlJBTkdFX0NIQU5HRUQ6XG4gICAgICAgIGNhc2UgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLkNFTlRFUl9DSEFOR0VEOlxuICAgICAgICBjYXNlIEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5PUklFTlRBVElPTl9DSEFOR0VEOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCkuY29udHJvbHM7XG4gICAgICAgIGNhc2UgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLkxBWUVSX0FEREVEOlxuICAgICAgICBjYXNlIEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5MQVlFUl9SRU1PVkVEOlxuICAgICAgICBjYXNlIEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5MQVlFUlNfT1JERVJfQ0hBTkdFRDpcbiAgICAgICAgY2FzZSBHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuTEFZRVJTX0lOSVRJQUxJWkVEOlxuICAgICAgICBjYXNlIEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5HTE9CRV9JTklUSUFMSVpFRDpcbiAgICAgICAgY2FzZSBHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuUFJFX1JFTkRFUjpcbiAgICAgICAgY2FzZSBHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuQUZURVJfUkVOREVSOlxuICAgICAgICBjYXNlIEdsb2JlVmlld0V4dGVuZGVkLkVWRU5UUy5WSUVXX0lOSVRJQUxJWkVEOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCk7XG4gICAgICAgIGNhc2UgR2xvYmVWaWV3RXh0ZW5kZWQuRVZFTlRTLk1PVVNFX01PVkU6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlld2VyRGl2O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJ1bmhhbmRsZWQgZXZlbnQgOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDYW5jZWxzIGFuIGV2ZW50IGxpc3RlbmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBrZXkgLSBUaGUgZXZlbnQga2V5XG4gKlxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZm9yZ2V0QnlLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleS50eXBlID09PSBHbG9iZVZpZXdFeHRlbmRlZC5FVkVOVFMuQUZURVJfUkVOREVSKSB7XG4gICAgICAgIGtleS50YXJnZXQucmVtb3ZlRnJhbWVSZXF1ZXN0ZXIoa2V5LnR5cGUsIGtleS5jYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAga2V5LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGtleS50eXBlLCBrZXkuY2FsbGJhY2spO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ2FuY2VscyBhbiBsYXllciBldmVudCBsaXN0ZW5pbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbGF5ZXIgLSBUaGUgaXRvd25zIGxheWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIHRoZSBldmVudCB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIGV2ZW50IG9jY3VyZXNcbiAqXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5yZW1vdmVMYXllckxpc3RlbmVyID0gZnVuY3Rpb24gKGxheWVyLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHRoaXMuZm9yZ2V0QnlLZXkoe1xuICAgICAgICB0YXJnZXQgOiBsYXllcixcbiAgICAgICAgY2FsbGJhY2sgOiBjYWxsYmFjayxcbiAgICAgICAgdHlwZSA6IHR5cGVcbiAgICB9KTtcbn07XG5cbi8qKlxuICogQ2FuY2VscyBhbiBldmVudCBsaXN0ZW5pbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdHlwZSAtIFRoZSBldmVudCB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBldmVudCBoYW5kbGVyXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5mb3JnZXQgPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fZ2V0RXZlbnRUYXJnZXQodHlwZSk7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybjtcblxuICAgIHRoaXMuZm9yZ2V0QnlLZXkoe1xuICAgICAgICB0YXJnZXQgOiB0YXJnZXQsXG4gICAgICAgIGNhbGxiYWNrIDogY2FsbGJhY2ssXG4gICAgICAgIHR5cGUgOiB0eXBlXG4gICAgfSk7XG59O1xuXG4vKipcbiAqIE92ZXJsb2FkIGl0b3ducy5HbG9iZVZpZXcgYWRkTGF5ZXIgbWV0aG9kXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGxheWVyIC0gVGhlIGl0b3ducyBsYXllclxuICogQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZVxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuYWRkTGF5ZXIgPSBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAvLyBGSVhNRSA6IHRvIGRlbGV0ZSB3aGVuIGl0b3ducyBjb21taXQgMmU5ZWQ2MWViNGFhMmE0YmJlMGUxN2M4ZTI2NTA5NTM4NDRiMDk5ZVxuICAgIC8vIGlzIGludGVncmF0ZWQgaW50byBhbiBpVG93bnMgcmVsZWFzZVxuICAgIHRyeSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5nZXRHbG9iZVZpZXcoKS5hZGRMYXllcihsYXllcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8qKlxuICogT3ZlcmxvYWQgaXRvd25zLkdsb2JlVmlldyByZW1vdmVMYXllciBtZXRob2RcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbGF5ZXJJZCAtIFRoZSBsYXllciBpZFxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUucmVtb3ZlTGF5ZXIgPSBmdW5jdGlvbiAobGF5ZXJJZCkge1xuICAgIHRoaXMuZ2V0R2xvYmVWaWV3KCkucmVtb3ZlTGF5ZXIobGF5ZXJJZCk7XG59O1xuXG4vKipcbiAqIFNldCBsYXllciBvcGFjaXR5XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGxheWVySWQgLSBMYXllciBpZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9wYWNpdHlWYWx1ZSAtIG9wYWNpdHkgdmFsdWUgaW4gWzAgMV1cbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLnNldExheWVyT3BhY2l0eSA9IGZ1bmN0aW9uIChsYXllcklkLCBvcGFjaXR5VmFsdWUpIHtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldENvbG9yTGF5ZXJCeUlkKGxheWVySWQpO1xuICAgIGxheWVyLm9wYWNpdHkgPSBvcGFjaXR5VmFsdWU7XG4gICAgdGhpcy5nZXRHbG9iZVZpZXcoKS5ub3RpZnlDaGFuZ2UobGF5ZXIpO1xufTtcblxuLyoqXG4gKiBTZXQgbGF5ZXIgdmlzaWJpbGl0eVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIC0gTGF5ZXIgaWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdmlzaWJsZSAtIE5ldyB2aXNpYmlsaXR5IG9mIHRoZSBsYXllclxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuc2V0TGF5ZXJWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKGxheWVySWQsIHZpc2libGUpIHtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldENvbG9yTGF5ZXJCeUlkKGxheWVySWQpO1xuICAgIGxheWVyLnZpc2libGUgPSB2aXNpYmxlO1xuICAgIHRoaXMuZ2V0R2xvYmVWaWV3KCkubm90aWZ5Q2hhbmdlKGxheWVyKTtcbn07XG5cbi8qKlxuICogTW92ZSBsYXllciB0byB0aGUgc3BlY2lmaWVkIGluZGV4XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGxheWVySWQgLSBMYXllciBpZFxuICogQHBhcmFtIHtCb29sZWFufSBpbmRleCAtIG5ldyBpbmRleCBvZiB0aGUgbGF5ZXJcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLm1vdmVMYXllclRvSW5kZXggPSBmdW5jdGlvbiAobGF5ZXJJZCwgaW5kZXgpIHtcbiAgICBJdENvbG9yTGF5ZXJzT3JkZXJpbmcubW92ZUxheWVyVG9JbmRleCh0aGlzLmdldEdsb2JlVmlldygpLCBsYXllcklkLCBpbmRleCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tIHRoZSBnbG9iZVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBldmVudCBoYW5kbGVyXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJtb3VzZW1vdmVcIjpcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckRpdi5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2VudGVyY2hhbmdlZFwiOlxuICAgICAgICAgICAgdGhpcy5nZXRHbG9iZVZpZXcoKS5jb250cm9scy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5nZXRHbG9iZVZpZXcoKS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn07XG5cbi8qKlxuICogRGVmaW5lcyBpZiB0aGUgY3VycmVudCB2aWV3IGV4dGVudCBoYXZlIHRvIGJlIGNvbXB1dGVkIG9uIHByZS1yZW5kZXIgZXZlbnRcbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGIgLSB0ZWxscyBpZiB0aGUgdmlldyBleHRlbnQgaW5mbyBzaG91bGQgYmUgZmV0Y2hlZCBieSB0aGUgZXZlbnQgUFJFX1JFTkRFUlxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUucHJlUmVuZGVyRXZlbnRGZXRjaFZpZXdFeHRlbnQgPSBmdW5jdGlvbiAoYikge1xuICAgIGlmICh0eXBlb2YgYiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBiID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fZmV0Y2hFeHRlbnQgPSBiO1xufTtcblxuLyoqXG4gKiBEZWZpbmVzIGlmIHRoZSBsaXN0IG9mIHRoZSBjb2xvciBsYXllcnMgZGlzcGxheWVkIGhhdmUgdG8gYmUgY29tcHV0ZWQgb24gcHJlLXJlbmRlciBldmVudFxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYiAtIHRlbGxzIGlmIHRoZSBkaXNwbGF5ZWQgY29sb3IgbGF5ZXJzIGluZm8gc2hvdWxkIGJlIGZldGNoZWQgYnkgdGhlIGV2ZW50IFBSRV9SRU5ERVJcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLnByZVJlbmRlckV2ZW50RmV0Y2hDb2xvckxheWVyc0Rpc3BsYXllZCA9IGZ1bmN0aW9uIChiKSB7XG4gICAgaWYgKHR5cGVvZiBiID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGIgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9mZXRjaFZpc2libGVDb2xvckxheWVycyA9IGI7XG59O1xuXG4vKipcbiAqIERlZmluZXMgaWYgdGhlIGxpc3Qgb2YgdGhlIGVsZXZhdGlvbiBsYXllcnMgZGlzcGxheWVkIGhhdmUgdG8gYmUgY29tcHV0ZWQgb24gcHJlLXJlbmRlciBldmVudFxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYiAtIHRlbGxzIGlmIHRoZSBkaXNwbGF5ZWQgZWxldmF0aW9uIGxheWVycyBpbmZvIHNob3VsZCBiZSBmZXRjaGVkIGJ5IHRoZSBldmVudCBQUkVfUkVOREVSXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5wcmVSZW5kZXJFdmVudEZldGNoRWxldmF0aW9uTGF5ZXJzRGlzcGxheWVkID0gZnVuY3Rpb24gKGIpIHtcbiAgICBpZiAodHlwZW9mIGIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgYiA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuX2ZldGNoVmlzaWJsZUVsZXZhdGlvbkxheWVycyA9IGI7XG59O1xuXG4vKipcbiAqIERlZmluZXMgaWYgdGhlIGxpc3Qgb2YgdGhlIGxheWVycyBvZiBhbGwgdHlwZXMgZGlzcGxheWVkIGhhdmUgdG8gYmUgY29tcHV0ZWQgb24gcHJlLXJlbmRlciBldmVudFxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYiAtIHRlbGxzIGlmIGJvdGggZGlzcGxheWVkIGNvbG9yIGxheWVycyBhbmQgZGlzcGxheWVkIGVsZXZhdGlvbiBsYXllcnMgaW5mb3Mgc2hvdWxkIGJlIGZldGNoZWQgYnkgdGhlIGV2ZW50IFBSRV9SRU5ERVJcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLnByZVJlbmRlckV2ZW50RmV0Y2hMYXllcnNEaXNwbGF5ZWQgPSBmdW5jdGlvbiAoYikge1xuICAgIGlmICh0eXBlb2YgYiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBiID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fZmV0Y2hWaXNpYmxlQ29sb3JMYXllcnMgPSBiO1xuICAgIHRoaXMuX2ZldGNoVmlzaWJsZUVsZXZhdGlvbkxheWVycyA9IGI7XG59O1xuXG4vKipcbiAqIEdldCBsYXllciBieSBpdHMgaWRcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbGF5ZXJJZCAtIExheWVyIGlkXG4gKiBAcmV0dXJuIHtPYmplY3R9IGxheWVyIE9iamVjdFxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0TGF5ZXJCeUlkID0gZnVuY3Rpb24gKGxheWVySWQpIHtcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldEdsb2JlVmlldygpLmdldExheWVycyhmdW5jdGlvbiAobCkge1xuICAgICAgICBpZiAobC5pZCA9PT0gbGF5ZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cbiAgICB9KVswXTtcbiAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgIGxvZ2dlci50cmFjZShcIltHbG9iZVZpZXdFeHRlbmRlZF0gIDogbm8gTGF5ZXIgZm91bmQgZm9yIHRoZSBpZCAnXCIgKyBsYXllcklkICsgXCInXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBsYXllcjtcbn07XG5cbi8qKlxuICogR2V0IGNvbG9yIGxheWVyIGJ5IGl0cyBpZFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIC0gQ29sb3IgbGF5ZXIgaWRcbiAqIEByZXR1cm4ge09iamVjdH0gbGF5ZXIgT2JqZWN0XG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRDb2xvckxheWVyQnlJZCA9IGZ1bmN0aW9uIChsYXllcklkKSB7XG4gICAgdmFyIGxheWVyID0gdGhpcy5nZXRHbG9iZVZpZXcoKS5nZXRMYXllcnMoZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgaWYgKGwuaWQgPT09IGxheWVySWQgJiYgbC5pc0NvbG9yTGF5ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICB9XG4gICAgfSlbMF07XG4gICAgaWYgKCFsYXllcikge1xuICAgICAgICBsb2dnZXIudHJhY2UoXCJbR2xvYmVWaWV3RXh0ZW5kZWRdICA6IG5vIGNvbG9yTGF5ZXIgZm91bmQgZm9yIHRoZSBpZCAnXCIgKyBsYXllcklkICsgXCInXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBsYXllcjtcbn07XG5cbi8qKlxuICogR2V0IGltYWdlcnkgbGF5ZXJzXG4gKlxuICogQHJldHVybiB7QXJyYXl9IGltYWdlcnkgbGF5ZXJzXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRDb2xvckxheWVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iZVZpZXcoKS5nZXRMYXllcnMoZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgIGlmIChsYXllci5pc0NvbG9yTGF5ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllcjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgdmVjdG9yIGxheWVyc1xuICpcbiAqIEByZXR1cm4ge0FycmF5fSB2ZWN0b3IgbGF5ZXJzXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRWZWN0b3JMYXllcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCkuZ2V0TGF5ZXJzKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICBpZiAobGF5ZXIuc291cmNlICYmIGxheWVyLnNvdXJjZS5pc0ZpbGVTb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllcjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgZWxldmF0aW9uIGxheWVyc1xuICpcbiAqIEByZXR1cm4ge0FycmF5fSBlbGV2YXRpb24gbGF5ZXJzXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRFbGV2YXRpb25MYXllcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCkuZ2V0TGF5ZXJzKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICBpZiAobGF5ZXIuaXNFbGV2YXRpb25MYXllcikge1xuICAgICAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2aWV3IGV4dGVudFxuICpcbiAqIEByZXR1cm5zIHtBcnJheX0gY3VycmVudCB2aWV3IGV4dGVudFxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldEdsb2JlVmlldygpLnRpbGVMYXllci5pbmZvLmRpc3BsYXllZC5leHRlbnQ7XG59O1xuXG4vKipcbiAqIEFkZCBhIHdpZGdldCB0byB0aGUgZ2xvYmVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gd2lkZ2V0IC0gVGhlIFdpZGdldCBvYmplY3QgdG8gYWRkXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5hZGRXaWRnZXQgPSBmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgaWYgKCF3aWRnZXQuZ2V0VGFyZ2V0KCkpIHtcbiAgICAgICAgLy8gZGVmYXVsdCBwb3NpdGlvbiB2YWx1ZSBpcyAnYWJzb2x1dGUnIGlmIHRoZSB0YXJnZXQgZGl2IGlzIHRoZSB2aWV3ZXIgZGl2XG4gICAgICAgIHdpZGdldC5zZXRUYXJnZXQodGhpcy5fdmlld2VyRGl2LCB3aWRnZXQuZ2V0UG9zaXRpb24oKSA/IHdpZGdldC5nZXRQb3NpdGlvbigpIDogXCJhYnNvbHV0ZVwiKTtcbiAgICB9XG4gICAgd2lkZ2V0LnNldEdsb2JlKHRoaXMpO1xuICAgIHRoaXMuX3dpZGdldHMucHVzaCh3aWRnZXQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFsbCB3aWRnZXRzLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fSB3aWRnZXRzIC0gVGhlIGFycmF5IG9mIHdpZGdldHMuXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRXaWRnZXRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl93aWRnZXRzO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgd2lkZ2V0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB3aWRnZXQgLSBUaGUgV2lkZ2V0IG9iamVjdCB0byByZW1vdmVcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLnJlbW92ZVdpZGdldCA9IGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICB3aWRnZXQuc2V0R2xvYmUoKTtcbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCB0aGlzLl93aWRnZXRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaWYgKHRoaXMuX3dpZGdldHNbaWR4XSA9PT0gd2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLl93aWRnZXRzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgaHRtbCB0YXJnZXQgZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBHbG9iZSBjb250YWluZXIgZWxlbWVudFxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlld2VyRGl2O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGN1cnJlbnQgdmlldyBzY2FsZVxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gU2NhbGVcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLmdldFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldEdsb2JlVmlldygpLmdldFNjYWxlKCk7XG59O1xuXG4vKipcbiAqIFNldHMgdGlsdFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aWx0IC0gVGlsdCB2YWx1ZVxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLnNldFRpbHQgPSBmdW5jdGlvbiAodGlsdCkge1xuICAgIHJldHVybiB0aGlzLmdldEdsb2JlVmlldygpLmNvbnRyb2xzLnNldFRpbHQodGlsdCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRpbHRcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGlsdFxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0VGlsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iZVZpZXcoKS5jb250cm9scy5nZXRUaWx0KCk7XG59O1xuXG4vKipcbiAqIFNldHMgYXppbXV0aFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhemltdXRoIC0gQXppbXV0aCB2YWx1ZVxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLnNldEF6aW11dGggPSBmdW5jdGlvbiAoYXppbXV0aCkge1xuICAgIHJldHVybiB0aGlzLmdldEdsb2JlVmlldygpLmNvbnRyb2xzLnNldEhlYWRpbmcoYXppbXV0aCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGF6aW11dGhcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGF6aW11dGhcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLmdldEF6aW11dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCkuY29udHJvbHMuZ2V0SGVhZGluZygpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBjb29yZGluYXRlIGluIGxhdCxsb24gZm9yIGEgZ2l2ZW4gcGl4ZWwuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggLSBUaGUgcGl4ZWwgeC1wb3NpdGlvbiBpbnNpZGUgdGhlIEdsb2JlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge051bWJlcn0geSAtIFRoZSBwaXhlbCB5LXBvc2l0aW9uIGluc2lkZSB0aGUgR2xvYmUgZWxlbWVudC5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGVzfSBwb3NpdGlvblxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCkuY29udHJvbHMucGlja0dlb1Bvc2l0aW9uKHtcbiAgICAgICAgeCA6IHgsXG4gICAgICAgIHkgOiB5XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGNvb3JkaW5hdGUgaW4gbGF0LGxvbiBmb3IgYSBnaXZlbiBtb3VzZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRXZlbnQgLSBBIG1vdXNlIGV2ZW50LlxuICogQHJldHVybiB7Q29vcmRpbmF0ZXN9IHBvc2l0aW9uXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRDb29yZGluYXRlRnJvbU1vdXNlRXZlbnQgPSBmdW5jdGlvbiAobW91c2VFdmVudCkge1xuICAgIHZhciBjb29yZHMgPSB0aGlzLmdldEdsb2JlVmlldygpLmV2ZW50VG9WaWV3Q29vcmRzKG1vdXNlRXZlbnQpO1xuICAgIHJldHVybiB0aGlzLmdldEdsb2JlVmlldygpLmNvbnRyb2xzLnBpY2tHZW9Qb3NpdGlvbihjb29yZHMpO1xufTtcblxuLyoqXG4gKiBHZXQgYWxsIHZpc2libGUgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgYSBwaXhlbFxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudCAtIEEgbW91c2UgZXZlbnQuXG4gKiBAcmV0dXJuIHtBcnJheX0gdmlzaWJsZUZlYXR1cmVzIC0gVGhlIGFycmF5IG9mIHZpc2libGUgZmVhdHVyZXMuXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRGZWF0dXJlc0F0TW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uIChtb3VzZUV2ZW50KSB7XG4gICAgdmFyIHZlY3RvckxheWVycyA9IHRoaXMuZ2V0VmVjdG9yTGF5ZXJzKCk7XG4gICAgaWYgKCF2ZWN0b3JMYXllcnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBhcnJheSBvZiB0aGUgdmlzaWJsZSBmZWF0dXJlcyBvbiB0aGUgY2xpY2tlciBjb29yZFxuICAgIHZhciB2aXNpYmxlRmVhdHVyZXMgPSBbXTtcbiAgICB2YXIgZ2VvQ29vcmQgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tTW91c2VFdmVudChtb3VzZUV2ZW50KTtcbiAgICBpZiAoZ2VvQ29vcmQpIHtcbiAgICAgICAgLy8gYnVmZmVyIGFyb3VuZCB0aGUgY2xpY2sgaW5zaWRlIHdlIHJldHJpZXZlIHRoZSBmZWF0dXJlc1xuICAgICAgICB2YXIgcHJlY2lzaW9uID0gdGhpcy5nZXRHbG9iZVZpZXcoKS5jb250cm9scy5waXhlbHNUb0RlZ3JlZXMoNSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVjdG9yTGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWR4O1xuICAgICAgICAgICAgdmFyIGxheWVyID0gdmVjdG9yTGF5ZXJzW2ldO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGxheWVyIGlzIG5vdCB2aXNpYmxlLCB3ZSBpZ25vcmUgaXRcbiAgICAgICAgICAgIGlmICghbGF5ZXIudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IEl0RmVhdHVyZXNVdGlscy5maWx0ZXJGZWF0dXJlc1VuZGVyQ29vcmRpbmF0ZShnZW9Db29yZCwgbGF5ZXIuc291cmNlLnBhcnNlZERhdGEsIHByZWNpc2lvbik7XG4gICAgICAgICAgICAvLyB3ZSBhZGQgdGhlIGZlYXR1cmVzIHRvIHRoZSB2aXNpYmxlIGZlYXR1cmVzIGFycmF5XG4gICAgICAgICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IHJlc3VsdC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZUZlYXR1cmVzLnB1c2gocmVzdWx0W2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2aXNpYmxlRmVhdHVyZXM7XG59O1xuXG4vKipcbiAqIENoYW5nZXMgdGhlIGNlbnRlciBvZiB0aGUgc2NlbmUgb24gc2NyZWVuIHRvIHRoZSBzcGVjaWZpZWQgaW4gbGF0LCBsb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciAtIENlbnRlciBvYmplY3RcbiAqIEBwYXJhbSB7TnVtYmVyfSBjZW50ZXIubG9uZ2l0dWRlIC0gQ29vcmRpbmF0ZSBsb25naXR1ZGUgV0dTODQgaW4gZGVncmVlXG4gKiBAcGFyYW0ge051bWJlcn0gY2VudGVyLmxhdGl0dWRlIC0gQ29vcmRpbmF0ZSBsYXRpdHVkZSBXR1M4NCBpbiBkZWdyZWVcbiAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG5leHQgJ2dsb2JlIGluaXRpbGF6ZWQnIGV2ZW50IGZpcmVzLlxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuc2V0Q2FtZXJhVGFyZ2V0R2VvUG9zaXRpb24gPSBmdW5jdGlvbiAoY2VudGVyKSB7XG4gICAgY29uc3QgaXRvd25zQ29vcmQgPSB0aGlzLl90cmFuc2Zvcm1Db29yZHMoY2VudGVyKTtcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iZVZpZXcoKS5jb250cm9scy5sb29rQXRDb29yZGluYXRlKGl0b3duc0Nvb3JkLCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIFJldHVucyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGNlbnRyYWwgcG9pbnQgb24gc2NyZWVuIGluIGxhdCxsb24gYW5kIGFsdFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhbWVyYUNlbnRlciA9IHRoaXMuZ2V0R2xvYmVWaWV3KCkuY29udHJvbHMuZ2V0TG9va0F0Q29vcmRpbmF0ZSgpO1xuICAgIHJldHVybiB0aGlzLl9mcm9tSXRvd25zQ29vcmRzKGNhbWVyYUNlbnRlcik7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGFjdHVhbCB6b29tLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gem9vbVxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0Wm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iZVZpZXcoKS5jb250cm9scy5nZXRab29tKCk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgem9vbS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gem9vbSAtIFRoZSB6b29tXG4gKiBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5zZXRab29tID0gZnVuY3Rpb24gKHpvb20pIHtcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iZVZpZXcoKS5jb250cm9scy5zZXRab29tKHpvb20sIGZhbHNlKTtcbn07XG5cbi8qKlxuICogVG8gY29udmVydCB0aGUgcHJvamVjdGlvbiBpbiBtZXRlcnMgb24gdGhlIGdsb2JlIG9mIGEgbnVtYmVyIG9mIHBpeGVscyBvZiBzY3JlZW5cbiAqIEBwYXJhbSB7TnVtYmVyfSBwaXhlbHMgLSBjb3VudCBwaXhlbHMgdG8gcHJvamVjdFxuICogQHJldHVybiB7TnVtYmVyfSBwcm9qZWN0aW9uIGluIG1ldGVycyBvbiBnbG9iZVxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUucGl4ZWxzVG9NZXRlcnMgPSBmdW5jdGlvbiAocGl4ZWxzKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCkuZ2V0UGl4ZWxzVG9NZXRlcnMocGl4ZWxzKTtcbn07XG5cbi8qKlxuICogUHJvamVjdGlvbiBvbiBzY3JlZW4gaW4gcGl4ZWxzIG9mIGxlbmd0aCBpbiBtZXRlciBvbiBnbG9iZVxuICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIC0gTGVuZ3RoIGluIG1ldGVyIG9uIGdsb2JlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHByb2plY3Rpb24gaW4gcGl4ZWxzIG9uIHNjcmVlblxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUubWV0ZXJzVG9QaXhlbHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iZVZpZXcoKS5nZXRNZXRlcnNUb1BpeGVscyh2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIFwicmFuZ2VcIjogdGhlIGRpc3RhbmNlIGluIG1ldGVycyBiZXR3ZWVuIHRoZSBjYW1lcmEgYW5kIHRoZSBjdXJyZW50IGNlbnRyYWwgcG9pbnQgb24gdGhlIHNjcmVlbi5cbiAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5nZXRSYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iZVZpZXcoKS5jb250cm9scy5nZXRSYW5nZSgpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtUSFJFRS5WZWN0b3IzfSBwb3NpdGlvblxuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0Q2FtZXJhVGFyZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2xvYmVWaWV3KCkuY29udHJvbHMuZ2V0Q2FtZXJhVGFyZ2V0UG9zaXRpb24oKTtcbn07XG5cbi8qKlxuICogVG8gZ2V0IHRoZSBsYXllciBldmVudCBpbmZvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBldnQgLSBldmVudFxuICogQHJldHVybnMge09iamVjdH0gb2JqZWN0IHdpdGggZXZlbnQgcHJvcGVydGllc1xuICovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuZ2V0TGF5ZXJFdmVudEluZm9zID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBldnQudHlwZS5yZXBsYWNlKFwiLXByb3BlcnR5LWNoYW5nZWRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcGVydHlOYW1lIDogcHJvcGVydHlOYW1lLFxuICAgICAgICBwcmV2aW91c1ZhbHVlIDogZXZ0LnByZXZpb3VzW3Byb3BlcnR5TmFtZV0sXG4gICAgICAgIG5ld1ZhbHVlIDogZXZ0Lm5ld1twcm9wZXJ0eU5hbWVdXG4gICAgfTtcbn07XG5cbi8qKlxuICogU2V0cyBiYWNrZ3JvdW5kIChzcGVjaWZpYyB0byBtaW5pZ2xvYmUpXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFNldCBhIDAgYWxwaGEgY2xlYXIgdmFsdWUgKGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgJzEnKVxuICAgIC8vIGJlY2F1c2Ugd2Ugd2FudCBhIHRyYW5zcGFyZW50IGJhY2tncm91bmQgZm9yIHRoZSBtaW5pZ2xvYmUgdmlldyB0byBiZSBhYmxlXG4gICAgLy8gdG8gc2VlIHRoZSBtYWluIHZpZXcgXCJiZWhpbmRcIlxuICAgIHRoaXMuZ2V0R2xvYmVWaWV3KCkubWFpbkxvb3AuZ2Z4RW5naW5lLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDAsIDApO1xufTtcblxuLyoqXG4gKiBTZXRzIGNhbWVyYSBwb3NpdGlvblxuICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSB0YXJnZXQgLSBUYXJnZXQgcG9zaXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSBkaXN0YW5jZSAtIERpc3RhbmNlIGZyb20gdGFyZ2V0XG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5zZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uICh0YXJnZXQsIGRpc3RhbmNlKSB7XG4gICAgdGhpcy5nZXRHbG9iZVZpZXcoKS5jYW1lcmEuY2FtZXJhM0QucG9zaXRpb24uY29weSh0YXJnZXQpLnNldExlbmd0aChkaXN0YW5jZSk7XG59O1xuXG4vKipcbiAqIFNldHMgY2FtZXJhIG9yaWVudGF0aW9uIHRvIGxvb2sgYXQgc3BlY2lmaWVkIHRhcmdldFxuICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSB0YXJnZXQgLSBUYXJnZXQgcG9zaXRpb25cbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLmxvb2tBdCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0aGlzLmdldEdsb2JlVmlldygpLmNhbWVyYS5jYW1lcmEzRC5sb29rQXQodGFyZ2V0KTtcbn07XG5cbi8qKlxuICogTm90aWZpZXMgdGhlIHNjZW5lIGl0IG5lZWRzIHRvIGJlIHVwZGF0ZWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHlsZVVybCAtIHN0eWxlIHVybFxuICogQHJldHVybnMge09iamVjdH0ganNvbiBvYmplY3RcbiAqL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLnBhcnNlTWFwYm94U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGVVcmwpIHtcbiAgICByZXR1cm4gSXRQYXJzZXIuanNvbihzdHlsZVVybCk7XG59O1xuXG4vKipcbiAqIE5vdGlmaWVzIHRoZSBzY2VuZSBpdCBuZWVkcyB0byBiZSB1cGRhdGVkXG4gKi9cbkdsb2JlVmlld0V4dGVuZGVkLnByb3RvdHlwZS5ub3RpZnlDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5nZXRHbG9iZVZpZXcoKS5ub3RpZnlDaGFuZ2UodGhpcy5nZXRHbG9iZVZpZXcoKS5jYW1lcmEuY2FtZXJhM0QpO1xufTtcblxuLyoqXG4qIFJlc2l6ZXMgaXRvd25zXG4qXG4qIEBwYXJhbSB7SW50ZWdlcn0gd2lkdGggLSBjYW52YXMgd2lkdGggaW4gcGl4ZWxzXG4qIEBwYXJhbSB7SW50ZWdlcn0gaGVpZ2h0IC0gY2FudmFzIGhlaWdodCBpbiBwaXhlbHNcbiovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLmdldEdsb2JlVmlldygpLm1haW5Mb29wLmdmeEVuZ2luZS5vbldpbmRvd1Jlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB0aGlzLm5vdGlmeUNoYW5nZSgpO1xufTtcblxuLyoqXG4qIFRyYW5zZm9ybSB0byBpdG93bnMgY29vcmRpbmF0ZXNcbipcbiogQHBhcmFtIHtPYmplY3R9IGNvb3JkQ2FydG8gLSBsb25naXR1ZGUsIGxhdGl0dWRlLCBhbHRpdHVkZVxuKiBAcmV0dXJucyB7T2JqZWN0fSBpdG93bnMgY29vcmRpbmF0ZXNcbiovXG5HbG9iZVZpZXdFeHRlbmRlZC5wcm90b3R5cGUuX3RyYW5zZm9ybUNvb3JkcyA9IGZ1bmN0aW9uIChjb29yZENhcnRvKSB7XG4gICAgaWYgKGNvb3JkQ2FydG8gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaXRvd25zQ29vcmQgPSB7fTtcblxuICAgIGlmIChjb29yZENhcnRvLnpvb20gIT09IHVuZGVmaW5lZCkgaXRvd25zQ29vcmQuem9vbSA9IGNvb3JkQ2FydG8uem9vbTtcbiAgICBpZiAoY29vcmRDYXJ0by50aWx0ICE9PSB1bmRlZmluZWQpIGl0b3duc0Nvb3JkLnRpbHQgPSBjb29yZENhcnRvLnRpbHQ7XG4gICAgaWYgKGNvb3JkQ2FydG8uaGVhZGluZyAhPT0gdW5kZWZpbmVkKSBpdG93bnNDb29yZC5oZWFkaW5nID0gY29vcmRDYXJ0by5oZWFkaW5nO1xuXG4gICAgaWYgKGNvb3JkQ2FydG8ubG9uZ2l0dWRlICE9PSB1bmRlZmluZWQgJiYgY29vcmRDYXJ0by5sYXRpdHVkZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGFsdGl0dWRlID0gY29vcmRDYXJ0by5hbHRpdHVkZSB8fCAwO1xuICAgICAgICBpdG93bnNDb29yZC5jb29yZCA9IG5ldyBJdENvb3JkaW5hdGVzKFwiRVBTRzo0MzI2XCIsIGNvb3JkQ2FydG8ubG9uZ2l0dWRlLCBjb29yZENhcnRvLmxhdGl0dWRlLCBhbHRpdHVkZSk7XG4gICAgfVxuICAgIHJldHVybiBpdG93bnNDb29yZDtcbn07XG5cbi8qKlxuKiBUcmFuc2Zvcm0gZnJvbSBpdG93bnMgY29vcmRpbmF0ZXNcbipcbiogQHBhcmFtIHtPYmplY3R9IGl0b3duc0Nvb3JkIC0gaXRvd25zIGNvb3JkaW5hdGVzXG4qIEByZXR1cm5zIHtPYmplY3R9IGNvb3JkaW5hdGVzXG4qL1xuR2xvYmVWaWV3RXh0ZW5kZWQucHJvdG90eXBlLl9mcm9tSXRvd25zQ29vcmRzID0gZnVuY3Rpb24gKGl0b3duc0Nvb3JkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9uIDogaXRvd25zQ29vcmQueCxcbiAgICAgICAgbGF0IDogaXRvd25zQ29vcmQueSxcbiAgICAgICAgYWx0IDogaXRvd25zQ29vcmQuelxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHbG9iZVZpZXdFeHRlbmRlZDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Itowns/GlobeViewExtended.js\n");

/***/ }),

/***/ "./src/Itowns/Layer/LayerElevation.js":
/*!********************************************!*\
  !*** ./src/Itowns/Layer/LayerElevation.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! geoportal-access-lib */ \"./node_modules/geoportal-access-lib/src/Gp.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils/Config */ \"./src/Common/Utils/Config.js\");\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../../package.json */ \"./package.json\", 1);\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! itowns */ \"itowns\");\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(itowns__WEBPACK_IMPORTED_MODULE_5__);\n/* globals self */\n\n\n\n\n\n\n/* import Extent from \"itowns/Core/Geographic/Extent\";\nimport WMTSSource from \"itowns/Source/WMTSSource\";\nimport ElevationLayer from \"itowns/Layer/ElevationLayer\"; */\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLogger(\"elevationLayer\");\n/**\n * @classdesc\n * Geoportal elevation source creation\n *\n * @constructor\n * @alias itowns.layer.GeoportalElevation\n * @param {Object} options            - options for function call.\n * @param {String} options.layer      - Elevation layer name (e.g. \"ELEVATION.ELEVATIONGRIDCOVERAGE\")\n * @param {Boolean} [options.ssl]     - if set true, enforce protocol https (only for nodejs)\n * @param {String} [options.apiKey]   - Access key to Geoportal platform\n * @param {Object} [options.itownsParams] - options to overload default geoportal layer options for itowns.GlobeView.addLayer function (see {@link http://www.itowns-project.org/itowns/API_Doc/GlobeView.html#addLayer GlobeView.addLayer})\n * @example\n * var geoportalElevation = new itowns.layer.GeoportalElevation({\n *      layer  : \"ELEVATION.ELEVATIONGRIDCOVERAGE\"\n * });\n */\n\nfunction LayerElevation(options) {\n  if (!(this instanceof LayerElevation)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  } // check layer params\n\n\n  if (!options.layer) {\n    throw new Error(\"ERROR PARAM_MISSING : layer\");\n  }\n\n  if (typeof options.layer !== \"string\") {\n    throw new Error(\"ERROR WRONG TYPE : layer\");\n  } // par defaut\n\n\n  if (typeof options.ssl === \"undefined\") {\n    options.ssl = false;\n  } // Check if configuration is loaded\n\n\n  if (!_Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isConfigLoaded()) {\n    throw new Error(\"ERROR : contract key configuration has to be loaded to load Geoportal layers. See http://ignf.github.io/evolution-apigeoportail/ol3/ol3-autoconf.html\");\n  }\n\n  var layerId = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLayerId(options.layer, \"WMTS\");\n\n  if (layerId && _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].configuration.getLayerConf(layerId)) {\n    var config = {};\n    var wmtsParams = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLayerParams(options.layer, \"WMTS\", options.apiKey);\n\n    if (wmtsParams.projection === \"EPSG:3857\" && wmtsParams.extent) {\n      wmtsParams.extent = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"Extent\"](\"EPSG:4326\", wmtsParams.extent.left, wmtsParams.extent.right, wmtsParams.extent.bottom, wmtsParams.extent.top).as(\"EPSG:3857\");\n    } else {\n      wmtsParams.projection = \"EPSG:4326\";\n      wmtsParams.extent = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"Extent\"](\"EPSG:4326\", wmtsParams.extent.left, wmtsParams.extent.right, wmtsParams.extent.bottom, wmtsParams.extent.top);\n    } // gestion de mixContent dans l'url du service...\n\n\n    var ctx = typeof window !== \"undefined\" ? window : typeof self !== \"undefined\" ? self : null;\n    var protocol = ctx ? ctx.location && ctx.location.protocol && ctx.location.protocol.indexOf(\"https:\") === 0 ? \"https://\" : \"http://\" : options.ssl ? \"https://\" : \"http://\";\n    config.id = layerId;\n    config.noDataValue = -99999;\n    config.updateStrategy = {\n      type: 0,\n      options: {\n        groups: [11, 14]\n      }\n    };\n    config.source = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"WMTSSource\"]({\n      protocol: \"wmts\",\n      url: wmtsParams.url.replace(/(http|https):\\/\\//, protocol),\n      networkOptions: {\n        crossOrigin: \"omit\"\n      },\n      attribution: wmtsParams.originators,\n      projection: wmtsParams.projection,\n      name: options.layer,\n      format: \"image/x-bil;bits=32\",\n      tileMatrixSet: wmtsParams.TMSLink,\n      tileMatrixSetLimits: wmtsParams.tileMatrixSetLimits,\n      extent: {\n        west: wmtsParams.extent.west,\n        east: wmtsParams.extent.east,\n        south: wmtsParams.extent.south,\n        north: wmtsParams.extent.north\n      }\n    }); // ajout du tag gp-itowns-ext dans les requêtes WMTS elevation\n\n    config.source.url = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Helper.normalyzeUrl(config.source.url, {\n      \"gp-itowns-ext\": _package_json__WEBPACK_IMPORTED_MODULE_4__.itownsExtVersion || _package_json__WEBPACK_IMPORTED_MODULE_4__.version\n    }, false); // récupération des autres paramètres passés par l'utilisateur\n\n    _Common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mergeParams(config, options.itownsParams); // add legends and metadata (to be added to LayerSwitcher control)\n\n    config.legends = wmtsParams.legends;\n    config.metadata = wmtsParams.metadata;\n    config.description = wmtsParams.description;\n    config.title = wmtsParams.title;\n    config.quicklookUrl = wmtsParams.quicklookUrl;\n    return new itowns__WEBPACK_IMPORTED_MODULE_5__[\"ElevationLayer\"](config.id, config);\n  } else {\n    // If layer is not in Gp.Config\n    logger.log(\"[source WMTS] ERROR : \" + options.layer + \" cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key.\");\n  }\n}\n/*\n * Constructor (alias)\n */\n\n\nLayerElevation.prototype.constructor = LayerElevation;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerElevation);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvTGF5ZXIvTGF5ZXJFbGV2YXRpb24uanM/MjUyMCJdLCJuYW1lcyI6WyJsb2dnZXIiLCJMb2dnZXIiLCJnZXRMb2dnZXIiLCJMYXllckVsZXZhdGlvbiIsIm9wdGlvbnMiLCJUeXBlRXJyb3IiLCJsYXllciIsIkVycm9yIiwic3NsIiwiQ29uZmlnIiwiaXNDb25maWdMb2FkZWQiLCJsYXllcklkIiwiZ2V0TGF5ZXJJZCIsImNvbmZpZ3VyYXRpb24iLCJnZXRMYXllckNvbmYiLCJjb25maWciLCJ3bXRzUGFyYW1zIiwiZ2V0TGF5ZXJQYXJhbXMiLCJhcGlLZXkiLCJwcm9qZWN0aW9uIiwiZXh0ZW50IiwiSXRFeHRlbnQiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ0b3AiLCJhcyIsImN0eCIsIndpbmRvdyIsInNlbGYiLCJwcm90b2NvbCIsImxvY2F0aW9uIiwiaW5kZXhPZiIsImlkIiwibm9EYXRhVmFsdWUiLCJ1cGRhdGVTdHJhdGVneSIsInR5cGUiLCJncm91cHMiLCJzb3VyY2UiLCJJdFdNVFNTb3VyY2UiLCJ1cmwiLCJyZXBsYWNlIiwibmV0d29ya09wdGlvbnMiLCJjcm9zc09yaWdpbiIsImF0dHJpYnV0aW9uIiwib3JpZ2luYXRvcnMiLCJuYW1lIiwiZm9ybWF0IiwidGlsZU1hdHJpeFNldCIsIlRNU0xpbmsiLCJ0aWxlTWF0cml4U2V0TGltaXRzIiwid2VzdCIsImVhc3QiLCJzb3V0aCIsIm5vcnRoIiwiR3AiLCJIZWxwZXIiLCJub3JtYWx5emVVcmwiLCJQa2ciLCJpdG93bnNFeHRWZXJzaW9uIiwidmVyc2lvbiIsIlV0aWxzIiwibWVyZ2VQYXJhbXMiLCJpdG93bnNQYXJhbXMiLCJsZWdlbmRzIiwibWV0YWRhdGEiLCJkZXNjcmlwdGlvbiIsInRpdGxlIiwicXVpY2tsb29rVXJsIiwiSXRFbGV2YXRpb25MYXllciIsImxvZyIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIl0sIm1hcHBpbmdzIjoi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QWhCLENBekJ1RCxDQTZDdkQ7O0FBQ0F2QyxVQUFNLENBQUN1QixNQUFQLENBQWNFLEdBQWQsR0FBb0JlLDREQUFFLENBQUNDLE1BQUgsQ0FBVUMsWUFBVixDQUF1QjFDLE1BQU0sQ0FBQ3VCLE1BQVAsQ0FBY0UsR0FBckMsRUFBMEM7QUFDMUQsdUJBQWtCa0IsMENBQUcsQ0FBQ0MsZ0JBQUosSUFBd0JELDBDQUFHLENBQUNFO0FBRFksS0FBMUMsRUFFakIsS0FGaUIsQ0FBcEIsQ0E5Q3VELENBa0R2RDs7QUFDQUMseURBQUssQ0FBQ0MsV0FBTixDQUFrQi9DLE1BQWxCLEVBQTBCWCxPQUFPLENBQUMyRCxZQUFsQyxFQW5EdUQsQ0FxRHZEOztBQUNBaEQsVUFBTSxDQUFDaUQsT0FBUCxHQUFpQmhELFVBQVUsQ0FBQ2dELE9BQTVCO0FBQ0FqRCxVQUFNLENBQUNrRCxRQUFQLEdBQWtCakQsVUFBVSxDQUFDaUQsUUFBN0I7QUFDQWxELFVBQU0sQ0FBQ21ELFdBQVAsR0FBcUJsRCxVQUFVLENBQUNrRCxXQUFoQztBQUNBbkQsVUFBTSxDQUFDb0QsS0FBUCxHQUFlbkQsVUFBVSxDQUFDbUQsS0FBMUI7QUFDQXBELFVBQU0sQ0FBQ3FELFlBQVAsR0FBc0JwRCxVQUFVLENBQUNvRCxZQUFqQztBQUVBLFdBQU8sSUFBSUMscURBQUosQ0FBcUJ0RCxNQUFNLENBQUNrQixFQUE1QixFQUFnQ2xCLE1BQWhDLENBQVA7QUFDSCxHQTdERCxNQTZETztBQUNIO0FBQ0FmLFVBQU0sQ0FBQ3NFLEdBQVAsQ0FBVywyQkFBMkJsRSxPQUFPLENBQUNFLEtBQW5DLEdBQTJDLDZHQUF0RDtBQUNIO0FBQ0o7QUFFRDs7Ozs7QUFHQUgsY0FBYyxDQUFDb0UsU0FBZixDQUF5QkMsV0FBekIsR0FBdUNyRSxjQUF2QztBQUVlQSw2RUFBZiIsImZpbGUiOiIuL3NyYy9JdG93bnMvTGF5ZXIvTGF5ZXJFbGV2YXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIHNlbGYgKi9cbmltcG9ydCBHcCBmcm9tIFwiZ2VvcG9ydGFsLWFjY2Vzcy1saWJcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzXCI7XG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvQ29uZmlnXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgUGtnIGZyb20gXCIuLi8uLi8uLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7XG4gICAgRXh0ZW50IGFzIEl0RXh0ZW50LFxuICAgIFdNVFNTb3VyY2UgYXMgSXRXTVRTU291cmNlLFxuICAgIEVsZXZhdGlvbkxheWVyIGFzIEl0RWxldmF0aW9uTGF5ZXJcbn0gZnJvbSBcIml0b3duc1wiO1xuLyogaW1wb3J0IEV4dGVudCBmcm9tIFwiaXRvd25zL0NvcmUvR2VvZ3JhcGhpYy9FeHRlbnRcIjtcbmltcG9ydCBXTVRTU291cmNlIGZyb20gXCJpdG93bnMvU291cmNlL1dNVFNTb3VyY2VcIjtcbmltcG9ydCBFbGV2YXRpb25MYXllciBmcm9tIFwiaXRvd25zL0xheWVyL0VsZXZhdGlvbkxheWVyXCI7ICovXG5cbnZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwiZWxldmF0aW9uTGF5ZXJcIik7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogR2VvcG9ydGFsIGVsZXZhdGlvbiBzb3VyY2UgY3JlYXRpb25cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhbGlhcyBpdG93bnMubGF5ZXIuR2VvcG9ydGFsRWxldmF0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgICAgICAgICAgIC0gb3B0aW9ucyBmb3IgZnVuY3Rpb24gY2FsbC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmxheWVyICAgICAgLSBFbGV2YXRpb24gbGF5ZXIgbmFtZSAoZS5nLiBcIkVMRVZBVElPTi5FTEVWQVRJT05HUklEQ09WRVJBR0VcIilcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3NsXSAgICAgLSBpZiBzZXQgdHJ1ZSwgZW5mb3JjZSBwcm90b2NvbCBodHRwcyAob25seSBmb3Igbm9kZWpzKVxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFwaUtleV0gICAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaXRvd25zUGFyYW1zXSAtIG9wdGlvbnMgdG8gb3ZlcmxvYWQgZGVmYXVsdCBnZW9wb3J0YWwgbGF5ZXIgb3B0aW9ucyBmb3IgaXRvd25zLkdsb2JlVmlldy5hZGRMYXllciBmdW5jdGlvbiAoc2VlIHtAbGluayBodHRwOi8vd3d3Lml0b3ducy1wcm9qZWN0Lm9yZy9pdG93bnMvQVBJX0RvYy9HbG9iZVZpZXcuaHRtbCNhZGRMYXllciBHbG9iZVZpZXcuYWRkTGF5ZXJ9KVxuICogQGV4YW1wbGVcbiAqIHZhciBnZW9wb3J0YWxFbGV2YXRpb24gPSBuZXcgaXRvd25zLmxheWVyLkdlb3BvcnRhbEVsZXZhdGlvbih7XG4gKiAgICAgIGxheWVyICA6IFwiRUxFVkFUSU9OLkVMRVZBVElPTkdSSURDT1ZFUkFHRVwiXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gTGF5ZXJFbGV2YXRpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTGF5ZXJFbGV2YXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFUlJPUiBDTEFTU19DT05TVFJVQ1RPUlwiKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBsYXllciBwYXJhbXNcbiAgICBpZiAoIW9wdGlvbnMubGF5ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgUEFSQU1fTUlTU0lORyA6IGxheWVyXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMubGF5ZXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgV1JPTkcgVFlQRSA6IGxheWVyXCIpO1xuICAgIH1cblxuICAgIC8vIHBhciBkZWZhdXRcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc3NsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIG9wdGlvbnMuc3NsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgY29uZmlndXJhdGlvbiBpcyBsb2FkZWRcbiAgICBpZiAoIUNvbmZpZy5pc0NvbmZpZ0xvYWRlZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUk9SIDogY29udHJhY3Qga2V5IGNvbmZpZ3VyYXRpb24gaGFzIHRvIGJlIGxvYWRlZCB0byBsb2FkIEdlb3BvcnRhbCBsYXllcnMuIFNlZSBodHRwOi8vaWduZi5naXRodWIuaW8vZXZvbHV0aW9uLWFwaWdlb3BvcnRhaWwvb2wzL29sMy1hdXRvY29uZi5odG1sXCIpO1xuICAgIH1cblxuICAgIHZhciBsYXllcklkID0gQ29uZmlnLmdldExheWVySWQob3B0aW9ucy5sYXllciwgXCJXTVRTXCIpO1xuXG4gICAgaWYgKGxheWVySWQgJiYgQ29uZmlnLmNvbmZpZ3VyYXRpb24uZ2V0TGF5ZXJDb25mKGxheWVySWQpKSB7XG4gICAgICAgIHZhciBjb25maWcgPSB7fTtcbiAgICAgICAgdmFyIHdtdHNQYXJhbXMgPSBDb25maWcuZ2V0TGF5ZXJQYXJhbXMob3B0aW9ucy5sYXllciwgXCJXTVRTXCIsIG9wdGlvbnMuYXBpS2V5KTtcblxuICAgICAgICBpZiAod210c1BhcmFtcy5wcm9qZWN0aW9uID09PSBcIkVQU0c6Mzg1N1wiICYmIHdtdHNQYXJhbXMuZXh0ZW50KSB7XG4gICAgICAgICAgICB3bXRzUGFyYW1zLmV4dGVudCA9IG5ldyBJdEV4dGVudChcIkVQU0c6NDMyNlwiLCB3bXRzUGFyYW1zLmV4dGVudC5sZWZ0LCB3bXRzUGFyYW1zLmV4dGVudC5yaWdodCwgd210c1BhcmFtcy5leHRlbnQuYm90dG9tLCB3bXRzUGFyYW1zLmV4dGVudC50b3ApLmFzKFwiRVBTRzozODU3XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd210c1BhcmFtcy5wcm9qZWN0aW9uID0gXCJFUFNHOjQzMjZcIjtcbiAgICAgICAgICAgIHdtdHNQYXJhbXMuZXh0ZW50ID0gbmV3IEl0RXh0ZW50KFwiRVBTRzo0MzI2XCIsIHdtdHNQYXJhbXMuZXh0ZW50LmxlZnQsIHdtdHNQYXJhbXMuZXh0ZW50LnJpZ2h0LCB3bXRzUGFyYW1zLmV4dGVudC5ib3R0b20sIHdtdHNQYXJhbXMuZXh0ZW50LnRvcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXN0aW9uIGRlIG1peENvbnRlbnQgZGFucyBsJ3VybCBkdSBzZXJ2aWNlLi4uXG4gICAgICAgIHZhciBjdHggPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogbnVsbDtcbiAgICAgICAgdmFyIHByb3RvY29sID0gKGN0eClcbiAgICAgICAgICAgID8gKGN0eC5sb2NhdGlvbiAmJiBjdHgubG9jYXRpb24ucHJvdG9jb2wgJiYgY3R4LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwczpcIikgPT09IDAgPyBcImh0dHBzOi8vXCIgOiBcImh0dHA6Ly9cIilcbiAgICAgICAgICAgIDogKG9wdGlvbnMuc3NsID8gXCJodHRwczovL1wiIDogXCJodHRwOi8vXCIpO1xuXG4gICAgICAgIGNvbmZpZy5pZCA9IGxheWVySWQ7XG4gICAgICAgIGNvbmZpZy5ub0RhdGFWYWx1ZSA9IC05OTk5OTtcbiAgICAgICAgY29uZmlnLnVwZGF0ZVN0cmF0ZWd5ID0ge1xuICAgICAgICAgICAgdHlwZSA6IDAsXG4gICAgICAgICAgICBvcHRpb25zIDoge1xuICAgICAgICAgICAgICAgIGdyb3VwcyA6IFsxMSwgMTRdXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbmZpZy5zb3VyY2UgPSBuZXcgSXRXTVRTU291cmNlKHtcbiAgICAgICAgICAgIHByb3RvY29sIDogXCJ3bXRzXCIsXG4gICAgICAgICAgICB1cmwgOiB3bXRzUGFyYW1zLnVybC5yZXBsYWNlKC8oaHR0cHxodHRwcyk6XFwvXFwvLywgcHJvdG9jb2wpLFxuICAgICAgICAgICAgbmV0d29ya09wdGlvbnMgOiB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW4gOiBcIm9taXRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uIDogd210c1BhcmFtcy5vcmlnaW5hdG9ycyxcbiAgICAgICAgICAgIHByb2plY3Rpb24gOiB3bXRzUGFyYW1zLnByb2plY3Rpb24sXG4gICAgICAgICAgICBuYW1lIDogb3B0aW9ucy5sYXllcixcbiAgICAgICAgICAgIGZvcm1hdCA6IFwiaW1hZ2UveC1iaWw7Yml0cz0zMlwiLFxuICAgICAgICAgICAgdGlsZU1hdHJpeFNldCA6IHdtdHNQYXJhbXMuVE1TTGluayxcbiAgICAgICAgICAgIHRpbGVNYXRyaXhTZXRMaW1pdHMgOiB3bXRzUGFyYW1zLnRpbGVNYXRyaXhTZXRMaW1pdHMsXG4gICAgICAgICAgICBleHRlbnQgOiB7XG4gICAgICAgICAgICAgICAgd2VzdCA6IHdtdHNQYXJhbXMuZXh0ZW50Lndlc3QsXG4gICAgICAgICAgICAgICAgZWFzdCA6IHdtdHNQYXJhbXMuZXh0ZW50LmVhc3QsXG4gICAgICAgICAgICAgICAgc291dGggOiB3bXRzUGFyYW1zLmV4dGVudC5zb3V0aCxcbiAgICAgICAgICAgICAgICBub3J0aCA6IHdtdHNQYXJhbXMuZXh0ZW50Lm5vcnRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGFqb3V0IGR1IHRhZyBncC1pdG93bnMtZXh0IGRhbnMgbGVzIHJlcXXDqnRlcyBXTVRTIGVsZXZhdGlvblxuICAgICAgICBjb25maWcuc291cmNlLnVybCA9IEdwLkhlbHBlci5ub3JtYWx5emVVcmwoY29uZmlnLnNvdXJjZS51cmwsIHtcbiAgICAgICAgICAgIFwiZ3AtaXRvd25zLWV4dFwiIDogUGtnLml0b3duc0V4dFZlcnNpb24gfHwgUGtnLnZlcnNpb25cbiAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIHLDqWN1cMOpcmF0aW9uIGRlcyBhdXRyZXMgcGFyYW3DqHRyZXMgcGFzc8OpcyBwYXIgbCd1dGlsaXNhdGV1clxuICAgICAgICBVdGlscy5tZXJnZVBhcmFtcyhjb25maWcsIG9wdGlvbnMuaXRvd25zUGFyYW1zKTtcblxuICAgICAgICAvLyBhZGQgbGVnZW5kcyBhbmQgbWV0YWRhdGEgKHRvIGJlIGFkZGVkIHRvIExheWVyU3dpdGNoZXIgY29udHJvbClcbiAgICAgICAgY29uZmlnLmxlZ2VuZHMgPSB3bXRzUGFyYW1zLmxlZ2VuZHM7XG4gICAgICAgIGNvbmZpZy5tZXRhZGF0YSA9IHdtdHNQYXJhbXMubWV0YWRhdGE7XG4gICAgICAgIGNvbmZpZy5kZXNjcmlwdGlvbiA9IHdtdHNQYXJhbXMuZGVzY3JpcHRpb247XG4gICAgICAgIGNvbmZpZy50aXRsZSA9IHdtdHNQYXJhbXMudGl0bGU7XG4gICAgICAgIGNvbmZpZy5xdWlja2xvb2tVcmwgPSB3bXRzUGFyYW1zLnF1aWNrbG9va1VybDtcblxuICAgICAgICByZXR1cm4gbmV3IEl0RWxldmF0aW9uTGF5ZXIoY29uZmlnLmlkLCBjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIGxheWVyIGlzIG5vdCBpbiBHcC5Db25maWdcbiAgICAgICAgbG9nZ2VyLmxvZyhcIltzb3VyY2UgV01UU10gRVJST1IgOiBcIiArIG9wdGlvbnMubGF5ZXIgKyBcIiBjYW5ub3QgYmUgZm91bmQgaW4gR2VvcG9ydGFsIENvbmZpZ3VyYXRpb24uIE1ha2Ugc3VyZSB0aGF0IHRoaXMgcmVzb3VyY2UgaXMgaW5jbHVkZWQgaW4geW91ciBjb250cmFjdCBrZXkuXCIpO1xuICAgIH1cbn1cblxuLypcbiAqIENvbnN0cnVjdG9yIChhbGlhcylcbiAqL1xuTGF5ZXJFbGV2YXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF5ZXJFbGV2YXRpb247XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyRWxldmF0aW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/Layer/LayerElevation.js\n");

/***/ }),

/***/ "./src/Itowns/Layer/LayerWMS.js":
/*!**************************************!*\
  !*** ./src/Itowns/Layer/LayerWMS.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! geoportal-access-lib */ \"./node_modules/geoportal-access-lib/src/Gp.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils/Config */ \"./src/Common/Utils/Config.js\");\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../../package.json */ \"./package.json\", 1);\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! itowns */ \"itowns\");\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(itowns__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n/* import Extent from \"itowns/Core/Geographic/Extent\";\nimport WMSSource from \"itowns/Source/WMSSource\";\nimport ColorLayer from \"itowns/Layer/ColorLayer\"; */\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLogger(\"wmsLayer\");\n/**\n * @classdesc\n * Geoportal WMTS source creation\n *\n * @constructor\n * @alias itowns.layer.GeoportalWMS\n * @param {Object} options            - options for function call.\n * @param {String} options.layer      - Layer name (e.g. \"ORTHOIMAGERY.ORTHOPHOTOS\")\n * @param {Boolean} [options.ssl = true] - use of ssl or not (default true, service requested using https protocol)\n * @param {String} [options.apiKey]   - Access key to Geoportal platform\n * @param {Object} [options.itownsParams] - other options for itowns.GlobeView.addLayer function (see {@link http://www.itowns-project.org/itowns/API_Doc/GlobeView.html#addLayer GlobeView.addLayer})\n * @example\n * var geoportalWMS = new itowns.layer.GeoportalWMS({\n *      layer  : \"ORTHOIMAGERY.ORTHOPHOTOS\"\n * });\n */\n\nfunction LayerWMS(options) {\n  if (!(this instanceof LayerWMS)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  } // check layer params\n\n\n  if (!options.layer) {\n    throw new Error(\"ERROR PARAM_MISSING : layer\");\n  }\n\n  if (typeof options.layer !== \"string\") {\n    throw new Error(\"ERROR WRONG TYPE : layer\");\n  } // par defaut\n\n\n  if (typeof options.ssl === \"undefined\") {\n    options.ssl = true;\n  } // Check if configuration is loaded\n\n\n  if (!_Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isConfigLoaded()) {\n    throw new Error(\"ERROR : contract key configuration has to be loaded to load Geoportal layers. See http://ignf.github.io/evolution-apigeoportail/ol3/ol3-autoconf.html\");\n  }\n\n  var layerId = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLayerId(options.layer, \"WMS\");\n\n  if (layerId && _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].configuration.getLayerConf(layerId)) {\n    var config = {};\n    var wmsParams = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLayerParams(options.layer, \"WMS\", options.apiKey);\n\n    if (wmsParams.projection === \"EPSG:3857\" && wmsParams.extent) {\n      wmsParams.extent = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"Extent\"](\"EPSG:4326\", wmsParams.extent.left, wmsParams.extent.right, wmsParams.extent.bottom, wmsParams.extent.top).as(\"EPSG:3857\");\n    } else {\n      wmsParams.extent = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"Extent\"](\"EPSG:4326\", wmsParams.extent.left, wmsParams.extent.right, wmsParams.extent.bottom, wmsParams.extent.top);\n    } // si ssl = false on fait du http\n    // par défaut, ssl = true, on fait du https\n\n\n    var protocol = options.ssl === false ? \"http://\" : \"https://\";\n    config.id = layerId;\n    config.source = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"WMSSource\"]({\n      protocol: \"wms\",\n      version: wmsParams.version,\n      attribution: wmsParams.originators,\n      url: wmsParams.url.replace(/(http|https):\\/\\//, protocol),\n      name: options.layer,\n      projection: wmsParams.projection,\n      style: \"\",\n      heightMapWidth: 256,\n      waterMask: false,\n      networkOptions: {\n        crossOrigin: \"omit\"\n      },\n      updateStrategy: {\n        type: 0,\n        options: {}\n      },\n      format: wmsParams.format,\n      extent: {\n        west: wmsParams.extent.west,\n        east: wmsParams.extent.east,\n        south: wmsParams.extent.south,\n        north: wmsParams.extent.north\n      }\n    }); // ajout du tag gp-itowns-ext dans les requêtes WMS\n\n    config.source.url = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Helper.normalyzeUrl(config.source.url, {\n      \"gp-itowns-ext\": _package_json__WEBPACK_IMPORTED_MODULE_4__.itownsExtVersion || _package_json__WEBPACK_IMPORTED_MODULE_4__.version\n    }, false); // récupération des autres paramètres passés par l'utilisateur\n\n    _Common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mergeParams(config, options.itownsParams); // add legends and metadata (to be added to LayerSwitcher control)\n\n    config.legends = wmsParams.legends;\n    config.metadata = wmsParams.metadata;\n    config.description = wmsParams.description;\n    config.title = wmsParams.title;\n    config.quicklookUrl = wmsParams.quicklookUrl;\n    return new itowns__WEBPACK_IMPORTED_MODULE_5__[\"ColorLayer\"](config.id, config);\n  } else {\n    // If layer is not in Gp.Config\n    logger.error(\"ERROR layer id (layer name: \" + options.layer + \" / service: WMS ) was not found !?\");\n  }\n}\n/*\n * Constructor (alias)\n */\n\n\nLayerWMS.prototype.constructor = LayerWMS;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerWMS);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvTGF5ZXIvTGF5ZXJXTVMuanM/YTZhYyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJMb2dnZXIiLCJnZXRMb2dnZXIiLCJMYXllcldNUyIsIm9wdGlvbnMiLCJUeXBlRXJyb3IiLCJsYXllciIsIkVycm9yIiwic3NsIiwiQ29uZmlnIiwiaXNDb25maWdMb2FkZWQiLCJsYXllcklkIiwiZ2V0TGF5ZXJJZCIsImNvbmZpZ3VyYXRpb24iLCJnZXRMYXllckNvbmYiLCJjb25maWciLCJ3bXNQYXJhbXMiLCJnZXRMYXllclBhcmFtcyIsImFwaUtleSIsInByb2plY3Rpb24iLCJleHRlbnQiLCJJdEV4dGVudCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInRvcCIsImFzIiwicHJvdG9jb2wiLCJpZCIsInNvdXJjZSIsIkl0V01TU291cmNlIiwidmVyc2lvbiIsImF0dHJpYnV0aW9uIiwib3JpZ2luYXRvcnMiLCJ1cmwiLCJyZXBsYWNlIiwibmFtZSIsInN0eWxlIiwiaGVpZ2h0TWFwV2lkdGgiLCJ3YXRlck1hc2siLCJuZXR3b3JrT3B0aW9ucyIsImNyb3NzT3JpZ2luIiwidXBkYXRlU3RyYXRlZ3kiLCJ0eXBlIiwiZm9ybWF0Iiwid2VzdCIsImVhc3QiLCJzb3V0aCIsIm5vcnRoIiwiR3AiLCJIZWxwZXIiLCJub3JtYWx5emVVcmwiLCJQa2ciLCJpdG93bnNFeHRWZXJzaW9uIiwiVXRpbHMiLCJtZXJnZVBhcmFtcyIsIml0b3duc1BhcmFtcyIsImxlZ2VuZHMiLCJtZXRhZGF0YSIsImRlc2NyaXB0aW9uIiwidGl0bGUiLCJxdWlja2xvb2tVcmwiLCJJdENvbG9yTGF5ZXIiLCJlcnJvciIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTs7OztBQUlBLElBQUlB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QUEvQjtBQUNBNUMsVUFBTSxDQUFDNkMsS0FBUCxHQUFlNUMsU0FBUyxDQUFDNEMsS0FBekI7QUFDQTdDLFVBQU0sQ0FBQzhDLFlBQVAsR0FBc0I3QyxTQUFTLENBQUM2QyxZQUFoQztBQUVBLFdBQU8sSUFBSUMsaURBQUosQ0FBaUIvQyxNQUFNLENBQUNhLEVBQXhCLEVBQTRCYixNQUE1QixDQUFQO0FBQ0gsR0F6REQsTUF5RE87QUFDSDtBQUNBZixVQUFNLENBQUMrRCxLQUFQLENBQWEsaUNBQWlDM0QsT0FBTyxDQUFDRSxLQUF6QyxHQUFpRCxvQ0FBOUQ7QUFDSDtBQUNKO0FBRUQ7Ozs7O0FBR0FILFFBQVEsQ0FBQzZELFNBQVQsQ0FBbUJDLFdBQW5CLEdBQWlDOUQsUUFBakM7QUFFZUEsdUVBQWYiLCJmaWxlIjoiLi9zcmMvSXRvd25zL0xheWVyL0xheWVyV01TLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdwIGZyb20gXCJnZW9wb3J0YWwtYWNjZXNzLWxpYlwiO1xuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHNcIjtcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9Db25maWdcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlscy9Mb2dnZXJCeURlZmF1bHRcIjtcbmltcG9ydCBQa2cgZnJvbSBcIi4uLy4uLy4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHtcbiAgICBFeHRlbnQgYXMgSXRFeHRlbnQsXG4gICAgV01TU291cmNlIGFzIEl0V01TU291cmNlLFxuICAgIENvbG9yTGF5ZXIgYXMgSXRDb2xvckxheWVyXG59IGZyb20gXCJpdG93bnNcIjtcbi8qIGltcG9ydCBFeHRlbnQgZnJvbSBcIml0b3ducy9Db3JlL0dlb2dyYXBoaWMvRXh0ZW50XCI7XG5pbXBvcnQgV01TU291cmNlIGZyb20gXCJpdG93bnMvU291cmNlL1dNU1NvdXJjZVwiO1xuaW1wb3J0IENvbG9yTGF5ZXIgZnJvbSBcIml0b3ducy9MYXllci9Db2xvckxheWVyXCI7ICovXG5cbnZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwid21zTGF5ZXJcIik7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogR2VvcG9ydGFsIFdNVFMgc291cmNlIGNyZWF0aW9uXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYWxpYXMgaXRvd25zLmxheWVyLkdlb3BvcnRhbFdNU1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAgICAgICAgICAtIG9wdGlvbnMgZm9yIGZ1bmN0aW9uIGNhbGwuXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5sYXllciAgICAgIC0gTGF5ZXIgbmFtZSAoZS5nLiBcIk9SVEhPSU1BR0VSWS5PUlRIT1BIT1RPU1wiKVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zc2wgPSB0cnVlXSAtIHVzZSBvZiBzc2wgb3Igbm90IChkZWZhdWx0IHRydWUsIHNlcnZpY2UgcmVxdWVzdGVkIHVzaW5nIGh0dHBzIHByb3RvY29sKVxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFwaUtleV0gICAtIEFjY2VzcyBrZXkgdG8gR2VvcG9ydGFsIHBsYXRmb3JtXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaXRvd25zUGFyYW1zXSAtIG90aGVyIG9wdGlvbnMgZm9yIGl0b3ducy5HbG9iZVZpZXcuYWRkTGF5ZXIgZnVuY3Rpb24gKHNlZSB7QGxpbmsgaHR0cDovL3d3dy5pdG93bnMtcHJvamVjdC5vcmcvaXRvd25zL0FQSV9Eb2MvR2xvYmVWaWV3Lmh0bWwjYWRkTGF5ZXIgR2xvYmVWaWV3LmFkZExheWVyfSlcbiAqIEBleGFtcGxlXG4gKiB2YXIgZ2VvcG9ydGFsV01TID0gbmV3IGl0b3ducy5sYXllci5HZW9wb3J0YWxXTVMoe1xuICogICAgICBsYXllciAgOiBcIk9SVEhPSU1BR0VSWS5PUlRIT1BIT1RPU1wiXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gTGF5ZXJXTVMgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTGF5ZXJXTVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFUlJPUiBDTEFTU19DT05TVFJVQ1RPUlwiKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBsYXllciBwYXJhbXNcbiAgICBpZiAoIW9wdGlvbnMubGF5ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgUEFSQU1fTUlTU0lORyA6IGxheWVyXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMubGF5ZXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgV1JPTkcgVFlQRSA6IGxheWVyXCIpO1xuICAgIH1cblxuICAgIC8vIHBhciBkZWZhdXRcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc3NsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIG9wdGlvbnMuc3NsID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBjb25maWd1cmF0aW9uIGlzIGxvYWRlZFxuICAgIGlmICghQ29uZmlnLmlzQ29uZmlnTG9hZGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgOiBjb250cmFjdCBrZXkgY29uZmlndXJhdGlvbiBoYXMgdG8gYmUgbG9hZGVkIHRvIGxvYWQgR2VvcG9ydGFsIGxheWVycy4gU2VlIGh0dHA6Ly9pZ25mLmdpdGh1Yi5pby9ldm9sdXRpb24tYXBpZ2VvcG9ydGFpbC9vbDMvb2wzLWF1dG9jb25mLmh0bWxcIik7XG4gICAgfVxuXG4gICAgdmFyIGxheWVySWQgPSBDb25maWcuZ2V0TGF5ZXJJZChvcHRpb25zLmxheWVyLCBcIldNU1wiKTtcblxuICAgIGlmIChsYXllcklkICYmIENvbmZpZy5jb25maWd1cmF0aW9uLmdldExheWVyQ29uZihsYXllcklkKSkge1xuICAgICAgICB2YXIgY29uZmlnID0ge307XG4gICAgICAgIHZhciB3bXNQYXJhbXMgPSBDb25maWcuZ2V0TGF5ZXJQYXJhbXMob3B0aW9ucy5sYXllciwgXCJXTVNcIiwgb3B0aW9ucy5hcGlLZXkpO1xuXG4gICAgICAgIGlmICh3bXNQYXJhbXMucHJvamVjdGlvbiA9PT0gXCJFUFNHOjM4NTdcIiAmJiB3bXNQYXJhbXMuZXh0ZW50KSB7XG4gICAgICAgICAgICB3bXNQYXJhbXMuZXh0ZW50ID0gbmV3IEl0RXh0ZW50KFwiRVBTRzo0MzI2XCIsIHdtc1BhcmFtcy5leHRlbnQubGVmdCwgd21zUGFyYW1zLmV4dGVudC5yaWdodCwgd21zUGFyYW1zLmV4dGVudC5ib3R0b20sIHdtc1BhcmFtcy5leHRlbnQudG9wKS5hcyhcIkVQU0c6Mzg1N1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdtc1BhcmFtcy5leHRlbnQgPSBuZXcgSXRFeHRlbnQoXCJFUFNHOjQzMjZcIiwgd21zUGFyYW1zLmV4dGVudC5sZWZ0LCB3bXNQYXJhbXMuZXh0ZW50LnJpZ2h0LCB3bXNQYXJhbXMuZXh0ZW50LmJvdHRvbSwgd21zUGFyYW1zLmV4dGVudC50b3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2kgc3NsID0gZmFsc2Ugb24gZmFpdCBkdSBodHRwXG4gICAgICAgIC8vIHBhciBkw6lmYXV0LCBzc2wgPSB0cnVlLCBvbiBmYWl0IGR1IGh0dHBzXG4gICAgICAgIHZhciBwcm90b2NvbCA9IG9wdGlvbnMuc3NsID09PSBmYWxzZSA/IFwiaHR0cDovL1wiIDogXCJodHRwczovL1wiO1xuXG4gICAgICAgIGNvbmZpZy5pZCA9IGxheWVySWQ7XG4gICAgICAgIGNvbmZpZy5zb3VyY2UgPSBuZXcgSXRXTVNTb3VyY2Uoe1xuICAgICAgICAgICAgcHJvdG9jb2wgOiBcIndtc1wiLFxuICAgICAgICAgICAgdmVyc2lvbiA6IHdtc1BhcmFtcy52ZXJzaW9uLFxuICAgICAgICAgICAgYXR0cmlidXRpb24gOiB3bXNQYXJhbXMub3JpZ2luYXRvcnMsXG4gICAgICAgICAgICB1cmwgOiB3bXNQYXJhbXMudXJsLnJlcGxhY2UoLyhodHRwfGh0dHBzKTpcXC9cXC8vLCBwcm90b2NvbCksXG4gICAgICAgICAgICBuYW1lIDogb3B0aW9ucy5sYXllcixcbiAgICAgICAgICAgIHByb2plY3Rpb24gOiB3bXNQYXJhbXMucHJvamVjdGlvbixcbiAgICAgICAgICAgIHN0eWxlIDogXCJcIixcbiAgICAgICAgICAgIGhlaWdodE1hcFdpZHRoIDogMjU2LFxuICAgICAgICAgICAgd2F0ZXJNYXNrIDogZmFsc2UsXG4gICAgICAgICAgICBuZXR3b3JrT3B0aW9ucyA6IHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbiA6IFwib21pdFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlU3RyYXRlZ3kgOiB7XG4gICAgICAgICAgICAgICAgdHlwZSA6IDAsXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA6IHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybWF0IDogd21zUGFyYW1zLmZvcm1hdCxcbiAgICAgICAgICAgIGV4dGVudCA6IHtcbiAgICAgICAgICAgICAgICB3ZXN0IDogd21zUGFyYW1zLmV4dGVudC53ZXN0LFxuICAgICAgICAgICAgICAgIGVhc3QgOiB3bXNQYXJhbXMuZXh0ZW50LmVhc3QsXG4gICAgICAgICAgICAgICAgc291dGggOiB3bXNQYXJhbXMuZXh0ZW50LnNvdXRoLFxuICAgICAgICAgICAgICAgIG5vcnRoIDogd21zUGFyYW1zLmV4dGVudC5ub3J0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBham91dCBkdSB0YWcgZ3AtaXRvd25zLWV4dCBkYW5zIGxlcyByZXF1w6p0ZXMgV01TXG4gICAgICAgIGNvbmZpZy5zb3VyY2UudXJsID0gR3AuSGVscGVyLm5vcm1hbHl6ZVVybChjb25maWcuc291cmNlLnVybCwge1xuICAgICAgICAgICAgXCJncC1pdG93bnMtZXh0XCIgOiBQa2cuaXRvd25zRXh0VmVyc2lvbiB8fCBQa2cudmVyc2lvblxuICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgLy8gcsOpY3Vww6lyYXRpb24gZGVzIGF1dHJlcyBwYXJhbcOodHJlcyBwYXNzw6lzIHBhciBsJ3V0aWxpc2F0ZXVyXG4gICAgICAgIFV0aWxzLm1lcmdlUGFyYW1zKGNvbmZpZywgb3B0aW9ucy5pdG93bnNQYXJhbXMpO1xuXG4gICAgICAgIC8vIGFkZCBsZWdlbmRzIGFuZCBtZXRhZGF0YSAodG8gYmUgYWRkZWQgdG8gTGF5ZXJTd2l0Y2hlciBjb250cm9sKVxuICAgICAgICBjb25maWcubGVnZW5kcyA9IHdtc1BhcmFtcy5sZWdlbmRzO1xuICAgICAgICBjb25maWcubWV0YWRhdGEgPSB3bXNQYXJhbXMubWV0YWRhdGE7XG4gICAgICAgIGNvbmZpZy5kZXNjcmlwdGlvbiA9IHdtc1BhcmFtcy5kZXNjcmlwdGlvbjtcbiAgICAgICAgY29uZmlnLnRpdGxlID0gd21zUGFyYW1zLnRpdGxlO1xuICAgICAgICBjb25maWcucXVpY2tsb29rVXJsID0gd21zUGFyYW1zLnF1aWNrbG9va1VybDtcblxuICAgICAgICByZXR1cm4gbmV3IEl0Q29sb3JMYXllcihjb25maWcuaWQsIGNvbmZpZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgbGF5ZXIgaXMgbm90IGluIEdwLkNvbmZpZ1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJFUlJPUiBsYXllciBpZCAobGF5ZXIgbmFtZTogXCIgKyBvcHRpb25zLmxheWVyICsgXCIgLyBzZXJ2aWNlOiBXTVMgKSB3YXMgbm90IGZvdW5kICE/XCIpO1xuICAgIH1cbn1cblxuLypcbiAqIENvbnN0cnVjdG9yIChhbGlhcylcbiAqL1xuTGF5ZXJXTVMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF5ZXJXTVM7XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyV01TO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/Layer/LayerWMS.js\n");

/***/ }),

/***/ "./src/Itowns/Layer/LayerWMTS.js":
/*!***************************************!*\
  !*** ./src/Itowns/Layer/LayerWMTS.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! geoportal-access-lib */ \"./node_modules/geoportal-access-lib/src/Gp.js\");\n/* harmony import */ var _Common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils */ \"./src/Common/Utils.js\");\n/* harmony import */ var _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Common/Utils/Config */ \"./src/Common/Utils/Config.js\");\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../../package.json */ \"./package.json\", 1);\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! itowns */ \"itowns\");\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(itowns__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n/* import Extent from \"itowns/Core/Geographic/Extent\";\nimport WMTSSource from \"itowns/Source/WMTSSource\";\nimport ColorLayer from \"itowns/Layer/ColorLayer\"; */\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLogger(\"wmtsLayer\");\n/**\n * @classdesc\n * Geoportal WMTS source creation\n *\n * @constructor\n * @alias itowns.layer.GeoportalWMTS\n * @param {Object} options            - options for function call.\n * @param {String} options.layer      - Layer name (e.g. \"ORTHOIMAGERY.ORTHOPHOTOS\")\n * @param {Boolean} [options.ssl = true] - use of ssl or not (default true, service requested using https protocol)\n * @param {String} [options.apiKey]   - Access key to Geoportal platform\n * @param {Object} [options.itownsParams] - other options for itowns.GlobeView.addLayer function (see {@link http://www.itowns-project.org/itowns/API_Doc/GlobeView.html#addLayer GlobeView.addLayer})\n * @example\n * var geoportalWMTS = new itowns.layer.GeoportalWMTS({\n *      layer  : \"ORTHOIMAGERY.ORTHOPHOTOS\"\n * });\n */\n\nfunction LayerWMTS(options) {\n  if (!(this instanceof LayerWMTS)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  } // check layer params\n\n\n  if (!options.layer) {\n    throw new Error(\"ERROR PARAM_MISSING : layer\");\n  }\n\n  if (typeof options.layer !== \"string\") {\n    throw new Error(\"ERROR WRONG TYPE : layer\");\n  } // par defaut\n\n\n  if (typeof options.ssl === \"undefined\") {\n    options.ssl = true;\n  } // Check if configuration is loaded\n\n\n  if (!_Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isConfigLoaded()) {\n    throw new Error(\"ERROR : contract key configuration has to be loaded to load Geoportal layers. See http://ignf.github.io/evolution-apigeoportail/ol3/ol3-autoconf.html\");\n  }\n\n  var layerId = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLayerId(options.layer, \"WMTS\");\n\n  if (layerId && _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].configuration.getLayerConf(layerId)) {\n    var config = {};\n    var wmtsParams = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLayerParams(options.layer, \"WMTS\", options.apiKey);\n\n    if (wmtsParams.projection === \"EPSG:3857\" && wmtsParams.extent) {\n      wmtsParams.extent = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"Extent\"](\"EPSG:4326\", wmtsParams.extent.left, wmtsParams.extent.right, wmtsParams.extent.bottom, wmtsParams.extent.top).as(\"EPSG:3857\");\n    } else {\n      wmtsParams.projection = \"EPSG:4326\";\n      wmtsParams.extent = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"Extent\"](\"EPSG:4326\", wmtsParams.extent.left, wmtsParams.extent.right, wmtsParams.extent.bottom, wmtsParams.extent.top);\n    }\n\n    if (Object.entries(wmtsParams.tileMatrixSetLimits).length === 0 && wmtsParams.tileMatrixSetLimits.constructor === Object) {\n      wmtsParams.tileMatrixSetLimits = undefined;\n    } // si ssl = false on fait du http\n    // par défaut, ssl = true, on fait du https\n\n\n    var protocol = options.ssl === false ? \"http://\" : \"https://\";\n    config.id = layerId;\n    config.source = new itowns__WEBPACK_IMPORTED_MODULE_5__[\"WMTSSource\"]({\n      protocol: \"wmts\",\n      url: wmtsParams.url.replace(/(http|https):\\/\\//, protocol),\n      networkOptions: {\n        crossOrigin: \"omit\"\n      },\n      updateStrategy: {\n        type: 0,\n        options: {}\n      },\n      projection: wmtsParams.projection,\n      attribution: wmtsParams.originators,\n      name: options.layer,\n      format: wmtsParams.format,\n      tileMatrixSet: wmtsParams.TMSLink,\n      tileMatrixSetLimits: wmtsParams.tileMatrixSetLimits,\n      extent: {\n        west: wmtsParams.extent.west,\n        east: wmtsParams.extent.east,\n        south: wmtsParams.extent.south,\n        north: wmtsParams.extent.north\n      }\n    }); // ajout du tag gp-itowns-ext dans les requêtes WMTS\n\n    config.source.url = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Helper.normalyzeUrl(config.source.url, {\n      \"gp-itowns-ext\": _package_json__WEBPACK_IMPORTED_MODULE_4__.itownsExtVersion || _package_json__WEBPACK_IMPORTED_MODULE_4__.version\n    }, false); // récupération des autres paramètres passés par l'utilisateur\n\n    _Common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mergeParams(config, options.itownsParams); // add legends and metadata (to be added to LayerSwitcher control)\n\n    config.legends = wmtsParams.legends;\n    config.metadata = wmtsParams.metadata;\n    config.description = wmtsParams.description;\n    config.title = wmtsParams.title;\n    config.quicklookUrl = wmtsParams.quicklookUrl;\n    return new itowns__WEBPACK_IMPORTED_MODULE_5__[\"ColorLayer\"](config.id, config);\n  } else {\n    // If layer is not in Gp.Config\n    logger.error(\"ERROR layer id (layer name: \" + options.layer + \" / service: WMTS ) was not found !?\");\n  }\n}\n/*\n * Constructor (alias)\n */\n\n\nLayerWMTS.prototype.constructor = LayerWMTS;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LayerWMTS);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvTGF5ZXIvTGF5ZXJXTVRTLmpzPzZiNTAiXSwibmFtZXMiOlsibG9nZ2VyIiwiTG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiTGF5ZXJXTVRTIiwib3B0aW9ucyIsIlR5cGVFcnJvciIsImxheWVyIiwiRXJyb3IiLCJzc2wiLCJDb25maWciLCJpc0NvbmZpZ0xvYWRlZCIsImxheWVySWQiLCJnZXRMYXllcklkIiwiY29uZmlndXJhdGlvbiIsImdldExheWVyQ29uZiIsImNvbmZpZyIsIndtdHNQYXJhbXMiLCJnZXRMYXllclBhcmFtcyIsImFwaUtleSIsInByb2plY3Rpb24iLCJleHRlbnQiLCJJdEV4dGVudCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInRvcCIsImFzIiwiT2JqZWN0IiwiZW50cmllcyIsInRpbGVNYXRyaXhTZXRMaW1pdHMiLCJsZW5ndGgiLCJjb25zdHJ1Y3RvciIsInVuZGVmaW5lZCIsInByb3RvY29sIiwiaWQiLCJzb3VyY2UiLCJJdFdNVFNTb3VyY2UiLCJ1cmwiLCJyZXBsYWNlIiwibmV0d29ya09wdGlvbnMiLCJjcm9zc09yaWdpbiIsInVwZGF0ZVN0cmF0ZWd5IiwidHlwZSIsImF0dHJpYnV0aW9uIiwib3JpZ2luYXRvcnMiLCJuYW1lIiwiZm9ybWF0IiwidGlsZU1hdHJpeFNldCIsIlRNU0xpbmsiLCJ3ZXN0IiwiZWFzdCIsInNvdXRoIiwibm9ydGgiLCJHcCIsIkhlbHBlciIsIm5vcm1hbHl6ZVVybCIsIlBrZyIsIml0b3duc0V4dFZlcnNpb24iLCJ2ZXJzaW9uIiwiVXRpbHMiLCJtZXJnZVBhcmFtcyIsIml0b3duc1BhcmFtcyIsImxlZ2VuZHMiLCJtZXRhZGF0YSIsImRlc2NyaXB0aW9uIiwidGl0bGUiLCJxdWlja2xvb2tVcmwiLCJJdENvbG9yTGF5ZXIiLCJlcnJvciIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFB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QXBCLENBN0N1RCxDQWlEdkQ7O0FBQ0FDLHlEQUFLLENBQUNDLFdBQU4sQ0FBa0I3QyxNQUFsQixFQUEwQlgsT0FBTyxDQUFDeUQsWUFBbEMsRUFsRHVELENBb0R2RDs7QUFDQTlDLFVBQU0sQ0FBQytDLE9BQVAsR0FBaUI5QyxVQUFVLENBQUM4QyxPQUE1QjtBQUNBL0MsVUFBTSxDQUFDZ0QsUUFBUCxHQUFrQi9DLFVBQVUsQ0FBQytDLFFBQTdCO0FBQ0FoRCxVQUFNLENBQUNpRCxXQUFQLEdBQXFCaEQsVUFBVSxDQUFDZ0QsV0FBaEM7QUFDQWpELFVBQU0sQ0FBQ2tELEtBQVAsR0FBZWpELFVBQVUsQ0FBQ2lELEtBQTFCO0FBQ0FsRCxVQUFNLENBQUNtRCxZQUFQLEdBQXNCbEQsVUFBVSxDQUFDa0QsWUFBakM7QUFFQSxXQUFPLElBQUlDLGlEQUFKLENBQWlCcEQsTUFBTSxDQUFDbUIsRUFBeEIsRUFBNEJuQixNQUE1QixDQUFQO0FBQ0gsR0E1REQsTUE0RE87QUFDSDtBQUNBZixVQUFNLENBQUNvRSxLQUFQLENBQWEsaUNBQWlDaEUsT0FBTyxDQUFDRSxLQUF6QyxHQUFpRCxxQ0FBOUQ7QUFDSDtBQUNKO0FBRUQ7Ozs7O0FBR0FILFNBQVMsQ0FBQ2tFLFNBQVYsQ0FBb0J0QyxXQUFwQixHQUFrQzVCLFNBQWxDO0FBRWVBLHdFQUFmIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9MYXllci9MYXllcldNVFMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR3AgZnJvbSBcImdlb3BvcnRhbC1hY2Nlc3MtbGliXCI7XG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uL0NvbW1vbi9VdGlsc1wiO1xuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzL0NvbmZpZ1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vQ29tbW9uL1V0aWxzL0xvZ2dlckJ5RGVmYXVsdFwiO1xuaW1wb3J0IFBrZyBmcm9tIFwiLi4vLi4vLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQge1xuICAgIEV4dGVudCBhcyBJdEV4dGVudCxcbiAgICBXTVRTU291cmNlIGFzIEl0V01UU1NvdXJjZSxcbiAgICBDb2xvckxheWVyIGFzIEl0Q29sb3JMYXllclxufSBmcm9tIFwiaXRvd25zXCI7XG4vKiBpbXBvcnQgRXh0ZW50IGZyb20gXCJpdG93bnMvQ29yZS9HZW9ncmFwaGljL0V4dGVudFwiO1xuaW1wb3J0IFdNVFNTb3VyY2UgZnJvbSBcIml0b3ducy9Tb3VyY2UvV01UU1NvdXJjZVwiO1xuaW1wb3J0IENvbG9yTGF5ZXIgZnJvbSBcIml0b3ducy9MYXllci9Db2xvckxheWVyXCI7ICovXG5cbnZhciBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKFwid210c0xheWVyXCIpO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEdlb3BvcnRhbCBXTVRTIHNvdXJjZSBjcmVhdGlvblxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFsaWFzIGl0b3ducy5sYXllci5HZW9wb3J0YWxXTVRTXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgICAgICAgICAgIC0gb3B0aW9ucyBmb3IgZnVuY3Rpb24gY2FsbC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmxheWVyICAgICAgLSBMYXllciBuYW1lIChlLmcuIFwiT1JUSE9JTUFHRVJZLk9SVEhPUEhPVE9TXCIpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNzbCA9IHRydWVdIC0gdXNlIG9mIHNzbCBvciBub3QgKGRlZmF1bHQgdHJ1ZSwgc2VydmljZSByZXF1ZXN0ZWQgdXNpbmcgaHR0cHMgcHJvdG9jb2wpXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYXBpS2V5XSAgIC0gQWNjZXNzIGtleSB0byBHZW9wb3J0YWwgcGxhdGZvcm1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pdG93bnNQYXJhbXNdIC0gb3RoZXIgb3B0aW9ucyBmb3IgaXRvd25zLkdsb2JlVmlldy5hZGRMYXllciBmdW5jdGlvbiAoc2VlIHtAbGluayBodHRwOi8vd3d3Lml0b3ducy1wcm9qZWN0Lm9yZy9pdG93bnMvQVBJX0RvYy9HbG9iZVZpZXcuaHRtbCNhZGRMYXllciBHbG9iZVZpZXcuYWRkTGF5ZXJ9KVxuICogQGV4YW1wbGVcbiAqIHZhciBnZW9wb3J0YWxXTVRTID0gbmV3IGl0b3ducy5sYXllci5HZW9wb3J0YWxXTVRTKHtcbiAqICAgICAgbGF5ZXIgIDogXCJPUlRIT0lNQUdFUlkuT1JUSE9QSE9UT1NcIlxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIExheWVyV01UUyAob3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBMYXllcldNVFMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFUlJPUiBDTEFTU19DT05TVFJVQ1RPUlwiKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBsYXllciBwYXJhbXNcbiAgICBpZiAoIW9wdGlvbnMubGF5ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgUEFSQU1fTUlTU0lORyA6IGxheWVyXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMubGF5ZXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgV1JPTkcgVFlQRSA6IGxheWVyXCIpO1xuICAgIH1cblxuICAgIC8vIHBhciBkZWZhdXRcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc3NsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIG9wdGlvbnMuc3NsID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBjb25maWd1cmF0aW9uIGlzIGxvYWRlZFxuICAgIGlmICghQ29uZmlnLmlzQ29uZmlnTG9hZGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgOiBjb250cmFjdCBrZXkgY29uZmlndXJhdGlvbiBoYXMgdG8gYmUgbG9hZGVkIHRvIGxvYWQgR2VvcG9ydGFsIGxheWVycy4gU2VlIGh0dHA6Ly9pZ25mLmdpdGh1Yi5pby9ldm9sdXRpb24tYXBpZ2VvcG9ydGFpbC9vbDMvb2wzLWF1dG9jb25mLmh0bWxcIik7XG4gICAgfVxuXG4gICAgdmFyIGxheWVySWQgPSBDb25maWcuZ2V0TGF5ZXJJZChvcHRpb25zLmxheWVyLCBcIldNVFNcIik7XG5cbiAgICBpZiAobGF5ZXJJZCAmJiBDb25maWcuY29uZmlndXJhdGlvbi5nZXRMYXllckNvbmYobGF5ZXJJZCkpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHt9O1xuICAgICAgICB2YXIgd210c1BhcmFtcyA9IENvbmZpZy5nZXRMYXllclBhcmFtcyhvcHRpb25zLmxheWVyLCBcIldNVFNcIiwgb3B0aW9ucy5hcGlLZXkpO1xuXG4gICAgICAgIGlmICh3bXRzUGFyYW1zLnByb2plY3Rpb24gPT09IFwiRVBTRzozODU3XCIgJiYgd210c1BhcmFtcy5leHRlbnQpIHtcbiAgICAgICAgICAgIHdtdHNQYXJhbXMuZXh0ZW50ID0gbmV3IEl0RXh0ZW50KFwiRVBTRzo0MzI2XCIsIHdtdHNQYXJhbXMuZXh0ZW50LmxlZnQsIHdtdHNQYXJhbXMuZXh0ZW50LnJpZ2h0LCB3bXRzUGFyYW1zLmV4dGVudC5ib3R0b20sIHdtdHNQYXJhbXMuZXh0ZW50LnRvcCkuYXMoXCJFUFNHOjM4NTdcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3bXRzUGFyYW1zLnByb2plY3Rpb24gPSBcIkVQU0c6NDMyNlwiO1xuICAgICAgICAgICAgd210c1BhcmFtcy5leHRlbnQgPSBuZXcgSXRFeHRlbnQoXCJFUFNHOjQzMjZcIiwgd210c1BhcmFtcy5leHRlbnQubGVmdCwgd210c1BhcmFtcy5leHRlbnQucmlnaHQsIHdtdHNQYXJhbXMuZXh0ZW50LmJvdHRvbSwgd210c1BhcmFtcy5leHRlbnQudG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuZW50cmllcyh3bXRzUGFyYW1zLnRpbGVNYXRyaXhTZXRMaW1pdHMpLmxlbmd0aCA9PT0gMCAmJiB3bXRzUGFyYW1zLnRpbGVNYXRyaXhTZXRMaW1pdHMuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgd210c1BhcmFtcy50aWxlTWF0cml4U2V0TGltaXRzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2kgc3NsID0gZmFsc2Ugb24gZmFpdCBkdSBodHRwXG4gICAgICAgIC8vIHBhciBkw6lmYXV0LCBzc2wgPSB0cnVlLCBvbiBmYWl0IGR1IGh0dHBzXG4gICAgICAgIHZhciBwcm90b2NvbCA9IG9wdGlvbnMuc3NsID09PSBmYWxzZSA/IFwiaHR0cDovL1wiIDogXCJodHRwczovL1wiO1xuXG4gICAgICAgIGNvbmZpZy5pZCA9IGxheWVySWQ7XG4gICAgICAgIGNvbmZpZy5zb3VyY2UgPSBuZXcgSXRXTVRTU291cmNlKHtcbiAgICAgICAgICAgIHByb3RvY29sIDogXCJ3bXRzXCIsXG4gICAgICAgICAgICB1cmwgOiB3bXRzUGFyYW1zLnVybC5yZXBsYWNlKC8oaHR0cHxodHRwcyk6XFwvXFwvLywgcHJvdG9jb2wpLFxuICAgICAgICAgICAgbmV0d29ya09wdGlvbnMgOiB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW4gOiBcIm9taXRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZVN0cmF0ZWd5IDoge1xuICAgICAgICAgICAgICAgIHR5cGUgOiAwLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2plY3Rpb24gOiB3bXRzUGFyYW1zLnByb2plY3Rpb24sXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbiA6IHdtdHNQYXJhbXMub3JpZ2luYXRvcnMsXG4gICAgICAgICAgICBuYW1lIDogb3B0aW9ucy5sYXllcixcbiAgICAgICAgICAgIGZvcm1hdCA6IHdtdHNQYXJhbXMuZm9ybWF0LFxuICAgICAgICAgICAgdGlsZU1hdHJpeFNldCA6IHdtdHNQYXJhbXMuVE1TTGluayxcbiAgICAgICAgICAgIHRpbGVNYXRyaXhTZXRMaW1pdHMgOiB3bXRzUGFyYW1zLnRpbGVNYXRyaXhTZXRMaW1pdHMsXG4gICAgICAgICAgICBleHRlbnQgOiB7XG4gICAgICAgICAgICAgICAgd2VzdCA6IHdtdHNQYXJhbXMuZXh0ZW50Lndlc3QsXG4gICAgICAgICAgICAgICAgZWFzdCA6IHdtdHNQYXJhbXMuZXh0ZW50LmVhc3QsXG4gICAgICAgICAgICAgICAgc291dGggOiB3bXRzUGFyYW1zLmV4dGVudC5zb3V0aCxcbiAgICAgICAgICAgICAgICBub3J0aCA6IHdtdHNQYXJhbXMuZXh0ZW50Lm5vcnRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGFqb3V0IGR1IHRhZyBncC1pdG93bnMtZXh0IGRhbnMgbGVzIHJlcXXDqnRlcyBXTVRTXG4gICAgICAgIGNvbmZpZy5zb3VyY2UudXJsID0gR3AuSGVscGVyLm5vcm1hbHl6ZVVybChjb25maWcuc291cmNlLnVybCwge1xuICAgICAgICAgICAgXCJncC1pdG93bnMtZXh0XCIgOiBQa2cuaXRvd25zRXh0VmVyc2lvbiB8fCBQa2cudmVyc2lvblxuICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgLy8gcsOpY3Vww6lyYXRpb24gZGVzIGF1dHJlcyBwYXJhbcOodHJlcyBwYXNzw6lzIHBhciBsJ3V0aWxpc2F0ZXVyXG4gICAgICAgIFV0aWxzLm1lcmdlUGFyYW1zKGNvbmZpZywgb3B0aW9ucy5pdG93bnNQYXJhbXMpO1xuXG4gICAgICAgIC8vIGFkZCBsZWdlbmRzIGFuZCBtZXRhZGF0YSAodG8gYmUgYWRkZWQgdG8gTGF5ZXJTd2l0Y2hlciBjb250cm9sKVxuICAgICAgICBjb25maWcubGVnZW5kcyA9IHdtdHNQYXJhbXMubGVnZW5kcztcbiAgICAgICAgY29uZmlnLm1ldGFkYXRhID0gd210c1BhcmFtcy5tZXRhZGF0YTtcbiAgICAgICAgY29uZmlnLmRlc2NyaXB0aW9uID0gd210c1BhcmFtcy5kZXNjcmlwdGlvbjtcbiAgICAgICAgY29uZmlnLnRpdGxlID0gd210c1BhcmFtcy50aXRsZTtcbiAgICAgICAgY29uZmlnLnF1aWNrbG9va1VybCA9IHdtdHNQYXJhbXMucXVpY2tsb29rVXJsO1xuXG4gICAgICAgIHJldHVybiBuZXcgSXRDb2xvckxheWVyKGNvbmZpZy5pZCwgY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiBsYXllciBpcyBub3QgaW4gR3AuQ29uZmlnXG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVSUk9SIGxheWVyIGlkIChsYXllciBuYW1lOiBcIiArIG9wdGlvbnMubGF5ZXIgKyBcIiAvIHNlcnZpY2U6IFdNVFMgKSB3YXMgbm90IGZvdW5kICE/XCIpO1xuICAgIH1cbn1cblxuLypcbiAqIENvbnN0cnVjdG9yIChhbGlhcylcbiAqL1xuTGF5ZXJXTVRTLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExheWVyV01UUztcblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXJXTVRTO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/Layer/LayerWMTS.js\n");

/***/ }),

/***/ "./src/Itowns/Layer/VectorTileLayer.js":
/*!*********************************************!*\
  !*** ./src/Itowns/Layer/VectorTileLayer.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Common/Utils/LoggerByDefault */ \"./src/Common/Utils/LoggerByDefault.js\");\n/* harmony import */ var _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Common/Utils/Config */ \"./src/Common/Utils/Config.js\");\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! itowns */ \"itowns\");\n/* harmony import */ var itowns__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(itowns__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n/* import Extent from \"itowns/Core/Geographic/Extent\";\nimport WMSSource from \"itowns/Source/WMSSource\";\nimport ColorLayer from \"itowns/Layer/ColorLayer\"; */\n\nvar logger = _Common_Utils_LoggerByDefault__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger(\"vectorTileLayer\");\n/**\n * @classdesc\n * Geoportal WMTS source creation\n *\n * @constructor\n * @private\n * @alias itowns.layer.VectorTileLayer\n * @param {Object} options - options for function call.\n * @param {String} options.id - id to give to the layer\n * @param {String} options.layer - Layer name (e.g. \"PLAN.IGN\")\n * @param {String} [options.url] - Url to the vector Tile json style\n * @param {String} [options.urlService] - Url to the pbf file. Retrieved in the style file by default.\n * @param {Function} [options.filter] - Filter applied to the vector layer style. Fill/Line layer type by default.\n * @param {Object} [options.attributions] - Attributions of the layer.\n * @param {Object} [options.zoom] - Between which zoom levels the layer is displayed (zoom.min and zoom.max)\n * @example\n * var vectorTileLayer = new itowns.layer.VectorTileLayer({\n *      layer : \"PLAN.IGN\"\n * });\n */\n\nfunction VectorTileLayer(options) {\n  if (!(this instanceof VectorTileLayer)) {\n    throw new TypeError(\"ERROR CLASS_CONSTRUCTOR\");\n  } // check layer params\n\n\n  if (!options.layer) {\n    throw new Error(\"ERROR PARAM_MISSING : layer\");\n  }\n\n  if (typeof options.layer !== \"string\") {\n    throw new Error(\"ERROR WRONG TYPE : layer\");\n  } // Check if configuration is loaded\n\n\n  if (!_Common_Utils_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isConfigLoaded()) {\n    throw new Error(\"ERROR : contract key configuration has to be loaded to load Geoportal layers. See http://ignf.github.io/evolution-apigeoportail/ol3/ol3-autoconf.html\");\n  }\n\n  var layerId = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getLayerId(options.layer, \"TMS\");\n\n  if (layerId && _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].configuration.getLayerConf(layerId)) {\n    var config = {};\n    var tmsParams = _Common_Utils_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getLayerParams(options.layer, \"TMS\", options.apiKey); // si ssl = false on fait du http\n    // par défaut, ssl = true, on fait du https\n\n    var protocol = options.ssl === false ? \"http://\" : \"https://\";\n    config.id = layerId;\n    config.source = new itowns__WEBPACK_IMPORTED_MODULE_2__[\"VectorTilesSource\"]({\n      style: tmsParams.url.replace(/(http|https):\\/\\//, protocol),\n      url: options.urlService,\n      attribution: options.attributions,\n      filter: options.filter,\n      zoom: options.zoom\n    }); // FIXME wait for next itowns release to remove this\n\n    config.isValidData = function () {\n      return false;\n    };\n\n    return new itowns__WEBPACK_IMPORTED_MODULE_2__[\"ColorLayer\"](config.id, config);\n  } else {\n    // If layer is not in Gp.Config\n    logger.error(\"ERROR layer id (layer name: \" + options.layer + \" / service: TMS ) was not found !?\");\n  }\n}\n\n;\n/*\n * Constructor (alias)\n */\n\nVectorTileLayer.prototype.constructor = VectorTileLayer;\n/* harmony default export */ __webpack_exports__[\"default\"] = (VectorTileLayer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvTGF5ZXIvVmVjdG9yVGlsZUxheWVyLmpzPzNlZDgiXSwibmFtZXMiOlsibG9nZ2VyIiwiTG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiVmVjdG9yVGlsZUxheWVyIiwib3B0aW9ucyIsIlR5cGVFcnJvciIsImxheWVyIiwiRXJyb3IiLCJDb25maWciLCJpc0NvbmZpZ0xvYWRlZCIsImxheWVySWQiLCJnZXRMYXllcklkIiwiY29uZmlndXJhdGlvbiIsImdldExheWVyQ29uZiIsImNvbmZpZyIsInRtc1BhcmFtcyIsImdldExheWVyUGFyYW1zIiwiYXBpS2V5IiwicHJvdG9jb2wiLCJzc2wiLCJpZCIsInNvdXJjZSIsIkl0VmVjdG9yVGlsZXNTb3VyY2UiLCJzdHlsZSIsInVybCIsInJlcGxhY2UiLCJ1cmxTZXJ2aWNlIiwiYXR0cmlidXRpb24iLCJhdHRyaWJ1dGlvbnMiLCJmaWx0ZXIiLCJ6b29tIiwiaXNWYWxpZERhdGEiLCJJdENvbG9yTGF5ZXIiLCJlcnJvciIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBSUE7Ozs7QUFJQSxJQUFJQSxNQUFNLEdBQUdDLHFFQUFNLENBQUNDLFNBQVAsQ0FBaUIsaUJBQWpCLENBQWI7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0JBLFNBQVNDLGVBQVQsQ0FBMEJDLE9BQTFCLEVBQW1DO0FBQy9CLE1BQUksRUFBRSxnQkFBZ0JELGVBQWxCLENBQUosRUFBd0M7QUFDcEMsVUFBTSxJQUFJRSxTQUFKLENBQWMseUJBQWQsQ0FBTjtBQUNILEdBSDhCLENBSy9COzs7QUFDQSxNQUFJLENBQUNELE9BQU8sQ0FBQ0UsS0FBYixFQUFvQjtBQUNoQixVQUFNLElBQUlDLEtBQUosQ0FBVSw2QkFBVixDQUFOO0FBQ0g7O0FBQ0QsTUFBSSxPQUFPSCxPQUFPLENBQUNFLEtBQWYsS0FBeUIsUUFBN0IsRUFBdUM7QUFDbkMsVUFBTSxJQUFJQyxLQUFKLENBQVUsMEJBQVYsQ0FBTjtBQUNILEdBWDhCLENBYS9COzs7QUFDQSxNQUFJLENBQUNDLDREQUFNLENBQUNDLGNBQVAsRUFBTCxFQUE4QjtBQUMxQixVQUFNLElBQUlGLEtBQUosQ0FBVSx1SkFBVixDQUFOO0FBQ0g7O0FBRUQsTUFBSUcsT0FBTyxHQUFHRiw0REFBTSxDQUFDRyxVQUFQLENBQWtCUCxPQUFPLENBQUNFLEtBQTFCLEVBQWlDLEtBQWpDLENBQWQ7O0FBRUEsTUFBSUksT0FBTyxJQUFJRiw0REFBTSxDQUFDSSxhQUFQLENBQXFCQyxZQUFyQixDQUFrQ0gsT0FBbEMsQ0FBZixFQUEyRDtBQUN2RCxRQUFJSSxNQUFNLEdBQUcsRUFBYjtBQUNBLFFBQUlDLFNBQVMsR0FBR1AsNERBQU0sQ0FBQ1EsY0FBUCxDQUFzQlosT0FBTyxDQUFDRSxLQUE5QixFQUFxQyxLQUFyQyxFQUE0Q0YsT0FBTyxDQUFDYSxNQUFwRCxDQUFoQixDQUZ1RCxDQUl2RDtBQUNBOztBQUNBLFFBQUlDLFFBQVEsR0FBR2QsT0FBTyxDQUFDZSxHQUFSLEtBQWdCLEtBQWhCLEdBQXdCLFNBQXhCLEdBQW9DLFVBQW5EO0FBRUFMLFVBQU0sQ0FBQ00sRUFBUCxHQUFZVixPQUFaO0FBRUFJLFVBQU0sQ0FBQ08sTUFBUCxHQUFnQixJQUFJQyx3REFBSixDQUF3QjtBQUNwQ0MsV0FBSyxFQUFHUixTQUFTLENBQUNTLEdBQVYsQ0FBY0MsT0FBZCxDQUFzQixtQkFBdEIsRUFBMkNQLFFBQTNDLENBRDRCO0FBRXBDTSxTQUFHLEVBQUdwQixPQUFPLENBQUNzQixVQUZzQjtBQUdwQ0MsaUJBQVcsRUFBR3ZCLE9BQU8sQ0FBQ3dCLFlBSGM7QUFJcENDLFlBQU0sRUFBR3pCLE9BQU8sQ0FBQ3lCLE1BSm1CO0FBS3BDQyxVQUFJLEVBQUcxQixPQUFPLENBQUMwQjtBQUxxQixLQUF4QixDQUFoQixDQVZ1RCxDQWtCdkQ7O0FBQ0FoQixVQUFNLENBQUNpQixXQUFQLEdBQXFCLFlBQVk7QUFDN0IsYUFBTyxLQUFQO0FBQ0gsS0FGRDs7QUFJQSxXQUFPLElBQUlDLGlEQUFKLENBQWlCbEIsTUFBTSxDQUFDTSxFQUF4QixFQUE0Qk4sTUFBNUIsQ0FBUDtBQUNILEdBeEJELE1Bd0JPO0FBQ0g7QUFDQWQsVUFBTSxDQUFDaUMsS0FBUCxDQUFhLGlDQUFpQzdCLE9BQU8sQ0FBQ0UsS0FBekMsR0FBaUQsb0NBQTlEO0FBQ0g7QUFDSjs7QUFBQTtBQUVEOzs7O0FBR0FILGVBQWUsQ0FBQytCLFNBQWhCLENBQTBCQyxXQUExQixHQUF3Q2hDLGVBQXhDO0FBRWVBLDhFQUFmIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9MYXllci9WZWN0b3JUaWxlTGF5ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvTG9nZ2VyQnlEZWZhdWx0XCI7XG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9Db21tb24vVXRpbHMvQ29uZmlnXCI7XG5cbmltcG9ydCB7XG4gICAgVmVjdG9yVGlsZXNTb3VyY2UgYXMgSXRWZWN0b3JUaWxlc1NvdXJjZSxcbiAgICBDb2xvckxheWVyIGFzIEl0Q29sb3JMYXllclxufSBmcm9tIFwiaXRvd25zXCI7XG4vKiBpbXBvcnQgRXh0ZW50IGZyb20gXCJpdG93bnMvQ29yZS9HZW9ncmFwaGljL0V4dGVudFwiO1xuaW1wb3J0IFdNU1NvdXJjZSBmcm9tIFwiaXRvd25zL1NvdXJjZS9XTVNTb3VyY2VcIjtcbmltcG9ydCBDb2xvckxheWVyIGZyb20gXCJpdG93bnMvTGF5ZXIvQ29sb3JMYXllclwiOyAqL1xuXG52YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcihcInZlY3RvclRpbGVMYXllclwiKTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBHZW9wb3J0YWwgV01UUyBzb3VyY2UgY3JlYXRpb25cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKiBAYWxpYXMgaXRvd25zLmxheWVyLlZlY3RvclRpbGVMYXllclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBmdW5jdGlvbiBjYWxsLlxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuaWQgLSBpZCB0byBnaXZlIHRvIHRoZSBsYXllclxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMubGF5ZXIgLSBMYXllciBuYW1lIChlLmcuIFwiUExBTi5JR05cIilcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy51cmxdIC0gVXJsIHRvIHRoZSB2ZWN0b3IgVGlsZSBqc29uIHN0eWxlXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudXJsU2VydmljZV0gLSBVcmwgdG8gdGhlIHBiZiBmaWxlLiBSZXRyaWV2ZWQgaW4gdGhlIHN0eWxlIGZpbGUgYnkgZGVmYXVsdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmZpbHRlcl0gLSBGaWx0ZXIgYXBwbGllZCB0byB0aGUgdmVjdG9yIGxheWVyIHN0eWxlLiBGaWxsL0xpbmUgbGF5ZXIgdHlwZSBieSBkZWZhdWx0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmF0dHJpYnV0aW9uc10gLSBBdHRyaWJ1dGlvbnMgb2YgdGhlIGxheWVyLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnpvb21dIC0gQmV0d2VlbiB3aGljaCB6b29tIGxldmVscyB0aGUgbGF5ZXIgaXMgZGlzcGxheWVkICh6b29tLm1pbiBhbmQgem9vbS5tYXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIHZlY3RvclRpbGVMYXllciA9IG5ldyBpdG93bnMubGF5ZXIuVmVjdG9yVGlsZUxheWVyKHtcbiAqICAgICAgbGF5ZXIgOiBcIlBMQU4uSUdOXCJcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBWZWN0b3JUaWxlTGF5ZXIgKG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVmVjdG9yVGlsZUxheWVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRVJST1IgQ0xBU1NfQ09OU1RSVUNUT1JcIik7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgbGF5ZXIgcGFyYW1zXG4gICAgaWYgKCFvcHRpb25zLmxheWVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUk9SIFBBUkFNX01JU1NJTkcgOiBsYXllclwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmxheWVyICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUk9SIFdST05HIFRZUEUgOiBsYXllclwiKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBjb25maWd1cmF0aW9uIGlzIGxvYWRlZFxuICAgIGlmICghQ29uZmlnLmlzQ29uZmlnTG9hZGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRVJST1IgOiBjb250cmFjdCBrZXkgY29uZmlndXJhdGlvbiBoYXMgdG8gYmUgbG9hZGVkIHRvIGxvYWQgR2VvcG9ydGFsIGxheWVycy4gU2VlIGh0dHA6Ly9pZ25mLmdpdGh1Yi5pby9ldm9sdXRpb24tYXBpZ2VvcG9ydGFpbC9vbDMvb2wzLWF1dG9jb25mLmh0bWxcIik7XG4gICAgfVxuXG4gICAgdmFyIGxheWVySWQgPSBDb25maWcuZ2V0TGF5ZXJJZChvcHRpb25zLmxheWVyLCBcIlRNU1wiKTtcblxuICAgIGlmIChsYXllcklkICYmIENvbmZpZy5jb25maWd1cmF0aW9uLmdldExheWVyQ29uZihsYXllcklkKSkge1xuICAgICAgICB2YXIgY29uZmlnID0ge307XG4gICAgICAgIHZhciB0bXNQYXJhbXMgPSBDb25maWcuZ2V0TGF5ZXJQYXJhbXMob3B0aW9ucy5sYXllciwgXCJUTVNcIiwgb3B0aW9ucy5hcGlLZXkpO1xuXG4gICAgICAgIC8vIHNpIHNzbCA9IGZhbHNlIG9uIGZhaXQgZHUgaHR0cFxuICAgICAgICAvLyBwYXIgZMOpZmF1dCwgc3NsID0gdHJ1ZSwgb24gZmFpdCBkdSBodHRwc1xuICAgICAgICB2YXIgcHJvdG9jb2wgPSBvcHRpb25zLnNzbCA9PT0gZmFsc2UgPyBcImh0dHA6Ly9cIiA6IFwiaHR0cHM6Ly9cIjtcblxuICAgICAgICBjb25maWcuaWQgPSBsYXllcklkO1xuXG4gICAgICAgIGNvbmZpZy5zb3VyY2UgPSBuZXcgSXRWZWN0b3JUaWxlc1NvdXJjZSh7XG4gICAgICAgICAgICBzdHlsZSA6IHRtc1BhcmFtcy51cmwucmVwbGFjZSgvKGh0dHB8aHR0cHMpOlxcL1xcLy8sIHByb3RvY29sKSxcbiAgICAgICAgICAgIHVybCA6IG9wdGlvbnMudXJsU2VydmljZSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uIDogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBmaWx0ZXIgOiBvcHRpb25zLmZpbHRlcixcbiAgICAgICAgICAgIHpvb20gOiBvcHRpb25zLnpvb21cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRklYTUUgd2FpdCBmb3IgbmV4dCBpdG93bnMgcmVsZWFzZSB0byByZW1vdmUgdGhpc1xuICAgICAgICBjb25maWcuaXNWYWxpZERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5ldyBJdENvbG9yTGF5ZXIoY29uZmlnLmlkLCBjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIGxheWVyIGlzIG5vdCBpbiBHcC5Db25maWdcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiRVJST1IgbGF5ZXIgaWQgKGxheWVyIG5hbWU6IFwiICsgb3B0aW9ucy5sYXllciArIFwiIC8gc2VydmljZTogVE1TICkgd2FzIG5vdCBmb3VuZCAhP1wiKTtcbiAgICB9XG59O1xuXG4vKlxuICogQ29uc3RydWN0b3IgKGFsaWFzKVxuICovXG5WZWN0b3JUaWxlTGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmVjdG9yVGlsZUxheWVyO1xuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlTGF5ZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Itowns/Layer/VectorTileLayer.js\n");

/***/ }),

/***/ "./src/Itowns/Styles.js":
/*!******************************!*\
  !*** ./src/Itowns/Styles.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CSS_GPgeneralWidgetItowns_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CSS/GPgeneralWidgetItowns.css */ \"./src/Itowns/CSS/GPgeneralWidgetItowns.css\");\n/* harmony import */ var _CSS_GPgeneralWidgetItowns_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_CSS_GPgeneralWidgetItowns_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CSS_Controls_Attribution_GPattributionItowns_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CSS/Controls/Attribution/GPattributionItowns.css */ \"./src/Itowns/CSS/Controls/Attribution/GPattributionItowns.css\");\n/* harmony import */ var _CSS_Controls_Attribution_GPattributionItowns_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_CSS_Controls_Attribution_GPattributionItowns_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _CSS_Controls_BoostRelief_GPboostReliefItowns_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CSS/Controls/BoostRelief/GPboostReliefItowns.css */ \"./src/Itowns/CSS/Controls/BoostRelief/GPboostReliefItowns.css\");\n/* harmony import */ var _CSS_Controls_BoostRelief_GPboostReliefItowns_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_CSS_Controls_BoostRelief_GPboostReliefItowns_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _CSS_Controls_LayerSwitcher_GPlayerSwitcherItowns_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CSS/Controls/LayerSwitcher/GPlayerSwitcherItowns.css */ \"./src/Itowns/CSS/Controls/LayerSwitcher/GPlayerSwitcherItowns.css\");\n/* harmony import */ var _CSS_Controls_LayerSwitcher_GPlayerSwitcherItowns_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_CSS_Controls_LayerSwitcher_GPlayerSwitcherItowns_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _CSS_Controls_MiniGlobe_GPminiGlobeItowns_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CSS/Controls/MiniGlobe/GPminiGlobeItowns.css */ \"./src/Itowns/CSS/Controls/MiniGlobe/GPminiGlobeItowns.css\");\n/* harmony import */ var _CSS_Controls_MiniGlobe_GPminiGlobeItowns_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_CSS_Controls_MiniGlobe_GPminiGlobeItowns_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _CSS_Controls_MousePosition_GPmousePositionItowns_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CSS/Controls/MousePosition/GPmousePositionItowns.css */ \"./src/Itowns/CSS/Controls/MousePosition/GPmousePositionItowns.css\");\n/* harmony import */ var _CSS_Controls_MousePosition_GPmousePositionItowns_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_CSS_Controls_MousePosition_GPmousePositionItowns_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _CSS_Controls_Scale_GPscaleItowns_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CSS/Controls/Scale/GPscaleItowns.css */ \"./src/Itowns/CSS/Controls/Scale/GPscaleItowns.css\");\n/* harmony import */ var _CSS_Controls_Scale_GPscaleItowns_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_CSS_Controls_Scale_GPscaleItowns_css__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvU3R5bGVzLmpzP2FjYWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL0l0b3ducy9TdHlsZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuL0NTUy9HUGdlbmVyYWxXaWRnZXRJdG93bnMuY3NzXCI7XG5pbXBvcnQgXCIuL0NTUy9Db250cm9scy9BdHRyaWJ1dGlvbi9HUGF0dHJpYnV0aW9uSXRvd25zLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvQ29udHJvbHMvQm9vc3RSZWxpZWYvR1Bib29zdFJlbGllZkl0b3ducy5jc3NcIjtcbmltcG9ydCBcIi4vQ1NTL0NvbnRyb2xzL0xheWVyU3dpdGNoZXIvR1BsYXllclN3aXRjaGVySXRvd25zLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvQ29udHJvbHMvTWluaUdsb2JlL0dQbWluaUdsb2JlSXRvd25zLmNzc1wiO1xuaW1wb3J0IFwiLi9DU1MvQ29udHJvbHMvTW91c2VQb3NpdGlvbi9HUG1vdXNlUG9zaXRpb25JdG93bnMuY3NzXCI7XG5pbXBvcnQgXCIuL0NTUy9Db250cm9scy9TY2FsZS9HUHNjYWxlSXRvd25zLmNzc1wiO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Itowns/Styles.js\n");

/***/ }),

/***/ "./src/Itowns/index.js":
/*!*****************************!*\
  !*** ./src/Itowns/index.js ***!
  \*****************************/
/*! exports provided: Services, Error, Helper, Protocols, servicesDate, servicesVersion, LayerUtils, ProxyUtils, ColorUtils, MathUtils, itownsExtVersion, itownsExtDate, itownsExtended */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Services\", function() { return Services; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Error\", function() { return Error; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Helper\", function() { return Helper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Protocols\", function() { return Protocols; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"servicesDate\", function() { return servicesDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"servicesVersion\", function() { return servicesVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"itownsExtVersion\", function() { return itownsExtVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"itownsExtDate\", function() { return itownsExtDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"itownsExtended\", function() { return Itowns; });\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../package.json */ \"./package.json\", 1);\n/* harmony import */ var _Common_Styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Common/Styles */ \"./src/Common/Styles.js\");\n/* harmony import */ var _Styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Styles */ \"./src/Itowns/Styles.js\");\n/* harmony import */ var _Controls_MousePosition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Controls/MousePosition */ \"./src/Itowns/Controls/MousePosition.js\");\n/* harmony import */ var _Controls_LayerSwitcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Controls/LayerSwitcher */ \"./src/Itowns/Controls/LayerSwitcher.js\");\n/* harmony import */ var _Controls_BoostRelief__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Controls/BoostRelief */ \"./src/Itowns/Controls/BoostRelief.js\");\n/* harmony import */ var _Controls_Attributions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Controls/Attributions */ \"./src/Itowns/Controls/Attributions.js\");\n/* harmony import */ var _Controls_Scale__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Controls/Scale */ \"./src/Itowns/Controls/Scale.js\");\n/* harmony import */ var _Controls_MiniGlobe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Controls/MiniGlobe */ \"./src/Itowns/Controls/MiniGlobe.js\");\n/* harmony import */ var _Layer_LayerWMTS__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Layer/LayerWMTS */ \"./src/Itowns/Layer/LayerWMTS.js\");\n/* harmony import */ var _Layer_LayerWMS__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Layer/LayerWMS */ \"./src/Itowns/Layer/LayerWMS.js\");\n/* harmony import */ var _Layer_LayerElevation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Layer/LayerElevation */ \"./src/Itowns/Layer/LayerElevation.js\");\n/* harmony import */ var _Layer_VectorTileLayer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Layer/VectorTileLayer */ \"./src/Itowns/Layer/VectorTileLayer.js\");\n/* harmony import */ var _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./GlobeViewExtended */ \"./src/Itowns/GlobeViewExtended.js\");\n/* harmony import */ var _CRS_CRS__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CRS/CRS */ \"./src/Itowns/CRS/CRS.js\");\n/* harmony import */ var _Common_Utils_AutoLoadConfig__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../Common/Utils/AutoLoadConfig */ \"./src/Common/Utils/AutoLoadConfig.js\");\n/* harmony import */ var geoportal_access_lib__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! geoportal-access-lib */ \"./node_modules/geoportal-access-lib/src/Gp.js\");\n/* harmony import */ var _Common_Utils_LayerUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Common/Utils/LayerUtils */ \"./src/Common/Utils/LayerUtils.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LayerUtils\", function() { return _Common_Utils_LayerUtils__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; });\n\n/* harmony import */ var _Common_Utils_ProxyUtils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../Common/Utils/ProxyUtils */ \"./src/Common/Utils/ProxyUtils.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ProxyUtils\", function() { return _Common_Utils_ProxyUtils__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; });\n\n/* harmony import */ var _Common_Utils_ColorUtils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../Common/Utils/ColorUtils */ \"./src/Common/Utils/ColorUtils.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ColorUtils\", function() { return _Common_Utils_ColorUtils__WEBPACK_IMPORTED_MODULE_19__[\"default\"]; });\n\n/* harmony import */ var _Common_Utils_MathUtils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../Common/Utils/MathUtils */ \"./src/Common/Utils/MathUtils.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MathUtils\", function() { return _Common_Utils_MathUtils__WEBPACK_IMPORTED_MODULE_20__[\"default\"]; });\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n* Global variable Gp.\n*\n* @module Gp\n* @alias Gp\n* @desc\n*\n* This is the global variable that is exposed in the browser environment.\n* Content is composed of constructor, functions and properties...\n*\n* > Config:  (...)\n*\n* > ColorUtils: (...)\n* > LayerUtils: (...)\n* > MathUtils: (...)\n* > ProxyUtils: (...)\n*\n* > itownsExtended: (...)\n*\n* > itownsExtVersion: \"YYYY-MM-DD\"\n* > itownsExtVersion: \"X.X.X\"\n*\n* > Error: (...)\n* > Helper: (...)\n* > Protocols: (...)\n* > Services: (...)\n* > servicesDate: \"YYYY-MM-DD\"\n* > servicesVersion: \"X.X.X\"\n*\n* The following variables are aslo global :\n*   - proj4,\n*   - itowns\n*/\n // CSS communes aux extensions !\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // Autoload...\n\n // export des services\n\n // reconstruction des ns\n\nvar Services = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_16__[\"default\"].Services;\nvar Error = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_16__[\"default\"].Error;\nvar Helper = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_16__[\"default\"].Helper;\nvar Protocols = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_16__[\"default\"].Protocols;\nvar servicesDate = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_16__[\"default\"].servicesDate;\nvar servicesVersion = geoportal_access_lib__WEBPACK_IMPORTED_MODULE_16__[\"default\"].servicesVersion;\n // Adds the extensions properties in the namespace\n\n\n\n\n\n\nfunction deepCopy(source, target) {\n  // Implementing Tail Call Elimination\n  function tce(source, target) {\n    for (var prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        if (!target.hasOwnProperty(prop)) {\n          target[prop] = source[prop];\n        } else if (_typeof(source[prop]) === \"object\") {\n          tce(source[prop], target[prop]);\n        }\n      }\n    }\n  }\n\n  return tce(source, target);\n} // Adds extensions properties in the namespace\n\n/** Version */\n\n\nvar itownsExtVersion = _package_json__WEBPACK_IMPORTED_MODULE_0__.itownsExtVersion;\n/** Publication date */\n\nvar itownsExtDate = _package_json__WEBPACK_IMPORTED_MODULE_0__.date; // creation of the namespace for the itowns extensions\n\nvar Itowns = {};\nItowns.control = {};\nItowns.control.MousePosition = _Controls_MousePosition__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nItowns.control.LayerSwitcher = _Controls_LayerSwitcher__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nItowns.control.BoostRelief = _Controls_BoostRelief__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\nItowns.control.Attributions = _Controls_Attributions__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nItowns.control.Scale = _Controls_Scale__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\nItowns.control.MiniGlobe = _Controls_MiniGlobe__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\nItowns.layer = {};\nItowns.layer.GeoportalWMTS = _Layer_LayerWMTS__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\nItowns.layer.GeoportalWMS = _Layer_LayerWMS__WEBPACK_IMPORTED_MODULE_10__[\"default\"];\nItowns.layer.GeoportalElevation = _Layer_LayerElevation__WEBPACK_IMPORTED_MODULE_11__[\"default\"];\nItowns.layer.VectorTileLayer = _Layer_VectorTileLayer__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\nItowns.CRS = _CRS_CRS__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\nItowns.GlobeViewExtended = _GlobeViewExtended__WEBPACK_IMPORTED_MODULE_13__[\"default\"];\n // Expose extensions extended into itowns\n\nif (window.itowns) {\n  // on fusionne les fonctionnalités o\n  deepCopy(Itowns, window.itowns);\n  deepCopy(window.itowns, Itowns);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC8uL3NyYy9JdG93bnMvaW5kZXguanM/NGYwYSJdLCJuYW1lcyI6WyJTZXJ2aWNlcyIsIkdwIiwiRXJyb3IiLCJIZWxwZXIiLCJQcm90b2NvbHMiLCJzZXJ2aWNlc0RhdGUiLCJzZXJ2aWNlc1ZlcnNpb24iLCJkZWVwQ29weSIsInNvdXJjZSIsInRhcmdldCIsInRjZSIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIml0b3duc0V4dFZlcnNpb24iLCJQa2ciLCJpdG93bnNFeHREYXRlIiwiZGF0ZSIsIkl0b3ducyIsImNvbnRyb2wiLCJNb3VzZVBvc2l0aW9uIiwiTGF5ZXJTd2l0Y2hlciIsIkJvb3N0UmVsaWVmIiwiQXR0cmlidXRpb25zIiwiU2NhbGUiLCJNaW5pR2xvYmUiLCJsYXllciIsIkdlb3BvcnRhbFdNVFMiLCJHZW9wb3J0YWxXTVMiLCJHZW9wb3J0YWxFbGV2YXRpb24iLCJWZWN0b3JUaWxlTGF5ZXIiLCJDUlMiLCJHbG9iZVZpZXdFeHRlbmRlZCIsIndpbmRvdyIsIml0b3ducyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW9DQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtDQUlBOztDQUdBOztDQUdBOztBQUNBLElBQUlBLFFBQVEsR0FBR0MsNkRBQUUsQ0FBQ0QsUUFBbEI7QUFDQSxJQUFJRSxLQUFLLEdBQUdELDZEQUFFLENBQUNDLEtBQWY7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLDZEQUFFLENBQUNFLE1BQWhCO0FBQ0EsSUFBSUMsU0FBUyxHQUFHSCw2REFBRSxDQUFDRyxTQUFuQjtBQUNBLElBQUlDLFlBQVksR0FBR0osNkRBQUUsQ0FBQ0ksWUFBdEI7QUFDQSxJQUFJQyxlQUFlLEdBQUdMLDZEQUFFLENBQUNLLGVBQXpCO0NBNkJBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNDLFFBQVQsQ0FBbUJDLE1BQW5CLEVBQTJCQyxNQUEzQixFQUFtQztBQUMvQjtBQUNBLFdBQVNDLEdBQVQsQ0FBY0YsTUFBZCxFQUFzQkMsTUFBdEIsRUFBOEI7QUFDMUIsU0FBSyxJQUFJRSxJQUFULElBQWlCSCxNQUFqQixFQUF5QjtBQUNyQixVQUFJQSxNQUFNLENBQUNJLGNBQVAsQ0FBc0JELElBQXRCLENBQUosRUFBaUM7QUFDN0IsWUFBSSxDQUFDRixNQUFNLENBQUNHLGNBQVAsQ0FBc0JELElBQXRCLENBQUwsRUFBa0M7QUFDOUJGLGdCQUFNLENBQUNFLElBQUQsQ0FBTixHQUFlSCxNQUFNLENBQUNHLElBQUQsQ0FBckI7QUFDSCxTQUZELE1BRU8sSUFBSSxRQUFPSCxNQUFNLENBQUNHLElBQUQsQ0FBYixNQUF3QixRQUE1QixFQUFzQztBQUN6Q0QsYUFBRyxDQUFDRixNQUFNLENBQUNHLElBQUQsQ0FBUCxFQUFlRixNQUFNLENBQUNFLElBQUQsQ0FBckIsQ0FBSDtBQUNIO0FBQ0o7QUFDSjtBQUNKOztBQUNELFNBQU9ELEdBQUcsQ0FBQ0YsTUFBRCxFQUFTQyxNQUFULENBQVY7QUFDSCxDLENBRUQ7O0FBQ0E7OztBQUNPLElBQU1JLGdCQUFnQixHQUFHQywwQ0FBRyxDQUFDRCxnQkFBN0I7QUFDUDs7QUFDTyxJQUFNRSxhQUFhLEdBQUdELDBDQUFHLENBQUNFLElBQTFCLEMsQ0FFUDs7QUFDQSxJQUFJQyxNQUFNLEdBQUcsRUFBYjtBQUNBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsRUFBakI7QUFDQUQsTUFBTSxDQUFDQyxPQUFQLENBQWVDLGFBQWYsR0FBK0JBLCtEQUEvQjtBQUNBRixNQUFNLENBQUNDLE9BQVAsQ0FBZUUsYUFBZixHQUErQkEsK0RBQS9CO0FBQ0FILE1BQU0sQ0FBQ0MsT0FBUCxDQUFlRyxXQUFmLEdBQTZCQSw2REFBN0I7QUFDQUosTUFBTSxDQUFDQyxPQUFQLENBQWVJLFlBQWYsR0FBOEJBLDhEQUE5QjtBQUNBTCxNQUFNLENBQUNDLE9BQVAsQ0FBZUssS0FBZixHQUF1QkEsdURBQXZCO0FBQ0FOLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlTSxTQUFmLEdBQTJCQSwyREFBM0I7QUFDQVAsTUFBTSxDQUFDUSxLQUFQLEdBQWUsRUFBZjtBQUNBUixNQUFNLENBQUNRLEtBQVAsQ0FBYUMsYUFBYixHQUE2QkEsd0RBQTdCO0FBQ0FULE1BQU0sQ0FBQ1EsS0FBUCxDQUFhRSxZQUFiLEdBQTRCQSx3REFBNUI7QUFDQVYsTUFBTSxDQUFDUSxLQUFQLENBQWFHLGtCQUFiLEdBQWtDQSw4REFBbEM7QUFDQVgsTUFBTSxDQUFDUSxLQUFQLENBQWFJLGVBQWIsR0FBK0JBLCtEQUEvQjtBQUNBWixNQUFNLENBQUNhLEdBQVAsR0FBYUEsaURBQWI7QUFDQWIsTUFBTSxDQUFDYyxpQkFBUCxHQUEyQkEsMkRBQTNCO0NBT0E7O0FBQ0EsSUFBSUMsTUFBTSxDQUFDQyxNQUFYLEVBQW1CO0FBQ2Y7QUFDQTFCLFVBQVEsQ0FBQ1UsTUFBRCxFQUFTZSxNQUFNLENBQUNDLE1BQWhCLENBQVI7QUFDQTFCLFVBQVEsQ0FBQ3lCLE1BQU0sQ0FBQ0MsTUFBUixFQUFnQmhCLE1BQWhCLENBQVI7QUFDSCIsImZpbGUiOiIuL3NyYy9JdG93bnMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogR2xvYmFsIHZhcmlhYmxlIEdwLlxuKlxuKiBAbW9kdWxlIEdwXG4qIEBhbGlhcyBHcFxuKiBAZGVzY1xuKlxuKiBUaGlzIGlzIHRoZSBnbG9iYWwgdmFyaWFibGUgdGhhdCBpcyBleHBvc2VkIGluIHRoZSBicm93c2VyIGVudmlyb25tZW50LlxuKiBDb250ZW50IGlzIGNvbXBvc2VkIG9mIGNvbnN0cnVjdG9yLCBmdW5jdGlvbnMgYW5kIHByb3BlcnRpZXMuLi5cbipcbiogPiBDb25maWc6ICAoLi4uKVxuKlxuKiA+IENvbG9yVXRpbHM6ICguLi4pXG4qID4gTGF5ZXJVdGlsczogKC4uLilcbiogPiBNYXRoVXRpbHM6ICguLi4pXG4qID4gUHJveHlVdGlsczogKC4uLilcbipcbiogPiBpdG93bnNFeHRlbmRlZDogKC4uLilcbipcbiogPiBpdG93bnNFeHRWZXJzaW9uOiBcIllZWVktTU0tRERcIlxuKiA+IGl0b3duc0V4dFZlcnNpb246IFwiWC5YLlhcIlxuKlxuKiA+IEVycm9yOiAoLi4uKVxuKiA+IEhlbHBlcjogKC4uLilcbiogPiBQcm90b2NvbHM6ICguLi4pXG4qID4gU2VydmljZXM6ICguLi4pXG4qID4gc2VydmljZXNEYXRlOiBcIllZWVktTU0tRERcIlxuKiA+IHNlcnZpY2VzVmVyc2lvbjogXCJYLlguWFwiXG4qXG4qIFRoZSBmb2xsb3dpbmcgdmFyaWFibGVzIGFyZSBhc2xvIGdsb2JhbCA6XG4qICAgLSBwcm9qNCxcbiogICAtIGl0b3duc1xuKi9cblxuaW1wb3J0IFBrZyBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbi8vIENTUyBjb21tdW5lcyBhdXggZXh0ZW5zaW9ucyAhXG5pbXBvcnQgXCIuLi9Db21tb24vU3R5bGVzXCI7XG5pbXBvcnQgXCIuL1N0eWxlc1wiO1xuXG5pbXBvcnQgTW91c2VQb3NpdGlvbiBmcm9tIFwiLi9Db250cm9scy9Nb3VzZVBvc2l0aW9uXCI7XG5pbXBvcnQgTGF5ZXJTd2l0Y2hlciBmcm9tIFwiLi9Db250cm9scy9MYXllclN3aXRjaGVyXCI7XG5pbXBvcnQgQm9vc3RSZWxpZWYgZnJvbSBcIi4vQ29udHJvbHMvQm9vc3RSZWxpZWZcIjtcbmltcG9ydCBBdHRyaWJ1dGlvbnMgZnJvbSBcIi4vQ29udHJvbHMvQXR0cmlidXRpb25zXCI7XG5pbXBvcnQgU2NhbGUgZnJvbSBcIi4vQ29udHJvbHMvU2NhbGVcIjtcbmltcG9ydCBNaW5pR2xvYmUgZnJvbSBcIi4vQ29udHJvbHMvTWluaUdsb2JlXCI7XG5pbXBvcnQgR2VvcG9ydGFsV01UUyBmcm9tIFwiLi9MYXllci9MYXllcldNVFNcIjtcbmltcG9ydCBHZW9wb3J0YWxXTVMgZnJvbSBcIi4vTGF5ZXIvTGF5ZXJXTVNcIjtcbmltcG9ydCBHZW9wb3J0YWxFbGV2YXRpb24gZnJvbSBcIi4vTGF5ZXIvTGF5ZXJFbGV2YXRpb25cIjtcbmltcG9ydCBWZWN0b3JUaWxlTGF5ZXIgZnJvbSBcIi4vTGF5ZXIvVmVjdG9yVGlsZUxheWVyXCI7XG5pbXBvcnQgR2xvYmVWaWV3RXh0ZW5kZWQgZnJvbSBcIi4vR2xvYmVWaWV3RXh0ZW5kZWRcIjtcblxuaW1wb3J0IENSUyBmcm9tIFwiLi9DUlMvQ1JTXCI7XG5cbi8vIEF1dG9sb2FkLi4uXG5pbXBvcnQgXCIuLi9Db21tb24vVXRpbHMvQXV0b0xvYWRDb25maWdcIjtcblxuLy8gZXhwb3J0IGRlcyBzZXJ2aWNlc1xuaW1wb3J0IEdwIGZyb20gXCJnZW9wb3J0YWwtYWNjZXNzLWxpYlwiO1xuXG4vLyByZWNvbnN0cnVjdGlvbiBkZXMgbnNcbnZhciBTZXJ2aWNlcyA9IEdwLlNlcnZpY2VzO1xudmFyIEVycm9yID0gR3AuRXJyb3I7XG52YXIgSGVscGVyID0gR3AuSGVscGVyO1xudmFyIFByb3RvY29scyA9IEdwLlByb3RvY29scztcbnZhciBzZXJ2aWNlc0RhdGUgPSBHcC5zZXJ2aWNlc0RhdGU7XG52YXIgc2VydmljZXNWZXJzaW9uID0gR3Auc2VydmljZXNWZXJzaW9uO1xuXG5leHBvcnQge1xuICAgIC8qKiBTZXJ2aWNlc1xuICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2lnbmYuZ2l0aHViLmlvL2dlb3BvcnRhbC1hY2Nlc3MtbGliL2N1cnJlbnQvanNkb2MvbW9kdWxlLVNlcnZpY2VzLmh0bWx8Z2VvcG9ydGFsLWFjY2Vzcy1saWJ9XG4gICAgKi9cbiAgICBTZXJ2aWNlcyxcbiAgICAvKiogRXJyb3JcbiAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9pZ25mLmdpdGh1Yi5pby9nZW9wb3J0YWwtYWNjZXNzLWxpYi9jdXJyZW50L2pzZG9jL0dwLkVycm9yLmh0bWx8Z2VvcG9ydGFsLWFjY2Vzcy1saWJ9XG4gICAgKi9cbiAgICBFcnJvcixcbiAgICAvKiogSGVscGVyXG4gICAgKiBAc2VlIHtAbGluayBodHRwOi8vaWduZi5naXRodWIuaW8vZ2VvcG9ydGFsLWFjY2Vzcy1saWIvY3VycmVudC9qc2RvYy9tb2R1bGUtSGVscGVyLmh0bWx8Z2VvcG9ydGFsLWFjY2Vzcy1saWJ9XG4gICAgKi9cbiAgICBIZWxwZXIsXG4gICAgLyoqIFByb3RvY29sc1xuICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2lnbmYuZ2l0aHViLmlvL2dlb3BvcnRhbC1hY2Nlc3MtbGliL2N1cnJlbnQvanNkb2MvbW9kdWxlLVhIUi5odG1sfGdlb3BvcnRhbC1hY2Nlc3MtbGlifVxuICAgICovXG4gICAgUHJvdG9jb2xzLFxuICAgIC8qKiBzZXJ2aWNlc0RhdGVcbiAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9pZ25mLmdpdGh1Yi5pby9nZW9wb3J0YWwtYWNjZXNzLWxpYi9jdXJyZW50L2pzZG9jL21vZHVsZS1HcC5odG1sfGdlb3BvcnRhbC1hY2Nlc3MtbGlifVxuICAgICovXG4gICAgc2VydmljZXNEYXRlLFxuICAgIC8qKiBzZXJ2aWNlc1ZlcnNpb25cbiAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9pZ25mLmdpdGh1Yi5pby9nZW9wb3J0YWwtYWNjZXNzLWxpYi9jdXJyZW50L2pzZG9jL21vZHVsZS1HcC5odG1sfGdlb3BvcnRhbC1hY2Nlc3MtbGlifVxuICAgICovXG4gICAgc2VydmljZXNWZXJzaW9uXG59O1xuXG4vLyBBZGRzIHRoZSBleHRlbnNpb25zIHByb3BlcnRpZXMgaW4gdGhlIG5hbWVzcGFjZVxuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXllclV0aWxzIH0gZnJvbSBcIi4uL0NvbW1vbi9VdGlscy9MYXllclV0aWxzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFByb3h5VXRpbHMgfSBmcm9tIFwiLi4vQ29tbW9uL1V0aWxzL1Byb3h5VXRpbHNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29sb3JVdGlscyB9IGZyb20gXCIuLi9Db21tb24vVXRpbHMvQ29sb3JVdGlsc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXRoVXRpbHMgfSBmcm9tIFwiLi4vQ29tbW9uL1V0aWxzL01hdGhVdGlsc1wiO1xuXG5mdW5jdGlvbiBkZWVwQ29weSAoc291cmNlLCB0YXJnZXQpIHtcbiAgICAvLyBJbXBsZW1lbnRpbmcgVGFpbCBDYWxsIEVsaW1pbmF0aW9uXG4gICAgZnVuY3Rpb24gdGNlIChzb3VyY2UsIHRhcmdldCkge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0Lmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2VbcHJvcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGNlKHNvdXJjZVtwcm9wXSwgdGFyZ2V0W3Byb3BdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRjZShzb3VyY2UsIHRhcmdldCk7XG59XG5cbi8vIEFkZHMgZXh0ZW5zaW9ucyBwcm9wZXJ0aWVzIGluIHRoZSBuYW1lc3BhY2Vcbi8qKiBWZXJzaW9uICovXG5leHBvcnQgY29uc3QgaXRvd25zRXh0VmVyc2lvbiA9IFBrZy5pdG93bnNFeHRWZXJzaW9uO1xuLyoqIFB1YmxpY2F0aW9uIGRhdGUgKi9cbmV4cG9ydCBjb25zdCBpdG93bnNFeHREYXRlID0gUGtnLmRhdGU7XG5cbi8vIGNyZWF0aW9uIG9mIHRoZSBuYW1lc3BhY2UgZm9yIHRoZSBpdG93bnMgZXh0ZW5zaW9uc1xudmFyIEl0b3ducyA9IHt9O1xuSXRvd25zLmNvbnRyb2wgPSB7fTtcbkl0b3ducy5jb250cm9sLk1vdXNlUG9zaXRpb24gPSBNb3VzZVBvc2l0aW9uO1xuSXRvd25zLmNvbnRyb2wuTGF5ZXJTd2l0Y2hlciA9IExheWVyU3dpdGNoZXI7XG5JdG93bnMuY29udHJvbC5Cb29zdFJlbGllZiA9IEJvb3N0UmVsaWVmO1xuSXRvd25zLmNvbnRyb2wuQXR0cmlidXRpb25zID0gQXR0cmlidXRpb25zO1xuSXRvd25zLmNvbnRyb2wuU2NhbGUgPSBTY2FsZTtcbkl0b3ducy5jb250cm9sLk1pbmlHbG9iZSA9IE1pbmlHbG9iZTtcbkl0b3ducy5sYXllciA9IHt9O1xuSXRvd25zLmxheWVyLkdlb3BvcnRhbFdNVFMgPSBHZW9wb3J0YWxXTVRTO1xuSXRvd25zLmxheWVyLkdlb3BvcnRhbFdNUyA9IEdlb3BvcnRhbFdNUztcbkl0b3ducy5sYXllci5HZW9wb3J0YWxFbGV2YXRpb24gPSBHZW9wb3J0YWxFbGV2YXRpb247XG5JdG93bnMubGF5ZXIuVmVjdG9yVGlsZUxheWVyID0gVmVjdG9yVGlsZUxheWVyO1xuSXRvd25zLkNSUyA9IENSUztcbkl0b3ducy5HbG9iZVZpZXdFeHRlbmRlZCA9IEdsb2JlVmlld0V4dGVuZGVkO1xuXG5leHBvcnQge1xuICAgIC8qKiBFeHBvc2UgZXh0ZW5zaW9ucyBleHRlbmRlZCAqL1xuICAgIEl0b3ducyBhcyBpdG93bnNFeHRlbmRlZFxufTtcblxuLy8gRXhwb3NlIGV4dGVuc2lvbnMgZXh0ZW5kZWQgaW50byBpdG93bnNcbmlmICh3aW5kb3cuaXRvd25zKSB7XG4gICAgLy8gb24gZnVzaW9ubmUgbGVzIGZvbmN0aW9ubmFsaXTDqXMgb1xuICAgIGRlZXBDb3B5KEl0b3ducywgd2luZG93Lml0b3ducyk7XG4gICAgZGVlcENvcHkod2luZG93Lml0b3ducywgSXRvd25zKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Itowns/index.js\n");

/***/ }),

/***/ "itowns":
/*!******************************************************************************************!*\
  !*** external {"commonjs2":"itowns","commonjs":"itowns","amd":"itowns","root":"itowns"} ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_itowns__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcIml0b3duc1wiLFwiY29tbW9uanNcIjpcIml0b3duc1wiLFwiYW1kXCI6XCJpdG93bnNcIixcInJvb3RcIjpcIml0b3duc1wifT9lMzU0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Iml0b3ducy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9pdG93bnNfXzsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///itowns\n");

/***/ }),

/***/ "request":
/*!*****************************************************************************!*\
  !*** external {"commonjs2":"request","commonjs":"request","amd":"require"} ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_request__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcInJlcXVlc3RcIixcImNvbW1vbmpzXCI6XCJyZXF1ZXN0XCIsXCJhbWRcIjpcInJlcXVpcmVcIn0/ZDhjMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJyZXF1ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlcXVlc3RfXzsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///request\n");

/***/ }),

/***/ "xmldom":
/*!***************************************************************************!*\
  !*** external {"commonjs2":"xmldom","commonjs":"xmldom","amd":"require"} ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_xmldom__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HcC9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcInhtbGRvbVwiLFwiY29tbW9uanNcIjpcInhtbGRvbVwiLFwiYW1kXCI6XCJyZXF1aXJlXCJ9P2E2YmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoieG1sZG9tLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3htbGRvbV9fOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///xmldom\n");

/***/ })

/******/ });
});